function f4(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fm={exports:{}},lc={},pm={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wk;function p4(){if(Wk)return Ze;Wk=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),h=Symbol.iterator;function m($){return $===null||typeof $!="object"?null:($=h&&$[h]||$["@@iterator"],typeof $=="function"?$:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,x={};function y($,q,oe){this.props=$,this.context=q,this.refs=x,this.updater=oe||b}y.prototype.isReactComponent={},y.prototype.setState=function($,q){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,q,"setState")},y.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function w(){}w.prototype=y.prototype;function k($,q,oe){this.props=$,this.context=q,this.refs=x,this.updater=oe||b}var S=k.prototype=new w;S.constructor=k,j(S,y.prototype),S.isPureReactComponent=!0;var N=Array.isArray,A=Object.prototype.hasOwnProperty,O={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function T($,q,oe){var fe,ye={},se=null,re=null;if(q!=null)for(fe in q.ref!==void 0&&(re=q.ref),q.key!==void 0&&(se=""+q.key),q)A.call(q,fe)&&!_.hasOwnProperty(fe)&&(ye[fe]=q[fe]);var xe=arguments.length-2;if(xe===1)ye.children=oe;else if(1<xe){for(var ae=Array(xe),pe=0;pe<xe;pe++)ae[pe]=arguments[pe+2];ye.children=ae}if($&&$.defaultProps)for(fe in xe=$.defaultProps,xe)ye[fe]===void 0&&(ye[fe]=xe[fe]);return{$$typeof:e,type:$,key:se,ref:re,props:ye,_owner:O.current}}function E($,q){return{$$typeof:e,type:$.type,key:q,ref:$.ref,props:$.props,_owner:$._owner}}function D($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function M($){var q={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(oe){return q[oe]})}var F=/\/+/g;function L($,q){return typeof $=="object"&&$!==null&&$.key!=null?M(""+$.key):q.toString(36)}function V($,q,oe,fe,ye){var se=typeof $;(se==="undefined"||se==="boolean")&&($=null);var re=!1;if($===null)re=!0;else switch(se){case"string":case"number":re=!0;break;case"object":switch($.$$typeof){case e:case t:re=!0}}if(re)return re=$,ye=ye(re),$=fe===""?"."+L(re,0):fe,N(ye)?(oe="",$!=null&&(oe=$.replace(F,"$&/")+"/"),V(ye,q,oe,"",function(pe){return pe})):ye!=null&&(D(ye)&&(ye=E(ye,oe+(!ye.key||re&&re.key===ye.key?"":(""+ye.key).replace(F,"$&/")+"/")+$)),q.push(ye)),1;if(re=0,fe=fe===""?".":fe+":",N($))for(var xe=0;xe<$.length;xe++){se=$[xe];var ae=fe+L(se,xe);re+=V(se,q,oe,ae,ye)}else if(ae=m($),typeof ae=="function")for($=ae.call($),xe=0;!(se=$.next()).done;)se=se.value,ae=fe+L(se,xe++),re+=V(se,q,oe,ae,ye);else if(se==="object")throw q=String($),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return re}function H($,q,oe){if($==null)return $;var fe=[],ye=0;return V($,fe,"","",function(se){return q.call(oe,se,ye++)}),fe}function Z($){if($._status===-1){var q=$._result;q=q(),q.then(function(oe){($._status===0||$._status===-1)&&($._status=1,$._result=oe)},function(oe){($._status===0||$._status===-1)&&($._status=2,$._result=oe)}),$._status===-1&&($._status=0,$._result=q)}if($._status===1)return $._result.default;throw $._result}var Y={current:null},U={transition:null},B={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:U,ReactCurrentOwner:O};function W(){throw Error("act(...) is not supported in production builds of React.")}return Ze.Children={map:H,forEach:function($,q,oe){H($,function(){q.apply(this,arguments)},oe)},count:function($){var q=0;return H($,function(){q++}),q},toArray:function($){return H($,function(q){return q})||[]},only:function($){if(!D($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ze.Component=y,Ze.Fragment=r,Ze.Profiler=i,Ze.PureComponent=k,Ze.StrictMode=n,Ze.Suspense=d,Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,Ze.act=W,Ze.cloneElement=function($,q,oe){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var fe=j({},$.props),ye=$.key,se=$.ref,re=$._owner;if(q!=null){if(q.ref!==void 0&&(se=q.ref,re=O.current),q.key!==void 0&&(ye=""+q.key),$.type&&$.type.defaultProps)var xe=$.type.defaultProps;for(ae in q)A.call(q,ae)&&!_.hasOwnProperty(ae)&&(fe[ae]=q[ae]===void 0&&xe!==void 0?xe[ae]:q[ae])}var ae=arguments.length-2;if(ae===1)fe.children=oe;else if(1<ae){xe=Array(ae);for(var pe=0;pe<ae;pe++)xe[pe]=arguments[pe+2];fe.children=xe}return{$$typeof:e,type:$.type,key:ye,ref:se,props:fe,_owner:re}},Ze.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:o,_context:$},$.Consumer=$},Ze.createElement=T,Ze.createFactory=function($){var q=T.bind(null,$);return q.type=$,q},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function($){return{$$typeof:u,render:$}},Ze.isValidElement=D,Ze.lazy=function($){return{$$typeof:v,_payload:{_status:-1,_result:$},_init:Z}},Ze.memo=function($,q){return{$$typeof:f,type:$,compare:q===void 0?null:q}},Ze.startTransition=function($){var q=U.transition;U.transition={};try{$()}finally{U.transition=q}},Ze.unstable_act=W,Ze.useCallback=function($,q){return Y.current.useCallback($,q)},Ze.useContext=function($){return Y.current.useContext($)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function($){return Y.current.useDeferredValue($)},Ze.useEffect=function($,q){return Y.current.useEffect($,q)},Ze.useId=function(){return Y.current.useId()},Ze.useImperativeHandle=function($,q,oe){return Y.current.useImperativeHandle($,q,oe)},Ze.useInsertionEffect=function($,q){return Y.current.useInsertionEffect($,q)},Ze.useLayoutEffect=function($,q){return Y.current.useLayoutEffect($,q)},Ze.useMemo=function($,q){return Y.current.useMemo($,q)},Ze.useReducer=function($,q,oe){return Y.current.useReducer($,q,oe)},Ze.useRef=function($){return Y.current.useRef($)},Ze.useState=function($){return Y.current.useState($)},Ze.useSyncExternalStore=function($,q,oe){return Y.current.useSyncExternalStore($,q,oe)},Ze.useTransition=function(){return Y.current.useTransition()},Ze.version="18.3.1",Ze}var $k;function IS(){return $k||($k=1,pm.exports=p4()),pm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uk;function h4(){if(Uk)return lc;Uk=1;var e=IS(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var v,h={},m=null,b=null;f!==void 0&&(m=""+f),d.key!==void 0&&(m=""+d.key),d.ref!==void 0&&(b=d.ref);for(v in d)n.call(d,v)&&!o.hasOwnProperty(v)&&(h[v]=d[v]);if(u&&u.defaultProps)for(v in d=u.defaultProps,d)h[v]===void 0&&(h[v]=d[v]);return{$$typeof:t,type:u,key:m,ref:b,props:h,_owner:i.current}}return lc.Fragment=r,lc.jsx=l,lc.jsxs=l,lc}var Hk;function v4(){return Hk||(Hk=1,fm.exports=h4()),fm.exports}var a=v4(),Bd={},hm={exports:{}},Vr={},vm={exports:{}},mm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kk;function m4(){return Kk||(Kk=1,(function(e){function t(U,B){var W=U.length;U.push(B);e:for(;0<W;){var $=W-1>>>1,q=U[$];if(0<i(q,B))U[$]=B,U[W]=q,W=$;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var B=U[0],W=U.pop();if(W!==B){U[0]=W;e:for(var $=0,q=U.length,oe=q>>>1;$<oe;){var fe=2*($+1)-1,ye=U[fe],se=fe+1,re=U[se];if(0>i(ye,W))se<q&&0>i(re,ye)?(U[$]=re,U[se]=W,$=se):(U[$]=ye,U[fe]=W,$=fe);else if(se<q&&0>i(re,W))U[$]=re,U[se]=W,$=se;else break e}}return B}function i(U,B){var W=U.sortIndex-B.sortIndex;return W!==0?W:U.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],v=1,h=null,m=3,b=!1,j=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(U){for(var B=r(f);B!==null;){if(B.callback===null)n(f);else if(B.startTime<=U)n(f),B.sortIndex=B.expirationTime,t(d,B);else break;B=r(f)}}function N(U){if(x=!1,S(U),!j)if(r(d)!==null)j=!0,Z(A);else{var B=r(f);B!==null&&Y(N,B.startTime-U)}}function A(U,B){j=!1,x&&(x=!1,w(T),T=-1),b=!0;var W=m;try{for(S(B),h=r(d);h!==null&&(!(h.expirationTime>B)||U&&!M());){var $=h.callback;if(typeof $=="function"){h.callback=null,m=h.priorityLevel;var q=$(h.expirationTime<=B);B=e.unstable_now(),typeof q=="function"?h.callback=q:h===r(d)&&n(d),S(B)}else n(d);h=r(d)}if(h!==null)var oe=!0;else{var fe=r(f);fe!==null&&Y(N,fe.startTime-B),oe=!1}return oe}finally{h=null,m=W,b=!1}}var O=!1,_=null,T=-1,E=5,D=-1;function M(){return!(e.unstable_now()-D<E)}function F(){if(_!==null){var U=e.unstable_now();D=U;var B=!0;try{B=_(!0,U)}finally{B?L():(O=!1,_=null)}}else O=!1}var L;if(typeof k=="function")L=function(){k(F)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,H=V.port2;V.port1.onmessage=F,L=function(){H.postMessage(null)}}else L=function(){y(F,0)};function Z(U){_=U,O||(O=!0,L())}function Y(U,B){T=y(function(){U(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){j||b||(j=!0,Z(A))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(U){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var W=m;m=B;try{return U()}finally{m=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,B){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var W=m;m=U;try{return B()}finally{m=W}},e.unstable_scheduleCallback=function(U,B,W){var $=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?$+W:$):W=$,U){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=W+q,U={id:v++,callback:B,priorityLevel:U,startTime:W,expirationTime:q,sortIndex:-1},W>$?(U.sortIndex=W,t(f,U),r(d)===null&&U===r(f)&&(x?(w(T),T=-1):x=!0,Y(N,W-$))):(U.sortIndex=q,t(d,U),j||b||(j=!0,Z(A))),U},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(U){var B=m;return function(){var W=m;m=B;try{return U.apply(this,arguments)}finally{m=W}}}})(mm)),mm}var Gk;function g4(){return Gk||(Gk=1,vm.exports=m4()),vm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vk;function y4(){if(Vk)return Vr;Vk=1;var e=IS(),t=g4();function r(s){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+s,p=1;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(s,c){l(s,c),l(s+"Capture",c)}function l(s,c){for(i[s]=c,s=0;s<c.length;s++)n.add(c[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},h={};function m(s){return d.call(h,s)?!0:d.call(v,s)?!1:f.test(s)?h[s]=!0:(v[s]=!0,!1)}function b(s,c,p,g){if(p!==null&&p.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return g?!1:p!==null?!p.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function j(s,c,p,g){if(c===null||typeof c>"u"||b(s,c,p,g))return!0;if(g)return!1;if(p!==null)switch(p.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function x(s,c,p,g,C,P,I){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=g,this.attributeNamespace=C,this.mustUseProperty=p,this.propertyName=s,this.type=c,this.sanitizeURL=P,this.removeEmptyString=I}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){y[s]=new x(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var c=s[0];y[c]=new x(c,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){y[s]=new x(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){y[s]=new x(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){y[s]=new x(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){y[s]=new x(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){y[s]=new x(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){y[s]=new x(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){y[s]=new x(s,5,!1,s.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function k(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var c=s.replace(w,k);y[c]=new x(c,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var c=s.replace(w,k);y[c]=new x(c,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var c=s.replace(w,k);y[c]=new x(c,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){y[s]=new x(s,1,!1,s.toLowerCase(),null,!1,!1)}),y.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){y[s]=new x(s,1,!1,s.toLowerCase(),null,!0,!0)});function S(s,c,p,g){var C=y.hasOwnProperty(c)?y[c]:null;(C!==null?C.type!==0:g||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(j(c,p,C,g)&&(p=null),g||C===null?m(c)&&(p===null?s.removeAttribute(c):s.setAttribute(c,""+p)):C.mustUseProperty?s[C.propertyName]=p===null?C.type===3?!1:"":p:(c=C.attributeName,g=C.attributeNamespace,p===null?s.removeAttribute(c):(C=C.type,p=C===3||C===4&&p===!0?"":""+p,g?s.setAttributeNS(g,c,p):s.setAttribute(c,p))))}var N=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),O=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),U=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var W=Object.assign,$;function q(s){if($===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);$=c&&c[1]||""}return`
`+$+s}var oe=!1;function fe(s,c){if(!s||oe)return"";oe=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ie){var g=ie}Reflect.construct(s,[],c)}else{try{c.call()}catch(ie){g=ie}s.call(c.prototype)}else{try{throw Error()}catch(ie){g=ie}s()}}catch(ie){if(ie&&g&&typeof ie.stack=="string"){for(var C=ie.stack.split(`
`),P=g.stack.split(`
`),I=C.length-1,G=P.length-1;1<=I&&0<=G&&C[I]!==P[G];)G--;for(;1<=I&&0<=G;I--,G--)if(C[I]!==P[G]){if(I!==1||G!==1)do if(I--,G--,0>G||C[I]!==P[G]){var X=`
`+C[I].replace(" at new "," at ");return s.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",s.displayName)),X}while(1<=I&&0<=G);break}}}finally{oe=!1,Error.prepareStackTrace=p}return(s=s?s.displayName||s.name:"")?q(s):""}function ye(s){switch(s.tag){case 5:return q(s.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return s=fe(s.type,!1),s;case 11:return s=fe(s.type.render,!1),s;case 1:return s=fe(s.type,!0),s;default:return""}}function se(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case O:return"Portal";case E:return"Profiler";case T:return"StrictMode";case L:return"Suspense";case V:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case D:return(s._context.displayName||"Context")+".Provider";case F:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case H:return c=s.displayName||null,c!==null?c:se(s.type)||"Memo";case Z:c=s._payload,s=s._init;try{return se(s(c))}catch{}}return null}function re(s){var c=s.type;switch(s.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=c.render,s=s.displayName||s.name||"",c.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(c);case 8:return c===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function xe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ae(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function pe(s){var c=ae(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,c),g=""+s[c];if(!s.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var C=p.get,P=p.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return C.call(this)},set:function(I){g=""+I,P.call(this,I)}}),Object.defineProperty(s,c,{enumerable:p.enumerable}),{getValue:function(){return g},setValue:function(I){g=""+I},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function Se(s){s._valueTracker||(s._valueTracker=pe(s))}function le(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var p=c.getValue(),g="";return s&&(g=ae(s)?s.checked?"true":"false":s.value),s=g,s!==p?(c.setValue(s),!0):!1}function Be(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function De(s,c){var p=c.checked;return W({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??s._wrapperState.initialChecked})}function Ye(s,c){var p=c.defaultValue==null?"":c.defaultValue,g=c.checked!=null?c.checked:c.defaultChecked;p=xe(c.value!=null?c.value:p),s._wrapperState={initialChecked:g,initialValue:p,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function tt(s,c){c=c.checked,c!=null&&S(s,"checked",c,!1)}function Qe(s,c){tt(s,c);var p=xe(c.value),g=c.type;if(p!=null)g==="number"?(p===0&&s.value===""||s.value!=p)&&(s.value=""+p):s.value!==""+p&&(s.value=""+p);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}c.hasOwnProperty("value")?lt(s,c.type,p):c.hasOwnProperty("defaultValue")&&lt(s,c.type,xe(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(s.defaultChecked=!!c.defaultChecked)}function st(s,c,p){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var g=c.type;if(!(g!=="submit"&&g!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+s._wrapperState.initialValue,p||c===s.value||(s.value=c),s.defaultValue=c}p=s.name,p!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,p!==""&&(s.name=p)}function lt(s,c,p){(c!=="number"||Be(s.ownerDocument)!==s)&&(p==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+p&&(s.defaultValue=""+p))}var At=Array.isArray;function Kt(s,c,p,g){if(s=s.options,c){c={};for(var C=0;C<p.length;C++)c["$"+p[C]]=!0;for(p=0;p<s.length;p++)C=c.hasOwnProperty("$"+s[p].value),s[p].selected!==C&&(s[p].selected=C),C&&g&&(s[p].defaultSelected=!0)}else{for(p=""+xe(p),c=null,C=0;C<s.length;C++){if(s[C].value===p){s[C].selected=!0,g&&(s[C].defaultSelected=!0);return}c!==null||s[C].disabled||(c=s[C])}c!==null&&(c.selected=!0)}}function cr(s,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return W({},c,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function He(s,c){var p=c.value;if(p==null){if(p=c.children,c=c.defaultValue,p!=null){if(c!=null)throw Error(r(92));if(At(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),p=c}s._wrapperState={initialValue:xe(p)}}function Ve(s,c){var p=xe(c.value),g=xe(c.defaultValue);p!=null&&(p=""+p,p!==s.value&&(s.value=p),c.defaultValue==null&&s.defaultValue!==p&&(s.defaultValue=p)),g!=null&&(s.defaultValue=""+g)}function St(s){var c=s.textContent;c===s._wrapperState.initialValue&&c!==""&&c!==null&&(s.value=c)}function ct(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rt(s,c){return s==null||s==="http://www.w3.org/1999/xhtml"?ct(c):s==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var mr,hn=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,p,g,C){MSApp.execUnsafeLocalFunction(function(){return s(c,p,g,C)})}:s})(function(s,c){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=c;else{for(mr=mr||document.createElement("div"),mr.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=mr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;c.firstChild;)s.appendChild(c.firstChild)}});function br(s,c){if(c){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=c;return}}s.textContent=c}var Fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vn=["Webkit","ms","Moz","O"];Object.keys(Fr).forEach(function(s){vn.forEach(function(c){c=c+s.charAt(0).toUpperCase()+s.substring(1),Fr[c]=Fr[s]})});function _r(s,c,p){return c==null||typeof c=="boolean"||c===""?"":p||typeof c!="number"||c===0||Fr.hasOwnProperty(s)&&Fr[s]?(""+c).trim():c+"px"}function Yr(s,c){s=s.style;for(var p in c)if(c.hasOwnProperty(p)){var g=p.indexOf("--")===0,C=_r(p,c[p],g);p==="float"&&(p="cssFloat"),g?s.setProperty(p,C):s[p]=C}}var Wi=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ga(s,c){if(c){if(Wi[s]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function ee(s,c){if(s.indexOf("-")===-1)return typeof c.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function ue(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var R=null,Q=null,de=null;function Re(s){if(s=Vl(s)){if(typeof R!="function")throw Error(r(280));var c=s.stateNode;c&&(c=Ju(c),R(s.stateNode,s.type,c))}}function ut(s){Q?de?de.push(s):de=[s]:Q=s}function Tt(){if(Q){var s=Q,c=de;if(de=Q=null,Re(s),c)for(s=0;s<c.length;s++)Re(c[s])}}function Yt(s,c){return s(c)}function Yn(){}var Wr=!1;function et(s,c,p){if(Wr)return s(c,p);Wr=!0;try{return Yt(s,c,p)}finally{Wr=!1,(Q!==null||de!==null)&&(Yn(),Tt())}}function Ge(s,c){var p=s.stateNode;if(p===null)return null;var g=Ju(p);if(g===null)return null;p=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var Qr=!1;if(u)try{var Or={};Object.defineProperty(Or,"passive",{get:function(){Qr=!0}}),window.addEventListener("test",Or,Or),window.removeEventListener("test",Or,Or)}catch{Qr=!1}function y5(s,c,p,g,C,P,I,G,X){var ie=Array.prototype.slice.call(arguments,3);try{c.apply(p,ie)}catch(ve){this.onError(ve)}}var Nl=!1,Ou=null,Eu=!1,Oh=null,x5={onError:function(s){Nl=!0,Ou=s}};function b5(s,c,p,g,C,P,I,G,X){Nl=!1,Ou=null,y5.apply(x5,arguments)}function S5(s,c,p,g,C,P,I,G,X){if(b5.apply(this,arguments),Nl){if(Nl){var ie=Ou;Nl=!1,Ou=null}else throw Error(r(198));Eu||(Eu=!0,Oh=ie)}}function $i(s){var c=s,p=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(p=c.return),s=c.return;while(s)}return c.tag===3?p:null}function uw(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function dw(s){if($i(s)!==s)throw Error(r(188))}function w5(s){var c=s.alternate;if(!c){if(c=$i(s),c===null)throw Error(r(188));return c!==s?null:s}for(var p=s,g=c;;){var C=p.return;if(C===null)break;var P=C.alternate;if(P===null){if(g=C.return,g!==null){p=g;continue}break}if(C.child===P.child){for(P=C.child;P;){if(P===p)return dw(C),s;if(P===g)return dw(C),c;P=P.sibling}throw Error(r(188))}if(p.return!==g.return)p=C,g=P;else{for(var I=!1,G=C.child;G;){if(G===p){I=!0,p=C,g=P;break}if(G===g){I=!0,g=C,p=P;break}G=G.sibling}if(!I){for(G=P.child;G;){if(G===p){I=!0,p=P,g=C;break}if(G===g){I=!0,g=P,p=C;break}G=G.sibling}if(!I)throw Error(r(189))}}if(p.alternate!==g)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?s:c}function fw(s){return s=w5(s),s!==null?pw(s):null}function pw(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var c=pw(s);if(c!==null)return c;s=s.sibling}return null}var hw=t.unstable_scheduleCallback,vw=t.unstable_cancelCallback,j5=t.unstable_shouldYield,k5=t.unstable_requestPaint,Gt=t.unstable_now,C5=t.unstable_getCurrentPriorityLevel,Eh=t.unstable_ImmediatePriority,mw=t.unstable_UserBlockingPriority,Tu=t.unstable_NormalPriority,z5=t.unstable_LowPriority,gw=t.unstable_IdlePriority,Du=null,Qn=null;function A5(s){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(Du,s,void 0,(s.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:_5,N5=Math.log,P5=Math.LN2;function _5(s){return s>>>=0,s===0?32:31-(N5(s)/P5|0)|0}var Ru=64,Iu=4194304;function Pl(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Mu(s,c){var p=s.pendingLanes;if(p===0)return 0;var g=0,C=s.suspendedLanes,P=s.pingedLanes,I=p&268435455;if(I!==0){var G=I&~C;G!==0?g=Pl(G):(P&=I,P!==0&&(g=Pl(P)))}else I=p&~C,I!==0?g=Pl(I):P!==0&&(g=Pl(P));if(g===0)return 0;if(c!==0&&c!==g&&(c&C)===0&&(C=g&-g,P=c&-c,C>=P||C===16&&(P&4194240)!==0))return c;if((g&4)!==0&&(g|=p&16),c=s.entangledLanes,c!==0)for(s=s.entanglements,c&=g;0<c;)p=31-On(c),C=1<<p,g|=s[p],c&=~C;return g}function O5(s,c){switch(s){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E5(s,c){for(var p=s.suspendedLanes,g=s.pingedLanes,C=s.expirationTimes,P=s.pendingLanes;0<P;){var I=31-On(P),G=1<<I,X=C[I];X===-1?((G&p)===0||(G&g)!==0)&&(C[I]=O5(G,c)):X<=c&&(s.expiredLanes|=G),P&=~G}}function Th(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function yw(){var s=Ru;return Ru<<=1,(Ru&4194240)===0&&(Ru=64),s}function Dh(s){for(var c=[],p=0;31>p;p++)c.push(s);return c}function _l(s,c,p){s.pendingLanes|=c,c!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,c=31-On(c),s[c]=p}function T5(s,c){var p=s.pendingLanes&~c;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=c,s.mutableReadLanes&=c,s.entangledLanes&=c,c=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<p;){var C=31-On(p),P=1<<C;c[C]=0,g[C]=-1,s[C]=-1,p&=~P}}function Rh(s,c){var p=s.entangledLanes|=c;for(s=s.entanglements;p;){var g=31-On(p),C=1<<g;C&c|s[g]&c&&(s[g]|=c),p&=~C}}var ht=0;function xw(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var bw,Ih,Sw,ww,jw,Mh=!1,Lu=[],Xa=null,Ya=null,Qa=null,Ol=new Map,El=new Map,Ja=[],D5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kw(s,c){switch(s){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Ya=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":Ol.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(c.pointerId)}}function Tl(s,c,p,g,C,P){return s===null||s.nativeEvent!==P?(s={blockedOn:c,domEventName:p,eventSystemFlags:g,nativeEvent:P,targetContainers:[C]},c!==null&&(c=Vl(c),c!==null&&Ih(c)),s):(s.eventSystemFlags|=g,c=s.targetContainers,C!==null&&c.indexOf(C)===-1&&c.push(C),s)}function R5(s,c,p,g,C){switch(c){case"focusin":return Xa=Tl(Xa,s,c,p,g,C),!0;case"dragenter":return Ya=Tl(Ya,s,c,p,g,C),!0;case"mouseover":return Qa=Tl(Qa,s,c,p,g,C),!0;case"pointerover":var P=C.pointerId;return Ol.set(P,Tl(Ol.get(P)||null,s,c,p,g,C)),!0;case"gotpointercapture":return P=C.pointerId,El.set(P,Tl(El.get(P)||null,s,c,p,g,C)),!0}return!1}function Cw(s){var c=Ui(s.target);if(c!==null){var p=$i(c);if(p!==null){if(c=p.tag,c===13){if(c=uw(p),c!==null){s.blockedOn=c,jw(s.priority,function(){Sw(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Bu(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var p=Bh(s.domEventName,s.eventSystemFlags,c[0],s.nativeEvent);if(p===null){p=s.nativeEvent;var g=new p.constructor(p.type,p);we=g,p.target.dispatchEvent(g),we=null}else return c=Vl(p),c!==null&&Ih(c),s.blockedOn=p,!1;c.shift()}return!0}function zw(s,c,p){Bu(s)&&p.delete(c)}function I5(){Mh=!1,Xa!==null&&Bu(Xa)&&(Xa=null),Ya!==null&&Bu(Ya)&&(Ya=null),Qa!==null&&Bu(Qa)&&(Qa=null),Ol.forEach(zw),El.forEach(zw)}function Dl(s,c){s.blockedOn===c&&(s.blockedOn=null,Mh||(Mh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,I5)))}function Rl(s){function c(C){return Dl(C,s)}if(0<Lu.length){Dl(Lu[0],s);for(var p=1;p<Lu.length;p++){var g=Lu[p];g.blockedOn===s&&(g.blockedOn=null)}}for(Xa!==null&&Dl(Xa,s),Ya!==null&&Dl(Ya,s),Qa!==null&&Dl(Qa,s),Ol.forEach(c),El.forEach(c),p=0;p<Ja.length;p++)g=Ja[p],g.blockedOn===s&&(g.blockedOn=null);for(;0<Ja.length&&(p=Ja[0],p.blockedOn===null);)Cw(p),p.blockedOn===null&&Ja.shift()}var Io=N.ReactCurrentBatchConfig,Fu=!0;function M5(s,c,p,g){var C=ht,P=Io.transition;Io.transition=null;try{ht=1,Lh(s,c,p,g)}finally{ht=C,Io.transition=P}}function L5(s,c,p,g){var C=ht,P=Io.transition;Io.transition=null;try{ht=4,Lh(s,c,p,g)}finally{ht=C,Io.transition=P}}function Lh(s,c,p,g){if(Fu){var C=Bh(s,c,p,g);if(C===null)rv(s,c,g,Wu,p),kw(s,g);else if(R5(C,s,c,p,g))g.stopPropagation();else if(kw(s,g),c&4&&-1<D5.indexOf(s)){for(;C!==null;){var P=Vl(C);if(P!==null&&bw(P),P=Bh(s,c,p,g),P===null&&rv(s,c,g,Wu,p),P===C)break;C=P}C!==null&&g.stopPropagation()}else rv(s,c,g,null,p)}}var Wu=null;function Bh(s,c,p,g){if(Wu=null,s=ue(g),s=Ui(s),s!==null)if(c=$i(s),c===null)s=null;else if(p=c.tag,p===13){if(s=uw(c),s!==null)return s;s=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null);return Wu=s,null}function Aw(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C5()){case Eh:return 1;case mw:return 4;case Tu:case z5:return 16;case gw:return 536870912;default:return 16}default:return 16}}var ei=null,Fh=null,$u=null;function Nw(){if($u)return $u;var s,c=Fh,p=c.length,g,C="value"in ei?ei.value:ei.textContent,P=C.length;for(s=0;s<p&&c[s]===C[s];s++);var I=p-s;for(g=1;g<=I&&c[p-g]===C[P-g];g++);return $u=C.slice(s,1<g?1-g:void 0)}function Uu(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function Hu(){return!0}function Pw(){return!1}function Jr(s){function c(p,g,C,P,I){this._reactName=p,this._targetInst=C,this.type=g,this.nativeEvent=P,this.target=I,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(p=s[G],this[G]=p?p(P):P[G]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?Hu:Pw,this.isPropagationStopped=Pw,this}return W(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Hu)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Hu)},persist:function(){},isPersistent:Hu}),c}var Mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wh=Jr(Mo),Il=W({},Mo,{view:0,detail:0}),B5=Jr(Il),$h,Uh,Ml,Ku=W({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ml&&(Ml&&s.type==="mousemove"?($h=s.screenX-Ml.screenX,Uh=s.screenY-Ml.screenY):Uh=$h=0,Ml=s),$h)},movementY:function(s){return"movementY"in s?s.movementY:Uh}}),_w=Jr(Ku),F5=W({},Ku,{dataTransfer:0}),W5=Jr(F5),$5=W({},Il,{relatedTarget:0}),Hh=Jr($5),U5=W({},Mo,{animationName:0,elapsedTime:0,pseudoElement:0}),H5=Jr(U5),K5=W({},Mo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),G5=Jr(K5),V5=W({},Mo,{data:0}),Ow=Jr(V5),q5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y5(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=X5[s])?!!c[s]:!1}function Kh(){return Y5}var Q5=W({},Il,{key:function(s){if(s.key){var c=q5[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Uu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Z5[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kh,charCode:function(s){return s.type==="keypress"?Uu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Uu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),J5=Jr(Q5),eM=W({},Ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ew=Jr(eM),tM=W({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kh}),rM=Jr(tM),nM=W({},Mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),aM=Jr(nM),iM=W({},Ku,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),oM=Jr(iM),sM=[9,13,27,32],Gh=u&&"CompositionEvent"in window,Ll=null;u&&"documentMode"in document&&(Ll=document.documentMode);var lM=u&&"TextEvent"in window&&!Ll,Tw=u&&(!Gh||Ll&&8<Ll&&11>=Ll),Dw=" ",Rw=!1;function Iw(s,c){switch(s){case"keyup":return sM.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Lo=!1;function cM(s,c){switch(s){case"compositionend":return Mw(c);case"keypress":return c.which!==32?null:(Rw=!0,Dw);case"textInput":return s=c.data,s===Dw&&Rw?null:s;default:return null}}function uM(s,c){if(Lo)return s==="compositionend"||!Gh&&Iw(s,c)?(s=Nw(),$u=Fh=ei=null,Lo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Tw&&c.locale!=="ko"?null:c.data;default:return null}}var dM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lw(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!dM[s.type]:c==="textarea"}function Bw(s,c,p,g){ut(g),c=Xu(c,"onChange"),0<c.length&&(p=new Wh("onChange","change",null,p,g),s.push({event:p,listeners:c}))}var Bl=null,Fl=null;function fM(s){nj(s,0)}function Gu(s){var c=Uo(s);if(le(c))return s}function pM(s,c){if(s==="change")return c}var Fw=!1;if(u){var Vh;if(u){var qh="oninput"in document;if(!qh){var Ww=document.createElement("div");Ww.setAttribute("oninput","return;"),qh=typeof Ww.oninput=="function"}Vh=qh}else Vh=!1;Fw=Vh&&(!document.documentMode||9<document.documentMode)}function $w(){Bl&&(Bl.detachEvent("onpropertychange",Uw),Fl=Bl=null)}function Uw(s){if(s.propertyName==="value"&&Gu(Fl)){var c=[];Bw(c,Fl,s,ue(s)),et(fM,c)}}function hM(s,c,p){s==="focusin"?($w(),Bl=c,Fl=p,Bl.attachEvent("onpropertychange",Uw)):s==="focusout"&&$w()}function vM(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Gu(Fl)}function mM(s,c){if(s==="click")return Gu(c)}function gM(s,c){if(s==="input"||s==="change")return Gu(c)}function yM(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var En=typeof Object.is=="function"?Object.is:yM;function Wl(s,c){if(En(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var p=Object.keys(s),g=Object.keys(c);if(p.length!==g.length)return!1;for(g=0;g<p.length;g++){var C=p[g];if(!d.call(c,C)||!En(s[C],c[C]))return!1}return!0}function Hw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Kw(s,c){var p=Hw(s);s=0;for(var g;p;){if(p.nodeType===3){if(g=s+p.textContent.length,s<=c&&g>=c)return{node:p,offset:c-s};s=g}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Hw(p)}}function Gw(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?Gw(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function Vw(){for(var s=window,c=Be();c instanceof s.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)s=c.contentWindow;else break;c=Be(s.document)}return c}function Zh(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}function xM(s){var c=Vw(),p=s.focusedElem,g=s.selectionRange;if(c!==p&&p&&p.ownerDocument&&Gw(p.ownerDocument.documentElement,p)){if(g!==null&&Zh(p)){if(c=g.start,s=g.end,s===void 0&&(s=c),"selectionStart"in p)p.selectionStart=c,p.selectionEnd=Math.min(s,p.value.length);else if(s=(c=p.ownerDocument||document)&&c.defaultView||window,s.getSelection){s=s.getSelection();var C=p.textContent.length,P=Math.min(g.start,C);g=g.end===void 0?P:Math.min(g.end,C),!s.extend&&P>g&&(C=g,g=P,P=C),C=Kw(p,P);var I=Kw(p,g);C&&I&&(s.rangeCount!==1||s.anchorNode!==C.node||s.anchorOffset!==C.offset||s.focusNode!==I.node||s.focusOffset!==I.offset)&&(c=c.createRange(),c.setStart(C.node,C.offset),s.removeAllRanges(),P>g?(s.addRange(c),s.extend(I.node,I.offset)):(c.setEnd(I.node,I.offset),s.addRange(c)))}}for(c=[],s=p;s=s.parentNode;)s.nodeType===1&&c.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<c.length;p++)s=c[p],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var bM=u&&"documentMode"in document&&11>=document.documentMode,Bo=null,Xh=null,$l=null,Yh=!1;function qw(s,c,p){var g=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Yh||Bo==null||Bo!==Be(g)||(g=Bo,"selectionStart"in g&&Zh(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),$l&&Wl($l,g)||($l=g,g=Xu(Xh,"onSelect"),0<g.length&&(c=new Wh("onSelect","select",null,c,p),s.push({event:c,listeners:g}),c.target=Bo)))}function Vu(s,c){var p={};return p[s.toLowerCase()]=c.toLowerCase(),p["Webkit"+s]="webkit"+c,p["Moz"+s]="moz"+c,p}var Fo={animationend:Vu("Animation","AnimationEnd"),animationiteration:Vu("Animation","AnimationIteration"),animationstart:Vu("Animation","AnimationStart"),transitionend:Vu("Transition","TransitionEnd")},Qh={},Zw={};u&&(Zw=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function qu(s){if(Qh[s])return Qh[s];if(!Fo[s])return s;var c=Fo[s],p;for(p in c)if(c.hasOwnProperty(p)&&p in Zw)return Qh[s]=c[p];return s}var Xw=qu("animationend"),Yw=qu("animationiteration"),Qw=qu("animationstart"),Jw=qu("transitionend"),ej=new Map,tj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ti(s,c){ej.set(s,c),o(c,[s])}for(var Jh=0;Jh<tj.length;Jh++){var ev=tj[Jh],SM=ev.toLowerCase(),wM=ev[0].toUpperCase()+ev.slice(1);ti(SM,"on"+wM)}ti(Xw,"onAnimationEnd"),ti(Yw,"onAnimationIteration"),ti(Qw,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(Jw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ul));function rj(s,c,p){var g=s.type||"unknown-event";s.currentTarget=p,S5(g,c,void 0,s),s.currentTarget=null}function nj(s,c){c=(c&4)!==0;for(var p=0;p<s.length;p++){var g=s[p],C=g.event;g=g.listeners;e:{var P=void 0;if(c)for(var I=g.length-1;0<=I;I--){var G=g[I],X=G.instance,ie=G.currentTarget;if(G=G.listener,X!==P&&C.isPropagationStopped())break e;rj(C,G,ie),P=X}else for(I=0;I<g.length;I++){if(G=g[I],X=G.instance,ie=G.currentTarget,G=G.listener,X!==P&&C.isPropagationStopped())break e;rj(C,G,ie),P=X}}}if(Eu)throw s=Oh,Eu=!1,Oh=null,s}function Nt(s,c){var p=c[lv];p===void 0&&(p=c[lv]=new Set);var g=s+"__bubble";p.has(g)||(aj(c,s,2,!1),p.add(g))}function tv(s,c,p){var g=0;c&&(g|=4),aj(p,s,g,c)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function Hl(s){if(!s[Zu]){s[Zu]=!0,n.forEach(function(p){p!=="selectionchange"&&(jM.has(p)||tv(p,!1,s),tv(p,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[Zu]||(c[Zu]=!0,tv("selectionchange",!1,c))}}function aj(s,c,p,g){switch(Aw(c)){case 1:var C=M5;break;case 4:C=L5;break;default:C=Lh}p=C.bind(null,c,p,s),C=void 0,!Qr||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(C=!0),g?C!==void 0?s.addEventListener(c,p,{capture:!0,passive:C}):s.addEventListener(c,p,!0):C!==void 0?s.addEventListener(c,p,{passive:C}):s.addEventListener(c,p,!1)}function rv(s,c,p,g,C){var P=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var I=g.tag;if(I===3||I===4){var G=g.stateNode.containerInfo;if(G===C||G.nodeType===8&&G.parentNode===C)break;if(I===4)for(I=g.return;I!==null;){var X=I.tag;if((X===3||X===4)&&(X=I.stateNode.containerInfo,X===C||X.nodeType===8&&X.parentNode===C))return;I=I.return}for(;G!==null;){if(I=Ui(G),I===null)return;if(X=I.tag,X===5||X===6){g=P=I;continue e}G=G.parentNode}}g=g.return}et(function(){var ie=P,ve=ue(p),me=[];e:{var he=ej.get(s);if(he!==void 0){var je=Wh,Ae=s;switch(s){case"keypress":if(Uu(p)===0)break e;case"keydown":case"keyup":je=J5;break;case"focusin":Ae="focus",je=Hh;break;case"focusout":Ae="blur",je=Hh;break;case"beforeblur":case"afterblur":je=Hh;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=_w;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=W5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=rM;break;case Xw:case Yw:case Qw:je=H5;break;case Jw:je=aM;break;case"scroll":je=B5;break;case"wheel":je=oM;break;case"copy":case"cut":case"paste":je=G5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=Ew}var _e=(c&4)!==0,Vt=!_e&&s==="scroll",te=_e?he!==null?he+"Capture":null:he;_e=[];for(var J=ie,ne;J!==null;){ne=J;var be=ne.stateNode;if(ne.tag===5&&be!==null&&(ne=be,te!==null&&(be=Ge(J,te),be!=null&&_e.push(Kl(J,be,ne)))),Vt)break;J=J.return}0<_e.length&&(he=new je(he,Ae,null,p,ve),me.push({event:he,listeners:_e}))}}if((c&7)===0){e:{if(he=s==="mouseover"||s==="pointerover",je=s==="mouseout"||s==="pointerout",he&&p!==we&&(Ae=p.relatedTarget||p.fromElement)&&(Ui(Ae)||Ae[ya]))break e;if((je||he)&&(he=ve.window===ve?ve:(he=ve.ownerDocument)?he.defaultView||he.parentWindow:window,je?(Ae=p.relatedTarget||p.toElement,je=ie,Ae=Ae?Ui(Ae):null,Ae!==null&&(Vt=$i(Ae),Ae!==Vt||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(je=null,Ae=ie),je!==Ae)){if(_e=_w,be="onMouseLeave",te="onMouseEnter",J="mouse",(s==="pointerout"||s==="pointerover")&&(_e=Ew,be="onPointerLeave",te="onPointerEnter",J="pointer"),Vt=je==null?he:Uo(je),ne=Ae==null?he:Uo(Ae),he=new _e(be,J+"leave",je,p,ve),he.target=Vt,he.relatedTarget=ne,be=null,Ui(ve)===ie&&(_e=new _e(te,J+"enter",Ae,p,ve),_e.target=ne,_e.relatedTarget=Vt,be=_e),Vt=be,je&&Ae)t:{for(_e=je,te=Ae,J=0,ne=_e;ne;ne=Wo(ne))J++;for(ne=0,be=te;be;be=Wo(be))ne++;for(;0<J-ne;)_e=Wo(_e),J--;for(;0<ne-J;)te=Wo(te),ne--;for(;J--;){if(_e===te||te!==null&&_e===te.alternate)break t;_e=Wo(_e),te=Wo(te)}_e=null}else _e=null;je!==null&&ij(me,he,je,_e,!1),Ae!==null&&Vt!==null&&ij(me,Vt,Ae,_e,!0)}}e:{if(he=ie?Uo(ie):window,je=he.nodeName&&he.nodeName.toLowerCase(),je==="select"||je==="input"&&he.type==="file")var Ee=pM;else if(Lw(he))if(Fw)Ee=gM;else{Ee=vM;var Ie=hM}else(je=he.nodeName)&&je.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(Ee=mM);if(Ee&&(Ee=Ee(s,ie))){Bw(me,Ee,p,ve);break e}Ie&&Ie(s,he,ie),s==="focusout"&&(Ie=he._wrapperState)&&Ie.controlled&&he.type==="number"&&lt(he,"number",he.value)}switch(Ie=ie?Uo(ie):window,s){case"focusin":(Lw(Ie)||Ie.contentEditable==="true")&&(Bo=Ie,Xh=ie,$l=null);break;case"focusout":$l=Xh=Bo=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,qw(me,p,ve);break;case"selectionchange":if(bM)break;case"keydown":case"keyup":qw(me,p,ve)}var Me;if(Gh)e:{switch(s){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Lo?Iw(s,p)&&($e="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&($e="onCompositionStart");$e&&(Tw&&p.locale!=="ko"&&(Lo||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Lo&&(Me=Nw()):(ei=ve,Fh="value"in ei?ei.value:ei.textContent,Lo=!0)),Ie=Xu(ie,$e),0<Ie.length&&($e=new Ow($e,s,null,p,ve),me.push({event:$e,listeners:Ie}),Me?$e.data=Me:(Me=Mw(p),Me!==null&&($e.data=Me)))),(Me=lM?cM(s,p):uM(s,p))&&(ie=Xu(ie,"onBeforeInput"),0<ie.length&&(ve=new Ow("onBeforeInput","beforeinput",null,p,ve),me.push({event:ve,listeners:ie}),ve.data=Me))}nj(me,c)})}function Kl(s,c,p){return{instance:s,listener:c,currentTarget:p}}function Xu(s,c){for(var p=c+"Capture",g=[];s!==null;){var C=s,P=C.stateNode;C.tag===5&&P!==null&&(C=P,P=Ge(s,p),P!=null&&g.unshift(Kl(s,P,C)),P=Ge(s,c),P!=null&&g.push(Kl(s,P,C))),s=s.return}return g}function Wo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function ij(s,c,p,g,C){for(var P=c._reactName,I=[];p!==null&&p!==g;){var G=p,X=G.alternate,ie=G.stateNode;if(X!==null&&X===g)break;G.tag===5&&ie!==null&&(G=ie,C?(X=Ge(p,P),X!=null&&I.unshift(Kl(p,X,G))):C||(X=Ge(p,P),X!=null&&I.push(Kl(p,X,G)))),p=p.return}I.length!==0&&s.push({event:c,listeners:I})}var kM=/\r\n?/g,CM=/\u0000|\uFFFD/g;function oj(s){return(typeof s=="string"?s:""+s).replace(kM,`
`).replace(CM,"")}function Yu(s,c,p){if(c=oj(c),oj(s)!==c&&p)throw Error(r(425))}function Qu(){}var nv=null,av=null;function iv(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var ov=typeof setTimeout=="function"?setTimeout:void 0,zM=typeof clearTimeout=="function"?clearTimeout:void 0,sj=typeof Promise=="function"?Promise:void 0,AM=typeof queueMicrotask=="function"?queueMicrotask:typeof sj<"u"?function(s){return sj.resolve(null).then(s).catch(NM)}:ov;function NM(s){setTimeout(function(){throw s})}function sv(s,c){var p=c,g=0;do{var C=p.nextSibling;if(s.removeChild(p),C&&C.nodeType===8)if(p=C.data,p==="/$"){if(g===0){s.removeChild(C),Rl(c);return}g--}else p!=="$"&&p!=="$?"&&p!=="$!"||g++;p=C}while(p);Rl(c)}function ri(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return s}function lj(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return s;c--}else p==="/$"&&c++}s=s.previousSibling}return null}var $o=Math.random().toString(36).slice(2),Jn="__reactFiber$"+$o,Gl="__reactProps$"+$o,ya="__reactContainer$"+$o,lv="__reactEvents$"+$o,PM="__reactListeners$"+$o,_M="__reactHandles$"+$o;function Ui(s){var c=s[Jn];if(c)return c;for(var p=s.parentNode;p;){if(c=p[ya]||p[Jn]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(s=lj(s);s!==null;){if(p=s[Jn])return p;s=lj(s)}return c}s=p,p=s.parentNode}return null}function Vl(s){return s=s[Jn]||s[ya],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Uo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Ju(s){return s[Gl]||null}var cv=[],Ho=-1;function ni(s){return{current:s}}function Pt(s){0>Ho||(s.current=cv[Ho],cv[Ho]=null,Ho--)}function wt(s,c){Ho++,cv[Ho]=s.current,s.current=c}var ai={},Sr=ni(ai),$r=ni(!1),Hi=ai;function Ko(s,c){var p=s.type.contextTypes;if(!p)return ai;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===c)return g.__reactInternalMemoizedMaskedChildContext;var C={},P;for(P in p)C[P]=c[P];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=c,s.__reactInternalMemoizedMaskedChildContext=C),C}function Ur(s){return s=s.childContextTypes,s!=null}function ed(){Pt($r),Pt(Sr)}function cj(s,c,p){if(Sr.current!==ai)throw Error(r(168));wt(Sr,c),wt($r,p)}function uj(s,c,p){var g=s.stateNode;if(c=c.childContextTypes,typeof g.getChildContext!="function")return p;g=g.getChildContext();for(var C in g)if(!(C in c))throw Error(r(108,re(s)||"Unknown",C));return W({},p,g)}function td(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ai,Hi=Sr.current,wt(Sr,s),wt($r,$r.current),!0}function dj(s,c,p){var g=s.stateNode;if(!g)throw Error(r(169));p?(s=uj(s,c,Hi),g.__reactInternalMemoizedMergedChildContext=s,Pt($r),Pt(Sr),wt(Sr,s)):Pt($r),wt($r,p)}var xa=null,rd=!1,uv=!1;function fj(s){xa===null?xa=[s]:xa.push(s)}function OM(s){rd=!0,fj(s)}function ii(){if(!uv&&xa!==null){uv=!0;var s=0,c=ht;try{var p=xa;for(ht=1;s<p.length;s++){var g=p[s];do g=g(!0);while(g!==null)}xa=null,rd=!1}catch(C){throw xa!==null&&(xa=xa.slice(s+1)),hw(Eh,ii),C}finally{ht=c,uv=!1}}return null}var Go=[],Vo=0,nd=null,ad=0,mn=[],gn=0,Ki=null,ba=1,Sa="";function Gi(s,c){Go[Vo++]=ad,Go[Vo++]=nd,nd=s,ad=c}function pj(s,c,p){mn[gn++]=ba,mn[gn++]=Sa,mn[gn++]=Ki,Ki=s;var g=ba;s=Sa;var C=32-On(g)-1;g&=~(1<<C),p+=1;var P=32-On(c)+C;if(30<P){var I=C-C%5;P=(g&(1<<I)-1).toString(32),g>>=I,C-=I,ba=1<<32-On(c)+C|p<<C|g,Sa=P+s}else ba=1<<P|p<<C|g,Sa=s}function dv(s){s.return!==null&&(Gi(s,1),pj(s,1,0))}function fv(s){for(;s===nd;)nd=Go[--Vo],Go[Vo]=null,ad=Go[--Vo],Go[Vo]=null;for(;s===Ki;)Ki=mn[--gn],mn[gn]=null,Sa=mn[--gn],mn[gn]=null,ba=mn[--gn],mn[gn]=null}var en=null,tn=null,Dt=!1,Tn=null;function hj(s,c){var p=Sn(5,null,null,0);p.elementType="DELETED",p.stateNode=c,p.return=s,c=s.deletions,c===null?(s.deletions=[p],s.flags|=16):c.push(p)}function vj(s,c){switch(s.tag){case 5:var p=s.type;return c=c.nodeType!==1||p.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(s.stateNode=c,en=s,tn=ri(c.firstChild),!0):!1;case 6:return c=s.pendingProps===""||c.nodeType!==3?null:c,c!==null?(s.stateNode=c,en=s,tn=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(p=Ki!==null?{id:ba,overflow:Sa}:null,s.memoizedState={dehydrated:c,treeContext:p,retryLane:1073741824},p=Sn(18,null,null,0),p.stateNode=c,p.return=s,s.child=p,en=s,tn=null,!0):!1;default:return!1}}function pv(s){return(s.mode&1)!==0&&(s.flags&128)===0}function hv(s){if(Dt){var c=tn;if(c){var p=c;if(!vj(s,c)){if(pv(s))throw Error(r(418));c=ri(p.nextSibling);var g=en;c&&vj(s,c)?hj(g,p):(s.flags=s.flags&-4097|2,Dt=!1,en=s)}}else{if(pv(s))throw Error(r(418));s.flags=s.flags&-4097|2,Dt=!1,en=s}}}function mj(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;en=s}function id(s){if(s!==en)return!1;if(!Dt)return mj(s),Dt=!0,!1;var c;if((c=s.tag!==3)&&!(c=s.tag!==5)&&(c=s.type,c=c!=="head"&&c!=="body"&&!iv(s.type,s.memoizedProps)),c&&(c=tn)){if(pv(s))throw gj(),Error(r(418));for(;c;)hj(s,c),c=ri(c.nextSibling)}if(mj(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,c=0;s;){if(s.nodeType===8){var p=s.data;if(p==="/$"){if(c===0){tn=ri(s.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++}s=s.nextSibling}tn=null}}else tn=en?ri(s.stateNode.nextSibling):null;return!0}function gj(){for(var s=tn;s;)s=ri(s.nextSibling)}function qo(){tn=en=null,Dt=!1}function vv(s){Tn===null?Tn=[s]:Tn.push(s)}var EM=N.ReactCurrentBatchConfig;function ql(s,c,p){if(s=p.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(r(309));var g=p.stateNode}if(!g)throw Error(r(147,s));var C=g,P=""+s;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===P?c.ref:(c=function(I){var G=C.refs;I===null?delete G[P]:G[P]=I},c._stringRef=P,c)}if(typeof s!="string")throw Error(r(284));if(!p._owner)throw Error(r(290,s))}return s}function od(s,c){throw s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s))}function yj(s){var c=s._init;return c(s._payload)}function xj(s){function c(te,J){if(s){var ne=te.deletions;ne===null?(te.deletions=[J],te.flags|=16):ne.push(J)}}function p(te,J){if(!s)return null;for(;J!==null;)c(te,J),J=J.sibling;return null}function g(te,J){for(te=new Map;J!==null;)J.key!==null?te.set(J.key,J):te.set(J.index,J),J=J.sibling;return te}function C(te,J){return te=pi(te,J),te.index=0,te.sibling=null,te}function P(te,J,ne){return te.index=ne,s?(ne=te.alternate,ne!==null?(ne=ne.index,ne<J?(te.flags|=2,J):ne):(te.flags|=2,J)):(te.flags|=1048576,J)}function I(te){return s&&te.alternate===null&&(te.flags|=2),te}function G(te,J,ne,be){return J===null||J.tag!==6?(J=om(ne,te.mode,be),J.return=te,J):(J=C(J,ne),J.return=te,J)}function X(te,J,ne,be){var Ee=ne.type;return Ee===_?ve(te,J,ne.props.children,be,ne.key):J!==null&&(J.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Z&&yj(Ee)===J.type)?(be=C(J,ne.props),be.ref=ql(te,J,ne),be.return=te,be):(be=_d(ne.type,ne.key,ne.props,null,te.mode,be),be.ref=ql(te,J,ne),be.return=te,be)}function ie(te,J,ne,be){return J===null||J.tag!==4||J.stateNode.containerInfo!==ne.containerInfo||J.stateNode.implementation!==ne.implementation?(J=sm(ne,te.mode,be),J.return=te,J):(J=C(J,ne.children||[]),J.return=te,J)}function ve(te,J,ne,be,Ee){return J===null||J.tag!==7?(J=eo(ne,te.mode,be,Ee),J.return=te,J):(J=C(J,ne),J.return=te,J)}function me(te,J,ne){if(typeof J=="string"&&J!==""||typeof J=="number")return J=om(""+J,te.mode,ne),J.return=te,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return ne=_d(J.type,J.key,J.props,null,te.mode,ne),ne.ref=ql(te,null,J),ne.return=te,ne;case O:return J=sm(J,te.mode,ne),J.return=te,J;case Z:var be=J._init;return me(te,be(J._payload),ne)}if(At(J)||B(J))return J=eo(J,te.mode,ne,null),J.return=te,J;od(te,J)}return null}function he(te,J,ne,be){var Ee=J!==null?J.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Ee!==null?null:G(te,J,""+ne,be);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:return ne.key===Ee?X(te,J,ne,be):null;case O:return ne.key===Ee?ie(te,J,ne,be):null;case Z:return Ee=ne._init,he(te,J,Ee(ne._payload),be)}if(At(ne)||B(ne))return Ee!==null?null:ve(te,J,ne,be,null);od(te,ne)}return null}function je(te,J,ne,be,Ee){if(typeof be=="string"&&be!==""||typeof be=="number")return te=te.get(ne)||null,G(J,te,""+be,Ee);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case A:return te=te.get(be.key===null?ne:be.key)||null,X(J,te,be,Ee);case O:return te=te.get(be.key===null?ne:be.key)||null,ie(J,te,be,Ee);case Z:var Ie=be._init;return je(te,J,ne,Ie(be._payload),Ee)}if(At(be)||B(be))return te=te.get(ne)||null,ve(J,te,be,Ee,null);od(J,be)}return null}function Ae(te,J,ne,be){for(var Ee=null,Ie=null,Me=J,$e=J=0,fr=null;Me!==null&&$e<ne.length;$e++){Me.index>$e?(fr=Me,Me=null):fr=Me.sibling;var at=he(te,Me,ne[$e],be);if(at===null){Me===null&&(Me=fr);break}s&&Me&&at.alternate===null&&c(te,Me),J=P(at,J,$e),Ie===null?Ee=at:Ie.sibling=at,Ie=at,Me=fr}if($e===ne.length)return p(te,Me),Dt&&Gi(te,$e),Ee;if(Me===null){for(;$e<ne.length;$e++)Me=me(te,ne[$e],be),Me!==null&&(J=P(Me,J,$e),Ie===null?Ee=Me:Ie.sibling=Me,Ie=Me);return Dt&&Gi(te,$e),Ee}for(Me=g(te,Me);$e<ne.length;$e++)fr=je(Me,te,$e,ne[$e],be),fr!==null&&(s&&fr.alternate!==null&&Me.delete(fr.key===null?$e:fr.key),J=P(fr,J,$e),Ie===null?Ee=fr:Ie.sibling=fr,Ie=fr);return s&&Me.forEach(function(hi){return c(te,hi)}),Dt&&Gi(te,$e),Ee}function _e(te,J,ne,be){var Ee=B(ne);if(typeof Ee!="function")throw Error(r(150));if(ne=Ee.call(ne),ne==null)throw Error(r(151));for(var Ie=Ee=null,Me=J,$e=J=0,fr=null,at=ne.next();Me!==null&&!at.done;$e++,at=ne.next()){Me.index>$e?(fr=Me,Me=null):fr=Me.sibling;var hi=he(te,Me,at.value,be);if(hi===null){Me===null&&(Me=fr);break}s&&Me&&hi.alternate===null&&c(te,Me),J=P(hi,J,$e),Ie===null?Ee=hi:Ie.sibling=hi,Ie=hi,Me=fr}if(at.done)return p(te,Me),Dt&&Gi(te,$e),Ee;if(Me===null){for(;!at.done;$e++,at=ne.next())at=me(te,at.value,be),at!==null&&(J=P(at,J,$e),Ie===null?Ee=at:Ie.sibling=at,Ie=at);return Dt&&Gi(te,$e),Ee}for(Me=g(te,Me);!at.done;$e++,at=ne.next())at=je(Me,te,$e,at.value,be),at!==null&&(s&&at.alternate!==null&&Me.delete(at.key===null?$e:at.key),J=P(at,J,$e),Ie===null?Ee=at:Ie.sibling=at,Ie=at);return s&&Me.forEach(function(d4){return c(te,d4)}),Dt&&Gi(te,$e),Ee}function Vt(te,J,ne,be){if(typeof ne=="object"&&ne!==null&&ne.type===_&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:e:{for(var Ee=ne.key,Ie=J;Ie!==null;){if(Ie.key===Ee){if(Ee=ne.type,Ee===_){if(Ie.tag===7){p(te,Ie.sibling),J=C(Ie,ne.props.children),J.return=te,te=J;break e}}else if(Ie.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Z&&yj(Ee)===Ie.type){p(te,Ie.sibling),J=C(Ie,ne.props),J.ref=ql(te,Ie,ne),J.return=te,te=J;break e}p(te,Ie);break}else c(te,Ie);Ie=Ie.sibling}ne.type===_?(J=eo(ne.props.children,te.mode,be,ne.key),J.return=te,te=J):(be=_d(ne.type,ne.key,ne.props,null,te.mode,be),be.ref=ql(te,J,ne),be.return=te,te=be)}return I(te);case O:e:{for(Ie=ne.key;J!==null;){if(J.key===Ie)if(J.tag===4&&J.stateNode.containerInfo===ne.containerInfo&&J.stateNode.implementation===ne.implementation){p(te,J.sibling),J=C(J,ne.children||[]),J.return=te,te=J;break e}else{p(te,J);break}else c(te,J);J=J.sibling}J=sm(ne,te.mode,be),J.return=te,te=J}return I(te);case Z:return Ie=ne._init,Vt(te,J,Ie(ne._payload),be)}if(At(ne))return Ae(te,J,ne,be);if(B(ne))return _e(te,J,ne,be);od(te,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,J!==null&&J.tag===6?(p(te,J.sibling),J=C(J,ne),J.return=te,te=J):(p(te,J),J=om(ne,te.mode,be),J.return=te,te=J),I(te)):p(te,J)}return Vt}var Zo=xj(!0),bj=xj(!1),sd=ni(null),ld=null,Xo=null,mv=null;function gv(){mv=Xo=ld=null}function yv(s){var c=sd.current;Pt(sd),s._currentValue=c}function xv(s,c,p){for(;s!==null;){var g=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),s===p)break;s=s.return}}function Yo(s,c){ld=s,mv=Xo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&c)!==0&&(Hr=!0),s.firstContext=null)}function yn(s){var c=s._currentValue;if(mv!==s)if(s={context:s,memoizedValue:c,next:null},Xo===null){if(ld===null)throw Error(r(308));Xo=s,ld.dependencies={lanes:0,firstContext:s}}else Xo=Xo.next=s;return c}var Vi=null;function bv(s){Vi===null?Vi=[s]:Vi.push(s)}function Sj(s,c,p,g){var C=c.interleaved;return C===null?(p.next=p,bv(c)):(p.next=C.next,C.next=p),c.interleaved=p,wa(s,g)}function wa(s,c){s.lanes|=c;var p=s.alternate;for(p!==null&&(p.lanes|=c),p=s,s=s.return;s!==null;)s.childLanes|=c,p=s.alternate,p!==null&&(p.childLanes|=c),p=s,s=s.return;return p.tag===3?p.stateNode:null}var oi=!1;function Sv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wj(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ja(s,c){return{eventTime:s,lane:c,tag:0,payload:null,callback:null,next:null}}function si(s,c,p){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(nt&2)!==0){var C=g.pending;return C===null?c.next=c:(c.next=C.next,C.next=c),g.pending=c,wa(s,p)}return C=g.interleaved,C===null?(c.next=c,bv(g)):(c.next=C.next,C.next=c),g.interleaved=c,wa(s,p)}function cd(s,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194240)!==0)){var g=c.lanes;g&=s.pendingLanes,p|=g,c.lanes=p,Rh(s,p)}}function jj(s,c){var p=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,p===g)){var C=null,P=null;if(p=p.firstBaseUpdate,p!==null){do{var I={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};P===null?C=P=I:P=P.next=I,p=p.next}while(p!==null);P===null?C=P=c:P=P.next=c}else C=P=c;p={baseState:g.baseState,firstBaseUpdate:C,lastBaseUpdate:P,shared:g.shared,effects:g.effects},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=c:s.next=c,p.lastBaseUpdate=c}function ud(s,c,p,g){var C=s.updateQueue;oi=!1;var P=C.firstBaseUpdate,I=C.lastBaseUpdate,G=C.shared.pending;if(G!==null){C.shared.pending=null;var X=G,ie=X.next;X.next=null,I===null?P=ie:I.next=ie,I=X;var ve=s.alternate;ve!==null&&(ve=ve.updateQueue,G=ve.lastBaseUpdate,G!==I&&(G===null?ve.firstBaseUpdate=ie:G.next=ie,ve.lastBaseUpdate=X))}if(P!==null){var me=C.baseState;I=0,ve=ie=X=null,G=P;do{var he=G.lane,je=G.eventTime;if((g&he)===he){ve!==null&&(ve=ve.next={eventTime:je,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});e:{var Ae=s,_e=G;switch(he=c,je=p,_e.tag){case 1:if(Ae=_e.payload,typeof Ae=="function"){me=Ae.call(je,me,he);break e}me=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=_e.payload,he=typeof Ae=="function"?Ae.call(je,me,he):Ae,he==null)break e;me=W({},me,he);break e;case 2:oi=!0}}G.callback!==null&&G.lane!==0&&(s.flags|=64,he=C.effects,he===null?C.effects=[G]:he.push(G))}else je={eventTime:je,lane:he,tag:G.tag,payload:G.payload,callback:G.callback,next:null},ve===null?(ie=ve=je,X=me):ve=ve.next=je,I|=he;if(G=G.next,G===null){if(G=C.shared.pending,G===null)break;he=G,G=he.next,he.next=null,C.lastBaseUpdate=he,C.shared.pending=null}}while(!0);if(ve===null&&(X=me),C.baseState=X,C.firstBaseUpdate=ie,C.lastBaseUpdate=ve,c=C.shared.interleaved,c!==null){C=c;do I|=C.lane,C=C.next;while(C!==c)}else P===null&&(C.shared.lanes=0);Xi|=I,s.lanes=I,s.memoizedState=me}}function kj(s,c,p){if(s=c.effects,c.effects=null,s!==null)for(c=0;c<s.length;c++){var g=s[c],C=g.callback;if(C!==null){if(g.callback=null,g=p,typeof C!="function")throw Error(r(191,C));C.call(g)}}}var Zl={},ea=ni(Zl),Xl=ni(Zl),Yl=ni(Zl);function qi(s){if(s===Zl)throw Error(r(174));return s}function wv(s,c){switch(wt(Yl,c),wt(Xl,s),wt(ea,Zl),s=c.nodeType,s){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:rt(null,"");break;default:s=s===8?c.parentNode:c,c=s.namespaceURI||null,s=s.tagName,c=rt(c,s)}Pt(ea),wt(ea,c)}function Qo(){Pt(ea),Pt(Xl),Pt(Yl)}function Cj(s){qi(Yl.current);var c=qi(ea.current),p=rt(c,s.type);c!==p&&(wt(Xl,s),wt(ea,p))}function jv(s){Xl.current===s&&(Pt(ea),Pt(Xl))}var Lt=ni(0);function dd(s){for(var c=s;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var kv=[];function Cv(){for(var s=0;s<kv.length;s++)kv[s]._workInProgressVersionPrimary=null;kv.length=0}var fd=N.ReactCurrentDispatcher,zv=N.ReactCurrentBatchConfig,Zi=0,Bt=null,rr=null,ur=null,pd=!1,Ql=!1,Jl=0,TM=0;function wr(){throw Error(r(321))}function Av(s,c){if(c===null)return!1;for(var p=0;p<c.length&&p<s.length;p++)if(!En(s[p],c[p]))return!1;return!0}function Nv(s,c,p,g,C,P){if(Zi=P,Bt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,fd.current=s===null||s.memoizedState===null?MM:LM,s=p(g,C),Ql){P=0;do{if(Ql=!1,Jl=0,25<=P)throw Error(r(301));P+=1,ur=rr=null,c.updateQueue=null,fd.current=BM,s=p(g,C)}while(Ql)}if(fd.current=md,c=rr!==null&&rr.next!==null,Zi=0,ur=rr=Bt=null,pd=!1,c)throw Error(r(300));return s}function Pv(){var s=Jl!==0;return Jl=0,s}function ta(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?Bt.memoizedState=ur=s:ur=ur.next=s,ur}function xn(){if(rr===null){var s=Bt.alternate;s=s!==null?s.memoizedState:null}else s=rr.next;var c=ur===null?Bt.memoizedState:ur.next;if(c!==null)ur=c,rr=s;else{if(s===null)throw Error(r(310));rr=s,s={memoizedState:rr.memoizedState,baseState:rr.baseState,baseQueue:rr.baseQueue,queue:rr.queue,next:null},ur===null?Bt.memoizedState=ur=s:ur=ur.next=s}return ur}function ec(s,c){return typeof c=="function"?c(s):c}function _v(s){var c=xn(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=s;var g=rr,C=g.baseQueue,P=p.pending;if(P!==null){if(C!==null){var I=C.next;C.next=P.next,P.next=I}g.baseQueue=C=P,p.pending=null}if(C!==null){P=C.next,g=g.baseState;var G=I=null,X=null,ie=P;do{var ve=ie.lane;if((Zi&ve)===ve)X!==null&&(X=X.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),g=ie.hasEagerState?ie.eagerState:s(g,ie.action);else{var me={lane:ve,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};X===null?(G=X=me,I=g):X=X.next=me,Bt.lanes|=ve,Xi|=ve}ie=ie.next}while(ie!==null&&ie!==P);X===null?I=g:X.next=G,En(g,c.memoizedState)||(Hr=!0),c.memoizedState=g,c.baseState=I,c.baseQueue=X,p.lastRenderedState=g}if(s=p.interleaved,s!==null){C=s;do P=C.lane,Bt.lanes|=P,Xi|=P,C=C.next;while(C!==s)}else C===null&&(p.lanes=0);return[c.memoizedState,p.dispatch]}function Ov(s){var c=xn(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=s;var g=p.dispatch,C=p.pending,P=c.memoizedState;if(C!==null){p.pending=null;var I=C=C.next;do P=s(P,I.action),I=I.next;while(I!==C);En(P,c.memoizedState)||(Hr=!0),c.memoizedState=P,c.baseQueue===null&&(c.baseState=P),p.lastRenderedState=P}return[P,g]}function zj(){}function Aj(s,c){var p=Bt,g=xn(),C=c(),P=!En(g.memoizedState,C);if(P&&(g.memoizedState=C,Hr=!0),g=g.queue,Ev(_j.bind(null,p,g,s),[s]),g.getSnapshot!==c||P||ur!==null&&ur.memoizedState.tag&1){if(p.flags|=2048,tc(9,Pj.bind(null,p,g,C,c),void 0,null),dr===null)throw Error(r(349));(Zi&30)!==0||Nj(p,c,C)}return C}function Nj(s,c,p){s.flags|=16384,s={getSnapshot:c,value:p},c=Bt.updateQueue,c===null?(c={lastEffect:null,stores:null},Bt.updateQueue=c,c.stores=[s]):(p=c.stores,p===null?c.stores=[s]:p.push(s))}function Pj(s,c,p,g){c.value=p,c.getSnapshot=g,Oj(c)&&Ej(s)}function _j(s,c,p){return p(function(){Oj(c)&&Ej(s)})}function Oj(s){var c=s.getSnapshot;s=s.value;try{var p=c();return!En(s,p)}catch{return!0}}function Ej(s){var c=wa(s,1);c!==null&&Mn(c,s,1,-1)}function Tj(s){var c=ta();return typeof s=="function"&&(s=s()),c.memoizedState=c.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ec,lastRenderedState:s},c.queue=s,s=s.dispatch=IM.bind(null,Bt,s),[c.memoizedState,s]}function tc(s,c,p,g){return s={tag:s,create:c,destroy:p,deps:g,next:null},c=Bt.updateQueue,c===null?(c={lastEffect:null,stores:null},Bt.updateQueue=c,c.lastEffect=s.next=s):(p=c.lastEffect,p===null?c.lastEffect=s.next=s:(g=p.next,p.next=s,s.next=g,c.lastEffect=s)),s}function Dj(){return xn().memoizedState}function hd(s,c,p,g){var C=ta();Bt.flags|=s,C.memoizedState=tc(1|c,p,void 0,g===void 0?null:g)}function vd(s,c,p,g){var C=xn();g=g===void 0?null:g;var P=void 0;if(rr!==null){var I=rr.memoizedState;if(P=I.destroy,g!==null&&Av(g,I.deps)){C.memoizedState=tc(c,p,P,g);return}}Bt.flags|=s,C.memoizedState=tc(1|c,p,P,g)}function Rj(s,c){return hd(8390656,8,s,c)}function Ev(s,c){return vd(2048,8,s,c)}function Ij(s,c){return vd(4,2,s,c)}function Mj(s,c){return vd(4,4,s,c)}function Lj(s,c){if(typeof c=="function")return s=s(),c(s),function(){c(null)};if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function Bj(s,c,p){return p=p!=null?p.concat([s]):null,vd(4,4,Lj.bind(null,c,s),p)}function Tv(){}function Fj(s,c){var p=xn();c=c===void 0?null:c;var g=p.memoizedState;return g!==null&&c!==null&&Av(c,g[1])?g[0]:(p.memoizedState=[s,c],s)}function Wj(s,c){var p=xn();c=c===void 0?null:c;var g=p.memoizedState;return g!==null&&c!==null&&Av(c,g[1])?g[0]:(s=s(),p.memoizedState=[s,c],s)}function $j(s,c,p){return(Zi&21)===0?(s.baseState&&(s.baseState=!1,Hr=!0),s.memoizedState=p):(En(p,c)||(p=yw(),Bt.lanes|=p,Xi|=p,s.baseState=!0),c)}function DM(s,c){var p=ht;ht=p!==0&&4>p?p:4,s(!0);var g=zv.transition;zv.transition={};try{s(!1),c()}finally{ht=p,zv.transition=g}}function Uj(){return xn().memoizedState}function RM(s,c,p){var g=di(s);if(p={lane:g,action:p,hasEagerState:!1,eagerState:null,next:null},Hj(s))Kj(c,p);else if(p=Sj(s,c,p,g),p!==null){var C=Tr();Mn(p,s,g,C),Gj(p,c,g)}}function IM(s,c,p){var g=di(s),C={lane:g,action:p,hasEagerState:!1,eagerState:null,next:null};if(Hj(s))Kj(c,C);else{var P=s.alternate;if(s.lanes===0&&(P===null||P.lanes===0)&&(P=c.lastRenderedReducer,P!==null))try{var I=c.lastRenderedState,G=P(I,p);if(C.hasEagerState=!0,C.eagerState=G,En(G,I)){var X=c.interleaved;X===null?(C.next=C,bv(c)):(C.next=X.next,X.next=C),c.interleaved=C;return}}catch{}finally{}p=Sj(s,c,C,g),p!==null&&(C=Tr(),Mn(p,s,g,C),Gj(p,c,g))}}function Hj(s){var c=s.alternate;return s===Bt||c!==null&&c===Bt}function Kj(s,c){Ql=pd=!0;var p=s.pending;p===null?c.next=c:(c.next=p.next,p.next=c),s.pending=c}function Gj(s,c,p){if((p&4194240)!==0){var g=c.lanes;g&=s.pendingLanes,p|=g,c.lanes=p,Rh(s,p)}}var md={readContext:yn,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useInsertionEffect:wr,useLayoutEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useMutableSource:wr,useSyncExternalStore:wr,useId:wr,unstable_isNewReconciler:!1},MM={readContext:yn,useCallback:function(s,c){return ta().memoizedState=[s,c===void 0?null:c],s},useContext:yn,useEffect:Rj,useImperativeHandle:function(s,c,p){return p=p!=null?p.concat([s]):null,hd(4194308,4,Lj.bind(null,c,s),p)},useLayoutEffect:function(s,c){return hd(4194308,4,s,c)},useInsertionEffect:function(s,c){return hd(4,2,s,c)},useMemo:function(s,c){var p=ta();return c=c===void 0?null:c,s=s(),p.memoizedState=[s,c],s},useReducer:function(s,c,p){var g=ta();return c=p!==void 0?p(c):c,g.memoizedState=g.baseState=c,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:c},g.queue=s,s=s.dispatch=RM.bind(null,Bt,s),[g.memoizedState,s]},useRef:function(s){var c=ta();return s={current:s},c.memoizedState=s},useState:Tj,useDebugValue:Tv,useDeferredValue:function(s){return ta().memoizedState=s},useTransition:function(){var s=Tj(!1),c=s[0];return s=DM.bind(null,s[1]),ta().memoizedState=s,[c,s]},useMutableSource:function(){},useSyncExternalStore:function(s,c,p){var g=Bt,C=ta();if(Dt){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),dr===null)throw Error(r(349));(Zi&30)!==0||Nj(g,c,p)}C.memoizedState=p;var P={value:p,getSnapshot:c};return C.queue=P,Rj(_j.bind(null,g,P,s),[s]),g.flags|=2048,tc(9,Pj.bind(null,g,P,p,c),void 0,null),p},useId:function(){var s=ta(),c=dr.identifierPrefix;if(Dt){var p=Sa,g=ba;p=(g&~(1<<32-On(g)-1)).toString(32)+p,c=":"+c+"R"+p,p=Jl++,0<p&&(c+="H"+p.toString(32)),c+=":"}else p=TM++,c=":"+c+"r"+p.toString(32)+":";return s.memoizedState=c},unstable_isNewReconciler:!1},LM={readContext:yn,useCallback:Fj,useContext:yn,useEffect:Ev,useImperativeHandle:Bj,useInsertionEffect:Ij,useLayoutEffect:Mj,useMemo:Wj,useReducer:_v,useRef:Dj,useState:function(){return _v(ec)},useDebugValue:Tv,useDeferredValue:function(s){var c=xn();return $j(c,rr.memoizedState,s)},useTransition:function(){var s=_v(ec)[0],c=xn().memoizedState;return[s,c]},useMutableSource:zj,useSyncExternalStore:Aj,useId:Uj,unstable_isNewReconciler:!1},BM={readContext:yn,useCallback:Fj,useContext:yn,useEffect:Ev,useImperativeHandle:Bj,useInsertionEffect:Ij,useLayoutEffect:Mj,useMemo:Wj,useReducer:Ov,useRef:Dj,useState:function(){return Ov(ec)},useDebugValue:Tv,useDeferredValue:function(s){var c=xn();return rr===null?c.memoizedState=s:$j(c,rr.memoizedState,s)},useTransition:function(){var s=Ov(ec)[0],c=xn().memoizedState;return[s,c]},useMutableSource:zj,useSyncExternalStore:Aj,useId:Uj,unstable_isNewReconciler:!1};function Dn(s,c){if(s&&s.defaultProps){c=W({},c),s=s.defaultProps;for(var p in s)c[p]===void 0&&(c[p]=s[p]);return c}return c}function Dv(s,c,p,g){c=s.memoizedState,p=p(g,c),p=p==null?c:W({},c,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var gd={isMounted:function(s){return(s=s._reactInternals)?$i(s)===s:!1},enqueueSetState:function(s,c,p){s=s._reactInternals;var g=Tr(),C=di(s),P=ja(g,C);P.payload=c,p!=null&&(P.callback=p),c=si(s,P,C),c!==null&&(Mn(c,s,C,g),cd(c,s,C))},enqueueReplaceState:function(s,c,p){s=s._reactInternals;var g=Tr(),C=di(s),P=ja(g,C);P.tag=1,P.payload=c,p!=null&&(P.callback=p),c=si(s,P,C),c!==null&&(Mn(c,s,C,g),cd(c,s,C))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var p=Tr(),g=di(s),C=ja(p,g);C.tag=2,c!=null&&(C.callback=c),c=si(s,C,g),c!==null&&(Mn(c,s,g,p),cd(c,s,g))}};function Vj(s,c,p,g,C,P,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,P,I):c.prototype&&c.prototype.isPureReactComponent?!Wl(p,g)||!Wl(C,P):!0}function qj(s,c,p){var g=!1,C=ai,P=c.contextType;return typeof P=="object"&&P!==null?P=yn(P):(C=Ur(c)?Hi:Sr.current,g=c.contextTypes,P=(g=g!=null)?Ko(s,C):ai),c=new c(p,P),s.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=gd,s.stateNode=c,c._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=C,s.__reactInternalMemoizedMaskedChildContext=P),c}function Zj(s,c,p,g){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,g),c.state!==s&&gd.enqueueReplaceState(c,c.state,null)}function Rv(s,c,p,g){var C=s.stateNode;C.props=p,C.state=s.memoizedState,C.refs={},Sv(s);var P=c.contextType;typeof P=="object"&&P!==null?C.context=yn(P):(P=Ur(c)?Hi:Sr.current,C.context=Ko(s,P)),C.state=s.memoizedState,P=c.getDerivedStateFromProps,typeof P=="function"&&(Dv(s,c,P,p),C.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(c=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),c!==C.state&&gd.enqueueReplaceState(C,C.state,null),ud(s,p,C,g),C.state=s.memoizedState),typeof C.componentDidMount=="function"&&(s.flags|=4194308)}function Jo(s,c){try{var p="",g=c;do p+=ye(g),g=g.return;while(g);var C=p}catch(P){C=`
Error generating stack: `+P.message+`
`+P.stack}return{value:s,source:c,stack:C,digest:null}}function Iv(s,c,p){return{value:s,source:null,stack:p??null,digest:c??null}}function Mv(s,c){try{console.error(c.value)}catch(p){setTimeout(function(){throw p})}}var FM=typeof WeakMap=="function"?WeakMap:Map;function Xj(s,c,p){p=ja(-1,p),p.tag=3,p.payload={element:null};var g=c.value;return p.callback=function(){kd||(kd=!0,Qv=g),Mv(s,c)},p}function Yj(s,c,p){p=ja(-1,p),p.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var C=c.value;p.payload=function(){return g(C)},p.callback=function(){Mv(s,c)}}var P=s.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(p.callback=function(){Mv(s,c),typeof g!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})}),p}function Qj(s,c,p){var g=s.pingCache;if(g===null){g=s.pingCache=new FM;var C=new Set;g.set(c,C)}else C=g.get(c),C===void 0&&(C=new Set,g.set(c,C));C.has(p)||(C.add(p),s=e4.bind(null,s,c,p),c.then(s,s))}function Jj(s){do{var c;if((c=s.tag===13)&&(c=s.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return s;s=s.return}while(s!==null);return null}function ek(s,c,p,g,C){return(s.mode&1)===0?(s===c?s.flags|=65536:(s.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(c=ja(-1,1),c.tag=2,si(p,c,1))),p.lanes|=1),s):(s.flags|=65536,s.lanes=C,s)}var WM=N.ReactCurrentOwner,Hr=!1;function Er(s,c,p,g){c.child=s===null?bj(c,null,p,g):Zo(c,s.child,p,g)}function tk(s,c,p,g,C){p=p.render;var P=c.ref;return Yo(c,C),g=Nv(s,c,p,g,P,C),p=Pv(),s!==null&&!Hr?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~C,ka(s,c,C)):(Dt&&p&&dv(c),c.flags|=1,Er(s,c,g,C),c.child)}function rk(s,c,p,g,C){if(s===null){var P=p.type;return typeof P=="function"&&!im(P)&&P.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(c.tag=15,c.type=P,nk(s,c,P,g,C)):(s=_d(p.type,null,g,c,c.mode,C),s.ref=c.ref,s.return=c,c.child=s)}if(P=s.child,(s.lanes&C)===0){var I=P.memoizedProps;if(p=p.compare,p=p!==null?p:Wl,p(I,g)&&s.ref===c.ref)return ka(s,c,C)}return c.flags|=1,s=pi(P,g),s.ref=c.ref,s.return=c,c.child=s}function nk(s,c,p,g,C){if(s!==null){var P=s.memoizedProps;if(Wl(P,g)&&s.ref===c.ref)if(Hr=!1,c.pendingProps=g=P,(s.lanes&C)!==0)(s.flags&131072)!==0&&(Hr=!0);else return c.lanes=s.lanes,ka(s,c,C)}return Lv(s,c,p,g,C)}function ak(s,c,p){var g=c.pendingProps,C=g.children,P=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(ts,rn),rn|=p;else{if((p&1073741824)===0)return s=P!==null?P.baseLanes|p:p,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:s,cachePool:null,transitions:null},c.updateQueue=null,wt(ts,rn),rn|=s,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=P!==null?P.baseLanes:p,wt(ts,rn),rn|=g}else P!==null?(g=P.baseLanes|p,c.memoizedState=null):g=p,wt(ts,rn),rn|=g;return Er(s,c,C,p),c.child}function ik(s,c){var p=c.ref;(s===null&&p!==null||s!==null&&s.ref!==p)&&(c.flags|=512,c.flags|=2097152)}function Lv(s,c,p,g,C){var P=Ur(p)?Hi:Sr.current;return P=Ko(c,P),Yo(c,C),p=Nv(s,c,p,g,P,C),g=Pv(),s!==null&&!Hr?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~C,ka(s,c,C)):(Dt&&g&&dv(c),c.flags|=1,Er(s,c,p,C),c.child)}function ok(s,c,p,g,C){if(Ur(p)){var P=!0;td(c)}else P=!1;if(Yo(c,C),c.stateNode===null)xd(s,c),qj(c,p,g),Rv(c,p,g,C),g=!0;else if(s===null){var I=c.stateNode,G=c.memoizedProps;I.props=G;var X=I.context,ie=p.contextType;typeof ie=="object"&&ie!==null?ie=yn(ie):(ie=Ur(p)?Hi:Sr.current,ie=Ko(c,ie));var ve=p.getDerivedStateFromProps,me=typeof ve=="function"||typeof I.getSnapshotBeforeUpdate=="function";me||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(G!==g||X!==ie)&&Zj(c,I,g,ie),oi=!1;var he=c.memoizedState;I.state=he,ud(c,g,I,C),X=c.memoizedState,G!==g||he!==X||$r.current||oi?(typeof ve=="function"&&(Dv(c,p,ve,g),X=c.memoizedState),(G=oi||Vj(c,p,G,g,he,X,ie))?(me||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(c.flags|=4194308)):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=X),I.props=g,I.state=X,I.context=ie,g=G):(typeof I.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{I=c.stateNode,wj(s,c),G=c.memoizedProps,ie=c.type===c.elementType?G:Dn(c.type,G),I.props=ie,me=c.pendingProps,he=I.context,X=p.contextType,typeof X=="object"&&X!==null?X=yn(X):(X=Ur(p)?Hi:Sr.current,X=Ko(c,X));var je=p.getDerivedStateFromProps;(ve=typeof je=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(G!==me||he!==X)&&Zj(c,I,g,X),oi=!1,he=c.memoizedState,I.state=he,ud(c,g,I,C);var Ae=c.memoizedState;G!==me||he!==Ae||$r.current||oi?(typeof je=="function"&&(Dv(c,p,je,g),Ae=c.memoizedState),(ie=oi||Vj(c,p,ie,g,he,Ae,X)||!1)?(ve||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(g,Ae,X),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(g,Ae,X)),typeof I.componentDidUpdate=="function"&&(c.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof I.componentDidUpdate!="function"||G===s.memoizedProps&&he===s.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||G===s.memoizedProps&&he===s.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=Ae),I.props=g,I.state=Ae,I.context=X,g=ie):(typeof I.componentDidUpdate!="function"||G===s.memoizedProps&&he===s.memoizedState||(c.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||G===s.memoizedProps&&he===s.memoizedState||(c.flags|=1024),g=!1)}return Bv(s,c,p,g,P,C)}function Bv(s,c,p,g,C,P){ik(s,c);var I=(c.flags&128)!==0;if(!g&&!I)return C&&dj(c,p,!1),ka(s,c,P);g=c.stateNode,WM.current=c;var G=I&&typeof p.getDerivedStateFromError!="function"?null:g.render();return c.flags|=1,s!==null&&I?(c.child=Zo(c,s.child,null,P),c.child=Zo(c,null,G,P)):Er(s,c,G,P),c.memoizedState=g.state,C&&dj(c,p,!0),c.child}function sk(s){var c=s.stateNode;c.pendingContext?cj(s,c.pendingContext,c.pendingContext!==c.context):c.context&&cj(s,c.context,!1),wv(s,c.containerInfo)}function lk(s,c,p,g,C){return qo(),vv(C),c.flags|=256,Er(s,c,p,g),c.child}var Fv={dehydrated:null,treeContext:null,retryLane:0};function Wv(s){return{baseLanes:s,cachePool:null,transitions:null}}function ck(s,c,p){var g=c.pendingProps,C=Lt.current,P=!1,I=(c.flags&128)!==0,G;if((G=I)||(G=s!==null&&s.memoizedState===null?!1:(C&2)!==0),G?(P=!0,c.flags&=-129):(s===null||s.memoizedState!==null)&&(C|=1),wt(Lt,C&1),s===null)return hv(c),s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((c.mode&1)===0?c.lanes=1:s.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(I=g.children,s=g.fallback,P?(g=c.mode,P=c.child,I={mode:"hidden",children:I},(g&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=I):P=Od(I,g,0,null),s=eo(s,g,p,null),P.return=c,s.return=c,P.sibling=s,c.child=P,c.child.memoizedState=Wv(p),c.memoizedState=Fv,s):$v(c,I));if(C=s.memoizedState,C!==null&&(G=C.dehydrated,G!==null))return $M(s,c,I,g,G,C,p);if(P){P=g.fallback,I=c.mode,C=s.child,G=C.sibling;var X={mode:"hidden",children:g.children};return(I&1)===0&&c.child!==C?(g=c.child,g.childLanes=0,g.pendingProps=X,c.deletions=null):(g=pi(C,X),g.subtreeFlags=C.subtreeFlags&14680064),G!==null?P=pi(G,P):(P=eo(P,I,p,null),P.flags|=2),P.return=c,g.return=c,g.sibling=P,c.child=g,g=P,P=c.child,I=s.child.memoizedState,I=I===null?Wv(p):{baseLanes:I.baseLanes|p,cachePool:null,transitions:I.transitions},P.memoizedState=I,P.childLanes=s.childLanes&~p,c.memoizedState=Fv,g}return P=s.child,s=P.sibling,g=pi(P,{mode:"visible",children:g.children}),(c.mode&1)===0&&(g.lanes=p),g.return=c,g.sibling=null,s!==null&&(p=c.deletions,p===null?(c.deletions=[s],c.flags|=16):p.push(s)),c.child=g,c.memoizedState=null,g}function $v(s,c){return c=Od({mode:"visible",children:c},s.mode,0,null),c.return=s,s.child=c}function yd(s,c,p,g){return g!==null&&vv(g),Zo(c,s.child,null,p),s=$v(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function $M(s,c,p,g,C,P,I){if(p)return c.flags&256?(c.flags&=-257,g=Iv(Error(r(422))),yd(s,c,I,g)):c.memoizedState!==null?(c.child=s.child,c.flags|=128,null):(P=g.fallback,C=c.mode,g=Od({mode:"visible",children:g.children},C,0,null),P=eo(P,C,I,null),P.flags|=2,g.return=c,P.return=c,g.sibling=P,c.child=g,(c.mode&1)!==0&&Zo(c,s.child,null,I),c.child.memoizedState=Wv(I),c.memoizedState=Fv,P);if((c.mode&1)===0)return yd(s,c,I,null);if(C.data==="$!"){if(g=C.nextSibling&&C.nextSibling.dataset,g)var G=g.dgst;return g=G,P=Error(r(419)),g=Iv(P,g,void 0),yd(s,c,I,g)}if(G=(I&s.childLanes)!==0,Hr||G){if(g=dr,g!==null){switch(I&-I){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(g.suspendedLanes|I))!==0?0:C,C!==0&&C!==P.retryLane&&(P.retryLane=C,wa(s,C),Mn(g,s,C,-1))}return am(),g=Iv(Error(r(421))),yd(s,c,I,g)}return C.data==="$?"?(c.flags|=128,c.child=s.child,c=t4.bind(null,s),C._reactRetry=c,null):(s=P.treeContext,tn=ri(C.nextSibling),en=c,Dt=!0,Tn=null,s!==null&&(mn[gn++]=ba,mn[gn++]=Sa,mn[gn++]=Ki,ba=s.id,Sa=s.overflow,Ki=c),c=$v(c,g.children),c.flags|=4096,c)}function uk(s,c,p){s.lanes|=c;var g=s.alternate;g!==null&&(g.lanes|=c),xv(s.return,c,p)}function Uv(s,c,p,g,C){var P=s.memoizedState;P===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:p,tailMode:C}:(P.isBackwards=c,P.rendering=null,P.renderingStartTime=0,P.last=g,P.tail=p,P.tailMode=C)}function dk(s,c,p){var g=c.pendingProps,C=g.revealOrder,P=g.tail;if(Er(s,c,g.children,p),g=Lt.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&uk(s,p,c);else if(s.tag===19)uk(s,p,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(wt(Lt,g),(c.mode&1)===0)c.memoizedState=null;else switch(C){case"forwards":for(p=c.child,C=null;p!==null;)s=p.alternate,s!==null&&dd(s)===null&&(C=p),p=p.sibling;p=C,p===null?(C=c.child,c.child=null):(C=p.sibling,p.sibling=null),Uv(c,!1,C,p,P);break;case"backwards":for(p=null,C=c.child,c.child=null;C!==null;){if(s=C.alternate,s!==null&&dd(s)===null){c.child=C;break}s=C.sibling,C.sibling=p,p=C,C=s}Uv(c,!0,p,null,P);break;case"together":Uv(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function xd(s,c){(c.mode&1)===0&&s!==null&&(s.alternate=null,c.alternate=null,c.flags|=2)}function ka(s,c,p){if(s!==null&&(c.dependencies=s.dependencies),Xi|=c.lanes,(p&c.childLanes)===0)return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,p=pi(s,s.pendingProps),c.child=p,p.return=c;s.sibling!==null;)s=s.sibling,p=p.sibling=pi(s,s.pendingProps),p.return=c;p.sibling=null}return c.child}function UM(s,c,p){switch(c.tag){case 3:sk(c),qo();break;case 5:Cj(c);break;case 1:Ur(c.type)&&td(c);break;case 4:wv(c,c.stateNode.containerInfo);break;case 10:var g=c.type._context,C=c.memoizedProps.value;wt(sd,g._currentValue),g._currentValue=C;break;case 13:if(g=c.memoizedState,g!==null)return g.dehydrated!==null?(wt(Lt,Lt.current&1),c.flags|=128,null):(p&c.child.childLanes)!==0?ck(s,c,p):(wt(Lt,Lt.current&1),s=ka(s,c,p),s!==null?s.sibling:null);wt(Lt,Lt.current&1);break;case 19:if(g=(p&c.childLanes)!==0,(s.flags&128)!==0){if(g)return dk(s,c,p);c.flags|=128}if(C=c.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),wt(Lt,Lt.current),g)break;return null;case 22:case 23:return c.lanes=0,ak(s,c,p)}return ka(s,c,p)}var fk,Hv,pk,hk;fk=function(s,c){for(var p=c.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Hv=function(){},pk=function(s,c,p,g){var C=s.memoizedProps;if(C!==g){s=c.stateNode,qi(ea.current);var P=null;switch(p){case"input":C=De(s,C),g=De(s,g),P=[];break;case"select":C=W({},C,{value:void 0}),g=W({},g,{value:void 0}),P=[];break;case"textarea":C=cr(s,C),g=cr(s,g),P=[];break;default:typeof C.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=Qu)}ga(p,g);var I;p=null;for(ie in C)if(!g.hasOwnProperty(ie)&&C.hasOwnProperty(ie)&&C[ie]!=null)if(ie==="style"){var G=C[ie];for(I in G)G.hasOwnProperty(I)&&(p||(p={}),p[I]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(i.hasOwnProperty(ie)?P||(P=[]):(P=P||[]).push(ie,null));for(ie in g){var X=g[ie];if(G=C?.[ie],g.hasOwnProperty(ie)&&X!==G&&(X!=null||G!=null))if(ie==="style")if(G){for(I in G)!G.hasOwnProperty(I)||X&&X.hasOwnProperty(I)||(p||(p={}),p[I]="");for(I in X)X.hasOwnProperty(I)&&G[I]!==X[I]&&(p||(p={}),p[I]=X[I])}else p||(P||(P=[]),P.push(ie,p)),p=X;else ie==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,G=G?G.__html:void 0,X!=null&&G!==X&&(P=P||[]).push(ie,X)):ie==="children"?typeof X!="string"&&typeof X!="number"||(P=P||[]).push(ie,""+X):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(i.hasOwnProperty(ie)?(X!=null&&ie==="onScroll"&&Nt("scroll",s),P||G===X||(P=[])):(P=P||[]).push(ie,X))}p&&(P=P||[]).push("style",p);var ie=P;(c.updateQueue=ie)&&(c.flags|=4)}},hk=function(s,c,p,g){p!==g&&(c.flags|=4)};function rc(s,c){if(!Dt)switch(s.tailMode){case"hidden":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var g=null;p!==null;)p.alternate!==null&&(g=p),p=p.sibling;g===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function jr(s){var c=s.alternate!==null&&s.alternate.child===s.child,p=0,g=0;if(c)for(var C=s.child;C!==null;)p|=C.lanes|C.childLanes,g|=C.subtreeFlags&14680064,g|=C.flags&14680064,C.return=s,C=C.sibling;else for(C=s.child;C!==null;)p|=C.lanes|C.childLanes,g|=C.subtreeFlags,g|=C.flags,C.return=s,C=C.sibling;return s.subtreeFlags|=g,s.childLanes=p,c}function HM(s,c,p){var g=c.pendingProps;switch(fv(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jr(c),null;case 1:return Ur(c.type)&&ed(),jr(c),null;case 3:return g=c.stateNode,Qo(),Pt($r),Pt(Sr),Cv(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(id(c)?c.flags|=4:s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Tn!==null&&(tm(Tn),Tn=null))),Hv(s,c),jr(c),null;case 5:jv(c);var C=qi(Yl.current);if(p=c.type,s!==null&&c.stateNode!=null)pk(s,c,p,g,C),s.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!g){if(c.stateNode===null)throw Error(r(166));return jr(c),null}if(s=qi(ea.current),id(c)){g=c.stateNode,p=c.type;var P=c.memoizedProps;switch(g[Jn]=c,g[Gl]=P,s=(c.mode&1)!==0,p){case"dialog":Nt("cancel",g),Nt("close",g);break;case"iframe":case"object":case"embed":Nt("load",g);break;case"video":case"audio":for(C=0;C<Ul.length;C++)Nt(Ul[C],g);break;case"source":Nt("error",g);break;case"img":case"image":case"link":Nt("error",g),Nt("load",g);break;case"details":Nt("toggle",g);break;case"input":Ye(g,P),Nt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!P.multiple},Nt("invalid",g);break;case"textarea":He(g,P),Nt("invalid",g)}ga(p,P),C=null;for(var I in P)if(P.hasOwnProperty(I)){var G=P[I];I==="children"?typeof G=="string"?g.textContent!==G&&(P.suppressHydrationWarning!==!0&&Yu(g.textContent,G,s),C=["children",G]):typeof G=="number"&&g.textContent!==""+G&&(P.suppressHydrationWarning!==!0&&Yu(g.textContent,G,s),C=["children",""+G]):i.hasOwnProperty(I)&&G!=null&&I==="onScroll"&&Nt("scroll",g)}switch(p){case"input":Se(g),st(g,P,!0);break;case"textarea":Se(g),St(g);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(g.onclick=Qu)}g=C,c.updateQueue=g,g!==null&&(c.flags|=4)}else{I=C.nodeType===9?C:C.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ct(p)),s==="http://www.w3.org/1999/xhtml"?p==="script"?(s=I.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=I.createElement(p,{is:g.is}):(s=I.createElement(p),p==="select"&&(I=s,g.multiple?I.multiple=!0:g.size&&(I.size=g.size))):s=I.createElementNS(s,p),s[Jn]=c,s[Gl]=g,fk(s,c,!1,!1),c.stateNode=s;e:{switch(I=ee(p,g),p){case"dialog":Nt("cancel",s),Nt("close",s),C=g;break;case"iframe":case"object":case"embed":Nt("load",s),C=g;break;case"video":case"audio":for(C=0;C<Ul.length;C++)Nt(Ul[C],s);C=g;break;case"source":Nt("error",s),C=g;break;case"img":case"image":case"link":Nt("error",s),Nt("load",s),C=g;break;case"details":Nt("toggle",s),C=g;break;case"input":Ye(s,g),C=De(s,g),Nt("invalid",s);break;case"option":C=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},C=W({},g,{value:void 0}),Nt("invalid",s);break;case"textarea":He(s,g),C=cr(s,g),Nt("invalid",s);break;default:C=g}ga(p,C),G=C;for(P in G)if(G.hasOwnProperty(P)){var X=G[P];P==="style"?Yr(s,X):P==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&hn(s,X)):P==="children"?typeof X=="string"?(p!=="textarea"||X!=="")&&br(s,X):typeof X=="number"&&br(s,""+X):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(i.hasOwnProperty(P)?X!=null&&P==="onScroll"&&Nt("scroll",s):X!=null&&S(s,P,X,I))}switch(p){case"input":Se(s),st(s,g,!1);break;case"textarea":Se(s),St(s);break;case"option":g.value!=null&&s.setAttribute("value",""+xe(g.value));break;case"select":s.multiple=!!g.multiple,P=g.value,P!=null?Kt(s,!!g.multiple,P,!1):g.defaultValue!=null&&Kt(s,!!g.multiple,g.defaultValue,!0);break;default:typeof C.onClick=="function"&&(s.onclick=Qu)}switch(p){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return jr(c),null;case 6:if(s&&c.stateNode!=null)hk(s,c,s.memoizedProps,g);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(p=qi(Yl.current),qi(ea.current),id(c)){if(g=c.stateNode,p=c.memoizedProps,g[Jn]=c,(P=g.nodeValue!==p)&&(s=en,s!==null))switch(s.tag){case 3:Yu(g.nodeValue,p,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Yu(g.nodeValue,p,(s.mode&1)!==0)}P&&(c.flags|=4)}else g=(p.nodeType===9?p:p.ownerDocument).createTextNode(g),g[Jn]=c,c.stateNode=g}return jr(c),null;case 13:if(Pt(Lt),g=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Dt&&tn!==null&&(c.mode&1)!==0&&(c.flags&128)===0)gj(),qo(),c.flags|=98560,P=!1;else if(P=id(c),g!==null&&g.dehydrated!==null){if(s===null){if(!P)throw Error(r(318));if(P=c.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(r(317));P[Jn]=c}else qo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;jr(c),P=!1}else Tn!==null&&(tm(Tn),Tn=null),P=!0;if(!P)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=p,c):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(c.child.flags|=8192,(c.mode&1)!==0&&(s===null||(Lt.current&1)!==0?nr===0&&(nr=3):am())),c.updateQueue!==null&&(c.flags|=4),jr(c),null);case 4:return Qo(),Hv(s,c),s===null&&Hl(c.stateNode.containerInfo),jr(c),null;case 10:return yv(c.type._context),jr(c),null;case 17:return Ur(c.type)&&ed(),jr(c),null;case 19:if(Pt(Lt),P=c.memoizedState,P===null)return jr(c),null;if(g=(c.flags&128)!==0,I=P.rendering,I===null)if(g)rc(P,!1);else{if(nr!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(I=dd(s),I!==null){for(c.flags|=128,rc(P,!1),g=I.updateQueue,g!==null&&(c.updateQueue=g,c.flags|=4),c.subtreeFlags=0,g=p,p=c.child;p!==null;)P=p,s=g,P.flags&=14680066,I=P.alternate,I===null?(P.childLanes=0,P.lanes=s,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=I.childLanes,P.lanes=I.lanes,P.child=I.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=I.memoizedProps,P.memoizedState=I.memoizedState,P.updateQueue=I.updateQueue,P.type=I.type,s=I.dependencies,P.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),p=p.sibling;return wt(Lt,Lt.current&1|2),c.child}s=s.sibling}P.tail!==null&&Gt()>rs&&(c.flags|=128,g=!0,rc(P,!1),c.lanes=4194304)}else{if(!g)if(s=dd(I),s!==null){if(c.flags|=128,g=!0,p=s.updateQueue,p!==null&&(c.updateQueue=p,c.flags|=4),rc(P,!0),P.tail===null&&P.tailMode==="hidden"&&!I.alternate&&!Dt)return jr(c),null}else 2*Gt()-P.renderingStartTime>rs&&p!==1073741824&&(c.flags|=128,g=!0,rc(P,!1),c.lanes=4194304);P.isBackwards?(I.sibling=c.child,c.child=I):(p=P.last,p!==null?p.sibling=I:c.child=I,P.last=I)}return P.tail!==null?(c=P.tail,P.rendering=c,P.tail=c.sibling,P.renderingStartTime=Gt(),c.sibling=null,p=Lt.current,wt(Lt,g?p&1|2:p&1),c):(jr(c),null);case 22:case 23:return nm(),g=c.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(c.flags|=8192),g&&(c.mode&1)!==0?(rn&1073741824)!==0&&(jr(c),c.subtreeFlags&6&&(c.flags|=8192)):jr(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function KM(s,c){switch(fv(c),c.tag){case 1:return Ur(c.type)&&ed(),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return Qo(),Pt($r),Pt(Sr),Cv(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 5:return jv(c),null;case 13:if(Pt(Lt),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));qo()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return Pt(Lt),null;case 4:return Qo(),null;case 10:return yv(c.type._context),null;case 22:case 23:return nm(),null;case 24:return null;default:return null}}var bd=!1,kr=!1,GM=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function es(s,c){var p=s.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(g){Ut(s,c,g)}else p.current=null}function Kv(s,c,p){try{p()}catch(g){Ut(s,c,g)}}var vk=!1;function VM(s,c){if(nv=Fu,s=Vw(),Zh(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var g=p.getSelection&&p.getSelection();if(g&&g.rangeCount!==0){p=g.anchorNode;var C=g.anchorOffset,P=g.focusNode;g=g.focusOffset;try{p.nodeType,P.nodeType}catch{p=null;break e}var I=0,G=-1,X=-1,ie=0,ve=0,me=s,he=null;t:for(;;){for(var je;me!==p||C!==0&&me.nodeType!==3||(G=I+C),me!==P||g!==0&&me.nodeType!==3||(X=I+g),me.nodeType===3&&(I+=me.nodeValue.length),(je=me.firstChild)!==null;)he=me,me=je;for(;;){if(me===s)break t;if(he===p&&++ie===C&&(G=I),he===P&&++ve===g&&(X=I),(je=me.nextSibling)!==null)break;me=he,he=me.parentNode}me=je}p=G===-1||X===-1?null:{start:G,end:X}}else p=null}p=p||{start:0,end:0}}else p=null;for(av={focusedElem:s,selectionRange:p},Fu=!1,Ce=c;Ce!==null;)if(c=Ce,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,Ce=s;else for(;Ce!==null;){c=Ce;try{var Ae=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var _e=Ae.memoizedProps,Vt=Ae.memoizedState,te=c.stateNode,J=te.getSnapshotBeforeUpdate(c.elementType===c.type?_e:Dn(c.type,_e),Vt);te.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var ne=c.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(be){Ut(c,c.return,be)}if(s=c.sibling,s!==null){s.return=c.return,Ce=s;break}Ce=c.return}return Ae=vk,vk=!1,Ae}function nc(s,c,p){var g=c.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var C=g=g.next;do{if((C.tag&s)===s){var P=C.destroy;C.destroy=void 0,P!==void 0&&Kv(c,p,P)}C=C.next}while(C!==g)}}function Sd(s,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&s)===s){var g=p.create;p.destroy=g()}p=p.next}while(p!==c)}}function Gv(s){var c=s.ref;if(c!==null){var p=s.stateNode;switch(s.tag){case 5:s=p;break;default:s=p}typeof c=="function"?c(s):c.current=s}}function mk(s){var c=s.alternate;c!==null&&(s.alternate=null,mk(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&(delete c[Jn],delete c[Gl],delete c[lv],delete c[PM],delete c[_M])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function gk(s){return s.tag===5||s.tag===3||s.tag===4}function yk(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||gk(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Vv(s,c,p){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?p.nodeType===8?p.parentNode.insertBefore(s,c):p.insertBefore(s,c):(p.nodeType===8?(c=p.parentNode,c.insertBefore(s,p)):(c=p,c.appendChild(s)),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=Qu));else if(g!==4&&(s=s.child,s!==null))for(Vv(s,c,p),s=s.sibling;s!==null;)Vv(s,c,p),s=s.sibling}function qv(s,c,p){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?p.insertBefore(s,c):p.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(qv(s,c,p),s=s.sibling;s!==null;)qv(s,c,p),s=s.sibling}var gr=null,Rn=!1;function li(s,c,p){for(p=p.child;p!==null;)xk(s,c,p),p=p.sibling}function xk(s,c,p){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(Du,p)}catch{}switch(p.tag){case 5:kr||es(p,c);case 6:var g=gr,C=Rn;gr=null,li(s,c,p),gr=g,Rn=C,gr!==null&&(Rn?(s=gr,p=p.stateNode,s.nodeType===8?s.parentNode.removeChild(p):s.removeChild(p)):gr.removeChild(p.stateNode));break;case 18:gr!==null&&(Rn?(s=gr,p=p.stateNode,s.nodeType===8?sv(s.parentNode,p):s.nodeType===1&&sv(s,p),Rl(s)):sv(gr,p.stateNode));break;case 4:g=gr,C=Rn,gr=p.stateNode.containerInfo,Rn=!0,li(s,c,p),gr=g,Rn=C;break;case 0:case 11:case 14:case 15:if(!kr&&(g=p.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){C=g=g.next;do{var P=C,I=P.destroy;P=P.tag,I!==void 0&&((P&2)!==0||(P&4)!==0)&&Kv(p,c,I),C=C.next}while(C!==g)}li(s,c,p);break;case 1:if(!kr&&(es(p,c),g=p.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=p.memoizedProps,g.state=p.memoizedState,g.componentWillUnmount()}catch(G){Ut(p,c,G)}li(s,c,p);break;case 21:li(s,c,p);break;case 22:p.mode&1?(kr=(g=kr)||p.memoizedState!==null,li(s,c,p),kr=g):li(s,c,p);break;default:li(s,c,p)}}function bk(s){var c=s.updateQueue;if(c!==null){s.updateQueue=null;var p=s.stateNode;p===null&&(p=s.stateNode=new GM),c.forEach(function(g){var C=r4.bind(null,s,g);p.has(g)||(p.add(g),g.then(C,C))})}}function In(s,c){var p=c.deletions;if(p!==null)for(var g=0;g<p.length;g++){var C=p[g];try{var P=s,I=c,G=I;e:for(;G!==null;){switch(G.tag){case 5:gr=G.stateNode,Rn=!1;break e;case 3:gr=G.stateNode.containerInfo,Rn=!0;break e;case 4:gr=G.stateNode.containerInfo,Rn=!0;break e}G=G.return}if(gr===null)throw Error(r(160));xk(P,I,C),gr=null,Rn=!1;var X=C.alternate;X!==null&&(X.return=null),C.return=null}catch(ie){Ut(C,c,ie)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)Sk(c,s),c=c.sibling}function Sk(s,c){var p=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(In(c,s),ra(s),g&4){try{nc(3,s,s.return),Sd(3,s)}catch(_e){Ut(s,s.return,_e)}try{nc(5,s,s.return)}catch(_e){Ut(s,s.return,_e)}}break;case 1:In(c,s),ra(s),g&512&&p!==null&&es(p,p.return);break;case 5:if(In(c,s),ra(s),g&512&&p!==null&&es(p,p.return),s.flags&32){var C=s.stateNode;try{br(C,"")}catch(_e){Ut(s,s.return,_e)}}if(g&4&&(C=s.stateNode,C!=null)){var P=s.memoizedProps,I=p!==null?p.memoizedProps:P,G=s.type,X=s.updateQueue;if(s.updateQueue=null,X!==null)try{G==="input"&&P.type==="radio"&&P.name!=null&&tt(C,P),ee(G,I);var ie=ee(G,P);for(I=0;I<X.length;I+=2){var ve=X[I],me=X[I+1];ve==="style"?Yr(C,me):ve==="dangerouslySetInnerHTML"?hn(C,me):ve==="children"?br(C,me):S(C,ve,me,ie)}switch(G){case"input":Qe(C,P);break;case"textarea":Ve(C,P);break;case"select":var he=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!P.multiple;var je=P.value;je!=null?Kt(C,!!P.multiple,je,!1):he!==!!P.multiple&&(P.defaultValue!=null?Kt(C,!!P.multiple,P.defaultValue,!0):Kt(C,!!P.multiple,P.multiple?[]:"",!1))}C[Gl]=P}catch(_e){Ut(s,s.return,_e)}}break;case 6:if(In(c,s),ra(s),g&4){if(s.stateNode===null)throw Error(r(162));C=s.stateNode,P=s.memoizedProps;try{C.nodeValue=P}catch(_e){Ut(s,s.return,_e)}}break;case 3:if(In(c,s),ra(s),g&4&&p!==null&&p.memoizedState.isDehydrated)try{Rl(c.containerInfo)}catch(_e){Ut(s,s.return,_e)}break;case 4:In(c,s),ra(s);break;case 13:In(c,s),ra(s),C=s.child,C.flags&8192&&(P=C.memoizedState!==null,C.stateNode.isHidden=P,!P||C.alternate!==null&&C.alternate.memoizedState!==null||(Yv=Gt())),g&4&&bk(s);break;case 22:if(ve=p!==null&&p.memoizedState!==null,s.mode&1?(kr=(ie=kr)||ve,In(c,s),kr=ie):In(c,s),ra(s),g&8192){if(ie=s.memoizedState!==null,(s.stateNode.isHidden=ie)&&!ve&&(s.mode&1)!==0)for(Ce=s,ve=s.child;ve!==null;){for(me=Ce=ve;Ce!==null;){switch(he=Ce,je=he.child,he.tag){case 0:case 11:case 14:case 15:nc(4,he,he.return);break;case 1:es(he,he.return);var Ae=he.stateNode;if(typeof Ae.componentWillUnmount=="function"){g=he,p=he.return;try{c=g,Ae.props=c.memoizedProps,Ae.state=c.memoizedState,Ae.componentWillUnmount()}catch(_e){Ut(g,p,_e)}}break;case 5:es(he,he.return);break;case 22:if(he.memoizedState!==null){kk(me);continue}}je!==null?(je.return=he,Ce=je):kk(me)}ve=ve.sibling}e:for(ve=null,me=s;;){if(me.tag===5){if(ve===null){ve=me;try{C=me.stateNode,ie?(P=C.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(G=me.stateNode,X=me.memoizedProps.style,I=X!=null&&X.hasOwnProperty("display")?X.display:null,G.style.display=_r("display",I))}catch(_e){Ut(s,s.return,_e)}}}else if(me.tag===6){if(ve===null)try{me.stateNode.nodeValue=ie?"":me.memoizedProps}catch(_e){Ut(s,s.return,_e)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===s)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===s)break e;for(;me.sibling===null;){if(me.return===null||me.return===s)break e;ve===me&&(ve=null),me=me.return}ve===me&&(ve=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:In(c,s),ra(s),g&4&&bk(s);break;case 21:break;default:In(c,s),ra(s)}}function ra(s){var c=s.flags;if(c&2){try{e:{for(var p=s.return;p!==null;){if(gk(p)){var g=p;break e}p=p.return}throw Error(r(160))}switch(g.tag){case 5:var C=g.stateNode;g.flags&32&&(br(C,""),g.flags&=-33);var P=yk(s);qv(s,P,C);break;case 3:case 4:var I=g.stateNode.containerInfo,G=yk(s);Vv(s,G,I);break;default:throw Error(r(161))}}catch(X){Ut(s,s.return,X)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function qM(s,c,p){Ce=s,wk(s)}function wk(s,c,p){for(var g=(s.mode&1)!==0;Ce!==null;){var C=Ce,P=C.child;if(C.tag===22&&g){var I=C.memoizedState!==null||bd;if(!I){var G=C.alternate,X=G!==null&&G.memoizedState!==null||kr;G=bd;var ie=kr;if(bd=I,(kr=X)&&!ie)for(Ce=C;Ce!==null;)I=Ce,X=I.child,I.tag===22&&I.memoizedState!==null?Ck(C):X!==null?(X.return=I,Ce=X):Ck(C);for(;P!==null;)Ce=P,wk(P),P=P.sibling;Ce=C,bd=G,kr=ie}jk(s)}else(C.subtreeFlags&8772)!==0&&P!==null?(P.return=C,Ce=P):jk(s)}}function jk(s){for(;Ce!==null;){var c=Ce;if((c.flags&8772)!==0){var p=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:kr||Sd(5,c);break;case 1:var g=c.stateNode;if(c.flags&4&&!kr)if(p===null)g.componentDidMount();else{var C=c.elementType===c.type?p.memoizedProps:Dn(c.type,p.memoizedProps);g.componentDidUpdate(C,p.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var P=c.updateQueue;P!==null&&kj(c,P,g);break;case 3:var I=c.updateQueue;if(I!==null){if(p=null,c.child!==null)switch(c.child.tag){case 5:p=c.child.stateNode;break;case 1:p=c.child.stateNode}kj(c,I,p)}break;case 5:var G=c.stateNode;if(p===null&&c.flags&4){p=G;var X=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&p.focus();break;case"img":X.src&&(p.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ie=c.alternate;if(ie!==null){var ve=ie.memoizedState;if(ve!==null){var me=ve.dehydrated;me!==null&&Rl(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}kr||c.flags&512&&Gv(c)}catch(he){Ut(c,c.return,he)}}if(c===s){Ce=null;break}if(p=c.sibling,p!==null){p.return=c.return,Ce=p;break}Ce=c.return}}function kk(s){for(;Ce!==null;){var c=Ce;if(c===s){Ce=null;break}var p=c.sibling;if(p!==null){p.return=c.return,Ce=p;break}Ce=c.return}}function Ck(s){for(;Ce!==null;){var c=Ce;try{switch(c.tag){case 0:case 11:case 15:var p=c.return;try{Sd(4,c)}catch(X){Ut(c,p,X)}break;case 1:var g=c.stateNode;if(typeof g.componentDidMount=="function"){var C=c.return;try{g.componentDidMount()}catch(X){Ut(c,C,X)}}var P=c.return;try{Gv(c)}catch(X){Ut(c,P,X)}break;case 5:var I=c.return;try{Gv(c)}catch(X){Ut(c,I,X)}}}catch(X){Ut(c,c.return,X)}if(c===s){Ce=null;break}var G=c.sibling;if(G!==null){G.return=c.return,Ce=G;break}Ce=c.return}}var ZM=Math.ceil,wd=N.ReactCurrentDispatcher,Zv=N.ReactCurrentOwner,bn=N.ReactCurrentBatchConfig,nt=0,dr=null,Qt=null,yr=0,rn=0,ts=ni(0),nr=0,ac=null,Xi=0,jd=0,Xv=0,ic=null,Kr=null,Yv=0,rs=1/0,Ca=null,kd=!1,Qv=null,ci=null,Cd=!1,ui=null,zd=0,oc=0,Jv=null,Ad=-1,Nd=0;function Tr(){return(nt&6)!==0?Gt():Ad!==-1?Ad:Ad=Gt()}function di(s){return(s.mode&1)===0?1:(nt&2)!==0&&yr!==0?yr&-yr:EM.transition!==null?(Nd===0&&(Nd=yw()),Nd):(s=ht,s!==0||(s=window.event,s=s===void 0?16:Aw(s.type)),s)}function Mn(s,c,p,g){if(50<oc)throw oc=0,Jv=null,Error(r(185));_l(s,p,g),((nt&2)===0||s!==dr)&&(s===dr&&((nt&2)===0&&(jd|=p),nr===4&&fi(s,yr)),Gr(s,g),p===1&&nt===0&&(c.mode&1)===0&&(rs=Gt()+500,rd&&ii()))}function Gr(s,c){var p=s.callbackNode;E5(s,c);var g=Mu(s,s===dr?yr:0);if(g===0)p!==null&&vw(p),s.callbackNode=null,s.callbackPriority=0;else if(c=g&-g,s.callbackPriority!==c){if(p!=null&&vw(p),c===1)s.tag===0?OM(Ak.bind(null,s)):fj(Ak.bind(null,s)),AM(function(){(nt&6)===0&&ii()}),p=null;else{switch(xw(g)){case 1:p=Eh;break;case 4:p=mw;break;case 16:p=Tu;break;case 536870912:p=gw;break;default:p=Tu}p=Rk(p,zk.bind(null,s))}s.callbackPriority=c,s.callbackNode=p}}function zk(s,c){if(Ad=-1,Nd=0,(nt&6)!==0)throw Error(r(327));var p=s.callbackNode;if(ns()&&s.callbackNode!==p)return null;var g=Mu(s,s===dr?yr:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||c)c=Pd(s,g);else{c=g;var C=nt;nt|=2;var P=Pk();(dr!==s||yr!==c)&&(Ca=null,rs=Gt()+500,Qi(s,c));do try{QM();break}catch(G){Nk(s,G)}while(!0);gv(),wd.current=P,nt=C,Qt!==null?c=0:(dr=null,yr=0,c=nr)}if(c!==0){if(c===2&&(C=Th(s),C!==0&&(g=C,c=em(s,C))),c===1)throw p=ac,Qi(s,0),fi(s,g),Gr(s,Gt()),p;if(c===6)fi(s,g);else{if(C=s.current.alternate,(g&30)===0&&!XM(C)&&(c=Pd(s,g),c===2&&(P=Th(s),P!==0&&(g=P,c=em(s,P))),c===1))throw p=ac,Qi(s,0),fi(s,g),Gr(s,Gt()),p;switch(s.finishedWork=C,s.finishedLanes=g,c){case 0:case 1:throw Error(r(345));case 2:Ji(s,Kr,Ca);break;case 3:if(fi(s,g),(g&130023424)===g&&(c=Yv+500-Gt(),10<c)){if(Mu(s,0)!==0)break;if(C=s.suspendedLanes,(C&g)!==g){Tr(),s.pingedLanes|=s.suspendedLanes&C;break}s.timeoutHandle=ov(Ji.bind(null,s,Kr,Ca),c);break}Ji(s,Kr,Ca);break;case 4:if(fi(s,g),(g&4194240)===g)break;for(c=s.eventTimes,C=-1;0<g;){var I=31-On(g);P=1<<I,I=c[I],I>C&&(C=I),g&=~P}if(g=C,g=Gt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*ZM(g/1960))-g,10<g){s.timeoutHandle=ov(Ji.bind(null,s,Kr,Ca),g);break}Ji(s,Kr,Ca);break;case 5:Ji(s,Kr,Ca);break;default:throw Error(r(329))}}}return Gr(s,Gt()),s.callbackNode===p?zk.bind(null,s):null}function em(s,c){var p=ic;return s.current.memoizedState.isDehydrated&&(Qi(s,c).flags|=256),s=Pd(s,c),s!==2&&(c=Kr,Kr=p,c!==null&&tm(c)),s}function tm(s){Kr===null?Kr=s:Kr.push.apply(Kr,s)}function XM(s){for(var c=s;;){if(c.flags&16384){var p=c.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var g=0;g<p.length;g++){var C=p[g],P=C.getSnapshot;C=C.value;try{if(!En(P(),C))return!1}catch{return!1}}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function fi(s,c){for(c&=~Xv,c&=~jd,s.suspendedLanes|=c,s.pingedLanes&=~c,s=s.expirationTimes;0<c;){var p=31-On(c),g=1<<p;s[p]=-1,c&=~g}}function Ak(s){if((nt&6)!==0)throw Error(r(327));ns();var c=Mu(s,0);if((c&1)===0)return Gr(s,Gt()),null;var p=Pd(s,c);if(s.tag!==0&&p===2){var g=Th(s);g!==0&&(c=g,p=em(s,g))}if(p===1)throw p=ac,Qi(s,0),fi(s,c),Gr(s,Gt()),p;if(p===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=c,Ji(s,Kr,Ca),Gr(s,Gt()),null}function rm(s,c){var p=nt;nt|=1;try{return s(c)}finally{nt=p,nt===0&&(rs=Gt()+500,rd&&ii())}}function Yi(s){ui!==null&&ui.tag===0&&(nt&6)===0&&ns();var c=nt;nt|=1;var p=bn.transition,g=ht;try{if(bn.transition=null,ht=1,s)return s()}finally{ht=g,bn.transition=p,nt=c,(nt&6)===0&&ii()}}function nm(){rn=ts.current,Pt(ts)}function Qi(s,c){s.finishedWork=null,s.finishedLanes=0;var p=s.timeoutHandle;if(p!==-1&&(s.timeoutHandle=-1,zM(p)),Qt!==null)for(p=Qt.return;p!==null;){var g=p;switch(fv(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&ed();break;case 3:Qo(),Pt($r),Pt(Sr),Cv();break;case 5:jv(g);break;case 4:Qo();break;case 13:Pt(Lt);break;case 19:Pt(Lt);break;case 10:yv(g.type._context);break;case 22:case 23:nm()}p=p.return}if(dr=s,Qt=s=pi(s.current,null),yr=rn=c,nr=0,ac=null,Xv=jd=Xi=0,Kr=ic=null,Vi!==null){for(c=0;c<Vi.length;c++)if(p=Vi[c],g=p.interleaved,g!==null){p.interleaved=null;var C=g.next,P=p.pending;if(P!==null){var I=P.next;P.next=C,g.next=I}p.pending=g}Vi=null}return s}function Nk(s,c){do{var p=Qt;try{if(gv(),fd.current=md,pd){for(var g=Bt.memoizedState;g!==null;){var C=g.queue;C!==null&&(C.pending=null),g=g.next}pd=!1}if(Zi=0,ur=rr=Bt=null,Ql=!1,Jl=0,Zv.current=null,p===null||p.return===null){nr=1,ac=c,Qt=null;break}e:{var P=s,I=p.return,G=p,X=c;if(c=yr,G.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var ie=X,ve=G,me=ve.tag;if((ve.mode&1)===0&&(me===0||me===11||me===15)){var he=ve.alternate;he?(ve.updateQueue=he.updateQueue,ve.memoizedState=he.memoizedState,ve.lanes=he.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var je=Jj(I);if(je!==null){je.flags&=-257,ek(je,I,G,P,c),je.mode&1&&Qj(P,ie,c),c=je,X=ie;var Ae=c.updateQueue;if(Ae===null){var _e=new Set;_e.add(X),c.updateQueue=_e}else Ae.add(X);break e}else{if((c&1)===0){Qj(P,ie,c),am();break e}X=Error(r(426))}}else if(Dt&&G.mode&1){var Vt=Jj(I);if(Vt!==null){(Vt.flags&65536)===0&&(Vt.flags|=256),ek(Vt,I,G,P,c),vv(Jo(X,G));break e}}P=X=Jo(X,G),nr!==4&&(nr=2),ic===null?ic=[P]:ic.push(P),P=I;do{switch(P.tag){case 3:P.flags|=65536,c&=-c,P.lanes|=c;var te=Xj(P,X,c);jj(P,te);break e;case 1:G=X;var J=P.type,ne=P.stateNode;if((P.flags&128)===0&&(typeof J.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(ci===null||!ci.has(ne)))){P.flags|=65536,c&=-c,P.lanes|=c;var be=Yj(P,G,c);jj(P,be);break e}}P=P.return}while(P!==null)}Ok(p)}catch(Ee){c=Ee,Qt===p&&p!==null&&(Qt=p=p.return);continue}break}while(!0)}function Pk(){var s=wd.current;return wd.current=md,s===null?md:s}function am(){(nr===0||nr===3||nr===2)&&(nr=4),dr===null||(Xi&268435455)===0&&(jd&268435455)===0||fi(dr,yr)}function Pd(s,c){var p=nt;nt|=2;var g=Pk();(dr!==s||yr!==c)&&(Ca=null,Qi(s,c));do try{YM();break}catch(C){Nk(s,C)}while(!0);if(gv(),nt=p,wd.current=g,Qt!==null)throw Error(r(261));return dr=null,yr=0,nr}function YM(){for(;Qt!==null;)_k(Qt)}function QM(){for(;Qt!==null&&!j5();)_k(Qt)}function _k(s){var c=Dk(s.alternate,s,rn);s.memoizedProps=s.pendingProps,c===null?Ok(s):Qt=c,Zv.current=null}function Ok(s){var c=s;do{var p=c.alternate;if(s=c.return,(c.flags&32768)===0){if(p=HM(p,c,rn),p!==null){Qt=p;return}}else{if(p=KM(p,c),p!==null){p.flags&=32767,Qt=p;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{nr=6,Qt=null;return}}if(c=c.sibling,c!==null){Qt=c;return}Qt=c=s}while(c!==null);nr===0&&(nr=5)}function Ji(s,c,p){var g=ht,C=bn.transition;try{bn.transition=null,ht=1,JM(s,c,p,g)}finally{bn.transition=C,ht=g}return null}function JM(s,c,p,g){do ns();while(ui!==null);if((nt&6)!==0)throw Error(r(327));p=s.finishedWork;var C=s.finishedLanes;if(p===null)return null;if(s.finishedWork=null,s.finishedLanes=0,p===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var P=p.lanes|p.childLanes;if(T5(s,P),s===dr&&(Qt=dr=null,yr=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Cd||(Cd=!0,Rk(Tu,function(){return ns(),null})),P=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||P){P=bn.transition,bn.transition=null;var I=ht;ht=1;var G=nt;nt|=4,Zv.current=null,VM(s,p),Sk(p,s),xM(av),Fu=!!nv,av=nv=null,s.current=p,qM(p),k5(),nt=G,ht=I,bn.transition=P}else s.current=p;if(Cd&&(Cd=!1,ui=s,zd=C),P=s.pendingLanes,P===0&&(ci=null),A5(p.stateNode),Gr(s,Gt()),c!==null)for(g=s.onRecoverableError,p=0;p<c.length;p++)C=c[p],g(C.value,{componentStack:C.stack,digest:C.digest});if(kd)throw kd=!1,s=Qv,Qv=null,s;return(zd&1)!==0&&s.tag!==0&&ns(),P=s.pendingLanes,(P&1)!==0?s===Jv?oc++:(oc=0,Jv=s):oc=0,ii(),null}function ns(){if(ui!==null){var s=xw(zd),c=bn.transition,p=ht;try{if(bn.transition=null,ht=16>s?16:s,ui===null)var g=!1;else{if(s=ui,ui=null,zd=0,(nt&6)!==0)throw Error(r(331));var C=nt;for(nt|=4,Ce=s.current;Ce!==null;){var P=Ce,I=P.child;if((Ce.flags&16)!==0){var G=P.deletions;if(G!==null){for(var X=0;X<G.length;X++){var ie=G[X];for(Ce=ie;Ce!==null;){var ve=Ce;switch(ve.tag){case 0:case 11:case 15:nc(8,ve,P)}var me=ve.child;if(me!==null)me.return=ve,Ce=me;else for(;Ce!==null;){ve=Ce;var he=ve.sibling,je=ve.return;if(mk(ve),ve===ie){Ce=null;break}if(he!==null){he.return=je,Ce=he;break}Ce=je}}}var Ae=P.alternate;if(Ae!==null){var _e=Ae.child;if(_e!==null){Ae.child=null;do{var Vt=_e.sibling;_e.sibling=null,_e=Vt}while(_e!==null)}}Ce=P}}if((P.subtreeFlags&2064)!==0&&I!==null)I.return=P,Ce=I;else e:for(;Ce!==null;){if(P=Ce,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:nc(9,P,P.return)}var te=P.sibling;if(te!==null){te.return=P.return,Ce=te;break e}Ce=P.return}}var J=s.current;for(Ce=J;Ce!==null;){I=Ce;var ne=I.child;if((I.subtreeFlags&2064)!==0&&ne!==null)ne.return=I,Ce=ne;else e:for(I=J;Ce!==null;){if(G=Ce,(G.flags&2048)!==0)try{switch(G.tag){case 0:case 11:case 15:Sd(9,G)}}catch(Ee){Ut(G,G.return,Ee)}if(G===I){Ce=null;break e}var be=G.sibling;if(be!==null){be.return=G.return,Ce=be;break e}Ce=G.return}}if(nt=C,ii(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(Du,s)}catch{}g=!0}return g}finally{ht=p,bn.transition=c}}return!1}function Ek(s,c,p){c=Jo(p,c),c=Xj(s,c,1),s=si(s,c,1),c=Tr(),s!==null&&(_l(s,1,c),Gr(s,c))}function Ut(s,c,p){if(s.tag===3)Ek(s,s,p);else for(;c!==null;){if(c.tag===3){Ek(c,s,p);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ci===null||!ci.has(g))){s=Jo(p,s),s=Yj(c,s,1),c=si(c,s,1),s=Tr(),c!==null&&(_l(c,1,s),Gr(c,s));break}}c=c.return}}function e4(s,c,p){var g=s.pingCache;g!==null&&g.delete(c),c=Tr(),s.pingedLanes|=s.suspendedLanes&p,dr===s&&(yr&p)===p&&(nr===4||nr===3&&(yr&130023424)===yr&&500>Gt()-Yv?Qi(s,0):Xv|=p),Gr(s,c)}function Tk(s,c){c===0&&((s.mode&1)===0?c=1:(c=Iu,Iu<<=1,(Iu&130023424)===0&&(Iu=4194304)));var p=Tr();s=wa(s,c),s!==null&&(_l(s,c,p),Gr(s,p))}function t4(s){var c=s.memoizedState,p=0;c!==null&&(p=c.retryLane),Tk(s,p)}function r4(s,c){var p=0;switch(s.tag){case 13:var g=s.stateNode,C=s.memoizedState;C!==null&&(p=C.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(c),Tk(s,p)}var Dk;Dk=function(s,c,p){if(s!==null)if(s.memoizedProps!==c.pendingProps||$r.current)Hr=!0;else{if((s.lanes&p)===0&&(c.flags&128)===0)return Hr=!1,UM(s,c,p);Hr=(s.flags&131072)!==0}else Hr=!1,Dt&&(c.flags&1048576)!==0&&pj(c,ad,c.index);switch(c.lanes=0,c.tag){case 2:var g=c.type;xd(s,c),s=c.pendingProps;var C=Ko(c,Sr.current);Yo(c,p),C=Nv(null,c,g,s,C,p);var P=Pv();return c.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Ur(g)?(P=!0,td(c)):P=!1,c.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,Sv(c),C.updater=gd,c.stateNode=C,C._reactInternals=c,Rv(c,g,s,p),c=Bv(null,c,g,!0,P,p)):(c.tag=0,Dt&&P&&dv(c),Er(null,c,C,p),c=c.child),c;case 16:g=c.elementType;e:{switch(xd(s,c),s=c.pendingProps,C=g._init,g=C(g._payload),c.type=g,C=c.tag=a4(g),s=Dn(g,s),C){case 0:c=Lv(null,c,g,s,p);break e;case 1:c=ok(null,c,g,s,p);break e;case 11:c=tk(null,c,g,s,p);break e;case 14:c=rk(null,c,g,Dn(g.type,s),p);break e}throw Error(r(306,g,""))}return c;case 0:return g=c.type,C=c.pendingProps,C=c.elementType===g?C:Dn(g,C),Lv(s,c,g,C,p);case 1:return g=c.type,C=c.pendingProps,C=c.elementType===g?C:Dn(g,C),ok(s,c,g,C,p);case 3:e:{if(sk(c),s===null)throw Error(r(387));g=c.pendingProps,P=c.memoizedState,C=P.element,wj(s,c),ud(c,g,null,p);var I=c.memoizedState;if(g=I.element,P.isDehydrated)if(P={element:g,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},c.updateQueue.baseState=P,c.memoizedState=P,c.flags&256){C=Jo(Error(r(423)),c),c=lk(s,c,g,p,C);break e}else if(g!==C){C=Jo(Error(r(424)),c),c=lk(s,c,g,p,C);break e}else for(tn=ri(c.stateNode.containerInfo.firstChild),en=c,Dt=!0,Tn=null,p=bj(c,null,g,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(qo(),g===C){c=ka(s,c,p);break e}Er(s,c,g,p)}c=c.child}return c;case 5:return Cj(c),s===null&&hv(c),g=c.type,C=c.pendingProps,P=s!==null?s.memoizedProps:null,I=C.children,iv(g,C)?I=null:P!==null&&iv(g,P)&&(c.flags|=32),ik(s,c),Er(s,c,I,p),c.child;case 6:return s===null&&hv(c),null;case 13:return ck(s,c,p);case 4:return wv(c,c.stateNode.containerInfo),g=c.pendingProps,s===null?c.child=Zo(c,null,g,p):Er(s,c,g,p),c.child;case 11:return g=c.type,C=c.pendingProps,C=c.elementType===g?C:Dn(g,C),tk(s,c,g,C,p);case 7:return Er(s,c,c.pendingProps,p),c.child;case 8:return Er(s,c,c.pendingProps.children,p),c.child;case 12:return Er(s,c,c.pendingProps.children,p),c.child;case 10:e:{if(g=c.type._context,C=c.pendingProps,P=c.memoizedProps,I=C.value,wt(sd,g._currentValue),g._currentValue=I,P!==null)if(En(P.value,I)){if(P.children===C.children&&!$r.current){c=ka(s,c,p);break e}}else for(P=c.child,P!==null&&(P.return=c);P!==null;){var G=P.dependencies;if(G!==null){I=P.child;for(var X=G.firstContext;X!==null;){if(X.context===g){if(P.tag===1){X=ja(-1,p&-p),X.tag=2;var ie=P.updateQueue;if(ie!==null){ie=ie.shared;var ve=ie.pending;ve===null?X.next=X:(X.next=ve.next,ve.next=X),ie.pending=X}}P.lanes|=p,X=P.alternate,X!==null&&(X.lanes|=p),xv(P.return,p,c),G.lanes|=p;break}X=X.next}}else if(P.tag===10)I=P.type===c.type?null:P.child;else if(P.tag===18){if(I=P.return,I===null)throw Error(r(341));I.lanes|=p,G=I.alternate,G!==null&&(G.lanes|=p),xv(I,p,c),I=P.sibling}else I=P.child;if(I!==null)I.return=P;else for(I=P;I!==null;){if(I===c){I=null;break}if(P=I.sibling,P!==null){P.return=I.return,I=P;break}I=I.return}P=I}Er(s,c,C.children,p),c=c.child}return c;case 9:return C=c.type,g=c.pendingProps.children,Yo(c,p),C=yn(C),g=g(C),c.flags|=1,Er(s,c,g,p),c.child;case 14:return g=c.type,C=Dn(g,c.pendingProps),C=Dn(g.type,C),rk(s,c,g,C,p);case 15:return nk(s,c,c.type,c.pendingProps,p);case 17:return g=c.type,C=c.pendingProps,C=c.elementType===g?C:Dn(g,C),xd(s,c),c.tag=1,Ur(g)?(s=!0,td(c)):s=!1,Yo(c,p),qj(c,g,C),Rv(c,g,C,p),Bv(null,c,g,!0,s,p);case 19:return dk(s,c,p);case 22:return ak(s,c,p)}throw Error(r(156,c.tag))};function Rk(s,c){return hw(s,c)}function n4(s,c,p,g){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(s,c,p,g){return new n4(s,c,p,g)}function im(s){return s=s.prototype,!(!s||!s.isReactComponent)}function a4(s){if(typeof s=="function")return im(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===H)return 14}return 2}function pi(s,c){var p=s.alternate;return p===null?(p=Sn(s.tag,c,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=c,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&14680064,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,c=s.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p}function _d(s,c,p,g,C,P){var I=2;if(g=s,typeof s=="function")im(s)&&(I=1);else if(typeof s=="string")I=5;else e:switch(s){case _:return eo(p.children,C,P,c);case T:I=8,C|=8;break;case E:return s=Sn(12,p,c,C|2),s.elementType=E,s.lanes=P,s;case L:return s=Sn(13,p,c,C),s.elementType=L,s.lanes=P,s;case V:return s=Sn(19,p,c,C),s.elementType=V,s.lanes=P,s;case Y:return Od(p,C,P,c);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:I=10;break e;case M:I=9;break e;case F:I=11;break e;case H:I=14;break e;case Z:I=16,g=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return c=Sn(I,p,c,C),c.elementType=s,c.type=g,c.lanes=P,c}function eo(s,c,p,g){return s=Sn(7,s,g,c),s.lanes=p,s}function Od(s,c,p,g){return s=Sn(22,s,g,c),s.elementType=Y,s.lanes=p,s.stateNode={isHidden:!1},s}function om(s,c,p){return s=Sn(6,s,null,c),s.lanes=p,s}function sm(s,c,p){return c=Sn(4,s.children!==null?s.children:[],s.key,c),c.lanes=p,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}function i4(s,c,p,g,C){this.tag=c,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dh(0),this.expirationTimes=Dh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dh(0),this.identifierPrefix=g,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function lm(s,c,p,g,C,P,I,G,X){return s=new i4(s,c,p,G,X),c===1?(c=1,P===!0&&(c|=8)):c=0,P=Sn(3,null,null,c),s.current=P,P.stateNode=s,P.memoizedState={element:g,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sv(P),s}function o4(s,c,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:g==null?null:""+g,children:s,containerInfo:c,implementation:p}}function Ik(s){if(!s)return ai;s=s._reactInternals;e:{if($i(s)!==s||s.tag!==1)throw Error(r(170));var c=s;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Ur(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(s.tag===1){var p=s.type;if(Ur(p))return uj(s,p,c)}return c}function Mk(s,c,p,g,C,P,I,G,X){return s=lm(p,g,!0,s,C,P,I,G,X),s.context=Ik(null),p=s.current,g=Tr(),C=di(p),P=ja(g,C),P.callback=c??null,si(p,P,C),s.current.lanes=C,_l(s,C,g),Gr(s,g),s}function Ed(s,c,p,g){var C=c.current,P=Tr(),I=di(C);return p=Ik(p),c.context===null?c.context=p:c.pendingContext=p,c=ja(P,I),c.payload={element:s},g=g===void 0?null:g,g!==null&&(c.callback=g),s=si(C,c,I),s!==null&&(Mn(s,C,I,P),cd(s,C,I)),I}function Td(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Lk(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<c?p:c}}function cm(s,c){Lk(s,c),(s=s.alternate)&&Lk(s,c)}function s4(){return null}var Bk=typeof reportError=="function"?reportError:function(s){console.error(s)};function um(s){this._internalRoot=s}Dd.prototype.render=um.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));Ed(s,c,null,null)},Dd.prototype.unmount=um.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;Yi(function(){Ed(null,s,null,null)}),c[ya]=null}};function Dd(s){this._internalRoot=s}Dd.prototype.unstable_scheduleHydration=function(s){if(s){var c=ww();s={blockedOn:null,target:s,priority:c};for(var p=0;p<Ja.length&&c!==0&&c<Ja[p].priority;p++);Ja.splice(p,0,s),p===0&&Cw(s)}};function dm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Rd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Fk(){}function l4(s,c,p,g,C){if(C){if(typeof g=="function"){var P=g;g=function(){var ie=Td(I);P.call(ie)}}var I=Mk(c,g,s,0,null,!1,!1,"",Fk);return s._reactRootContainer=I,s[ya]=I.current,Hl(s.nodeType===8?s.parentNode:s),Yi(),I}for(;C=s.lastChild;)s.removeChild(C);if(typeof g=="function"){var G=g;g=function(){var ie=Td(X);G.call(ie)}}var X=lm(s,0,!1,null,null,!1,!1,"",Fk);return s._reactRootContainer=X,s[ya]=X.current,Hl(s.nodeType===8?s.parentNode:s),Yi(function(){Ed(c,X,p,g)}),X}function Id(s,c,p,g,C){var P=p._reactRootContainer;if(P){var I=P;if(typeof C=="function"){var G=C;C=function(){var X=Td(I);G.call(X)}}Ed(c,I,s,C)}else I=l4(p,c,s,C,g);return Td(I)}bw=function(s){switch(s.tag){case 3:var c=s.stateNode;if(c.current.memoizedState.isDehydrated){var p=Pl(c.pendingLanes);p!==0&&(Rh(c,p|1),Gr(c,Gt()),(nt&6)===0&&(rs=Gt()+500,ii()))}break;case 13:Yi(function(){var g=wa(s,1);if(g!==null){var C=Tr();Mn(g,s,1,C)}}),cm(s,1)}},Ih=function(s){if(s.tag===13){var c=wa(s,134217728);if(c!==null){var p=Tr();Mn(c,s,134217728,p)}cm(s,134217728)}},Sw=function(s){if(s.tag===13){var c=di(s),p=wa(s,c);if(p!==null){var g=Tr();Mn(p,s,c,g)}cm(s,c)}},ww=function(){return ht},jw=function(s,c){var p=ht;try{return ht=s,c()}finally{ht=p}},R=function(s,c,p){switch(c){case"input":if(Qe(s,p),c=p.name,p.type==="radio"&&c!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<p.length;c++){var g=p[c];if(g!==s&&g.form===s.form){var C=Ju(g);if(!C)throw Error(r(90));le(g),Qe(g,C)}}}break;case"textarea":Ve(s,p);break;case"select":c=p.value,c!=null&&Kt(s,!!p.multiple,c,!1)}},Yt=rm,Yn=Yi;var c4={usingClientEntryPoint:!1,Events:[Vl,Uo,Ju,ut,Tt,rm]},sc={findFiberByHostInstance:Ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},u4={bundleType:sc.bundleType,version:sc.version,rendererPackageName:sc.rendererPackageName,rendererConfig:sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=fw(s),s===null?null:s.stateNode},findFiberByHostInstance:sc.findFiberByHostInstance||s4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Md.isDisabled&&Md.supportsFiber)try{Du=Md.inject(u4),Qn=Md}catch{}}return Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c4,Vr.createPortal=function(s,c){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dm(c))throw Error(r(200));return o4(s,c,null,p)},Vr.createRoot=function(s,c){if(!dm(s))throw Error(r(299));var p=!1,g="",C=Bk;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),c=lm(s,1,!1,null,null,p,!1,g,C),s[ya]=c.current,Hl(s.nodeType===8?s.parentNode:s),new um(c)},Vr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=fw(c),s=s===null?null:s.stateNode,s},Vr.flushSync=function(s){return Yi(s)},Vr.hydrate=function(s,c,p){if(!Rd(c))throw Error(r(200));return Id(null,s,c,!0,p)},Vr.hydrateRoot=function(s,c,p){if(!dm(s))throw Error(r(405));var g=p!=null&&p.hydratedSources||null,C=!1,P="",I=Bk;if(p!=null&&(p.unstable_strictMode===!0&&(C=!0),p.identifierPrefix!==void 0&&(P=p.identifierPrefix),p.onRecoverableError!==void 0&&(I=p.onRecoverableError)),c=Mk(c,null,s,1,p??null,C,!1,P,I),s[ya]=c.current,Hl(s),g)for(s=0;s<g.length;s++)p=g[s],C=p._getVersion,C=C(p._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[p,C]:c.mutableSourceEagerHydrationData.push(p,C);return new Dd(c)},Vr.render=function(s,c,p){if(!Rd(c))throw Error(r(200));return Id(null,s,c,!1,p)},Vr.unmountComponentAtNode=function(s){if(!Rd(s))throw Error(r(40));return s._reactRootContainer?(Yi(function(){Id(null,null,s,!1,function(){s._reactRootContainer=null,s[ya]=null})}),!0):!1},Vr.unstable_batchedUpdates=rm,Vr.unstable_renderSubtreeIntoContainer=function(s,c,p,g){if(!Rd(p))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Id(s,c,p,!1,g)},Vr.version="18.3.1-next-f1338f8080-20240426",Vr}var qk;function iE(){if(qk)return hm.exports;qk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hm.exports=y4(),hm.exports}var Zk;function x4(){if(Zk)return Bd;Zk=1;var e=iE();return Bd.createRoot=e.createRoot,Bd.hydrateRoot=e.hydrateRoot,Bd}var b4=x4(),z=IS();const K=pt(z),MS=f4({__proto__:null,default:K},[z]),Jt={RUNS:"allocation_runs",ARTICLES:"allocation_articles",STORES:"allocation_stores",CAPACITY:"allocation_capacity",SCENARIOS:"allocation_scenarios",EXCEPTIONS:"allocation_exceptions",PARAMETERS:"allocation_parameters",TASKS:"allocation_tasks",USER:"allocation_user"};function za(e,t){try{const r=localStorage.getItem(e);return r?JSON.parse(r):t}catch(r){return console.error(`Error reading from localStorage: ${e}`,r),t}}function Aa(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.error(`Error saving to localStorage: ${e}`,r)}}function S4(e){try{localStorage.removeItem(e)}catch(t){console.error(`Error removing from localStorage: ${e}`,t)}}const vt={getRuns:()=>za(Jt.RUNS,[]),saveRuns:e=>Aa(Jt.RUNS,e),getArticles:()=>za(Jt.ARTICLES,[]),saveArticles:e=>Aa(Jt.ARTICLES,e),getStores:()=>za(Jt.STORES,[]),saveStores:e=>Aa(Jt.STORES,e),getCapacity:()=>za(Jt.CAPACITY,[]),saveCapacity:e=>Aa(Jt.CAPACITY,e),getScenarios:()=>za(Jt.SCENARIOS,[]),saveScenarios:e=>Aa(Jt.SCENARIOS,e),getExceptions:()=>za(Jt.EXCEPTIONS,[]),saveExceptions:e=>Aa(Jt.EXCEPTIONS,e),getParameters:()=>za(Jt.PARAMETERS,[]),saveParameters:e=>Aa(Jt.PARAMETERS,e),getTasks:()=>za(Jt.TASKS,[]),saveTasks:e=>Aa(Jt.TASKS,e),getUser:()=>za(Jt.USER,null),saveUser:e=>Aa(Jt.USER,e),clearAll:()=>{Object.values(Jt).forEach(e=>S4(e))},isInitialized:()=>localStorage.getItem(Jt.RUNS)!==null},w4={id:"user-001",name:"Max Mustermann",email:"max.mustermann@company.ch",role:"manager",department:"Allocation Management"},j4=[{id:"store-zh-hb",name:"Zrich HB",description:"Hauptbahnhof Zrich",cluster:"Urban Premium",region:"Zrich",address:"Bahnhofplatz 15, 8001 Zrich",totalCapacity:500,isActive:!0,createdAt:"2024-01-01"},{id:"store-bs-sbb",name:"Basel SBB",description:"Basel Bahnhof SBB",cluster:"Urban Standard",region:"Basel",address:"Centralbahnplatz 1, 4051 Basel",totalCapacity:400,isActive:!0,createdAt:"2024-01-01"},{id:"store-be-bhf",name:"Bern Bahnhof",description:"Bern Hauptbahnhof",cluster:"Regional",region:"Bern",address:"Bahnhofplatz 10, 3011 Bern",totalCapacity:350,isActive:!0,createdAt:"2024-01-01"},{id:"store-lu",name:"Luzern",description:"Luzern Bahnhofstrasse",cluster:"Regional",region:"Zentralschweiz",address:"Bahnhofstrasse 5, 6003 Luzern",totalCapacity:300,isActive:!0,createdAt:"2024-01-01"},{id:"store-ge",name:"Genf",description:"Genve Centre",cluster:"Urban Premium",region:"Romandie",address:"Rue du Mont-Blanc 22, 1201 Genve",totalCapacity:450,isActive:!0,createdAt:"2024-01-01"},{id:"store-ls",name:"Lausanne",description:"Lausanne Gare",cluster:"Urban Standard",region:"Romandie",address:"Place de la Gare 9, 1003 Lausanne",totalCapacity:380,isActive:!0,createdAt:"2024-01-01"},{id:"store-sg",name:"St. Gallen",description:"St. Gallen Zentrum",cluster:"Regional",region:"Ostschweiz",address:"Multergasse 15, 9000 St. Gallen",totalCapacity:280,isActive:!0,createdAt:"2024-01-01"},{id:"store-wi",name:"Winterthur",description:"Winterthur Altstadt",cluster:"Regional",region:"Zrich",address:"Marktgasse 25, 8400 Winterthur",totalCapacity:260,isActive:!0,createdAt:"2024-01-01"}],k4=[{id:"RUN-2025-001",type:"initial",status:"completed",startDate:"2025-01-06T09:00:00",endDate:"2025-01-06T11:30:00",articleCount:156,storeCount:8,user:"M. Weber",createdAt:"2025-01-06T09:00:00",updatedAt:"2025-01-06T11:30:00"},{id:"RUN-2025-002",type:"replenishment",status:"completed",startDate:"2025-01-05T14:00:00",endDate:"2025-01-05T15:30:00",articleCount:89,storeCount:6,user:"S. Mller",createdAt:"2025-01-05T14:00:00",updatedAt:"2025-01-05T15:30:00"},{id:"RUN-2025-003",type:"manual",status:"with_exceptions",startDate:"2025-01-04T10:00:00",endDate:"2025-01-04T12:00:00",articleCount:45,storeCount:4,user:"A. Schmidt",createdAt:"2025-01-04T10:00:00",updatedAt:"2025-01-04T12:00:00"},{id:"RUN-2025-004",type:"initial",status:"running",startDate:"2025-01-07T08:00:00",articleCount:203,storeCount:8,progress:65,user:"M. Weber",createdAt:"2025-01-07T08:00:00",updatedAt:"2025-01-07T09:30:00"},{id:"RUN-2025-005",type:"replenishment",status:"planned",startDate:"2025-01-08T09:00:00",articleCount:120,storeCount:8,user:"T. Fischer",createdAt:"2025-01-06T16:00:00",updatedAt:"2025-01-06T16:00:00"}],C4=[{id:"scenario-001",name:"Standard Allokation HW 2025",description:"Standardszenario fr die Herbst/Winter Saison 2025",status:"approved",allocationType:"initial",createdBy:"M. Weber",createdAt:"2024-12-15T10:00:00",updatedAt:"2025-01-02T14:30:00",parameters:{forecastWeight:.6,historicalWeight:.4,safetyStockFactor:1.2,minAllocationQty:5,maxAllocationQty:100,clusterPriority:{"Urban Premium":1,"Urban Standard":2,Regional:3,Outlet:4}},results:{totalAllocated:15420,storesCovered:8,expectedFillRate:94.5,capacityUtilization:87.2,exceptions:3,simulatedAt:"2025-01-02T14:30:00"}},{id:"scenario-002",name:"Optimiert - Hohe Prognosegewichtung",description:"Szenario mit erhhter Gewichtung der Absatzprognose",status:"simulated",allocationType:"initial",createdBy:"S. Mller",createdAt:"2025-01-03T09:00:00",updatedAt:"2025-01-05T11:00:00",parameters:{forecastWeight:.8,historicalWeight:.2,safetyStockFactor:1.1,minAllocationQty:3,maxAllocationQty:120,clusterPriority:{"Urban Premium":1,"Urban Standard":2,Regional:3,Outlet:4}},results:{totalAllocated:16800,storesCovered:8,expectedFillRate:96.2,capacityUtilization:91.5,exceptions:5,simulatedAt:"2025-01-05T11:00:00"}},{id:"scenario-003",name:"NOS Nachschub - Standard",description:"Standardszenario fr Never-out-of-Stock Nachschub",status:"approved",allocationType:"replenishment",createdBy:"T. Fischer",createdAt:"2024-11-20T14:00:00",updatedAt:"2024-12-10T09:00:00",parameters:{forecastWeight:.5,historicalWeight:.5,safetyStockFactor:1.5,minAllocationQty:10,maxAllocationQty:50,clusterPriority:{"Urban Premium":1,"Urban Standard":1,Regional:2,Outlet:3}},results:{totalAllocated:8500,storesCovered:8,expectedFillRate:98.1,capacityUtilization:72.3,exceptions:1,simulatedAt:"2024-12-10T09:00:00"}},{id:"scenario-004",name:"Konservativ - Niedriger Sicherheitsbestand",description:"Testversion mit reduziertem Sicherheitsbestand",status:"draft",allocationType:"initial",createdBy:"A. Schmidt",createdAt:"2025-01-06T15:00:00",updatedAt:"2025-01-06T15:00:00",parameters:{forecastWeight:.5,historicalWeight:.5,safetyStockFactor:.9,minAllocationQty:5,maxAllocationQty:80,clusterPriority:{"Urban Premium":1,"Urban Standard":2,Regional:3,Outlet:4}}}],z4=[{id:"exc-001",type:"capacity",severity:"high",status:"open",title:"Kapazittsberschreitung Zrich HB",description:"Die geplante Allokation berschreitet die verfgbare Kapazitt um 15%",storeId:"store-zh-hb",runId:"RUN-2025-003",createdAt:"2025-01-04T11:30:00"},{id:"exc-002",type:"stock",severity:"medium",status:"in_progress",title:"Niedriger Lagerbestand Running Shoes",description:"Der zentrale Lagerbestand reicht nicht fr alle geplanten Allokationen",articleId:"art-001",assignedTo:"S. Mller",createdAt:"2025-01-05T09:00:00"},{id:"exc-003",type:"forecast",severity:"low",status:"open",title:"Prognoseabweichung Basel SBB",description:"Die Ist-Verkufe weichen um mehr als 20% von der Prognose ab",storeId:"store-bs-sbb",createdAt:"2025-01-06T14:00:00"},{id:"exc-004",type:"manual",severity:"critical",status:"open",title:"Dringende Nachlieferung Winterjacken",description:"Kundenanfrage fr Sonderlieferung aufgrund hoher Nachfrage",storeId:"store-ge",articleId:"art-004",createdAt:"2025-01-07T08:30:00"},{id:"exc-005",type:"capacity",severity:"medium",status:"resolved",title:"Warentrger-Konflikt Luzern",description:"Zwei Produktgruppen beanspruchen denselben Warentrger",storeId:"store-lu",resolvedAt:"2025-01-03T16:00:00",createdAt:"2025-01-02T10:00:00"}],A4=[{id:"task-001",title:"HW 2025 Allokation prfen",description:"berprfung der initialen Allokation fr die Herbst/Winter Saison",type:"review",status:"in_progress",priority:"high",assignedTo:"M. Weber",dueDate:"2025-01-10",relatedScenarioId:"scenario-001",createdAt:"2025-01-05T09:00:00"},{id:"task-002",title:"Exception Zrich HB bearbeiten",description:"Kapazittsberschreitung in Zrich HB lsen",type:"exception",status:"pending",priority:"urgent",assignedTo:"S. Mller",dueDate:"2025-01-08",relatedRunId:"RUN-2025-003",createdAt:"2025-01-04T12:00:00"},{id:"task-003",title:"Nachschub-Szenario freigeben",description:"NOS Nachschub Szenario zur Produktion freigeben",type:"approval",status:"pending",priority:"medium",assignedTo:"A. Schmidt",dueDate:"2025-01-09",relatedScenarioId:"scenario-003",createdAt:"2025-01-06T10:00:00"},{id:"task-004",title:"Neue Filiale St. Gallen einrichten",description:"Kapazitten und Parameter fr neue Filiale konfigurieren",type:"allocation",status:"completed",priority:"low",assignedTo:"T. Fischer",dueDate:"2025-01-05",completedAt:"2025-01-04T15:00:00",createdAt:"2025-01-02T14:00:00"},{id:"task-005",title:"Prognose-Parameter optimieren",description:"Forecast-Gewichtung basierend auf Q4 Ergebnissen anpassen",type:"allocation",status:"pending",priority:"medium",assignedTo:"M. Weber",dueDate:"2025-01-12",createdAt:"2025-01-06T11:00:00"}],N4=[{id:"param-001",category:"capacity",name:"Standard Kapazittsfaktor",key:"capacity_factor",value:1,unit:"Faktor",description:"Multiplikator fr die Basiskapazitt",minValue:.5,maxValue:2,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-002",category:"capacity",name:"Maximale Auslastung",key:"max_utilization",value:95,unit:"%",description:"Maximale erlaubte Kapazittsauslastung",minValue:70,maxValue:100,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-003",category:"presentation",name:"Mindest-Prsentationsmenge",key:"min_presentation",value:3,unit:"Stck",description:"Minimale Anzahl pro Gre auf der Flche",minValue:1,maxValue:10,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-004",category:"presentation",name:"Grenspiegel-Faktor",key:"size_curve_factor",value:1,unit:"Faktor",description:"Anpassung der Standard-Grenverteilung",minValue:.5,maxValue:1.5,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-005",category:"control",name:"Prognose-Horizont",key:"forecast_horizon",value:8,unit:"Wochen",description:"Zeitraum fr Absatzprognose",minValue:2,maxValue:16,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-006",category:"control",name:"Sicherheitsbestand-Tage",key:"safety_stock_days",value:14,unit:"Tage",description:"Puffer fr Nachschub-Verzgerungen",minValue:7,maxValue:30,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-007",category:"blocking",name:"Mindestverkaufstage",key:"min_selling_days",value:21,unit:"Tage",description:"Minimum Verkaufszeitraum vor Sperrung",minValue:7,maxValue:60,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-008",category:"blocking",name:"Abverkaufs-Schwelle",key:"sellthrough_threshold",value:30,unit:"%",description:"Mindest-Abverkaufsrate fr Nachschub",minValue:10,maxValue:80,updatedAt:"2025-01-01",updatedBy:"System"}];function Xk(){return{user:w4,stores:j4,runs:k4,scenarios:C4,exceptions:z4,tasks:A4,parameters:N4}}const P4={runs:[],stores:[],scenarios:[],exceptions:[],parameters:[],tasks:[],currentUser:null,isLoading:!0,isInitialized:!1};function _4(e,t){switch(t.type){case"SET_LOADING":return{...e,isLoading:t.payload};case"INITIALIZE":return{...e,...t.payload,isLoading:!1,isInitialized:!0};case"SET_USER":return{...e,currentUser:t.payload};case"SET_RUNS":return{...e,runs:t.payload};case"ADD_RUN":return{...e,runs:[...e.runs,t.payload]};case"UPDATE_RUN":return{...e,runs:e.runs.map(r=>r.id===t.payload.id?t.payload:r)};case"DELETE_RUN":return{...e,runs:e.runs.filter(r=>r.id!==t.payload)};case"SET_STORES":return{...e,stores:t.payload};case"ADD_STORE":return{...e,stores:[...e.stores,t.payload]};case"UPDATE_STORE":return{...e,stores:e.stores.map(r=>r.id===t.payload.id?t.payload:r)};case"DELETE_STORE":return{...e,stores:e.stores.filter(r=>r.id!==t.payload)};case"SET_SCENARIOS":return{...e,scenarios:t.payload};case"ADD_SCENARIO":return{...e,scenarios:[...e.scenarios,t.payload]};case"UPDATE_SCENARIO":return{...e,scenarios:e.scenarios.map(r=>r.id===t.payload.id?t.payload:r)};case"DELETE_SCENARIO":return{...e,scenarios:e.scenarios.filter(r=>r.id!==t.payload)};case"SET_EXCEPTIONS":return{...e,exceptions:t.payload};case"ADD_EXCEPTION":return{...e,exceptions:[...e.exceptions,t.payload]};case"UPDATE_EXCEPTION":return{...e,exceptions:e.exceptions.map(r=>r.id===t.payload.id?t.payload:r)};case"DELETE_EXCEPTION":return{...e,exceptions:e.exceptions.filter(r=>r.id!==t.payload)};case"SET_PARAMETERS":return{...e,parameters:t.payload};case"UPDATE_PARAMETER":return{...e,parameters:e.parameters.map(r=>r.id===t.payload.id?t.payload:r)};case"SET_TASKS":return{...e,tasks:t.payload};case"ADD_TASK":return{...e,tasks:[...e.tasks,t.payload]};case"UPDATE_TASK":return{...e,tasks:e.tasks.map(r=>r.id===t.payload.id?t.payload:r)};case"DELETE_TASK":return{...e,tasks:e.tasks.filter(r=>r.id!==t.payload)};default:return e}}const oE=z.createContext(null);function Fd(e){return`${e}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function O4({children:e}){const[t,r]=z.useReducer(_4,P4);z.useEffect(()=>{(()=>{if(vt.isInitialized())r({type:"INITIALIZE",payload:{runs:vt.getRuns(),stores:vt.getStores(),scenarios:vt.getScenarios(),exceptions:vt.getExceptions(),tasks:vt.getTasks(),parameters:vt.getParameters(),currentUser:vt.getUser()}});else{const N=Xk();vt.saveRuns(N.runs),vt.saveStores(N.stores),vt.saveScenarios(N.scenarios),vt.saveExceptions(N.exceptions),vt.saveTasks(N.tasks),vt.saveParameters(N.parameters),vt.saveUser(N.user),r({type:"INITIALIZE",payload:{runs:N.runs,stores:N.stores,scenarios:N.scenarios,exceptions:N.exceptions,tasks:N.tasks,parameters:N.parameters,currentUser:N.user}})}})()},[]),z.useEffect(()=>{t.isInitialized&&vt.saveRuns(t.runs)},[t.runs,t.isInitialized]),z.useEffect(()=>{t.isInitialized&&vt.saveScenarios(t.scenarios)},[t.scenarios,t.isInitialized]),z.useEffect(()=>{t.isInitialized&&vt.saveExceptions(t.exceptions)},[t.exceptions,t.isInitialized]),z.useEffect(()=>{t.isInitialized&&vt.saveTasks(t.tasks)},[t.tasks,t.isInitialized]),z.useEffect(()=>{t.isInitialized&&vt.saveParameters(t.parameters)},[t.parameters,t.isInitialized]);const k={state:t,dispatch:r,addRun:S=>{const N=new Date().toISOString(),A={...S,id:Fd("RUN"),createdAt:N,updatedAt:N};return r({type:"ADD_RUN",payload:A}),A},updateRun:S=>{const N={...S,updatedAt:new Date().toISOString()};r({type:"UPDATE_RUN",payload:N})},deleteRun:S=>{r({type:"DELETE_RUN",payload:S})},addScenario:S=>{const N=new Date().toISOString(),A={...S,id:Fd("scenario"),createdAt:N,updatedAt:N};return r({type:"ADD_SCENARIO",payload:A}),A},updateScenario:S=>{const N={...S,updatedAt:new Date().toISOString()};r({type:"UPDATE_SCENARIO",payload:N})},deleteScenario:S=>{r({type:"DELETE_SCENARIO",payload:S})},addException:S=>{const N={...S,id:Fd("exc"),createdAt:new Date().toISOString()};return r({type:"ADD_EXCEPTION",payload:N}),N},updateException:S=>{r({type:"UPDATE_EXCEPTION",payload:S})},resolveException:S=>{const N=t.exceptions.find(A=>A.id===S);N&&r({type:"UPDATE_EXCEPTION",payload:{...N,status:"resolved",resolvedAt:new Date().toISOString()}})},addTask:S=>{const N={...S,id:Fd("task"),createdAt:new Date().toISOString()};return r({type:"ADD_TASK",payload:N}),N},updateTask:S=>{r({type:"UPDATE_TASK",payload:S})},completeTask:S=>{const N=t.tasks.find(A=>A.id===S);N&&r({type:"UPDATE_TASK",payload:{...N,status:"completed",completedAt:new Date().toISOString()}})},deleteTask:S=>{r({type:"DELETE_TASK",payload:S})},updateParameter:S=>{const N={...S,updatedAt:new Date().toISOString()};r({type:"UPDATE_PARAMETER",payload:N})},resetData:()=>{vt.clearAll();const S=Xk();vt.saveRuns(S.runs),vt.saveStores(S.stores),vt.saveScenarios(S.scenarios),vt.saveExceptions(S.exceptions),vt.saveTasks(S.tasks),vt.saveParameters(S.parameters),vt.saveUser(S.user),r({type:"INITIALIZE",payload:{runs:S.runs,stores:S.stores,scenarios:S.scenarios,exceptions:S.exceptions,tasks:S.tasks,parameters:S.parameters,currentUser:S.user}})}};return a.jsx(oE.Provider,{value:k,children:e})}function E4(){const e=z.useContext(oE);if(!e)throw new Error("useApp must be used within an AppProvider");return e}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),D4=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),Yk=e=>{const t=D4(e);return t.charAt(0).toUpperCase()+t.slice(1)},sE=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=z.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:l,...u},d)=>z.createElement("svg",{ref:d,...R4,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:sE("lucide",i),...u},[...l.map(([f,v])=>z.createElement(f,v)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(e,t)=>{const r=z.forwardRef(({className:n,...i},o)=>z.createElement(I4,{ref:o,iconNode:t,className:sE(`lucide-${T4(Yk(e))}`,`lucide-${e}`,n),...i}));return r.displayName=Yk(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],L4=ke("archive",M4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],lE=ke("arrow-left",B4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],W4=ke("arrow-right",F4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],U4=ke("arrow-up-right",$4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],K4=ke("ban",H4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],Wd=ke("beaker",G4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],q4=ke("bell",V4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],LS=ke("briefcase",Z4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],cE=ke("building-2",X4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Q4=ke("calendar",Y4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ep=ke("chart-column",J4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ka=ke("check",eL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_o=ke("chevron-down",tL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],BS=ke("chevron-left",rL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],cn=ke("chevron-right",nL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],uE=ke("chevron-up",aL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],aa=ke("circle-alert",iL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],un=ke("circle-check-big",oL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],$d=ke("circle-check",sL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],Tp=ke("circle-play",lL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],dE=ke("circle-x",cL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],FS=ke("circle",uL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Os=ke("clock",dL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Sf=ke("copy",fL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],fE=ke("database",pL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ta=ke("download",hL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],pE=ke("ellipsis-vertical",vL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],hE=ke("external-link",mL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vE=ke("eye",gL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],xL=ke("file-json",yL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],mE=ke("file-text",bL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],gE=ke("funnel",SL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],yE=ke("git-branch",wL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],kL=ke("globe",jL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],zL=ke("grip-vertical",CL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],xE=ke("history",AL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],PL=ke("house",NL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Xt=ke("info",_L);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],EL=ke("key",OL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],bE=ke("layers",TL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],SE=ke("layout-grid",DL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],IL=ke("loader-circle",RL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],wE=ke("lock",ML);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],BL=ke("map-pin",LL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=[["path",{d:"M5 12h14",key:"1ays0h"}]],WL=ke("minus",FL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Dp=ke("package",$L);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],yo=ke("pen",UL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],vf=ke("play",HL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ji=ke("plus",KL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Qk=ke("refresh-cw",GL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],jE=ke("rocket",VL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],WS=ke("rotate-ccw",qL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],XL=ke("rotate-cw",ZL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],xu=ke("save",YL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],dn=ke("search",QL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rp=ke("settings",JL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]],Vb=ke("sliders-vertical",eB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],zc=ke("sparkles",tB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Cs=ke("trash-2",rB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Ip=ke("trending-down",nB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],cl=ke("trending-up",aB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ft=ke("triangle-alert",iB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],xs=ke("upload",oB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],lB=ke("user",sB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],uB=ke("users",cB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],fB=ke("webhook",dB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Et=ke("x",pB),hB=[{id:"home",label:"Home",icon:PL},{id:"settings",label:"Einstellungen",icon:Rp},{id:"parameters",label:"Parameter",icon:Vb},{id:"capacity",label:"Kapazitt",icon:Dp},{id:"cluster",label:"Cluster",icon:bE},{id:"storeLayout",label:"Filiallayout",icon:SE},{id:"work",label:"Arbeitsvorrat",icon:LS,badge:3},{id:"runs",label:"Runs",icon:Tp},{id:"scenarios",label:"Szenarien",icon:yE},{id:"exceptions",label:"Exceptions",icon:Ft,badge:12},{id:"dataManager",label:"Datenmanager",icon:fE}];function vB({currentScreen:e,onNavigate:t}){return a.jsxs("aside",{className:"flex flex-col border-r",style:{width:"var(--sidenav-width-desktop)",backgroundColor:"var(--surface-surface)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--brand-primary)"},children:"Blickpunkt"}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"var(--space-1)"},children:"Allocation Tool"})]}),a.jsx("nav",{className:"flex-1 px-3",children:a.jsxs("div",{style:{marginBottom:"var(--space-4)"},children:[a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em",padding:"0 var(--space-3)",marginBottom:"var(--space-2)"},children:"Navigation"}),a.jsx("div",{className:"space-y-1",children:hB.map(r=>{const n=r.icon,i=e===r.id;return a.jsxs("button",{onClick:()=>t(r.id),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all relative",style:{backgroundColor:i?"var(--surface-subtle-tint)":"transparent",color:i?"var(--text-primary)":"var(--text-secondary)",borderLeft:i?"3px solid var(--brand-accent)":"3px solid transparent",marginLeft:"-3px",paddingLeft:"calc(var(--space-3) + 3px)"},onMouseEnter:o=>{i||(o.currentTarget.style.backgroundColor="var(--bg-tint)")},onMouseLeave:o=>{i||(o.currentTarget.style.backgroundColor="transparent")},children:[a.jsx(n,{size:20}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:i?"var(--font-weight-medium)":"var(--font-weight-regular)"},children:r.label}),r.badge&&a.jsx("span",{className:"ml-auto rounded-full px-2 py-0.5",style:{backgroundColor:"var(--status-danger)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",minWidth:"20px",textAlign:"center"},children:r.badge})]},r.id)})})]})}),a.jsx("div",{className:"p-4 border-t",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center gap-3 px-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)"},children:"JD"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"John Doe"}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Administrator"})]})]})})]})}function mB(){return a.jsxs("header",{className:"flex items-center justify-between px-6 border-b",style:{height:"var(--height-topbar)",backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"flex items-center gap-4 flex-1",children:a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(dn,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{type:"search",placeholder:"Suchen...",className:"w-full pl-10 pr-4 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)",borderRadius:"var(--radius-md)"}})]})}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("button",{className:"p-2 rounded-lg relative",style:{backgroundColor:"transparent",color:"var(--text-secondary)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="var(--bg-tint)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:[a.jsx(q4,{size:20}),a.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 rounded-full",style:{backgroundColor:"var(--status-danger)"}})]})})]})}function gB({children:e,currentScreen:t,onNavigate:r}){return a.jsxs("div",{className:"flex h-screen overflow-hidden",style:{backgroundColor:"var(--surface-page)"},children:[a.jsx(vB,{currentScreen:t,onNavigate:r}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(mB,{}),a.jsx("main",{className:"flex-1 overflow-auto p-6",children:e})]})]})}const so="http://localhost:3002/api",gm=[{id:"store-zh-hb",name:"Zrich HB",description:"Hauptbahnhof Zrich",cluster:"Urban Premium",region:"Zrich",address:"Bahnhofplatz 15",total_capacity:500},{id:"store-bs-sbb",name:"Basel SBB",description:"Basel Bahnhof SBB",cluster:"Urban Standard",region:"Basel",address:"Centralbahnplatz 1",total_capacity:400},{id:"store-be-bhf",name:"Bern",description:"Bern Innenstadt",cluster:"Regional",region:"Bern",address:"Bahnhofplatz 10",total_capacity:350},{id:"store-lu",name:"Luzern",description:"Luzern Bahnhofstrasse",cluster:"Regional",region:"Zentralschweiz",address:"Bahnhofstrasse 5",total_capacity:300},{id:"store-ge",name:"Genf",description:"Genve Centre",cluster:"Urban Premium",region:"Romandie",address:"Rue du Mont-Blanc 22",total_capacity:450},{id:"store-ls",name:"Lausanne",description:"Lausanne Gare",cluster:"Urban Standard",region:"Romandie",address:"Place de la Gare 9",total_capacity:380},{id:"store-sg",name:"St. Gallen",description:"St. Gallen Zentrum",cluster:"Regional",region:"Ostschweiz",address:"Multergasse 15",total_capacity:280},{id:"store-wi",name:"Winterthur",description:"Winterthur Altstadt",cluster:"Regional",region:"Zrich",address:"Marktgasse 25",total_capacity:260}],ym=[{id:"RUN-2025-W50-001",type:"initial",status:"completed",startDate:"2025-12-16 09:30",endDate:"2025-12-16 11:45",articleCount:156,storeCount:12,userName:"M. Weber"},{id:"RUN-2025-W50-002",type:"replenishment",status:"completed",startDate:"2025-12-15 14:20",endDate:"2025-12-15 15:30",articleCount:89,storeCount:10,userName:"S. Mller"},{id:"RUN-2025-W50-003",type:"manual",status:"with_exceptions",startDate:"2025-12-14 10:15",endDate:"2025-12-14 12:00",articleCount:45,storeCount:8,userName:"A. Schmidt"},{id:"RUN-2025-W49-001",type:"initial",status:"completed",startDate:"2025-12-09 08:00",endDate:"2025-12-09 10:30",articleCount:203,storeCount:12,userName:"M. Weber"},{id:"RUN-2025-W49-002",type:"replenishment",status:"completed",startDate:"2025-12-08 13:45",endDate:"2025-12-08 14:50",articleCount:67,storeCount:9,userName:"T. Fischer"},{id:"RUN-2025-W48-001",type:"manual",status:"completed",startDate:"2025-12-02 11:30",endDate:"2025-12-02 13:15",articleCount:34,storeCount:6,userName:"S. Mller"},{id:"RUN-2025-W47-001",type:"initial",status:"running",startDate:"2025-11-25 09:00",articleCount:178,storeCount:12,userName:"M. Weber",progress:65}],xm=[{id:"EXC-001",type:"overcapacity",severity:"critical",status:"open",title:"berkapazitt Running Shoes",description:'SOLL-Kapazitt wird im Cluster "Urban Premium" um 23% berschritten',article:"ART-10245 - Running Shoes Elite",category:"Shoes  Running",cause:'SOLL-Kapazitt wird im Cluster "Urban Premium" um 23% berschritten',process:"initial",source:"simulation",recommendedAction:"Liefertermin verschieben oder Artikel reduzieren",createdAt:"2025-12-16 09:45",season:"SS 2026",cluster:"Urban Premium",capacityDeviation:23},{id:"EXC-002",type:"lot-conflict",severity:"blocking",status:"open",title:"LOT-Konflikt Casual Jacket",description:"LOT-Zwang verletzt: Nur 4 von 6 Gren verfgbar",article:"ART-10892 - Casual Jacket Spring",category:"Apparel  Jackets",cause:"LOT-Zwang verletzt: Nur 4 von 6 Gren verfgbar",process:"initial",source:"planning",recommendedAction:"Artikel aus Lauf entfernen oder fehlende Gren beschaffen",createdAt:"2025-12-16 08:12",season:"SS 2026"},{id:"EXC-003",type:"delivery-conflict",severity:"critical",status:"in_progress",title:"Liefertermin-Konflikt Summer Dress",description:"Zeitliche Verdichtung: 3 Kollektionen in KW 15",article:"ART-11234 - Summer Dress Collection",category:"Apparel  Dresses",cause:"Zeitliche Verdichtung: 3 Kollektionen in KW 15",process:"replenishment",source:"simulation",recommendedAction:"Liefertermin um 1 Woche verschieben",createdAt:"2025-12-15 14:30",season:"SS 2026",cluster:"Alle",capacityDeviation:45,assignedTo:"Maria Mller"},{id:"EXC-004",type:"undercapacity",severity:"info",status:"ignored",title:"Untererfllung Accessories",description:"SOLL-Kapazitt wird nur zu 78% ausgelastet",article:"Kategorie: Accessories",category:"Accessories",cause:"SOLL-Kapazitt wird nur zu 78% ausgelastet",process:"initial",source:"planning",recommendedAction:"Zustzliche Artikel einplanen oder Abweichung akzeptieren",createdAt:"2025-12-14 11:20",season:"SS 2026",capacityDeviation:-22},{id:"EXC-005",type:"parameter-conflict",severity:"blocking",status:"open",title:"Parameter-Konflikt Premium Sneakers",description:"Mindestprsentationsmenge (8 Stk.) > verfgbare Kapazitt (5 Stk.)",article:"ART-10567 - Premium Sneakers",category:"Shoes  Sneakers",cause:"Mindestprsentationsmenge (8 Stk.) > verfgbare Kapazitt (5 Stk.)",process:"initial",source:"planning",recommendedAction:"Parameter prfen und anpassen",createdAt:"2025-12-16 10:05",season:"SS 2026"},{id:"EXC-006",type:"manual-deviation",severity:"info",status:"ignored",title:"Manuelle Abweichung Special Edition",description:"Bewusste berallokation fr Marketingaktion",article:"ART-10123 - Special Edition",category:"Shoes  Limited",cause:"Bewusste berallokation fr Marketingaktion",process:"initial",source:"production",recommendedAction:"Keine Aktion erforderlich (akzeptiert)",createdAt:"2025-12-13 16:45",season:"SS 2026",capacityDeviation:15,assignedTo:"Andreas Schmidt"},{id:"EXC-007",type:"overcapacity",severity:"critical",status:"in_progress",title:"berkapazitt Electronics",description:"Nachschub berschreitet verfgbare Lagerflche",article:"Kategorie: Electronics",category:"Electronics",cause:"Nachschub berschreitet verfgbare Lagerflche",process:"replenishment",source:"simulation",recommendedAction:"Mengereduktion oder zeitliche Staffelung",createdAt:"2025-12-15 09:30",season:"AW 2025",cluster:"Regional",capacityDeviation:18,assignedTo:"Julia Weber"},{id:"EXC-008",type:"delivery-conflict",severity:"info",status:"resolved",title:"Liefertermin Winter Boots",description:"Ursprnglicher Liefertermin zu spt",article:"ART-10889 - Winter Boots",category:"Shoes  Boots",cause:"Ursprnglicher Liefertermin zu spt",process:"initial",source:"planning",recommendedAction:"Liefertermin angepasst",createdAt:"2025-12-10 08:00",season:"AW 2025"}],bm=[{id:"task-001",title:"HW 2025 Allokation prfen",description:"berprfung der initialen Allokation fr die Herbst/Winter Saison",type:"review",status:"in_progress",priority:"high",assignedTo:"M. Weber",dueDate:"2025-01-10",relatedScenarioId:"scenario-001"},{id:"task-002",title:"Exception Zrich HB bearbeiten",description:"Kapazittsberschreitung in Zrich HB lsen",type:"exception",status:"pending",priority:"urgent",assignedTo:"S. Mller",dueDate:"2025-01-08",relatedRunId:"RUN-2025-003"},{id:"task-003",title:"Nachschub-Szenario freigeben",description:"NOS Nachschub Szenario zur Produktion freigeben",type:"approval",status:"pending",priority:"medium",assignedTo:"A. Schmidt",dueDate:"2025-01-09",relatedScenarioId:"scenario-003"},{id:"task-004",title:"Prognose-Parameter optimieren",description:"Forecast-Gewichtung basierend auf Q4 Ergebnissen anpassen",type:"allocation",status:"pending",priority:"medium",assignedTo:"M. Weber",dueDate:"2025-01-12"},{id:"task-005",title:"Neue Artikel SS26 einplanen",description:"Spring/Summer 2026 Kollektion in Planung aufnehmen",type:"allocation",status:"pending",priority:"low",assignedTo:"T. Fischer",dueDate:"2025-01-15"}],Sm=[{id:"scenario-001",name:"Standard Allokation HW 2025",description:"Standardszenario fr die Herbst/Winter Saison 2025",status:"approved",allocationType:"initial",createdBy:"M. Weber",parameters:{forecast_weight:.6,historical_weight:.4,safety_stock_factor:1.2},results:{total_allocated:15420,stores_covered:8,expected_fill_rate:94.5,capacity_utilization:87.2,exceptions:3}},{id:"scenario-002",name:"Optimiert - Hohe Prognosegewichtung",description:"Szenario mit erhhter Gewichtung der Absatzprognose",status:"simulated",allocationType:"initial",createdBy:"S. Mller",parameters:{forecast_weight:.8,historical_weight:.2,safety_stock_factor:1.1},results:{total_allocated:16800,stores_covered:8,expected_fill_rate:96.2,capacity_utilization:91.5,exceptions:5}},{id:"scenario-003",name:"NOS Nachschub - Standard",description:"Standardszenario fr Never-out-of-Stock Nachschub",status:"approved",allocationType:"replenishment",createdBy:"T. Fischer",parameters:{forecast_weight:.5,historical_weight:.5,safety_stock_factor:1.5},results:{total_allocated:8500,stores_covered:8,expected_fill_rate:98.1,capacity_utilization:72.3,exceptions:1}},{id:"scenario-004",name:"SS 2026 Initial Draft",description:"Erster Entwurf fr Spring/Summer 2026",status:"draft",allocationType:"initial",createdBy:"M. Weber",parameters:{forecast_weight:.7,historical_weight:.3,safety_stock_factor:1.3}}],wm=[{id:"param-001",category:"capacity",name:"Flchenbedarf pro Einheit",key:"area_per_unit",value:.035,unit:"m",description:"Durchschnittlicher Prsentationsflchenbedarf je Stck"},{id:"param-002",category:"capacity",name:"Maximale Auslastung",key:"max_utilization",value:95,unit:"%",description:"Maximale erlaubte Kapazittsauslastung"},{id:"param-003",category:"presentation",name:"Mindestprsentationsmenge",key:"min_presentation",value:3,unit:"Stck",description:"Mindestmenge, um Artikel prsentieren zu drfen"},{id:"param-004",category:"presentation",name:"Mindestmenge je Gre",key:"min_per_size",value:2,unit:"Stck",description:"Mindestanzahl pro Gre fr vollstndige Darstellung"},{id:"param-005",category:"presentation",name:"LOT-Zwang",key:"lot_required",value:!0,unit:"",description:"Allokation nur bei vollstndigem Grenlauf erlaubt"},{id:"param-006",category:"control",name:"Prognose-Horizont",key:"forecast_horizon",value:8,unit:"Wochen",description:"Zeitraum fr Absatzprognose"},{id:"param-007",category:"control",name:"Sicherheitsbestand-Tage",key:"safety_stock_days",value:14,unit:"Tage",description:"Puffer fr Nachschub-Verzgerungen"},{id:"param-008",category:"forecast",name:"Prognose-Gewichtung",key:"forecast_weight",value:.6,unit:"",description:"Gewichtung der Absatzprognose vs. historische Daten"},{id:"param-009",category:"forecast",name:"Saisonalittsfaktor",key:"seasonality_factor",value:1.2,unit:"",description:"Multiplikator fr saisonale Schwankungen"},{id:"param-010",category:"governance",name:"Freigabe-Schwellwert",key:"approval_threshold",value:1e4,unit:"",description:"Ab diesem Wert ist eine Freigabe erforderlich"}],qt={stores:"allocation_stores",runs:"allocation_runs",exceptions:"allocation_exceptions",tasks:"allocation_tasks",scenarios:"allocation_scenarios",parameters:"allocation_parameters"};function as(e,t){try{const r=localStorage.getItem(e);return r?JSON.parse(r):(localStorage.setItem(e,JSON.stringify(t)),t)}catch{return t}}function Na(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.error("Failed to save to localStorage:",r)}}async function is(e,t){try{if((await fetch(`${so}/health`,{method:"GET"})).ok)return await e()}catch{}return t()}const $S={async getStores(){return is(async()=>{const t=await(await fetch(`${so}/stores`)).json();return t.success?t.data:gm},()=>as(qt.stores,gm))},async getStore(e){return(await this.getStores()).find(r=>r.id===e)},async getRuns(){return is(async()=>{const t=await(await fetch(`${so}/runs`)).json();return t.success?t.data.map(r=>({id:r.id,type:r.type,status:r.status==="with_exceptions"?"with_exceptions":r.status,startDate:r.start_date,endDate:r.end_date,articleCount:r.article_count,storeCount:r.store_count,progress:r.progress,userName:r.user_name})):ym},()=>as(qt.runs,ym))},async getRun(e){return(await this.getRuns()).find(r=>r.id===e)},async createRun(e){const t={...e,id:`RUN-${Date.now()}`},r=await this.getRuns();return r.unshift(t),Na(qt.runs,r),t},async updateRun(e,t){const r=await this.getRuns(),n=r.findIndex(i=>i.id===e);if(n>=0)return r[n]={...r[n],...t},Na(qt.runs,r),r[n]},async getExceptions(){return is(async()=>{const t=await(await fetch(`${so}/exceptions`)).json();return t.success?t.data.map(r=>({...r,createdAt:r.created_at||r.createdAt})):xm},()=>as(qt.exceptions,xm))},async updateException(e,t){const r=await this.getExceptions(),n=r.findIndex(i=>i.id===e);if(n>=0)return r[n]={...r[n],...t},Na(qt.exceptions,r),r[n]},async getTasks(){return is(async()=>{const t=await(await fetch(`${so}/tasks`)).json();return t.success?t.data.map(r=>({id:r.id,title:r.title,description:r.description,type:r.type,status:r.status,priority:r.priority,assignedTo:r.assigned_to,dueDate:r.due_date,relatedRunId:r.related_run_id,relatedScenarioId:r.related_scenario_id})):bm},()=>as(qt.tasks,bm))},async createTask(e){const t={...e,id:`task-${Date.now()}`},r=await this.getTasks();return r.unshift(t),Na(qt.tasks,r),t},async updateTask(e,t){const r=await this.getTasks(),n=r.findIndex(i=>i.id===e);if(n>=0)return r[n]={...r[n],...t},Na(qt.tasks,r),r[n]},async deleteTask(e){const t=await this.getTasks(),r=t.filter(n=>n.id!==e);return r.length<t.length?(Na(qt.tasks,r),!0):!1},async getScenarios(){return is(async()=>{const t=await(await fetch(`${so}/scenarios`)).json();return t.success?t.data.map(r=>({id:r.id,name:r.name,description:r.description,status:r.status,allocationType:r.allocation_type,createdBy:r.created_by,parameters:r.parameters,results:r.results})):Sm},()=>as(qt.scenarios,Sm))},async createScenario(e){const t={...e,id:`scenario-${Date.now()}`},r=await this.getScenarios();return r.unshift(t),Na(qt.scenarios,r),t},async updateScenario(e,t){const r=await this.getScenarios(),n=r.findIndex(i=>i.id===e);if(n>=0)return r[n]={...r[n],...t},Na(qt.scenarios,r),r[n]},async getParameters(){return is(async()=>{const t=await(await fetch(`${so}/parameters`)).json();return t.success?t.data:wm},()=>as(qt.parameters,wm))},async updateParameter(e,t){const r=await this.getParameters(),n=r.findIndex(i=>i.id===e);if(n>=0)return r[n]={...r[n],value:t},Na(qt.parameters,r),r[n]},async getKPIs(){const[e,t,r,n,i]=await Promise.all([this.getTasks(),this.getRuns(),this.getExceptions(),this.getScenarios(),this.getStores()]);return{openTasks:e.filter(o=>o.status==="pending"||o.status==="in_progress").length,activeRuns:t.filter(o=>o.status==="running"||o.status==="planned").length,openExceptions:r.filter(o=>o.status==="open"||o.status==="in_progress").length,approvedScenarios:n.filter(o=>o.status==="approved").length,totalStores:i.length,totalArticles:156}},resetToDefaults(){localStorage.setItem(qt.stores,JSON.stringify(gm)),localStorage.setItem(qt.runs,JSON.stringify(ym)),localStorage.setItem(qt.exceptions,JSON.stringify(xm)),localStorage.setItem(qt.tasks,JSON.stringify(bm)),localStorage.setItem(qt.scenarios,JSON.stringify(Sm)),localStorage.setItem(qt.parameters,JSON.stringify(wm))}},yB=[{id:"settings",title:"Allokationseinstellungen",description:"Konfigurieren Sie Zuweisungsregeln, Prioritten und automatische Optimierungen",icon:Rp,color:"var(--brand-primary)"},{id:"parameters",title:"Allokationsparameter",description:"Zentrale Pflege von Kapazitts-, Prsentations- und Steuerungsparametern",icon:Vb,color:"var(--status-info)"},{id:"capacity",title:"Kapazittsplanung",description:"Analysieren und optimieren Sie Raumkapazitten mit Space-Fit-Visualisierung",icon:Dp,color:"var(--status-success)"},{id:"cluster",title:"Filial-Cluster",description:"Filialen gruppieren & systemgesttzt optimieren",icon:bE,color:"#ec4899"},{id:"storeLayout",title:"Filiallayout & Warentrger",description:"Visualisieren und planen Sie Verkaufsflchen mit Warentrger-Drag & Drop",icon:SE,color:"#6366f1"},{id:"work",title:"Arbeitsvorrat",description:"Verwalten Sie Allokationsaufgaben und erstellen Sie neue Zuweisungen",icon:LS,color:"var(--brand-accent)"},{id:"runs",title:"Ausfhrungs-Runs",description:"berwachen Sie laufende und abgeschlossene Allokationsprozesse",icon:Tp,color:"var(--status-warning)"},{id:"scenarios",title:"Szenario- & Variantenmanagement",description:"Vergleichen, validieren und freigeben Sie Allokationsvarianten",icon:yE,color:"#7c3aed"},{id:"scenarioManagement",title:"Erweiterte Variantenverwaltung",description:"Policy-Parameter, Forecast-Logik, Explainability und Simulationsanalyse",icon:Vb,color:"#8b5cf6"},{id:"exceptions",title:"Exception Cockpit",description:"Behandeln Sie Ausnahmen und Konflikte in der Allokation",icon:Ft,color:"var(--status-danger)"},{id:"analytics",title:"Analytics & Reports",description:"Detaillierte Auswertungen und KPI-Dashboards",icon:Ep,color:"var(--text-secondary)"}];function Jk({onNavigate:e}){const{state:t}=E4(),[r,n]=z.useState({openTasks:0,activeRuns:0,openExceptions:0});z.useEffect(()=>{(async()=>{try{const d=await $S.getKPIs();n(d)}catch(d){console.error("Failed to load KPIs:",d);const f=t.tasks?.filter(m=>m.status==="pending"||m.status==="in_progress").length||0,v=t.runs?.filter(m=>m.status==="running"||m.status==="planned").length||0,h=t.exceptions?.filter(m=>m.status==="open"||m.status==="in_progress").length||0;n({openTasks:f,activeRuns:v,openExceptions:h})}})()},[t]);const{openTasks:i,activeRuns:o,openExceptions:l}=r;return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Willkommen im Blickpunkt Allocation Tool"}),a.jsxs("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:["Verwalten Sie Ihre Allokationsprozesse zentral und effizient",t.currentUser&&`  Angemeldet als ${t.currentUser.name}`]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:yB.map(u=>{const d=u.icon;return a.jsxs("button",{onClick:()=>e(u.id),className:"group text-left p-6 rounded-lg border transition-all",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-subtle)",borderRadius:"var(--radius-lg)"},onMouseEnter:f=>{f.currentTarget.style.boxShadow="var(--shadow-sm)",f.currentTarget.style.borderColor=u.color},onMouseLeave:f=>{f.currentTarget.style.boxShadow="none",f.currentTarget.style.borderColor="var(--border-subtle)"},children:[a.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mb-4",style:{backgroundColor:`${u.color}15`,color:u.color},children:a.jsx(d,{size:24})}),a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:u.title}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)",lineHeight:"var(--line-height-sm)"},children:u.description}),a.jsxs("div",{className:"mt-4 flex items-center gap-2",style:{color:u.color},children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"ffnen"}),a.jsx("span",{className:"transition-transform group-hover:translate-x-1",children:""})]})]},u.id)})}),a.jsxs("div",{className:"mt-8 p-6 rounded-lg border",style:{backgroundColor:"var(--surface-subtle-tint)",borderColor:"var(--border-subtle)",borderRadius:"var(--radius-lg)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Schnellzugriff"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--status-info)",color:"var(--text-inverse)"},children:a.jsx(LS,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Offene Tasks"}),a.jsx("p",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:i})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--status-success)",color:"var(--text-inverse)"},children:a.jsx(Tp,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Aktive Runs"}),a.jsx("p",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:o})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--status-danger)",color:"var(--text-inverse)"},children:a.jsx(Ft,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Exceptions"}),a.jsx("p",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:l})]})]})]})]})]})}function Ar({columns:e,data:t,density:r="comfortable",hasSelection:n=!1,onRowClick:i,sortBy:o,sortDirection:l,onSort:u,emptyMessage:d="Keine Daten verfgbar"}){const f=r==="compact"?"var(--height-table-row-compact)":"var(--height-table-row)",v=r==="compact"?"var(--height-table-header-compact)":"var(--height-table-header)";return t.length===0?a.jsx("div",{className:"flex items-center justify-center border rounded-lg p-12",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-alt)"},children:a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:d})}):a.jsx("div",{className:"border rounded-lg overflow-hidden",style:{borderColor:"var(--border-default)"},children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",style:{borderCollapse:"collapse"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{backgroundColor:"var(--surface-surface)",height:v,borderBottom:"1px solid var(--border-default)"},children:[n&&a.jsx("th",{style:{width:"48px",padding:"0 var(--space-4)"},children:a.jsx("input",{type:"checkbox"})}),e.map(h=>a.jsx("th",{style:{textAlign:h.align||"left",padding:"0 var(--space-4)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",width:h.width,whiteSpace:"nowrap"},children:h.sortable?a.jsxs("button",{onClick:()=>u?.(h.key),className:"flex items-center gap-2 hover:opacity-70",children:[h.label,o===h.key&&(l==="asc"?a.jsx(uE,{size:16}):a.jsx(_o,{size:16}))]}):h.label},h.key))]})}),a.jsx("tbody",{children:t.map((h,m)=>a.jsxs("tr",{onClick:()=>i?.(h),className:"border-t transition-colors",style:{height:f,borderColor:"var(--border-default)",cursor:i?"pointer":"default"},onMouseEnter:b=>{b.currentTarget.style.backgroundColor="var(--bg-tint)"},onMouseLeave:b=>{b.currentTarget.style.backgroundColor="transparent"},children:[n&&a.jsx("td",{style:{padding:"0 var(--space-4)"},children:a.jsx("input",{type:"checkbox"})}),e.map(b=>a.jsx("td",{style:{textAlign:b.align||"left",padding:"0 var(--space-4)",fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:b.render?b.render(h[b.key],h):h[b.key]},b.key))]},m))})]})})})}function qb({isOpen:e,onClose:t,title:r,availableLocations:n,selectedLocations:i,onConfirm:o,multiSelect:l=!0}){const[u,d]=z.useState(""),[f,v]=z.useState(""),[h,m]=z.useState(""),[b,j]=z.useState(i),x=z.useMemo(()=>n.filter(N=>{const A=u===""||N.id.toLowerCase().includes(u.toLowerCase()),O=f===""||N.name.toLowerCase().includes(f.toLowerCase()),_=h===""||N.address.toLowerCase().includes(h.toLowerCase());return A&&O&&_}),[n,u,f,h]);if(!e)return null;const y=N=>{j(l?A=>A.some(_=>_.id===N.id)?A.filter(_=>_.id!==N.id):[...A,N]:[N])},w=N=>b.some(A=>A.id===N.id),k=()=>{o(b),t()},S=()=>{j(i),d(""),v(""),m(""),t()};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:S,children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-4xl",style:{boxShadow:"var(--shadow-lg)",maxHeight:"85vh",display:"flex",flexDirection:"column"},onClick:N=>N.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:r}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:l?"Whlen Sie eine oder mehrere Lokationen aus":"Whlen Sie eine Lokation aus"})]}),a.jsx("button",{onClick:S,className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search-id",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"ID"}),a.jsxs("div",{className:"relative",children:[a.jsx(dn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{id:"search-id",type:"text",value:u,onChange:N=>d(N.target.value),placeholder:"Suchen...",className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search-name",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(dn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{id:"search-name",type:"text",value:f,onChange:N=>v(N.target.value),placeholder:"Suchen...",className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search-address",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Adresse"}),a.jsxs("div",{className:"relative",children:[a.jsx(dn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{id:"search-address",type:"text",value:h,onChange:N=>m(N.target.value),placeholder:"Suchen...",className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]})]})]}),a.jsxs("div",{className:"mt-3",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[x.length," ",x.length===1?"Eintrag":"Eintrge"," gefunden",b.length>0&&`  ${b.length} ausgewhlt`]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{style:{position:"sticky",top:0,backgroundColor:"var(--surface-alt)",zIndex:1},children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"50px"}}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"ID"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Name"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Adresse"})]})}),a.jsxs("tbody",{children:[x.map((N,A)=>{const O=w(N);return a.jsxs("tr",{onClick:()=>y(N),className:"cursor-pointer hover:bg-surface-tint transition-colors",style:{borderBottom:A<x.length-1?"1px solid var(--border-subtle)":"none",backgroundColor:O?"var(--surface-info-subtle)":"transparent"},children:[a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded border",style:{borderColor:O?"var(--brand-primary)":"var(--border-default)",backgroundColor:O?"var(--brand-primary)":"transparent"},children:O&&a.jsx(Ka,{size:14,style:{color:"var(--text-inverse)"}})})}),a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:N.id})}),a.jsx("td",{style:{padding:"12px 16px",fontWeight:"var(--font-weight-medium)"},children:N.name}),a.jsx("td",{style:{padding:"12px 16px",color:"var(--text-secondary)"},children:N.address})]},N.id)}),x.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,style:{padding:"40px 16px",textAlign:"center",color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Keine Eintrge gefunden"})})]})]})}),a.jsxs("div",{className:"p-6 border-t flex justify-end gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:S,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)"},children:"Abbrechen"}),a.jsxs("button",{onClick:k,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:["bernehmen (",b.length,")"]})]})]})})}function xB({isOpen:e,onClose:t,distributionCenterName:r,availableLocations:n,selectedLocations:i,onConfirm:o}){const[l,u]=z.useState(i);if(!e)return null;const d=j=>{u(x=>x.includes(j)?x.filter(w=>w!==j):[...x,j])},f=j=>l.includes(j),v=()=>{o(l),t()},h=()=>{u(i),t()},m=()=>{u(n)},b=()=>{u([])};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:h,children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl",style:{boxShadow:"var(--shadow-lg)",maxHeight:"85vh",display:"flex",flexDirection:"column"},onClick:j=>j.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:"Lagerorte auswhlen"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:r})]}),a.jsx("button",{onClick:h,className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsxs("div",{className:"p-6 border-b flex items-center justify-between",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[l.length," von ",n.length," ausgewhlt"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:m,className:"px-3 py-1.5 rounded-lg border text-sm",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-xs)"},children:"Alle auswhlen"}),a.jsx("button",{onClick:b,className:"px-3 py-1.5 rounded-lg border text-sm",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-xs)"},children:"Keine auswhlen"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsx("div",{className:"grid grid-cols-2 gap-3",children:n.map(j=>{const x=f(j);return a.jsxs("button",{onClick:()=>d(j),className:"flex items-center gap-3 p-3 rounded-lg border hover:border-brand-primary transition-colors",style:{backgroundColor:x?"var(--surface-info-subtle)":"var(--surface-page)",borderColor:x?"var(--brand-primary)":"var(--border-default)",textAlign:"left"},children:[a.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded border flex-shrink-0",style:{borderColor:x?"var(--brand-primary)":"var(--border-default)",backgroundColor:x?"var(--brand-primary)":"transparent"},children:x&&a.jsx(Ka,{size:14,style:{color:"var(--text-inverse)"}})}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:x?"var(--font-weight-medium)":"var(--font-weight-regular)"},children:j})]},j)})})}),a.jsxs("div",{className:"p-6 border-t flex justify-end gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:h,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)"},children:"Abbrechen"}),a.jsxs("button",{onClick:v,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:["bernehmen (",l.length,")"]})]})]})})}function bB({isOpen:e,onClose:t,availableAllocators:r,selectedAllocators:n,onConfirm:i,multiSelect:o=!0}){const[l,u]=z.useState(""),[d,f]=z.useState(""),[v,h]=z.useState(""),[m,b]=z.useState(n),j=z.useMemo(()=>r.filter(S=>{const N=l===""||S.id.toLowerCase().includes(l.toLowerCase()),A=d===""||S.name.toLowerCase().includes(d.toLowerCase()),O=v===""||S.role.toLowerCase().includes(v.toLowerCase());return N&&A&&O}),[r,l,d,v]);if(!e)return null;const x=S=>{b(o?N=>N.some(O=>O.id===S.id)?N.filter(O=>O.id!==S.id):[...N,S]:[S])},y=S=>m.some(N=>N.id===S.id),w=()=>{i(m),t()},k=()=>{b(n),u(""),f(""),h(""),t()};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:k,children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-4xl",style:{boxShadow:"var(--shadow-lg)",maxHeight:"85vh",display:"flex",flexDirection:"column"},onClick:S=>S.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:"Allokator hinzufgen"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:o?"Whlen Sie einen oder mehrere Mitarbeiter aus":"Whlen Sie einen Mitarbeiter aus"})]}),a.jsx("button",{onClick:k,className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search-id",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"ID"}),a.jsxs("div",{className:"relative",children:[a.jsx(dn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{id:"search-id",type:"text",value:l,onChange:S=>u(S.target.value),placeholder:"Suchen...",className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search-name",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(dn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{id:"search-name",type:"text",value:d,onChange:S=>f(S.target.value),placeholder:"Suchen...",className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search-role",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Rolle"}),a.jsxs("div",{className:"relative",children:[a.jsx(dn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{id:"search-role",type:"text",value:v,onChange:S=>h(S.target.value),placeholder:"Suchen...",className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]})]})]}),a.jsxs("div",{className:"mt-3",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[j.length," ",(j.length===1,"Mitarbeiter")," gefunden",m.length>0&&`  ${m.length} ausgewhlt`]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{style:{position:"sticky",top:0,backgroundColor:"var(--surface-alt)",zIndex:1},children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"50px"}}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"ID"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Name"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Rolle"})]})}),a.jsxs("tbody",{children:[j.map((S,N)=>{const A=y(S);return a.jsxs("tr",{onClick:()=>x(S),className:"cursor-pointer hover:bg-surface-tint transition-colors",style:{borderBottom:N<j.length-1?"1px solid var(--border-subtle)":"none",backgroundColor:A?"var(--surface-info-subtle)":"transparent"},children:[a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded border",style:{borderColor:A?"var(--brand-primary)":"var(--border-default)",backgroundColor:A?"var(--brand-primary)":"transparent"},children:A&&a.jsx(Ka,{size:14,style:{color:"var(--text-inverse)"}})})}),a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:S.id})}),a.jsx("td",{style:{padding:"12px 16px",fontWeight:"var(--font-weight-medium)"},children:S.name}),a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:S.role==="Admin"?"var(--surface-error-subtle)":"var(--surface-info-subtle)",color:S.role==="Admin"?"var(--text-error)":"var(--text-info)"},children:S.role})})]},S.id)}),j.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,style:{padding:"40px 16px",textAlign:"center",color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Keine Mitarbeiter gefunden"})})]})]})}),a.jsxs("div",{className:"p-6 border-t flex justify-end gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:k,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)"},children:"Abbrechen"}),a.jsxs("button",{onClick:w,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:["bernehmen (",m.length,")"]})]})]})})}const jm=[{id:"fashion",label:"Fashion",children:[{id:"fashion-apparel",label:"Apparel",children:[{id:"fashion-apparel-tops",label:"Tops"},{id:"fashion-apparel-bottoms",label:"Bottoms"},{id:"fashion-apparel-dresses",label:"Dresses"}]},{id:"fashion-shoes",label:"Shoes",children:[{id:"fashion-shoes-sneakers",label:"Sneakers"},{id:"fashion-shoes-boots",label:"Boots"},{id:"fashion-shoes-sandals",label:"Sandals"}]},{id:"fashion-accessories",label:"Accessories",children:[{id:"fashion-accessories-bags",label:"Bags"},{id:"fashion-accessories-belts",label:"Belts"},{id:"fashion-accessories-jewelry",label:"Jewelry"}]}]},{id:"electronics",label:"Electronics",children:[{id:"electronics-computers",label:"Computers",children:[{id:"electronics-computers-laptops",label:"Laptops"},{id:"electronics-computers-desktops",label:"Desktops"},{id:"electronics-computers-tablets",label:"Tablets"}]},{id:"electronics-phones",label:"Phones",children:[{id:"electronics-phones-smartphones",label:"Smartphones"},{id:"electronics-phones-accessories",label:"Accessories"}]},{id:"electronics-audio",label:"Audio",children:[{id:"electronics-audio-headphones",label:"Headphones"},{id:"electronics-audio-speakers",label:"Speakers"}]}]},{id:"home",label:"Home & Living",children:[{id:"home-furniture",label:"Furniture",children:[{id:"home-furniture-seating",label:"Seating"},{id:"home-furniture-tables",label:"Tables"},{id:"home-furniture-storage",label:"Storage"}]},{id:"home-decor",label:"Decor",children:[{id:"home-decor-lighting",label:"Lighting"},{id:"home-decor-textiles",label:"Textiles"},{id:"home-decor-wall-art",label:"Wall Art"}]}]}];function kE({node:e,level:t=0,selectedIds:r,expandedIds:n,onToggleExpand:i,onToggleSelect:o}){const l=e.children&&e.children.length>0,u=n.has(e.id),d=r.has(e.id);return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 py-2 px-3 cursor-pointer hover:bg-surface-tint rounded transition-colors",style:{paddingLeft:`${t*24+12}px`},children:[a.jsx("div",{style:{width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:l?a.jsx("button",{onClick:f=>{f.stopPropagation(),i(e.id)},className:"p-0.5 hover:bg-surface-subtle-tint rounded",children:u?a.jsx(_o,{size:16,style:{color:"var(--text-muted)"}}):a.jsx(cn,{size:16,style:{color:"var(--text-muted)"}})}):null}),a.jsx("div",{onClick:()=>o(e.id,e.label),className:"flex items-center justify-center w-5 h-5 rounded border",style:{borderColor:d?"var(--brand-primary)":"var(--border-default)",backgroundColor:d?"var(--brand-primary)":"transparent"},children:d&&a.jsx(Ka,{size:14,style:{color:"var(--text-inverse)"}})}),a.jsx("span",{onClick:()=>o(e.id,e.label),style:{fontSize:"var(--font-size-sm)",fontWeight:t===0?"var(--font-weight-semibold)":"var(--font-weight-regular)",flex:1},children:e.label})]}),l&&u&&a.jsx("div",{children:e.children.map(f=>a.jsx(kE,{node:f,level:t+1,selectedIds:r,expandedIds:n,onToggleExpand:i,onToggleSelect:o},f.id))})]})}function SB({isOpen:e,onClose:t,selectedAreas:r,onConfirm:n}){const[i,o]=z.useState(()=>{const m=new Map;return r.forEach(b=>{const j=y=>{for(const w of y){if(w.label===b)return w;if(w.children){const k=j(w.children);if(k)return k}}return null},x=j(jm);x&&m.set(x.id,x.label)}),m}),[l,u]=z.useState(new Set(["fashion","electronics","home"]));if(!e)return null;const d=m=>{u(b=>{const j=new Set(b);return j.has(m)?j.delete(m):j.add(m),j})},f=(m,b)=>{o(j=>{const x=new Map(j);return x.has(m)?x.delete(m):x.set(m,b),x})},v=()=>{const m=Array.from(i.values());n(m),t()},h=()=>{const m=new Map;r.forEach(b=>{const j=y=>{for(const w of y){if(w.label===b)return w;if(w.children){const k=j(w.children);if(k)return k}}return null},x=j(jm);x&&m.set(x.id,x.label)}),o(m),t()};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:h,children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-3xl",style:{boxShadow:"var(--shadow-lg)",maxHeight:"85vh",display:"flex",flexDirection:"column"},onClick:m=>m.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:"Verantwortungsbereich festlegen"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Whlen Sie die relevanten Artikelhierarchieebenen aus"})]}),a.jsx("button",{onClick:h,className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsx("div",{className:"px-6 py-3 border-b",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-alt)"},children:a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[i.size," ",i.size===1?"Bereich":"Bereiche"," ausgewhlt"]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:jm.map(m=>a.jsx(kE,{node:m,selectedIds:new Set(i.keys()),expandedIds:l,onToggleExpand:d,onToggleSelect:f},m.id))}),i.size>0&&a.jsxs("div",{className:"px-6 py-4 border-t",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-subtle-tint)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Ausgewhlte Bereiche:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from(i.values()).map((m,b)=>a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--text-info)",fontSize:"var(--font-size-xs)"},children:m},b))})]}),a.jsxs("div",{className:"p-6 border-t flex justify-end gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:h,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)"},children:"Abbrechen"}),a.jsxs("button",{onClick:v,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:["bernehmen (",i.size,")"]})]})]})})}const wB=[{id:"DC-001",name:"Zentrallager Zrich",address:"Industriestrasse 45, 8005 Zrich",warehouses:[]},{id:"DC-002",name:"Regionallager Basel",address:"Hafenweg 12, 4052 Basel",warehouses:[]},{id:"DC-003",name:"Logistikzentrum Bern",address:"Industrieweg 23, 3013 Bern",warehouses:[]},{id:"DC-004",name:"Verteilzentrum Luzern",address:"Obergrundstrasse 88, 6005 Luzern",warehouses:[]},{id:"DC-005",name:"Zentrallager St. Gallen",address:"Industriestrasse 14, 9014 St. Gallen",warehouses:[]},{id:"DC-006",name:"Regionallager Genf",address:"Route de la Chapelle 12, 1212 Genf",warehouses:[]}],jB=[{id:"FL-001",name:"Zrich HB",address:"Bahnhofplatz 1, 8001 Zrich",cluster:"Urban Premium",isReference:!1},{id:"FL-002",name:"Bern Zentrum",address:"Spitalgasse 4, 3011 Bern",cluster:"Urban Premium",isReference:!1},{id:"FL-003",name:"Basel SBB",address:"Centralbahnplatz 1, 4051 Basel",cluster:"Urban Premium",isReference:!1},{id:"FL-004",name:"Genf Cornavin",address:"Place de Cornavin 7, 1201 Genf",cluster:"Urban Premium",isReference:!1},{id:"FL-005",name:"Lausanne Centre",address:"Rue du Pont 5, 1003 Lausanne",cluster:"Urban Standard",isReference:!1},{id:"FL-006",name:"Luzern Bahnhof",address:"Bahnhofstrasse 3, 6003 Luzern",cluster:"Urban Standard",isReference:!1},{id:"FL-007",name:"St. Gallen Marktplatz",address:"Marktgasse 12, 9004 St. Gallen",cluster:"Urban Standard",isReference:!1},{id:"FL-008",name:"Winterthur Stadtgarten",address:"Stadthausstrasse 8, 8400 Winterthur",cluster:"Regional",isReference:!1},{id:"FL-009",name:"Lugano Centro",address:"Via Nassa 15, 6900 Lugano",cluster:"Regional",isReference:!1},{id:"FL-010",name:"Thun Blliz",address:"Blliz 45, 3600 Thun",cluster:"Regional",isReference:!1}],kB=["Lager A","Lager B","Lager C","Lager D","Lager E","Lager 1","Lager 2","Lager 3","Hochregallager Nord","Hochregallager Sd","Kommissionierzone 1","Kommissionierzone 2","Khlhaus","Freilager"],CB=[{id:"DC-001",name:"Zentrallager Zrich",address:"Industriestrasse 45, 8005 Zrich",warehouses:["Lager A","Lager B","Lager C"]},{id:"DC-002",name:"Regionallager Basel",address:"Hafenweg 12, 4052 Basel",warehouses:["Lager 1","Lager 2"]}],zB=[{id:"FL-001",name:"Zrich HB",address:"Bahnhofplatz 1, 8001 Zrich",cluster:"Urban Premium",isReference:!0},{id:"FL-002",name:"Bern Zentrum",address:"Spitalgasse 4, 3011 Bern",cluster:"Urban Premium",isReference:!1},{id:"FL-003",name:"Basel Marktplatz",address:"Marktplatz 10, 4001 Basel",cluster:"Urban Standard",isReference:!1}],AB=[{id:"USR-001",name:"Maria Mller",role:"Allocator",responsibilityArea:""},{id:"USR-002",name:"Andreas Schmidt",role:"Admin",responsibilityArea:""},{id:"USR-003",name:"Julia Weber",role:"Allocator",responsibilityArea:""},{id:"USR-004",name:"Thomas Fischer",role:"Allocator",responsibilityArea:""},{id:"USR-005",name:"Sarah Meier",role:"Allocator",responsibilityArea:""},{id:"USR-006",name:"Michael Huber",role:"Manager",responsibilityArea:""},{id:"USR-007",name:"Laura Zimmermann",role:"Planner",responsibilityArea:""},{id:"USR-008",name:"David Keller",role:"Allocator",responsibilityArea:""},{id:"USR-009",name:"Anna Brunner",role:"Allocator",responsibilityArea:""},{id:"USR-010",name:"Stefan Wyss",role:"Admin",responsibilityArea:""}],NB=[{id:"USR-001",name:"Maria Mller",role:"Allocator",responsibilityArea:"Shoes, Apparel"},{id:"USR-002",name:"Andreas Schmidt",role:"Admin",responsibilityArea:"Alle Bereiche"},{id:"USR-003",name:"Julia Weber",role:"Allocator",responsibilityArea:"Electronics, Accessories"}];function PB({onNavigate:e}){const[t,r]=z.useState("locations"),[n,i]=z.useState("initial"),[o,l]=z.useState(!1),[u,d]=z.useState(!1),[f,v]=z.useState(!1),[h,m]=z.useState(zB),[b,j]=z.useState(CB),[x,y]=z.useState(NB),[w,k]=z.useState(!1),[S,N]=z.useState(!1),[A,O]=z.useState(!1),[_,T]=z.useState(null),[E,D]=z.useState(!1),[M,F]=z.useState(!1),[L,V]=z.useState(null),[H,Z]=z.useState(null),[Y,U]=z.useState({id:"",name:"",address:"",warehouses:[]}),[B,W]=z.useState(!1),[$,q]=z.useState(null),[oe,fe]=z.useState({id:"",name:"",role:"Allocator",responsibilityArea:""}),[ye,se]=z.useState([]),[re,xe]=z.useState({initial:{active:!0,recipientDetermination:"Plandaten",deliveryDateDetermination:"Lieferplan",availabilityDetermination:"VZ-Bestand",reductionStrategy:"Proportional",allocationAlgorithm:"Kapazittsgesteuerte Allokation"},replenishment:{active:!0,recipientDetermination:"Listung",deliveryDateDetermination:"Planlieferzeit",availabilityDetermination:"Bestellung",reductionStrategy:"Sollbestand fr Top-Performer",allocationAlgorithm:"Prognosegesteuerter Nachschub mit Kapazittsanpassung"},manual:{active:!1,recipientDetermination:"Manuelle Selektion",deliveryDateDetermination:"Lieferplan",availabilityDetermination:"Extern",reductionStrategy:"Prsentationsbestand fr alle",allocationAlgorithm:"Sollbestandsgesteuerte Allokation"}}),[ae,pe]=z.useState({capacityPlanningEnabled:!0,hierarchyLevel:"Produktgruppe",quantityUnit:"Stck"}),[Se,le]=z.useState(re),[Be,De]=z.useState(ae),[Ye,tt]=z.useState(h),Qe=()=>{le(re),De(ae),tt(h),v(!1),alert("Allokationseinstellungen gespeichert")},st=()=>{xe(Se),pe(Be),m(Ye),v(!1)},lt=()=>{k(!0)},At=R=>{j(Q=>[...Q,...R]),v(!0)},Kt=R=>{Z(R),U({...R}),l(!0)},cr=()=>{j(H?R=>R.map(Q=>Q.id===H.id?Y:Q):R=>[...R,Y]),v(!0),l(!1),Z(null)},He=()=>{l(!1),Z(null),U({id:"",name:"",address:"",warehouses:[]})},Ve=()=>{N(!0)},St=R=>{m(Q=>[...Q,...R]),v(!0)},ct=R=>{T(R),O(!0)},rt=R=>{_&&(j(Q=>Q.map(de=>de.id===_.id?{...de,warehouses:R}:de)),v(!0))},mr=()=>{D(!0)},hn=R=>{y(Q=>[...Q,...R]),v(!0)},br=R=>{if(L){const Q={...L,responsibilityArea:R.join(", ")};y(de=>de.map(Re=>Re.id===L.id?Q:Re)),v(!0),V(null)}},Fr=R=>{q(R),fe({...R}),se(R.responsibilityArea.split(", ")),W(!0)},vn=()=>{const R={...oe,responsibilityArea:ye.join(", ")};y($?Q=>Q.map(de=>de.id===$.id?R:de):Q=>[...Q,R]),v(!0),W(!1),q(null)},_r=()=>{W(!1),q(null),fe({id:"",name:"",role:"Allocator",responsibilityArea:""}),se([])},Yr=R=>{se(Q=>Q.includes(R)?Q.filter(de=>de!==R):[...Q,R])},Wi=[{key:"id",label:"ID",render:R=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:R}),a.jsx("button",{className:"p-1 rounded hover:bg-surface-tint",children:a.jsx(Sf,{size:14,style:{color:"var(--text-muted)"}})})]})},{key:"name",label:"Name",sortable:!0},{key:"address",label:"Adresse",render:R=>a.jsx("div",{style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:R})},{key:"warehouses",label:"Lagerorte",render:(R,Q)=>a.jsx("button",{onClick:de=>{de.stopPropagation(),ct(Q)},className:"flex items-center gap-1 flex-wrap hover:bg-surface-tint p-2 rounded transition-colors w-full text-left",children:R.length===0?a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Klicken zum Auswhlen..."}):a.jsxs(a.Fragment,{children:[R.slice(0,3).map((de,Re)=>a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:de},Re)),R.length>3&&a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:["+",R.length-3]})]})})},{key:"actions",label:"Aktionen",align:"right",render:(R,Q)=>a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{className:"p-1.5 rounded hover:bg-surface-tint",onClick:de=>{de.stopPropagation(),Kt(Q)},children:a.jsx(yo,{size:16,style:{color:"var(--text-secondary)"}})}),a.jsx("button",{className:"p-1.5 rounded hover:bg-surface-tint",onClick:de=>de.stopPropagation(),children:a.jsx(Cs,{size:16,style:{color:"var(--status-danger)"}})})]})}],ga=[{key:"id",label:"ID",render:R=>a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:R})},{key:"name",label:"Name",sortable:!0},{key:"address",label:"Adresse"},{key:"cluster",label:"Clusterzuordnung",render:(R,Q)=>a.jsxs("select",{value:R,onChange:de=>{m(Re=>Re.map(ut=>ut.id===Q.id?{...ut,cluster:de.target.value}:ut)),v(!0)},className:"px-2 py-1 border rounded",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"},onClick:de=>de.stopPropagation(),children:[a.jsx("option",{children:"Urban Premium"}),a.jsx("option",{children:"Urban Standard"}),a.jsx("option",{children:"Regional"})]})},{key:"isReference",label:"Referenzkennzeichen",render:(R,Q)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{value:R?"ja":"nein",onChange:de=>{m(Re=>Re.map(ut=>ut.id===Q.id?{...ut,isReference:de.target.value==="ja"}:ut)),v(!0)},className:"px-2 py-1 border rounded",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"},onClick:de=>de.stopPropagation(),children:[a.jsx("option",{value:"nein",children:"Nein"}),a.jsx("option",{value:"ja",children:"Ja"})]}),a.jsxs("button",{className:"p-1 group relative",children:[a.jsx(Xt,{size:14,style:{color:"var(--text-muted)"}}),a.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 rounded shadow-lg opacity-0 pointer-events-none group-hover:opacity-100 transition-opacity whitespace-nowrap",style:{backgroundColor:"var(--text-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",boxShadow:"var(--shadow-md)",zIndex:10},children:"Diese Filiale dient als Referenz fr Preise und andere abgeleitete Werte."})]})]})},{key:"actions",label:"Aktionen",align:"right",render:()=>a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{className:"p-1.5 rounded hover:bg-surface-tint",onClick:R=>R.stopPropagation(),children:a.jsx(yo,{size:16,style:{color:"var(--text-secondary)"}})}),a.jsx("button",{className:"p-1.5 rounded hover:bg-surface-tint",onClick:R=>R.stopPropagation(),children:a.jsx(Cs,{size:16,style:{color:"var(--status-danger)"}})})]})}],ee=[{key:"id",label:"ID"},{key:"name",label:"Name",sortable:!0},{key:"role",label:"Rolle",render:R=>a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:R==="Admin"?"var(--status-info)":"var(--status-success)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:R})},{key:"responsibilityArea",label:"Verantwortungsbereich",render:(R,Q)=>a.jsx("button",{onClick:de=>{de.stopPropagation(),V(Q),F(!0)},className:"flex items-center gap-1 flex-wrap hover:bg-surface-tint p-2 rounded transition-colors w-full text-left",children:!R||R===""?a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Klicken zum Festlegen..."}):a.jsxs(a.Fragment,{children:[R.split(", ").slice(0,3).map((de,Re)=>a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-info-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-info)"},children:de},Re)),R.split(", ").length>3&&a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:["+",R.split(", ").length-3]})]})})},{key:"actions",label:"Aktionen",align:"right",render:(R,Q)=>a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{className:"p-1.5 rounded hover:bg-surface-tint",onClick:de=>{de.stopPropagation(),Fr(Q)},children:a.jsx(yo,{size:16,style:{color:"var(--text-secondary)"}})}),a.jsx("button",{className:"p-1.5 rounded hover:bg-surface-tint",onClick:de=>{de.stopPropagation(),y(Re=>Re.filter(ut=>ut.id!==Q.id)),v(!0)},children:a.jsx(Cs,{size:16,style:{color:"var(--status-danger)"}})})]})}],we=[{id:"initial",name:"Initiale Allokation"},{id:"replenishment",name:"Nachschub"},{id:"manual",name:"Manuelle Allokation"}],ue=re[n];return a.jsxs("div",{className:"pb-20",children:[a.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Allokationseinstellungen"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Verwalten Sie Lokationen, Verantwortlichkeiten und Allokationslogiken"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>e("parameters"),className:"flex items-center gap-2 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",height:"var(--height-button-md)"},children:["Allokationsparameter",a.jsx(cn,{size:18})]}),a.jsxs("button",{onClick:()=>e("capacity"),className:"flex items-center gap-2 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",height:"var(--height-button-md)"},children:["Weiter zu Kapazitt",a.jsx(cn,{size:18})]})]})]}),a.jsx("div",{className:"mb-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("div",{className:"flex gap-1",children:[{id:"locations",label:"Lokationen"},{id:"responsibilities",label:"Verantwortlichkeiten"},{id:"allocation",label:"Allokationseinstellungen"}].map(R=>a.jsxs("button",{onClick:()=>r(R.id),className:"px-6 py-3 relative transition-all",style:{backgroundColor:t===R.id?"var(--brand-primary)":"transparent",color:t===R.id?"var(--text-inverse)":"var(--text-muted)",fontWeight:t===R.id?"var(--font-weight-medium)":"var(--font-weight-regular)",fontSize:"var(--font-size-sm)",borderRadius:t===R.id?"8px 8px 0 0":"0"},onMouseEnter:Q=>{t!==R.id&&(Q.currentTarget.style.backgroundColor="var(--surface-subtle-tint)")},onMouseLeave:Q=>{t!==R.id&&(Q.currentTarget.style.backgroundColor="transparent")},children:[R.label,t===R.id&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1",style:{backgroundColor:"var(--brand-accent)"}})]},R.id))})}),t==="locations"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Verteilzentren"}),a.jsxs("button",{onClick:lt,className:"flex items-center gap-2 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:[a.jsx(ji,{size:18}),"Neues Verteilzentrum"]})]}),a.jsx(Ar,{columns:Wi,data:b,density:"comfortable"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Filialen"}),a.jsxs("button",{onClick:Ve,className:"flex items-center gap-2 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:[a.jsx(ji,{size:18}),"Neue Filiale"]})]}),a.jsx(Ar,{columns:ga,data:h,density:"comfortable"})]})]}),t==="responsibilities"&&a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Verantwortlichkeiten"}),a.jsxs("button",{onClick:mr,className:"flex items-center gap-2 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:[a.jsx(ji,{size:18}),"Allokator hinzufgen"]})]}),a.jsx(Ar,{columns:ee,data:x,density:"comfortable"})]}),t==="allocation"&&a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsx("div",{className:"col-span-3",children:a.jsx("div",{className:"space-y-1",children:we.map(R=>a.jsx("button",{onClick:()=>i(R.id),className:"w-full text-left px-4 py-3 rounded-lg transition-all relative",style:{backgroundColor:n===R.id?"var(--surface-subtle-tint)":"transparent",fontWeight:n===R.id?"var(--font-weight-semibold)":"var(--font-weight-regular)",fontSize:"var(--font-size-sm)",borderLeft:n===R.id?"4px solid var(--brand-accent)":"4px solid transparent",marginLeft:"-4px",paddingLeft:"calc(var(--space-4) + 4px)"},onMouseEnter:Q=>{n!==R.id&&(Q.currentTarget.style.backgroundColor="var(--surface-subtle-tint)")},onMouseLeave:Q=>{n!==R.id&&(Q.currentTarget.style.backgroundColor="transparent")},children:R.name},R.id))})}),a.jsx("div",{className:"col-span-9",children:a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)"},children:[a.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:we.find(R=>R.id===n)?.name}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:["Szenario ",ue.active?"aktiv":"inaktiv"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:ue.active,onChange:R=>{xe(Q=>({...Q,[n]:{...Q[n],active:R.target.checked}})),v(!0)},className:"sr-only"}),a.jsx("div",{className:"w-11 h-6 rounded-full transition-colors",style:{backgroundColor:ue.active?"var(--brand-primary)":"var(--border-input)"},children:a.jsx("div",{className:"w-5 h-5 bg-white rounded-full shadow transition-transform",style:{transform:ue.active?"translateX(22px) translateY(2px)":"translateX(2px) translateY(2px)"}})})]})]})]}),a.jsxs("div",{className:"space-y-5",style:{opacity:ue.active?1:.5},children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Empfngerermittlung"}),a.jsxs("select",{value:ue.recipientDetermination,disabled:!ue.active,onChange:R=>{xe(Q=>({...Q,[n]:{...Q[n],recipientDetermination:R.target.value}})),v(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Plandaten"}),a.jsx("option",{children:"Manuelle Selektion"}),a.jsx("option",{children:"Listung"}),a.jsx("option",{children:"Transportbeziehungen"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Lieferterminermittlung"}),a.jsxs("select",{value:ue.deliveryDateDetermination,disabled:!ue.active,onChange:R=>{xe(Q=>({...Q,[n]:{...Q[n],deliveryDateDetermination:R.target.value}})),v(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Lieferplan"}),a.jsx("option",{children:"Planlieferzeit"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Verfgbarkeitsermittlung"}),a.jsxs("select",{value:ue.availabilityDetermination,disabled:!ue.active,onChange:R=>{xe(Q=>({...Q,[n]:{...Q[n],availabilityDetermination:R.target.value}})),v(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Extern"}),a.jsx("option",{children:"VZ-Bestand"}),a.jsx("option",{children:"Bestellung"}),a.jsx("option",{children:"Lieferung"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Krzungsstrategie"}),a.jsxs("select",{value:ue.reductionStrategy,disabled:!ue.active,onChange:R=>{xe(Q=>({...Q,[n]:{...Q[n],reductionStrategy:R.target.value}})),v(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Proportional"}),a.jsx("option",{children:"Sollbestand fr Top-Performer"}),a.jsx("option",{children:"Prsentationsbestand fr alle"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Allokationsalgorithmus"}),a.jsxs("select",{value:ue.allocationAlgorithm,disabled:!ue.active,onChange:R=>{xe(Q=>({...Q,[n]:{...Q[n],allocationAlgorithm:R.target.value}})),v(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Kapazittsgesteuerte Allokation"}),a.jsx("option",{children:"Sollbestandsgesteuerte Allokation"}),a.jsx("option",{children:"KPI-basierte Allokation"}),a.jsx("option",{children:"Prognosegesteuerter Nachschub mit Kapazittsanpassung"})]}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"var(--space-1)"},children:"Der Algorithmus bestimmt die Berechnungslogik der Verteilung."})]})]}),a.jsx("div",{className:"my-6",style:{height:"1px",backgroundColor:"var(--border-default)"}}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-5)"},children:"Globale Allokationseinstellungen"}),a.jsxs("div",{className:"space-y-5",children:[a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Kapazittsplanung"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:ae.capacityPlanningEnabled,onChange:R=>{pe(Q=>({...Q,capacityPlanningEnabled:R.target.checked})),v(!0)},className:"sr-only"}),a.jsx("div",{className:"w-11 h-6 rounded-full transition-colors",style:{backgroundColor:ae.capacityPlanningEnabled?"var(--brand-primary)":"var(--border-input)"},children:a.jsx("div",{className:"w-5 h-5 bg-white rounded-full shadow transition-transform",style:{transform:ae.capacityPlanningEnabled?"translateX(22px) translateY(2px)":"translateX(2px) translateY(2px)"}})})]})]})}),a.jsxs("div",{style:{opacity:ae.capacityPlanningEnabled?1:.5},children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Artikelhierarchieebene fr Kapazittsplanung"}),a.jsxs("select",{value:ae.hierarchyLevel,disabled:!ae.capacityPlanningEnabled,onChange:R=>{pe(Q=>({...Q,hierarchyLevel:R.target.value})),v(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Unternehmen"}),a.jsx("option",{children:"Einkaufsbereich"}),a.jsx("option",{children:"Produktgruppe"}),a.jsx("option",{children:"Produkt"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Mengeneinheit"}),a.jsxs("select",{value:ae.quantityUnit,onChange:R=>{pe(Q=>({...Q,quantityUnit:R.target.value})),v(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Stck"}),a.jsx("option",{children:"Karton"}),a.jsx("option",{children:"Palette"})]})]})]})]})]})})]}),a.jsxs("div",{className:"fixed bottom-0 left-0 right-0 flex items-center justify-end gap-3 px-6 border-t",style:{height:"64px",backgroundColor:"var(--surface-page)",borderColor:"var(--border-subtle)",marginLeft:"var(--sidenav-width-desktop)",zIndex:10},children:[a.jsx("button",{disabled:!f,onClick:st,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)",opacity:f?1:.5,cursor:f?"pointer":"not-allowed"},children:"nderungen verwerfen"}),a.jsx("button",{disabled:!f,onClick:Qe,className:"px-4 py-2 rounded-lg",style:{backgroundColor:f?"var(--button-primary-bg)":"var(--border-default)",color:"var(--button-primary-text)",height:"var(--height-button-md)",cursor:f?"pointer":"not-allowed"},children:"Speichern"})]}),o&&a.jsxs("div",{className:"fixed inset-0 z-50 flex",onClick:()=>l(!1),children:[a.jsx("div",{className:"flex-1",style:{backgroundColor:"var(--bg-overlay)"}}),a.jsxs("div",{className:"bg-white shadow-lg overflow-y-auto",style:{width:"var(--drawer-width)",boxShadow:"var(--shadow-lg)"},onClick:R=>R.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b sticky top-0 bg-white",style:{borderColor:"var(--border-default)"},children:a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Verteilzentrum bearbeiten"})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block",color:"var(--text-muted)"},children:"ID (nur lesbar)"}),a.jsx("input",{type:"text",value:Y.id,readOnly:!0,className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-alt)",color:"var(--text-muted)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Name"}),a.jsx("input",{type:"text",value:Y.name,onChange:R=>U(Q=>({...Q,name:R.target.value})),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Adresse"}),a.jsx("textarea",{value:Y.address,onChange:R=>U(Q=>({...Q,address:R.target.value})),rows:3,className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",resize:"vertical"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Lagerorte"}),a.jsxs("select",{multiple:!0,value:Y.warehouses,onChange:R=>{const Q=Array.from(R.target.selectedOptions,de=>de.value);U(de=>({...de,warehouses:Q}))},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",minHeight:"120px"},children:[a.jsx("option",{value:"Lager A",children:"Lager A"}),a.jsx("option",{value:"Lager B",children:"Lager B"}),a.jsx("option",{value:"Lager C",children:"Lager C"}),a.jsx("option",{value:"Lager D",children:"Lager D"}),a.jsx("option",{value:"Lager E",children:"Lager E"}),a.jsx("option",{value:"Lager 1",children:"Lager 1"}),a.jsx("option",{value:"Lager 2",children:"Lager 2"}),a.jsx("option",{value:"Lager 3",children:"Lager 3"})]})]})]}),a.jsxs("div",{className:"p-6 border-t sticky bottom-0 bg-white flex gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:He,className:"flex-1 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsx("button",{onClick:cr,className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:"Speichern"})]})]})]}),u&&a.jsxs("div",{className:"fixed inset-0 z-50 flex",onClick:()=>d(!1),children:[a.jsx("div",{className:"flex-1",style:{backgroundColor:"var(--bg-overlay)"}}),a.jsxs("div",{className:"bg-white shadow-lg overflow-y-auto",style:{width:"var(--drawer-width)",boxShadow:"var(--shadow-lg)"},onClick:R=>R.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b sticky top-0 bg-white",style:{borderColor:"var(--border-default)"},children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Verantwortungsbereich definieren"}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[a.jsxs("span",{className:"px-3 py-1 rounded-full flex items-center gap-2",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)"},children:["Shoes",a.jsx("button",{className:"hover:opacity-70",children:""})]}),a.jsxs("span",{className:"px-3 py-1 rounded-full flex items-center gap-2",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)"},children:["Apparel",a.jsx("button",{className:"hover:opacity-70",children:""})]})]})]}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Unternehmen"})]}),a.jsxs("div",{className:"ml-6 mt-2 space-y-2",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Fashion"})]}),a.jsxs("div",{className:"ml-6 mt-2 space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",defaultChecked:!0}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Shoes"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",defaultChecked:!0}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Apparel"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Accessories"})]})]})]}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Electronics"})]})})]})]})})}),a.jsxs("div",{className:"p-6 border-t sticky bottom-0 bg-white flex gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:"bernehmen"})]})]})]}),B&&a.jsxs("div",{className:"fixed inset-0 z-50 flex",onClick:_r,children:[a.jsx("div",{className:"flex-1",style:{backgroundColor:"var(--bg-overlay)"}}),a.jsxs("div",{className:"bg-white shadow-lg overflow-y-auto",style:{width:"var(--drawer-width)",boxShadow:"var(--shadow-lg)"},onClick:R=>R.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b sticky top-0 bg-white",style:{borderColor:"var(--border-default)"},children:a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:$?"Allokator bearbeiten":"Allokator hinzufgen"})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"ID"}),a.jsx("input",{type:"text",value:oe.id,onChange:R=>fe(Q=>({...Q,id:R.target.value})),placeholder:"z.B. USR-004",className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Name"}),a.jsx("input",{type:"text",value:oe.name,onChange:R=>fe(Q=>({...Q,name:R.target.value})),placeholder:"z.B. Max Mustermann",className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Rolle"}),a.jsxs("select",{value:oe.role,onChange:R=>fe(Q=>({...Q,role:R.target.value})),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"Allocator",children:"Allocator"}),a.jsx("option",{value:"Admin",children:"Admin"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Verantwortungsbereich"}),ye.length>0&&a.jsx("div",{className:"mb-3 flex flex-wrap gap-2",children:ye.map((R,Q)=>a.jsxs("span",{className:"px-3 py-1 rounded-full flex items-center gap-2",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)"},children:[R,a.jsx("button",{onClick:()=>Yr(R),className:"hover:opacity-70",children:""})]},Q))}),a.jsxs("div",{className:"space-y-2 p-3 border rounded-lg",style:{borderColor:"var(--border-default)"},children:[a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:ye.includes("Alle Bereiche"),onChange:()=>Yr("Alle Bereiche")}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Alle Bereiche"})]})}),a.jsxs("div",{className:"ml-6 space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:ye.includes("Shoes"),onChange:()=>Yr("Shoes")}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Shoes"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:ye.includes("Apparel"),onChange:()=>Yr("Apparel")}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Apparel"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:ye.includes("Accessories"),onChange:()=>Yr("Accessories")}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Accessories"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:ye.includes("Electronics"),onChange:()=>Yr("Electronics")}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Electronics"})]})]})]})]})]}),a.jsxs("div",{className:"p-6 border-t sticky bottom-0 bg-white flex gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:_r,className:"flex-1 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsx("button",{onClick:vn,className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:"Speichern"})]})]})]}),a.jsx(qb,{isOpen:w,onClose:()=>k(!1),title:"Verteilzentrum auswhlen",availableLocations:wB.filter(R=>!b.some(Q=>Q.id===R.id)),selectedLocations:[],onConfirm:At,multiSelect:!0}),a.jsx(qb,{isOpen:S,onClose:()=>N(!1),title:"Filiale auswhlen",availableLocations:jB.filter(R=>!h.some(Q=>Q.id===R.id)),selectedLocations:[],onConfirm:St,multiSelect:!0}),a.jsx(xB,{isOpen:A,onClose:()=>{O(!1),T(null)},distributionCenterName:_?.name||"",availableLocations:kB,selectedLocations:_?.warehouses||[],onConfirm:rt}),a.jsx(bB,{isOpen:E,onClose:()=>D(!1),availableAllocators:AB.filter(R=>!x.some(Q=>Q.id===R.id)),selectedAllocators:[],onConfirm:hn,multiSelect:!0}),a.jsx(SB,{isOpen:M,onClose:()=>{F(!1),V(null)},selectedAreas:L?.responsibilityArea?L.responsibilityArea.split(", ").filter(R=>R!==""):[],onConfirm:br})]})}function CE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=CE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ue(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=CE(e))&&(n&&(n+=" "),n+=t);return n}var km,e2;function Xr(){if(e2)return km;e2=1;var e=Array.isArray;return km=e,km}var Cm,t2;function zE(){if(t2)return Cm;t2=1;var e=typeof Ld=="object"&&Ld&&Ld.Object===Object&&Ld;return Cm=e,Cm}var zm,r2;function pa(){if(r2)return zm;r2=1;var e=zE(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return zm=r,zm}var Am,n2;function bu(){if(n2)return Am;n2=1;var e=pa(),t=e.Symbol;return Am=t,Am}var Nm,a2;function _B(){if(a2)return Nm;a2=1;var e=bu(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function o(l){var u=r.call(l,i),d=l[i];try{l[i]=void 0;var f=!0}catch{}var v=n.call(l);return f&&(u?l[i]=d:delete l[i]),v}return Nm=o,Nm}var Pm,i2;function OB(){if(i2)return Pm;i2=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Pm=r,Pm}var _m,o2;function Ga(){if(o2)return _m;o2=1;var e=bu(),t=_B(),r=OB(),n="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?i:n:o&&o in Object(u)?t(u):r(u)}return _m=l,_m}var Om,s2;function Va(){if(s2)return Om;s2=1;function e(t){return t!=null&&typeof t=="object"}return Om=e,Om}var Em,l2;function ul(){if(l2)return Em;l2=1;var e=Ga(),t=Va(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return Em=n,Em}var Tm,c2;function US(){if(c2)return Tm;c2=1;var e=Xr(),t=ul(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,l){if(e(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||t(o)?!0:n.test(o)||!r.test(o)||l!=null&&o in Object(l)}return Tm=i,Tm}var Dm,u2;function Di(){if(u2)return Dm;u2=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Dm=e,Dm}var Rm,d2;function HS(){if(d2)return Rm;d2=1;var e=Ga(),t=Di(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function l(u){if(!t(u))return!1;var d=e(u);return d==n||d==i||d==r||d==o}return Rm=l,Rm}var Im,f2;function EB(){if(f2)return Im;f2=1;var e=pa(),t=e["__core-js_shared__"];return Im=t,Im}var Mm,p2;function TB(){if(p2)return Mm;p2=1;var e=EB(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return Mm=r,Mm}var Lm,h2;function AE(){if(h2)return Lm;h2=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Lm=r,Lm}var Bm,v2;function DB(){if(v2)return Bm;v2=1;var e=HS(),t=TB(),r=Di(),n=AE(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,f=u.hasOwnProperty,v=RegExp("^"+d.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!r(m)||t(m))return!1;var b=e(m)?v:o;return b.test(n(m))}return Bm=h,Bm}var Fm,m2;function RB(){if(m2)return Fm;m2=1;function e(t,r){return t?.[r]}return Fm=e,Fm}var Wm,g2;function Oo(){if(g2)return Wm;g2=1;var e=DB(),t=RB();function r(n,i){var o=t(n,i);return e(o)?o:void 0}return Wm=r,Wm}var $m,y2;function Mp(){if(y2)return $m;y2=1;var e=Oo(),t=e(Object,"create");return $m=t,$m}var Um,x2;function IB(){if(x2)return Um;x2=1;var e=Mp();function t(){this.__data__=e?e(null):{},this.size=0}return Um=t,Um}var Hm,b2;function MB(){if(b2)return Hm;b2=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Hm=e,Hm}var Km,S2;function LB(){if(S2)return Km;S2=1;var e=Mp(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var l=this.__data__;if(e){var u=l[o];return u===t?void 0:u}return n.call(l,o)?l[o]:void 0}return Km=i,Km}var Gm,w2;function BB(){if(w2)return Gm;w2=1;var e=Mp(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var o=this.__data__;return e?o[i]!==void 0:r.call(o,i)}return Gm=n,Gm}var Vm,j2;function FB(){if(j2)return Vm;j2=1;var e=Mp(),t="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=e&&i===void 0?t:i,this}return Vm=r,Vm}var qm,k2;function WB(){if(k2)return qm;k2=1;var e=IB(),t=MB(),r=LB(),n=BB(),i=FB();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,qm=o,qm}var Zm,C2;function $B(){if(C2)return Zm;C2=1;function e(){this.__data__=[],this.size=0}return Zm=e,Zm}var Xm,z2;function KS(){if(z2)return Xm;z2=1;function e(t,r){return t===r||t!==t&&r!==r}return Xm=e,Xm}var Ym,A2;function Lp(){if(A2)return Ym;A2=1;var e=KS();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return Ym=t,Ym}var Qm,N2;function UB(){if(N2)return Qm;N2=1;var e=Lp(),t=Array.prototype,r=t.splice;function n(i){var o=this.__data__,l=e(o,i);if(l<0)return!1;var u=o.length-1;return l==u?o.pop():r.call(o,l,1),--this.size,!0}return Qm=n,Qm}var Jm,P2;function HB(){if(P2)return Jm;P2=1;var e=Lp();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return Jm=t,Jm}var eg,_2;function KB(){if(_2)return eg;_2=1;var e=Lp();function t(r){return e(this.__data__,r)>-1}return eg=t,eg}var tg,O2;function GB(){if(O2)return tg;O2=1;var e=Lp();function t(r,n){var i=this.__data__,o=e(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return tg=t,tg}var rg,E2;function Bp(){if(E2)return rg;E2=1;var e=$B(),t=UB(),r=HB(),n=KB(),i=GB();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,rg=o,rg}var ng,T2;function GS(){if(T2)return ng;T2=1;var e=Oo(),t=pa(),r=e(t,"Map");return ng=r,ng}var ag,D2;function VB(){if(D2)return ag;D2=1;var e=WB(),t=Bp(),r=GS();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return ag=n,ag}var ig,R2;function qB(){if(R2)return ig;R2=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return ig=e,ig}var og,I2;function Fp(){if(I2)return og;I2=1;var e=qB();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return og=t,og}var sg,M2;function ZB(){if(M2)return sg;M2=1;var e=Fp();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return sg=t,sg}var lg,L2;function XB(){if(L2)return lg;L2=1;var e=Fp();function t(r){return e(this,r).get(r)}return lg=t,lg}var cg,B2;function YB(){if(B2)return cg;B2=1;var e=Fp();function t(r){return e(this,r).has(r)}return cg=t,cg}var ug,F2;function QB(){if(F2)return ug;F2=1;var e=Fp();function t(r,n){var i=e(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return ug=t,ug}var dg,W2;function VS(){if(W2)return dg;W2=1;var e=VB(),t=ZB(),r=XB(),n=YB(),i=QB();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,dg=o,dg}var fg,$2;function NE(){if($2)return fg;$2=1;var e=VS(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var l=arguments,u=i?i.apply(this,l):l[0],d=o.cache;if(d.has(u))return d.get(u);var f=n.apply(this,l);return o.cache=d.set(u,f)||d,f};return o.cache=new(r.Cache||e),o}return r.Cache=e,fg=r,fg}var pg,U2;function JB(){if(U2)return pg;U2=1;var e=NE(),t=500;function r(n){var i=e(n,function(l){return o.size===t&&o.clear(),l}),o=i.cache;return i}return pg=r,pg}var hg,H2;function eF(){if(H2)return hg;H2=1;var e=JB(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(l,u,d,f){o.push(d?f.replace(r,"$1"):u||l)}),o});return hg=n,hg}var vg,K2;function qS(){if(K2)return vg;K2=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,o=Array(i);++n<i;)o[n]=r(t[n],n,t);return o}return vg=e,vg}var mg,G2;function tF(){if(G2)return mg;G2=1;var e=bu(),t=qS(),r=Xr(),n=ul(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function l(u){if(typeof u=="string")return u;if(r(u))return t(u,l)+"";if(n(u))return o?o.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return mg=l,mg}var gg,V2;function PE(){if(V2)return gg;V2=1;var e=tF();function t(r){return r==null?"":e(r)}return gg=t,gg}var yg,q2;function _E(){if(q2)return yg;q2=1;var e=Xr(),t=US(),r=eF(),n=PE();function i(o,l){return e(o)?o:t(o,l)?[o]:r(n(o))}return yg=i,yg}var xg,Z2;function Wp(){if(Z2)return xg;Z2=1;var e=ul();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return xg=t,xg}var bg,X2;function ZS(){if(X2)return bg;X2=1;var e=_E(),t=Wp();function r(n,i){i=e(i,n);for(var o=0,l=i.length;n!=null&&o<l;)n=n[t(i[o++])];return o&&o==l?n:void 0}return bg=r,bg}var Sg,Y2;function OE(){if(Y2)return Sg;Y2=1;var e=ZS();function t(r,n,i){var o=r==null?void 0:e(r,n);return o===void 0?i:o}return Sg=t,Sg}var rF=OE();const fn=pt(rF);var wg,Q2;function nF(){if(Q2)return wg;Q2=1;function e(t){return t==null}return wg=e,wg}var aF=nF();const Le=pt(aF);var jg,J2;function iF(){if(J2)return jg;J2=1;var e=Ga(),t=Xr(),r=Va(),n="[object String]";function i(o){return typeof o=="string"||!t(o)&&r(o)&&e(o)==n}return jg=i,jg}var oF=iF();const So=pt(oF);var sF=HS();const Fe=pt(sF);var lF=Di();const dl=pt(lF);var kg={exports:{}},dt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eC;function cF(){if(eC)return dt;eC=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),j;j=Symbol.for("react.module.reference");function x(y){if(typeof y=="object"&&y!==null){var w=y.$$typeof;switch(w){case e:switch(y=y.type,y){case r:case i:case n:case f:case v:return y;default:switch(y=y&&y.$$typeof,y){case u:case l:case d:case m:case h:case o:return y;default:return w}}case t:return w}}}return dt.ContextConsumer=l,dt.ContextProvider=o,dt.Element=e,dt.ForwardRef=d,dt.Fragment=r,dt.Lazy=m,dt.Memo=h,dt.Portal=t,dt.Profiler=i,dt.StrictMode=n,dt.Suspense=f,dt.SuspenseList=v,dt.isAsyncMode=function(){return!1},dt.isConcurrentMode=function(){return!1},dt.isContextConsumer=function(y){return x(y)===l},dt.isContextProvider=function(y){return x(y)===o},dt.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},dt.isForwardRef=function(y){return x(y)===d},dt.isFragment=function(y){return x(y)===r},dt.isLazy=function(y){return x(y)===m},dt.isMemo=function(y){return x(y)===h},dt.isPortal=function(y){return x(y)===t},dt.isProfiler=function(y){return x(y)===i},dt.isStrictMode=function(y){return x(y)===n},dt.isSuspense=function(y){return x(y)===f},dt.isSuspenseList=function(y){return x(y)===v},dt.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===i||y===n||y===f||y===v||y===b||typeof y=="object"&&y!==null&&(y.$$typeof===m||y.$$typeof===h||y.$$typeof===o||y.$$typeof===l||y.$$typeof===d||y.$$typeof===j||y.getModuleId!==void 0)},dt.typeOf=x,dt}var tC;function uF(){return tC||(tC=1,kg.exports=cF()),kg.exports}var dF=uF(),Cg,rC;function EE(){if(rC)return Cg;rC=1;var e=Ga(),t=Va(),r="[object Number]";function n(i){return typeof i=="number"||t(i)&&e(i)==r}return Cg=n,Cg}var zg,nC;function fF(){if(nC)return zg;nC=1;var e=EE();function t(r){return e(r)&&r!=+r}return zg=t,zg}var pF=fF();const fl=pt(pF);var hF=EE();const vF=pt(hF);var Ir=function(t){return t===0?0:t>0?1:-1},fo=function(t){return So(t)&&t.indexOf("%")===t.length-1},ge=function(t){return vF(t)&&!fl(t)},mF=function(t){return Le(t)},sr=function(t){return ge(t)||So(t)},gF=0,Ri=function(t){var r=++gF;return"".concat(t||"").concat(r)},Mr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(t)&&!So(t))return n;var o;if(fo(t)){var l=t.indexOf("%");o=r*parseFloat(t.slice(0,l))/100}else o=+t;return fl(o)&&(o=n),i&&o>r&&(o=r),o},xi=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},yF=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},Wt=function(t,r){return ge(t)&&ge(r)?function(n){return t+n*(r-t)}:function(){return r}};function wf(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):fn(n,t))===r})}var xF=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,i=0,o=0,l=0,u=1/0,d=-1/0,f=0,v=0,h=0;h<r;h++)f=t[h].cx||0,v=t[h].cy||0,n+=f,i+=v,o+=f*v,l+=f*f,u=Math.min(u,f),d=Math.max(d,f);var m=r*l!==n*n?(r*o-n*i)/(r*l-n*n):0;return{xmin:u,xmax:d,a:m,b:(i-m*n)/r}},bF=function(t,r){return ge(t)&&ge(r)?t-r:So(t)&&So(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function zs(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Zb(e){"@babel/helpers - typeof";return Zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zb(e)}var SF=["viewBox","children"],wF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],aC=["points","pathLength"],Ag={svg:SF,polygon:aC,polyline:aC},XS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],jf=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(z.isValidElement(t)&&(n=t.props),!dl(n))return null;var i={};return Object.keys(n).forEach(function(o){XS.includes(o)&&(i[o]=r||function(l){return n[o](n,l)})}),i},jF=function(t,r,n){return function(i){return t(r,n,i),null}},Ni=function(t,r,n){if(!dl(t)||Zb(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var l=t[o];XS.includes(o)&&typeof l=="function"&&(i||(i={}),i[o]=jF(l,r,n))}),i},kF=["children"],CF=["children"];function iC(e,t){if(e==null)return{};var r=zF(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xb(e){"@babel/helpers - typeof";return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xb(e)}var oC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ma=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},sC=null,Ng=null,YS=function e(t){if(t===sC&&Array.isArray(Ng))return Ng;var r=[];return z.Children.forEach(t,function(n){Le(n)||(dF.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Ng=r,sC=t,r};function Br(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return Ma(i)}):n=[Ma(t)],YS(e).forEach(function(i){var o=fn(i,"type.displayName")||fn(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function on(e,t){var r=Br(e,t);return r&&r[0]}var lC=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!ge(n)||n<=0||!ge(i)||i<=0)},AF=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],NF=function(t){return t&&t.type&&So(t.type)&&AF.indexOf(t.type)>=0},TE=function(t){return t&&Xb(t)==="object"&&"clipDot"in t},PF=function(t,r,n,i){var o,l=(o=Ag?.[i])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Fe(t)&&(i&&l.includes(r)||wF.includes(r))||n&&XS.includes(r)},Oe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(z.isValidElement(t)&&(i=t.props),!dl(i))return null;var o={};return Object.keys(i).forEach(function(l){var u;PF((u=i)===null||u===void 0?void 0:u[l],l,r,n)&&(o[l]=i[l])}),o},Yb=function e(t,r){if(t===r)return!0;var n=z.Children.count(t);if(n!==z.Children.count(r))return!1;if(n===0)return!0;if(n===1)return cC(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=t[i],l=r[i];if(Array.isArray(o)||Array.isArray(l)){if(!e(o,l))return!1}else if(!cC(o,l))return!1}return!0},cC=function(t,r){if(Le(t)&&Le(r))return!0;if(!Le(t)&&!Le(r)){var n=t.props||{},i=n.children,o=iC(n,kF),l=r.props||{},u=l.children,d=iC(l,CF);return i&&u?zs(o,d)&&Yb(i,u):!i&&!u?zs(o,d):!1}return!1},uC=function(t,r){var n=[],i={};return YS(t).forEach(function(o,l){if(NF(o))n.push(o);else if(o){var u=Ma(o.type),d=r[u]||{},f=d.handler,v=d.once;if(f&&(!v||!i[u])){var h=f(o,u,l);n.push(h),i[u]=!0}}}),n},_F=function(t){var r=t&&t.type;return r&&oC[r]?oC[r]:null},OF=function(t,r){return YS(r).indexOf(t)},EF=["children","width","height","viewBox","className","style","title","desc"];function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qb.apply(this,arguments)}function TF(e,t){if(e==null)return{};var r=DF(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Jb(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,o=e.className,l=e.style,u=e.title,d=e.desc,f=TF(e,EF),v=i||{width:r,height:n,x:0,y:0},h=Ue("recharts-surface",o);return K.createElement("svg",Qb({},Oe(f,!0,"svg"),{className:h,width:r,height:n,style:l,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height)}),K.createElement("title",null,u),K.createElement("desc",null,d),t)}var RF=["children","className"];function e0(){return e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e0.apply(this,arguments)}function IF(e,t){if(e==null)return{};var r=MF(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ke=K.forwardRef(function(e,t){var r=e.children,n=e.className,i=IF(e,RF),o=Ue("recharts-layer",n);return K.createElement("g",e0({className:o},Oe(i,!0),{ref:t}),r)}),Kn=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]},Pg,dC;function LF(){if(dC)return Pg;dC=1;function e(t,r,n){var i=-1,o=t.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var l=Array(o);++i<o;)l[i]=t[i+r];return l}return Pg=e,Pg}var _g,fC;function BF(){if(fC)return _g;fC=1;var e=LF();function t(r,n,i){var o=r.length;return i=i===void 0?o:i,!n&&i>=o?r:e(r,n,i)}return _g=t,_g}var Og,pC;function DE(){if(pC)return Og;pC=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,o="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+i+o+"]");function d(f){return u.test(f)}return Og=d,Og}var Eg,hC;function FF(){if(hC)return Eg;hC=1;function e(t){return t.split("")}return Eg=e,Eg}var Tg,vC;function WF(){if(vC)return Tg;vC=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,o="\\ufe0e\\ufe0f",l="["+e+"]",u="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",v="[^"+e+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",j=f+"?",x="["+o+"]?",y="(?:"+b+"(?:"+[v,h,m].join("|")+")"+x+j+")*",w=x+j+y,k="(?:"+[v+u+"?",u,h,m,l].join("|")+")",S=RegExp(d+"(?="+d+")|"+k+w,"g");function N(A){return A.match(S)||[]}return Tg=N,Tg}var Dg,mC;function $F(){if(mC)return Dg;mC=1;var e=FF(),t=DE(),r=WF();function n(i){return t(i)?r(i):e(i)}return Dg=n,Dg}var Rg,gC;function UF(){if(gC)return Rg;gC=1;var e=BF(),t=DE(),r=$F(),n=PE();function i(o){return function(l){l=n(l);var u=t(l)?r(l):void 0,d=u?u[0]:l.charAt(0),f=u?e(u,1).join(""):l.slice(1);return d[o]()+f}}return Rg=i,Rg}var Ig,yC;function HF(){if(yC)return Ig;yC=1;var e=UF(),t=e("toUpperCase");return Ig=t,Ig}var KF=HF();const $p=pt(KF);function kt(e){return function(){return e}}const RE=Math.cos,kf=Math.sin,Zn=Math.sqrt,Cf=Math.PI,Up=2*Cf,t0=Math.PI,r0=2*t0,lo=1e-6,GF=r0-lo;function IE(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function VF(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return IE;const r=10**t;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class qF{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?IE:VF(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,o,l){this._append`C${+t},${+r},${+n},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,r,n,i,o){if(t=+t,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,d=n-t,f=i-r,v=l-t,h=u-r,m=v*v+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>lo)if(!(Math.abs(h*d-f*v)>lo)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let b=n-l,j=i-u,x=d*d+f*f,y=b*b+j*j,w=Math.sqrt(x),k=Math.sqrt(m),S=o*Math.tan((t0-Math.acos((x+m-y)/(2*w*k)))/2),N=S/k,A=S/w;Math.abs(N-1)>lo&&this._append`L${t+N*v},${r+N*h}`,this._append`A${o},${o},0,0,${+(h*b>v*j)},${this._x1=t+A*d},${this._y1=r+A*f}`}}arc(t,r,n,i,o,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),d=n*Math.sin(i),f=t+u,v=r+d,h=1^l,m=l?i-o:o-i;this._x1===null?this._append`M${f},${v}`:(Math.abs(this._x1-f)>lo||Math.abs(this._y1-v)>lo)&&this._append`L${f},${v}`,n&&(m<0&&(m=m%r0+r0),m>GF?this._append`A${n},${n},0,1,${h},${t-u},${r-d}A${n},${n},0,1,${h},${this._x1=f},${this._y1=v}`:m>lo&&this._append`A${n},${n},0,${+(m>=t0)},${h},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function QS(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new qF(t)}function JS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ME(e){this._context=e}ME.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Hp(e){return new ME(e)}function LE(e){return e[0]}function BE(e){return e[1]}function FE(e,t){var r=kt(!0),n=null,i=Hp,o=null,l=QS(u);e=typeof e=="function"?e:e===void 0?LE:kt(e),t=typeof t=="function"?t:t===void 0?BE:kt(t);function u(d){var f,v=(d=JS(d)).length,h,m=!1,b;for(n==null&&(o=i(b=l())),f=0;f<=v;++f)!(f<v&&r(h=d[f],f,d))===m&&((m=!m)?o.lineStart():o.lineEnd()),m&&o.point(+e(h,f,d),+t(h,f,d));if(b)return o=null,b+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:kt(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:kt(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:kt(!!d),u):r},u.curve=function(d){return arguments.length?(i=d,n!=null&&(o=i(n)),u):i},u.context=function(d){return arguments.length?(d==null?n=o=null:o=i(n=d),u):n},u}function Ud(e,t,r){var n=null,i=kt(!0),o=null,l=Hp,u=null,d=QS(f);e=typeof e=="function"?e:e===void 0?LE:kt(+e),t=typeof t=="function"?t:kt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?BE:kt(+r);function f(h){var m,b,j,x=(h=JS(h)).length,y,w=!1,k,S=new Array(x),N=new Array(x);for(o==null&&(u=l(k=d())),m=0;m<=x;++m){if(!(m<x&&i(y=h[m],m,h))===w)if(w=!w)b=m,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=m-1;j>=b;--j)u.point(S[j],N[j]);u.lineEnd(),u.areaEnd()}w&&(S[m]=+e(y,m,h),N[m]=+t(y,m,h),u.point(n?+n(y,m,h):S[m],r?+r(y,m,h):N[m]))}if(k)return u=null,k+""||null}function v(){return FE().defined(i).curve(l).context(o)}return f.x=function(h){return arguments.length?(e=typeof h=="function"?h:kt(+h),n=null,f):e},f.x0=function(h){return arguments.length?(e=typeof h=="function"?h:kt(+h),f):e},f.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:kt(+h),f):n},f.y=function(h){return arguments.length?(t=typeof h=="function"?h:kt(+h),r=null,f):t},f.y0=function(h){return arguments.length?(t=typeof h=="function"?h:kt(+h),f):t},f.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:kt(+h),f):r},f.lineX0=f.lineY0=function(){return v().x(e).y(t)},f.lineY1=function(){return v().x(e).y(r)},f.lineX1=function(){return v().x(n).y(t)},f.defined=function(h){return arguments.length?(i=typeof h=="function"?h:kt(!!h),f):i},f.curve=function(h){return arguments.length?(l=h,o!=null&&(u=l(o)),f):l},f.context=function(h){return arguments.length?(h==null?o=u=null:u=l(o=h),f):o},f}class WE{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function ZF(e){return new WE(e,!0)}function XF(e){return new WE(e,!1)}const e1={draw(e,t){const r=Zn(t/Cf);e.moveTo(r,0),e.arc(0,0,r,0,Up)}},YF={draw(e,t){const r=Zn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},$E=Zn(1/3),QF=$E*2,JF={draw(e,t){const r=Zn(t/QF),n=r*$E;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},eW={draw(e,t){const r=Zn(t),n=-r/2;e.rect(n,n,r,r)}},tW=.8908130915292852,UE=kf(Cf/10)/kf(7*Cf/10),rW=kf(Up/10)*UE,nW=-RE(Up/10)*UE,aW={draw(e,t){const r=Zn(t*tW),n=rW*r,i=nW*r;e.moveTo(0,-r),e.lineTo(n,i);for(let o=1;o<5;++o){const l=Up*o/5,u=RE(l),d=kf(l);e.lineTo(d*r,-u*r),e.lineTo(u*n-d*i,d*n+u*i)}e.closePath()}},Mg=Zn(3),iW={draw(e,t){const r=-Zn(t/(Mg*3));e.moveTo(0,r*2),e.lineTo(-Mg*r,-r),e.lineTo(Mg*r,-r),e.closePath()}},wn=-.5,jn=Zn(3)/2,n0=1/Zn(12),oW=(n0/2+1)*3,sW={draw(e,t){const r=Zn(t/oW),n=r/2,i=r*n0,o=n,l=r*n0+r,u=-o,d=l;e.moveTo(n,i),e.lineTo(o,l),e.lineTo(u,d),e.lineTo(wn*n-jn*i,jn*n+wn*i),e.lineTo(wn*o-jn*l,jn*o+wn*l),e.lineTo(wn*u-jn*d,jn*u+wn*d),e.lineTo(wn*n+jn*i,wn*i-jn*n),e.lineTo(wn*o+jn*l,wn*l-jn*o),e.lineTo(wn*u+jn*d,wn*d-jn*u),e.closePath()}};function lW(e,t){let r=null,n=QS(i);e=typeof e=="function"?e:kt(e||e1),t=typeof t=="function"?t:kt(t===void 0?64:+t);function i(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:kt(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:kt(+o),i):t},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function zf(){}function Af(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function HE(e){this._context=e}HE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Af(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Af(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cW(e){return new HE(e)}function KE(e){this._context=e}KE.prototype={areaStart:zf,areaEnd:zf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Af(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uW(e){return new KE(e)}function GE(e){this._context=e}GE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Af(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dW(e){return new GE(e)}function VE(e){this._context=e}VE.prototype={areaStart:zf,areaEnd:zf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function fW(e){return new VE(e)}function xC(e){return e<0?-1:1}function bC(e,t,r){var n=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(n||i<0&&-0),l=(r-e._y1)/(i||n<0&&-0),u=(o*i+l*n)/(n+i);return(xC(o)+xC(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function SC(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Lg(e,t,r){var n=e._x0,i=e._y0,o=e._x1,l=e._y1,u=(o-n)/3;e._context.bezierCurveTo(n+u,i+u*t,o-u,l-u*r,o,l)}function Nf(e){this._context=e}Nf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Lg(this,this._t0,SC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Lg(this,SC(this,r=bC(this,e,t)),r);break;default:Lg(this,this._t0,r=bC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function qE(e){this._context=new ZE(e)}(qE.prototype=Object.create(Nf.prototype)).point=function(e,t){Nf.prototype.point.call(this,t,e)};function ZE(e){this._context=e}ZE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,o){this._context.bezierCurveTo(t,e,n,r,o,i)}};function pW(e){return new Nf(e)}function hW(e){return new qE(e)}function XE(e){this._context=e}XE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=wC(e),i=wC(t),o=0,l=1;l<r;++o,++l)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function wC(e){var t,r=e.length-1,n,i=new Array(r),o=new Array(r),l=new Array(r);for(i[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,l[t]-=n*l[t-1];for(i[r-1]=l[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(l[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function vW(e){return new XE(e)}function Kp(e,t){this._context=e,this._t=t}Kp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function mW(e){return new Kp(e,.5)}function gW(e){return new Kp(e,0)}function yW(e){return new Kp(e,1)}function Es(e,t){if((l=e.length)>1)for(var r=1,n,i,o=e[t[0]],l,u=o.length;r<l;++r)for(i=o,o=e[t[r]],n=0;n<u;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function a0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function xW(e,t){return e[t]}function bW(e){const t=[];return t.key=e,t}function SW(){var e=kt([]),t=a0,r=Es,n=xW;function i(o){var l=Array.from(e.apply(this,arguments),bW),u,d=l.length,f=-1,v;for(const h of o)for(u=0,++f;u<d;++u)(l[u][f]=[0,+n(h,l[u].key,f,o)]).data=h;for(u=0,v=JS(t(l));u<d;++u)l[v[u]].index=u;return r(l,v),l}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:kt(Array.from(o)),i):e},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:kt(+o),i):n},i.order=function(o){return arguments.length?(t=o==null?a0:typeof o=="function"?o:kt(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(r=o??Es,i):r},i}function wW(e,t){if((n=e.length)>0){for(var r,n,i=0,o=e[0].length,l;i<o;++i){for(l=r=0;r<n;++r)l+=e[r][i][1]||0;if(l)for(r=0;r<n;++r)e[r][i][1]/=l}Es(e,t)}}function jW(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,o=n.length;r<o;++r){for(var l=0,u=0;l<i;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}Es(e,t)}}function kW(e,t){if(!(!((l=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,o,l;n<o;++n){for(var u=0,d=0,f=0;u<l;++u){for(var v=e[t[u]],h=v[n][1]||0,m=v[n-1][1]||0,b=(h-m)/2,j=0;j<u;++j){var x=e[t[j]],y=x[n][1]||0,w=x[n-1][1]||0;b+=y-w}d+=h,f+=b*h}i[n-1][1]+=i[n-1][0]=r,d&&(r-=f/d)}i[n-1][1]+=i[n-1][0]=r,Es(e,t)}}function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}var CW=["type","size","sizeType"];function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i0.apply(this,arguments)}function jC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(r),!0).forEach(function(n){zW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zW(e,t,r){return t=AW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AW(e){var t=NW(e,"string");return Ic(t)=="symbol"?t:t+""}function NW(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PW(e,t){if(e==null)return{};var r=_W(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _W(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var YE={symbolCircle:e1,symbolCross:YF,symbolDiamond:JF,symbolSquare:eW,symbolStar:aW,symbolTriangle:iW,symbolWye:sW},OW=Math.PI/180,EW=function(t){var r="symbol".concat($p(t));return YE[r]||e1},TW=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*OW;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},DW=function(t,r){YE["symbol".concat($p(t))]=r},Gp=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,o=i===void 0?64:i,l=t.sizeType,u=l===void 0?"area":l,d=PW(t,CW),f=kC(kC({},d),{},{type:n,size:o,sizeType:u}),v=function(){var y=EW(n),w=lW().type(y).size(TW(o,u,n));return w()},h=f.className,m=f.cx,b=f.cy,j=Oe(f,!0);return m===+m&&b===+b&&o===+o?K.createElement("path",i0({},j,{className:Ue("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(b,")"),d:v()})):null};Gp.registerSymbol=DW;function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}function o0(){return o0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o0.apply(this,arguments)}function CC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function RW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(r),!0).forEach(function(n){Mc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JE(n.key),n)}}function LW(e,t,r){return t&&MW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BW(e,t,r){return t=Pf(t),FW(e,QE()?Reflect.construct(t,r||[],Pf(e).constructor):t.apply(e,r))}function FW(e,t){if(t&&(Ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WW(e)}function WW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QE=function(){return!!e})()}function Pf(e){return Pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pf(e)}function $W(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s0(e,t)}function s0(e,t){return s0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},s0(e,t)}function Mc(e,t,r){return t=JE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JE(e){var t=UW(e,"string");return Ts(t)=="symbol"?t:t+""}function UW(e,t){if(Ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kn=32,t1=(function(e){function t(){return IW(this,t),BW(this,t,arguments)}return $W(t,e),LW(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=kn/2,l=kn/6,u=kn/3,d=n.inactive?i:n.color;if(n.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:kn,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(o,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(o,`
            H`).concat(kn,"M").concat(2*u,",").concat(o,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return K.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(kn/8,"h").concat(kn,"v").concat(kn*3/4,"h").concat(-kn,"z"),className:"recharts-legend-icon"});if(K.isValidElement(n.legendIcon)){var f=RW({},n);return delete f.legendIcon,K.cloneElement(n.legendIcon,f)}return K.createElement(Gp,{fill:d,cx:o,cy:o,size:kn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,l=i.iconSize,u=i.layout,d=i.formatter,f=i.inactiveColor,v={x:0,y:0,width:kn,height:kn},h={display:u==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(b,j){var x=b.formatter||d,y=Ue(Mc(Mc({"recharts-legend-item":!0},"legend-item-".concat(j),!0),"inactive",b.inactive));if(b.type==="none")return null;var w=Fe(b.value)?null:b.value;Kn(!Fe(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=b.inactive?f:b.color;return K.createElement("li",o0({className:y,style:h,key:"legend-item-".concat(j)},Ni(n.props,b,j)),K.createElement(Jb,{width:l,height:l,viewBox:v,style:m},n.renderIcon(b)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},x?x(w,b,j):w))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,l=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:o==="horizontal"?l:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(z.PureComponent);Mc(t1,"displayName","Legend");Mc(t1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Bg,zC;function HW(){if(zC)return Bg;zC=1;var e=Bp();function t(){this.__data__=new e,this.size=0}return Bg=t,Bg}var Fg,AC;function KW(){if(AC)return Fg;AC=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return Fg=e,Fg}var Wg,NC;function GW(){if(NC)return Wg;NC=1;function e(t){return this.__data__.get(t)}return Wg=e,Wg}var $g,PC;function VW(){if(PC)return $g;PC=1;function e(t){return this.__data__.has(t)}return $g=e,$g}var Ug,_C;function qW(){if(_C)return Ug;_C=1;var e=Bp(),t=GS(),r=VS(),n=200;function i(o,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<n-1)return d.push([o,l]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(o,l),this.size=u.size,this}return Ug=i,Ug}var Hg,OC;function eT(){if(OC)return Hg;OC=1;var e=Bp(),t=HW(),r=KW(),n=GW(),i=VW(),o=qW();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=t,l.prototype.delete=r,l.prototype.get=n,l.prototype.has=i,l.prototype.set=o,Hg=l,Hg}var Kg,EC;function ZW(){if(EC)return Kg;EC=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Kg=t,Kg}var Gg,TC;function XW(){if(TC)return Gg;TC=1;function e(t){return this.__data__.has(t)}return Gg=e,Gg}var Vg,DC;function tT(){if(DC)return Vg;DC=1;var e=VS(),t=ZW(),r=XW();function n(i){var o=-1,l=i==null?0:i.length;for(this.__data__=new e;++o<l;)this.add(i[o])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,Vg=n,Vg}var qg,RC;function rT(){if(RC)return qg;RC=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return qg=e,qg}var Zg,IC;function nT(){if(IC)return Zg;IC=1;function e(t,r){return t.has(r)}return Zg=e,Zg}var Xg,MC;function aT(){if(MC)return Xg;MC=1;var e=tT(),t=rT(),r=nT(),n=1,i=2;function o(l,u,d,f,v,h){var m=d&n,b=l.length,j=u.length;if(b!=j&&!(m&&j>b))return!1;var x=h.get(l),y=h.get(u);if(x&&y)return x==u&&y==l;var w=-1,k=!0,S=d&i?new e:void 0;for(h.set(l,u),h.set(u,l);++w<b;){var N=l[w],A=u[w];if(f)var O=m?f(A,N,w,u,l,h):f(N,A,w,l,u,h);if(O!==void 0){if(O)continue;k=!1;break}if(S){if(!t(u,function(_,T){if(!r(S,T)&&(N===_||v(N,_,d,f,h)))return S.push(T)})){k=!1;break}}else if(!(N===A||v(N,A,d,f,h))){k=!1;break}}return h.delete(l),h.delete(u),k}return Xg=o,Xg}var Yg,LC;function YW(){if(LC)return Yg;LC=1;var e=pa(),t=e.Uint8Array;return Yg=t,Yg}var Qg,BC;function QW(){if(BC)return Qg;BC=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,o){n[++r]=[o,i]}),n}return Qg=e,Qg}var Jg,FC;function r1(){if(FC)return Jg;FC=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return Jg=e,Jg}var ey,WC;function JW(){if(WC)return ey;WC=1;var e=bu(),t=YW(),r=KS(),n=aT(),i=QW(),o=r1(),l=1,u=2,d="[object Boolean]",f="[object Date]",v="[object Error]",h="[object Map]",m="[object Number]",b="[object RegExp]",j="[object Set]",x="[object String]",y="[object Symbol]",w="[object ArrayBuffer]",k="[object DataView]",S=e?e.prototype:void 0,N=S?S.valueOf:void 0;function A(O,_,T,E,D,M,F){switch(T){case k:if(O.byteLength!=_.byteLength||O.byteOffset!=_.byteOffset)return!1;O=O.buffer,_=_.buffer;case w:return!(O.byteLength!=_.byteLength||!M(new t(O),new t(_)));case d:case f:case m:return r(+O,+_);case v:return O.name==_.name&&O.message==_.message;case b:case x:return O==_+"";case h:var L=i;case j:var V=E&l;if(L||(L=o),O.size!=_.size&&!V)return!1;var H=F.get(O);if(H)return H==_;E|=u,F.set(O,_);var Z=n(L(O),L(_),E,D,M,F);return F.delete(O),Z;case y:if(N)return N.call(O)==N.call(_)}return!1}return ey=A,ey}var ty,$C;function iT(){if($C)return ty;$C=1;function e(t,r){for(var n=-1,i=r.length,o=t.length;++n<i;)t[o+n]=r[n];return t}return ty=e,ty}var ry,UC;function e6(){if(UC)return ry;UC=1;var e=iT(),t=Xr();function r(n,i,o){var l=i(n);return t(n)?l:e(l,o(n))}return ry=r,ry}var ny,HC;function t6(){if(HC)return ny;HC=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,o=0,l=[];++n<i;){var u=t[n];r(u,n,t)&&(l[o++]=u)}return l}return ny=e,ny}var ay,KC;function r6(){if(KC)return ay;KC=1;function e(){return[]}return ay=e,ay}var iy,GC;function n6(){if(GC)return iy;GC=1;var e=t6(),t=r6(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(l){return l==null?[]:(l=Object(l),e(i(l),function(u){return n.call(l,u)}))}:t;return iy=o,iy}var oy,VC;function a6(){if(VC)return oy;VC=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return oy=e,oy}var sy,qC;function i6(){if(qC)return sy;qC=1;var e=Ga(),t=Va(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return sy=n,sy}var ly,ZC;function n1(){if(ZC)return ly;ZC=1;var e=i6(),t=Va(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=e((function(){return arguments})())?e:function(l){return t(l)&&n.call(l,"callee")&&!i.call(l,"callee")};return ly=o,ly}var wc={exports:{}},cy,XC;function o6(){if(XC)return cy;XC=1;function e(){return!1}return cy=e,cy}wc.exports;var YC;function oT(){return YC||(YC=1,(function(e,t){var r=pa(),n=o6(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,l=o&&o.exports===i,u=l?r.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||n;e.exports=f})(wc,wc.exports)),wc.exports}var uy,QC;function a1(){if(QC)return uy;QC=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var o=typeof n;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return uy=r,uy}var dy,JC;function i1(){if(JC)return dy;JC=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return dy=t,dy}var fy,ez;function s6(){if(ez)return fy;ez=1;var e=Ga(),t=i1(),r=Va(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",v="[object Number]",h="[object Object]",m="[object RegExp]",b="[object Set]",j="[object String]",x="[object WeakMap]",y="[object ArrayBuffer]",w="[object DataView]",k="[object Float32Array]",S="[object Float64Array]",N="[object Int8Array]",A="[object Int16Array]",O="[object Int32Array]",_="[object Uint8Array]",T="[object Uint8ClampedArray]",E="[object Uint16Array]",D="[object Uint32Array]",M={};M[k]=M[S]=M[N]=M[A]=M[O]=M[_]=M[T]=M[E]=M[D]=!0,M[n]=M[i]=M[y]=M[o]=M[w]=M[l]=M[u]=M[d]=M[f]=M[v]=M[h]=M[m]=M[b]=M[j]=M[x]=!1;function F(L){return r(L)&&t(L.length)&&!!M[e(L)]}return fy=F,fy}var py,tz;function sT(){if(tz)return py;tz=1;function e(t){return function(r){return t(r)}}return py=e,py}var jc={exports:{}};jc.exports;var rz;function l6(){return rz||(rz=1,(function(e,t){var r=zE(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,l=o&&r.process,u=(function(){try{var d=i&&i.require&&i.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(jc,jc.exports)),jc.exports}var hy,nz;function lT(){if(nz)return hy;nz=1;var e=s6(),t=sT(),r=l6(),n=r&&r.isTypedArray,i=n?t(n):e;return hy=i,hy}var vy,az;function c6(){if(az)return vy;az=1;var e=a6(),t=n1(),r=Xr(),n=oT(),i=a1(),o=lT(),l=Object.prototype,u=l.hasOwnProperty;function d(f,v){var h=r(f),m=!h&&t(f),b=!h&&!m&&n(f),j=!h&&!m&&!b&&o(f),x=h||m||b||j,y=x?e(f.length,String):[],w=y.length;for(var k in f)(v||u.call(f,k))&&!(x&&(k=="length"||b&&(k=="offset"||k=="parent")||j&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||i(k,w)))&&y.push(k);return y}return vy=d,vy}var my,iz;function u6(){if(iz)return my;iz=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return my=t,my}var gy,oz;function cT(){if(oz)return gy;oz=1;function e(t,r){return function(n){return t(r(n))}}return gy=e,gy}var yy,sz;function d6(){if(sz)return yy;sz=1;var e=cT(),t=e(Object.keys,Object);return yy=t,yy}var xy,lz;function f6(){if(lz)return xy;lz=1;var e=u6(),t=d6(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!e(o))return t(o);var l=[];for(var u in Object(o))n.call(o,u)&&u!="constructor"&&l.push(u);return l}return xy=i,xy}var by,cz;function Su(){if(cz)return by;cz=1;var e=HS(),t=i1();function r(n){return n!=null&&t(n.length)&&!e(n)}return by=r,by}var Sy,uz;function Vp(){if(uz)return Sy;uz=1;var e=c6(),t=f6(),r=Su();function n(i){return r(i)?e(i):t(i)}return Sy=n,Sy}var wy,dz;function p6(){if(dz)return wy;dz=1;var e=e6(),t=n6(),r=Vp();function n(i){return e(i,r,t)}return wy=n,wy}var jy,fz;function h6(){if(fz)return jy;fz=1;var e=p6(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,l,u,d,f,v){var h=u&t,m=e(o),b=m.length,j=e(l),x=j.length;if(b!=x&&!h)return!1;for(var y=b;y--;){var w=m[y];if(!(h?w in l:n.call(l,w)))return!1}var k=v.get(o),S=v.get(l);if(k&&S)return k==l&&S==o;var N=!0;v.set(o,l),v.set(l,o);for(var A=h;++y<b;){w=m[y];var O=o[w],_=l[w];if(d)var T=h?d(_,O,w,l,o,v):d(O,_,w,o,l,v);if(!(T===void 0?O===_||f(O,_,u,d,v):T)){N=!1;break}A||(A=w=="constructor")}if(N&&!A){var E=o.constructor,D=l.constructor;E!=D&&"constructor"in o&&"constructor"in l&&!(typeof E=="function"&&E instanceof E&&typeof D=="function"&&D instanceof D)&&(N=!1)}return v.delete(o),v.delete(l),N}return jy=i,jy}var ky,pz;function v6(){if(pz)return ky;pz=1;var e=Oo(),t=pa(),r=e(t,"DataView");return ky=r,ky}var Cy,hz;function m6(){if(hz)return Cy;hz=1;var e=Oo(),t=pa(),r=e(t,"Promise");return Cy=r,Cy}var zy,vz;function uT(){if(vz)return zy;vz=1;var e=Oo(),t=pa(),r=e(t,"Set");return zy=r,zy}var Ay,mz;function g6(){if(mz)return Ay;mz=1;var e=Oo(),t=pa(),r=e(t,"WeakMap");return Ay=r,Ay}var Ny,gz;function y6(){if(gz)return Ny;gz=1;var e=v6(),t=GS(),r=m6(),n=uT(),i=g6(),o=Ga(),l=AE(),u="[object Map]",d="[object Object]",f="[object Promise]",v="[object Set]",h="[object WeakMap]",m="[object DataView]",b=l(e),j=l(t),x=l(r),y=l(n),w=l(i),k=o;return(e&&k(new e(new ArrayBuffer(1)))!=m||t&&k(new t)!=u||r&&k(r.resolve())!=f||n&&k(new n)!=v||i&&k(new i)!=h)&&(k=function(S){var N=o(S),A=N==d?S.constructor:void 0,O=A?l(A):"";if(O)switch(O){case b:return m;case j:return u;case x:return f;case y:return v;case w:return h}return N}),Ny=k,Ny}var Py,yz;function x6(){if(yz)return Py;yz=1;var e=eT(),t=aT(),r=JW(),n=h6(),i=y6(),o=Xr(),l=oT(),u=lT(),d=1,f="[object Arguments]",v="[object Array]",h="[object Object]",m=Object.prototype,b=m.hasOwnProperty;function j(x,y,w,k,S,N){var A=o(x),O=o(y),_=A?v:i(x),T=O?v:i(y);_=_==f?h:_,T=T==f?h:T;var E=_==h,D=T==h,M=_==T;if(M&&l(x)){if(!l(y))return!1;A=!0,E=!1}if(M&&!E)return N||(N=new e),A||u(x)?t(x,y,w,k,S,N):r(x,y,_,w,k,S,N);if(!(w&d)){var F=E&&b.call(x,"__wrapped__"),L=D&&b.call(y,"__wrapped__");if(F||L){var V=F?x.value():x,H=L?y.value():y;return N||(N=new e),S(V,H,w,k,N)}}return M?(N||(N=new e),n(x,y,w,k,S,N)):!1}return Py=j,Py}var _y,xz;function o1(){if(xz)return _y;xz=1;var e=x6(),t=Va();function r(n,i,o,l,u){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,o,l,r,u)}return _y=r,_y}var Oy,bz;function b6(){if(bz)return Oy;bz=1;var e=eT(),t=o1(),r=1,n=2;function i(o,l,u,d){var f=u.length,v=f,h=!d;if(o==null)return!v;for(o=Object(o);f--;){var m=u[f];if(h&&m[2]?m[1]!==o[m[0]]:!(m[0]in o))return!1}for(;++f<v;){m=u[f];var b=m[0],j=o[b],x=m[1];if(h&&m[2]){if(j===void 0&&!(b in o))return!1}else{var y=new e;if(d)var w=d(j,x,b,o,l,y);if(!(w===void 0?t(x,j,r|n,d,y):w))return!1}}return!0}return Oy=i,Oy}var Ey,Sz;function dT(){if(Sz)return Ey;Sz=1;var e=Di();function t(r){return r===r&&!e(r)}return Ey=t,Ey}var Ty,wz;function S6(){if(wz)return Ty;wz=1;var e=dT(),t=Vp();function r(n){for(var i=t(n),o=i.length;o--;){var l=i[o],u=n[l];i[o]=[l,u,e(u)]}return i}return Ty=r,Ty}var Dy,jz;function fT(){if(jz)return Dy;jz=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return Dy=e,Dy}var Ry,kz;function w6(){if(kz)return Ry;kz=1;var e=b6(),t=S6(),r=fT();function n(i){var o=t(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(l){return l===i||e(l,i,o)}}return Ry=n,Ry}var Iy,Cz;function j6(){if(Cz)return Iy;Cz=1;function e(t,r){return t!=null&&r in Object(t)}return Iy=e,Iy}var My,zz;function k6(){if(zz)return My;zz=1;var e=_E(),t=n1(),r=Xr(),n=a1(),i=i1(),o=Wp();function l(u,d,f){d=e(d,u);for(var v=-1,h=d.length,m=!1;++v<h;){var b=o(d[v]);if(!(m=u!=null&&f(u,b)))break;u=u[b]}return m||++v!=h?m:(h=u==null?0:u.length,!!h&&i(h)&&n(b,h)&&(r(u)||t(u)))}return My=l,My}var Ly,Az;function C6(){if(Az)return Ly;Az=1;var e=j6(),t=k6();function r(n,i){return n!=null&&t(n,i,e)}return Ly=r,Ly}var By,Nz;function z6(){if(Nz)return By;Nz=1;var e=o1(),t=OE(),r=C6(),n=US(),i=dT(),o=fT(),l=Wp(),u=1,d=2;function f(v,h){return n(v)&&i(h)?o(l(v),h):function(m){var b=t(m,v);return b===void 0&&b===h?r(m,v):e(h,b,u|d)}}return By=f,By}var Fy,Pz;function pl(){if(Pz)return Fy;Pz=1;function e(t){return t}return Fy=e,Fy}var Wy,_z;function A6(){if(_z)return Wy;_z=1;function e(t){return function(r){return r?.[t]}}return Wy=e,Wy}var $y,Oz;function N6(){if(Oz)return $y;Oz=1;var e=ZS();function t(r){return function(n){return e(n,r)}}return $y=t,$y}var Uy,Ez;function P6(){if(Ez)return Uy;Ez=1;var e=A6(),t=N6(),r=US(),n=Wp();function i(o){return r(o)?e(n(o)):t(o)}return Uy=i,Uy}var Hy,Tz;function ha(){if(Tz)return Hy;Tz=1;var e=w6(),t=z6(),r=pl(),n=Xr(),i=P6();function o(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?n(l)?t(l[0],l[1]):e(l):i(l)}return Hy=o,Hy}var Ky,Dz;function pT(){if(Dz)return Ky;Dz=1;function e(t,r,n,i){for(var o=t.length,l=n+(i?1:-1);i?l--:++l<o;)if(r(t[l],l,t))return l;return-1}return Ky=e,Ky}var Gy,Rz;function _6(){if(Rz)return Gy;Rz=1;function e(t){return t!==t}return Gy=e,Gy}var Vy,Iz;function O6(){if(Iz)return Vy;Iz=1;function e(t,r,n){for(var i=n-1,o=t.length;++i<o;)if(t[i]===r)return i;return-1}return Vy=e,Vy}var qy,Mz;function E6(){if(Mz)return qy;Mz=1;var e=pT(),t=_6(),r=O6();function n(i,o,l){return o===o?r(i,o,l):e(i,t,l)}return qy=n,qy}var Zy,Lz;function T6(){if(Lz)return Zy;Lz=1;var e=E6();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return Zy=t,Zy}var Xy,Bz;function D6(){if(Bz)return Xy;Bz=1;function e(t,r,n){for(var i=-1,o=t==null?0:t.length;++i<o;)if(n(r,t[i]))return!0;return!1}return Xy=e,Xy}var Yy,Fz;function R6(){if(Fz)return Yy;Fz=1;function e(){}return Yy=e,Yy}var Qy,Wz;function I6(){if(Wz)return Qy;Wz=1;var e=uT(),t=R6(),r=r1(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(o){return new e(o)}:t;return Qy=i,Qy}var Jy,$z;function M6(){if($z)return Jy;$z=1;var e=tT(),t=T6(),r=D6(),n=nT(),i=I6(),o=r1(),l=200;function u(d,f,v){var h=-1,m=t,b=d.length,j=!0,x=[],y=x;if(v)j=!1,m=r;else if(b>=l){var w=f?null:i(d);if(w)return o(w);j=!1,m=n,y=new e}else y=f?[]:x;e:for(;++h<b;){var k=d[h],S=f?f(k):k;if(k=v||k!==0?k:0,j&&S===S){for(var N=y.length;N--;)if(y[N]===S)continue e;f&&y.push(S),x.push(k)}else m(y,S,v)||(y!==x&&y.push(S),x.push(k))}return x}return Jy=u,Jy}var ex,Uz;function L6(){if(Uz)return ex;Uz=1;var e=ha(),t=M6();function r(n,i){return n&&n.length?t(n,e(i,2)):[]}return ex=r,ex}var B6=L6();const Hz=pt(B6);function hT(e,t,r){return t===!0?Hz(e,r):Fe(t)?Hz(e,t):e}function Ds(e){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}var F6=["ref"];function Kz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kz(Object(r),!0).forEach(function(n){qp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mT(n.key),n)}}function $6(e,t,r){return t&&Gz(e.prototype,t),r&&Gz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function U6(e,t,r){return t=_f(t),H6(e,vT()?Reflect.construct(t,r||[],_f(e).constructor):t.apply(e,r))}function H6(e,t){if(t&&(Ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K6(e)}function K6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vT=function(){return!!e})()}function _f(e){return _f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_f(e)}function G6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l0(e,t)}function l0(e,t){return l0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},l0(e,t)}function qp(e,t,r){return t=mT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mT(e){var t=V6(e,"string");return Ds(t)=="symbol"?t:t+""}function V6(e,t){if(Ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function q6(e,t){if(e==null)return{};var r=Z6(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Z6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function X6(e){return e.value}function Y6(e,t){if(K.isValidElement(e))return K.cloneElement(e,t);if(typeof e=="function")return K.createElement(e,t);t.ref;var r=q6(t,F6);return K.createElement(t1,r)}var Vz=1,Ct=(function(e){function t(){var r;W6(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=U6(this,t,[].concat(i)),qp(r,"lastBoundingBox",{width:-1,height:-1}),r}return G6(t,e),$6(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Vz||Math.abs(i.height-this.lastBoundingBox.height)>Vz)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Pa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,l=i.align,u=i.verticalAlign,d=i.margin,f=i.chartWidth,v=i.chartHeight,h,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(l==="center"&&o==="vertical"){var b=this.getBBoxSnapshot();h={left:((f||0)-b.width)/2}}else h=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var j=this.getBBoxSnapshot();m={top:((v||0)-j.height)/2}}else m=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Pa(Pa({},h),m)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,l=i.width,u=i.height,d=i.wrapperStyle,f=i.payloadUniqBy,v=i.payload,h=Pa(Pa({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return K.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(b){n.wrapperNode=b}},Y6(o,Pa(Pa({},this.props),{},{payload:hT(v,f,X6)})))}}],[{key:"getWithHeight",value:function(n,i){var o=Pa(Pa({},this.defaultProps),n.props),l=o.layout;return l==="vertical"&&ge(n.props.height)?{height:n.props.height}:l==="horizontal"?{width:n.props.width||i}:null}}])})(z.PureComponent);qp(Ct,"displayName","Legend");qp(Ct,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var tx,qz;function Q6(){if(qz)return tx;qz=1;var e=bu(),t=n1(),r=Xr(),n=e?e.isConcatSpreadable:void 0;function i(o){return r(o)||t(o)||!!(n&&o&&o[n])}return tx=i,tx}var rx,Zz;function gT(){if(Zz)return rx;Zz=1;var e=iT(),t=Q6();function r(n,i,o,l,u){var d=-1,f=n.length;for(o||(o=t),u||(u=[]);++d<f;){var v=n[d];i>0&&o(v)?i>1?r(v,i-1,o,l,u):e(u,v):l||(u[u.length]=v)}return u}return rx=r,rx}var nx,Xz;function J6(){if(Xz)return nx;Xz=1;function e(t){return function(r,n,i){for(var o=-1,l=Object(r),u=i(r),d=u.length;d--;){var f=u[t?d:++o];if(n(l[f],f,l)===!1)break}return r}}return nx=e,nx}var ax,Yz;function e$(){if(Yz)return ax;Yz=1;var e=J6(),t=e();return ax=t,ax}var ix,Qz;function yT(){if(Qz)return ix;Qz=1;var e=e$(),t=Vp();function r(n,i){return n&&e(n,i,t)}return ix=r,ix}var ox,Jz;function t$(){if(Jz)return ox;Jz=1;var e=Su();function t(r,n){return function(i,o){if(i==null)return i;if(!e(i))return r(i,o);for(var l=i.length,u=n?l:-1,d=Object(i);(n?u--:++u<l)&&o(d[u],u,d)!==!1;);return i}}return ox=t,ox}var sx,eA;function s1(){if(eA)return sx;eA=1;var e=yT(),t=t$(),r=t(e);return sx=r,sx}var lx,tA;function xT(){if(tA)return lx;tA=1;var e=s1(),t=Su();function r(n,i){var o=-1,l=t(n)?Array(n.length):[];return e(n,function(u,d,f){l[++o]=i(u,d,f)}),l}return lx=r,lx}var cx,rA;function r$(){if(rA)return cx;rA=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return cx=e,cx}var ux,nA;function n$(){if(nA)return ux;nA=1;var e=ul();function t(r,n){if(r!==n){var i=r!==void 0,o=r===null,l=r===r,u=e(r),d=n!==void 0,f=n===null,v=n===n,h=e(n);if(!f&&!h&&!u&&r>n||u&&d&&v&&!f&&!h||o&&d&&v||!i&&v||!l)return 1;if(!o&&!u&&!h&&r<n||h&&i&&l&&!o&&!u||f&&i&&l||!d&&l||!v)return-1}return 0}return ux=t,ux}var dx,aA;function a$(){if(aA)return dx;aA=1;var e=n$();function t(r,n,i){for(var o=-1,l=r.criteria,u=n.criteria,d=l.length,f=i.length;++o<d;){var v=e(l[o],u[o]);if(v){if(o>=f)return v;var h=i[o];return v*(h=="desc"?-1:1)}}return r.index-n.index}return dx=t,dx}var fx,iA;function i$(){if(iA)return fx;iA=1;var e=qS(),t=ZS(),r=ha(),n=xT(),i=r$(),o=sT(),l=a$(),u=pl(),d=Xr();function f(v,h,m){h.length?h=e(h,function(x){return d(x)?function(y){return t(y,x.length===1?x[0]:x)}:x}):h=[u];var b=-1;h=e(h,o(r));var j=n(v,function(x,y,w){var k=e(h,function(S){return S(x)});return{criteria:k,index:++b,value:x}});return i(j,function(x,y){return l(x,y,m)})}return fx=f,fx}var px,oA;function o$(){if(oA)return px;oA=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return px=e,px}var hx,sA;function s$(){if(sA)return hx;sA=1;var e=o$(),t=Math.max;function r(n,i,o){return i=t(i===void 0?n.length-1:i,0),function(){for(var l=arguments,u=-1,d=t(l.length-i,0),f=Array(d);++u<d;)f[u]=l[i+u];u=-1;for(var v=Array(i+1);++u<i;)v[u]=l[u];return v[i]=o(f),e(n,this,v)}}return hx=r,hx}var vx,lA;function l$(){if(lA)return vx;lA=1;function e(t){return function(){return t}}return vx=e,vx}var mx,cA;function bT(){if(cA)return mx;cA=1;var e=Oo(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return mx=t,mx}var gx,uA;function c$(){if(uA)return gx;uA=1;var e=l$(),t=bT(),r=pl(),n=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:r;return gx=n,gx}var yx,dA;function u$(){if(dA)return yx;dA=1;var e=800,t=16,r=Date.now;function n(i){var o=0,l=0;return function(){var u=r(),d=t-(u-l);if(l=u,d>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return yx=n,yx}var xx,fA;function d$(){if(fA)return xx;fA=1;var e=c$(),t=u$(),r=t(e);return xx=r,xx}var bx,pA;function f$(){if(pA)return bx;pA=1;var e=pl(),t=s$(),r=d$();function n(i,o){return r(t(i,o,e),i+"")}return bx=n,bx}var Sx,hA;function Zp(){if(hA)return Sx;hA=1;var e=KS(),t=Su(),r=a1(),n=Di();function i(o,l,u){if(!n(u))return!1;var d=typeof l;return(d=="number"?t(u)&&r(l,u.length):d=="string"&&l in u)?e(u[l],o):!1}return Sx=i,Sx}var wx,vA;function p$(){if(vA)return wx;vA=1;var e=gT(),t=i$(),r=f$(),n=Zp(),i=r(function(o,l){if(o==null)return[];var u=l.length;return u>1&&n(o,l[0],l[1])?l=[]:u>2&&n(l[0],l[1],l[2])&&(l=[l[0]]),t(o,e(l,1),[])});return wx=i,wx}var h$=p$();const l1=pt(h$);function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function c0(){return c0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c0.apply(this,arguments)}function v$(e,t){return x$(e)||y$(e,t)||g$(e,t)||m$()}function m$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g$(e,t){if(e){if(typeof e=="string")return mA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mA(e,t)}}function mA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function x$(e){if(Array.isArray(e))return e}function gA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(r),!0).forEach(function(n){b$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b$(e,t,r){return t=S$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S$(e){var t=w$(e,"string");return Lc(t)=="symbol"?t:t+""}function w$(e,t){if(Lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j$(e){return Array.isArray(e)&&sr(e[0])&&sr(e[1])?e.join(" ~ "):e}var k$=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,o=i===void 0?{}:i,l=t.itemStyle,u=l===void 0?{}:l,d=t.labelStyle,f=d===void 0?{}:d,v=t.payload,h=t.formatter,m=t.itemSorter,b=t.wrapperClassName,j=t.labelClassName,x=t.label,y=t.labelFormatter,w=t.accessibilityLayer,k=w===void 0?!1:w,S=function(){if(v&&v.length){var F={padding:0,margin:0},L=(m?l1(v,m):v).map(function(V,H){if(V.type==="none")return null;var Z=jx({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},u),Y=V.formatter||h||j$,U=V.value,B=V.name,W=U,$=B;if(Y&&W!=null&&$!=null){var q=Y(U,B,V,H,v);if(Array.isArray(q)){var oe=v$(q,2);W=oe[0],$=oe[1]}else W=q}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:Z},sr($)?K.createElement("span",{className:"recharts-tooltip-item-name"},$):null,sr($)?K.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,K.createElement("span",{className:"recharts-tooltip-item-value"},W),K.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:F},L)}return null},N=jx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),A=jx({margin:0},f),O=!Le(x),_=O?x:"",T=Ue("recharts-default-tooltip",b),E=Ue("recharts-tooltip-label",j);O&&y&&v!==void 0&&v!==null&&(_=y(x,v));var D=k?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",c0({className:T,style:N},D),K.createElement("p",{className:E,style:A},K.isValidElement(_)?_:"".concat(_)),S())};function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function Hd(e,t,r){return t=C$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C$(e){var t=z$(e,"string");return Bc(t)=="symbol"?t:t+""}function z$(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cc="recharts-tooltip-wrapper",A$={visibility:"hidden"};function N$(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ue(cc,Hd(Hd(Hd(Hd({},"".concat(cc,"-right"),ge(r)&&t&&ge(t.x)&&r>=t.x),"".concat(cc,"-left"),ge(r)&&t&&ge(t.x)&&r<t.x),"".concat(cc,"-bottom"),ge(n)&&t&&ge(t.y)&&n>=t.y),"".concat(cc,"-top"),ge(n)&&t&&ge(t.y)&&n<t.y))}function yA(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,o=e.position,l=e.reverseDirection,u=e.tooltipDimension,d=e.viewBox,f=e.viewBoxDimension;if(o&&ge(o[n]))return o[n];var v=r[n]-u-i,h=r[n]+i;if(t[n])return l[n]?v:h;if(l[n]){var m=v,b=d[n];return m<b?Math.max(h,d[n]):Math.max(v,d[n])}var j=h+u,x=d[n]+f;return j>x?Math.max(v,d[n]):Math.max(h,d[n])}function P$(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function _$(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,d=e.viewBox,f,v,h;return l.height>0&&l.width>0&&r?(v=yA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),h=yA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=P$({translateX:v,translateY:h,useTranslate3d:u})):f=A$,{cssProperties:f,cssClasses:N$({translateX:v,translateY:h,coordinate:r})}}function Rs(e){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function xA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(r),!0).forEach(function(n){d0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wT(n.key),n)}}function T$(e,t,r){return t&&E$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function D$(e,t,r){return t=Of(t),R$(e,ST()?Reflect.construct(t,r||[],Of(e).constructor):t.apply(e,r))}function R$(e,t){if(t&&(Rs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I$(e)}function I$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ST(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ST=function(){return!!e})()}function Of(e){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Of(e)}function M$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u0(e,t)}function u0(e,t){return u0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u0(e,t)}function d0(e,t,r){return t=wT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wT(e){var t=L$(e,"string");return Rs(t)=="symbol"?t:t+""}function L$(e,t){if(Rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var SA=1,B$=(function(e){function t(){var r;O$(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=D$(this,t,[].concat(i)),d0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),d0(r,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,f,v;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(v=r.props.coordinate)===null||v===void 0?void 0:v.y)!==null&&f!==void 0?f:0}})}}),r}return M$(t,e),T$(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>SA||Math.abs(n.height-this.state.lastBoundingBox.height)>SA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.children,v=i.coordinate,h=i.hasPayload,m=i.isAnimationActive,b=i.offset,j=i.position,x=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,k=i.wrapperStyle,S=_$({allowEscapeViewBox:l,coordinate:v,offsetTopLeft:b,position:j,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:w}),N=S.cssClasses,A=S.cssProperties,O=bA(bA({transition:m&&o?"transform ".concat(u,"ms ").concat(d):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&h?"visible":"hidden",position:"absolute",top:0,left:0},k);return K.createElement("div",{tabIndex:-1,className:N,style:O,ref:function(T){n.wrapperNode=T}},f)}}])})(z.PureComponent),F$=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},qa={isSsr:F$()};function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function wA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(r),!0).forEach(function(n){c1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kT(n.key),n)}}function U$(e,t,r){return t&&$$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H$(e,t,r){return t=Ef(t),K$(e,jT()?Reflect.construct(t,r||[],Ef(e).constructor):t.apply(e,r))}function K$(e,t){if(t&&(Is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G$(e)}function G$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jT=function(){return!!e})()}function Ef(e){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ef(e)}function V$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f0(e,t)}function f0(e,t){return f0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},f0(e,t)}function c1(e,t,r){return t=kT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kT(e){var t=q$(e,"string");return Is(t)=="symbol"?t:t+""}function q$(e,t){if(Is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Z$(e){return e.dataKey}function X$(e,t){return K.isValidElement(e)?K.cloneElement(e,t):typeof e=="function"?K.createElement(e,t):K.createElement(k$,t)}var it=(function(e){function t(){return W$(this,t),H$(this,t,arguments)}return V$(t,e),U$(t,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.content,v=i.coordinate,h=i.filterNull,m=i.isAnimationActive,b=i.offset,j=i.payload,x=i.payloadUniqBy,y=i.position,w=i.reverseDirection,k=i.useTranslate3d,S=i.viewBox,N=i.wrapperStyle,A=j??[];h&&A.length&&(A=hT(j.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),x,Z$));var O=A.length>0;return K.createElement(B$,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:m,active:o,coordinate:v,hasPayload:O,offset:b,position:y,reverseDirection:w,useTranslate3d:k,viewBox:S,wrapperStyle:N},X$(f,jA(jA({},this.props),{},{payload:A})))}}])})(z.PureComponent);c1(it,"displayName","Tooltip");c1(it,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!qa.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var kx,kA;function Y$(){if(kA)return kx;kA=1;var e=pa(),t=function(){return e.Date.now()};return kx=t,kx}var Cx,CA;function Q$(){if(CA)return Cx;CA=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return Cx=t,Cx}var zx,zA;function J$(){if(zA)return zx;zA=1;var e=Q$(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return zx=r,zx}var Ax,AA;function CT(){if(AA)return Ax;AA=1;var e=J$(),t=Di(),r=ul(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(t(f)){var v=typeof f.valueOf=="function"?f.valueOf():f;f=t(v)?v+"":v}if(typeof f!="string")return f===0?f:+f;f=e(f);var h=o.test(f);return h||l.test(f)?u(f.slice(2),h?2:8):i.test(f)?n:+f}return Ax=d,Ax}var Nx,NA;function e8(){if(NA)return Nx;NA=1;var e=Di(),t=Y$(),r=CT(),n="Expected a function",i=Math.max,o=Math.min;function l(u,d,f){var v,h,m,b,j,x,y=0,w=!1,k=!1,S=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,e(f)&&(w=!!f.leading,k="maxWait"in f,m=k?i(r(f.maxWait)||0,d):m,S="trailing"in f?!!f.trailing:S);function N(L){var V=v,H=h;return v=h=void 0,y=L,b=u.apply(H,V),b}function A(L){return y=L,j=setTimeout(T,d),w?N(L):b}function O(L){var V=L-x,H=L-y,Z=d-V;return k?o(Z,m-H):Z}function _(L){var V=L-x,H=L-y;return x===void 0||V>=d||V<0||k&&H>=m}function T(){var L=t();if(_(L))return E(L);j=setTimeout(T,O(L))}function E(L){return j=void 0,S&&v?N(L):(v=h=void 0,b)}function D(){j!==void 0&&clearTimeout(j),y=0,v=x=h=j=void 0}function M(){return j===void 0?b:E(t())}function F(){var L=t(),V=_(L);if(v=arguments,h=this,x=L,V){if(j===void 0)return A(x);if(k)return clearTimeout(j),j=setTimeout(T,d),N(x)}return j===void 0&&(j=setTimeout(T,d)),b}return F.cancel=D,F.flush=M,F}return Nx=l,Nx}var Px,PA;function t8(){if(PA)return Px;PA=1;var e=e8(),t=Di(),r="Expected a function";function n(i,o,l){var u=!0,d=!0;if(typeof i!="function")throw new TypeError(r);return t(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),e(i,o,{leading:u,maxWait:o,trailing:d})}return Px=n,Px}var r8=t8();const zT=pt(r8);function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function _A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(r),!0).forEach(function(n){n8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n8(e,t,r){return t=a8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a8(e){var t=i8(e,"string");return Fc(t)=="symbol"?t:t+""}function i8(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o8(e,t){return u8(e)||c8(e,t)||l8(e,t)||s8()}function s8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l8(e,t){if(e){if(typeof e=="string")return OA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OA(e,t)}}function OA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function u8(e){if(Array.isArray(e))return e}var Zt=z.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=e.width,l=o===void 0?"100%":o,u=e.height,d=u===void 0?"100%":u,f=e.minWidth,v=f===void 0?0:f,h=e.minHeight,m=e.maxHeight,b=e.children,j=e.debounce,x=j===void 0?0:j,y=e.id,w=e.className,k=e.onResize,S=e.style,N=S===void 0?{}:S,A=z.useRef(null),O=z.useRef();O.current=k,z.useImperativeHandle(t,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var _=z.useState({containerWidth:i.width,containerHeight:i.height}),T=o8(_,2),E=T[0],D=T[1],M=z.useCallback(function(L,V){D(function(H){var Z=Math.round(L),Y=Math.round(V);return H.containerWidth===Z&&H.containerHeight===Y?H:{containerWidth:Z,containerHeight:Y}})},[]);z.useEffect(function(){var L=function(B){var W,$=B[0].contentRect,q=$.width,oe=$.height;M(q,oe),(W=O.current)===null||W===void 0||W.call(O,q,oe)};x>0&&(L=zT(L,x,{trailing:!0,leading:!1}));var V=new ResizeObserver(L),H=A.current.getBoundingClientRect(),Z=H.width,Y=H.height;return M(Z,Y),V.observe(A.current),function(){V.disconnect()}},[M,x]);var F=z.useMemo(function(){var L=E.containerWidth,V=E.containerHeight;if(L<0||V<0)return null;Kn(fo(l)||fo(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),Kn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var H=fo(l)?L:l,Z=fo(d)?V:d;r&&r>0&&(H?Z=H/r:Z&&(H=Z*r),m&&Z>m&&(Z=m)),Kn(H>0||Z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,Z,l,d,v,h,r);var Y=!Array.isArray(b)&&Ma(b.type).endsWith("Chart");return K.Children.map(b,function(U){return K.isValidElement(U)?z.cloneElement(U,Kd({width:H,height:Z},Y?{style:Kd({height:"100%",width:"100%",maxHeight:Z,maxWidth:H},U.props.style)}:{})):U})},[r,b,d,m,h,v,E,l]);return K.createElement("div",{id:y?"".concat(y):void 0,className:Ue("recharts-responsive-container",w),style:Kd(Kd({},N),{},{width:l,height:d,minWidth:v,minHeight:h,maxHeight:m}),ref:A},F)}),hl=function(t){return null};hl.displayName="Cell";function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function EA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function p0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(r),!0).forEach(function(n){d8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d8(e,t,r){return t=f8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f8(e){var t=p8(e,"string");return Wc(t)=="symbol"?t:t+""}function p8(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var os={widthCache:{},cacheCount:0},h8=2e3,v8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},TA="recharts_measurement_span";function m8(e){var t=p0({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Ac=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||qa.isSsr)return{width:0,height:0};var n=m8(r),i=JSON.stringify({text:t,copyStyle:n});if(os.widthCache[i])return os.widthCache[i];try{var o=document.getElementById(TA);o||(o=document.createElement("span"),o.setAttribute("id",TA),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var l=p0(p0({},v8),n);Object.assign(o.style,l),o.textContent="".concat(t);var u=o.getBoundingClientRect(),d={width:u.width,height:u.height};return os.widthCache[i]=d,++os.cacheCount>h8&&(os.cacheCount=0,os.widthCache={}),d}catch{return{width:0,height:0}}},g8=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function Tf(e,t){return S8(e)||b8(e,t)||x8(e,t)||y8()}function y8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x8(e,t){if(e){if(typeof e=="string")return DA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DA(e,t)}}function DA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function S8(e){if(Array.isArray(e))return e}function w8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k8(n.key),n)}}function j8(e,t,r){return t&&RA(e.prototype,t),r&&RA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function k8(e){var t=C8(e,"string");return $c(t)=="symbol"?t:t+""}function C8(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var IA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,z8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,A8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,AT={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},N8=Object.keys(AT),bs="NaN";function P8(e,t){return e*AT[t]}var Gd=(function(){function e(t,r){w8(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!z8.test(r)&&(this.num=NaN,this.unit=""),N8.includes(r)&&(this.num=P8(t,r),this.unit="px")}return j8(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=A8.exec(r))!==null&&n!==void 0?n:[],o=Tf(i,3),l=o[1],u=o[2];return new e(parseFloat(l),u??"")}}])})();function NT(e){if(e.includes(bs))return bs;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=IA.exec(t))!==null&&r!==void 0?r:[],i=Tf(n,4),o=i[1],l=i[2],u=i[3],d=Gd.parse(o??""),f=Gd.parse(u??""),v=l==="*"?d.multiply(f):d.divide(f);if(v.isNaN())return bs;t=t.replace(IA,v.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,m=(h=MA.exec(t))!==null&&h!==void 0?h:[],b=Tf(m,4),j=b[1],x=b[2],y=b[3],w=Gd.parse(j??""),k=Gd.parse(y??""),S=x==="+"?w.add(k):w.subtract(k);if(S.isNaN())return bs;t=t.replace(MA,S.toString())}return t}var LA=/\(([^()]*)\)/;function _8(e){for(var t=e;t.includes("(");){var r=LA.exec(t),n=Tf(r,2),i=n[1];t=t.replace(LA,NT(i))}return t}function O8(e){var t=e.replace(/\s+/g,"");return t=_8(t),t=NT(t),t}function E8(e){try{return O8(e)}catch{return bs}}function _x(e){var t=E8(e.slice(5,-1));return t===bs?"":t}var T8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],D8=["dx","dy","angle","className","breakAll"];function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h0.apply(this,arguments)}function BA(e,t){if(e==null)return{};var r=R8(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function R8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FA(e,t){return B8(e)||L8(e,t)||M8(e,t)||I8()}function I8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M8(e,t){if(e){if(typeof e=="string")return WA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WA(e,t)}}function WA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function B8(e){if(Array.isArray(e))return e}var PT=/[ \f\n\r\t\v\u2028\u2029]+/,_T=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var o=[];Le(r)||(n?o=r.toString().split(""):o=r.toString().split(PT));var l=o.map(function(d){return{word:d,width:Ac(d,i).width}}),u=n?0:Ac("",i).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},F8=function(t,r,n,i,o){var l=t.maxLines,u=t.children,d=t.style,f=t.breakAll,v=ge(l),h=u,m=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(Z,Y){var U=Y.word,B=Y.width,W=Z[Z.length-1];if(W&&(i==null||o||W.width+B+n<Number(i)))W.words.push(U),W.width+=B+n;else{var $={words:[U],width:B};Z.push($)}return Z},[])},b=m(r),j=function(H){return H.reduce(function(Z,Y){return Z.width>Y.width?Z:Y})};if(!v)return b;for(var x="",y=function(H){var Z=h.slice(0,H),Y=_T({breakAll:f,style:d,children:Z+x}).wordsWithComputedWidth,U=m(Y),B=U.length>l||j(U).width>Number(i);return[B,U]},w=0,k=h.length-1,S=0,N;w<=k&&S<=h.length-1;){var A=Math.floor((w+k)/2),O=A-1,_=y(O),T=FA(_,2),E=T[0],D=T[1],M=y(A),F=FA(M,1),L=F[0];if(!E&&!L&&(w=A+1),E&&L&&(k=A-1),!E&&L){N=D;break}S++}return N||b},$A=function(t){var r=Le(t)?[]:t.toString().split(PT);return[{words:r}]},W8=function(t){var r=t.width,n=t.scaleToFit,i=t.children,o=t.style,l=t.breakAll,u=t.maxLines;if((r||n)&&!qa.isSsr){var d,f,v=_T({breakAll:l,children:i,style:o});if(v){var h=v.wordsWithComputedWidth,m=v.spaceWidth;d=h,f=m}else return $A(i);return F8({breakAll:l,children:i,maxLines:u,style:o},d,f,r,n)}return $A(i)},UA="#808080",wo=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,o=i===void 0?0:i,l=t.lineHeight,u=l===void 0?"1em":l,d=t.capHeight,f=d===void 0?"0.71em":d,v=t.scaleToFit,h=v===void 0?!1:v,m=t.textAnchor,b=m===void 0?"start":m,j=t.verticalAnchor,x=j===void 0?"end":j,y=t.fill,w=y===void 0?UA:y,k=BA(t,T8),S=z.useMemo(function(){return W8({breakAll:k.breakAll,children:k.children,maxLines:k.maxLines,scaleToFit:h,style:k.style,width:k.width})},[k.breakAll,k.children,k.maxLines,h,k.style,k.width]),N=k.dx,A=k.dy,O=k.angle,_=k.className,T=k.breakAll,E=BA(k,D8);if(!sr(n)||!sr(o))return null;var D=n+(ge(N)?N:0),M=o+(ge(A)?A:0),F;switch(x){case"start":F=_x("calc(".concat(f,")"));break;case"middle":F=_x("calc(".concat((S.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:F=_x("calc(".concat(S.length-1," * -").concat(u,")"));break}var L=[];if(h){var V=S[0].width,H=k.width;L.push("scale(".concat((ge(H)?H/V:1)/V,")"))}return O&&L.push("rotate(".concat(O,", ").concat(D,", ").concat(M,")")),L.length&&(E.transform=L.join(" ")),K.createElement("text",h0({},Oe(E,!0),{x:D,y:M,className:Ue("recharts-text",_),textAnchor:b,fill:w.includes("url")?UA:w}),S.map(function(Z,Y){var U=Z.words.join(T?"":" ");return K.createElement("tspan",{x:D,dy:Y===0?F:u,key:"".concat(U,"-").concat(Y)},U)}))};function ki(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function u1(e){let t,r,n;e.length!==2?(t=ki,r=(u,d)=>ki(e(u),d),n=(u,d)=>e(u)-d):(t=e===ki||e===$8?e:U8,r=e,n=e);function i(u,d,f=0,v=u.length){if(f<v){if(t(d,d)!==0)return v;do{const h=f+v>>>1;r(u[h],d)<0?f=h+1:v=h}while(f<v)}return f}function o(u,d,f=0,v=u.length){if(f<v){if(t(d,d)!==0)return v;do{const h=f+v>>>1;r(u[h],d)<=0?f=h+1:v=h}while(f<v)}return f}function l(u,d,f=0,v=u.length){const h=i(u,d,f,v-1);return h>f&&n(u[h-1],d)>-n(u[h],d)?h-1:h}return{left:i,center:l,right:o}}function U8(){return 0}function OT(e){return e===null?NaN:+e}function*H8(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const K8=u1(ki),wu=K8.right;u1(OT).center;class HA extends Map{constructor(t,r=q8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(KA(this,t))}has(t){return super.has(KA(this,t))}set(t,r){return super.set(G8(this,t),r)}delete(t){return super.delete(V8(this,t))}}function KA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function G8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function V8({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function q8(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Z8(e=ki){if(e===ki)return ET;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function ET(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const X8=Math.sqrt(50),Y8=Math.sqrt(10),Q8=Math.sqrt(2);function Df(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),l=o>=X8?10:o>=Y8?5:o>=Q8?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=r&&r<2?Df(e,t,r*2):[u,d,f]}function v0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,o,l]=n?Df(t,e,r):Df(e,t,r);if(!(o>=i))return[];const u=o-i+1,d=new Array(u);if(n)if(l<0)for(let f=0;f<u;++f)d[f]=(o-f)/-l;else for(let f=0;f<u;++f)d[f]=(o-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(i+f)/-l;else for(let f=0;f<u;++f)d[f]=(i+f)*l;return d}function m0(e,t,r){return t=+t,e=+e,r=+r,Df(e,t,r)[2]}function g0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?m0(t,e,r):m0(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function GA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function VA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function TT(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?ET:Z8(i);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,v=Math.log(d),h=.5*Math.exp(2*v/3),m=.5*Math.sqrt(v*h*(d-h)/d)*(f-d/2<0?-1:1),b=Math.max(r,Math.floor(t-f*h/d+m)),j=Math.min(n,Math.floor(t+(d-f)*h/d+m));TT(e,t,b,j,i)}const o=e[t];let l=r,u=n;for(uc(e,r,t),i(e[n],o)>0&&uc(e,r,n);l<u;){for(uc(e,l,u),++l,--u;i(e[l],o)<0;)++l;for(;i(e[u],o)>0;)--u}i(e[r],o)===0?uc(e,r,u):(++u,uc(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function uc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function J8(e,t,r){if(e=Float64Array.from(H8(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return VA(e);if(t>=1)return GA(e);var n,i=(n-1)*t,o=Math.floor(i),l=GA(TT(e,o).subarray(0,o+1)),u=VA(e.subarray(o+1));return l+(u-l)*(i-o)}}function eU(e,t,r=OT){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,o=Math.floor(i),l=+r(e[o],o,e),u=+r(e[o+1],o+1,e);return l+(u-l)*(i-o)}}function tU(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(i);++n<i;)o[n]=e+n*r;return o}function _n(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Za(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const y0=Symbol("implicit");function d1(){var e=new HA,t=[],r=[],n=y0;function i(o){let l=e.get(o);if(l===void 0){if(n!==y0)return n;e.set(o,l=t.push(o)-1)}return r[l%r.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new HA;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return d1(t,r).unknown(n)},_n.apply(i,arguments),i}function Uc(){var e=d1().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,o,l,u=!1,d=0,f=0,v=.5;delete e.unknown;function h(){var m=t().length,b=i<n,j=b?i:n,x=b?n:i;o=(x-j)/Math.max(1,m-d+f*2),u&&(o=Math.floor(o)),j+=(x-j-o*(m-d))*v,l=o*(1-d),u&&(j=Math.round(j),l=Math.round(l));var y=tU(m).map(function(w){return j+o*w});return r(b?y.reverse():y)}return e.domain=function(m){return arguments.length?(t(m),h()):t()},e.range=function(m){return arguments.length?([n,i]=m,n=+n,i=+i,h()):[n,i]},e.rangeRound=function(m){return[n,i]=m,n=+n,i=+i,u=!0,h()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(m){return arguments.length?(u=!!m,h()):u},e.padding=function(m){return arguments.length?(d=Math.min(1,f=+m),h()):d},e.paddingInner=function(m){return arguments.length?(d=Math.min(1,m),h()):d},e.paddingOuter=function(m){return arguments.length?(f=+m,h()):f},e.align=function(m){return arguments.length?(v=Math.max(0,Math.min(1,m)),h()):v},e.copy=function(){return Uc(t(),[n,i]).round(u).paddingInner(d).paddingOuter(f).align(v)},_n.apply(h(),arguments)}function DT(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return DT(t())},e}function Nc(){return DT(Uc.apply(null,arguments).paddingInner(1))}function f1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function RT(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ju(){}var Hc=.7,Rf=1/Hc,As="\\s*([+-]?\\d+)\\s*",Kc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",la="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rU=/^#([0-9a-f]{3,8})$/,nU=new RegExp(`^rgb\\(${As},${As},${As}\\)$`),aU=new RegExp(`^rgb\\(${la},${la},${la}\\)$`),iU=new RegExp(`^rgba\\(${As},${As},${As},${Kc}\\)$`),oU=new RegExp(`^rgba\\(${la},${la},${la},${Kc}\\)$`),sU=new RegExp(`^hsl\\(${Kc},${la},${la}\\)$`),lU=new RegExp(`^hsla\\(${Kc},${la},${la},${Kc}\\)$`),qA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};f1(ju,Gc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ZA,formatHex:ZA,formatHex8:cU,formatHsl:uU,formatRgb:XA,toString:XA});function ZA(){return this.rgb().formatHex()}function cU(){return this.rgb().formatHex8()}function uU(){return IT(this).formatHsl()}function XA(){return this.rgb().formatRgb()}function Gc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=rU.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?YA(t):r===3?new Zr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Vd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Vd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=nU.exec(e))?new Zr(t[1],t[2],t[3],1):(t=aU.exec(e))?new Zr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=iU.exec(e))?Vd(t[1],t[2],t[3],t[4]):(t=oU.exec(e))?Vd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=sU.exec(e))?eN(t[1],t[2]/100,t[3]/100,1):(t=lU.exec(e))?eN(t[1],t[2]/100,t[3]/100,t[4]):qA.hasOwnProperty(e)?YA(qA[e]):e==="transparent"?new Zr(NaN,NaN,NaN,0):null}function YA(e){return new Zr(e>>16&255,e>>8&255,e&255,1)}function Vd(e,t,r,n){return n<=0&&(e=t=r=NaN),new Zr(e,t,r,n)}function dU(e){return e instanceof ju||(e=Gc(e)),e?(e=e.rgb(),new Zr(e.r,e.g,e.b,e.opacity)):new Zr}function x0(e,t,r,n){return arguments.length===1?dU(e):new Zr(e,t,r,n??1)}function Zr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}f1(Zr,x0,RT(ju,{brighter(e){return e=e==null?Rf:Math.pow(Rf,e),new Zr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Hc:Math.pow(Hc,e),new Zr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Zr(xo(this.r),xo(this.g),xo(this.b),If(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:QA,formatHex:QA,formatHex8:fU,formatRgb:JA,toString:JA}));function QA(){return`#${po(this.r)}${po(this.g)}${po(this.b)}`}function fU(){return`#${po(this.r)}${po(this.g)}${po(this.b)}${po((isNaN(this.opacity)?1:this.opacity)*255)}`}function JA(){const e=If(this.opacity);return`${e===1?"rgb(":"rgba("}${xo(this.r)}, ${xo(this.g)}, ${xo(this.b)}${e===1?")":`, ${e})`}`}function If(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function xo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function po(e){return e=xo(e),(e<16?"0":"")+e.toString(16)}function eN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Un(e,t,r,n)}function IT(e){if(e instanceof Un)return new Un(e.h,e.s,e.l,e.opacity);if(e instanceof ju||(e=Gc(e)),!e)return new Un;if(e instanceof Un)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),l=NaN,u=o-i,d=(o+i)/2;return u?(t===o?l=(r-n)/u+(r<n)*6:r===o?l=(n-t)/u+2:l=(t-r)/u+4,u/=d<.5?o+i:2-o-i,l*=60):u=d>0&&d<1?0:l,new Un(l,u,d,e.opacity)}function pU(e,t,r,n){return arguments.length===1?IT(e):new Un(e,t,r,n??1)}function Un(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}f1(Un,pU,RT(ju,{brighter(e){return e=e==null?Rf:Math.pow(Rf,e),new Un(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Hc:Math.pow(Hc,e),new Un(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Zr(Ox(e>=240?e-240:e+120,i,n),Ox(e,i,n),Ox(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Un(tN(this.h),qd(this.s),qd(this.l),If(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=If(this.opacity);return`${e===1?"hsl(":"hsla("}${tN(this.h)}, ${qd(this.s)*100}%, ${qd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function tN(e){return e=(e||0)%360,e<0?e+360:e}function qd(e){return Math.max(0,Math.min(1,e||0))}function Ox(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const p1=e=>()=>e;function hU(e,t){return function(r){return e+r*t}}function vU(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function mU(e){return(e=+e)==1?MT:function(t,r){return r-t?vU(t,r,e):p1(isNaN(t)?r:t)}}function MT(e,t){var r=t-e;return r?hU(e,r):p1(isNaN(e)?t:e)}const rN=(function e(t){var r=mU(t);function n(i,o){var l=r((i=x0(i)).r,(o=x0(o)).r),u=r(i.g,o.g),d=r(i.b,o.b),f=MT(i.opacity,o.opacity);return function(v){return i.r=l(v),i.g=u(v),i.b=d(v),i.opacity=f(v),i+""}}return n.gamma=e,n})(1);function gU(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=e[i]*(1-o)+t[i]*o;return n}}function yU(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function xU(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),o=new Array(r),l;for(l=0;l<n;++l)i[l]=vl(e[l],t[l]);for(;l<r;++l)o[l]=t[l];return function(u){for(l=0;l<n;++l)o[l]=i[l](u);return o}}function bU(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Mf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function SU(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=vl(e[i],t[i]):n[i]=t[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var b0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ex=new RegExp(b0.source,"g");function wU(e){return function(){return e}}function jU(e){return function(t){return e(t)+""}}function kU(e,t){var r=b0.lastIndex=Ex.lastIndex=0,n,i,o,l=-1,u=[],d=[];for(e=e+"",t=t+"";(n=b0.exec(e))&&(i=Ex.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),u[l]?u[l]+=o:u[++l]=o),(n=n[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:Mf(n,i)})),r=Ex.lastIndex;return r<t.length&&(o=t.slice(r),u[l]?u[l]+=o:u[++l]=o),u.length<2?d[0]?jU(d[0].x):wU(t):(t=d.length,function(f){for(var v=0,h;v<t;++v)u[(h=d[v]).i]=h.x(f);return u.join("")})}function vl(e,t){var r=typeof t,n;return t==null||r==="boolean"?p1(t):(r==="number"?Mf:r==="string"?(n=Gc(t))?(t=n,rN):kU:t instanceof Gc?rN:t instanceof Date?bU:yU(t)?gU:Array.isArray(t)?xU:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?SU:Mf)(e,t)}function h1(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function CU(e,t){t===void 0&&(t=e,e=vl);for(var r=0,n=t.length-1,i=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(i,i=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return o[u](l-u)}}function zU(e){return function(){return e}}function Lf(e){return+e}var nN=[0,1];function Lr(e){return e}function S0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:zU(isNaN(t)?NaN:.5)}function AU(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function NU(e,t,r){var n=e[0],i=e[1],o=t[0],l=t[1];return i<n?(n=S0(i,n),o=r(l,o)):(n=S0(n,i),o=r(o,l)),function(u){return o(n(u))}}function PU(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),o=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)i[l]=S0(e[l],e[l+1]),o[l]=r(t[l],t[l+1]);return function(u){var d=wu(e,u,1,n)-1;return o[d](i[d](u))}}function ku(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Xp(){var e=nN,t=nN,r=vl,n,i,o,l=Lr,u,d,f;function v(){var m=Math.min(e.length,t.length);return l!==Lr&&(l=AU(e[0],e[m-1])),u=m>2?PU:NU,d=f=null,h}function h(m){return m==null||isNaN(m=+m)?o:(d||(d=u(e.map(n),t,r)))(n(l(m)))}return h.invert=function(m){return l(i((f||(f=u(t,e.map(n),Mf)))(m)))},h.domain=function(m){return arguments.length?(e=Array.from(m,Lf),v()):e.slice()},h.range=function(m){return arguments.length?(t=Array.from(m),v()):t.slice()},h.rangeRound=function(m){return t=Array.from(m),r=h1,v()},h.clamp=function(m){return arguments.length?(l=m?!0:Lr,v()):l!==Lr},h.interpolate=function(m){return arguments.length?(r=m,v()):r},h.unknown=function(m){return arguments.length?(o=m,h):o},function(m,b){return n=m,i=b,v()}}function v1(){return Xp()(Lr,Lr)}function _U(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Bf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ms(e){return e=Bf(Math.abs(e)),e?e[1]:NaN}function OU(e,t){return function(r,n){for(var i=r.length,o=[],l=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),o.push(r.substring(i-=u,i+u)),!((d+=u+1)>n));)u=e[l=(l+1)%e.length];return o.reverse().join(t)}}function EU(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var TU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vc(e){if(!(t=TU.exec(e)))throw new Error("invalid format: "+e);var t;return new m1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Vc.prototype=m1.prototype;function m1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}m1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function DU(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var LT;function RU(e,t){var r=Bf(e,t);if(!r)return e+"";var n=r[0],i=r[1],o=i-(LT=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=n.length;return o===l?n:o>l?n+new Array(o-l+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Bf(e,Math.max(0,t+o-1))[0]}function aN(e,t){var r=Bf(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const iN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:_U,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>aN(e*100,t),r:aN,s:RU,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function oN(e){return e}var sN=Array.prototype.map,lN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function IU(e){var t=e.grouping===void 0||e.thousands===void 0?oN:OU(sN.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?oN:EU(sN.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(h){h=Vc(h);var m=h.fill,b=h.align,j=h.sign,x=h.symbol,y=h.zero,w=h.width,k=h.comma,S=h.precision,N=h.trim,A=h.type;A==="n"?(k=!0,A="g"):iN[A]||(S===void 0&&(S=12),N=!0,A="g"),(y||m==="0"&&b==="=")&&(y=!0,m="0",b="=");var O=x==="$"?r:x==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",_=x==="$"?n:/[%p]/.test(A)?l:"",T=iN[A],E=/[defgprs%]/.test(A);S=S===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function D(M){var F=O,L=_,V,H,Z;if(A==="c")L=T(M)+L,M="";else{M=+M;var Y=M<0||1/M<0;if(M=isNaN(M)?d:T(Math.abs(M),S),N&&(M=DU(M)),Y&&+M==0&&j!=="+"&&(Y=!1),F=(Y?j==="("?j:u:j==="-"||j==="("?"":j)+F,L=(A==="s"?lN[8+LT/3]:"")+L+(Y&&j==="("?")":""),E){for(V=-1,H=M.length;++V<H;)if(Z=M.charCodeAt(V),48>Z||Z>57){L=(Z===46?i+M.slice(V+1):M.slice(V))+L,M=M.slice(0,V);break}}}k&&!y&&(M=t(M,1/0));var U=F.length+M.length+L.length,B=U<w?new Array(w-U+1).join(m):"";switch(k&&y&&(M=t(B+M,B.length?w-L.length:1/0),B=""),b){case"<":M=F+M+L+B;break;case"=":M=F+B+M+L;break;case"^":M=B.slice(0,U=B.length>>1)+F+M+L+B.slice(U);break;default:M=B+F+M+L;break}return o(M)}return D.toString=function(){return h+""},D}function v(h,m){var b=f((h=Vc(h),h.type="f",h)),j=Math.max(-8,Math.min(8,Math.floor(Ms(m)/3)))*3,x=Math.pow(10,-j),y=lN[8+j/3];return function(w){return b(x*w)+y}}return{format:f,formatPrefix:v}}var Zd,g1,BT;MU({thousands:",",grouping:[3],currency:["$",""]});function MU(e){return Zd=IU(e),g1=Zd.format,BT=Zd.formatPrefix,Zd}function LU(e){return Math.max(0,-Ms(Math.abs(e)))}function BU(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ms(t)/3)))*3-Ms(Math.abs(e)))}function FU(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ms(t)-Ms(e))+1}function FT(e,t,r,n){var i=g0(e,t,r),o;switch(n=Vc(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=BU(i,l))&&(n.precision=o),BT(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=FU(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=LU(i))&&(n.precision=o-(n.type==="%")*2);break}}return g1(n)}function Ii(e){var t=e.domain;return e.ticks=function(r){var n=t();return v0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return FT(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,o=n.length-1,l=n[i],u=n[o],d,f,v=10;for(u<l&&(f=l,l=u,u=f,f=i,i=o,o=f);v-- >0;){if(f=m0(l,u,r),f===d)return n[i]=l,n[o]=u,t(n);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function Ff(){var e=v1();return e.copy=function(){return ku(e,Ff())},_n.apply(e,arguments),Ii(e)}function WT(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Lf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return WT(e).unknown(t)},e=arguments.length?Array.from(e,Lf):[0,1],Ii(r)}function $T(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],o=e[n],l;return o<i&&(l=r,r=n,n=l,l=i,i=o,o=l),e[r]=t.floor(i),e[n]=t.ceil(o),e}function cN(e){return Math.log(e)}function uN(e){return Math.exp(e)}function WU(e){return-Math.log(-e)}function $U(e){return-Math.exp(-e)}function UU(e){return isFinite(e)?+("1e"+e):e<0?0:e}function HU(e){return e===10?UU:e===Math.E?Math.exp:t=>Math.pow(e,t)}function KU(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function dN(e){return(t,r)=>-e(-t,r)}function y1(e){const t=e(cN,uN),r=t.domain;let n=10,i,o;function l(){return i=KU(n),o=HU(n),r()[0]<0?(i=dN(i),o=dN(o),e(WU,$U)):e(cN,uN),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let f=d[0],v=d[d.length-1];const h=v<f;h&&([f,v]=[v,f]);let m=i(f),b=i(v),j,x;const y=u==null?10:+u;let w=[];if(!(n%1)&&b-m<y){if(m=Math.floor(m),b=Math.ceil(b),f>0){for(;m<=b;++m)for(j=1;j<n;++j)if(x=m<0?j/o(-m):j*o(m),!(x<f)){if(x>v)break;w.push(x)}}else for(;m<=b;++m)for(j=n-1;j>=1;--j)if(x=m>0?j/o(-m):j*o(m),!(x<f)){if(x>v)break;w.push(x)}w.length*2<y&&(w=v0(f,v,y))}else w=v0(m,b,Math.min(b-m,y)).map(o);return h?w.reverse():w},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Vc(d)).precision==null&&(d.trim=!0),d=g1(d)),u===1/0)return d;const f=Math.max(1,n*u/t.ticks().length);return v=>{let h=v/o(Math.round(i(v)));return h*n<n-.5&&(h*=n),h<=f?d(v):""}},t.nice=()=>r($T(r(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),t}function UT(){const e=y1(Xp()).domain([1,10]);return e.copy=()=>ku(e,UT()).base(e.base()),_n.apply(e,arguments),e}function fN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function x1(e){var t=1,r=e(fN(t),pN(t));return r.constant=function(n){return arguments.length?e(fN(t=+n),pN(t)):t},Ii(r)}function HT(){var e=x1(Xp());return e.copy=function(){return ku(e,HT()).constant(e.constant())},_n.apply(e,arguments)}function hN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function GU(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function VU(e){return e<0?-e*e:e*e}function b1(e){var t=e(Lr,Lr),r=1;function n(){return r===1?e(Lr,Lr):r===.5?e(GU,VU):e(hN(r),hN(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ii(t)}function S1(){var e=b1(Xp());return e.copy=function(){return ku(e,S1()).exponent(e.exponent())},_n.apply(e,arguments),e}function qU(){return S1.apply(null,arguments).exponent(.5)}function vN(e){return Math.sign(e)*e*e}function ZU(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function KT(){var e=v1(),t=[0,1],r=!1,n;function i(o){var l=ZU(e(o));return isNaN(l)?n:r?Math.round(l):l}return i.invert=function(o){return e.invert(vN(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Lf)).map(vN)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return KT(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},_n.apply(i,arguments),Ii(i)}function GT(){var e=[],t=[],r=[],n;function i(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=eU(e,l/u);return o}function o(l){return l==null||isNaN(l=+l)?n:t[wu(r,l)]}return o.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(ki),i()},o.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},o.unknown=function(l){return arguments.length?(n=l,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return GT().domain(e).range(t).unknown(n)},_n.apply(o,arguments)}function VT(){var e=0,t=1,r=1,n=[.5],i=[0,1],o;function l(d){return d!=null&&d<=d?i[wu(n,d,0,r)]:o}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},l.unknown=function(d){return arguments.length&&(o=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return VT().domain([e,t]).range(i).unknown(o)},_n.apply(Ii(l),arguments)}function qT(){var e=[.5],t=[0,1],r,n=1;function i(o){return o!=null&&o<=o?t[wu(e,o,0,n)]:r}return i.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return qT().domain(e).range(t).unknown(r)},_n.apply(i,arguments)}const Tx=new Date,Dx=new Date;function lr(e,t,r,n){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const d=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return d;let f;do d.push(f=new Date(+o)),t(o,u),e(o);while(f<o&&o<l);return d},i.filter=o=>lr(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!o(l););else for(;--u>=0;)for(;t(l,1),!o(l););}),r&&(i.count=(o,l)=>(Tx.setTime(+o),Dx.setTime(+l),e(Tx),e(Dx),Math.floor(r(Tx,Dx))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?l=>n(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const Wf=lr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Wf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?lr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Wf);Wf.range;const Da=1e3,An=Da*60,Ra=An*60,Ba=Ra*24,w1=Ba*7,mN=Ba*30,Rx=Ba*365,ho=lr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Da)},(e,t)=>(t-e)/Da,e=>e.getUTCSeconds());ho.range;const j1=lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Da)},(e,t)=>{e.setTime(+e+t*An)},(e,t)=>(t-e)/An,e=>e.getMinutes());j1.range;const k1=lr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*An)},(e,t)=>(t-e)/An,e=>e.getUTCMinutes());k1.range;const C1=lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Da-e.getMinutes()*An)},(e,t)=>{e.setTime(+e+t*Ra)},(e,t)=>(t-e)/Ra,e=>e.getHours());C1.range;const z1=lr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ra)},(e,t)=>(t-e)/Ra,e=>e.getUTCHours());z1.range;const Cu=lr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*An)/Ba,e=>e.getDate()-1);Cu.range;const Yp=lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ba,e=>e.getUTCDate()-1);Yp.range;const ZT=lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ba,e=>Math.floor(e/Ba));ZT.range;function Eo(e){return lr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*An)/w1)}const Qp=Eo(0),$f=Eo(1),XU=Eo(2),YU=Eo(3),Ls=Eo(4),QU=Eo(5),JU=Eo(6);Qp.range;$f.range;XU.range;YU.range;Ls.range;QU.range;JU.range;function To(e){return lr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/w1)}const Jp=To(0),Uf=To(1),eH=To(2),tH=To(3),Bs=To(4),rH=To(5),nH=To(6);Jp.range;Uf.range;eH.range;tH.range;Bs.range;rH.range;nH.range;const A1=lr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());A1.range;const N1=lr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());N1.range;const Fa=lr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Fa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:lr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Fa.range;const Wa=lr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Wa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:lr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Wa.range;function XT(e,t,r,n,i,o){const l=[[ho,1,Da],[ho,5,5*Da],[ho,15,15*Da],[ho,30,30*Da],[o,1,An],[o,5,5*An],[o,15,15*An],[o,30,30*An],[i,1,Ra],[i,3,3*Ra],[i,6,6*Ra],[i,12,12*Ra],[n,1,Ba],[n,2,2*Ba],[r,1,w1],[t,1,mN],[t,3,3*mN],[e,1,Rx]];function u(f,v,h){const m=v<f;m&&([f,v]=[v,f]);const b=h&&typeof h.range=="function"?h:d(f,v,h),j=b?b.range(f,+v+1):[];return m?j.reverse():j}function d(f,v,h){const m=Math.abs(v-f)/h,b=u1(([,,y])=>y).right(l,m);if(b===l.length)return e.every(g0(f/Rx,v/Rx,h));if(b===0)return Wf.every(Math.max(g0(f,v,h),1));const[j,x]=l[m/l[b-1][2]<l[b][2]/m?b-1:b];return j.every(x)}return[u,d]}const[aH,iH]=XT(Wa,N1,Jp,ZT,z1,k1),[oH,sH]=XT(Fa,A1,Qp,Cu,C1,j1);function Ix(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Mx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function dc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function lH(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,o=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=fc(i),v=pc(i),h=fc(o),m=pc(o),b=fc(l),j=pc(l),x=fc(u),y=pc(u),w=fc(d),k=pc(d),S={a:Y,A:U,b:B,B:W,c:null,d:wN,e:wN,f:OH,g:WH,G:UH,H:NH,I:PH,j:_H,L:YT,m:EH,M:TH,p:$,q,Q:CN,s:zN,S:DH,u:RH,U:IH,V:MH,w:LH,W:BH,x:null,X:null,y:FH,Y:$H,Z:HH,"%":kN},N={a:oe,A:fe,b:ye,B:se,c:null,d:jN,e:jN,f:qH,g:aK,G:oK,H:KH,I:GH,j:VH,L:JT,m:ZH,M:XH,p:re,q:xe,Q:CN,s:zN,S:YH,u:QH,U:JH,V:eK,w:tK,W:rK,x:null,X:null,y:nK,Y:iK,Z:sK,"%":kN},A={a:D,A:M,b:F,B:L,c:V,d:bN,e:bN,f:kH,g:xN,G:yN,H:SN,I:SN,j:bH,L:jH,m:xH,M:SH,p:E,q:yH,Q:zH,s:AH,S:wH,u:pH,U:hH,V:vH,w:fH,W:mH,x:H,X:Z,y:xN,Y:yN,Z:gH,"%":CH};S.x=O(r,S),S.X=O(n,S),S.c=O(t,S),N.x=O(r,N),N.X=O(n,N),N.c=O(t,N);function O(ae,pe){return function(Se){var le=[],Be=-1,De=0,Ye=ae.length,tt,Qe,st;for(Se instanceof Date||(Se=new Date(+Se));++Be<Ye;)ae.charCodeAt(Be)===37&&(le.push(ae.slice(De,Be)),(Qe=gN[tt=ae.charAt(++Be)])!=null?tt=ae.charAt(++Be):Qe=tt==="e"?" ":"0",(st=pe[tt])&&(tt=st(Se,Qe)),le.push(tt),De=Be+1);return le.push(ae.slice(De,Be)),le.join("")}}function _(ae,pe){return function(Se){var le=dc(1900,void 0,1),Be=T(le,ae,Se+="",0),De,Ye;if(Be!=Se.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(pe&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(De=Mx(dc(le.y,0,1)),Ye=De.getUTCDay(),De=Ye>4||Ye===0?Uf.ceil(De):Uf(De),De=Yp.offset(De,(le.V-1)*7),le.y=De.getUTCFullYear(),le.m=De.getUTCMonth(),le.d=De.getUTCDate()+(le.w+6)%7):(De=Ix(dc(le.y,0,1)),Ye=De.getDay(),De=Ye>4||Ye===0?$f.ceil(De):$f(De),De=Cu.offset(De,(le.V-1)*7),le.y=De.getFullYear(),le.m=De.getMonth(),le.d=De.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),Ye="Z"in le?Mx(dc(le.y,0,1)).getUTCDay():Ix(dc(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(Ye+5)%7:le.w+le.U*7-(Ye+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,Mx(le)):Ix(le)}}function T(ae,pe,Se,le){for(var Be=0,De=pe.length,Ye=Se.length,tt,Qe;Be<De;){if(le>=Ye)return-1;if(tt=pe.charCodeAt(Be++),tt===37){if(tt=pe.charAt(Be++),Qe=A[tt in gN?pe.charAt(Be++):tt],!Qe||(le=Qe(ae,Se,le))<0)return-1}else if(tt!=Se.charCodeAt(le++))return-1}return le}function E(ae,pe,Se){var le=f.exec(pe.slice(Se));return le?(ae.p=v.get(le[0].toLowerCase()),Se+le[0].length):-1}function D(ae,pe,Se){var le=b.exec(pe.slice(Se));return le?(ae.w=j.get(le[0].toLowerCase()),Se+le[0].length):-1}function M(ae,pe,Se){var le=h.exec(pe.slice(Se));return le?(ae.w=m.get(le[0].toLowerCase()),Se+le[0].length):-1}function F(ae,pe,Se){var le=w.exec(pe.slice(Se));return le?(ae.m=k.get(le[0].toLowerCase()),Se+le[0].length):-1}function L(ae,pe,Se){var le=x.exec(pe.slice(Se));return le?(ae.m=y.get(le[0].toLowerCase()),Se+le[0].length):-1}function V(ae,pe,Se){return T(ae,t,pe,Se)}function H(ae,pe,Se){return T(ae,r,pe,Se)}function Z(ae,pe,Se){return T(ae,n,pe,Se)}function Y(ae){return l[ae.getDay()]}function U(ae){return o[ae.getDay()]}function B(ae){return d[ae.getMonth()]}function W(ae){return u[ae.getMonth()]}function $(ae){return i[+(ae.getHours()>=12)]}function q(ae){return 1+~~(ae.getMonth()/3)}function oe(ae){return l[ae.getUTCDay()]}function fe(ae){return o[ae.getUTCDay()]}function ye(ae){return d[ae.getUTCMonth()]}function se(ae){return u[ae.getUTCMonth()]}function re(ae){return i[+(ae.getUTCHours()>=12)]}function xe(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var pe=O(ae+="",S);return pe.toString=function(){return ae},pe},parse:function(ae){var pe=_(ae+="",!1);return pe.toString=function(){return ae},pe},utcFormat:function(ae){var pe=O(ae+="",N);return pe.toString=function(){return ae},pe},utcParse:function(ae){var pe=_(ae+="",!0);return pe.toString=function(){return ae},pe}}}var gN={"-":"",_:" ",0:"0"},vr=/^\s*\d+/,cH=/^%/,uH=/[\\^$*+?|[\]().{}]/g;function ot(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(t)+i:i)}function dH(e){return e.replace(uH,"\\$&")}function fc(e){return new RegExp("^(?:"+e.map(dH).join("|")+")","i")}function pc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function fH(e,t,r){var n=vr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function pH(e,t,r){var n=vr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function hH(e,t,r){var n=vr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function vH(e,t,r){var n=vr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function mH(e,t,r){var n=vr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function yN(e,t,r){var n=vr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function xN(e,t,r){var n=vr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function gH(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function yH(e,t,r){var n=vr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function xH(e,t,r){var n=vr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function bN(e,t,r){var n=vr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function bH(e,t,r){var n=vr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function SN(e,t,r){var n=vr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function SH(e,t,r){var n=vr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function wH(e,t,r){var n=vr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function jH(e,t,r){var n=vr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function kH(e,t,r){var n=vr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function CH(e,t,r){var n=cH.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function zH(e,t,r){var n=vr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function AH(e,t,r){var n=vr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function wN(e,t){return ot(e.getDate(),t,2)}function NH(e,t){return ot(e.getHours(),t,2)}function PH(e,t){return ot(e.getHours()%12||12,t,2)}function _H(e,t){return ot(1+Cu.count(Fa(e),e),t,3)}function YT(e,t){return ot(e.getMilliseconds(),t,3)}function OH(e,t){return YT(e,t)+"000"}function EH(e,t){return ot(e.getMonth()+1,t,2)}function TH(e,t){return ot(e.getMinutes(),t,2)}function DH(e,t){return ot(e.getSeconds(),t,2)}function RH(e){var t=e.getDay();return t===0?7:t}function IH(e,t){return ot(Qp.count(Fa(e)-1,e),t,2)}function QT(e){var t=e.getDay();return t>=4||t===0?Ls(e):Ls.ceil(e)}function MH(e,t){return e=QT(e),ot(Ls.count(Fa(e),e)+(Fa(e).getDay()===4),t,2)}function LH(e){return e.getDay()}function BH(e,t){return ot($f.count(Fa(e)-1,e),t,2)}function FH(e,t){return ot(e.getFullYear()%100,t,2)}function WH(e,t){return e=QT(e),ot(e.getFullYear()%100,t,2)}function $H(e,t){return ot(e.getFullYear()%1e4,t,4)}function UH(e,t){var r=e.getDay();return e=r>=4||r===0?Ls(e):Ls.ceil(e),ot(e.getFullYear()%1e4,t,4)}function HH(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ot(t/60|0,"0",2)+ot(t%60,"0",2)}function jN(e,t){return ot(e.getUTCDate(),t,2)}function KH(e,t){return ot(e.getUTCHours(),t,2)}function GH(e,t){return ot(e.getUTCHours()%12||12,t,2)}function VH(e,t){return ot(1+Yp.count(Wa(e),e),t,3)}function JT(e,t){return ot(e.getUTCMilliseconds(),t,3)}function qH(e,t){return JT(e,t)+"000"}function ZH(e,t){return ot(e.getUTCMonth()+1,t,2)}function XH(e,t){return ot(e.getUTCMinutes(),t,2)}function YH(e,t){return ot(e.getUTCSeconds(),t,2)}function QH(e){var t=e.getUTCDay();return t===0?7:t}function JH(e,t){return ot(Jp.count(Wa(e)-1,e),t,2)}function eD(e){var t=e.getUTCDay();return t>=4||t===0?Bs(e):Bs.ceil(e)}function eK(e,t){return e=eD(e),ot(Bs.count(Wa(e),e)+(Wa(e).getUTCDay()===4),t,2)}function tK(e){return e.getUTCDay()}function rK(e,t){return ot(Uf.count(Wa(e)-1,e),t,2)}function nK(e,t){return ot(e.getUTCFullYear()%100,t,2)}function aK(e,t){return e=eD(e),ot(e.getUTCFullYear()%100,t,2)}function iK(e,t){return ot(e.getUTCFullYear()%1e4,t,4)}function oK(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Bs(e):Bs.ceil(e),ot(e.getUTCFullYear()%1e4,t,4)}function sK(){return"+0000"}function kN(){return"%"}function CN(e){return+e}function zN(e){return Math.floor(+e/1e3)}var ss,tD,rD;lK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lK(e){return ss=lH(e),tD=ss.format,ss.parse,rD=ss.utcFormat,ss.utcParse,ss}function cK(e){return new Date(e)}function uK(e){return e instanceof Date?+e:+new Date(+e)}function P1(e,t,r,n,i,o,l,u,d,f){var v=v1(),h=v.invert,m=v.domain,b=f(".%L"),j=f(":%S"),x=f("%I:%M"),y=f("%I %p"),w=f("%a %d"),k=f("%b %d"),S=f("%B"),N=f("%Y");function A(O){return(d(O)<O?b:u(O)<O?j:l(O)<O?x:o(O)<O?y:n(O)<O?i(O)<O?w:k:r(O)<O?S:N)(O)}return v.invert=function(O){return new Date(h(O))},v.domain=function(O){return arguments.length?m(Array.from(O,uK)):m().map(cK)},v.ticks=function(O){var _=m();return e(_[0],_[_.length-1],O??10)},v.tickFormat=function(O,_){return _==null?A:f(_)},v.nice=function(O){var _=m();return(!O||typeof O.range!="function")&&(O=t(_[0],_[_.length-1],O??10)),O?m($T(_,O)):v},v.copy=function(){return ku(v,P1(e,t,r,n,i,o,l,u,d,f))},v}function dK(){return _n.apply(P1(oH,sH,Fa,A1,Qp,Cu,C1,j1,ho,tD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fK(){return _n.apply(P1(aH,iH,Wa,N1,Jp,Yp,z1,k1,ho,rD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function eh(){var e=0,t=1,r,n,i,o,l=Lr,u=!1,d;function f(h){return h==null||isNaN(h=+h)?d:l(i===0?.5:(h=(o(h)-r)*i,u?Math.max(0,Math.min(1,h)):h))}f.domain=function(h){return arguments.length?([e,t]=h,r=o(e=+e),n=o(t=+t),i=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(h){return arguments.length?(u=!!h,f):u},f.interpolator=function(h){return arguments.length?(l=h,f):l};function v(h){return function(m){var b,j;return arguments.length?([b,j]=m,l=h(b,j),f):[l(0),l(1)]}}return f.range=v(vl),f.rangeRound=v(h1),f.unknown=function(h){return arguments.length?(d=h,f):d},function(h){return o=h,r=h(e),n=h(t),i=r===n?0:1/(n-r),f}}function Mi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function nD(){var e=Ii(eh()(Lr));return e.copy=function(){return Mi(e,nD())},Za.apply(e,arguments)}function aD(){var e=y1(eh()).domain([1,10]);return e.copy=function(){return Mi(e,aD()).base(e.base())},Za.apply(e,arguments)}function iD(){var e=x1(eh());return e.copy=function(){return Mi(e,iD()).constant(e.constant())},Za.apply(e,arguments)}function _1(){var e=b1(eh());return e.copy=function(){return Mi(e,_1()).exponent(e.exponent())},Za.apply(e,arguments)}function pK(){return _1.apply(null,arguments).exponent(.5)}function oD(){var e=[],t=Lr;function r(n){if(n!=null&&!isNaN(n=+n))return t((wu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ki),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>J8(e,o/n))},r.copy=function(){return oD(t).domain(e)},Za.apply(r,arguments)}function th(){var e=0,t=.5,r=1,n=1,i,o,l,u,d,f=Lr,v,h=!1,m;function b(x){return isNaN(x=+x)?m:(x=.5+((x=+v(x))-o)*(n*x<n*o?u:d),f(h?Math.max(0,Math.min(1,x)):x))}b.domain=function(x){return arguments.length?([e,t,r]=x,i=v(e=+e),o=v(t=+t),l=v(r=+r),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),n=o<i?-1:1,b):[e,t,r]},b.clamp=function(x){return arguments.length?(h=!!x,b):h},b.interpolator=function(x){return arguments.length?(f=x,b):f};function j(x){return function(y){var w,k,S;return arguments.length?([w,k,S]=y,f=CU(x,[w,k,S]),b):[f(0),f(.5),f(1)]}}return b.range=j(vl),b.rangeRound=j(h1),b.unknown=function(x){return arguments.length?(m=x,b):m},function(x){return v=x,i=x(e),o=x(t),l=x(r),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),n=o<i?-1:1,b}}function sD(){var e=Ii(th()(Lr));return e.copy=function(){return Mi(e,sD())},Za.apply(e,arguments)}function lD(){var e=y1(th()).domain([.1,1,10]);return e.copy=function(){return Mi(e,lD()).base(e.base())},Za.apply(e,arguments)}function cD(){var e=x1(th());return e.copy=function(){return Mi(e,cD()).constant(e.constant())},Za.apply(e,arguments)}function O1(){var e=b1(th());return e.copy=function(){return Mi(e,O1()).exponent(e.exponent())},Za.apply(e,arguments)}function hK(){return O1.apply(null,arguments).exponent(.5)}const AN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Uc,scaleDiverging:sD,scaleDivergingLog:lD,scaleDivergingPow:O1,scaleDivergingSqrt:hK,scaleDivergingSymlog:cD,scaleIdentity:WT,scaleImplicit:y0,scaleLinear:Ff,scaleLog:UT,scaleOrdinal:d1,scalePoint:Nc,scalePow:S1,scaleQuantile:GT,scaleQuantize:VT,scaleRadial:KT,scaleSequential:nD,scaleSequentialLog:aD,scaleSequentialPow:_1,scaleSequentialQuantile:oD,scaleSequentialSqrt:pK,scaleSequentialSymlog:iD,scaleSqrt:qU,scaleSymlog:HT,scaleThreshold:qT,scaleTime:dK,scaleUtc:fK,tickFormat:FT},Symbol.toStringTag,{value:"Module"}));var Lx,NN;function rh(){if(NN)return Lx;NN=1;var e=ul();function t(r,n,i){for(var o=-1,l=r.length;++o<l;){var u=r[o],d=n(u);if(d!=null&&(f===void 0?d===d&&!e(d):i(d,f)))var f=d,v=u}return v}return Lx=t,Lx}var Bx,PN;function uD(){if(PN)return Bx;PN=1;function e(t,r){return t>r}return Bx=e,Bx}var Fx,_N;function vK(){if(_N)return Fx;_N=1;var e=rh(),t=uD(),r=pl();function n(i){return i&&i.length?e(i,r,t):void 0}return Fx=n,Fx}var mK=vK();const bi=pt(mK);var Wx,ON;function dD(){if(ON)return Wx;ON=1;function e(t,r){return t<r}return Wx=e,Wx}var $x,EN;function gK(){if(EN)return $x;EN=1;var e=rh(),t=dD(),r=pl();function n(i){return i&&i.length?e(i,r,t):void 0}return $x=n,$x}var yK=gK();const nh=pt(yK);var Ux,TN;function xK(){if(TN)return Ux;TN=1;var e=qS(),t=ha(),r=xT(),n=Xr();function i(o,l){var u=n(o)?e:r;return u(o,t(l,3))}return Ux=i,Ux}var Hx,DN;function bK(){if(DN)return Hx;DN=1;var e=gT(),t=xK();function r(n,i){return e(t(n,i),1)}return Hx=r,Hx}var SK=bK();const wK=pt(SK);var Kx,RN;function jK(){if(RN)return Kx;RN=1;var e=o1();function t(r,n){return e(r,n)}return Kx=t,Kx}var kK=jK();const Pi=pt(kK);var ml=1e9,CK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},T1,It=!0,Nn="[DecimalError] ",bo=Nn+"Invalid argument: ",E1=Nn+"Exponent out of range: ",gl=Math.floor,co=Math.pow,zK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ln,pr=1e7,_t=7,fD=9007199254740991,Hf=gl(fD/_t),ze={};ze.absoluteValue=ze.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ze.comparedTo=ze.cmp=function(e){var t,r,n,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};ze.decimalPlaces=ze.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*_t;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ze.dividedBy=ze.div=function(e){return La(this,new this.constructor(e))};ze.dividedToIntegerBy=ze.idiv=function(e){var t=this,r=t.constructor;return bt(La(t,new r(e),0,1),r.precision)};ze.equals=ze.eq=function(e){return!this.cmp(e)};ze.exponent=function(){return tr(this)};ze.greaterThan=ze.gt=function(e){return this.cmp(e)>0};ze.greaterThanOrEqualTo=ze.gte=function(e){return this.cmp(e)>=0};ze.isInteger=ze.isint=function(){return this.e>this.d.length-2};ze.isNegative=ze.isneg=function(){return this.s<0};ze.isPositive=ze.ispos=function(){return this.s>0};ze.isZero=function(){return this.s===0};ze.lessThan=ze.lt=function(e){return this.cmp(e)<0};ze.lessThanOrEqualTo=ze.lte=function(e){return this.cmp(e)<1};ze.logarithm=ze.log=function(e){var t,r=this,n=r.constructor,i=n.precision,o=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ln))throw Error(Nn+"NaN");if(r.s<1)throw Error(Nn+(r.s?"NaN":"-Infinity"));return r.eq(ln)?new n(0):(It=!1,t=La(qc(r,o),qc(e,o),o),It=!0,bt(t,i))};ze.minus=ze.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vD(t,e):pD(t,(e.s=-e.s,e))};ze.modulo=ze.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Nn+"NaN");return r.s?(It=!1,t=La(r,e,0,1).times(e),It=!0,r.minus(t)):bt(new n(r),i)};ze.naturalExponential=ze.exp=function(){return hD(this)};ze.naturalLogarithm=ze.ln=function(){return qc(this)};ze.negated=ze.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ze.plus=ze.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pD(t,e):vD(t,(e.s=-e.s,e))};ze.precision=ze.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(bo+e);if(t=tr(i)+1,n=i.d.length-1,r=n*_t+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ze.squareRoot=ze.sqrt=function(){var e,t,r,n,i,o,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Nn+"NaN")}for(e=tr(u),It=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=ia(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=gl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(i.toString()),r=d.precision,i=l=r+3;;)if(o=n,n=o.plus(La(u,o,l+2)).times(.5),ia(o.d).slice(0,l)===(t=ia(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(bt(o,r+1,0),o.times(o).eq(u)){n=o;break}}else if(t!="9999")break;l+=4}return It=!0,bt(n,r)};ze.times=ze.mul=function(e){var t,r,n,i,o,l,u,d,f,v=this,h=v.constructor,m=v.d,b=(e=new h(e)).d;if(!v.s||!e.s)return new h(0);for(e.s*=v.s,r=v.e+e.e,d=m.length,f=b.length,d<f&&(o=m,m=b,b=o,l=d,d=f,f=l),o=[],l=d+f,n=l;n--;)o.push(0);for(n=f;--n>=0;){for(t=0,i=d+n;i>n;)u=o[i]+b[n]*m[i-n-1]+t,o[i--]=u%pr|0,t=u/pr|0;o[i]=(o[i]+t)%pr|0}for(;!o[--l];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,It?bt(e,h.precision):e};ze.toDecimalPlaces=ze.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(da(e,0,ml),t===void 0?t=n.rounding:da(t,0,8),bt(r,e+tr(r)+1,t))};ze.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=jo(n,!0):(da(e,0,ml),t===void 0?t=i.rounding:da(t,0,8),n=bt(new i(n),e+1,t),r=jo(n,!0,e+1)),r};ze.toFixed=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?jo(i):(da(e,0,ml),t===void 0?t=o.rounding:da(t,0,8),n=bt(new o(i),e+tr(i)+1,t),r=jo(n.abs(),!1,e+tr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ze.toInteger=ze.toint=function(){var e=this,t=e.constructor;return bt(new t(e),tr(e)+1,t.rounding)};ze.toNumber=function(){return+this};ze.toPower=ze.pow=function(e){var t,r,n,i,o,l,u=this,d=u.constructor,f=12,v=+(e=new d(e));if(!e.s)return new d(ln);if(u=new d(u),!u.s){if(e.s<1)throw Error(Nn+"Infinity");return u}if(u.eq(ln))return u;if(n=d.precision,e.eq(ln))return bt(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,o=u.s,l){if((r=v<0?-v:v)<=fD){for(i=new d(ln),t=Math.ceil(n/_t+4),It=!1;r%2&&(i=i.times(u),MN(i.d,t)),r=gl(r/2),r!==0;)u=u.times(u),MN(u.d,t);return It=!0,e.s<0?new d(ln).div(i):bt(i,n)}}else if(o<0)throw Error(Nn+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,It=!1,i=e.times(qc(u,n+f)),It=!0,i=hD(i),i.s=o,i};ze.toPrecision=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?(r=tr(i),n=jo(i,r<=o.toExpNeg||r>=o.toExpPos)):(da(e,1,ml),t===void 0?t=o.rounding:da(t,0,8),i=bt(new o(i),e,t),r=tr(i),n=jo(i,e<=r||r<=o.toExpNeg,e)),n};ze.toSignificantDigits=ze.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(da(e,1,ml),t===void 0?t=n.rounding:da(t,0,8)),bt(new n(r),e,t)};ze.toString=ze.valueOf=ze.val=ze.toJSON=ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=tr(e),r=e.constructor;return jo(e,t<=r.toExpNeg||t>=r.toExpPos)};function pD(e,t){var r,n,i,o,l,u,d,f,v=e.constructor,h=v.precision;if(!e.s||!t.s)return t.s||(t=new v(e)),It?bt(t,h):t;if(d=e.d,f=t.d,l=e.e,i=t.e,d=d.slice(),o=l-i,o){for(o<0?(n=d,o=-o,u=f.length):(n=f,i=l,u=d.length),l=Math.ceil(h/_t),u=l>u?l+1:u+1,o>u&&(o=u,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(u=d.length,o=f.length,u-o<0&&(o=u,n=f,f=d,d=n),r=0;o;)r=(d[--o]=d[o]+f[o]+r)/pr|0,d[o]%=pr;for(r&&(d.unshift(r),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,It?bt(t,h):t}function da(e,t,r){if(e!==~~e||e<t||e>r)throw Error(bo+e)}function ia(e){var t,r,n,i=e.length-1,o="",l=e[0];if(i>0){for(o+=l,t=1;t<i;t++)n=e[t]+"",r=_t-n.length,r&&(o+=yi(r)),o+=n;l=e[t],n=l+"",r=_t-n.length,r&&(o+=yi(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var La=(function(){function e(n,i){var o,l=0,u=n.length;for(n=n.slice();u--;)o=n[u]*i+l,n[u]=o%pr|0,l=o/pr|0;return l&&n.unshift(l),n}function t(n,i,o,l){var u,d;if(o!=l)d=o>l?1:-1;else for(u=d=0;u<o;u++)if(n[u]!=i[u]){d=n[u]>i[u]?1:-1;break}return d}function r(n,i,o){for(var l=0;o--;)n[o]-=l,l=n[o]<i[o]?1:0,n[o]=l*pr+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,l){var u,d,f,v,h,m,b,j,x,y,w,k,S,N,A,O,_,T,E=n.constructor,D=n.s==i.s?1:-1,M=n.d,F=i.d;if(!n.s)return new E(n);if(!i.s)throw Error(Nn+"Division by zero");for(d=n.e-i.e,_=F.length,A=M.length,b=new E(D),j=b.d=[],f=0;F[f]==(M[f]||0);)++f;if(F[f]>(M[f]||0)&&--d,o==null?k=o=E.precision:l?k=o+(tr(n)-tr(i))+1:k=o,k<0)return new E(0);if(k=k/_t+2|0,f=0,_==1)for(v=0,F=F[0],k++;(f<A||v)&&k--;f++)S=v*pr+(M[f]||0),j[f]=S/F|0,v=S%F|0;else{for(v=pr/(F[0]+1)|0,v>1&&(F=e(F,v),M=e(M,v),_=F.length,A=M.length),N=_,x=M.slice(0,_),y=x.length;y<_;)x[y++]=0;T=F.slice(),T.unshift(0),O=F[0],F[1]>=pr/2&&++O;do v=0,u=t(F,x,_,y),u<0?(w=x[0],_!=y&&(w=w*pr+(x[1]||0)),v=w/O|0,v>1?(v>=pr&&(v=pr-1),h=e(F,v),m=h.length,y=x.length,u=t(h,x,m,y),u==1&&(v--,r(h,_<m?T:F,m))):(v==0&&(u=v=1),h=F.slice()),m=h.length,m<y&&h.unshift(0),r(x,h,y),u==-1&&(y=x.length,u=t(F,x,_,y),u<1&&(v++,r(x,_<y?T:F,y))),y=x.length):u===0&&(v++,x=[0]),j[f++]=v,u&&x[0]?x[y++]=M[N]||0:(x=[M[N]],y=1);while((N++<A||x[0]!==void 0)&&k--)}return j[0]||j.shift(),b.e=d,bt(b,l?o+tr(b)+1:o)}})();function hD(e,t){var r,n,i,o,l,u,d=0,f=0,v=e.constructor,h=v.precision;if(tr(e)>16)throw Error(E1+tr(e));if(!e.s)return new v(ln);for(It=!1,u=h,l=new v(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(n=Math.log(co(2,f))/Math.LN10*2+5|0,u+=n,r=i=o=new v(ln),v.precision=u;;){if(i=bt(i.times(e),u),r=r.times(++d),l=o.plus(La(i,r,u)),ia(l.d).slice(0,u)===ia(o.d).slice(0,u)){for(;f--;)o=bt(o.times(o),u);return v.precision=h,t==null?(It=!0,bt(o,h)):o}o=l}}function tr(e){for(var t=e.e*_t,r=e.d[0];r>=10;r/=10)t++;return t}function Gx(e,t,r){if(t>e.LN10.sd())throw It=!0,r&&(e.precision=r),Error(Nn+"LN10 precision limit exceeded");return bt(new e(e.LN10),t)}function yi(e){for(var t="";e--;)t+="0";return t}function qc(e,t){var r,n,i,o,l,u,d,f,v,h=1,m=10,b=e,j=b.d,x=b.constructor,y=x.precision;if(b.s<1)throw Error(Nn+(b.s?"NaN":"-Infinity"));if(b.eq(ln))return new x(0);if(t==null?(It=!1,f=y):f=t,b.eq(10))return t==null&&(It=!0),Gx(x,f);if(f+=m,x.precision=f,r=ia(j),n=r.charAt(0),o=tr(b),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(e),r=ia(b.d),n=r.charAt(0),h++;o=tr(b),n>1?(b=new x("0."+r),o++):b=new x(n+"."+r.slice(1))}else return d=Gx(x,f+2,y).times(o+""),b=qc(new x(n+"."+r.slice(1)),f-m).plus(d),x.precision=y,t==null?(It=!0,bt(b,y)):b;for(u=l=b=La(b.minus(ln),b.plus(ln),f),v=bt(b.times(b),f),i=3;;){if(l=bt(l.times(v),f),d=u.plus(La(l,new x(i),f)),ia(d.d).slice(0,f)===ia(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(Gx(x,f+2,y).times(o+""))),u=La(u,new x(h),f),x.precision=y,t==null?(It=!0,bt(u,y)):u;u=d,i+=2}}function IN(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=gl(r/_t),e.d=[],n=(r+1)%_t,r<0&&(n+=_t),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=_t;n<i;)e.d.push(+t.slice(n,n+=_t));t=t.slice(n),n=_t-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),It&&(e.e>Hf||e.e<-Hf))throw Error(E1+r)}else e.s=0,e.e=0,e.d=[0];return e}function bt(e,t,r){var n,i,o,l,u,d,f,v,h=e.d;for(l=1,o=h[0];o>=10;o/=10)l++;if(n=t-l,n<0)n+=_t,i=t,f=h[v=0];else{if(v=Math.ceil((n+1)/_t),o=h.length,v>=o)return e;for(f=o=h[v],l=1;o>=10;o/=10)l++;n%=_t,i=n-_t+l}if(r!==void 0&&(o=co(10,l-i-1),u=f/o%10|0,d=t<0||h[v+1]!==void 0||f%o,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?i>0?f/co(10,l-i):0:h[v-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return d?(o=tr(e),h.length=1,t=t-o-1,h[0]=co(10,(_t-t%_t)%_t),e.e=gl(-t/_t)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=v,o=1,v--):(h.length=v+1,o=co(10,_t-n),h[v]=i>0?(f/co(10,l-i)%co(10,i)|0)*o:0),d)for(;;)if(v==0){(h[0]+=o)==pr&&(h[0]=1,++e.e);break}else{if(h[v]+=o,h[v]!=pr)break;h[v--]=0,o=1}for(n=h.length;h[--n]===0;)h.pop();if(It&&(e.e>Hf||e.e<-Hf))throw Error(E1+tr(e));return e}function vD(e,t){var r,n,i,o,l,u,d,f,v,h,m=e.constructor,b=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),It?bt(t,b):t;if(d=e.d,h=t.d,n=t.e,f=e.e,d=d.slice(),l=f-n,l){for(v=l<0,v?(r=d,l=-l,u=h.length):(r=h,n=f,u=d.length),i=Math.max(Math.ceil(b/_t),u)+2,l>i&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for(i=d.length,u=h.length,v=i<u,v&&(u=i),i=0;i<u;i++)if(d[i]!=h[i]){v=d[i]<h[i];break}l=0}for(v&&(r=d,d=h,h=r,t.s=-t.s),u=d.length,i=h.length-u;i>0;--i)d[u++]=0;for(i=h.length;i>l;){if(d[--i]<h[i]){for(o=i;o&&d[--o]===0;)d[o]=pr-1;--d[o],d[i]+=pr}d[i]-=h[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,It?bt(t,b):t):new m(0)}function jo(e,t,r){var n,i=tr(e),o=ia(e.d),l=o.length;return t?(r&&(n=r-l)>0?o=o.charAt(0)+"."+o.slice(1)+yi(n):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+yi(-i-1)+o,r&&(n=r-l)>0&&(o+=yi(n))):i>=l?(o+=yi(i+1-l),r&&(n=r-i-1)>0&&(o=o+"."+yi(n))):((n=i+1)<l&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-l)>0&&(i+1===l&&(o+="."),o+=yi(n))),e.s<0?"-"+o:o}function MN(e,t){if(e.length>t)return e.length=t,!0}function mD(e){var t,r,n;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(bo+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return IN(l,o.toString())}else if(typeof o!="string")throw Error(bo+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,zK.test(o))IN(l,o);else throw Error(bo+o)}if(i.prototype=ze,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=mD,i.config=i.set=AK,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function AK(e){if(!e||typeof e!="object")throw Error(Nn+"Object expected");var t,r,n,i=["precision",1,ml,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(gl(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(bo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(bo+r+": "+n);return this}var T1=mD(CK);ln=new T1(1);const mt=T1;function NK(e){return EK(e)||OK(e)||_K(e)||PK()}function PK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _K(e,t){if(e){if(typeof e=="string")return w0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w0(e,t)}}function OK(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function EK(e){if(Array.isArray(e))return w0(e)}function w0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var TK=function(t){return t},gD={},yD=function(t){return t===gD},LN=function(t){return function r(){return arguments.length===0||arguments.length===1&&yD(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},DK=function e(t,r){return t===1?r:LN(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var l=i.filter(function(u){return u!==gD}).length;return l>=t?r.apply(void 0,i):e(t-l,LN(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var v=i.map(function(h){return yD(h)?d.shift():h});return r.apply(void 0,NK(v).concat(d))}))})},ah=function(t){return DK(t.length,t)},j0=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},RK=ah(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),IK=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return TK;var i=r.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce(function(u,d){return d(u)},o.apply(void 0,arguments))}},k0=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},xD=function(t){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r&&o.every(function(u,d){return u===r[d]})||(r=o,n=t.apply(void 0,o)),n}};function MK(e){var t;return e===0?t=1:t=Math.floor(new mt(e).abs().log(10).toNumber())+1,t}function LK(e,t,r){for(var n=new mt(e),i=0,o=[];n.lt(t)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var BK=ah(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),FK=ah(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),WK=ah(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const ih={rangeStep:LK,getDigitCount:MK,interpolateNumber:BK,uninterpolateNumber:FK,uninterpolateTruncation:WK};function C0(e){return HK(e)||UK(e)||bD(e)||$K()}function $K(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UK(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function HK(e){if(Array.isArray(e))return z0(e)}function Zc(e,t){return VK(e)||GK(e,t)||bD(e,t)||KK()}function KK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bD(e,t){if(e){if(typeof e=="string")return z0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z0(e,t)}}function z0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GK(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,o=void 0;try{for(var l=e[Symbol.iterator](),u;!(n=(u=l.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(d){i=!0,o=d}finally{try{!n&&l.return!=null&&l.return()}finally{if(i)throw o}}return r}}function VK(e){if(Array.isArray(e))return e}function SD(e){var t=Zc(e,2),r=t[0],n=t[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function wD(e,t,r){if(e.lte(0))return new mt(0);var n=ih.getDigitCount(e.toNumber()),i=new mt(10).pow(n),o=e.div(i),l=n!==1?.05:.1,u=new mt(Math.ceil(o.div(l).toNumber())).add(r).mul(l),d=u.mul(i);return t?d:new mt(Math.ceil(d))}function qK(e,t,r){var n=1,i=new mt(e);if(!i.isint()&&r){var o=Math.abs(e);o<1?(n=new mt(10).pow(ih.getDigitCount(e)-1),i=new mt(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new mt(Math.floor(e)))}else e===0?i=new mt(Math.floor((t-1)/2)):r||(i=new mt(Math.floor(e)));var l=Math.floor((t-1)/2),u=IK(RK(function(d){return i.add(new mt(d-l).mul(n)).toNumber()}),j0);return u(0,t)}function jD(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new mt(0),tickMin:new mt(0),tickMax:new mt(0)};var o=wD(new mt(t).sub(e).div(r-1),n,i),l;e<=0&&t>=0?l=new mt(0):(l=new mt(e).add(t).div(2),l=l.sub(new mt(l).mod(o)));var u=Math.ceil(l.sub(e).div(o).toNumber()),d=Math.ceil(new mt(t).sub(l).div(o).toNumber()),f=u+d+1;return f>r?jD(e,t,r,n,i+1):(f<r&&(d=t>0?d+(r-f):d,u=t>0?u:u+(r-f)),{step:o,tickMin:l.sub(new mt(u).mul(o)),tickMax:l.add(new mt(d).mul(o))})}function ZK(e){var t=Zc(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),u=SD([r,n]),d=Zc(u,2),f=d[0],v=d[1];if(f===-1/0||v===1/0){var h=v===1/0?[f].concat(C0(j0(0,i-1).map(function(){return 1/0}))):[].concat(C0(j0(0,i-1).map(function(){return-1/0})),[v]);return r>n?k0(h):h}if(f===v)return qK(f,i,o);var m=jD(f,v,l,o),b=m.step,j=m.tickMin,x=m.tickMax,y=ih.rangeStep(j,x.add(new mt(.1).mul(b)),b);return r>n?k0(y):y}function XK(e,t){var r=Zc(e,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=SD([n,i]),u=Zc(l,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[n,i];if(d===f)return[d];var v=Math.max(t,2),h=wD(new mt(f).sub(d).div(v-1),o,0),m=[].concat(C0(ih.rangeStep(new mt(d),new mt(f).sub(new mt(.99).mul(h)),h)),[f]);return n>i?k0(m):m}var YK=xD(ZK),QK=xD(XK),JK="Invariant failed";function ko(e,t){throw new Error(JK)}var eG=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function Kf(){return Kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kf.apply(this,arguments)}function tG(e,t){return iG(e)||aG(e,t)||nG(e,t)||rG()}function rG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nG(e,t){if(e){if(typeof e=="string")return BN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BN(e,t)}}function BN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function iG(e){if(Array.isArray(e))return e}function oG(e,t){if(e==null)return{};var r=sG(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zD(n.key),n)}}function uG(e,t,r){return t&&cG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dG(e,t,r){return t=Gf(t),fG(e,kD()?Reflect.construct(t,r||[],Gf(e).constructor):t.apply(e,r))}function fG(e,t){if(t&&(Fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pG(e)}function pG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kD=function(){return!!e})()}function Gf(e){return Gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gf(e)}function hG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A0(e,t)}function A0(e,t){return A0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},A0(e,t)}function CD(e,t,r){return t=zD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zD(e){var t=vG(e,"string");return Fs(t)=="symbol"?t:t+""}function vG(e,t){if(Fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yl=(function(e){function t(){return lG(this,t),dG(this,t,arguments)}return hG(t,e),uG(t,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,l=n.width,u=n.dataKey,d=n.data,f=n.dataPointFormatter,v=n.xAxis,h=n.yAxis,m=oG(n,eG),b=Oe(m,!1);this.props.direction==="x"&&v.type!=="number"&&ko();var j=d.map(function(x){var y=f(x,u),w=y.x,k=y.y,S=y.value,N=y.errorVal;if(!N)return null;var A=[],O,_;if(Array.isArray(N)){var T=tG(N,2);O=T[0],_=T[1]}else O=_=N;if(o==="vertical"){var E=v.scale,D=k+i,M=D+l,F=D-l,L=E(S-O),V=E(S+_);A.push({x1:V,y1:M,x2:V,y2:F}),A.push({x1:L,y1:D,x2:V,y2:D}),A.push({x1:L,y1:M,x2:L,y2:F})}else if(o==="horizontal"){var H=h.scale,Z=w+i,Y=Z-l,U=Z+l,B=H(S-O),W=H(S+_);A.push({x1:Y,y1:W,x2:U,y2:W}),A.push({x1:Z,y1:B,x2:Z,y2:W}),A.push({x1:Y,y1:B,x2:U,y2:B})}return K.createElement(Ke,Kf({className:"recharts-errorBar",key:"bar-".concat(A.map(function($){return"".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))},b),A.map(function($){return K.createElement("line",Kf({},$,{key:"line-".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))}))});return K.createElement(Ke,{className:"recharts-errorBars"},j)}}])})(K.Component);CD(yl,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});CD(yl,"displayName","ErrorBar");function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function FN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function to(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(r),!0).forEach(function(n){mG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mG(e,t,r){return t=gG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gG(e){var t=yG(e,"string");return Xc(t)=="symbol"?t:t+""}function yG(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AD=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,l=on(r,Ct);if(!l)return null;var u=Ct.defaultProps,d=u!==void 0?to(to({},u),l.props):{},f;return l.props&&l.props.payload?f=l.props&&l.props.payload:o==="children"?f=(n||[]).reduce(function(v,h){var m=h.item,b=h.props,j=b.sectors||b.data||[];return v.concat(j.map(function(x){return{type:l.props.iconType||m.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):f=(n||[]).map(function(v){var h=v.item,m=h.type.defaultProps,b=m!==void 0?to(to({},m),h.props):{},j=b.dataKey,x=b.name,y=b.legendType,w=b.hide;return{inactive:w,dataKey:j,type:d.iconType||y||"square",color:D1(h),value:x||j,payload:b}}),to(to(to({},d),Ct.getWithHeight(l,i)),{},{payload:f,item:l})};function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function WN(e){return wG(e)||SG(e)||bG(e)||xG()}function xG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bG(e,t){if(e){if(typeof e=="string")return N0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N0(e,t)}}function SG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wG(e){if(Array.isArray(e))return N0(e)}function N0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(n){Ns(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ns(e,t,r){return t=jG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jG(e){var t=kG(e,"string");return Yc(t)=="symbol"?t:t+""}function kG(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ot(e,t,r){return Le(e)||Le(t)?r:sr(t)?fn(e,t,r):Fe(t)?t(e):r}function Pc(e,t,r,n){var i=wK(e,function(u){return Ot(u,t)});if(r==="number"){var o=i.filter(function(u){return ge(u)||parseFloat(u)});return o.length?[nh(o),bi(o)]:[1/0,-1/0]}var l=n?i.filter(function(u){return!Le(u)}):i;return l.map(function(u){return sr(u)||u instanceof Date?u:""})}var CG=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,l=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var d=o.range,f=0;f<u;f++){var v=f>0?i[f-1].coordinate:i[u-1].coordinate,h=i[f].coordinate,m=f>=u-1?i[0].coordinate:i[f+1].coordinate,b=void 0;if(Ir(h-v)!==Ir(m-h)){var j=[];if(Ir(m-h)===Ir(d[1]-d[0])){b=m;var x=h+d[1]-d[0];j[0]=Math.min(x,(x+v)/2),j[1]=Math.max(x,(x+v)/2)}else{b=v;var y=m+d[1]-d[0];j[0]=Math.min(h,(y+h)/2),j[1]=Math.max(h,(y+h)/2)}var w=[Math.min(h,(b+h)/2),Math.max(h,(b+h)/2)];if(t>w[0]&&t<=w[1]||t>=j[0]&&t<=j[1]){l=i[f].index;break}}else{var k=Math.min(v,m),S=Math.max(v,m);if(t>(k+h)/2&&t<=(S+h)/2){l=i[f].index;break}}}else for(var N=0;N<u;N++)if(N===0&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<u-1&&t>(n[N].coordinate+n[N-1].coordinate)/2&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N===u-1&&t>(n[N].coordinate+n[N-1].coordinate)/2){l=n[N].index;break}return l},D1=function(t){var r,n=t,i=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ht(Ht({},t.type.defaultProps),t.props):t.props,l=o.stroke,u=o.fill,d;switch(i){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},zG=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var l={},u=Object.keys(o),d=0,f=u.length;d<f;d++)for(var v=o[u[d]].stackGroups,h=Object.keys(v),m=0,b=h.length;m<b;m++){var j=v[h[m]],x=j.items,y=j.cateAxisId,w=x.filter(function(_){return Ma(_.type).indexOf("Bar")>=0});if(w&&w.length){var k=w[0].type.defaultProps,S=k!==void 0?Ht(Ht({},k),w[0].props):w[0].props,N=S.barSize,A=S[y];l[A]||(l[A]=[]);var O=Le(N)?r:N;l[A].push({item:w[0],stackList:w.slice(1),barSize:Le(O)?void 0:Mr(O,n,0)})}}return l},AG=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,o=t.sizeList,l=o===void 0?[]:o,u=t.maxBarSize,d=l.length;if(d<1)return null;var f=Mr(r,i,0,!0),v,h=[];if(l[0].barSize===+l[0].barSize){var m=!1,b=i/d,j=l.reduce(function(N,A){return N+A.barSize||0},0);j+=(d-1)*f,j>=i&&(j-=(d-1)*f,f=0),j>=i&&b>0&&(m=!0,b*=.9,j=d*b);var x=(i-j)/2>>0,y={offset:x-f,size:0};v=l.reduce(function(N,A){var O={item:A.item,position:{offset:y.offset+y.size+f,size:m?b:A.barSize}},_=[].concat(WN(N),[O]);return y=_[_.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(T){_.push({item:T,position:y})}),_},h)}else{var w=Mr(n,i,0,!0);i-2*w-(d-1)*f<=0&&(f=0);var k=(i-2*w-(d-1)*f)/d;k>1&&(k>>=0);var S=u===+u?Math.min(k,u):k;v=l.reduce(function(N,A,O){var _=[].concat(WN(N),[{item:A.item,position:{offset:w+(k+f)*O+(k-S)/2,size:S}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(T){_.push({item:T,position:_[_.length-1].position})}),_},h)}return v},NG=function(t,r,n,i){var o=n.children,l=n.width,u=n.margin,d=l-(u.left||0)-(u.right||0),f=AD({children:o,legendWidth:d});if(f){var v=i||{},h=v.width,m=v.height,b=f.align,j=f.verticalAlign,x=f.layout;if((x==="vertical"||x==="horizontal"&&j==="middle")&&b!=="center"&&ge(t[b]))return Ht(Ht({},t),{},Ns({},b,t[b]+(h||0)));if((x==="horizontal"||x==="vertical"&&b==="center")&&j!=="middle"&&ge(t[j]))return Ht(Ht({},t),{},Ns({},j,t[j]+(m||0)))}return t},PG=function(t,r,n){return Le(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},ND=function(t,r,n,i,o){var l=r.props.children,u=Br(l,yl).filter(function(f){return PG(i,o,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return t.reduce(function(f,v){var h=Ot(v,n);if(Le(h))return f;var m=Array.isArray(h)?[nh(h),bi(h)]:[h,h],b=d.reduce(function(j,x){var y=Ot(v,x,0),w=m[0]-Math.abs(Array.isArray(y)?y[0]:y),k=m[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(w,j[0]),Math.max(k,j[1])]},[1/0,-1/0]);return[Math.min(b[0],f[0]),Math.max(b[1],f[1])]},[1/0,-1/0])}return null},_G=function(t,r,n,i,o){var l=r.map(function(u){return ND(t,u,n,o,i)}).filter(function(u){return!Le(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},PD=function(t,r,n,i,o){var l=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&ND(t,d,f,i)||Pc(t,f,n,o)});if(n==="number")return l.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,f){for(var v=0,h=f.length;v<h;v++)u[f[v]]||(u[f[v]]=!0,d.push(f[v]));return d},[])},_D=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},OD=function(t,r,n,i){if(i)return t.map(function(d){return d.coordinate});var o,l,u=t.map(function(d){return d.coordinate===r&&(o=!0),d.coordinate===n&&(l=!0),d.coordinate});return o||u.push(r),l||u.push(n),u},Ia=function(t,r,n){if(!t)return null;var i=t.scale,o=t.duplicateDomain,l=t.type,u=t.range,d=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&l==="category"&&i.bandwidth?i.bandwidth()/d:0;if(f=t.axisType==="angleAxis"&&u?.length>=2?Ir(u[0]-u[1])*2*f:f,r&&(t.ticks||t.niceTicks)){var v=(t.ticks||t.niceTicks).map(function(h){var m=o?o.indexOf(h):h;return{coordinate:i(m)+f,value:h,offset:f}});return v.filter(function(h){return!fl(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,m){return{coordinate:i(h)+f,value:h,index:m,offset:f}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(h){return{coordinate:i(h)+f,value:h,offset:f}}):i.domain().map(function(h,m){return{coordinate:i(h)+f,value:o?o[h]:h,index:m,offset:f}})},Vx=new WeakMap,Xd=function(t,r){if(typeof r!="function")return t;Vx.has(t)||Vx.set(t,new WeakMap);var n=Vx.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},ED=function(t,r,n){var i=t.scale,o=t.type,l=t.layout,u=t.axisType;if(i==="auto")return l==="radial"&&u==="radiusAxis"?{scale:Uc(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:Ff(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Nc(),realScaleType:"point"}:o==="category"?{scale:Uc(),realScaleType:"band"}:{scale:Ff(),realScaleType:"linear"};if(So(i)){var d="scale".concat($p(i));return{scale:(AN[d]||Nc)(),realScaleType:AN[d]?d:"point"}}return Fe(i)?{scale:i}:{scale:Nc(),realScaleType:"point"}},UN=1e-4,TD=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),o=Math.min(i[0],i[1])-UN,l=Math.max(i[0],i[1])+UN,u=t(r[0]),d=t(r[n-1]);(u<o||u>l||d<o||d>l)&&t.domain([r[0],r[n-1]])}},OG=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},EG=function(t,r){if(!r||r.length!==2||!ge(r[0])||!ge(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!ge(t[0])||t[0]<n)&&(o[0]=n),(!ge(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},TG=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var o=0,l=0,u=0;u<r;++u){var d=fl(t[u][n][1])?t[u][n][0]:t[u][n][1];d>=0?(t[u][n][0]=o,t[u][n][1]=o+d,o=t[u][n][1]):(t[u][n][0]=l,t[u][n][1]=l+d,l=t[u][n][1])}},DG=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var o=0,l=0;l<r;++l){var u=fl(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=o,t[l][n][1]=o+u,o=t[l][n][1]):(t[l][n][0]=0,t[l][n][1]=0)}},RG={sign:TG,expand:wW,none:Es,silhouette:jW,wiggle:kW,positive:DG},IG=function(t,r,n){var i=r.map(function(u){return u.props.dataKey}),o=RG[n],l=SW().keys(i).value(function(u,d){return+Ot(u,d,0)}).order(a0).offset(o);return l(t)},MG=function(t,r,n,i,o,l){if(!t)return null;var u=l?r.reverse():r,d={},f=u.reduce(function(h,m){var b,j=(b=m.type)!==null&&b!==void 0&&b.defaultProps?Ht(Ht({},m.type.defaultProps),m.props):m.props,x=j.stackId,y=j.hide;if(y)return h;var w=j[n],k=h[w]||{hasStack:!1,stackGroups:{}};if(sr(x)){var S=k.stackGroups[x]||{numericAxisId:n,cateAxisId:i,items:[]};S.items.push(m),k.hasStack=!0,k.stackGroups[x]=S}else k.stackGroups[Ri("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[m]};return Ht(Ht({},h),{},Ns({},w,k))},d),v={};return Object.keys(f).reduce(function(h,m){var b=f[m];if(b.hasStack){var j={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(x,y){var w=b.stackGroups[y];return Ht(Ht({},x),{},Ns({},y,{numericAxisId:n,cateAxisId:i,items:w.items,stackedData:IG(t,w.items,o)}))},j)}return Ht(Ht({},h),{},Ns({},m,b))},v)},DD=function(t,r){var n=r.realScaleType,i=r.type,o=r.tickCount,l=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(o&&i==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var f=t.domain();if(!f.length)return null;var v=YK(f,o,u);return t.domain([nh(v),bi(v)]),{niceTicks:v}}if(o&&i==="number"){var h=t.domain(),m=QK(h,o,u);return{niceTicks:m}}return null};function Ws(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,o=e.index,l=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Le(i[t.dataKey])){var u=wf(r,"value",i[t.dataKey]);if(u)return u.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var d=Ot(i,Le(l)?t.dataKey:l);return Le(d)?null:t.scale(d)}var HN=function(t){var r=t.axis,n=t.ticks,i=t.offset,o=t.bandSize,l=t.entry,u=t.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var d=Ot(l,r.dataKey,r.domain[u]);return Le(d)?null:r.scale(d)-o/2+i},LG=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},BG=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ht(Ht({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(sr(o)){var l=r[o];if(l){var u=l.items.indexOf(t);return u>=0?l.stackedData[u]:null}}return null},FG=function(t){return t.reduce(function(r,n){return[nh(n.concat([r[0]]).filter(ge)),bi(n.concat([r[1]]).filter(ge))]},[1/0,-1/0])},RD=function(t,r,n){return Object.keys(t).reduce(function(i,o){var l=t[o],u=l.stackedData,d=u.reduce(function(f,v){var h=FG(v.slice(r,n+1));return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},KN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,P0=function(t,r,n){if(Fe(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(ge(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(KN.test(t[0])){var o=+KN.exec(t[0])[1];i[0]=r[0]-o}else Fe(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(ge(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(GN.test(t[1])){var l=+GN.exec(t[1])[1];i[1]=r[1]+l}else Fe(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Vf=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var o=l1(r,function(h){return h.coordinate}),l=1/0,u=1,d=o.length;u<d;u++){var f=o[u],v=o[u-1];l=Math.min((f.coordinate||0)-(v.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0},VN=function(t,r,n){return!t||!t.length||Pi(t,fn(n,"type.defaultProps.domain"))?r:t},ID=function(t,r){var n=t.type.defaultProps?Ht(Ht({},t.type.defaultProps),t.props):t.props,i=n.dataKey,o=n.name,l=n.unit,u=n.formatter,d=n.tooltipType,f=n.chartType,v=n.hide;return Ht(Ht({},Oe(t,!1)),{},{dataKey:i,unit:l,formatter:u,name:o||i,color:D1(t),value:Ot(r,i),type:d,payload:r,chartType:f,hide:v})};function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function qN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(r),!0).forEach(function(n){MD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MD(e,t,r){return t=WG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WG(e){var t=$G(e,"string");return Qc(t)=="symbol"?t:t+""}function $G(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UG(e,t){return VG(e)||GG(e,t)||KG(e,t)||HG()}function HG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KG(e,t){if(e){if(typeof e=="string")return ZN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZN(e,t)}}function ZN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function VG(e){if(Array.isArray(e))return e}var qf=Math.PI/180,qG=function(t){return t*180/Math.PI},zt=function(t,r,n,i){return{x:t+Math.cos(-qf*i)*n,y:r+Math.sin(-qf*i)*n}},LD=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},ZG=function(t,r,n,i,o){var l=t.width,u=t.height,d=t.startAngle,f=t.endAngle,v=Mr(t.cx,l,l/2),h=Mr(t.cy,u,u/2),m=LD(l,u,n),b=Mr(t.innerRadius,m,0),j=Mr(t.outerRadius,m,m*.8),x=Object.keys(r);return x.reduce(function(y,w){var k=r[w],S=k.domain,N=k.reversed,A;if(Le(k.range))i==="angleAxis"?A=[d,f]:i==="radiusAxis"&&(A=[b,j]),N&&(A=[A[1],A[0]]);else{A=k.range;var O=A,_=UG(O,2);d=_[0],f=_[1]}var T=ED(k,o),E=T.realScaleType,D=T.scale;D.domain(S).range(A),TD(D);var M=DD(D,Ea(Ea({},k),{},{realScaleType:E})),F=Ea(Ea(Ea({},k),M),{},{range:A,radius:j,realScaleType:E,scale:D,cx:v,cy:h,innerRadius:b,outerRadius:j,startAngle:d,endAngle:f});return Ea(Ea({},y),{},MD({},w,F))},{})},XG=function(t,r){var n=t.x,i=t.y,o=r.x,l=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-l,2))},YG=function(t,r){var n=t.x,i=t.y,o=r.cx,l=r.cy,u=XG({x:n,y:i},{x:o,y:l});if(u<=0)return{radius:u};var d=(n-o)/u,f=Math.acos(d);return i>l&&(f=2*Math.PI-f),{radius:u,angle:qG(f),angleInRadian:f}},QG=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),l=Math.min(i,o);return{startAngle:r-l*360,endAngle:n-l*360}},JG=function(t,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),l=Math.floor(i/360),u=Math.min(o,l);return t+u*360},XN=function(t,r){var n=t.x,i=t.y,o=YG({x:n,y:i},r),l=o.radius,u=o.angle,d=r.innerRadius,f=r.outerRadius;if(l<d||l>f)return!1;if(l===0)return!0;var v=QG(r),h=v.startAngle,m=v.endAngle,b=u,j;if(h<=m){for(;b>m;)b-=360;for(;b<h;)b+=360;j=b>=h&&b<=m}else{for(;b>h;)b-=360;for(;b<m;)b+=360;j=b>=m&&b<=h}return j?Ea(Ea({},r),{},{radius:l,angle:JG(b,r)}):null},BD=function(t){return!z.isValidElement(t)&&!Fe(t)&&typeof t!="boolean"?t.className:""};function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}var e9=["offset"];function t9(e){return i9(e)||a9(e)||n9(e)||r9()}function r9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n9(e,t){if(e){if(typeof e=="string")return _0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _0(e,t)}}function a9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function i9(e){if(Array.isArray(e))return _0(e)}function _0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o9(e,t){if(e==null)return{};var r=s9(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YN(Object(r),!0).forEach(function(n){l9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l9(e,t,r){return t=c9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c9(e){var t=u9(e,"string");return Jc(t)=="symbol"?t:t+""}function u9(e,t){if(Jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eu(){return eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eu.apply(this,arguments)}var d9=function(t){var r=t.value,n=t.formatter,i=Le(t.children)?r:t.children;return Fe(n)?n(i):i},f9=function(t,r){var n=Ir(r-t),i=Math.min(Math.abs(r-t),360);return n*i},p9=function(t,r,n){var i=t.position,o=t.viewBox,l=t.offset,u=t.className,d=o,f=d.cx,v=d.cy,h=d.innerRadius,m=d.outerRadius,b=d.startAngle,j=d.endAngle,x=d.clockWise,y=(h+m)/2,w=f9(b,j),k=w>=0?1:-1,S,N;i==="insideStart"?(S=b+k*l,N=x):i==="insideEnd"?(S=j-k*l,N=!x):i==="end"&&(S=j+k*l,N=x),N=w<=0?N:!N;var A=zt(f,v,y,S),O=zt(f,v,y,S+(N?1:-1)*359),_="M".concat(A.x,",").concat(A.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(N?0:1,`,
    `).concat(O.x,",").concat(O.y),T=Le(t.id)?Ri("recharts-radial-line-"):t.id;return K.createElement("text",eu({},n,{dominantBaseline:"central",className:Ue("recharts-radial-bar-label",u)}),K.createElement("defs",null,K.createElement("path",{id:T,d:_})),K.createElement("textPath",{xlinkHref:"#".concat(T)},r))},h9=function(t){var r=t.viewBox,n=t.offset,i=t.position,o=r,l=o.cx,u=o.cy,d=o.innerRadius,f=o.outerRadius,v=o.startAngle,h=o.endAngle,m=(v+h)/2;if(i==="outside"){var b=zt(l,u,f+n,m),j=b.x,x=b.y;return{x:j,y:x,textAnchor:j>=l?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var y=(d+f)/2,w=zt(l,u,y,m),k=w.x,S=w.y;return{x:k,y:S,textAnchor:"middle",verticalAnchor:"middle"}},v9=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,o=t.position,l=r,u=l.x,d=l.y,f=l.width,v=l.height,h=v>=0?1:-1,m=h*i,b=h>0?"end":"start",j=h>0?"start":"end",x=f>=0?1:-1,y=x*i,w=x>0?"end":"start",k=x>0?"start":"end";if(o==="top"){var S={x:u+f/2,y:d-h*i,textAnchor:"middle",verticalAnchor:b};return or(or({},S),n?{height:Math.max(d-n.y,0),width:f}:{})}if(o==="bottom"){var N={x:u+f/2,y:d+v+m,textAnchor:"middle",verticalAnchor:j};return or(or({},N),n?{height:Math.max(n.y+n.height-(d+v),0),width:f}:{})}if(o==="left"){var A={x:u-y,y:d+v/2,textAnchor:w,verticalAnchor:"middle"};return or(or({},A),n?{width:Math.max(A.x-n.x,0),height:v}:{})}if(o==="right"){var O={x:u+f+y,y:d+v/2,textAnchor:k,verticalAnchor:"middle"};return or(or({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:v}:{})}var _=n?{width:f,height:v}:{};return o==="insideLeft"?or({x:u+y,y:d+v/2,textAnchor:k,verticalAnchor:"middle"},_):o==="insideRight"?or({x:u+f-y,y:d+v/2,textAnchor:w,verticalAnchor:"middle"},_):o==="insideTop"?or({x:u+f/2,y:d+m,textAnchor:"middle",verticalAnchor:j},_):o==="insideBottom"?or({x:u+f/2,y:d+v-m,textAnchor:"middle",verticalAnchor:b},_):o==="insideTopLeft"?or({x:u+y,y:d+m,textAnchor:k,verticalAnchor:j},_):o==="insideTopRight"?or({x:u+f-y,y:d+m,textAnchor:w,verticalAnchor:j},_):o==="insideBottomLeft"?or({x:u+y,y:d+v-m,textAnchor:k,verticalAnchor:b},_):o==="insideBottomRight"?or({x:u+f-y,y:d+v-m,textAnchor:w,verticalAnchor:b},_):dl(o)&&(ge(o.x)||fo(o.x))&&(ge(o.y)||fo(o.y))?or({x:u+Mr(o.x,f),y:d+Mr(o.y,v),textAnchor:"end",verticalAnchor:"end"},_):or({x:u+f/2,y:d+v/2,textAnchor:"middle",verticalAnchor:"middle"},_)},m9=function(t){return"cx"in t&&ge(t.cx)};function hr(e){var t=e.offset,r=t===void 0?5:t,n=o9(e,e9),i=or({offset:r},n),o=i.viewBox,l=i.position,u=i.value,d=i.children,f=i.content,v=i.className,h=v===void 0?"":v,m=i.textBreakAll;if(!o||Le(u)&&Le(d)&&!z.isValidElement(f)&&!Fe(f))return null;if(z.isValidElement(f))return z.cloneElement(f,i);var b;if(Fe(f)){if(b=z.createElement(f,i),z.isValidElement(b))return b}else b=d9(i);var j=m9(o),x=Oe(i,!0);if(j&&(l==="insideStart"||l==="insideEnd"||l==="end"))return p9(i,b,x);var y=j?h9(i):v9(i);return K.createElement(wo,eu({className:Ue("recharts-label",h)},x,y,{breakAll:m}),b)}hr.displayName="Label";var FD=function(t){var r=t.cx,n=t.cy,i=t.angle,o=t.startAngle,l=t.endAngle,u=t.r,d=t.radius,f=t.innerRadius,v=t.outerRadius,h=t.x,m=t.y,b=t.top,j=t.left,x=t.width,y=t.height,w=t.clockWise,k=t.labelViewBox;if(k)return k;if(ge(x)&&ge(y)){if(ge(h)&&ge(m))return{x:h,y:m,width:x,height:y};if(ge(b)&&ge(j))return{x:b,y:j,width:x,height:y}}return ge(h)&&ge(m)?{x:h,y:m,width:0,height:0}:ge(r)&&ge(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:l||i||0,innerRadius:f||0,outerRadius:v||d||u||0,clockWise:w}:t.viewBox?t.viewBox:{}},g9=function(t,r){return t?t===!0?K.createElement(hr,{key:"label-implicit",viewBox:r}):sr(t)?K.createElement(hr,{key:"label-implicit",viewBox:r,value:t}):z.isValidElement(t)?t.type===hr?z.cloneElement(t,{key:"label-implicit",viewBox:r}):K.createElement(hr,{key:"label-implicit",content:t,viewBox:r}):Fe(t)?K.createElement(hr,{key:"label-implicit",content:t,viewBox:r}):dl(t)?K.createElement(hr,eu({viewBox:r},t,{key:"label-implicit"})):null:null},y9=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,o=FD(t),l=Br(i,hr).map(function(d,f){return z.cloneElement(d,{viewBox:r||o,key:"label-".concat(f)})});if(!n)return l;var u=g9(t.label,r||o);return[u].concat(t9(l))};hr.parseViewBox=FD;hr.renderCallByParent=y9;var qx,QN;function x9(){if(QN)return qx;QN=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return qx=e,qx}var b9=x9();const S9=pt(b9);function tu(e){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}var w9=["valueAccessor"],j9=["data","dataKey","clockWise","id","textBreakAll"];function k9(e){return N9(e)||A9(e)||z9(e)||C9()}function C9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z9(e,t){if(e){if(typeof e=="string")return O0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O0(e,t)}}function A9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function N9(e){if(Array.isArray(e))return O0(e)}function O0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zf.apply(this,arguments)}function JN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JN(Object(r),!0).forEach(function(n){P9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P9(e,t,r){return t=_9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _9(e){var t=O9(e,"string");return tu(t)=="symbol"?t:t+""}function O9(e,t){if(tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tP(e,t){if(e==null)return{};var r=E9(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var T9=function(t){return Array.isArray(t.value)?S9(t.value):t.value};function Gn(e){var t=e.valueAccessor,r=t===void 0?T9:t,n=tP(e,w9),i=n.data,o=n.dataKey,l=n.clockWise,u=n.id,d=n.textBreakAll,f=tP(n,j9);return!i||!i.length?null:K.createElement(Ke,{className:"recharts-label-list"},i.map(function(v,h){var m=Le(o)?r(v,h):Ot(v&&v.payload,o),b=Le(u)?{}:{id:"".concat(u,"-").concat(h)};return K.createElement(hr,Zf({},Oe(v,!0),f,b,{parentViewBox:v.parentViewBox,value:m,textBreakAll:d,viewBox:hr.parseViewBox(Le(l)?v:eP(eP({},v),{},{clockWise:l})),key:"label-".concat(h),index:h}))}))}Gn.displayName="LabelList";function D9(e,t){return e?e===!0?K.createElement(Gn,{key:"labelList-implicit",data:t}):K.isValidElement(e)||Fe(e)?K.createElement(Gn,{key:"labelList-implicit",data:t,content:e}):dl(e)?K.createElement(Gn,Zf({data:t},e,{key:"labelList-implicit"})):null:null}function R9(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Br(n,Gn).map(function(l,u){return z.cloneElement(l,{data:t,key:"labelList-".concat(u)})});if(!r)return i;var o=D9(e.label,t);return[o].concat(k9(i))}Gn.renderCallByParent=R9;function ru(e){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E0.apply(this,arguments)}function rP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rP(Object(r),!0).forEach(function(n){I9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I9(e,t,r){return t=M9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M9(e){var t=L9(e,"string");return ru(t)=="symbol"?t:t+""}function L9(e,t){if(ru(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B9=function(t,r){var n=Ir(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Yd=function(t){var r=t.cx,n=t.cy,i=t.radius,o=t.angle,l=t.sign,u=t.isExternal,d=t.cornerRadius,f=t.cornerIsExternal,v=d*(u?1:-1)+i,h=Math.asin(d/v)/qf,m=f?o:o+l*h,b=zt(r,n,v,m),j=zt(r,n,i,m),x=f?o-l*h:o,y=zt(r,n,v*Math.cos(h*qf),x);return{center:b,circleTangency:j,lineTangency:y,theta:h}},WD=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,o=t.outerRadius,l=t.startAngle,u=t.endAngle,d=B9(l,u),f=l+d,v=zt(r,n,o,l),h=zt(r,n,o,f),m="M ".concat(v.x,",").concat(v.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var b=zt(r,n,i,l),j=zt(r,n,i,f);m+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},F9=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,o=t.outerRadius,l=t.cornerRadius,u=t.forceCornerRadius,d=t.cornerIsExternal,f=t.startAngle,v=t.endAngle,h=Ir(v-f),m=Yd({cx:r,cy:n,radius:o,angle:f,sign:h,cornerRadius:l,cornerIsExternal:d}),b=m.circleTangency,j=m.lineTangency,x=m.theta,y=Yd({cx:r,cy:n,radius:o,angle:v,sign:-h,cornerRadius:l,cornerIsExternal:d}),w=y.circleTangency,k=y.lineTangency,S=y.theta,N=d?Math.abs(f-v):Math.abs(f-v)-x-S;if(N<0)return u?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):WD({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:f,endAngle:v});var A="M ".concat(j.x,",").concat(j.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
  `);if(i>0){var O=Yd({cx:r,cy:n,radius:i,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),_=O.circleTangency,T=O.lineTangency,E=O.theta,D=Yd({cx:r,cy:n,radius:i,angle:v,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),M=D.circleTangency,F=D.lineTangency,L=D.theta,V=d?Math.abs(f-v):Math.abs(f-v)-E-L;if(V<0&&l===0)return"".concat(A,"L").concat(r,",").concat(n,"Z");A+="L".concat(F.x,",").concat(F.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(V>180),",").concat(+(h>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,"Z")}else A+="L".concat(r,",").concat(n,"Z");return A},W9={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$D=function(t){var r=nP(nP({},W9),t),n=r.cx,i=r.cy,o=r.innerRadius,l=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,v=r.startAngle,h=r.endAngle,m=r.className;if(l<o||v===h)return null;var b=Ue("recharts-sector",m),j=l-o,x=Mr(u,j,0,!0),y;return x>0&&Math.abs(v-h)<360?y=F9({cx:n,cy:i,innerRadius:o,outerRadius:l,cornerRadius:Math.min(x,j/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:v,endAngle:h}):y=WD({cx:n,cy:i,innerRadius:o,outerRadius:l,startAngle:v,endAngle:h}),K.createElement("path",E0({},Oe(r,!0),{className:b,d:y,role:"img"}))};function nu(e){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T0.apply(this,arguments)}function aP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(r),!0).forEach(function(n){$9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $9(e,t,r){return t=U9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U9(e){var t=H9(e,"string");return nu(t)=="symbol"?t:t+""}function H9(e,t){if(nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oP={curveBasisClosed:uW,curveBasisOpen:dW,curveBasis:cW,curveBumpX:ZF,curveBumpY:XF,curveLinearClosed:fW,curveLinear:Hp,curveMonotoneX:pW,curveMonotoneY:hW,curveNatural:vW,curveStep:mW,curveStepAfter:yW,curveStepBefore:gW},Qd=function(t){return t.x===+t.x&&t.y===+t.y},hc=function(t){return t.x},vc=function(t){return t.y},K9=function(t,r){if(Fe(t))return t;var n="curve".concat($p(t));return(n==="curveMonotone"||n==="curveBump")&&r?oP["".concat(n).concat(r==="vertical"?"Y":"X")]:oP[n]||Hp},G9=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,o=i===void 0?[]:i,l=t.baseLine,u=t.layout,d=t.connectNulls,f=d===void 0?!1:d,v=K9(n,u),h=f?o.filter(function(x){return Qd(x)}):o,m;if(Array.isArray(l)){var b=f?l.filter(function(x){return Qd(x)}):l,j=h.map(function(x,y){return iP(iP({},x),{},{base:b[y]})});return u==="vertical"?m=Ud().y(vc).x1(hc).x0(function(x){return x.base.x}):m=Ud().x(hc).y1(vc).y0(function(x){return x.base.y}),m.defined(Qd).curve(v),m(j)}return u==="vertical"&&ge(l)?m=Ud().y(vc).x1(hc).x0(l):ge(l)?m=Ud().x(hc).y1(vc).y0(l):m=FE().x(hc).y(vc),m.defined(Qd).curve(v),m(h)},Ci=function(t){var r=t.className,n=t.points,i=t.path,o=t.pathRef;if((!n||!n.length)&&!i)return null;var l=n&&n.length?G9(t):i;return z.createElement("path",T0({},Oe(t,!1),jf(t),{className:Ue("recharts-curve",r),d:l,ref:o}))},Zx={exports:{}},Xx,sP;function V9(){if(sP)return Xx;sP=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Xx=e,Xx}var Yx,lP;function q9(){if(lP)return Yx;lP=1;var e=V9();function t(){}function r(){}return r.resetWarningCache=t,Yx=function(){function n(l,u,d,f,v,h){if(h!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return o.PropTypes=o,o},Yx}var cP;function Z9(){return cP||(cP=1,Zx.exports=q9()()),Zx.exports}var X9=Z9();const ft=pt(X9),{getOwnPropertyNames:Y9,getOwnPropertySymbols:Q9}=Object,{hasOwnProperty:J9}=Object.prototype;function Qx(e,t){return function(n,i,o){return e(n,i,o)&&t(n,i,o)}}function Jd(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);const{cache:o}=i,l=o.get(r),u=o.get(n);if(l&&u)return l===n&&u===r;o.set(r,n),o.set(n,r);const d=e(r,n,i);return o.delete(r),o.delete(n),d}}function eV(e){return e?.[Symbol.toStringTag]}function uP(e){return Y9(e).concat(Q9(e))}const tV=Object.hasOwn||((e,t)=>J9.call(e,t));function Do(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const rV="__v",nV="__o",aV="_owner",{getOwnPropertyDescriptor:dP,keys:fP}=Object;function iV(e,t){return e.byteLength===t.byteLength&&Xf(new Uint8Array(e),new Uint8Array(t))}function oV(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function sV(e,t){return e.byteLength===t.byteLength&&Xf(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function lV(e,t){return Do(e.getTime(),t.getTime())}function cV(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function uV(e,t){return e===t}function pP(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),o=e.entries();let l,u,d=0;for(;(l=o.next())&&!l.done;){const f=t.entries();let v=!1,h=0;for(;(u=f.next())&&!u.done;){if(i[h]){h++;continue}const m=l.value,b=u.value;if(r.equals(m[0],b[0],d,h,e,t,r)&&r.equals(m[1],b[1],m[0],b[0],e,t,r)){v=i[h]=!0;break}h++}if(!v)return!1;d++}return!0}const dV=Do;function fV(e,t,r){const n=fP(e);let i=n.length;if(fP(t).length!==i)return!1;for(;i-- >0;)if(!UD(e,t,r,n[i]))return!1;return!0}function mc(e,t,r){const n=uP(e);let i=n.length;if(uP(t).length!==i)return!1;let o,l,u;for(;i-- >0;)if(o=n[i],!UD(e,t,r,o)||(l=dP(e,o),u=dP(t,o),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function pV(e,t){return Do(e.valueOf(),t.valueOf())}function hV(e,t){return e.source===t.source&&e.flags===t.flags}function hP(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),o=e.values();let l,u;for(;(l=o.next())&&!l.done;){const d=t.values();let f=!1,v=0;for(;(u=d.next())&&!u.done;){if(!i[v]&&r.equals(l.value,u.value,l.value,u.value,e,t,r)){f=i[v]=!0;break}v++}if(!f)return!1}return!0}function Xf(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function vV(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function UD(e,t,r,n){return(n===aV||n===nV||n===rV)&&(e.$$typeof||t.$$typeof)?!0:tV(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const mV="[object ArrayBuffer]",gV="[object Arguments]",yV="[object Boolean]",xV="[object DataView]",bV="[object Date]",SV="[object Error]",wV="[object Map]",jV="[object Number]",kV="[object Object]",CV="[object RegExp]",zV="[object Set]",AV="[object String]",NV={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},PV="[object URL]",_V=Object.prototype.toString;function OV({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:l,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:f,areRegExpsEqual:v,areSetsEqual:h,areTypedArraysEqual:m,areUrlsEqual:b,unknownTagComparators:j}){return function(y,w,k){if(y===w)return!0;if(y==null||w==null)return!1;const S=typeof y;if(S!==typeof w)return!1;if(S!=="object")return S==="number"?u(y,w,k):S==="function"?o(y,w,k):!1;const N=y.constructor;if(N!==w.constructor)return!1;if(N===Object)return d(y,w,k);if(Array.isArray(y))return t(y,w,k);if(N===Date)return n(y,w,k);if(N===RegExp)return v(y,w,k);if(N===Map)return l(y,w,k);if(N===Set)return h(y,w,k);const A=_V.call(y);if(A===bV)return n(y,w,k);if(A===CV)return v(y,w,k);if(A===wV)return l(y,w,k);if(A===zV)return h(y,w,k);if(A===kV)return typeof y.then!="function"&&typeof w.then!="function"&&d(y,w,k);if(A===PV)return b(y,w,k);if(A===SV)return i(y,w,k);if(A===gV)return d(y,w,k);if(NV[A])return m(y,w,k);if(A===mV)return e(y,w,k);if(A===xV)return r(y,w,k);if(A===yV||A===jV||A===AV)return f(y,w,k);if(j){let O=j[A];if(!O){const _=eV(y);_&&(O=j[_])}if(O)return O(y,w,k)}return!1}}function EV({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:iV,areArraysEqual:r?mc:oV,areDataViewsEqual:sV,areDatesEqual:lV,areErrorsEqual:cV,areFunctionsEqual:uV,areMapsEqual:r?Qx(pP,mc):pP,areNumbersEqual:dV,areObjectsEqual:r?mc:fV,arePrimitiveWrappersEqual:pV,areRegExpsEqual:hV,areSetsEqual:r?Qx(hP,mc):hP,areTypedArraysEqual:r?Qx(Xf,mc):Xf,areUrlsEqual:vV,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const i=Jd(n.areArraysEqual),o=Jd(n.areMapsEqual),l=Jd(n.areObjectsEqual),u=Jd(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:u})}return n}function TV(e){return function(t,r,n,i,o,l,u){return e(t,r,u)}}function DV({circular:e,comparator:t,createState:r,equals:n,strict:i}){if(r)return function(u,d){const{cache:f=e?new WeakMap:void 0,meta:v}=r();return t(u,d,{cache:f,equals:n,meta:v,strict:i})};if(e)return function(u,d){return t(u,d,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const o={cache:void 0,equals:n,meta:void 0,strict:i};return function(u,d){return t(u,d,o)}}const RV=Li();Li({strict:!0});Li({circular:!0});Li({circular:!0,strict:!0});Li({createInternalComparator:()=>Do});Li({strict:!0,createInternalComparator:()=>Do});Li({circular:!0,createInternalComparator:()=>Do});Li({circular:!0,createInternalComparator:()=>Do,strict:!0});function Li(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:i=!1}=e,o=EV(e),l=OV(o),u=r?r(l):TV(l);return DV({circular:t,comparator:l,createState:n,equals:u,strict:i})}function IV(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function vP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>t?(e(o),r=-1):IV(i)};requestAnimationFrame(n)}function D0(e){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D0(e)}function MV(e){return WV(e)||FV(e)||BV(e)||LV()}function LV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BV(e,t){if(e){if(typeof e=="string")return mP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mP(e,t)}}function mP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WV(e){if(Array.isArray(e))return e}function $V(){var e={},t=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,u=MV(l),d=u[0],f=u.slice(1);if(typeof d=="number"){vP(i.bind(null,f),d);return}i(d),vP(i.bind(null,f));return}D0(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){HD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HD(e,t,r){return t=UV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UV(e){var t=HV(e,"string");return au(t)==="symbol"?t:String(t)}function HV(e,t){if(au(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(au(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KV=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},GV=function(t){return t},VV=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},_c=function(t,r){return Object.keys(r).reduce(function(n,i){return yP(yP({},n),{},HD({},i,t(i,r[i])))},{})},xP=function(t,r,n){return t.map(function(i){return"".concat(VV(i)," ").concat(r,"ms ").concat(n)}).join(",")};function qV(e,t){return YV(e)||XV(e,t)||KD(e,t)||ZV()}function ZV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function YV(e){if(Array.isArray(e))return e}function QV(e){return t7(e)||e7(e)||KD(e)||JV()}function JV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KD(e,t){if(e){if(typeof e=="string")return R0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R0(e,t)}}function e7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function t7(e){if(Array.isArray(e))return R0(e)}function R0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Yf=1e-4,GD=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},VD=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},bP=function(t,r){return function(n){var i=GD(t,r);return VD(i,n)}},r7=function(t,r){return function(n){var i=GD(t,r),o=[].concat(QV(i.map(function(l,u){return l*u}).slice(1)),[0]);return VD(o,n)}},SP=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],o=r[1],l=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,l=1,u=1;break;case"ease":i=.25,o=.1,l=.25,u=1;break;case"ease-in":i=.42,o=0,l=1,u=1;break;case"ease-out":i=.42,o=0,l=.58,u=1;break;case"ease-in-out":i=0,o=0,l=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),v=qV(f,4);i=v[0],o=v[1],l=v[2],u=v[3]}}}var h=bP(i,l),m=bP(o,u),b=r7(i,l),j=function(w){return w>1?1:w<0?0:w},x=function(w){for(var k=w>1?1:w,S=k,N=0;N<8;++N){var A=h(S)-k,O=b(S);if(Math.abs(A-k)<Yf||O<Yf)return m(S);S=j(S-A/O)}return m(S)};return x.isStepper=!1,x},n7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,o=i===void 0?8:i,l=t.dt,u=l===void 0?17:l,d=function(v,h,m){var b=-(v-h)*n,j=m*o,x=m+(b-j)*u/1e3,y=m*u/1e3+v;return Math.abs(y-h)<Yf&&Math.abs(x)<Yf?[h,0]:[y,x]};return d.isStepper=!0,d.dt=u,d},a7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return SP(i);case"spring":return n7();default:if(i.split("(")[0]==="cubic-bezier")return SP(i)}return typeof i=="function"?i:null};function iu(e){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}function wP(e){return s7(e)||o7(e)||qD(e)||i7()}function i7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s7(e){if(Array.isArray(e))return M0(e)}function jP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(r),!0).forEach(function(n){I0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I0(e,t,r){return t=l7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l7(e){var t=c7(e,"string");return iu(t)==="symbol"?t:String(t)}function c7(e,t){if(iu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u7(e,t){return p7(e)||f7(e,t)||qD(e,t)||d7()}function d7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qD(e,t){if(e){if(typeof e=="string")return M0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M0(e,t)}}function M0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function p7(e){if(Array.isArray(e))return e}var Qf=function(t,r,n){return t+(r-t)*n},L0=function(t){var r=t.from,n=t.to;return r!==n},h7=function e(t,r,n){var i=_c(function(o,l){if(L0(l)){var u=t(l.from,l.to,l.velocity),d=u7(u,2),f=d[0],v=d[1];return xr(xr({},l),{},{from:f,velocity:v})}return l},r);return n<1?_c(function(o,l){return L0(l)?xr(xr({},l),{},{velocity:Qf(l.velocity,i[o].velocity,n),from:Qf(l.from,i[o].from,n)}):l},r):e(t,i,n-1)};const v7=(function(e,t,r,n,i){var o=KV(e,t),l=o.reduce(function(y,w){return xr(xr({},y),{},I0({},w,[e[w],t[w]]))},{}),u=o.reduce(function(y,w){return xr(xr({},y),{},I0({},w,{from:e[w],velocity:0,to:t[w]}))},{}),d=-1,f,v,h=function(){return null},m=function(){return _c(function(w,k){return k.from},u)},b=function(){return!Object.values(u).filter(L0).length},j=function(w){f||(f=w);var k=w-f,S=k/r.dt;u=h7(r,u,S),i(xr(xr(xr({},e),t),m())),f=w,b()||(d=requestAnimationFrame(h))},x=function(w){v||(v=w);var k=(w-v)/n,S=_c(function(A,O){return Qf.apply(void 0,wP(O).concat([r(k)]))},l);if(i(xr(xr(xr({},e),t),S)),k<1)d=requestAnimationFrame(h);else{var N=_c(function(A,O){return Qf.apply(void 0,wP(O).concat([r(1)]))},l);i(xr(xr(xr({},e),t),N))}};return h=r.isStepper?j:x,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(d)}}});function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}var m7=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function g7(e,t){if(e==null)return{};var r=y7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y7(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Jx(e){return w7(e)||S7(e)||b7(e)||x7()}function x7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b7(e,t){if(e){if(typeof e=="string")return B0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B0(e,t)}}function S7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function w7(e){if(Array.isArray(e))return B0(e)}function B0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(r),!0).forEach(function(n){kc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kc(e,t,r){return t=ZD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZD(n.key),n)}}function C7(e,t,r){return t&&k7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZD(e){var t=z7(e,"string");return $s(t)==="symbol"?t:String(t)}function z7(e,t){if($s(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($s(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F0(e,t)}function F0(e,t){return F0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},F0(e,t)}function N7(e){var t=P7();return function(){var n=Jf(e),i;if(t){var o=Jf(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return W0(this,i)}}function W0(e,t){if(t&&($s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $0(e)}function $0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P7(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jf(e){return Jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jf(e)}var Pn=(function(e){A7(r,e);var t=N7(r);function r(n,i){var o;j7(this,r),o=t.call(this,n,i);var l=o.props,u=l.isActive,d=l.attributeName,f=l.from,v=l.to,h=l.steps,m=l.children,b=l.duration;if(o.handleStyleChange=o.handleStyleChange.bind($0(o)),o.changeStyle=o.changeStyle.bind($0(o)),!u||b<=0)return o.state={style:{}},typeof m=="function"&&(o.state={style:v}),W0(o);if(h&&h.length)o.state={style:h[0].style};else if(f){if(typeof m=="function")return o.state={style:f},W0(o);o.state={style:d?kc({},d,f):f}}else o.state={style:{}};return o}return C7(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,l=i.canBegin;this.mounted=!0,!(!o||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,l=o.isActive,u=o.canBegin,d=o.attributeName,f=o.shouldReAnimate,v=o.to,h=o.from,m=this.state.style;if(u){if(!l){var b={style:d?kc({},d,v):v};this.state&&m&&(d&&m[d]!==v||!d&&m!==v)&&this.setState(b);return}if(!(RV(i.to,v)&&i.canBegin&&i.isActive)){var j=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=j||f?h:i.to;if(this.state&&m){var y={style:d?kc({},d,x):x};(d&&m[d]!==x||!d&&m!==x)&&this.setState(y)}this.runAnimation(Ln(Ln({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,l=i.from,u=i.to,d=i.duration,f=i.easing,v=i.begin,h=i.onAnimationEnd,m=i.onAnimationStart,b=v7(l,u,a7(f),d,this.changeStyle),j=function(){o.stopJSAnimation=b()};this.manager.start([m,v,j,d,h])}},{key:"runStepAnimation",value:function(i){var o=this,l=i.steps,u=i.begin,d=i.onAnimationStart,f=l[0],v=f.style,h=f.duration,m=h===void 0?0:h,b=function(x,y,w){if(w===0)return x;var k=y.duration,S=y.easing,N=S===void 0?"ease":S,A=y.style,O=y.properties,_=y.onAnimationEnd,T=w>0?l[w-1]:y,E=O||Object.keys(A);if(typeof N=="function"||N==="spring")return[].concat(Jx(x),[o.runJSAnimation.bind(o,{from:T.style,to:A,duration:k,easing:N}),k]);var D=xP(E,k,N),M=Ln(Ln(Ln({},T.style),A),{},{transition:D});return[].concat(Jx(x),[M,k,_]).filter(GV)};return this.manager.start([d].concat(Jx(l.reduce(b,[v,Math.max(m,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=$V());var o=i.begin,l=i.duration,u=i.attributeName,d=i.to,f=i.easing,v=i.onAnimationStart,h=i.onAnimationEnd,m=i.steps,b=i.children,j=this.manager;if(this.unSubscribe=j.subscribe(this.handleStyleChange),typeof f=="function"||typeof b=="function"||f==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var x=u?kc({},u,d):d,y=xP(Object.keys(x),l,f);j.start([v,o,Ln(Ln({},x),{},{transition:y}),l,h])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var l=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=g7(i,m7),f=z.Children.count(o),v=this.state.style;if(typeof o=="function")return o(v);if(!u||f===0||l<=0)return o;var h=function(b){var j=b.props,x=j.style,y=x===void 0?{}:x,w=j.className,k=z.cloneElement(b,Ln(Ln({},d),{},{style:Ln(Ln({},y),v),className:w}));return k};return f===1?h(z.Children.only(o)):K.createElement("div",null,z.Children.map(o,function(m){return h(m)}))}}]),r})(z.PureComponent);Pn.displayName="Animate";Pn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Pn.propTypes={from:ft.oneOfType([ft.object,ft.string]),to:ft.oneOfType([ft.object,ft.string]),attributeName:ft.string,duration:ft.number,begin:ft.number,easing:ft.oneOfType([ft.string,ft.func]),steps:ft.arrayOf(ft.shape({duration:ft.number.isRequired,style:ft.object.isRequired,easing:ft.oneOfType([ft.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ft.func]),properties:ft.arrayOf("string"),onAnimationEnd:ft.func})),children:ft.oneOfType([ft.node,ft.func]),isActive:ft.bool,canBegin:ft.bool,onAnimationEnd:ft.func,shouldReAnimate:ft.bool,onAnimationStart:ft.func,onAnimationReStart:ft.func};var zu=iE();const _7=pt(zu);function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}function ep(){return ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ep.apply(this,arguments)}function O7(e,t){return R7(e)||D7(e,t)||T7(e,t)||E7()}function E7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T7(e,t){if(e){if(typeof e=="string")return CP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CP(e,t)}}function CP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function R7(e){if(Array.isArray(e))return e}function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){I7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I7(e,t,r){return t=M7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M7(e){var t=L7(e,"string");return ou(t)=="symbol"?t:t+""}function L7(e,t){if(ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NP=function(t,r,n,i,o){var l=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,d=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,v;if(l>0&&o instanceof Array){for(var h=[0,0,0,0],m=0,b=4;m<b;m++)h[m]=o[m]>l?l:o[m];v="M".concat(t,",").concat(r+u*h[0]),h[0]>0&&(v+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(t+d*h[0],",").concat(r)),v+="L ".concat(t+n-d*h[1],",").concat(r),h[1]>0&&(v+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(r+u*h[1])),v+="L ".concat(t+n,",").concat(r+i-u*h[2]),h[2]>0&&(v+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(t+n-d*h[2],",").concat(r+i)),v+="L ".concat(t+d*h[3],",").concat(r+i),h[3]>0&&(v+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(r+i-u*h[3])),v+="Z"}else if(l>0&&o===+o&&o>0){var j=Math.min(l,o);v="M ".concat(t,",").concat(r+u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t+d*j,",").concat(r,`
            L `).concat(t+n-d*j,",").concat(r,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t+n,",").concat(r+u*j,`
            L `).concat(t+n,",").concat(r+i-u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t+n-d*j,",").concat(r+i,`
            L `).concat(t+d*j,",").concat(r+i,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t,",").concat(r+i-u*j," Z")}else v="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return v},B7=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,o=r.x,l=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(o,o+u),v=Math.max(o,o+u),h=Math.min(l,l+d),m=Math.max(l,l+d);return n>=f&&n<=v&&i>=h&&i<=m}return!1},F7={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},R1=function(t){var r=AP(AP({},F7),t),n=z.useRef(),i=z.useState(-1),o=O7(i,2),l=o[0],u=o[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&u(N)}catch{}},[]);var d=r.x,f=r.y,v=r.width,h=r.height,m=r.radius,b=r.className,j=r.animationEasing,x=r.animationDuration,y=r.animationBegin,w=r.isAnimationActive,k=r.isUpdateAnimationActive;if(d!==+d||f!==+f||v!==+v||h!==+h||v===0||h===0)return null;var S=Ue("recharts-rectangle",b);return k?K.createElement(Pn,{canBegin:l>0,from:{width:v,height:h,x:d,y:f},to:{width:v,height:h,x:d,y:f},duration:x,animationEasing:j,isActive:k},function(N){var A=N.width,O=N.height,_=N.x,T=N.y;return K.createElement(Pn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,isActive:w,easing:j},K.createElement("path",ep({},Oe(r,!0),{className:S,d:NP(_,T,A,O,m),ref:n})))}):K.createElement("path",ep({},Oe(r,!0),{className:S,d:NP(d,f,v,h,m)}))},W7=["points","className","baseLinePoints","connectNulls"];function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ss.apply(this,arguments)}function $7(e,t){if(e==null)return{};var r=U7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function U7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PP(e){return V7(e)||G7(e)||K7(e)||H7()}function H7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K7(e,t){if(e){if(typeof e=="string")return U0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U0(e,t)}}function G7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function V7(e){if(Array.isArray(e))return U0(e)}function U0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _P=function(t){return t&&t.x===+t.x&&t.y===+t.y},q7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){_P(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),_P(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Oc=function(t,r){var n=q7(t);r&&(n=[n.reduce(function(o,l){return[].concat(PP(o),PP(l))},[])]);var i=n.map(function(o){return o.reduce(function(l,u,d){return"".concat(l).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Z7=function(t,r,n){var i=Oc(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Oc(r.reverse(),n).slice(1))},X7=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,o=t.connectNulls,l=$7(t,W7);if(!r||!r.length)return null;var u=Ue("recharts-polygon",n);if(i&&i.length){var d=l.stroke&&l.stroke!=="none",f=Z7(r,i,o);return K.createElement("g",{className:u},K.createElement("path",Ss({},Oe(l,!0),{fill:f.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:f})),d?K.createElement("path",Ss({},Oe(l,!0),{fill:"none",d:Oc(r,o)})):null,d?K.createElement("path",Ss({},Oe(l,!0),{fill:"none",d:Oc(i,o)})):null)}var v=Oc(r,o);return K.createElement("path",Ss({},Oe(l,!0),{fill:v.slice(-1)==="Z"?l.fill:"none",className:u,d:v}))};function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H0.apply(this,arguments)}var Au=function(t){var r=t.cx,n=t.cy,i=t.r,o=t.className,l=Ue("recharts-dot",o);return r===+r&&n===+n&&i===+i?z.createElement("circle",H0({},Oe(t,!1),jf(t),{className:l,cx:r,cy:n,r:i})):null};function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}var Y7=["x","y","top","left","width","height","className"];function K0(){return K0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K0.apply(this,arguments)}function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Q7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(n){J7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J7(e,t,r){return t=eq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eq(e){var t=tq(e,"string");return su(t)=="symbol"?t:t+""}function tq(e,t){if(su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rq(e,t){if(e==null)return{};var r=nq(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var aq=function(t,r,n,i,o,l){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(l,",").concat(r,"h").concat(n)},iq=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,o=i===void 0?0:i,l=t.top,u=l===void 0?0:l,d=t.left,f=d===void 0?0:d,v=t.width,h=v===void 0?0:v,m=t.height,b=m===void 0?0:m,j=t.className,x=rq(t,Y7),y=Q7({x:n,y:o,top:u,left:f,width:h,height:b},x);return!ge(n)||!ge(o)||!ge(h)||!ge(b)||!ge(u)||!ge(f)?null:K.createElement("path",K0({},Oe(y,!0),{className:Ue("recharts-cross",j),d:aq(n,o,h,b,u,f)}))},eb,EP;function oq(){if(EP)return eb;EP=1;var e=rh(),t=uD(),r=ha();function n(i,o){return i&&i.length?e(i,r(o,2),t):void 0}return eb=n,eb}var sq=oq();const lq=pt(sq);var tb,TP;function cq(){if(TP)return tb;TP=1;var e=rh(),t=ha(),r=dD();function n(i,o){return i&&i.length?e(i,t(o,2),r):void 0}return tb=n,tb}var uq=cq();const dq=pt(uq);var fq=["cx","cy","angle","ticks","axisLine"],pq=["ticks","tick","angle","tickFormatter","stroke"];function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function Ec(){return Ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ec.apply(this,arguments)}function DP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(r),!0).forEach(function(n){oh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RP(e,t){if(e==null)return{};var r=hq(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YD(n.key),n)}}function mq(e,t,r){return t&&IP(e.prototype,t),r&&IP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gq(e,t,r){return t=tp(t),yq(e,XD()?Reflect.construct(t,r||[],tp(e).constructor):t.apply(e,r))}function yq(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xq(e)}function xq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XD=function(){return!!e})()}function tp(e){return tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tp(e)}function bq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G0(e,t)}function G0(e,t){return G0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},G0(e,t)}function oh(e,t,r){return t=YD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YD(e){var t=Sq(e,"string");return Us(t)=="symbol"?t:t+""}function Sq(e,t){if(Us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sh=(function(e){function t(){return vq(this,t),gq(this,t,arguments)}return bq(t,e),mq(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,o=this.props,l=o.angle,u=o.cx,d=o.cy;return zt(u,d,i,l)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,o=n.cy,l=n.angle,u=n.ticks,d=lq(u,function(v){return v.coordinate||0}),f=dq(u,function(v){return v.coordinate||0});return{cx:i,cy:o,startAngle:l,endAngle:l,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,l=n.angle,u=n.ticks,d=n.axisLine,f=RP(n,fq),v=u.reduce(function(j,x){return[Math.min(j[0],x.coordinate),Math.max(j[1],x.coordinate)]},[1/0,-1/0]),h=zt(i,o,v[0],l),m=zt(i,o,v[1],l),b=ro(ro(ro({},Oe(f,!1)),{},{fill:"none"},Oe(d,!1)),{},{x1:h.x,y1:h.y,x2:m.x,y2:m.y});return K.createElement("line",Ec({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,l=i.tick,u=i.angle,d=i.tickFormatter,f=i.stroke,v=RP(i,pq),h=this.getTickTextAnchor(),m=Oe(v,!1),b=Oe(l,!1),j=o.map(function(x,y){var w=n.getTickValueCoord(x),k=ro(ro(ro(ro({textAnchor:h,transform:"rotate(".concat(90-u,", ").concat(w.x,", ").concat(w.y,")")},m),{},{stroke:"none",fill:f},b),{},{index:y},w),{},{payload:x});return K.createElement(Ke,Ec({className:Ue("recharts-polar-radius-axis-tick",BD(l)),key:"tick-".concat(x.coordinate)},Ni(n.props,x,y)),t.renderTickItem(l,k,d?d(x.value,y):x.value))});return K.createElement(Ke,{className:"recharts-polar-radius-axis-ticks"},j)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.axisLine,l=n.tick;return!i||!i.length?null:K.createElement(Ke,{className:Ue("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),l&&this.renderTicks(),hr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,o){var l;return K.isValidElement(n)?l=K.cloneElement(n,i):Fe(n)?l=n(i):l=K.createElement(wo,Ec({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),l}}])})(z.PureComponent);oh(sh,"displayName","PolarRadiusAxis");oh(sh,"axisType","radiusAxis");oh(sh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uo.apply(this,arguments)}function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function no(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(n){lh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JD(n.key),n)}}function jq(e,t,r){return t&&LP(e.prototype,t),r&&LP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kq(e,t,r){return t=rp(t),Cq(e,QD()?Reflect.construct(t,r||[],rp(e).constructor):t.apply(e,r))}function Cq(e,t){if(t&&(Hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zq(e)}function zq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QD=function(){return!!e})()}function rp(e){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rp(e)}function Aq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V0(e,t)}function V0(e,t){return V0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},V0(e,t)}function lh(e,t,r){return t=JD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JD(e){var t=Nq(e,"string");return Hs(t)=="symbol"?t:t+""}function Nq(e,t){if(Hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pq=Math.PI/180,BP=1e-5,ch=(function(e){function t(){return wq(this,t),kq(this,t,arguments)}return Aq(t,e),jq(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.cx,l=i.cy,u=i.radius,d=i.orientation,f=i.tickSize,v=f||8,h=zt(o,l,u,n.coordinate),m=zt(o,l,u+(d==="inner"?-1:1)*v,n.coordinate);return{x1:h.x,y1:h.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,o=Math.cos(-n.coordinate*Pq),l;return o>BP?l=i==="outer"?"start":"end":o<-BP?l=i==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,l=n.radius,u=n.axisLine,d=n.axisLineType,f=no(no({},Oe(this.props,!1)),{},{fill:"none"},Oe(u,!1));if(d==="circle")return K.createElement(Au,uo({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:o,r:l}));var v=this.props.ticks,h=v.map(function(m){return zt(i,o,l,m.coordinate)});return K.createElement(X7,uo({className:"recharts-polar-angle-axis-line"},f,{points:h}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,l=i.tick,u=i.tickLine,d=i.tickFormatter,f=i.stroke,v=Oe(this.props,!1),h=Oe(l,!1),m=no(no({},v),{},{fill:"none"},Oe(u,!1)),b=o.map(function(j,x){var y=n.getTickLineCoord(j),w=n.getTickTextAnchor(j),k=no(no(no({textAnchor:w},v),{},{stroke:"none",fill:f},h),{},{index:x,payload:j,x:y.x2,y:y.y2});return K.createElement(Ke,uo({className:Ue("recharts-polar-angle-axis-tick",BD(l)),key:"tick-".concat(j.coordinate)},Ni(n.props,j,x)),u&&K.createElement("line",uo({className:"recharts-polar-angle-axis-tick-line"},m,y)),l&&t.renderTickItem(l,k,d?d(j.value,x):j.value))});return K.createElement(Ke,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.radius,l=n.axisLine;return o<=0||!i||!i.length?null:K.createElement(Ke,{className:Ue("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,o){var l;return K.isValidElement(n)?l=K.cloneElement(n,i):Fe(n)?l=n(i):l=K.createElement(wo,uo({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),l}}])})(z.PureComponent);lh(ch,"displayName","PolarAngleAxis");lh(ch,"axisType","angleAxis");lh(ch,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var rb,FP;function _q(){if(FP)return rb;FP=1;var e=cT(),t=e(Object.getPrototypeOf,Object);return rb=t,rb}var nb,WP;function Oq(){if(WP)return nb;WP=1;var e=Ga(),t=_q(),r=Va(),n="[object Object]",i=Function.prototype,o=Object.prototype,l=i.toString,u=o.hasOwnProperty,d=l.call(Object);function f(v){if(!r(v)||e(v)!=n)return!1;var h=t(v);if(h===null)return!0;var m=u.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&l.call(m)==d}return nb=f,nb}var Eq=Oq();const Tq=pt(Eq);var ab,$P;function Dq(){if($P)return ab;$P=1;var e=Ga(),t=Va(),r="[object Boolean]";function n(i){return i===!0||i===!1||t(i)&&e(i)==r}return ab=n,ab}var Rq=Dq();const Iq=pt(Rq);function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function np(){return np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},np.apply(this,arguments)}function Mq(e,t){return Wq(e)||Fq(e,t)||Bq(e,t)||Lq()}function Lq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bq(e,t){if(e){if(typeof e=="string")return UP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UP(e,t)}}function UP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function Wq(e){if(Array.isArray(e))return e}function HP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(r),!0).forEach(function(n){$q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $q(e,t,r){return t=Uq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uq(e){var t=Hq(e,"string");return lu(t)=="symbol"?t:t+""}function Hq(e,t){if(lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GP=function(t,r,n,i,o){var l=n-i,u;return u="M ".concat(t,",").concat(r),u+="L ".concat(t+n,",").concat(r),u+="L ".concat(t+n-l/2,",").concat(r+o),u+="L ".concat(t+n-l/2-i,",").concat(r+o),u+="L ".concat(t,",").concat(r," Z"),u},Kq={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Gq=function(t){var r=KP(KP({},Kq),t),n=z.useRef(),i=z.useState(-1),o=Mq(i,2),l=o[0],u=o[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&u(S)}catch{}},[]);var d=r.x,f=r.y,v=r.upperWidth,h=r.lowerWidth,m=r.height,b=r.className,j=r.animationEasing,x=r.animationDuration,y=r.animationBegin,w=r.isUpdateAnimationActive;if(d!==+d||f!==+f||v!==+v||h!==+h||m!==+m||v===0&&h===0||m===0)return null;var k=Ue("recharts-trapezoid",b);return w?K.createElement(Pn,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:m,x:d,y:f},to:{upperWidth:v,lowerWidth:h,height:m,x:d,y:f},duration:x,animationEasing:j,isActive:w},function(S){var N=S.upperWidth,A=S.lowerWidth,O=S.height,_=S.x,T=S.y;return K.createElement(Pn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,easing:j},K.createElement("path",np({},Oe(r,!0),{className:k,d:GP(_,T,N,A,O),ref:n})))}):K.createElement("g",null,K.createElement("path",np({},Oe(r,!0),{className:k,d:GP(d,f,v,h,m)})))},Vq=["option","shapeType","propTransformer","activeClassName","isActive"];function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function qq(e,t){if(e==null)return{};var r=Zq(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ap(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(r),!0).forEach(function(n){Xq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xq(e,t,r){return t=Yq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yq(e){var t=Qq(e,"string");return cu(t)=="symbol"?t:t+""}function Qq(e,t){if(cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jq(e,t){return ap(ap({},t),e)}function eZ(e,t){return e==="symbols"}function qP(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return K.createElement(R1,r);case"trapezoid":return K.createElement(Gq,r);case"sector":return K.createElement($D,r);case"symbols":if(eZ(t))return K.createElement(Gp,r);break;default:return null}}function tZ(e){return z.isValidElement(e)?e.props:e}function ip(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?Jq:n,o=e.activeClassName,l=o===void 0?"recharts-active-shape":o,u=e.isActive,d=qq(e,Vq),f;if(z.isValidElement(t))f=z.cloneElement(t,ap(ap({},d),tZ(t)));else if(Fe(t))f=t(d);else if(Tq(t)&&!Iq(t)){var v=i(t,d);f=K.createElement(qP,{shapeType:r,elementProps:v})}else{var h=d;f=K.createElement(qP,{shapeType:r,elementProps:h})}return u?K.createElement(Ke,{className:l},f):f}function uh(e,t){return t!=null&&"trapezoids"in e.props}function dh(e,t){return t!=null&&"sectors"in e.props}function uu(e,t){return t!=null&&"points"in e.props}function rZ(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&o}function nZ(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function aZ(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function iZ(e,t){var r;return uh(e,t)?r=rZ:dh(e,t)?r=nZ:uu(e,t)&&(r=aZ),r}function oZ(e,t){var r;return uh(e,t)?r="trapezoids":dh(e,t)?r="sectors":uu(e,t)&&(r="points"),r}function sZ(e,t){if(uh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(dh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return uu(e,t)?t.payload:{}}function lZ(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=oZ(r,t),o=sZ(r,t),l=n.filter(function(d,f){var v=Pi(o,d),h=r.props[i].filter(function(j){var x=iZ(r,t);return x(j,t)}),m=r.props[i].indexOf(h[h.length-1]),b=f===m;return v&&b}),u=n.indexOf(l[l.length-1]);return u}var mf;function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}function ws(){return ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ws.apply(this,arguments)}function ZP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZP(Object(r),!0).forEach(function(n){zn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tR(n.key),n)}}function uZ(e,t,r){return t&&XP(e.prototype,t),r&&XP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dZ(e,t,r){return t=op(t),fZ(e,eR()?Reflect.construct(t,r||[],op(e).constructor):t.apply(e,r))}function fZ(e,t){if(t&&(Ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pZ(e)}function pZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eR=function(){return!!e})()}function op(e){return op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},op(e)}function hZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q0(e,t)}function q0(e,t){return q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},q0(e,t)}function zn(e,t,r){return t=tR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tR(e){var t=vZ(e,"string");return Ks(t)=="symbol"?t:t+""}function vZ(e,t){if(Ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var va=(function(e){function t(r){var n;return cZ(this,t),n=dZ(this,t,[r]),zn(n,"pieRef",null),zn(n,"sectorRefs",[]),zn(n,"id",Ri("recharts-pie-")),zn(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Fe(i)&&i()}),zn(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Fe(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return hZ(t,e),uZ(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.label,u=o.labelLine,d=o.dataKey,f=o.valueKey,v=Oe(this.props,!1),h=Oe(l,!1),m=Oe(u,!1),b=l&&l.offsetRadius||20,j=n.map(function(x,y){var w=(x.startAngle+x.endAngle)/2,k=zt(x.cx,x.cy,x.outerRadius+b,w),S=jt(jt(jt(jt({},v),x),{},{stroke:"none"},h),{},{index:y,textAnchor:t.getTextAnchor(k.x,x.cx)},k),N=jt(jt(jt(jt({},v),x),{},{fill:"none",stroke:x.fill},m),{},{index:y,points:[zt(x.cx,x.cy,x.outerRadius,w),k]}),A=d;return Le(d)&&Le(f)?A="value":Le(d)&&(A=f),K.createElement(Ke,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(y)},u&&t.renderLabelLineItem(u,N,"line"),t.renderLabelItem(l,S,Ot(x,A)))});return K.createElement(Ke,{className:"recharts-pie-labels"},j)}},{key:"renderSectorsStatically",value:function(n){var i=this,o=this.props,l=o.activeShape,u=o.blendStroke,d=o.inactiveShape;return n.map(function(f,v){if(f?.startAngle===0&&f?.endAngle===0&&n.length!==1)return null;var h=i.isActiveIndex(v),m=d&&i.hasActiveIndex()?d:null,b=h?l:m,j=jt(jt({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return K.createElement(Ke,ws({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Ni(i.props,f,v),{key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(v)}),K.createElement(ip,ws({option:b,isActive:h,shapeType:"sector"},j)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,o=i.sectors,l=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,f=i.animationEasing,v=i.animationId,h=this.state,m=h.prevSectors,b=h.prevIsAnimationActive;return K.createElement(Pn,{begin:u,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(v,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(j){var x=j.t,y=[],w=o&&o[0],k=w.startAngle;return o.forEach(function(S,N){var A=m&&m[N],O=N>0?fn(S,"paddingAngle",0):0;if(A){var _=Wt(A.endAngle-A.startAngle,S.endAngle-S.startAngle),T=jt(jt({},S),{},{startAngle:k+O,endAngle:k+_(x)+O});y.push(T),k=T.endAngle}else{var E=S.endAngle,D=S.startAngle,M=Wt(0,E-D),F=M(x),L=jt(jt({},S),{},{startAngle:k+O,endAngle:k+F+O});y.push(L),k=L.endAngle}}),K.createElement(Ke,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var l=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,o=n.isAnimationActive,l=this.state.prevSectors;return o&&i&&i.length&&(!l||!Pi(l,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,o=i.hide,l=i.sectors,u=i.className,d=i.label,f=i.cx,v=i.cy,h=i.innerRadius,m=i.outerRadius,b=i.isAnimationActive,j=this.state.isAnimationFinished;if(o||!l||!l.length||!ge(f)||!ge(v)||!ge(h)||!ge(m))return null;var x=Ue("recharts-pie",u);return K.createElement(Ke,{tabIndex:this.props.rootTabIndex,className:x,ref:function(w){n.pieRef=w}},this.renderSectors(),d&&this.renderLabels(l),hr.renderCallByParent(this.props,null,!1),(!b||j)&&Gn.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,o){if(K.isValidElement(n))return K.cloneElement(n,i);if(Fe(n))return n(i);var l=Ue("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return K.createElement(Ci,ws({},i,{key:o,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(n,i,o){if(K.isValidElement(n))return K.cloneElement(n,i);var l=o;if(Fe(n)&&(l=n(i),K.isValidElement(l)))return l;var u=Ue("recharts-pie-label-text",typeof n!="boolean"&&!Fe(n)?n.className:"");return K.createElement(wo,ws({},i,{alignmentBaseline:"middle",className:u}),l)}}])})(z.PureComponent);mf=va;zn(va,"displayName","Pie");zn(va,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!qa.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});zn(va,"parseDeltaAngle",function(e,t){var r=Ir(t-e),n=Math.min(Math.abs(t-e),360);return r*n});zn(va,"getRealPieData",function(e){var t=e.data,r=e.children,n=Oe(e,!1),i=Br(r,hl);return t&&t.length?t.map(function(o,l){return jt(jt(jt({payload:o},n),o),i&&i[l]&&i[l].props)}):i&&i.length?i.map(function(o){return jt(jt({},n),o.props)}):[]});zn(va,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,o=t.height,l=LD(i,o),u=n+Mr(e.cx,i,i/2),d=r+Mr(e.cy,o,o/2),f=Mr(e.innerRadius,l,0),v=Mr(e.outerRadius,l,l*.8),h=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:u,cy:d,innerRadius:f,outerRadius:v,maxRadius:h}});zn(va,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?jt(jt({},t.type.defaultProps),t.props):t.props,i=mf.getRealPieData(n);if(!i||!i.length)return null;var o=n.cornerRadius,l=n.startAngle,u=n.endAngle,d=n.paddingAngle,f=n.dataKey,v=n.nameKey,h=n.valueKey,m=n.tooltipType,b=Math.abs(n.minAngle),j=mf.parseCoordinateOfPie(n,r),x=mf.parseDeltaAngle(l,u),y=Math.abs(x),w=f;Le(f)&&Le(h)?(Kn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):Le(f)&&(Kn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=h);var k=i.filter(function(T){return Ot(T,w,0)!==0}).length,S=(y>=360?k:k-1)*d,N=y-k*b-S,A=i.reduce(function(T,E){var D=Ot(E,w,0);return T+(ge(D)?D:0)},0),O;if(A>0){var _;O=i.map(function(T,E){var D=Ot(T,w,0),M=Ot(T,v,E),F=(ge(D)?D:0)/A,L;E?L=_.endAngle+Ir(x)*d*(D!==0?1:0):L=l;var V=L+Ir(x)*((D!==0?b:0)+F*N),H=(L+V)/2,Z=(j.innerRadius+j.outerRadius)/2,Y=[{name:M,value:D,payload:T,dataKey:w,type:m}],U=zt(j.cx,j.cy,Z,H);return _=jt(jt(jt({percent:F,cornerRadius:o,name:M,tooltipPayload:Y,midAngle:H,middleRadius:Z,tooltipPosition:U},T),j),{},{value:Ot(T,w),startAngle:L,endAngle:V,payload:T,paddingAngle:Ir(x)*d}),_})}return jt(jt({},j),{},{sectors:O,data:i})});var ib,YP;function mZ(){if(YP)return ib;YP=1;var e=Math.ceil,t=Math.max;function r(n,i,o,l){for(var u=-1,d=t(e((i-n)/(o||1)),0),f=Array(d);d--;)f[l?d:++u]=n,n+=o;return f}return ib=r,ib}var ob,QP;function rR(){if(QP)return ob;QP=1;var e=CT(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*r}return i===i?i:0}return ob=n,ob}var sb,JP;function gZ(){if(JP)return sb;JP=1;var e=mZ(),t=Zp(),r=rR();function n(i){return function(o,l,u){return u&&typeof u!="number"&&t(o,l,u)&&(l=u=void 0),o=r(o),l===void 0?(l=o,o=0):l=r(l),u=u===void 0?o<l?1:-1:r(u),e(o,l,u,i)}}return sb=n,sb}var lb,e_;function yZ(){if(e_)return lb;e_=1;var e=gZ(),t=e();return lb=t,lb}var xZ=yZ();const sp=pt(xZ);function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function r_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(r),!0).forEach(function(n){nR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nR(e,t,r){return t=bZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bZ(e){var t=SZ(e,"string");return du(t)=="symbol"?t:t+""}function SZ(e,t){if(du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wZ=["Webkit","Moz","O","ms"],jZ=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=wZ.reduce(function(o,l){return r_(r_({},o),{},nR({},l+n,r))},{});return i[t]=r,i};function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function lp(){return lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lp.apply(this,arguments)}function n_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n_(Object(r),!0).forEach(function(n){an(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iR(n.key),n)}}function CZ(e,t,r){return t&&a_(e.prototype,t),r&&a_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zZ(e,t,r){return t=cp(t),AZ(e,aR()?Reflect.construct(t,r||[],cp(e).constructor):t.apply(e,r))}function AZ(e,t){if(t&&(Gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NZ(e)}function NZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aR=function(){return!!e})()}function cp(e){return cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cp(e)}function PZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z0(e,t)}function Z0(e,t){return Z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Z0(e,t)}function an(e,t,r){return t=iR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iR(e){var t=_Z(e,"string");return Gs(t)=="symbol"?t:t+""}function _Z(e,t){if(Gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var OZ=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,o=t.x,l=t.width,u=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=Nc().domain(sp(0,d)).range([o,o+l-u]),v=f.domain().map(function(h){return f(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:v}},i_=function(t){return t.changedTouches&&!!t.changedTouches.length},Vs=(function(e){function t(r){var n;return kZ(this,t),n=zZ(this,t,[r]),an(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),an(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),an(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,l=i.onDragEnd,u=i.startIndex;l?.({endIndex:o,startIndex:u})}),n.detachDragEndListener()}),an(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),an(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),an(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),an(n,"handleSlideDragStart",function(i){var o=i_(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return PZ(t,e),CZ(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,l=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,v=f.length-1,h=Math.min(i,o),m=Math.max(i,o),b=t.getIndexInRange(l,h),j=t.getIndexInRange(l,m);return{startIndex:b-b%d,endIndex:j===v?v:j-j%d}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,l=i.tickFormatter,u=i.dataKey,d=Ot(o[n],u,n);return Fe(l)?l(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,l=i.startX,u=i.endX,d=this.props,f=d.x,v=d.width,h=d.travellerWidth,m=d.startIndex,b=d.endIndex,j=d.onChange,x=n.pageX-o;x>0?x=Math.min(x,f+v-h-u,f+v-h-l):x<0&&(x=Math.max(x,f-l,f-u));var y=this.getIndex({startX:l+x,endX:u+x});(y.startIndex!==m||y.endIndex!==b)&&j&&j(y),this.setState({startX:l+x,endX:u+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=i_(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,l=i.movingTravellerId,u=i.endX,d=i.startX,f=this.state[l],v=this.props,h=v.x,m=v.width,b=v.travellerWidth,j=v.onChange,x=v.gap,y=v.data,w={startX:this.state.startX,endX:this.state.endX},k=n.pageX-o;k>0?k=Math.min(k,h+m-b-f):k<0&&(k=Math.max(k,h-f)),w[l]=f+k;var S=this.getIndex(w),N=S.startIndex,A=S.endIndex,O=function(){var T=y.length-1;return l==="startX"&&(u>d?N%x===0:A%x===0)||u<d&&A===T||l==="endX"&&(u>d?A%x===0:N%x===0)||u>d&&A===T};this.setState(an(an({},l,f+k),"brushMoveStartX",n.pageX),function(){j&&O()&&j(S)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,l=this.state,u=l.scaleValues,d=l.startX,f=l.endX,v=this.state[i],h=u.indexOf(v);if(h!==-1){var m=h+n;if(!(m===-1||m>=u.length)){var b=u[m];i==="startX"&&b>=f||i==="endX"&&b<=d||this.setState(an({},i,b),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,d=n.fill,f=n.stroke;return K.createElement("rect",{stroke:f,fill:d,x:i,y:o,width:l,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,d=n.data,f=n.children,v=n.padding,h=z.Children.only(f);return h?K.cloneElement(h,{x:i,y:o,width:l,height:u,margin:v,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,l,u=this,d=this.props,f=d.y,v=d.travellerWidth,h=d.height,m=d.traveller,b=d.ariaLabel,j=d.data,x=d.startIndex,y=d.endIndex,w=Math.max(n,this.props.x),k=cb(cb({},Oe(this.props,!1)),{},{x:w,y:f,width:v,height:h}),S=b||"Min value: ".concat((o=j[x])===null||o===void 0?void 0:o.name,", Max value: ").concat((l=j[y])===null||l===void 0?void 0:l.name);return K.createElement(Ke,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),u.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,k))}},{key:"renderSlide",value:function(n,i){var o=this.props,l=o.y,u=o.height,d=o.stroke,f=o.travellerWidth,v=Math.min(n,i)+f,h=Math.max(Math.abs(i-n)-f,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:v,y:l,width:h,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,l=n.y,u=n.height,d=n.travellerWidth,f=n.stroke,v=this.state,h=v.startX,m=v.endX,b=5,j={pointerEvents:"none",fill:f};return K.createElement(Ke,{className:"recharts-brush-texts"},K.createElement(wo,lp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,m)-b,y:l+u/2},j),this.getTextOfTick(i)),K.createElement(wo,lp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,m)+d+b,y:l+u/2},j),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,l=n.children,u=n.x,d=n.y,f=n.width,v=n.height,h=n.alwaysShowText,m=this.state,b=m.startX,j=m.endX,x=m.isTextActive,y=m.isSlideMoving,w=m.isTravellerMoving,k=m.isTravellerFocused;if(!i||!i.length||!ge(u)||!ge(d)||!ge(f)||!ge(v)||f<=0||v<=0)return null;var S=Ue("recharts-brush",o),N=K.Children.count(l)===1,A=jZ("userSelect","none");return K.createElement(Ke,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(b,j),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(j,"endX"),(x||y||w||k||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,l=n.width,u=n.height,d=n.stroke,f=Math.floor(o+u/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:i,y:o,width:l,height:u,fill:d,stroke:"none"}),K.createElement("line",{x1:i+1,y1:f,x2:i+l-1,y2:f,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:i+1,y1:f+2,x2:i+l-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return K.isValidElement(n)?o=K.cloneElement(n,i):Fe(n)?o=n(i):o=t.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,l=n.width,u=n.x,d=n.travellerWidth,f=n.updateId,v=n.startIndex,h=n.endIndex;if(o!==i.prevData||f!==i.prevUpdateId)return cb({prevData:o,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l},o&&o.length?OZ({data:o,width:l,x:u,travellerWidth:d,startIndex:v,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||u!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([u,u+l-d]);var m=i.scale.domain().map(function(b){return i.scale(b)});return{prevData:o,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,l=0,u=o-1;u-l>1;){var d=Math.floor((l+u)/2);n[d]>i?u=d:l=d}return i>=n[u]?u:l}}])})(z.PureComponent);an(Vs,"displayName","Brush");an(Vs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ub,o_;function EZ(){if(o_)return ub;o_=1;var e=s1();function t(r,n){var i;return e(r,function(o,l,u){return i=n(o,l,u),!i}),!!i}return ub=t,ub}var db,s_;function TZ(){if(s_)return db;s_=1;var e=rT(),t=ha(),r=EZ(),n=Xr(),i=Zp();function o(l,u,d){var f=n(l)?e:r;return d&&i(l,u,d)&&(u=void 0),f(l,t(u,3))}return db=o,db}var DZ=TZ();const RZ=pt(DZ);var ca=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},fb,l_;function IZ(){if(l_)return fb;l_=1;var e=bT();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return fb=t,fb}var pb,c_;function MZ(){if(c_)return pb;c_=1;var e=IZ(),t=yT(),r=ha();function n(i,o){var l={};return o=r(o,3),t(i,function(u,d,f){e(l,d,o(u,d,f))}),l}return pb=n,pb}var LZ=MZ();const BZ=pt(LZ);var hb,u_;function FZ(){if(u_)return hb;u_=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!r(t[n],n,t))return!1;return!0}return hb=e,hb}var vb,d_;function WZ(){if(d_)return vb;d_=1;var e=s1();function t(r,n){var i=!0;return e(r,function(o,l,u){return i=!!n(o,l,u),i}),i}return vb=t,vb}var mb,f_;function $Z(){if(f_)return mb;f_=1;var e=FZ(),t=WZ(),r=ha(),n=Xr(),i=Zp();function o(l,u,d){var f=n(l)?e:t;return d&&i(l,u,d)&&(u=void 0),f(l,r(u,3))}return mb=o,mb}var UZ=$Z();const oR=pt(UZ);var HZ=["x","y"];function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function X0(){return X0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X0.apply(this,arguments)}function p_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p_(Object(r),!0).forEach(function(n){KZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KZ(e,t,r){return t=GZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GZ(e){var t=VZ(e,"string");return fu(t)=="symbol"?t:t+""}function VZ(e,t){if(fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qZ(e,t){if(e==null)return{};var r=ZZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function XZ(e,t){var r=e.x,n=e.y,i=qZ(e,HZ),o="".concat(r),l=parseInt(o,10),u="".concat(n),d=parseInt(u,10),f="".concat(t.height||i.height),v=parseInt(f,10),h="".concat(t.width||i.width),m=parseInt(h,10);return gc(gc(gc(gc(gc({},t),i),l?{x:l}:{}),d?{y:d}:{}),{},{height:v,width:m,name:t.name,radius:t.radius})}function h_(e){return K.createElement(ip,X0({shapeType:"rectangle",propTransformer:XZ,activeClassName:"recharts-active-bar"},e))}var YZ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var o=ge(n)||mF(n);return o?t(n,i):(o||ko(),r)}},QZ=["value","background"],sR;function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}function JZ(e,t){if(e==null)return{};var r=eX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},up.apply(this,arguments)}function v_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v_(Object(r),!0).forEach(function(n){Si(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cR(n.key),n)}}function rX(e,t,r){return t&&m_(e.prototype,t),r&&m_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nX(e,t,r){return t=dp(t),aX(e,lR()?Reflect.construct(t,r||[],dp(e).constructor):t.apply(e,r))}function aX(e,t){if(t&&(qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iX(e)}function iX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lR=function(){return!!e})()}function dp(e){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dp(e)}function oX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y0(e,t)}function Y0(e,t){return Y0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Y0(e,t)}function Si(e,t,r){return t=cR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cR(e){var t=sX(e,"string");return qs(t)=="symbol"?t:t+""}function sX(e,t){if(qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Te=(function(e){function t(){var r;tX(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=nX(this,t,[].concat(i)),Si(r,"state",{isAnimationFinished:!1}),Si(r,"id",Ri("recharts-bar-")),Si(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),Si(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return oX(t,e),rX(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,l=o.shape,u=o.dataKey,d=o.activeIndex,f=o.activeBar,v=Oe(this.props,!1);return n&&n.map(function(h,m){var b=m===d,j=b?f:l,x=er(er(er({},v),h),{},{isActive:b,option:j,index:m,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return K.createElement(Ke,up({className:"recharts-bar-rectangle"},Ni(i.props,h,m),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(m)}),K.createElement(h_,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,l=i.layout,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,v=i.animationEasing,h=i.animationId,m=this.state.prevData;return K.createElement(Pn,{begin:d,duration:f,isActive:u,easing:v,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var j=b.t,x=o.map(function(y,w){var k=m&&m[w];if(k){var S=Wt(k.x,y.x),N=Wt(k.y,y.y),A=Wt(k.width,y.width),O=Wt(k.height,y.height);return er(er({},y),{},{x:S(j),y:N(j),width:A(j),height:O(j)})}if(l==="horizontal"){var _=Wt(0,y.height),T=_(j);return er(er({},y),{},{y:y.y+y.height-T,height:T})}var E=Wt(0,y.width),D=E(j);return er(er({},y),{},{width:D})});return K.createElement(Ke,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,l=this.state.prevData;return o&&i&&i.length&&(!l||!Pi(l,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,l=i.dataKey,u=i.activeIndex,d=Oe(this.props.background,!1);return o.map(function(f,v){f.value;var h=f.background,m=JZ(f,QZ);if(!h)return null;var b=er(er(er(er(er({},m),{},{fill:"#eee"},h),d),Ni(n.props,f,v)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:l,index:v,className:"recharts-bar-background-rectangle"});return K.createElement(h_,up({key:"background-bar-".concat(v),option:n.props.background,isActive:v===u},b))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.data,u=o.xAxis,d=o.yAxis,f=o.layout,v=o.children,h=Br(v,yl);if(!h)return null;var m=f==="vertical"?l[0].height/2:l[0].width/2,b=function(y,w){var k=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:k,errorVal:Ot(y,w)}},j={clipPath:n?"url(#clipPath-".concat(i,")"):null};return K.createElement(Ke,j,h.map(function(x){return K.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,offset:m,dataPointFormatter:b})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,l=n.className,u=n.xAxis,d=n.yAxis,f=n.left,v=n.top,h=n.width,m=n.height,b=n.isAnimationActive,j=n.background,x=n.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,w=Ue("recharts-bar",l),k=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,N=k||S,A=Le(x)?this.id:x;return K.createElement(Ke,{className:w},k||S?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(A)},K.createElement("rect",{x:k?f:f-h/2,y:S?v:v-m/2,width:k?h:h*2,height:S?m:m*2}))):null,K.createElement(Ke,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(A,")"):null},j?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,A),(!b||y)&&Gn.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(z.PureComponent);sR=Te;Si(Te,"displayName","Bar");Si(Te,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!qa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Si(Te,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,o=e.xAxis,l=e.yAxis,u=e.xAxisTicks,d=e.yAxisTicks,f=e.stackedData,v=e.dataStartIndex,h=e.displayedData,m=e.offset,b=OG(n,r);if(!b)return null;var j=t.layout,x=r.type.defaultProps,y=x!==void 0?er(er({},x),r.props):r.props,w=y.dataKey,k=y.children,S=y.minPointSize,N=j==="horizontal"?l:o,A=f?N.scale.domain():null,O=LG({numericAxis:N}),_=Br(k,hl),T=h.map(function(E,D){var M,F,L,V,H,Z;f?M=EG(f[v+D],A):(M=Ot(E,w),Array.isArray(M)||(M=[O,M]));var Y=YZ(S,sR.defaultProps.minPointSize)(M[1],D);if(j==="horizontal"){var U,B=[l.scale(M[0]),l.scale(M[1])],W=B[0],$=B[1];F=HN({axis:o,ticks:u,bandSize:i,offset:b.offset,entry:E,index:D}),L=(U=$??W)!==null&&U!==void 0?U:void 0,V=b.size;var q=W-$;if(H=Number.isNaN(q)?0:q,Z={x:F,y:l.y,width:V,height:l.height},Math.abs(Y)>0&&Math.abs(H)<Math.abs(Y)){var oe=Ir(H||Y)*(Math.abs(Y)-Math.abs(H));L-=oe,H+=oe}}else{var fe=[o.scale(M[0]),o.scale(M[1])],ye=fe[0],se=fe[1];if(F=ye,L=HN({axis:l,ticks:d,bandSize:i,offset:b.offset,entry:E,index:D}),V=se-ye,H=b.size,Z={x:o.x,y:L,width:o.width,height:H},Math.abs(Y)>0&&Math.abs(V)<Math.abs(Y)){var re=Ir(V||Y)*(Math.abs(Y)-Math.abs(V));V+=re}}return er(er(er({},E),{},{x:F,y:L,width:V,height:H,value:f?M:M[1],payload:E,background:Z},_&&_[D]&&_[D].props),{},{tooltipPayload:[ID(r,E)],tooltipPosition:{x:F+V/2,y:L+H/2}})});return er({data:T,layout:j},m)});function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function lX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uR(n.key),n)}}function cX(e,t,r){return t&&g_(e.prototype,t),r&&g_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(r),!0).forEach(function(n){fh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fh(e,t,r){return t=uR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uR(e){var t=uX(e,"string");return pu(t)=="symbol"?t:t+""}function uX(e,t){if(pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ph=function(t,r,n,i,o){var l=t.width,u=t.height,d=t.layout,f=t.children,v=Object.keys(r),h={left:n.left,leftMirror:n.left,right:l-n.right,rightMirror:l-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},m=!!on(f,Te);return v.reduce(function(b,j){var x=r[j],y=x.orientation,w=x.domain,k=x.padding,S=k===void 0?{}:k,N=x.mirror,A=x.reversed,O="".concat(y).concat(N?"Mirror":""),_,T,E,D,M;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var F=w[1]-w[0],L=1/0,V=x.categoricalDomain.sort(bF);if(V.forEach(function(fe,ye){ye>0&&(L=Math.min((fe||0)-(V[ye-1]||0),L))}),Number.isFinite(L)){var H=L/F,Z=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(_=H*Z/2),x.padding==="no-gap"){var Y=Mr(t.barCategoryGap,H*Z),U=H*Z/2;_=U-Y-(U-Y)/Z*Y}}}i==="xAxis"?T=[n.left+(S.left||0)+(_||0),n.left+n.width-(S.right||0)-(_||0)]:i==="yAxis"?T=d==="horizontal"?[n.top+n.height-(S.bottom||0),n.top+(S.top||0)]:[n.top+(S.top||0)+(_||0),n.top+n.height-(S.bottom||0)-(_||0)]:T=x.range,A&&(T=[T[1],T[0]]);var B=ED(x,o,m),W=B.scale,$=B.realScaleType;W.domain(w).range(T),TD(W);var q=DD(W,Wn(Wn({},x),{},{realScaleType:$}));i==="xAxis"?(M=y==="top"&&!N||y==="bottom"&&N,E=n.left,D=h[O]-M*x.height):i==="yAxis"&&(M=y==="left"&&!N||y==="right"&&N,E=h[O]-M*x.width,D=n.top);var oe=Wn(Wn(Wn({},x),q),{},{realScaleType:$,x:E,y:D,scale:W,width:i==="xAxis"?n.width:x.width,height:i==="yAxis"?n.height:x.height});return oe.bandSize=Vf(oe,q),!x.hide&&i==="xAxis"?h[O]+=(M?-1:1)*oe.height:x.hide||(h[O]+=(M?-1:1)*oe.width),Wn(Wn({},b),{},fh({},j,oe))},{})},dR=function(t,r){var n=t.x,i=t.y,o=r.x,l=r.y;return{x:Math.min(n,o),y:Math.min(i,l),width:Math.abs(o-n),height:Math.abs(l-i)}},dX=function(t){var r=t.x1,n=t.y1,i=t.x2,o=t.y2;return dR({x:r,y:n},{x:i,y:o})},fR=(function(){function e(t){lX(this,e),this.scale=t}return cX(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])})();fh(fR,"EPS",1e-4);var I1=function(t){var r=Object.keys(t).reduce(function(n,i){return Wn(Wn({},n),{},fh({},i,fR.create(t[i])))},{});return Wn(Wn({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.bandAware,u=o.position;return BZ(i,function(d,f){return r[f].apply(d,{bandAware:l,position:u})})},isInRange:function(i){return oR(i,function(o,l){return r[l].isInRange(o)})}})};function fX(e){return(e%180+180)%180}var pX=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=fX(i),l=o*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},gb,x_;function hX(){if(x_)return gb;x_=1;var e=ha(),t=Su(),r=Vp();function n(i){return function(o,l,u){var d=Object(o);if(!t(o)){var f=e(l,3);o=r(o),l=function(h){return f(d[h],h,d)}}var v=i(o,l,u);return v>-1?d[f?o[v]:v]:void 0}}return gb=n,gb}var yb,b_;function vX(){if(b_)return yb;b_=1;var e=rR();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return yb=t,yb}var xb,S_;function mX(){if(S_)return xb;S_=1;var e=pT(),t=ha(),r=vX(),n=Math.max;function i(o,l,u){var d=o==null?0:o.length;if(!d)return-1;var f=u==null?0:r(u);return f<0&&(f=n(d+f,0)),e(o,t(l,3),f)}return xb=i,xb}var bb,w_;function gX(){if(w_)return bb;w_=1;var e=hX(),t=mX(),r=e(t);return bb=r,bb}var yX=gX();const xX=pt(yX);var bX=NE();const SX=pt(bX);var wX=SX(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),M1=z.createContext(void 0),L1=z.createContext(void 0),pR=z.createContext(void 0),hR=z.createContext({}),vR=z.createContext(void 0),mR=z.createContext(0),gR=z.createContext(0),j_=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,l=t.clipPathId,u=t.children,d=t.width,f=t.height,v=wX(o);return K.createElement(M1.Provider,{value:n},K.createElement(L1.Provider,{value:i},K.createElement(hR.Provider,{value:o},K.createElement(pR.Provider,{value:v},K.createElement(vR.Provider,{value:l},K.createElement(mR.Provider,{value:f},K.createElement(gR.Provider,{value:d},u)))))))},jX=function(){return z.useContext(vR)},yR=function(t){var r=z.useContext(M1);r==null&&ko();var n=r[t];return n==null&&ko(),n},kX=function(){var t=z.useContext(M1);return xi(t)},CX=function(){var t=z.useContext(L1),r=xX(t,function(n){return oR(n.domain,Number.isFinite)});return r||xi(t)},xR=function(t){var r=z.useContext(L1);r==null&&ko();var n=r[t];return n==null&&ko(),n},zX=function(){var t=z.useContext(pR);return t},AX=function(){return z.useContext(hR)},B1=function(){return z.useContext(gR)},F1=function(){return z.useContext(mR)};function Zs(e){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(e)}function NX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SR(n.key),n)}}function _X(e,t,r){return t&&PX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function OX(e,t,r){return t=fp(t),EX(e,bR()?Reflect.construct(t,r||[],fp(e).constructor):t.apply(e,r))}function EX(e,t){if(t&&(Zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TX(e)}function TX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bR=function(){return!!e})()}function fp(e){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fp(e)}function DX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q0(e,t)}function Q0(e,t){return Q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Q0(e,t)}function k_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function C_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(r),!0).forEach(function(n){W1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W1(e,t,r){return t=SR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SR(e){var t=RX(e,"string");return Zs(t)=="symbol"?t:t+""}function RX(e,t){if(Zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function IX(e,t){return FX(e)||BX(e,t)||LX(e,t)||MX()}function MX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LX(e,t){if(e){if(typeof e=="string")return z_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z_(e,t)}}function z_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function FX(e){if(Array.isArray(e))return e}function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J0.apply(this,arguments)}var WX=function(t,r){var n;return K.isValidElement(t)?n=K.cloneElement(t,r):Fe(t)?n=t(r):n=K.createElement("line",J0({},r,{className:"recharts-reference-line-line"})),n},$X=function(t,r,n,i,o,l,u,d,f){var v=o.x,h=o.y,m=o.width,b=o.height;if(n){var j=f.y,x=t.y.apply(j,{position:l});if(ca(f,"discard")&&!t.y.isInRange(x))return null;var y=[{x:v+m,y:x},{x:v,y:x}];return d==="left"?y.reverse():y}if(r){var w=f.x,k=t.x.apply(w,{position:l});if(ca(f,"discard")&&!t.x.isInRange(k))return null;var S=[{x:k,y:h+b},{x:k,y:h}];return u==="top"?S.reverse():S}if(i){var N=f.segment,A=N.map(function(O){return t.apply(O,{position:l})});return ca(f,"discard")&&RZ(A,function(O){return!t.isInRange(O)})?null:A}return null};function UX(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,o=e.yAxisId,l=e.shape,u=e.className,d=e.alwaysShow,f=jX(),v=yR(i),h=xR(o),m=zX();if(!f||!m)return null;Kn(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=I1({x:v.scale,y:h.scale}),j=sr(t),x=sr(r),y=n&&n.length===2,w=$X(b,j,x,y,m,e.position,v.orientation,h.orientation,e);if(!w)return null;var k=IX(w,2),S=k[0],N=S.x,A=S.y,O=k[1],_=O.x,T=O.y,E=ca(e,"hidden")?"url(#".concat(f,")"):void 0,D=C_(C_({clipPath:E},Oe(e,!0)),{},{x1:N,y1:A,x2:_,y2:T});return K.createElement(Ke,{className:Ue("recharts-reference-line",u)},WX(l,D),hr.renderCallByParent(e,dX({x1:N,y1:A,x2:_,y2:T})))}var hh=(function(e){function t(){return NX(this,t),OX(this,t,arguments)}return DX(t,e),_X(t,[{key:"render",value:function(){return K.createElement(UX,this.props)}}])})(K.Component);W1(hh,"displayName","ReferenceLine");W1(hh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function eS(){return eS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eS.apply(this,arguments)}function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function A_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function N_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A_(Object(r),!0).forEach(function(n){vh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jR(n.key),n)}}function GX(e,t,r){return t&&KX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VX(e,t,r){return t=pp(t),qX(e,wR()?Reflect.construct(t,r||[],pp(e).constructor):t.apply(e,r))}function qX(e,t){if(t&&(Xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZX(e)}function ZX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wR=function(){return!!e})()}function pp(e){return pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pp(e)}function XX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tS(e,t)}function tS(e,t){return tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tS(e,t)}function vh(e,t,r){return t=jR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jR(e){var t=YX(e,"string");return Xs(t)=="symbol"?t:t+""}function YX(e,t){if(Xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var QX=function(t){var r=t.x,n=t.y,i=t.xAxis,o=t.yAxis,l=I1({x:i.scale,y:o.scale}),u=l.apply({x:r,y:n},{bandAware:!0});return ca(t,"discard")&&!l.isInRange(u)?null:u},mh=(function(e){function t(){return HX(this,t),VX(this,t,arguments)}return XX(t,e),GX(t,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,l=n.r,u=n.alwaysShow,d=n.clipPathId,f=sr(i),v=sr(o);if(Kn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!v)return null;var h=QX(this.props);if(!h)return null;var m=h.x,b=h.y,j=this.props,x=j.shape,y=j.className,w=ca(this.props,"hidden")?"url(#".concat(d,")"):void 0,k=N_(N_({clipPath:w},Oe(this.props,!0)),{},{cx:m,cy:b});return K.createElement(Ke,{className:Ue("recharts-reference-dot",y)},t.renderDot(x,k),hr.renderCallByParent(this.props,{x:m-l,y:b-l,width:2*l,height:2*l}))}}])})(K.Component);vh(mh,"displayName","ReferenceDot");vh(mh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});vh(mh,"renderDot",function(e,t){var r;return K.isValidElement(e)?r=K.cloneElement(e,t):Fe(e)?r=e(t):r=K.createElement(Au,eS({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function rS(){return rS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rS.apply(this,arguments)}function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function P_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function __(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P_(Object(r),!0).forEach(function(n){gh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CR(n.key),n)}}function tY(e,t,r){return t&&eY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rY(e,t,r){return t=hp(t),nY(e,kR()?Reflect.construct(t,r||[],hp(e).constructor):t.apply(e,r))}function nY(e,t){if(t&&(Ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aY(e)}function aY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kR=function(){return!!e})()}function hp(e){return hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hp(e)}function iY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nS(e,t)}function nS(e,t){return nS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nS(e,t)}function gh(e,t,r){return t=CR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CR(e){var t=oY(e,"string");return Ys(t)=="symbol"?t:t+""}function oY(e,t){if(Ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sY=function(t,r,n,i,o){var l=o.x1,u=o.x2,d=o.y1,f=o.y2,v=o.xAxis,h=o.yAxis;if(!v||!h)return null;var m=I1({x:v.scale,y:h.scale}),b={x:t?m.x.apply(l,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(d,{position:"start"}):m.y.rangeMin},j={x:r?m.x.apply(u,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(f,{position:"end"}):m.y.rangeMax};return ca(o,"discard")&&(!m.isInRange(b)||!m.isInRange(j))?null:dR(b,j)},yh=(function(e){function t(){return JX(this,t),rY(this,t,arguments)}return iY(t,e),tY(t,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,l=n.y1,u=n.y2,d=n.className,f=n.alwaysShow,v=n.clipPathId;Kn(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=sr(i),m=sr(o),b=sr(l),j=sr(u),x=this.props.shape;if(!h&&!m&&!b&&!j&&!x)return null;var y=sY(h,m,b,j,this.props);if(!y&&!x)return null;var w=ca(this.props,"hidden")?"url(#".concat(v,")"):void 0;return K.createElement(Ke,{className:Ue("recharts-reference-area",d)},t.renderRect(x,__(__({clipPath:w},Oe(this.props,!0)),y)),hr.renderCallByParent(this.props,y))}}])})(K.Component);gh(yh,"displayName","ReferenceArea");gh(yh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});gh(yh,"renderRect",function(e,t){var r;return K.isValidElement(e)?r=K.cloneElement(e,t):Fe(e)?r=e(t):r=K.createElement(R1,rS({},t,{className:"recharts-reference-area-rect"})),r});function zR(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function lY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return pX(n,r)}function cY(e,t,r){var n=r==="width",i=e.x,o=e.y,l=e.width,u=e.height;return t===1?{start:n?i:o,end:n?i+l:o+u}:{start:n?i+l:o+u,end:n?i:o}}function vp(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-i)<=0}function uY(e,t){return zR(e,t+1)}function dY(e,t,r,n,i){for(var o=(n||[]).slice(),l=t.start,u=t.end,d=0,f=1,v=l,h=function(){var j=n?.[d];if(j===void 0)return{v:zR(n,f)};var x=d,y,w=function(){return y===void 0&&(y=r(j,x)),y},k=j.coordinate,S=d===0||vp(e,k,w,v,u);S||(d=0,v=l,f+=1),S&&(v=k+e*(w()/2+i),d+=f)},m;f<=o.length;)if(m=h(),m)return m.v;return[]}function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function O_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(r),!0).forEach(function(n){fY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fY(e,t,r){return t=pY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pY(e){var t=hY(e,"string");return hu(t)=="symbol"?t:t+""}function hY(e,t){if(hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vY(e,t,r,n,i){for(var o=(n||[]).slice(),l=o.length,u=t.start,d=t.end,f=function(m){var b=o[m],j,x=function(){return j===void 0&&(j=r(b,m)),j};if(m===l-1){var y=e*(b.coordinate+e*x()/2-d);o[m]=b=Cr(Cr({},b),{},{tickCoord:y>0?b.coordinate-y*e:b.coordinate})}else o[m]=b=Cr(Cr({},b),{},{tickCoord:b.coordinate});var w=vp(e,b.tickCoord,x,u,d);w&&(d=b.tickCoord-e*(x()/2+i),o[m]=Cr(Cr({},b),{},{isShow:!0}))},v=l-1;v>=0;v--)f(v);return o}function mY(e,t,r,n,i,o){var l=(n||[]).slice(),u=l.length,d=t.start,f=t.end;if(o){var v=n[u-1],h=r(v,u-1),m=e*(v.coordinate+e*h/2-f);l[u-1]=v=Cr(Cr({},v),{},{tickCoord:m>0?v.coordinate-m*e:v.coordinate});var b=vp(e,v.tickCoord,function(){return h},d,f);b&&(f=v.tickCoord-e*(h/2+i),l[u-1]=Cr(Cr({},v),{},{isShow:!0}))}for(var j=o?u-1:u,x=function(k){var S=l[k],N,A=function(){return N===void 0&&(N=r(S,k)),N};if(k===0){var O=e*(S.coordinate-e*A()/2-d);l[k]=S=Cr(Cr({},S),{},{tickCoord:O<0?S.coordinate-O*e:S.coordinate})}else l[k]=S=Cr(Cr({},S),{},{tickCoord:S.coordinate});var _=vp(e,S.tickCoord,A,d,f);_&&(d=S.tickCoord+e*(A()/2+i),l[k]=Cr(Cr({},S),{},{isShow:!0}))},y=0;y<j;y++)x(y);return l}function $1(e,t,r){var n=e.tick,i=e.ticks,o=e.viewBox,l=e.minTickGap,u=e.orientation,d=e.interval,f=e.tickFormatter,v=e.unit,h=e.angle;if(!i||!i.length||!n)return[];if(ge(d)||qa.isSsr)return uY(i,typeof d=="number"&&ge(d)?d:0);var m=[],b=u==="top"||u==="bottom"?"width":"height",j=v&&b==="width"?Ac(v,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(S,N){var A=Fe(f)?f(S.value,N):S.value;return b==="width"?lY(Ac(A,{fontSize:t,letterSpacing:r}),j,h):Ac(A,{fontSize:t,letterSpacing:r})[b]},y=i.length>=2?Ir(i[1].coordinate-i[0].coordinate):1,w=cY(o,y,b);return d==="equidistantPreserveStart"?dY(y,w,x,i,l):(d==="preserveStart"||d==="preserveStartEnd"?m=mY(y,w,x,i,l,d==="preserveStartEnd"):m=vY(y,w,x,i,l),m.filter(function(k){return k.isShow}))}var gY=["viewBox"],yY=["viewBox"],xY=["ticks"];function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}function js(){return js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},js.apply(this,arguments)}function E_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E_(Object(r),!0).forEach(function(n){U1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sb(e,t){if(e==null)return{};var r=bY(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function SY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NR(n.key),n)}}function wY(e,t,r){return t&&T_(e.prototype,t),r&&T_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jY(e,t,r){return t=mp(t),kY(e,AR()?Reflect.construct(t,r||[],mp(e).constructor):t.apply(e,r))}function kY(e,t){if(t&&(Qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CY(e)}function CY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AR=function(){return!!e})()}function mp(e){return mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mp(e)}function zY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aS(e,t)}function aS(e,t){return aS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aS(e,t)}function U1(e,t,r){return t=NR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NR(e){var t=AY(e,"string");return Qs(t)=="symbol"?t:t+""}function AY(e,t){if(Qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xl=(function(e){function t(r){var n;return SY(this,t),n=jY(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return zY(t,e),wY(t,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,l=Sb(n,gY),u=this.props,d=u.viewBox,f=Sb(u,yY);return!zs(o,d)||!zs(l,f)||!zs(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,l=i.y,u=i.width,d=i.height,f=i.orientation,v=i.tickSize,h=i.mirror,m=i.tickMargin,b,j,x,y,w,k,S=h?-1:1,N=n.tickSize||v,A=ge(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":b=j=n.coordinate,y=l+ +!h*d,x=y-S*N,k=x-S*m,w=A;break;case"left":x=y=n.coordinate,j=o+ +!h*u,b=j-S*N,w=b-S*m,k=A;break;case"right":x=y=n.coordinate,j=o+ +h*u,b=j+S*N,w=b+S*m,k=A;break;default:b=j=n.coordinate,y=l+ +h*d,x=y+S*N,k=x+S*m,w=A;break}return{line:{x1:b,y1:x,x2:j,y2:y},tick:{x:w,y:k}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,l;switch(i){case"left":l=o?"start":"end";break;case"right":l=o?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,l="end";switch(i){case"left":case"right":l="middle";break;case"top":l=o?"start":"end";break;default:l=o?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,d=n.orientation,f=n.mirror,v=n.axisLine,h=ar(ar(ar({},Oe(this.props,!1)),Oe(v,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var m=+(d==="top"&&!f||d==="bottom"&&f);h=ar(ar({},h),{},{x1:i,y1:o+m*u,x2:i+l,y2:o+m*u})}else{var b=+(d==="left"&&!f||d==="right"&&f);h=ar(ar({},h),{},{x1:i+b*l,y1:o,x2:i+b*l,y2:o+u})}return K.createElement("line",js({},h,{className:Ue("recharts-cartesian-axis-line",fn(v,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var l=this,u=this.props,d=u.tickLine,f=u.stroke,v=u.tick,h=u.tickFormatter,m=u.unit,b=$1(ar(ar({},this.props),{},{ticks:n}),i,o),j=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),y=Oe(this.props,!1),w=Oe(v,!1),k=ar(ar({},y),{},{fill:"none"},Oe(d,!1)),S=b.map(function(N,A){var O=l.getTickLineCoord(N),_=O.line,T=O.tick,E=ar(ar(ar(ar({textAnchor:j,verticalAnchor:x},y),{},{stroke:"none",fill:f},w),T),{},{index:A,payload:N,visibleTicksCount:b.length,tickFormatter:h});return K.createElement(Ke,js({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Ni(l.props,N,A)),d&&K.createElement("line",js({},k,_,{className:Ue("recharts-cartesian-axis-tick-line",fn(d,"className"))})),v&&t.renderTickItem(v,E,"".concat(Fe(h)?h(N.value,A):N.value).concat(m||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,l=i.width,u=i.height,d=i.ticksGenerator,f=i.className,v=i.hide;if(v)return null;var h=this.props,m=h.ticks,b=Sb(h,xY),j=m;return Fe(d)&&(j=m&&m.length>0?d(this.props):d(b)),l<=0||u<=0||!j||!j.length?null:K.createElement(Ke,{className:Ue("recharts-cartesian-axis",f),ref:function(y){n.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(j,this.state.fontSize,this.state.letterSpacing),hr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var l,u=Ue(i.className,"recharts-cartesian-axis-tick-value");return K.isValidElement(n)?l=K.cloneElement(n,ar(ar({},i),{},{className:u})):Fe(n)?l=n(ar(ar({},i),{},{className:u})):l=K.createElement(wo,js({},i,{className:"recharts-cartesian-axis-tick-value"}),o),l}}])})(z.Component);U1(xl,"displayName","CartesianAxis");U1(xl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var NY=["x1","y1","x2","y2","key"],PY=["offset"];function Co(e){"@babel/helpers - typeof";return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Co(e)}function D_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D_(Object(r),!0).forEach(function(n){_Y(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Y(e,t,r){return t=OY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OY(e){var t=EY(e,"string");return Co(t)=="symbol"?t:t+""}function EY(e,t){if(Co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vo(){return vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vo.apply(this,arguments)}function R_(e,t){if(e==null)return{};var r=TY(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var DY=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,o=t.y,l=t.width,u=t.height,d=t.ry;return K.createElement("rect",{x:i,y:o,ry:d,width:l,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function PR(e,t){var r;if(K.isValidElement(e))r=K.cloneElement(e,t);else if(Fe(e))r=e(t);else{var n=t.x1,i=t.y1,o=t.x2,l=t.y2,u=t.key,d=R_(t,NY),f=Oe(d,!1);f.offset;var v=R_(f,PY);r=K.createElement("line",vo({},v,{x1:n,y1:i,x2:o,y2:l,fill:"none",key:u}))}return r}function RY(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var l=o.map(function(u,d){var f=zr(zr({},e),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return PR(i,f)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function IY(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,o=e.verticalPoints;if(!i||!o||!o.length)return null;var l=o.map(function(u,d){var f=zr(zr({},e),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return PR(i,f)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function MY(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,o=e.width,l=e.height,u=e.horizontalPoints,d=e.horizontal,f=d===void 0?!0:d;if(!f||!t||!t.length)return null;var v=u.map(function(m){return Math.round(m+i-i)}).sort(function(m,b){return m-b});i!==v[0]&&v.unshift(0);var h=v.map(function(m,b){var j=!v[b+1],x=j?i+l-m:v[b+1]-m;if(x<=0)return null;var y=b%t.length;return K.createElement("rect",{key:"react-".concat(b),y:m,x:n,height:x,width:o,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function LY(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,o=e.x,l=e.y,u=e.width,d=e.height,f=e.verticalPoints;if(!r||!n||!n.length)return null;var v=f.map(function(m){return Math.round(m+o-o)}).sort(function(m,b){return m-b});o!==v[0]&&v.unshift(0);var h=v.map(function(m,b){var j=!v[b+1],x=j?o+u-m:v[b+1]-m;if(x<=0)return null;var y=b%n.length;return K.createElement("rect",{key:"react-".concat(b),x:m,y:l,width:x,height:d,stroke:"none",fill:n[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var BY=function(t,r){var n=t.xAxis,i=t.width,o=t.height,l=t.offset;return OD($1(zr(zr(zr({},xl.defaultProps),n),{},{ticks:Ia(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),l.left,l.left+l.width,r)},FY=function(t,r){var n=t.yAxis,i=t.width,o=t.height,l=t.offset;return OD($1(zr(zr(zr({},xl.defaultProps),n),{},{ticks:Ia(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),l.top,l.top+l.height,r)},ls={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Hn(e){var t,r,n,i,o,l,u=B1(),d=F1(),f=AX(),v=zr(zr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ls.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ls.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ls.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:ls.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:ls.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:ls.verticalFill,x:ge(e.x)?e.x:f.left,y:ge(e.y)?e.y:f.top,width:ge(e.width)?e.width:f.width,height:ge(e.height)?e.height:f.height}),h=v.x,m=v.y,b=v.width,j=v.height,x=v.syncWithTicks,y=v.horizontalValues,w=v.verticalValues,k=kX(),S=CX();if(!ge(b)||b<=0||!ge(j)||j<=0||!ge(h)||h!==+h||!ge(m)||m!==+m)return null;var N=v.verticalCoordinatesGenerator||BY,A=v.horizontalCoordinatesGenerator||FY,O=v.horizontalPoints,_=v.verticalPoints;if((!O||!O.length)&&Fe(A)){var T=y&&y.length,E=A({yAxis:S?zr(zr({},S),{},{ticks:T?y:S.ticks}):void 0,width:u,height:d,offset:f},T?!0:x);Kn(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Co(E),"]")),Array.isArray(E)&&(O=E)}if((!_||!_.length)&&Fe(N)){var D=w&&w.length,M=N({xAxis:k?zr(zr({},k),{},{ticks:D?w:k.ticks}):void 0,width:u,height:d,offset:f},D?!0:x);Kn(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Co(M),"]")),Array.isArray(M)&&(_=M)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(DY,{fill:v.fill,fillOpacity:v.fillOpacity,x:v.x,y:v.y,width:v.width,height:v.height,ry:v.ry}),K.createElement(RY,vo({},v,{offset:f,horizontalPoints:O,xAxis:k,yAxis:S})),K.createElement(IY,vo({},v,{offset:f,verticalPoints:_,xAxis:k,yAxis:S})),K.createElement(MY,vo({},v,{horizontalPoints:O})),K.createElement(LY,vo({},v,{verticalPoints:_})))}Hn.displayName="CartesianGrid";var WY=["type","layout","connectNulls","ref"],$Y=["key"];function Js(e){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(e)}function I_(e,t){if(e==null)return{};var r=UY(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Tc(){return Tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tc.apply(this,arguments)}function M_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M_(Object(r),!0).forEach(function(n){$n(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cs(e){return VY(e)||GY(e)||KY(e)||HY()}function HY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KY(e,t){if(e){if(typeof e=="string")return iS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iS(e,t)}}function GY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VY(e){if(Array.isArray(e))return iS(e)}function iS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OR(n.key),n)}}function ZY(e,t,r){return t&&L_(e.prototype,t),r&&L_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XY(e,t,r){return t=gp(t),YY(e,_R()?Reflect.construct(t,r||[],gp(e).constructor):t.apply(e,r))}function YY(e,t){if(t&&(Js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QY(e)}function QY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_R=function(){return!!e})()}function gp(e){return gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gp(e)}function JY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oS(e,t)}function oS(e,t){return oS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oS(e,t)}function $n(e,t,r){return t=OR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OR(e){var t=eQ(e,"string");return Js(t)=="symbol"?t:t+""}function eQ(e,t){if(Js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qr=(function(e){function t(){var r;qY(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=XY(this,t,[].concat(i)),$n(r,"state",{isAnimationFinished:!0,totalLength:0}),$n(r,"generateSimpleStrokeDasharray",function(l,u){return"".concat(u,"px ").concat(l-u,"px")}),$n(r,"getStrokeDasharray",function(l,u,d){var f=d.reduce(function(w,k){return w+k});if(!f)return r.generateSimpleStrokeDasharray(u,l);for(var v=Math.floor(l/f),h=l%f,m=u-l,b=[],j=0,x=0;j<d.length;x+=d[j],++j)if(x+d[j]>h){b=[].concat(cs(d.slice(0,j)),[h-x]);break}var y=b.length%2===0?[0,m]:[m];return[].concat(cs(t.repeat(d,v)),cs(b),y).map(function(w){return"".concat(w,"px")}).join(", ")}),$n(r,"id",Ri("recharts-line-")),$n(r,"pathRef",function(l){r.mainCurve=l}),$n(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),$n(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return JY(t,e),ZY(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.points,u=o.xAxis,d=o.yAxis,f=o.layout,v=o.children,h=Br(v,yl);if(!h)return null;var m=function(x,y){return{x:x.x,y:x.y,value:x.value,errorVal:Ot(x.payload,y)}},b={clipPath:n?"url(#clipPath-".concat(i,")"):null};return K.createElement(Ke,b,h.map(function(j){return K.cloneElement(j,{key:"bar-".concat(j.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,dataPointFormatter:m})}))}},{key:"renderDots",value:function(n,i,o){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,f=u.points,v=u.dataKey,h=Oe(this.props,!1),m=Oe(d,!0),b=f.map(function(x,y){var w=nn(nn(nn({key:"dot-".concat(y),r:3},h),m),{},{index:y,cx:x.x,cy:x.y,value:x.value,dataKey:v,payload:x.payload,points:f});return t.renderDotItem(d,w)}),j={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return K.createElement(Ke,Tc({className:"recharts-line-dots",key:"dots"},j),b)}},{key:"renderCurveStatically",value:function(n,i,o,l){var u=this.props,d=u.type,f=u.layout,v=u.connectNulls;u.ref;var h=I_(u,WY),m=nn(nn(nn({},Oe(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:n},l),{},{type:d,layout:f,connectNulls:v});return K.createElement(Ci,Tc({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var o=this,l=this.props,u=l.points,d=l.strokeDasharray,f=l.isAnimationActive,v=l.animationBegin,h=l.animationDuration,m=l.animationEasing,b=l.animationId,j=l.animateNewValues,x=l.width,y=l.height,w=this.state,k=w.prevPoints,S=w.totalLength;return K.createElement(Pn,{begin:v,duration:h,isActive:f,easing:m,from:{t:0},to:{t:1},key:"line-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var A=N.t;if(k){var O=k.length/u.length,_=u.map(function(F,L){var V=Math.floor(L*O);if(k[V]){var H=k[V],Z=Wt(H.x,F.x),Y=Wt(H.y,F.y);return nn(nn({},F),{},{x:Z(A),y:Y(A)})}if(j){var U=Wt(x*2,F.x),B=Wt(y/2,F.y);return nn(nn({},F),{},{x:U(A),y:B(A)})}return nn(nn({},F),{},{x:F.x,y:F.y})});return o.renderCurveStatically(_,n,i)}var T=Wt(0,S),E=T(A),D;if(d){var M="".concat(d).split(/[,\s]+/gim).map(function(F){return parseFloat(F)});D=o.getStrokeDasharray(E,S,M)}else D=o.generateSimpleStrokeDasharray(S,E);return o.renderCurveStatically(u,n,i,{strokeDasharray:D})})}},{key:"renderCurve",value:function(n,i){var o=this.props,l=o.points,u=o.isAnimationActive,d=this.state,f=d.prevPoints,v=d.totalLength;return u&&l&&l.length&&(!f&&v>0||!Pi(f,l))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(l,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,l=i.dot,u=i.points,d=i.className,f=i.xAxis,v=i.yAxis,h=i.top,m=i.left,b=i.width,j=i.height,x=i.isAnimationActive,y=i.id;if(o||!u||!u.length)return null;var w=this.state.isAnimationFinished,k=u.length===1,S=Ue("recharts-line",d),N=f&&f.allowDataOverflow,A=v&&v.allowDataOverflow,O=N||A,_=Le(y)?this.id:y,T=(n=Oe(l,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=T.r,D=E===void 0?3:E,M=T.strokeWidth,F=M===void 0?2:M,L=TE(l)?l:{},V=L.clipDot,H=V===void 0?!0:V,Z=D*2+F;return K.createElement(Ke,{className:S},N||A?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(_)},K.createElement("rect",{x:N?m:m-b/2,y:A?h:h-j/2,width:N?b:b*2,height:A?j:j*2})),!H&&K.createElement("clipPath",{id:"clipPath-dots-".concat(_)},K.createElement("rect",{x:m-Z/2,y:h-Z/2,width:b+Z,height:j+Z}))):null,!k&&this.renderCurve(O,_),this.renderErrorBar(O,_),(k||l)&&this.renderDots(O,H,_),(!x||w)&&Gn.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var o=n.length%2!==0?[].concat(cs(n),[0]):n,l=[],u=0;u<i;++u)l=[].concat(cs(l),cs(o));return l}},{key:"renderDotItem",value:function(n,i){var o;if(K.isValidElement(n))o=K.cloneElement(n,i);else if(Fe(n))o=n(i);else{var l=i.key,u=I_(i,$Y),d=Ue("recharts-line-dot",typeof n!="boolean"?n.className:"");o=K.createElement(Au,Tc({key:l},u,{className:d}))}return o}}])})(z.PureComponent);$n(qr,"displayName","Line");$n(qr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!qa.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});$n(qr,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.dataKey,u=e.bandSize,d=e.displayedData,f=e.offset,v=t.layout,h=d.map(function(m,b){var j=Ot(m,l);return v==="horizontal"?{x:Ws({axis:r,ticks:i,bandSize:u,entry:m,index:b}),y:Le(j)?null:n.scale(j),value:j,payload:m}:{x:Le(j)?null:r.scale(j),y:Ws({axis:n,ticks:o,bandSize:u,entry:m,index:b}),value:j,payload:m}});return nn({points:h,layout:v},f)});var tQ=["layout","type","stroke","connectNulls","isRange","ref"],rQ=["key"],ER;function el(e){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},el(e)}function TR(e,t){if(e==null)return{};var r=nQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mo.apply(this,arguments)}function B_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B_(Object(r),!0).forEach(function(n){oa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RR(n.key),n)}}function iQ(e,t,r){return t&&F_(e.prototype,t),r&&F_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oQ(e,t,r){return t=yp(t),sQ(e,DR()?Reflect.construct(t,r||[],yp(e).constructor):t.apply(e,r))}function sQ(e,t){if(t&&(el(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lQ(e)}function lQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DR=function(){return!!e})()}function yp(e){return yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yp(e)}function cQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sS(e,t)}function sS(e,t){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sS(e,t)}function oa(e,t,r){return t=RR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RR(e){var t=uQ(e,"string");return el(t)=="symbol"?t:t+""}function uQ(e,t){if(el(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(el(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $a=(function(e){function t(){var r;aQ(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=oQ(this,t,[].concat(i)),oa(r,"state",{isAnimationFinished:!0}),oa(r,"id",Ri("recharts-area-")),oa(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Fe(l)&&l()}),oa(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Fe(l)&&l()}),r}return cQ(t,e),iQ(t,[{key:"renderDots",value:function(n,i,o){var l=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(l&&!u)return null;var d=this.props,f=d.dot,v=d.points,h=d.dataKey,m=Oe(this.props,!1),b=Oe(f,!0),j=v.map(function(y,w){var k=mi(mi(mi({key:"dot-".concat(w),r:3},m),b),{},{index:w,cx:y.x,cy:y.y,dataKey:h,value:y.value,payload:y.payload,points:v});return t.renderDotItem(f,k)}),x={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return K.createElement(Ke,mo({className:"recharts-area-dots"},x),j)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,o=i.baseLine,l=i.points,u=i.strokeWidth,d=l[0].x,f=l[l.length-1].x,v=n*Math.abs(d-f),h=bi(l.map(function(m){return m.y||0}));return ge(o)&&typeof o=="number"?h=Math.max(o,h):o&&Array.isArray(o)&&o.length&&(h=Math.max(bi(o.map(function(m){return m.y||0})),h)),ge(h)?K.createElement("rect",{x:d<f?d:d-v,y:0,width:v,height:Math.floor(h+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,o=i.baseLine,l=i.points,u=i.strokeWidth,d=l[0].y,f=l[l.length-1].y,v=n*Math.abs(d-f),h=bi(l.map(function(m){return m.x||0}));return ge(o)&&typeof o=="number"?h=Math.max(o,h):o&&Array.isArray(o)&&o.length&&(h=Math.max(bi(o.map(function(m){return m.x||0})),h)),ge(h)?K.createElement("rect",{x:0,y:d<f?d:d-v,width:h+(u?parseInt("".concat(u),10):1),height:Math.floor(v)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,o,l){var u=this.props,d=u.layout,f=u.type,v=u.stroke,h=u.connectNulls,m=u.isRange;u.ref;var b=TR(u,tQ);return K.createElement(Ke,{clipPath:o?"url(#clipPath-".concat(l,")"):null},K.createElement(Ci,mo({},Oe(b,!0),{points:n,connectNulls:h,type:f,baseLine:i,layout:d,stroke:"none",className:"recharts-area-area"})),v!=="none"&&K.createElement(Ci,mo({},Oe(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:h,fill:"none",points:n})),v!=="none"&&m&&K.createElement(Ci,mo({},Oe(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:h,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var o=this,l=this.props,u=l.points,d=l.baseLine,f=l.isAnimationActive,v=l.animationBegin,h=l.animationDuration,m=l.animationEasing,b=l.animationId,j=this.state,x=j.prevPoints,y=j.prevBaseLine;return K.createElement(Pn,{begin:v,duration:h,isActive:f,easing:m,from:{t:0},to:{t:1},key:"area-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var k=w.t;if(x){var S=x.length/u.length,N=u.map(function(T,E){var D=Math.floor(E*S);if(x[D]){var M=x[D],F=Wt(M.x,T.x),L=Wt(M.y,T.y);return mi(mi({},T),{},{x:F(k),y:L(k)})}return T}),A;if(ge(d)&&typeof d=="number"){var O=Wt(y,d);A=O(k)}else if(Le(d)||fl(d)){var _=Wt(y,0);A=_(k)}else A=d.map(function(T,E){var D=Math.floor(E*S);if(y[D]){var M=y[D],F=Wt(M.x,T.x),L=Wt(M.y,T.y);return mi(mi({},T),{},{x:F(k),y:L(k)})}return T});return o.renderAreaStatically(N,A,n,i)}return K.createElement(Ke,null,K.createElement("defs",null,K.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(k))),K.createElement(Ke,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(u,d,n,i)))})}},{key:"renderArea",value:function(n,i){var o=this.props,l=o.points,u=o.baseLine,d=o.isAnimationActive,f=this.state,v=f.prevPoints,h=f.prevBaseLine,m=f.totalLength;return d&&l&&l.length&&(!v&&m>0||!Pi(v,l)||!Pi(h,u))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(l,u,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,l=i.dot,u=i.points,d=i.className,f=i.top,v=i.left,h=i.xAxis,m=i.yAxis,b=i.width,j=i.height,x=i.isAnimationActive,y=i.id;if(o||!u||!u.length)return null;var w=this.state.isAnimationFinished,k=u.length===1,S=Ue("recharts-area",d),N=h&&h.allowDataOverflow,A=m&&m.allowDataOverflow,O=N||A,_=Le(y)?this.id:y,T=(n=Oe(l,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=T.r,D=E===void 0?3:E,M=T.strokeWidth,F=M===void 0?2:M,L=TE(l)?l:{},V=L.clipDot,H=V===void 0?!0:V,Z=D*2+F;return K.createElement(Ke,{className:S},N||A?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(_)},K.createElement("rect",{x:N?v:v-b/2,y:A?f:f-j/2,width:N?b:b*2,height:A?j:j*2})),!H&&K.createElement("clipPath",{id:"clipPath-dots-".concat(_)},K.createElement("rect",{x:v-Z/2,y:f-Z/2,width:b+Z,height:j+Z}))):null,k?null:this.renderArea(O,_),(l||k)&&this.renderDots(O,H,_),(!x||w)&&Gn.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(z.PureComponent);ER=$a;oa($a,"displayName","Area");oa($a,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!qa.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});oa($a,"getBaseValue",function(e,t,r,n){var i=e.layout,o=e.baseValue,l=t.props.baseValue,u=l??o;if(ge(u)&&typeof u=="number")return u;var d=i==="horizontal"?n:r,f=d.scale.domain();if(d.type==="number"){var v=Math.max(f[0],f[1]),h=Math.min(f[0],f[1]);return u==="dataMin"?h:u==="dataMax"||v<0?v:Math.max(Math.min(f[0],f[1]),0)}return u==="dataMin"?f[0]:u==="dataMax"?f[1]:f[0]});oa($a,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,u=e.bandSize,d=e.dataKey,f=e.stackedData,v=e.dataStartIndex,h=e.displayedData,m=e.offset,b=t.layout,j=f&&f.length,x=ER.getBaseValue(t,r,n,i),y=b==="horizontal",w=!1,k=h.map(function(N,A){var O;j?O=f[v+A]:(O=Ot(N,d),Array.isArray(O)?w=!0:O=[x,O]);var _=O[1]==null||j&&Ot(N,d)==null;return y?{x:Ws({axis:n,ticks:o,bandSize:u,entry:N,index:A}),y:_?null:i.scale(O[1]),value:O,payload:N}:{x:_?null:n.scale(O[1]),y:Ws({axis:i,ticks:l,bandSize:u,entry:N,index:A}),value:O,payload:N}}),S;return j||w?S=k.map(function(N){var A=Array.isArray(N.value)?N.value[0]:null;return y?{x:N.x,y:A!=null&&N.y!=null?i.scale(A):null}:{x:A!=null?n.scale(A):null,y:N.y}}):S=y?i.scale(x):n.scale(x),mi({points:k,baseLine:S,layout:b,isRange:w},m)});oa($a,"renderDotItem",function(e,t){var r;if(K.isValidElement(e))r=K.cloneElement(e,t);else if(Fe(e))r=e(t);else{var n=Ue("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,o=TR(t,rQ);r=K.createElement(Au,mo({},o,{key:i,className:n}))}return r});function tl(e){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(e)}function dQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LR(n.key),n)}}function pQ(e,t,r){return t&&fQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hQ(e,t,r){return t=xp(t),vQ(e,IR()?Reflect.construct(t,r||[],xp(e).constructor):t.apply(e,r))}function vQ(e,t){if(t&&(tl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mQ(e)}function mQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IR=function(){return!!e})()}function xp(e){return xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xp(e)}function gQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lS(e,t)}function lS(e,t){return lS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lS(e,t)}function MR(e,t,r){return t=LR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LR(e){var t=yQ(e,"string");return tl(t)=="symbol"?t:t+""}function yQ(e,t){if(tl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bl=(function(e){function t(){return dQ(this,t),hQ(this,t,arguments)}return gQ(t,e),pQ(t,[{key:"render",value:function(){return null}}])})(z.Component);MR(bl,"displayName","ZAxis");MR(bl,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var xQ=["option","isActive"];function Dc(){return Dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dc.apply(this,arguments)}function bQ(e,t){if(e==null)return{};var r=SQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wQ(e){var t=e.option,r=e.isActive,n=bQ(e,xQ);return typeof t=="string"?z.createElement(ip,Dc({option:z.createElement(Gp,Dc({type:t},n)),isActive:r,shapeType:"symbols"},n)):z.createElement(ip,Dc({option:t,isActive:r,shapeType:"symbols"},n))}function rl(e){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(e)}function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rc.apply(this,arguments)}function W_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(r),!0).forEach(function(n){wi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FR(n.key),n)}}function kQ(e,t,r){return t&&$_(e.prototype,t),r&&$_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function CQ(e,t,r){return t=bp(t),zQ(e,BR()?Reflect.construct(t,r||[],bp(e).constructor):t.apply(e,r))}function zQ(e,t){if(t&&(rl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AQ(e)}function AQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BR=function(){return!!e})()}function bp(e){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bp(e)}function NQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cS(e,t)}function cS(e,t){return cS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cS(e,t)}function wi(e,t,r){return t=FR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FR(e){var t=PQ(e,"string");return rl(t)=="symbol"?t:t+""}function PQ(e,t){if(rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _i=(function(e){function t(){var r;jQ(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=CQ(this,t,[].concat(i)),wi(r,"state",{isAnimationFinished:!1}),wi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),wi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),wi(r,"id",Ri("recharts-scatter-")),r}return NQ(t,e),kQ(t,[{key:"renderSymbolsStatically",value:function(n){var i=this,o=this.props,l=o.shape,u=o.activeShape,d=o.activeIndex,f=Oe(this.props,!1);return n.map(function(v,h){var m=d===h,b=m?u:l,j=Cn(Cn({},f),v);return K.createElement(Ke,Rc({className:"recharts-scatter-symbol",key:"symbol-".concat(v?.cx,"-").concat(v?.cy,"-").concat(v?.size,"-").concat(h)},Ni(i.props,v,h),{role:"img"}),K.createElement(wQ,Rc({option:b,isActive:m,key:"symbol-".concat(h)},j)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,i=this.props,o=i.points,l=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,f=i.animationEasing,v=i.animationId,h=this.state.prevPoints;return K.createElement(Pn,{begin:u,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var b=m.t,j=o.map(function(x,y){var w=h&&h[y];if(w){var k=Wt(w.cx,x.cx),S=Wt(w.cy,x.cy),N=Wt(w.size,x.size);return Cn(Cn({},x),{},{cx:k(b),cy:S(b),size:N(b)})}var A=Wt(0,x.size);return Cn(Cn({},x),{},{size:A(b)})});return K.createElement(Ke,null,n.renderSymbolsStatically(j))})}},{key:"renderSymbols",value:function(){var n=this.props,i=n.points,o=n.isAnimationActive,l=this.state.prevPoints;return o&&i&&i.length&&(!l||!Pi(l,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,u=i.yAxis,d=i.children,f=Br(d,yl);return f?f.map(function(v,h){var m=v.props,b=m.direction,j=m.dataKey;return K.cloneElement(v,{key:"".concat(b,"-").concat(j,"-").concat(o[h]),data:o,xAxis:l,yAxis:u,layout:b==="x"?"vertical":"horizontal",dataPointFormatter:function(y,w){return{x:y.cx,y:y.cy,value:b==="x"?+y.node.x:+y.node.y,errorVal:Ot(y,w)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,i=n.points,o=n.line,l=n.lineType,u=n.lineJointType,d=Oe(this.props,!1),f=Oe(o,!1),v,h;if(l==="joint")v=i.map(function(S){return{x:S.cx,y:S.cy}});else if(l==="fitting"){var m=xF(i),b=m.xmin,j=m.xmax,x=m.a,y=m.b,w=function(N){return x*N+y};v=[{x:b,y:w(b)},{x:j,y:w(j)}]}var k=Cn(Cn(Cn({},d),{},{fill:"none",stroke:d&&d.fill},f),{},{points:v});return K.isValidElement(o)?h=K.cloneElement(o,k):Fe(o)?h=o(k):h=K.createElement(Ci,Rc({},k,{type:u})),K.createElement(Ke,{className:"recharts-scatter-line",key:"recharts-scatter-line"},h)}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.points,l=n.line,u=n.className,d=n.xAxis,f=n.yAxis,v=n.left,h=n.top,m=n.width,b=n.height,j=n.id,x=n.isAnimationActive;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,w=Ue("recharts-scatter",u),k=d&&d.allowDataOverflow,S=f&&f.allowDataOverflow,N=k||S,A=Le(j)?this.id:j;return K.createElement(Ke,{className:w,clipPath:N?"url(#clipPath-".concat(A,")"):null},k||S?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(A)},K.createElement("rect",{x:k?v:v-m/2,y:S?h:h-b/2,width:k?m:m*2,height:S?b:b*2}))):null,l&&this.renderLine(),this.renderErrorBar(),K.createElement(Ke,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!x||y)&&Gn.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}}])})(z.PureComponent);wi(_i,"displayName","Scatter");wi(_i,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!qa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});wi(_i,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,i=e.item,o=e.displayedData,l=e.xAxisTicks,u=e.yAxisTicks,d=e.offset,f=i.props.tooltipType,v=Br(i.props.children,hl),h=Le(t.dataKey)?i.props.dataKey:t.dataKey,m=Le(r.dataKey)?i.props.dataKey:r.dataKey,b=n&&n.dataKey,j=n?n.range:bl.defaultProps.range,x=j&&j[0],y=t.scale.bandwidth?t.scale.bandwidth():0,w=r.scale.bandwidth?r.scale.bandwidth():0,k=o.map(function(S,N){var A=Ot(S,h),O=Ot(S,m),_=!Le(b)&&Ot(S,b)||"-",T=[{name:Le(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:A,payload:S,dataKey:h,type:f},{name:Le(r.dataKey)?i.props.name:r.name||r.dataKey,unit:r.unit||"",value:O,payload:S,dataKey:m,type:f}];_!=="-"&&T.push({name:n.name||n.dataKey,unit:n.unit||"",value:_,payload:S,dataKey:b,type:f});var E=Ws({axis:t,ticks:l,bandSize:y,entry:S,index:N,dataKey:h}),D=Ws({axis:r,ticks:u,bandSize:w,entry:S,index:N,dataKey:m}),M=_!=="-"?n.scale(_):x,F=Math.sqrt(Math.max(M,0)/Math.PI);return Cn(Cn({},S),{},{cx:E,cy:D,x:E-F,y:D-F,xAxis:t,yAxis:r,zAxis:n,width:2*F,height:2*F,size:M,node:{x:A,y:O,z:_},tooltipPayload:T,tooltipPosition:{x:E,y:D},payload:S},v&&v[N]&&v[N].props)});return Cn({points:k},d)});function nl(e){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}function _Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UR(n.key),n)}}function EQ(e,t,r){return t&&OQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TQ(e,t,r){return t=Sp(t),DQ(e,WR()?Reflect.construct(t,r||[],Sp(e).constructor):t.apply(e,r))}function DQ(e,t){if(t&&(nl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RQ(e)}function RQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WR=function(){return!!e})()}function Sp(e){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sp(e)}function IQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uS(e,t)}function uS(e,t){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uS(e,t)}function $R(e,t,r){return t=UR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UR(e){var t=MQ(e,"string");return nl(t)=="symbol"?t:t+""}function MQ(e,t){if(nl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function dS(){return dS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dS.apply(this,arguments)}function LQ(e){var t=e.xAxisId,r=B1(),n=F1(),i=yR(t);return i==null?null:z.createElement(xl,dS({},i,{className:Ue("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(l){return Ia(l,!0)}}))}var yt=(function(e){function t(){return _Q(this,t),TQ(this,t,arguments)}return IQ(t,e),EQ(t,[{key:"render",value:function(){return z.createElement(LQ,this.props)}}])})(z.Component);$R(yt,"displayName","XAxis");$R(yt,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function BQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GR(n.key),n)}}function WQ(e,t,r){return t&&FQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Q(e,t,r){return t=wp(t),UQ(e,HR()?Reflect.construct(t,r||[],wp(e).constructor):t.apply(e,r))}function UQ(e,t){if(t&&(al(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HQ(e)}function HQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HR=function(){return!!e})()}function wp(e){return wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wp(e)}function KQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fS(e,t)}function fS(e,t){return fS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fS(e,t)}function KR(e,t,r){return t=GR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GR(e){var t=GQ(e,"string");return al(t)=="symbol"?t:t+""}function GQ(e,t){if(al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function pS(){return pS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pS.apply(this,arguments)}var VQ=function(t){var r=t.yAxisId,n=B1(),i=F1(),o=xR(r);return o==null?null:z.createElement(xl,pS({},o,{className:Ue("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return Ia(u,!0)}}))},xt=(function(e){function t(){return BQ(this,t),$Q(this,t,arguments)}return KQ(t,e),WQ(t,[{key:"render",value:function(){return z.createElement(VQ,this.props)}}])})(z.Component);KR(xt,"displayName","YAxis");KR(xt,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function U_(e){return YQ(e)||XQ(e)||ZQ(e)||qQ()}function qQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZQ(e,t){if(e){if(typeof e=="string")return hS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hS(e,t)}}function XQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YQ(e){if(Array.isArray(e))return hS(e)}function hS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vS=function(t,r,n,i,o){var l=Br(t,hh),u=Br(t,mh),d=[].concat(U_(l),U_(u)),f=Br(t,yh),v="".concat(i,"Id"),h=i[0],m=r;if(d.length&&(m=d.reduce(function(x,y){if(y.props[v]===n&&ca(y.props,"extendDomain")&&ge(y.props[h])){var w=y.props[h];return[Math.min(x[0],w),Math.max(x[1],w)]}return x},m)),f.length){var b="".concat(h,"1"),j="".concat(h,"2");m=f.reduce(function(x,y){if(y.props[v]===n&&ca(y.props,"extendDomain")&&ge(y.props[b])&&ge(y.props[j])){var w=y.props[b],k=y.props[j];return[Math.min(x[0],w,k),Math.max(x[1],w,k)]}return x},m)}return o&&o.length&&(m=o.reduce(function(x,y){return ge(y)?[Math.min(x[0],y),Math.max(x[1],y)]:x},m)),m},wb={exports:{}},H_;function QQ(){return H_||(H_=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,f,v){this.fn=d,this.context=f,this.once=v||!1}function o(d,f,v,h,m){if(typeof v!="function")throw new TypeError("The listener must be a function");var b=new i(v,h||d,m),j=r?r+f:f;return d._events[j]?d._events[j].fn?d._events[j]=[d._events[j],b]:d._events[j].push(b):(d._events[j]=b,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],v,h;if(this._eventsCount===0)return f;for(h in v=this._events)t.call(v,h)&&f.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(v)):f},u.prototype.listeners=function(f){var v=r?r+f:f,h=this._events[v];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,b=h.length,j=new Array(b);m<b;m++)j[m]=h[m].fn;return j},u.prototype.listenerCount=function(f){var v=r?r+f:f,h=this._events[v];return h?h.fn?1:h.length:0},u.prototype.emit=function(f,v,h,m,b,j){var x=r?r+f:f;if(!this._events[x])return!1;var y=this._events[x],w=arguments.length,k,S;if(y.fn){switch(y.once&&this.removeListener(f,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,v),!0;case 3:return y.fn.call(y.context,v,h),!0;case 4:return y.fn.call(y.context,v,h,m),!0;case 5:return y.fn.call(y.context,v,h,m,b),!0;case 6:return y.fn.call(y.context,v,h,m,b,j),!0}for(S=1,k=new Array(w-1);S<w;S++)k[S-1]=arguments[S];y.fn.apply(y.context,k)}else{var N=y.length,A;for(S=0;S<N;S++)switch(y[S].once&&this.removeListener(f,y[S].fn,void 0,!0),w){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,v);break;case 3:y[S].fn.call(y[S].context,v,h);break;case 4:y[S].fn.call(y[S].context,v,h,m);break;default:if(!k)for(A=1,k=new Array(w-1);A<w;A++)k[A-1]=arguments[A];y[S].fn.apply(y[S].context,k)}}return!0},u.prototype.on=function(f,v,h){return o(this,f,v,h,!1)},u.prototype.once=function(f,v,h){return o(this,f,v,h,!0)},u.prototype.removeListener=function(f,v,h,m){var b=r?r+f:f;if(!this._events[b])return this;if(!v)return l(this,b),this;var j=this._events[b];if(j.fn)j.fn===v&&(!m||j.once)&&(!h||j.context===h)&&l(this,b);else{for(var x=0,y=[],w=j.length;x<w;x++)(j[x].fn!==v||m&&!j[x].once||h&&j[x].context!==h)&&y.push(j[x]);y.length?this._events[b]=y.length===1?y[0]:y:l(this,b)}return this},u.prototype.removeAllListeners=function(f){var v;return f?(v=r?r+f:f,this._events[v]&&l(this,v)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(wb)),wb.exports}var JQ=QQ();const eJ=pt(JQ);var jb=new eJ,kb="recharts.syncMouseEvents";function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function tJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VR(n.key),n)}}function nJ(e,t,r){return t&&rJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cb(e,t,r){return t=VR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VR(e){var t=aJ(e,"string");return vu(t)=="symbol"?t:t+""}function aJ(e,t){if(vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var iJ=(function(){function e(){tJ(this,e),Cb(this,"activeIndex",0),Cb(this,"coordinateList",[]),Cb(this,"layout","horizontal")}return nJ(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,l=r.container,u=l===void 0?null:l,d=r.layout,f=d===void 0?null:d,v=r.offset,h=v===void 0?null:v,m=r.mouseHandlerCallback,b=m===void 0?null:m;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,l=i.y,u=i.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,v=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=o+d+f,m=l+this.offset.top+u/2+v;this.mouseHandlerCallback({pageX:h,pageY:m})}}}])})();function oJ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],i=e?.[1];if(n&&i&&ge(n)&&ge(i))return!0}return!1}function sJ(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function qR(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,o=e.endAngle,l=zt(t,r,n,i),u=zt(t,r,n,o);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:i,endAngle:o}}function lJ(e,t,r){var n,i,o,l;if(e==="horizontal")n=t.x,o=n,i=r.top,l=r.top+r.height;else if(e==="vertical")i=t.y,l=i,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,d=t.cy,f=t.innerRadius,v=t.outerRadius,h=t.angle,m=zt(u,d,f,h),b=zt(u,d,v,h);n=m.x,i=m.y,o=b.x,l=b.y}else return qR(t);return[{x:n,y:i},{x:o,y:l}]}function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function K_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ef(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(r),!0).forEach(function(n){cJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cJ(e,t,r){return t=uJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uJ(e){var t=dJ(e,"string");return mu(t)=="symbol"?t:t+""}function dJ(e,t){if(mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fJ(e){var t,r,n=e.element,i=e.tooltipEventType,o=e.isActive,l=e.activeCoordinate,u=e.activePayload,d=e.offset,f=e.activeTooltipIndex,v=e.tooltipAxisBandSize,h=e.layout,m=e.chartName,b=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!b||!o||!l||m!=="ScatterChart"&&i!=="axis")return null;var j,x=Ci;if(m==="ScatterChart")j=l,x=iq;else if(m==="BarChart")j=sJ(h,l,d,v),x=R1;else if(h==="radial"){var y=qR(l),w=y.cx,k=y.cy,S=y.radius,N=y.startAngle,A=y.endAngle;j={cx:w,cy:k,startAngle:N,endAngle:A,innerRadius:S,outerRadius:S},x=$D}else j={points:lJ(h,l,d)},x=Ci;var O=ef(ef(ef(ef({stroke:"#ccc",pointerEvents:"none"},d),j),Oe(b,!1)),{},{payload:u,payloadIndex:f,className:Ue("recharts-tooltip-cursor",b.className)});return z.isValidElement(b)?z.cloneElement(b,O):z.createElement(x,O)}var pJ=["item"],hJ=["children","className","width","height","style","compact","title","desc"];function il(e){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(e)}function ks(){return ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ks.apply(this,arguments)}function G_(e,t){return gJ(e)||mJ(e,t)||XR(e,t)||vJ()}function vJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function gJ(e){if(Array.isArray(e))return e}function V_(e,t){if(e==null)return{};var r=yJ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YR(n.key),n)}}function SJ(e,t,r){return t&&bJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wJ(e,t,r){return t=jp(t),jJ(e,ZR()?Reflect.construct(t,r||[],jp(e).constructor):t.apply(e,r))}function jJ(e,t){if(t&&(il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kJ(e)}function kJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZR=function(){return!!e})()}function jp(e){return jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jp(e)}function CJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mS(e,t)}function mS(e,t){return mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mS(e,t)}function ol(e){return NJ(e)||AJ(e)||XR(e)||zJ()}function zJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XR(e,t){if(e){if(typeof e=="string")return gS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gS(e,t)}}function AJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NJ(e){if(Array.isArray(e))return gS(e)}function gS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(r),!0).forEach(function(n){We(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function We(e,t,r){return t=YR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YR(e){var t=PJ(e,"string");return il(t)=="symbol"?t:t+""}function PJ(e,t){if(il(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _J={xAxis:["bottom","top"],yAxis:["left","right"]},OJ={width:"100%",height:"100%"},QR={x:0,y:0};function tf(e){return e}var EJ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},TJ=function(t,r,n,i){var o=r.find(function(v){return v&&v.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var l=o.coordinate,u=i.radius;return ce(ce(ce({},i),zt(i.cx,i.cy,u,l)),{},{angle:l,radius:u})}var d=o.coordinate,f=i.angle;return ce(ce(ce({},i),zt(i.cx,i.cy,d,f)),{},{angle:f,radius:d})}return QR},xh=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,l=(n??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(ol(u),ol(f)):u},[]);return l.length>0?l:t&&t.length&&ge(i)&&ge(o)?t.slice(i,o+1):[]};function JR(e){return e==="number"?[0,"auto"]:void 0}var yS=function(t,r,n,i){var o=t.graphicalItems,l=t.tooltipAxis,u=xh(r,t);return n<0||!o||!o.length||n>=u.length?null:o.reduce(function(d,f){var v,h=(v=f.props.data)!==null&&v!==void 0?v:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(l.dataKey&&!l.allowDuplicatedCategory){var b=h===void 0?u:h;m=wf(b,l.dataKey,i)}else m=h&&h[n]||u[n];return m?[].concat(ol(d),[ID(f,m)]):d},[])},Z_=function(t,r,n,i){var o=i||{x:t.chartX,y:t.chartY},l=EJ(o,n),u=t.orderedTooltipTicks,d=t.tooltipAxis,f=t.tooltipTicks,v=CG(l,u,f,d);if(v>=0&&f){var h=f[v]&&f[v].value,m=yS(t,r,v,h),b=TJ(n,u,v,o);return{activeTooltipIndex:v,activeLabel:h,activePayload:m,activeCoordinate:b}}return null},DJ=function(t,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,v=t.layout,h=t.children,m=t.stackOffset,b=_D(v,o);return n.reduce(function(j,x){var y,w=x.type.defaultProps!==void 0?ce(ce({},x.type.defaultProps),x.props):x.props,k=w.type,S=w.dataKey,N=w.allowDataOverflow,A=w.allowDuplicatedCategory,O=w.scale,_=w.ticks,T=w.includeHidden,E=w[l];if(j[E])return j;var D=xh(t.data,{graphicalItems:i.filter(function(q){var oe,fe=l in q.props?q.props[l]:(oe=q.type.defaultProps)===null||oe===void 0?void 0:oe[l];return fe===E}),dataStartIndex:d,dataEndIndex:f}),M=D.length,F,L,V;oJ(w.domain,N,k)&&(F=P0(w.domain,null,N),b&&(k==="number"||O!=="auto")&&(V=Pc(D,S,"category")));var H=JR(k);if(!F||F.length===0){var Z,Y=(Z=w.domain)!==null&&Z!==void 0?Z:H;if(S){if(F=Pc(D,S,k),k==="category"&&b){var U=yF(F);A&&U?(L=F,F=sp(0,M)):A||(F=VN(Y,F,x).reduce(function(q,oe){return q.indexOf(oe)>=0?q:[].concat(ol(q),[oe])},[]))}else if(k==="category")A?F=F.filter(function(q){return q!==""&&!Le(q)}):F=VN(Y,F,x).reduce(function(q,oe){return q.indexOf(oe)>=0||oe===""||Le(oe)?q:[].concat(ol(q),[oe])},[]);else if(k==="number"){var B=_G(D,i.filter(function(q){var oe,fe,ye=l in q.props?q.props[l]:(oe=q.type.defaultProps)===null||oe===void 0?void 0:oe[l],se="hide"in q.props?q.props.hide:(fe=q.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return ye===E&&(T||!se)}),S,o,v);B&&(F=B)}b&&(k==="number"||O!=="auto")&&(V=Pc(D,S,"category"))}else b?F=sp(0,M):u&&u[E]&&u[E].hasStack&&k==="number"?F=m==="expand"?[0,1]:RD(u[E].stackGroups,d,f):F=PD(D,i.filter(function(q){var oe=l in q.props?q.props[l]:q.type.defaultProps[l],fe="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return oe===E&&(T||!fe)}),k,v,!0);if(k==="number")F=vS(h,F,E,o,_),Y&&(F=P0(Y,F,N));else if(k==="category"&&Y){var W=Y,$=F.every(function(q){return W.indexOf(q)>=0});$&&(F=W)}}return ce(ce({},j),{},We({},E,ce(ce({},w),{},{axisType:o,domain:F,categoricalDomain:V,duplicateDomain:L,originalDomain:(y=w.domain)!==null&&y!==void 0?y:H,isCategorical:b,layout:v})))},{})},RJ=function(t,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,v=t.layout,h=t.children,m=xh(t.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),b=m.length,j=_D(v,o),x=-1;return n.reduce(function(y,w){var k=w.type.defaultProps!==void 0?ce(ce({},w.type.defaultProps),w.props):w.props,S=k[l],N=JR("number");if(!y[S]){x++;var A;return j?A=sp(0,b):u&&u[S]&&u[S].hasStack?(A=RD(u[S].stackGroups,d,f),A=vS(h,A,S,o)):(A=P0(N,PD(m,n.filter(function(O){var _,T,E=l in O.props?O.props[l]:(_=O.type.defaultProps)===null||_===void 0?void 0:_[l],D="hide"in O.props?O.props.hide:(T=O.type.defaultProps)===null||T===void 0?void 0:T.hide;return E===S&&!D}),"number",v),i.defaultProps.allowDataOverflow),A=vS(h,A,S,o)),ce(ce({},y),{},We({},S,ce(ce({axisType:o},i.defaultProps),{},{hide:!0,orientation:fn(_J,"".concat(o,".").concat(x%2),null),domain:A,originalDomain:N,isCategorical:j,layout:v})))}return y},{})},IJ=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,l=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,v=t.children,h="".concat(i,"Id"),m=Br(v,o),b={};return m&&m.length?b=DJ(t,{axes:m,graphicalItems:l,axisType:i,axisIdKey:h,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):l&&l.length&&(b=RJ(t,{Axis:o,graphicalItems:l,axisType:i,axisIdKey:h,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),b},MJ=function(t){var r=xi(t),n=Ia(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:l1(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Vf(r,n)}},X_=function(t){var r=t.children,n=t.defaultShowTooltip,i=on(r,Vs),o=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(l=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!n}},LJ=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ma(r&&r.type);return n&&n.indexOf("Bar")>=0})},Y_=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},BJ=function(t,r){var n=t.props,i=t.graphicalItems,o=t.xAxisMap,l=o===void 0?{}:o,u=t.yAxisMap,d=u===void 0?{}:u,f=n.width,v=n.height,h=n.children,m=n.margin||{},b=on(h,Vs),j=on(h,Ct),x=Object.keys(d).reduce(function(A,O){var _=d[O],T=_.orientation;return!_.mirror&&!_.hide?ce(ce({},A),{},We({},T,A[T]+_.width)):A},{left:m.left||0,right:m.right||0}),y=Object.keys(l).reduce(function(A,O){var _=l[O],T=_.orientation;return!_.mirror&&!_.hide?ce(ce({},A),{},We({},T,fn(A,"".concat(T))+_.height)):A},{top:m.top||0,bottom:m.bottom||0}),w=ce(ce({},y),x),k=w.bottom;b&&(w.bottom+=b.props.height||Vs.defaultProps.height),j&&r&&(w=NG(w,i,n,r));var S=f-w.left-w.right,N=v-w.top-w.bottom;return ce(ce({brushBottom:k},w),{},{width:Math.max(S,0),height:Math.max(N,0)})},FJ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Nu=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,o=i===void 0?"axis":i,l=t.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=t.axisComponents,f=t.legendContent,v=t.formatAxisMap,h=t.defaultProps,m=function(w,k){var S=k.graphicalItems,N=k.stackGroups,A=k.offset,O=k.updateId,_=k.dataStartIndex,T=k.dataEndIndex,E=w.barSize,D=w.layout,M=w.barGap,F=w.barCategoryGap,L=w.maxBarSize,V=Y_(D),H=V.numericAxisName,Z=V.cateAxisName,Y=LJ(S),U=[];return S.forEach(function(B,W){var $=xh(w.data,{graphicalItems:[B],dataStartIndex:_,dataEndIndex:T}),q=B.type.defaultProps!==void 0?ce(ce({},B.type.defaultProps),B.props):B.props,oe=q.dataKey,fe=q.maxBarSize,ye=q["".concat(H,"Id")],se=q["".concat(Z,"Id")],re={},xe=d.reduce(function(Kt,cr){var He=k["".concat(cr.axisType,"Map")],Ve=q["".concat(cr.axisType,"Id")];He&&He[Ve]||cr.axisType==="zAxis"||ko();var St=He[Ve];return ce(ce({},Kt),{},We(We({},cr.axisType,St),"".concat(cr.axisType,"Ticks"),Ia(St)))},re),ae=xe[Z],pe=xe["".concat(Z,"Ticks")],Se=N&&N[ye]&&N[ye].hasStack&&BG(B,N[ye].stackGroups),le=Ma(B.type).indexOf("Bar")>=0,Be=Vf(ae,pe),De=[],Ye=Y&&zG({barSize:E,stackGroups:N,totalSize:FJ(xe,Z)});if(le){var tt,Qe,st=Le(fe)?L:fe,lt=(tt=(Qe=Vf(ae,pe,!0))!==null&&Qe!==void 0?Qe:st)!==null&&tt!==void 0?tt:0;De=AG({barGap:M,barCategoryGap:F,bandSize:lt!==Be?lt:Be,sizeList:Ye[se],maxBarSize:st}),lt!==Be&&(De=De.map(function(Kt){return ce(ce({},Kt),{},{position:ce(ce({},Kt.position),{},{offset:Kt.position.offset-lt/2})})}))}var At=B&&B.type&&B.type.getComposedData;At&&U.push({props:ce(ce({},At(ce(ce({},xe),{},{displayedData:$,props:w,dataKey:oe,item:B,bandSize:Be,barPosition:De,offset:A,stackedData:Se,layout:D,dataStartIndex:_,dataEndIndex:T}))),{},We(We(We({key:B.key||"item-".concat(W)},H,xe[H]),Z,xe[Z]),"animationId",O)),childIndex:OF(B,w.children),item:B})}),U},b=function(w,k){var S=w.props,N=w.dataStartIndex,A=w.dataEndIndex,O=w.updateId;if(!lC({props:S}))return null;var _=S.children,T=S.layout,E=S.stackOffset,D=S.data,M=S.reverseStackOrder,F=Y_(T),L=F.numericAxisName,V=F.cateAxisName,H=Br(_,n),Z=MG(D,H,"".concat(L,"Id"),"".concat(V,"Id"),E,M),Y=d.reduce(function(q,oe){var fe="".concat(oe.axisType,"Map");return ce(ce({},q),{},We({},fe,IJ(S,ce(ce({},oe),{},{graphicalItems:H,stackGroups:oe.axisType===L&&Z,dataStartIndex:N,dataEndIndex:A}))))},{}),U=BJ(ce(ce({},Y),{},{props:S,graphicalItems:H}),k?.legendBBox);Object.keys(Y).forEach(function(q){Y[q]=v(S,Y[q],U,q.replace("Map",""),r)});var B=Y["".concat(V,"Map")],W=MJ(B),$=m(S,ce(ce({},Y),{},{dataStartIndex:N,dataEndIndex:A,updateId:O,graphicalItems:H,stackGroups:Z,offset:U}));return ce(ce({formattedGraphicalItems:$,graphicalItems:H,offset:U,stackGroups:Z},W),Y)},j=(function(y){function w(k){var S,N,A;return xJ(this,w),A=wJ(this,w,[k]),We(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),We(A,"accessibilityManager",new iJ),We(A,"handleLegendBBoxUpdate",function(O){if(O){var _=A.state,T=_.dataStartIndex,E=_.dataEndIndex,D=_.updateId;A.setState(ce({legendBBox:O},b({props:A.props,dataStartIndex:T,dataEndIndex:E,updateId:D},ce(ce({},A.state),{},{legendBBox:O}))))}}),We(A,"handleReceiveSyncEvent",function(O,_,T){if(A.props.syncId===O){if(T===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(_)}}),We(A,"handleBrushChange",function(O){var _=O.startIndex,T=O.endIndex;if(_!==A.state.dataStartIndex||T!==A.state.dataEndIndex){var E=A.state.updateId;A.setState(function(){return ce({dataStartIndex:_,dataEndIndex:T},b({props:A.props,dataStartIndex:_,dataEndIndex:T,updateId:E},A.state))}),A.triggerSyncEvent({dataStartIndex:_,dataEndIndex:T})}}),We(A,"handleMouseEnter",function(O){var _=A.getMouseInfo(O);if(_){var T=ce(ce({},_),{},{isTooltipActive:!0});A.setState(T),A.triggerSyncEvent(T);var E=A.props.onMouseEnter;Fe(E)&&E(T,O)}}),We(A,"triggeredAfterMouseMove",function(O){var _=A.getMouseInfo(O),T=_?ce(ce({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(T),A.triggerSyncEvent(T);var E=A.props.onMouseMove;Fe(E)&&E(T,O)}),We(A,"handleItemMouseEnter",function(O){A.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),We(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),We(A,"handleMouseMove",function(O){O.persist(),A.throttleTriggeredAfterMouseMove(O)}),We(A,"handleMouseLeave",function(O){A.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};A.setState(_),A.triggerSyncEvent(_);var T=A.props.onMouseLeave;Fe(T)&&T(_,O)}),We(A,"handleOuterEvent",function(O){var _=_F(O),T=fn(A.props,"".concat(_));if(_&&Fe(T)){var E,D;/.*touch.*/i.test(_)?D=A.getMouseInfo(O.changedTouches[0]):D=A.getMouseInfo(O),T((E=D)!==null&&E!==void 0?E:{},O)}}),We(A,"handleClick",function(O){var _=A.getMouseInfo(O);if(_){var T=ce(ce({},_),{},{isTooltipActive:!0});A.setState(T),A.triggerSyncEvent(T);var E=A.props.onClick;Fe(E)&&E(T,O)}}),We(A,"handleMouseDown",function(O){var _=A.props.onMouseDown;if(Fe(_)){var T=A.getMouseInfo(O);_(T,O)}}),We(A,"handleMouseUp",function(O){var _=A.props.onMouseUp;if(Fe(_)){var T=A.getMouseInfo(O);_(T,O)}}),We(A,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),We(A,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&A.handleMouseDown(O.changedTouches[0])}),We(A,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&A.handleMouseUp(O.changedTouches[0])}),We(A,"handleDoubleClick",function(O){var _=A.props.onDoubleClick;if(Fe(_)){var T=A.getMouseInfo(O);_(T,O)}}),We(A,"handleContextMenu",function(O){var _=A.props.onContextMenu;if(Fe(_)){var T=A.getMouseInfo(O);_(T,O)}}),We(A,"triggerSyncEvent",function(O){A.props.syncId!==void 0&&jb.emit(kb,A.props.syncId,O,A.eventEmitterSymbol)}),We(A,"applySyncEvent",function(O){var _=A.props,T=_.layout,E=_.syncMethod,D=A.state.updateId,M=O.dataStartIndex,F=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)A.setState(ce({dataStartIndex:M,dataEndIndex:F},b({props:A.props,dataStartIndex:M,dataEndIndex:F,updateId:D},A.state)));else if(O.activeTooltipIndex!==void 0){var L=O.chartX,V=O.chartY,H=O.activeTooltipIndex,Z=A.state,Y=Z.offset,U=Z.tooltipTicks;if(!Y)return;if(typeof E=="function")H=E(U,O);else if(E==="value"){H=-1;for(var B=0;B<U.length;B++)if(U[B].value===O.activeLabel){H=B;break}}var W=ce(ce({},Y),{},{x:Y.left,y:Y.top}),$=Math.min(L,W.x+W.width),q=Math.min(V,W.y+W.height),oe=U[H]&&U[H].value,fe=yS(A.state,A.props.data,H),ye=U[H]?{x:T==="horizontal"?U[H].coordinate:$,y:T==="horizontal"?q:U[H].coordinate}:QR;A.setState(ce(ce({},O),{},{activeLabel:oe,activeCoordinate:ye,activePayload:fe,activeTooltipIndex:H}))}else A.setState(O)}),We(A,"renderCursor",function(O){var _,T=A.state,E=T.isTooltipActive,D=T.activeCoordinate,M=T.activePayload,F=T.offset,L=T.activeTooltipIndex,V=T.tooltipAxisBandSize,H=A.getTooltipEventType(),Z=(_=O.props.active)!==null&&_!==void 0?_:E,Y=A.props.layout,U=O.key||"_recharts-cursor";return K.createElement(fJ,{key:U,activeCoordinate:D,activePayload:M,activeTooltipIndex:L,chartName:r,element:O,isActive:Z,layout:Y,offset:F,tooltipAxisBandSize:V,tooltipEventType:H})}),We(A,"renderPolarAxis",function(O,_,T){var E=fn(O,"type.axisType"),D=fn(A.state,"".concat(E,"Map")),M=O.type.defaultProps,F=M!==void 0?ce(ce({},M),O.props):O.props,L=D&&D[F["".concat(E,"Id")]];return z.cloneElement(O,ce(ce({},L),{},{className:Ue(E,L.className),key:O.key||"".concat(_,"-").concat(T),ticks:Ia(L,!0)}))}),We(A,"renderPolarGrid",function(O){var _=O.props,T=_.radialLines,E=_.polarAngles,D=_.polarRadius,M=A.state,F=M.radiusAxisMap,L=M.angleAxisMap,V=xi(F),H=xi(L),Z=H.cx,Y=H.cy,U=H.innerRadius,B=H.outerRadius;return z.cloneElement(O,{polarAngles:Array.isArray(E)?E:Ia(H,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(D)?D:Ia(V,!0).map(function(W){return W.coordinate}),cx:Z,cy:Y,innerRadius:U,outerRadius:B,key:O.key||"polar-grid",radialLines:T})}),We(A,"renderLegend",function(){var O=A.state.formattedGraphicalItems,_=A.props,T=_.children,E=_.width,D=_.height,M=A.props.margin||{},F=E-(M.left||0)-(M.right||0),L=AD({children:T,formattedGraphicalItems:O,legendWidth:F,legendContent:f});if(!L)return null;var V=L.item,H=V_(L,pJ);return z.cloneElement(V,ce(ce({},H),{},{chartWidth:E,chartHeight:D,margin:M,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),We(A,"renderTooltip",function(){var O,_=A.props,T=_.children,E=_.accessibilityLayer,D=on(T,it);if(!D)return null;var M=A.state,F=M.isTooltipActive,L=M.activeCoordinate,V=M.activePayload,H=M.activeLabel,Z=M.offset,Y=(O=D.props.active)!==null&&O!==void 0?O:F;return z.cloneElement(D,{viewBox:ce(ce({},Z),{},{x:Z.left,y:Z.top}),active:Y,label:H,payload:Y?V:[],coordinate:L,accessibilityLayer:E})}),We(A,"renderBrush",function(O){var _=A.props,T=_.margin,E=_.data,D=A.state,M=D.offset,F=D.dataStartIndex,L=D.dataEndIndex,V=D.updateId;return z.cloneElement(O,{key:O.key||"_recharts-brush",onChange:Xd(A.handleBrushChange,O.props.onChange),data:E,x:ge(O.props.x)?O.props.x:M.left,y:ge(O.props.y)?O.props.y:M.top+M.height+M.brushBottom-(T.bottom||0),width:ge(O.props.width)?O.props.width:M.width,startIndex:F,endIndex:L,updateId:"brush-".concat(V)})}),We(A,"renderReferenceElement",function(O,_,T){if(!O)return null;var E=A,D=E.clipPathId,M=A.state,F=M.xAxisMap,L=M.yAxisMap,V=M.offset,H=O.type.defaultProps||{},Z=O.props,Y=Z.xAxisId,U=Y===void 0?H.xAxisId:Y,B=Z.yAxisId,W=B===void 0?H.yAxisId:B;return z.cloneElement(O,{key:O.key||"".concat(_,"-").concat(T),xAxis:F[U],yAxis:L[W],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:D})}),We(A,"renderActivePoints",function(O){var _=O.item,T=O.activePoint,E=O.basePoint,D=O.childIndex,M=O.isRange,F=[],L=_.props.key,V=_.item.type.defaultProps!==void 0?ce(ce({},_.item.type.defaultProps),_.item.props):_.item.props,H=V.activeDot,Z=V.dataKey,Y=ce(ce({index:D,dataKey:Z,cx:T.x,cy:T.y,r:4,fill:D1(_.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Oe(H,!1)),jf(H));return F.push(w.renderActiveDot(H,Y,"".concat(L,"-activePoint-").concat(D))),E?F.push(w.renderActiveDot(H,ce(ce({},Y),{},{cx:E.x,cy:E.y}),"".concat(L,"-basePoint-").concat(D))):M&&F.push(null),F}),We(A,"renderGraphicChild",function(O,_,T){var E=A.filterFormatItem(O,_,T);if(!E)return null;var D=A.getTooltipEventType(),M=A.state,F=M.isTooltipActive,L=M.tooltipAxis,V=M.activeTooltipIndex,H=M.activeLabel,Z=A.props.children,Y=on(Z,it),U=E.props,B=U.points,W=U.isRange,$=U.baseLine,q=E.item.type.defaultProps!==void 0?ce(ce({},E.item.type.defaultProps),E.item.props):E.item.props,oe=q.activeDot,fe=q.hide,ye=q.activeBar,se=q.activeShape,re=!!(!fe&&F&&Y&&(oe||ye||se)),xe={};D!=="axis"&&Y&&Y.props.trigger==="click"?xe={onClick:Xd(A.handleItemMouseEnter,O.props.onClick)}:D!=="axis"&&(xe={onMouseLeave:Xd(A.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:Xd(A.handleItemMouseEnter,O.props.onMouseEnter)});var ae=z.cloneElement(O,ce(ce({},E.props),xe));function pe(cr){return typeof L.dataKey=="function"?L.dataKey(cr.payload):null}if(re)if(V>=0){var Se,le;if(L.dataKey&&!L.allowDuplicatedCategory){var Be=typeof L.dataKey=="function"?pe:"payload.".concat(L.dataKey.toString());Se=wf(B,Be,H),le=W&&$&&wf($,Be,H)}else Se=B?.[V],le=W&&$&&$[V];if(se||ye){var De=O.props.activeIndex!==void 0?O.props.activeIndex:V;return[z.cloneElement(O,ce(ce(ce({},E.props),xe),{},{activeIndex:De})),null,null]}if(!Le(Se))return[ae].concat(ol(A.renderActivePoints({item:E,activePoint:Se,basePoint:le,childIndex:V,isRange:W})))}else{var Ye,tt=(Ye=A.getItemByXY(A.state.activeCoordinate))!==null&&Ye!==void 0?Ye:{graphicalItem:ae},Qe=tt.graphicalItem,st=Qe.item,lt=st===void 0?O:st,At=Qe.childIndex,Kt=ce(ce(ce({},E.props),xe),{},{activeIndex:At});return[z.cloneElement(lt,Kt),null,null]}return W?[ae,null,null]:[ae,null]}),We(A,"renderCustomized",function(O,_,T){return z.cloneElement(O,ce(ce({key:"recharts-customized-".concat(T)},A.props),A.state))}),We(A,"renderMap",{CartesianGrid:{handler:tf,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:tf},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:tf},YAxis:{handler:tf},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((S=k.id)!==null&&S!==void 0?S:Ri("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=zT(A.triggeredAfterMouseMove,(N=k.throttleDelay)!==null&&N!==void 0?N:1e3/60),A.state={},A}return CJ(w,y),SJ(w,[{key:"componentDidMount",value:function(){var S,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,N=S.children,A=S.data,O=S.height,_=S.layout,T=on(N,it);if(T){var E=T.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,M=yS(this.state,A,E,D),F=this.state.tooltipTicks[E].coordinate,L=(this.state.offset.top+O)/2,V=_==="horizontal",H=V?{x:F,y:L}:{y:F,x:L},Z=this.state.formattedGraphicalItems.find(function(U){var B=U.item;return B.type.name==="Scatter"});Z&&(H=ce(ce({},H),Z.props.points[E].tooltipPosition),M=Z.props.points[E].tooltipPayload);var Y={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:D,activePayload:M,activeCoordinate:H};this.setState(Y),this.renderCursor(T),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var A,O;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(S){Yb([on(S.children,it)],[on(this.props.children,it)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=on(this.props.children,it);if(S&&typeof S.props.shared=="boolean"){var N=S.props.shared?"axis":"item";return u.indexOf(N)>=0?N:o}return o}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var N=this.container,A=N.getBoundingClientRect(),O=g8(A),_={chartX:Math.round(S.pageX-O.left),chartY:Math.round(S.pageY-O.top)},T=A.width/N.offsetWidth||1,E=this.inRange(_.chartX,_.chartY,T);if(!E)return null;var D=this.state,M=D.xAxisMap,F=D.yAxisMap,L=this.getTooltipEventType(),V=Z_(this.state,this.props.data,this.props.layout,E);if(L!=="axis"&&M&&F){var H=xi(M).scale,Z=xi(F).scale,Y=H&&H.invert?H.invert(_.chartX):null,U=Z&&Z.invert?Z.invert(_.chartY):null;return ce(ce({},_),{},{xValue:Y,yValue:U},V)}return V?ce(ce({},_),V):null}},{key:"inRange",value:function(S,N){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,_=S/A,T=N/A;if(O==="horizontal"||O==="vertical"){var E=this.state.offset,D=_>=E.left&&_<=E.left+E.width&&T>=E.top&&T<=E.top+E.height;return D?{x:_,y:T}:null}var M=this.state,F=M.angleAxisMap,L=M.radiusAxisMap;if(F&&L){var V=xi(F);return XN({x:_,y:T},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,N=this.getTooltipEventType(),A=on(S,it),O={};A&&N==="axis"&&(A.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=jf(this.props,this.handleOuterEvent);return ce(ce({},_),O)}},{key:"addListener",value:function(){jb.on(kb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){jb.removeListener(kb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,N,A){for(var O=this.state.formattedGraphicalItems,_=0,T=O.length;_<T;_++){var E=O[_];if(E.item===S||E.props.key===S.key||N===Ma(E.item.type)&&A===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,N=this.state.offset,A=N.left,O=N.top,_=N.height,T=N.width;return K.createElement("defs",null,K.createElement("clipPath",{id:S},K.createElement("rect",{x:A,y:O,height:_,width:T})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(N,A){var O=G_(A,2),_=O[0],T=O[1];return ce(ce({},N),{},We({},_,T.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(N,A){var O=G_(A,2),_=O[0],T=O[1];return ce(ce({},N),{},We({},_,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[S])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(S){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[S])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(S){var N=this.state,A=N.formattedGraphicalItems,O=N.activeItem;if(A&&A.length)for(var _=0,T=A.length;_<T;_++){var E=A[_],D=E.props,M=E.item,F=M.type.defaultProps!==void 0?ce(ce({},M.type.defaultProps),M.props):M.props,L=Ma(M.type);if(L==="Bar"){var V=(D.data||[]).find(function(U){return B7(S,U)});if(V)return{graphicalItem:E,payload:V}}else if(L==="RadialBar"){var H=(D.data||[]).find(function(U){return XN(S,U)});if(H)return{graphicalItem:E,payload:H}}else if(uh(E,O)||dh(E,O)||uu(E,O)){var Z=lZ({graphicalItem:E,activeTooltipItem:O,itemData:F.data}),Y=F.activeIndex===void 0?Z:F.activeIndex;return{graphicalItem:ce(ce({},E),{},{childIndex:Y}),payload:uu(E,O)?F.data[Z]:E.props.data[Z]}}}return null}},{key:"render",value:function(){var S=this;if(!lC(this))return null;var N=this.props,A=N.children,O=N.className,_=N.width,T=N.height,E=N.style,D=N.compact,M=N.title,F=N.desc,L=V_(N,hJ),V=Oe(L,!1);if(D)return K.createElement(j_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(Jb,ks({},V,{width:_,height:T,title:M,desc:F}),this.renderClipPath(),uC(A,this.renderMap)));if(this.props.accessibilityLayer){var H,Z;V.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,V.role=(Z=this.props.role)!==null&&Z!==void 0?Z:"application",V.onKeyDown=function(U){S.accessibilityManager.keyboardEvent(U)},V.onFocus=function(){S.accessibilityManager.focus()}}var Y=this.parseEventsOfWrapper();return K.createElement(j_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",ks({className:Ue("recharts-wrapper",O),style:ce({position:"relative",cursor:"default",width:_,height:T},E)},Y,{ref:function(B){S.container=B}}),K.createElement(Jb,ks({},V,{width:_,height:T,title:M,desc:F,style:OJ}),this.renderClipPath(),uC(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(z.Component);We(j,"displayName",r),We(j,"defaultProps",ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),We(j,"getDerivedStateFromProps",function(y,w){var k=y.dataKey,S=y.data,N=y.children,A=y.width,O=y.height,_=y.layout,T=y.stackOffset,E=y.margin,D=w.dataStartIndex,M=w.dataEndIndex;if(w.updateId===void 0){var F=X_(y);return ce(ce(ce({},F),{},{updateId:0},b(ce(ce({props:y},F),{},{updateId:0}),w)),{},{prevDataKey:k,prevData:S,prevWidth:A,prevHeight:O,prevLayout:_,prevStackOffset:T,prevMargin:E,prevChildren:N})}if(k!==w.prevDataKey||S!==w.prevData||A!==w.prevWidth||O!==w.prevHeight||_!==w.prevLayout||T!==w.prevStackOffset||!zs(E,w.prevMargin)){var L=X_(y),V={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},H=ce(ce({},Z_(w,S,_)),{},{updateId:w.updateId+1}),Z=ce(ce(ce({},L),V),H);return ce(ce(ce({},Z),b(ce({props:y},Z),w)),{},{prevDataKey:k,prevData:S,prevWidth:A,prevHeight:O,prevLayout:_,prevStackOffset:T,prevMargin:E,prevChildren:N})}if(!Yb(N,w.prevChildren)){var Y,U,B,W,$=on(N,Vs),q=$&&(Y=(U=$.props)===null||U===void 0?void 0:U.startIndex)!==null&&Y!==void 0?Y:D,oe=$&&(B=(W=$.props)===null||W===void 0?void 0:W.endIndex)!==null&&B!==void 0?B:M,fe=q!==D||oe!==M,ye=!Le(S),se=ye&&!fe?w.updateId:w.updateId+1;return ce(ce({updateId:se},b(ce(ce({props:y},w),{},{updateId:se,dataStartIndex:q,dataEndIndex:oe}),w)),{},{prevChildren:N,dataStartIndex:q,dataEndIndex:oe})}return null}),We(j,"renderActiveDot",function(y,w,k){var S;return z.isValidElement(y)?S=z.cloneElement(y,w):Fe(y)?S=y(w):S=K.createElement(Au,w),K.createElement(Ke,{className:"recharts-active-dot",key:k},S)});var x=z.forwardRef(function(w,k){return K.createElement(j,ks({},w,{ref:k}))});return x.displayName=j.displayName,x},eI=Nu({chartName:"LineChart",GraphicalChild:qr,axisComponents:[{axisType:"xAxis",AxisComp:yt},{axisType:"yAxis",AxisComp:xt}],formatAxisMap:ph}),Nr=Nu({chartName:"BarChart",GraphicalChild:Te,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:yt},{axisType:"yAxis",AxisComp:xt}],formatAxisMap:ph}),tI=Nu({chartName:"PieChart",GraphicalChild:va,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ch},{axisType:"radiusAxis",AxisComp:sh}],formatAxisMap:ZG,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),rI=Nu({chartName:"ScatterChart",GraphicalChild:_i,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:yt},{axisType:"yAxis",AxisComp:xt},{axisType:"zAxis",AxisComp:bl}],formatAxisMap:ph}),WJ=Nu({chartName:"AreaChart",GraphicalChild:$a,axisComponents:[{axisType:"xAxis",AxisComp:yt},{axisType:"yAxis",AxisComp:xt}],formatAxisMap:ph});function Q_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Sl(...e){return t=>{let r=!1;const n=e.map(i=>{const o=Q_(i,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let i=0;i<n.length;i++){const o=n[i];typeof o=="function"?o():Q_(e[i],null)}}}}function Mt(...e){return z.useCallback(Sl(...e),e)}function $J(e,t){const r=z.createContext(t),n=o=>{const{children:l,...u}=o,d=z.useMemo(()=>u,Object.values(u));return a.jsx(r.Provider,{value:d,children:l})};n.displayName=e+"Provider";function i(o){const l=z.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,i]}function Ro(e,t=[]){let r=[];function n(o,l){const u=z.createContext(l),d=r.length;r=[...r,l];const f=h=>{const{scope:m,children:b,...j}=h,x=m?.[e]?.[d]||u,y=z.useMemo(()=>j,Object.values(j));return a.jsx(x.Provider,{value:y,children:b})};f.displayName=o+"Provider";function v(h,m){const b=m?.[e]?.[d]||u,j=z.useContext(b);if(j)return j;if(l!==void 0)return l;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[f,v]}const i=()=>{const o=r.map(l=>z.createContext(l));return function(u){const d=u?.[e]||o;return z.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return i.scopeName=e,[n,UJ(i,...t)]}function UJ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=n.reduce((u,{useScope:d,scopeName:f})=>{const h=d(o)[`__scope${f}`];return{...u,...h}},{});return z.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}function Xe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}var Pr=globalThis?.document?z.useLayoutEffect:()=>{},HJ=MS[" useInsertionEffect ".trim().toString()]||Pr;function sl({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,o,l]=KJ({defaultProp:t,onChange:r}),u=e!==void 0,d=u?e:i;{const v=z.useRef(e!==void 0);z.useEffect(()=>{const h=v.current;h!==u&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=u},[u,n])}const f=z.useCallback(v=>{if(u){const h=GJ(v)?v(e):v;h!==e&&l.current?.(h)}else o(v)},[u,e,o,l]);return[d,f]}function KJ({defaultProp:e,onChange:t}){const[r,n]=z.useState(e),i=z.useRef(r),o=z.useRef(t);return HJ(()=>{o.current=t},[t]),z.useEffect(()=>{i.current!==r&&(o.current?.(r),i.current=r)},[r,i]),[r,n,o]}function GJ(e){return typeof e=="function"}function nI(e){const t=z.useRef({value:e,previous:e});return z.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function aI(e){const[t,r]=z.useState(void 0);return Pr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let l,u;if("borderBoxSize"in o){const d=o.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,u=f.blockSize}else l=e.offsetWidth,u=e.offsetHeight;r({width:l,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}function VJ(e,t){return z.useReducer((r,n)=>t[r][n]??r,e)}var wl=e=>{const{present:t,children:r}=e,n=qJ(t),i=typeof r=="function"?r({present:n.isPresent}):z.Children.only(r),o=Mt(n.ref,ZJ(i));return typeof r=="function"||n.isPresent?z.cloneElement(i,{ref:o}):null};wl.displayName="Presence";function qJ(e){const[t,r]=z.useState(),n=z.useRef(null),i=z.useRef(e),o=z.useRef("none"),l=e?"mounted":"unmounted",[u,d]=VJ(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return z.useEffect(()=>{const f=rf(n.current);o.current=u==="mounted"?f:"none"},[u]),Pr(()=>{const f=n.current,v=i.current;if(v!==e){const m=o.current,b=rf(f);e?d("MOUNT"):b==="none"||f?.display==="none"?d("UNMOUNT"):d(v&&m!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,d]),Pr(()=>{if(t){let f;const v=t.ownerDocument.defaultView??window,h=b=>{const x=rf(n.current).includes(CSS.escape(b.animationName));if(b.target===t&&x&&(d("ANIMATION_END"),!i.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",f=v.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=b=>{b.target===t&&(o.current=rf(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{v.clearTimeout(f),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:z.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function rf(e){return e?.animationName||"none"}function ZJ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function XJ(e){const t=YJ(e),r=z.forwardRef((n,i)=>{const{children:o,...l}=n,u=z.Children.toArray(o),d=u.find(JJ);if(d){const f=d.props.children,v=u.map(h=>h===d?z.Children.count(f)>1?z.Children.only(null):z.isValidElement(f)?f.props.children:null:h);return a.jsx(t,{...l,ref:i,children:z.isValidElement(f)?z.cloneElement(f,void 0,v):null})}return a.jsx(t,{...l,ref:i,children:o})});return r.displayName=`${e}.Slot`,r}function YJ(e){const t=z.forwardRef((r,n)=>{const{children:i,...o}=r;if(z.isValidElement(i)){const l=tee(i),u=eee(o,i.props);return i.type!==z.Fragment&&(u.ref=n?Sl(n,l):l),z.cloneElement(i,u)}return z.Children.count(i)>1?z.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var QJ=Symbol("radix.slottable");function JJ(e){return z.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===QJ}function eee(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function tee(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ree=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Je=ree.reduce((e,t)=>{const r=XJ(`Primitive.${t}`),n=z.forwardRef((i,o)=>{const{asChild:l,...u}=i,d=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...u,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function nee(e,t){e&&zu.flushSync(()=>e.dispatchEvent(t))}var bh="Checkbox",[aee]=Ro(bh),[iee,H1]=aee(bh);function oee(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:i,disabled:o,form:l,name:u,onCheckedChange:d,required:f,value:v="on",internal_do_not_use_render:h}=e,[m,b]=sl({prop:r,defaultProp:i??!1,onChange:d,caller:bh}),[j,x]=z.useState(null),[y,w]=z.useState(null),k=z.useRef(!1),S=j?!!l||!!j.closest("form"):!0,N={checked:m,disabled:o,setChecked:b,control:j,setControl:x,name:u,form:l,value:v,hasConsumerStoppedPropagationRef:k,required:f,defaultChecked:zi(i)?!1:i,isFormControl:S,bubbleInput:y,setBubbleInput:w};return a.jsx(iee,{scope:t,...N,children:see(h)?h(N):n})}var iI="CheckboxTrigger",oI=z.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},i)=>{const{control:o,value:l,disabled:u,checked:d,required:f,setControl:v,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:b,bubbleInput:j}=H1(iI,e),x=Mt(i,v),y=z.useRef(d);return z.useEffect(()=>{const w=o?.form;if(w){const k=()=>h(y.current);return w.addEventListener("reset",k),()=>w.removeEventListener("reset",k)}},[o,h]),a.jsx(Je.button,{type:"button",role:"checkbox","aria-checked":zi(d)?"mixed":d,"aria-required":f,"data-state":fI(d),"data-disabled":u?"":void 0,disabled:u,value:l,...n,ref:x,onKeyDown:Xe(t,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Xe(r,w=>{h(k=>zi(k)?!0:!k),j&&b&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})})});oI.displayName=iI;var sI=z.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:o,required:l,disabled:u,value:d,onCheckedChange:f,form:v,...h}=e;return a.jsx(oee,{__scopeCheckbox:r,checked:i,defaultChecked:o,disabled:u,required:l,onCheckedChange:f,name:n,form:v,value:d,internal_do_not_use_render:({isFormControl:m})=>a.jsxs(a.Fragment,{children:[a.jsx(oI,{...h,ref:t,__scopeCheckbox:r}),m&&a.jsx(dI,{__scopeCheckbox:r})]})})});sI.displayName=bh;var lI="CheckboxIndicator",cI=z.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,o=H1(lI,r);return a.jsx(wl,{present:n||zi(o.checked)||o.checked===!0,children:a.jsx(Je.span,{"data-state":fI(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});cI.displayName=lI;var uI="CheckboxBubbleInput",dI=z.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:l,required:u,disabled:d,name:f,value:v,form:h,bubbleInput:m,setBubbleInput:b}=H1(uI,e),j=Mt(r,b),x=nI(o),y=aI(n);z.useEffect(()=>{const k=m;if(!k)return;const S=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(S,"checked").set,O=!i.current;if(x!==o&&A){const _=new Event("click",{bubbles:O});k.indeterminate=zi(o),A.call(k,zi(o)?!1:o),k.dispatchEvent(_)}},[m,x,o,i]);const w=z.useRef(zi(o)?!1:o);return a.jsx(Je.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??w.current,required:u,disabled:d,name:f,value:v,form:h,...t,tabIndex:-1,ref:j,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});dI.displayName=uI;function see(e){return typeof e=="function"}function zi(e){return e==="indeterminate"}function fI(e){return zi(e)?"indeterminate":e?"checked":"unchecked"}const lee=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},cee=(e,t)=>({classGroupId:e,validator:t}),pI=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),kp="-",J_=[],uee="arbitrary..",dee=e=>{const t=pee(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return fee(l);const u=l.split(kp),d=u[0]===""&&u.length>1?1:0;return hI(u,d,t)},getConflictingClassGroupIds:(l,u)=>{if(u){const d=n[l],f=r[l];return d?f?lee(f,d):d:f||J_}return r[l]||J_}}},hI=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const i=e[t],o=r.nextPart.get(i);if(o){const f=hI(e,t+1,o);if(f)return f}const l=r.validators;if(l===null)return;const u=t===0?e.join(kp):e.slice(t).join(kp),d=l.length;for(let f=0;f<d;f++){const v=l[f];if(v.validator(u))return v.classGroupId}},fee=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?uee+n:void 0})(),pee=e=>{const{theme:t,classGroups:r}=e;return hee(r,t)},hee=(e,t)=>{const r=pI();for(const n in e){const i=e[n];K1(i,r,n,t)}return r},K1=(e,t,r,n)=>{const i=e.length;for(let o=0;o<i;o++){const l=e[o];vee(l,t,r,n)}},vee=(e,t,r,n)=>{if(typeof e=="string"){mee(e,t,r);return}if(typeof e=="function"){gee(e,t,r,n);return}yee(e,t,r,n)},mee=(e,t,r)=>{const n=e===""?t:vI(t,e);n.classGroupId=r},gee=(e,t,r,n)=>{if(xee(e)){K1(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(cee(r,e))},yee=(e,t,r,n)=>{const i=Object.entries(e),o=i.length;for(let l=0;l<o;l++){const[u,d]=i[l];K1(d,vI(t,u),r,n)}},vI=(e,t)=>{let r=e;const n=t.split(kp),i=n.length;for(let o=0;o<i;o++){const l=n[o];let u=r.nextPart.get(l);u||(u=pI(),r.nextPart.set(l,u)),r=u}return r},xee=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,bee=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const i=(o,l)=>{r[o]=l,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(o){let l=r[o];if(l!==void 0)return l;if((l=n[o])!==void 0)return i(o,l),l},set(o,l){o in r?r[o]=l:i(o,l)}}},xS="!",eO=":",See=[],tO=(e,t,r,n,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:i}),wee=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=i=>{const o=[];let l=0,u=0,d=0,f;const v=i.length;for(let x=0;x<v;x++){const y=i[x];if(l===0&&u===0){if(y===eO){o.push(i.slice(d,x)),d=x+1;continue}if(y==="/"){f=x;continue}}y==="["?l++:y==="]"?l--:y==="("?u++:y===")"&&u--}const h=o.length===0?i:i.slice(d);let m=h,b=!1;h.endsWith(xS)?(m=h.slice(0,-1),b=!0):h.startsWith(xS)&&(m=h.slice(1),b=!0);const j=f&&f>d?f-d:void 0;return tO(o,b,m,j)};if(t){const i=t+eO,o=n;n=l=>l.startsWith(i)?o(l.slice(i.length)):tO(See,!1,l,void 0,!0)}if(r){const i=n;n=o=>r({className:o,parseClassName:i})}return n},jee=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let i=[];for(let o=0;o<r.length;o++){const l=r[o],u=l[0]==="[",d=t.has(l);u||d?(i.length>0&&(i.sort(),n.push(...i),i=[]),n.push(l)):i.push(l)}return i.length>0&&(i.sort(),n.push(...i)),n}},kee=e=>({cache:bee(e.cacheSize),parseClassName:wee(e),sortModifiers:jee(e),...dee(e)}),Cee=/\s+/,zee=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:o}=t,l=[],u=e.trim().split(Cee);let d="";for(let f=u.length-1;f>=0;f-=1){const v=u[f],{isExternal:h,modifiers:m,hasImportantModifier:b,baseClassName:j,maybePostfixModifierPosition:x}=r(v);if(h){d=v+(d.length>0?" "+d:d);continue}let y=!!x,w=n(y?j.substring(0,x):j);if(!w){if(!y){d=v+(d.length>0?" "+d:d);continue}if(w=n(j),!w){d=v+(d.length>0?" "+d:d);continue}y=!1}const k=m.length===0?"":m.length===1?m[0]:o(m).join(":"),S=b?k+xS:k,N=S+w;if(l.indexOf(N)>-1)continue;l.push(N);const A=i(w,y);for(let O=0;O<A.length;++O){const _=A[O];l.push(S+_)}d=v+(d.length>0?" "+d:d)}return d},Aee=(...e)=>{let t=0,r,n,i="";for(;t<e.length;)(r=e[t++])&&(n=mI(r))&&(i&&(i+=" "),i+=n);return i},mI=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=mI(e[n]))&&(r&&(r+=" "),r+=t);return r},Nee=(e,...t)=>{let r,n,i,o;const l=d=>{const f=t.reduce((v,h)=>h(v),e());return r=kee(f),n=r.cache.get,i=r.cache.set,o=u,u(d)},u=d=>{const f=n(d);if(f)return f;const v=zee(d,r);return i(d,v),v};return o=l,(...d)=>o(Aee(...d))},Pee=[],ir=e=>{const t=r=>r[e]||Pee;return t.isThemeGetter=!0,t},gI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,yI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,_ee=/^\d+\/\d+$/,Oee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Eee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Tee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Dee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ree=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,us=e=>_ee.test(e),qe=e=>!!e&&!Number.isNaN(Number(e)),vi=e=>!!e&&Number.isInteger(Number(e)),zb=e=>e.endsWith("%")&&qe(e.slice(0,-1)),_a=e=>Oee.test(e),Iee=()=>!0,Mee=e=>Eee.test(e)&&!Tee.test(e),xI=()=>!1,Lee=e=>Dee.test(e),Bee=e=>Ree.test(e),Fee=e=>!Ne(e)&&!Pe(e),Wee=e=>jl(e,wI,xI),Ne=e=>gI.test(e),ao=e=>jl(e,jI,Mee),Ab=e=>jl(e,Gee,qe),rO=e=>jl(e,bI,xI),$ee=e=>jl(e,SI,Bee),nf=e=>jl(e,kI,Lee),Pe=e=>yI.test(e),yc=e=>kl(e,jI),Uee=e=>kl(e,Vee),nO=e=>kl(e,bI),Hee=e=>kl(e,wI),Kee=e=>kl(e,SI),af=e=>kl(e,kI,!0),jl=(e,t,r)=>{const n=gI.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},kl=(e,t,r=!1)=>{const n=yI.exec(e);return n?n[1]?t(n[1]):r:!1},bI=e=>e==="position"||e==="percentage",SI=e=>e==="image"||e==="url",wI=e=>e==="length"||e==="size"||e==="bg-size",jI=e=>e==="length",Gee=e=>e==="number",Vee=e=>e==="family-name",kI=e=>e==="shadow",qee=()=>{const e=ir("color"),t=ir("font"),r=ir("text"),n=ir("font-weight"),i=ir("tracking"),o=ir("leading"),l=ir("breakpoint"),u=ir("container"),d=ir("spacing"),f=ir("radius"),v=ir("shadow"),h=ir("inset-shadow"),m=ir("text-shadow"),b=ir("drop-shadow"),j=ir("blur"),x=ir("perspective"),y=ir("aspect"),w=ir("ease"),k=ir("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...N(),Pe,Ne],O=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],T=()=>[Pe,Ne,d],E=()=>[us,"full","auto",...T()],D=()=>[vi,"none","subgrid",Pe,Ne],M=()=>["auto",{span:["full",vi,Pe,Ne]},vi,Pe,Ne],F=()=>[vi,"auto",Pe,Ne],L=()=>["auto","min","max","fr",Pe,Ne],V=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],H=()=>["start","end","center","stretch","center-safe","end-safe"],Z=()=>["auto",...T()],Y=()=>[us,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],U=()=>[e,Pe,Ne],B=()=>[...N(),nO,rO,{position:[Pe,Ne]}],W=()=>["no-repeat",{repeat:["","x","y","space","round"]}],$=()=>["auto","cover","contain",Hee,Wee,{size:[Pe,Ne]}],q=()=>[zb,yc,ao],oe=()=>["","none","full",f,Pe,Ne],fe=()=>["",qe,yc,ao],ye=()=>["solid","dashed","dotted","double"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>[qe,zb,nO,rO],xe=()=>["","none",j,Pe,Ne],ae=()=>["none",qe,Pe,Ne],pe=()=>["none",qe,Pe,Ne],Se=()=>[qe,Pe,Ne],le=()=>[us,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[_a],breakpoint:[_a],color:[Iee],container:[_a],"drop-shadow":[_a],ease:["in","out","in-out"],font:[Fee],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[_a],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[_a],shadow:[_a],spacing:["px",qe],text:[_a],"text-shadow":[_a],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",us,Ne,Pe,y]}],container:["container"],columns:[{columns:[qe,Ne,Pe,u]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[vi,"auto",Pe,Ne]}],basis:[{basis:[us,"full","auto",u,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qe,us,"auto","initial","none",Ne]}],grow:[{grow:["",qe,Pe,Ne]}],shrink:[{shrink:["",qe,Pe,Ne]}],order:[{order:[vi,"first","last","none",Pe,Ne]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...V(),"normal"]}],"justify-items":[{"justify-items":[...H(),"normal"]}],"justify-self":[{"justify-self":["auto",...H()]}],"align-content":[{content:["normal",...V()]}],"align-items":[{items:[...H(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...H(),{baseline:["","last"]}]}],"place-content":[{"place-content":V()}],"place-items":[{"place-items":[...H(),"baseline"]}],"place-self":[{"place-self":["auto",...H()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:Z()}],mx:[{mx:Z()}],my:[{my:Z()}],ms:[{ms:Z()}],me:[{me:Z()}],mt:[{mt:Z()}],mr:[{mr:Z()}],mb:[{mb:Z()}],ml:[{ml:Z()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[u,"screen",...Y()]}],"min-w":[{"min-w":[u,"screen","none",...Y()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",r,yc,ao]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Pe,Ab]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",zb,Ne]}],"font-family":[{font:[Uee,Ne,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Pe,Ne]}],"line-clamp":[{"line-clamp":[qe,"none",Pe,Ab]}],leading:[{leading:[o,...T()]}],"list-image":[{"list-image":["none",Pe,Ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Pe,Ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ye(),"wavy"]}],"text-decoration-thickness":[{decoration:[qe,"from-font","auto",Pe,ao]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[qe,"auto",Pe,Ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe,Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe,Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:B()}],"bg-repeat":[{bg:W()}],"bg-size":[{bg:$()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},vi,Pe,Ne],radial:["",Pe,Ne],conic:[vi,Pe,Ne]},Kee,$ee]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ye(),"hidden","none"]}],"divide-style":[{divide:[...ye(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...ye(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qe,Pe,Ne]}],"outline-w":[{outline:["",qe,yc,ao]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",v,af,nf]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",h,af,nf]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[qe,ao]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",m,af,nf]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[qe,Pe,Ne]}],"mix-blend":[{"mix-blend":[...se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":se()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":re()}],"mask-image-linear-to-pos":[{"mask-linear-to":re()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":re()}],"mask-image-t-to-pos":[{"mask-t-to":re()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":re()}],"mask-image-r-to-pos":[{"mask-r-to":re()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":re()}],"mask-image-b-to-pos":[{"mask-b-to":re()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":re()}],"mask-image-l-to-pos":[{"mask-l-to":re()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":re()}],"mask-image-x-to-pos":[{"mask-x-to":re()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":re()}],"mask-image-y-to-pos":[{"mask-y-to":re()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[Pe,Ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":re()}],"mask-image-radial-to-pos":[{"mask-radial-to":re()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":re()}],"mask-image-conic-to-pos":[{"mask-conic-to":re()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:B()}],"mask-repeat":[{mask:W()}],"mask-size":[{mask:$()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Pe,Ne]}],filter:[{filter:["","none",Pe,Ne]}],blur:[{blur:xe()}],brightness:[{brightness:[qe,Pe,Ne]}],contrast:[{contrast:[qe,Pe,Ne]}],"drop-shadow":[{"drop-shadow":["","none",b,af,nf]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",qe,Pe,Ne]}],"hue-rotate":[{"hue-rotate":[qe,Pe,Ne]}],invert:[{invert:["",qe,Pe,Ne]}],saturate:[{saturate:[qe,Pe,Ne]}],sepia:[{sepia:["",qe,Pe,Ne]}],"backdrop-filter":[{"backdrop-filter":["","none",Pe,Ne]}],"backdrop-blur":[{"backdrop-blur":xe()}],"backdrop-brightness":[{"backdrop-brightness":[qe,Pe,Ne]}],"backdrop-contrast":[{"backdrop-contrast":[qe,Pe,Ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qe,Pe,Ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qe,Pe,Ne]}],"backdrop-invert":[{"backdrop-invert":["",qe,Pe,Ne]}],"backdrop-opacity":[{"backdrop-opacity":[qe,Pe,Ne]}],"backdrop-saturate":[{"backdrop-saturate":[qe,Pe,Ne]}],"backdrop-sepia":[{"backdrop-sepia":["",qe,Pe,Ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Pe,Ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qe,"initial",Pe,Ne]}],ease:[{ease:["linear","initial",w,Pe,Ne]}],delay:[{delay:[qe,Pe,Ne]}],animate:[{animate:["none",k,Pe,Ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Pe,Ne]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:ae()}],"rotate-x":[{"rotate-x":ae()}],"rotate-y":[{"rotate-y":ae()}],"rotate-z":[{"rotate-z":ae()}],scale:[{scale:pe()}],"scale-x":[{"scale-x":pe()}],"scale-y":[{"scale-y":pe()}],"scale-z":[{"scale-z":pe()}],"scale-3d":["scale-3d"],skew:[{skew:Se()}],"skew-x":[{"skew-x":Se()}],"skew-y":[{"skew-y":Se()}],transform:[{transform:[Pe,Ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:le()}],"translate-x":[{"translate-x":le()}],"translate-y":[{"translate-y":le()}],"translate-z":[{"translate-z":le()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe,Ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe,Ne]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[qe,yc,ao,Ab]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Zee=Nee(qee);function $t(...e){return Zee(Ue(e))}function aO({className:e,...t}){return a.jsx(sI,{"data-slot":"checkbox",className:$t("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(cI,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:a.jsx(Ka,{className:"size-3.5"})})})}function Xee({variable:e}){return a.jsxs("div",{style:{maxWidth:"320px",backgroundColor:"white",border:"1px solid var(--border-primary)",borderRadius:"var(--radius-lg)",boxShadow:"0 6px 16px rgba(0,0,0,0.2)",padding:"12px",fontSize:"var(--font-size-xs)",lineHeight:"1.4"},children:[a.jsx("div",{style:{fontFamily:"monospace",fontWeight:"var(--font-weight-semibold)",color:"var(--brand-primary)",marginBottom:"8px",fontSize:"var(--font-size-sm)"},children:e.variable}),e.definition&&a.jsxs("div",{style:{marginBottom:"8px"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",marginBottom:"4px"},children:"Definition"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-primary)",lineHeight:"1.5"},children:e.definition})]}),e.calculation&&a.jsxs("div",{style:{marginBottom:"8px"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",marginBottom:"4px"},children:"Calculation"}),a.jsx("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-xs)",backgroundColor:"var(--background-subtle)",padding:"6px",borderRadius:"var(--radius-md)",color:"var(--text-primary)",overflowX:"auto"},children:e.calculation})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr",gap:"8px 12px",fontSize:"var(--font-size-xs)",marginBottom:"8px"},children:[e.sourceTable&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{color:"var(--text-muted)",fontWeight:"var(--font-weight-medium)"},children:"Source Table:"}),a.jsx("div",{style:{color:"var(--text-primary)"},children:e.sourceTable})]}),a.jsx("div",{style:{color:"var(--text-muted)",fontWeight:"var(--font-weight-medium)"},children:"Planning Level:"}),a.jsx("div",{style:{color:"var(--text-primary)"},children:e.planningLevel}),e.lastUpdate&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{color:"var(--text-muted)",fontWeight:"var(--font-weight-medium)"},children:"Last Update:"}),a.jsx("div",{style:{color:"var(--text-primary)"},children:e.lastUpdate})]})]}),e.exampleValues&&e.exampleValues.length>0&&a.jsxs("div",{style:{paddingTop:"8px",borderTop:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",marginBottom:"4px"},children:"Example Values"}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:e.exampleValues.map((t,r)=>a.jsx("span",{style:{fontSize:"var(--font-size-xs)",backgroundColor:"var(--background-subtle)",padding:"2px 6px",borderRadius:"var(--radius-sm)",color:"var(--text-secondary)",fontFamily:"monospace"},children:t},r))})]})]})}function Yee({metricName:e,context:t,formula:r,secondaryFormulas:n,variables:i,derivationMethod:o,fallback:l,dataTimestamp:u,snapshotId:d,sourceSystem:f,position:v="top"}){const[h,m]=z.useState(null),[b,j]=z.useState({x:0,y:0}),x=(y,w)=>{m(y);const k=w.target.getBoundingClientRect();j({x:k.right+8,y:k.top})};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"absolute z-50",style:{maxWidth:"420px",backgroundColor:"white",border:"1px solid var(--border-subtle)",borderRadius:"var(--radius-lg)",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",padding:"16px",fontSize:"var(--font-size-xs)",lineHeight:"1.4"},children:[a.jsxs("div",{style:{marginBottom:"12px",paddingBottom:"12px",borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)",marginBottom:"4px"},children:e}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:t})]}),a.jsxs("div",{style:{marginBottom:"12px"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",marginBottom:"6px"},children:"Formula"}),a.jsx("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-xs)",backgroundColor:"var(--background-subtle)",padding:"8px",borderRadius:"var(--radius-md)",color:"var(--text-primary)",overflowX:"auto"},children:r}),n&&n.map((y,w)=>a.jsx("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-xs)",backgroundColor:"var(--background-subtle)",padding:"8px",borderRadius:"var(--radius-md)",color:"var(--text-primary)",marginTop:"4px",overflowX:"auto"},children:y},w))]}),a.jsxs("div",{style:{marginBottom:"12px"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",marginBottom:"6px"},children:"Variable Breakdown"}),a.jsxs("table",{style:{width:"100%",fontSize:"var(--font-size-xs)",borderCollapse:"collapse"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)",backgroundColor:"var(--background-subtle)"},children:[a.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontWeight:"var(--font-weight-medium)"},children:"Variable"}),a.jsx("th",{style:{padding:"6px 8px",textAlign:"right",fontWeight:"var(--font-weight-medium)"},children:"Value"}),a.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontWeight:"var(--font-weight-medium)"},children:"Unit"}),a.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontWeight:"var(--font-weight-medium)"},children:"Source"}),a.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontWeight:"var(--font-weight-medium)"},children:"Level"})]})}),a.jsx("tbody",{children:i.map((y,w)=>a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)",cursor:y.definition?"pointer":"default"},onMouseEnter:k=>y.definition&&x(y,k),onMouseLeave:()=>m(null),children:[a.jsx("td",{style:{padding:"6px 8px",fontFamily:"monospace",color:"var(--text-primary)",textDecoration:y.definition?"underline dotted":"none"},children:y.variable}),a.jsx("td",{style:{padding:"6px 8px",textAlign:"right",fontWeight:"var(--font-weight-medium)",color:"var(--text-primary)"},children:typeof y.value=="number"?y.value.toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2}):y.value}),a.jsx("td",{style:{padding:"6px 8px",color:"var(--text-secondary)"},children:y.unit}),a.jsx("td",{style:{padding:"6px 8px",color:"var(--text-secondary)"},children:y.source}),a.jsx("td",{style:{padding:"6px 8px",color:"var(--text-secondary)"},children:y.planningLevel})]},w))})]})]}),a.jsxs("div",{style:{marginBottom:"12px"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",marginBottom:"6px"},children:"Derivation Method"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-primary)",lineHeight:"1.5"},children:o}),l&&a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-warning)",marginTop:"4px",fontStyle:"italic"},children:["Fallback: ",l]})]}),a.jsx("div",{style:{paddingTop:"12px",borderTop:"1px solid var(--border-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:a.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap"},children:[a.jsxs("div",{children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"Timestamp: "}),u]}),a.jsxs("div",{children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"Snapshot: "}),d]}),a.jsxs("div",{children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"Source: "}),f]})]})})]}),h&&h.definition&&a.jsx("div",{style:{position:"fixed",left:`${b.x}px`,top:`${b.y}px`,zIndex:60},children:a.jsx(Xee,{variable:h})})]})}function xc({children:e,tooltipProps:t,isDerived:r=!1,isPlanned:n=!1}){const[i,o]=z.useState(!1),[l,u]=z.useState({x:0,y:0}),d=f=>{const v=f.currentTarget.getBoundingClientRect();u({x:v.left,y:v.bottom+8}),o(!0)};return a.jsxs("span",{style:{position:"relative",textDecoration:r?"underline dashed":n?"underline solid":"none",textUnderlineOffset:"2px",cursor:"help",display:"inline-flex",alignItems:"center",gap:"4px"},onMouseEnter:d,onMouseLeave:()=>o(!1),children:[e,r&&a.jsx(Xt,{size:12,style:{color:"var(--text-muted)"}}),i&&a.jsx("div",{style:{position:"fixed",left:`${l.x}px`,top:`${l.y}px`,zIndex:50},children:a.jsx(Yee,{...t})})]})}function Qee({product:e,onClose:t}){const[r,n]=z.useState("overview"),i=[{name:e.productName,"SOLL Capacity":e.capSollProduct,"Forecast Space":e.forecastSpaceDemand,"Projected Space":e.projectedSpace}],o={metricName:"Derived Product SOLL Capacity",context:`${e.productName} @ ${e.store}`,formula:"Cap_soll(s,i) = Share_soll(s,i)  Cap_soll(s,PG)",variables:[{variable:"Cap_soll(s,PG)",value:e.capSollProductGroup,unit:"m",source:"Capacity Planning",planningLevel:"Product Group"},{variable:"Share_soll(s,i)",value:e.shareSoll,unit:"%",source:"Forecast Engine",planningLevel:"Product",definition:"Forecast-based share of product within product group",calculation:"Share_soll(s,i) = ForecastQty(s,i) /  ForecastQty(s,j  PG)",sourceTable:"forecast.product_shares",lastUpdate:e.dataTimestamp},{variable:"Result",value:e.capSollProduct,unit:"m",source:"Calculated",planningLevel:"Product"}],derivationMethod:"Product SOLL is derived proportionally from Product Group capacity based on forecast share.",dataTimestamp:e.dataTimestamp,snapshotId:e.snapshotId,sourceSystem:e.sourceSystem},l={metricName:"Space per Unit",context:`${e.productName}`,formula:"p_i = p_base(type)  m_thickness  m_presentation",variables:[{variable:"p_base",value:e.pBase,unit:"m",source:"Fixture Model",planningLevel:"Product Type",definition:"Base space requirement per unit based on fixture type",sourceTable:"master.fixture_types",lastUpdate:e.dataTimestamp},{variable:"m_thickness",value:e.mThickness,unit:"factor",source:"Product Attribute",planningLevel:"Product",definition:"Thickness modifier based on product dimensions",sourceTable:"master.products",lastUpdate:e.dataTimestamp},{variable:"m_presentation",value:e.mPresentation,unit:"factor",source:"Presentation Rule",planningLevel:"Store",definition:"Presentation modifier for store-specific display requirements",sourceTable:"config.presentation_rules",lastUpdate:e.dataTimestamp},{variable:"Result",value:e.spacePerUnit,unit:"m/unit",source:"Calculated",planningLevel:"Product"}],derivationMethod:"Space per unit is calculated from base fixture type and product-specific presentation modifiers.",dataTimestamp:e.dataTimestamp,snapshotId:e.snapshotId,sourceSystem:e.sourceSystem},u={metricName:"Forecast Space Demand",context:`${e.productName} @ ${e.store}`,formula:"SpaceNeed_fcst(s,i) = ForecastQty(s,i)  p_i",variables:[{variable:"ForecastQty(s,i)",value:e.forecastQty,unit:"units",source:"Forecast System",planningLevel:"Product",definition:"Forecasted sales quantity for product at store",calculation:"ForecastQty(s,i) =  ForecastSales(s,i,t)",sourceTable:"forecast.product_forecast",lastUpdate:e.dataTimestamp,exampleValues:["1240","1180","1350"]},{variable:"p_i",value:e.spacePerUnit,unit:"m/unit",source:"Parameter Model",planningLevel:"Product"},{variable:"Result",value:e.forecastSpaceDemand,unit:"m",source:"Calculated",planningLevel:"Product"}],derivationMethod:"Projected space requirement based on forecasted sales volume.",dataTimestamp:e.dataTimestamp,snapshotId:e.snapshotId,sourceSystem:e.sourceSystem},d={metricName:"Projected Space Usage",context:`${e.productName} @ ${e.store}`,formula:"ProjectedSpace(s,i) = (OnHand(s,i) + Inbound(s,i) + Reserved(s,i))  p_i",variables:[{variable:"OnHand",value:e.onHand,unit:"units",source:"Inventory",planningLevel:"Store",definition:"Current on-hand inventory at store",sourceTable:"inventory.stock_levels",lastUpdate:e.dataTimestamp},{variable:"Inbound",value:e.inbound,unit:"units",source:"Logistics",planningLevel:"Store",definition:"Inbound shipments in transit to store",sourceTable:"logistics.inbound_shipments",lastUpdate:e.dataTimestamp},{variable:"Reserved",value:e.reserved,unit:"units",source:"Simulation",planningLevel:"Store",definition:"Reserved allocation from simulation",sourceTable:"simulation.allocations",lastUpdate:e.dataTimestamp},{variable:"p_i",value:e.spacePerUnit,unit:"m/unit",source:"Parameter Model",planningLevel:"Product"},{variable:"Result",value:e.projectedSpace,unit:"m",source:"Calculated",planningLevel:"Product"}],derivationMethod:"Projected space usage based on current and inbound inventory plus reserved allocation.",dataTimestamp:e.dataTimestamp,snapshotId:e.snapshotId,sourceSystem:e.sourceSystem},f={metricName:"Capacity Deviation",context:`${e.productName} @ ${e.store}`,formula:"Deviation(s,i) = ProjectedSpace(s,i)  Cap_soll(s,i)",variables:[{variable:"ProjectedSpace(s,i)",value:e.projectedSpace,unit:"m",source:"Calculated",planningLevel:"Product"},{variable:"Cap_soll(s,i)",value:e.capSollProduct,unit:"m",source:"Derived",planningLevel:"Product"},{variable:"Deviation",value:e.deviation,unit:"m",source:"Calculated",planningLevel:"Product"}],derivationMethod:"Capacity risk is evaluated against derived product-level SOLL capacity.",secondaryFormulas:["Status Logic:","  Deviation  0  OK","  0 < Deviation  SoftZone  Warning","  Deviation > SoftZone  Capacity Violation"],dataTimestamp:e.dataTimestamp,snapshotId:e.snapshotId,sourceSystem:e.sourceSystem},v=()=>{switch(e.status){case"OK":return a.jsx(un,{size:16,style:{color:"var(--status-success)"}});case"Warning":return a.jsx(Ft,{size:16,style:{color:"var(--status-warning)"}});case"Capacity Violation":return a.jsx(Ft,{size:16,style:{color:"var(--status-error)"}})}},h=()=>{switch(e.status){case"OK":return"var(--status-success)";case"Warning":return"var(--status-warning)";case"Capacity Violation":return"var(--status-error)"}};return a.jsxs("div",{style:{position:"fixed",top:0,right:0,width:"900px",height:"100vh",backgroundColor:"white",borderLeft:"1px solid var(--border-subtle)",zIndex:100,display:"flex",flexDirection:"column",boxShadow:"-4px 0 24px rgba(0,0,0,0.1)"},children:[a.jsxs("div",{style:{padding:"24px",borderBottom:"1px solid var(--border-subtle)",display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[a.jsxs("div",{children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[a.jsx("h2",{style:{margin:0,color:"var(--text-primary)"},children:e.productName}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",padding:"4px 8px",borderRadius:"var(--radius-sm)",backgroundColor:"var(--background-subtle)",color:"var(--text-muted)"},children:e.productNumber})]}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[e.brand,"  ",e.productGroup,"  ",e.store]})]}),a.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",color:"var(--text-muted)"},children:a.jsx(Et,{size:20})})]}),a.jsx("div",{style:{display:"flex",gap:"4px",padding:"0 24px",borderBottom:"1px solid var(--border-subtle)"},children:["overview","drivers","chart"].map(m=>a.jsx("button",{onClick:()=>n(m),style:{padding:"12px 16px",background:"none",border:"none",borderBottom:r===m?"2px solid var(--brand-primary)":"2px solid transparent",cursor:"pointer",color:r===m?"var(--brand-primary)":"var(--text-muted)",fontWeight:r===m?"var(--font-weight-semibold)":"var(--font-weight-regular)",textTransform:"capitalize"},children:m==="overview"?"Overview":m==="drivers"?"Input Drivers":"Visualization"},m))}),a.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:[r==="overview"&&a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"16px",color:"var(--text-primary)"},children:"Key Metrics"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:[a.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--background-subtle)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"SOLL Capacity"}),a.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"8px"},children:[a.jsx(xc,{tooltipProps:o,isDerived:!0,children:a.jsx("span",{style:{fontSize:"var(--font-size-2xl)",color:"var(--text-primary)"},children:e.capSollProduct.toFixed(2)})}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"m"})]}),a.jsx("div",{style:{marginTop:"8px",fontSize:"var(--font-size-xs)",padding:"4px 8px",backgroundColor:"var(--brand-primary-10)",color:"var(--brand-primary)",borderRadius:"var(--radius-sm)",display:"inline-block"},children:"Derived"})]}),a.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--background-subtle)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Projected Space"}),a.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"8px"},children:[a.jsx(xc,{tooltipProps:d,isDerived:!0,children:a.jsx("span",{style:{fontSize:"var(--font-size-2xl)",color:"var(--text-primary)"},children:e.projectedSpace.toFixed(2)})}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"m"})]})]}),a.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--background-subtle)",borderRadius:"var(--radius-lg)",border:`1px solid ${h()}`},children:[a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:["Capacity Deviation",v()]}),a.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"8px"},children:[a.jsx(xc,{tooltipProps:f,isDerived:!0,children:a.jsxs("span",{style:{fontSize:"var(--font-size-2xl)",color:h()},children:[e.deviation>0?"+":"",e.deviation.toFixed(2)]})}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"m"})]}),a.jsx("div",{style:{marginTop:"8px",fontSize:"var(--font-size-xs)",color:h(),fontWeight:"var(--font-weight-medium)"},children:e.status})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"16px",color:"var(--text-primary)"},children:"Space Parameters"}),a.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--background-subtle)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-subtle)"},children:[a.jsxs("div",{style:{marginBottom:"12px"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Space per Unit"}),a.jsx(xc,{tooltipProps:l,isDerived:!0,children:a.jsxs("span",{style:{fontSize:"var(--font-size-lg)",color:"var(--text-primary)"},children:[e.spacePerUnit.toFixed(4)," m/unit"]})})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",marginTop:"16px"},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Base Space"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:[e.pBase.toFixed(4)," m"]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Thickness Factor"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:e.mThickness.toFixed(2)})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Presentation Factor"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:e.mPresentation.toFixed(2)})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"16px",color:"var(--text-primary)"},children:"Forecast Information"}),a.jsx("div",{style:{padding:"16px",backgroundColor:"var(--background-subtle)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-subtle)"},children:a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Forecast Quantity"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",color:"var(--text-primary)"},children:[e.forecastQty.toLocaleString("de-DE")," units"]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Forecast Space Demand"}),a.jsx(xc,{tooltipProps:u,isDerived:!0,children:a.jsxs("span",{style:{fontSize:"var(--font-size-lg)",color:"var(--text-primary)"},children:[e.forecastSpaceDemand.toFixed(2)," m"]})})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Forecast Version"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--brand-primary)",padding:"4px 8px",backgroundColor:"var(--brand-primary-10)",borderRadius:"var(--radius-sm)",display:"inline-block"},children:e.forecastVersion})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Forecast Horizon"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:e.forecastHorizon})]})]})})]})]}),r==="drivers"&&a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"16px",color:"var(--text-primary)"},children:"Input Drivers"}),a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"var(--font-size-sm)"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"2px solid var(--border-subtle)",backgroundColor:"var(--background-subtle)"},children:[a.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"var(--font-weight-semibold)"},children:"Driver"}),a.jsx("th",{style:{padding:"12px",textAlign:"right",fontWeight:"var(--font-weight-semibold)"},children:"Value"}),a.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"var(--font-weight-semibold)"},children:"Unit"}),a.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"var(--font-weight-semibold)"},children:"Source"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{style:{padding:"12px",color:"var(--text-primary)"},children:"On Hand Inventory"}),a.jsx("td",{style:{padding:"12px",textAlign:"right",color:"var(--text-primary)"},children:e.onHand.toLocaleString("de-DE")}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"units"}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"Inventory System"})]}),a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{style:{padding:"12px",color:"var(--text-primary)"},children:"Inbound Shipments"}),a.jsx("td",{style:{padding:"12px",textAlign:"right",color:"var(--text-primary)"},children:e.inbound.toLocaleString("de-DE")}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"units"}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"Logistics System"})]}),a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{style:{padding:"12px",color:"var(--text-primary)"},children:"Reserved Allocation"}),a.jsx("td",{style:{padding:"12px",textAlign:"right",color:"var(--text-primary)"},children:e.reserved.toLocaleString("de-DE")}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"units"}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"Simulation Engine"})]}),a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)",backgroundColor:"var(--background-subtle)"},children:[a.jsx("td",{style:{padding:"12px",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:"Forecast Quantity"}),a.jsx("td",{style:{padding:"12px",textAlign:"right",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:e.forecastQty.toLocaleString("de-DE")}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"units"}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"Forecast System"})]}),a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{style:{padding:"12px",color:"var(--text-primary)"},children:"PG SOLL Capacity"}),a.jsx("td",{style:{padding:"12px",textAlign:"right",color:"var(--text-primary)"},children:e.capSollProductGroup.toFixed(2)}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"m"}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"Capacity Planning"})]}),a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{style:{padding:"12px",color:"var(--text-primary)"},children:"Forecast Share"}),a.jsx("td",{style:{padding:"12px",textAlign:"right",color:"var(--text-primary)"},children:(e.shareSoll*100).toFixed(2)}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"%"}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"Forecast Engine"})]})]})]})]}),r==="chart"&&a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"16px",color:"var(--text-primary)"},children:"Capacity Visualization"}),a.jsx("div",{style:{height:"400px",marginBottom:"24px"},children:a.jsx(Zt,{width:"100%",height:"100%",children:a.jsxs(Nr,{data:i,layout:"vertical",children:[a.jsx(yt,{type:"number"}),a.jsx(xt,{type:"category",dataKey:"name",width:150}),a.jsx(it,{}),a.jsx(Ct,{}),a.jsx(Te,{dataKey:"SOLL Capacity",fill:"var(--brand-primary)"}),a.jsx(Te,{dataKey:"Forecast Space",fill:"#10b981"}),a.jsx(Te,{dataKey:"Projected Space",fill:h()})]})})}),a.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--background-subtle)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-subtle)"},children:[a.jsx("h4",{style:{marginBottom:"12px",color:"var(--text-primary)"},children:"Capacity Breakdown"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"SOLL Capacity (Target)"}),a.jsxs("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:[e.capSollProduct.toFixed(2)," m"]})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"Projected Space (Inventory + Inbound + Reserved)"}),a.jsxs("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:[e.projectedSpace.toFixed(2)," m"]})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"Forecast Space (Based on Sales Forecast)"}),a.jsxs("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:[e.forecastSpaceDemand.toFixed(2)," m"]})]}),a.jsxs("div",{style:{paddingTop:"12px",marginTop:"12px",borderTop:"1px solid var(--border-subtle)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:"Deviation"}),a.jsxs("span",{style:{fontWeight:"var(--font-weight-semibold)",color:h()},children:[e.deviation>0?"+":"",e.deviation.toFixed(2)," m (",e.status,")"]})]})]})]})]})]})]})}const iO=[{productNumber:"SKU-5001",productName:'Premium Winter Jacket "Alpine Pro"',brand:"OutdoorGear",productGroup:"Winterbekleidung",purchaseArea:"Sport & Outdoor",store:"Filiale Zrich HB",cluster:"A",season:"HW 2025",capSollProductGroup:24,shareSoll:.18,capSollProduct:4.32,pBase:.012,mThickness:1.3,mPresentation:1.1,spacePerUnit:.0172,forecastQty:1240,forecastSpaceDemand:21.33,onHand:180,inbound:60,reserved:40,projectedSpace:4.82,deviation:.5,status:"Warning",dataTimestamp:"2025-12-17 14:30:00",snapshotId:"SNAP-2025-12-17-001",sourceSystem:"BLICK Allocation Engine",forecastVersion:"FCast-2025-W50",forecastHorizon:"Q1 2025 (12 weeks)"},{productNumber:"SKU-5002",productName:'Running Shoes "Velocity Max"',brand:"SportLine",productGroup:"Schuhe",purchaseArea:"Sport & Outdoor",store:"Filiale Zrich HB",cluster:"A",season:"SW 2025",capSollProductGroup:18.5,shareSoll:.22,capSollProduct:4.07,pBase:.008,mThickness:1.2,mPresentation:1.05,spacePerUnit:.01008,forecastQty:890,forecastSpaceDemand:8.97,onHand:220,inbound:80,reserved:100,projectedSpace:4.03,deviation:-.04,status:"OK",dataTimestamp:"2025-12-17 14:30:00",snapshotId:"SNAP-2025-12-17-001",sourceSystem:"BLICK Allocation Engine",forecastVersion:"FCast-2025-W50",forecastHorizon:"Q2 2025 (12 weeks)"},{productNumber:"SKU-5003",productName:'Yoga Mat "Premium Eco"',brand:"FitnessPro",productGroup:"Fitnessausrstung",purchaseArea:"Sport & Outdoor",store:"Filiale Bern Westside",cluster:"B",season:"NOS - Never out of Stock",capSollProductGroup:12,shareSoll:.15,capSollProduct:1.8,pBase:.005,mThickness:1.1,mPresentation:1,spacePerUnit:.0055,forecastQty:450,forecastSpaceDemand:2.48,onHand:120,inbound:30,reserved:50,projectedSpace:1.1,deviation:-.7,status:"OK",dataTimestamp:"2025-12-17 14:30:00",snapshotId:"SNAP-2025-12-17-001",sourceSystem:"BLICK Allocation Engine",forecastVersion:"FCast-2025-W50",forecastHorizon:"Ongoing (NOS)"},{productNumber:"SKU-5004",productName:'Ski Goggles "Vision HD"',brand:"SnowTech",productGroup:"Winterausrstung",purchaseArea:"Sport & Outdoor",store:"Filiale Zrich HB",cluster:"A",season:"HW 2025",capSollProductGroup:8.5,shareSoll:.25,capSollProduct:2.13,pBase:.004,mThickness:1,mPresentation:1.15,spacePerUnit:.0046,forecastQty:680,forecastSpaceDemand:3.13,onHand:320,inbound:150,reserved:80,projectedSpace:2.53,deviation:.4,status:"Warning",dataTimestamp:"2025-12-17 14:30:00",snapshotId:"SNAP-2025-12-17-001",sourceSystem:"BLICK Allocation Engine",forecastVersion:"FCast-2025-W50",forecastHorizon:"Q1 2025 (12 weeks)"},{productNumber:"SKU-5005",productName:'Camping Tent "Family XL"',brand:"OutdoorGear",productGroup:"Camping",purchaseArea:"Sport & Outdoor",store:"Filiale Basel St. Johann",cluster:"B",season:"SW 2025",capSollProductGroup:28,shareSoll:.12,capSollProduct:3.36,pBase:.025,mThickness:1.5,mPresentation:1.2,spacePerUnit:.045,forecastQty:180,forecastSpaceDemand:8.1,onHand:45,inbound:20,reserved:30,projectedSpace:4.28,deviation:.92,status:"Capacity Violation",dataTimestamp:"2025-12-17 14:30:00",snapshotId:"SNAP-2025-12-17-001",sourceSystem:"BLICK Allocation Engine",forecastVersion:"FCast-2025-W50",forecastHorizon:"Q2 2025 (12 weeks)"},{productNumber:"SKU-5006",productName:'Basketball "Pro League"',brand:"SportLine",productGroup:"Ballsport",purchaseArea:"Sport & Outdoor",store:"Filiale Genf Cornavin",cluster:"A",season:"NOS - Never out of Stock",capSollProductGroup:6,shareSoll:.2,capSollProduct:1.2,pBase:.003,mThickness:1,mPresentation:1,spacePerUnit:.003,forecastQty:560,forecastSpaceDemand:1.68,onHand:280,inbound:90,reserved:50,projectedSpace:1.26,deviation:.06,status:"Warning",dataTimestamp:"2025-12-17 14:30:00",snapshotId:"SNAP-2025-12-17-001",sourceSystem:"BLICK Allocation Engine",forecastVersion:"FCast-2025-W50",forecastHorizon:"Ongoing (NOS)"}],ds=[{id:"zh-hb-running-shoes-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"SP-RUN-001",product:"Running Shoes Pro",brand:"Nike",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:23,targetCapacity:24,forecastSuggestion:24,inventory:460},{id:"zh-hb-hiking-shoes-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"SP-HIK-002",product:"Hiking Boots",brand:"Salomon",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:28,targetCapacity:28,forecastSuggestion:28,inventory:560},{id:"zh-hb-casual-shoes-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"SP-CAS-003",product:"Casual Sneakers",brand:"Adidas",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:27,targetCapacity:28,forecastSuggestion:27,inventory:540},{id:"zh-hb-winter-jacket-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AP-WIN-004",product:"Winter Jacket",brand:"The North Face",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:45,actualCapacity:43,targetCapacity:42,forecastSuggestion:40,inventory:860},{id:"zh-hb-fleece-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AP-FLE-005",product:"Fleece Pullover",brand:"Patagonia",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:35,actualCapacity:34,targetCapacity:33,forecastSuggestion:32,inventory:680},{id:"zh-hb-pants-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AP-PAN-006",product:"Sport Pants",brand:"Under Armour",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:29,targetCapacity:28,forecastSuggestion:27,inventory:580},{id:"zh-hb-socks-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AC-SOC-007",product:"Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:15,actualCapacity:13,targetCapacity:14,forecastSuggestion:13,inventory:260},{id:"zh-hb-backpack-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AC-BAC-008",product:"Backpack",brand:"Deuter",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:17,targetCapacity:19,forecastSuggestion:18,inventory:340},{id:"zh-hb-gloves-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AC-GLO-009",product:"Winter Gloves",brand:"The North Face",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:10,actualCapacity:8,targetCapacity:9,forecastSuggestion:9,inventory:160},{id:"zh-hb-smartwatch-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"EL-SMA-010",product:"Smartwatch",brand:"Garmin",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:18,targetCapacity:19,forecastSuggestion:19,inventory:360},{id:"zh-hb-headphones-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"EL-HEA-011",product:"Headphones",brand:"Sony",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:15,actualCapacity:13,targetCapacity:13,forecastSuggestion:13,inventory:260},{id:"zh-hb-running-shoes-sw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"SP-RUN-001",product:"Running Shoes Pro",brand:"Nike",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"SW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:22,targetCapacity:23,forecastSuggestion:23,inventory:440},{id:"zh-hb-summer-shoes-sw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"SP-SUM-012",product:"Summer Sandals",brand:"Birkenstock",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"SW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:26,targetCapacity:27,forecastSuggestion:27,inventory:520},{id:"zh-hb-tshirt-sw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AP-TSH-013",product:"T-Shirt",brand:"Adidas",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"SW 2025",allocationType:"Initiale Allokation",totalCapacity:40,actualCapacity:38,targetCapacity:37,forecastSuggestion:36,inventory:760},{id:"zh-hb-shorts-sw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AP-SHO-014",product:"Shorts",brand:"Nike",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"SW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:28,targetCapacity:27,forecastSuggestion:26,inventory:560},{id:"zh-hb-sunglasses-sw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AC-SUN-015",product:"Sunglasses",brand:"Ray-Ban",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"SW 2025",allocationType:"Initiale Allokation",totalCapacity:12,actualCapacity:10,targetCapacity:11,forecastSuggestion:11,inventory:200},{id:"bs-sbb-running-shoes-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"SP-RUN-001",product:"Running Shoes Pro",brand:"Nike",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:17,targetCapacity:19,forecastSuggestion:19,inventory:340},{id:"bs-sbb-hiking-shoes-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"SP-HIK-002",product:"Hiking Boots",brand:"Salomon",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:21,targetCapacity:23,forecastSuggestion:24,inventory:420},{id:"bs-sbb-casual-shoes-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"SP-CAS-003",product:"Casual Sneakers",brand:"Adidas",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:20,targetCapacity:23,forecastSuggestion:24,inventory:400},{id:"bs-sbb-winter-jacket-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AP-WIN-004",product:"Winter Jacket",brand:"The North Face",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:35,actualCapacity:33,targetCapacity:32,forecastSuggestion:31,inventory:660},{id:"bs-sbb-fleece-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AP-FLE-005",product:"Fleece Pullover",brand:"Patagonia",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:28,targetCapacity:27,forecastSuggestion:26,inventory:560},{id:"bs-sbb-pants-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AP-PAN-006",product:"Sport Pants",brand:"Under Armour",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:23,targetCapacity:23,forecastSuggestion:22,inventory:460},{id:"bs-sbb-socks-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AC-SOC-007",product:"Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:12,actualCapacity:8,targetCapacity:10,forecastSuggestion:10,inventory:160},{id:"bs-sbb-backpack-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AC-BAC-008",product:"Backpack",brand:"Deuter",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:15,actualCapacity:10,targetCapacity:13,forecastSuggestion:12,inventory:200},{id:"bs-sbb-gloves-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AC-GLO-009",product:"Winter Gloves",brand:"The North Face",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:8,actualCapacity:4,targetCapacity:7,forecastSuggestion:6,inventory:80},{id:"bs-sbb-smartwatch-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"EL-SMA-010",product:"Smartwatch",brand:"Garmin",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:15,actualCapacity:12,targetCapacity:13,forecastSuggestion:14,inventory:240},{id:"bs-sbb-headphones-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"EL-HEA-011",product:"Headphones",brand:"Sony",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:10,actualCapacity:8,targetCapacity:9,forecastSuggestion:9,inventory:160},{id:"be-bhf-running-shoes-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"SP-RUN-001",product:"Running Shoes Pro",brand:"Nike",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:18,actualCapacity:14,targetCapacity:16,forecastSuggestion:17,inventory:280},{id:"be-bhf-hiking-shoes-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"SP-HIK-002",product:"Hiking Boots",brand:"Salomon",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:22,actualCapacity:18,targetCapacity:20,forecastSuggestion:21,inventory:360},{id:"be-bhf-casual-shoes-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"SP-CAS-003",product:"Casual Sneakers",brand:"Adidas",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:15,targetCapacity:18,forecastSuggestion:19,inventory:300},{id:"be-bhf-winter-jacket-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"AP-WIN-004",product:"Winter Jacket",brand:"The North Face",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:29,targetCapacity:28,forecastSuggestion:27,inventory:580},{id:"be-bhf-fleece-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"AP-FLE-005",product:"Fleece Pullover",brand:"Patagonia",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:24,targetCapacity:23,forecastSuggestion:22,inventory:480},{id:"be-bhf-pants-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"AP-PAN-006",product:"Sport Pants",brand:"Under Armour",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:19,targetCapacity:18,forecastSuggestion:18,inventory:380},{id:"be-bhf-socks-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"AC-SOC-007",product:"Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:8,actualCapacity:5,targetCapacity:7,forecastSuggestion:6,inventory:100},{id:"be-bhf-backpack-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"AC-BAC-008",product:"Backpack",brand:"Deuter",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:10,actualCapacity:6,targetCapacity:9,forecastSuggestion:8,inventory:120},{id:"be-bhf-gloves-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"AC-GLO-009",product:"Winter Gloves",brand:"The North Face",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:5,actualCapacity:2,targetCapacity:4,forecastSuggestion:3,inventory:40},{id:"be-bhf-smartwatch-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"EL-SMA-010",product:"Smartwatch",brand:"Garmin",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:12,actualCapacity:9,targetCapacity:10,forecastSuggestion:11,inventory:180},{id:"be-bhf-headphones-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"EL-HEA-011",product:"Headphones",brand:"Sony",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:8,actualCapacity:6,targetCapacity:7,forecastSuggestion:7,inventory:120},{id:"lu-running-shoes-hw25",store:"Luzern",cluster:"Regional",productNumber:"SP-RUN-001",product:"Running Shoes Pro",brand:"Nike",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:16,targetCapacity:18,forecastSuggestion:19,inventory:320},{id:"lu-hiking-shoes-hw25",store:"Luzern",cluster:"Regional",productNumber:"SP-HIK-002",product:"Hiking Boots",brand:"Salomon",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:20,targetCapacity:22,forecastSuggestion:23,inventory:400},{id:"lu-casual-shoes-hw25",store:"Luzern",cluster:"Regional",productNumber:"SP-CAS-003",product:"Casual Sneakers",brand:"Adidas",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:22,actualCapacity:17,targetCapacity:20,forecastSuggestion:21,inventory:340},{id:"lu-winter-jacket-hw25",store:"Luzern",cluster:"Regional",productNumber:"AP-WIN-004",product:"Winter Jacket",brand:"The North Face",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:32,actualCapacity:31,targetCapacity:30,forecastSuggestion:29,inventory:620},{id:"lu-fleece-hw25",store:"Luzern",cluster:"Regional",productNumber:"AP-FLE-005",product:"Fleece Pullover",brand:"Patagonia",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:28,actualCapacity:27,targetCapacity:26,forecastSuggestion:25,inventory:540},{id:"lu-pants-hw25",store:"Luzern",cluster:"Regional",productNumber:"AP-PAN-006",product:"Sport Pants",brand:"Under Armour",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:22,actualCapacity:21,targetCapacity:20,forecastSuggestion:20,inventory:420},{id:"lu-socks-hw25",store:"Luzern",cluster:"Regional",productNumber:"AC-SOC-007",product:"Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:10,actualCapacity:7,targetCapacity:9,forecastSuggestion:8,inventory:140},{id:"lu-backpack-hw25",store:"Luzern",cluster:"Regional",productNumber:"AC-BAC-008",product:"Backpack",brand:"Deuter",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:12,actualCapacity:8,targetCapacity:10,forecastSuggestion:10,inventory:160},{id:"lu-gloves-hw25",store:"Luzern",cluster:"Regional",productNumber:"AC-GLO-009",product:"Winter Gloves",brand:"The North Face",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:7,actualCapacity:4,targetCapacity:6,forecastSuggestion:5,inventory:80},{id:"lu-smartwatch-hw25",store:"Luzern",cluster:"Regional",productNumber:"EL-SMA-010",product:"Smartwatch",brand:"Garmin",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:10,actualCapacity:8,targetCapacity:9,forecastSuggestion:9,inventory:160},{id:"lu-headphones-hw25",store:"Luzern",cluster:"Regional",productNumber:"EL-HEA-011",product:"Headphones",brand:"Sony",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:8,actualCapacity:6,targetCapacity:7,forecastSuggestion:7,inventory:120},{id:"ge-running-shoes-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"SP-RUN-001",product:"Running Shoes Pro",brand:"Nike",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:28,actualCapacity:26,targetCapacity:27,forecastSuggestion:27,inventory:520},{id:"ge-hiking-shoes-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"SP-HIK-002",product:"Hiking Boots",brand:"Salomon",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:32,actualCapacity:30,targetCapacity:31,forecastSuggestion:30,inventory:600},{id:"ge-casual-shoes-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"SP-CAS-003",product:"Casual Sneakers",brand:"Adidas",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:35,actualCapacity:32,targetCapacity:33,forecastSuggestion:32,inventory:640},{id:"ge-winter-jacket-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"AP-WIN-004",product:"Winter Jacket",brand:"The North Face",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:50,actualCapacity:48,targetCapacity:47,forecastSuggestion:45,inventory:960},{id:"ge-fleece-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"AP-FLE-005",product:"Fleece Pullover",brand:"Patagonia",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:38,actualCapacity:36,targetCapacity:35,forecastSuggestion:34,inventory:720},{id:"ge-pants-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"AP-PAN-006",product:"Sport Pants",brand:"Under Armour",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:32,actualCapacity:30,targetCapacity:30,forecastSuggestion:29,inventory:600},{id:"ge-socks-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"AC-SOC-007",product:"Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:18,actualCapacity:15,targetCapacity:17,forecastSuggestion:16,inventory:300},{id:"ge-backpack-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"AC-BAC-008",product:"Backpack",brand:"Deuter",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:22,actualCapacity:19,targetCapacity:21,forecastSuggestion:20,inventory:380},{id:"ge-gloves-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"AC-GLO-009",product:"Winter Gloves",brand:"The North Face",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:12,actualCapacity:10,targetCapacity:11,forecastSuggestion:11,inventory:200},{id:"ge-smartwatch-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"EL-SMA-010",product:"Smartwatch",brand:"Garmin",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:22,actualCapacity:20,targetCapacity:21,forecastSuggestion:21,inventory:400},{id:"ge-headphones-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"EL-HEA-011",product:"Headphones",brand:"Sony",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:18,actualCapacity:16,targetCapacity:17,forecastSuggestion:17,inventory:320},{id:"zh-hb-basic-socks-nos",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AC-BAS-NOS-01",product:"Basic Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"NOS - Never out of Stock",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:18,targetCapacity:19,forecastSuggestion:19,inventory:360},{id:"bs-sbb-basic-socks-nos",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AC-BAS-NOS-01",product:"Basic Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"NOS - Never out of Stock",allocationType:"Initiale Allokation",totalCapacity:15,actualCapacity:13,targetCapacity:14,forecastSuggestion:14,inventory:260},{id:"zh-hb-basic-tshirt-nos",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AP-BAS-NOS-02",product:"Basic T-Shirt",brand:"Adidas",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"NOS - Never out of Stock",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:23,targetCapacity:24,forecastSuggestion:24,inventory:460},{id:"bs-sbb-basic-tshirt-nos",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AP-BAS-NOS-02",product:"Basic T-Shirt",brand:"Adidas",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"NOS - Never out of Stock",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:18,targetCapacity:19,forecastSuggestion:19,inventory:360}],Jee={OK:"var(--status-success)",berbelegt:"var(--status-danger)",Unterbelegt:"var(--status-warning)"},Nb=e=>e<75?"#10b981":e<85?"#eab308":e<95?"#f97316":"#ef4444",of=e=>e>10?"berbelegt":e<-20?"Unterbelegt":"OK";function ete({onNavigate:e}){const[t,r]=z.useState({}),[n,i]=z.useState(!1),[o,l]=z.useState(null),[u,d]=z.useState(!1),[f,v]=z.useState(null),[h,m]=z.useState(null),[b,j]=z.useState(!1),[x,y]=z.useState(""),[w,k]=z.useState(""),[S,N]=z.useState(""),[A,O]=z.useState(""),[_,T]=z.useState([]),[E,D]=z.useState(null),[M,F]=z.useState("Gesamt"),[L,V]=z.useState(""),[H,Z]=z.useState(""),[Y,U]=z.useState("Produktgruppe"),[B,W]=z.useState(["HW 2025","SW 2025","HW 2026","SW 2026","NOS - Never out of Stock"]),[$,q]=z.useState("Initiale Allokation"),[oe,fe]=z.useState("m"),[ye,se]=z.useState("2025-01-01"),[re,xe]=z.useState("2025-12-31"),[ae,pe]=z.useState(""),[Se,le]=z.useState(""),Be=["HW 2025","SW 2025","HW 2026","SW 2026","NOS - Never out of Stock"],De=z.useMemo(()=>Array.from(new Set(ds.map(ee=>ee.cluster))),[]),Ye=z.useMemo(()=>Array.from(new Set(ds.map(ee=>ee.store))),[]),tt=z.useMemo(()=>Array.from(new Set(ds.map(ee=>ee.purchaseArea))),[]);z.useMemo(()=>{let ee=ds;return ae&&(ee=ee.filter(we=>we.purchaseArea===ae)),Array.from(new Set(ee.map(we=>we.productGroup)))},[ae]);const Qe=z.useMemo(()=>{let ee=ds;ae&&(ee=ee.filter(R=>R.purchaseArea===ae));const we=new Map;ee.forEach(R=>{we.has(R.productNumber)||we.set(R.productNumber,R)});let ue=Array.from(we.values());return x&&(ue=ue.filter(R=>R.productNumber.toLowerCase().includes(x.toLowerCase()))),w&&(ue=ue.filter(R=>R.product.toLowerCase().includes(w.toLowerCase()))),S&&(ue=ue.filter(R=>R.brand.toLowerCase().includes(S.toLowerCase()))),A&&(ue=ue.filter(R=>R.season===A)),ue},[ae,x,w,S,A]),st=z.useMemo(()=>B.length===0?[]:ds.filter(we=>!(!B.includes(we.season)||we.allocationType!==$||M==="Cluster"&&L&&we.cluster!==L||M==="Filiale"&&H&&we.store!==H||ae&&we.purchaseArea!==ae||Se&&we.productGroup!==Se||Y==="Produkt"&&_.length>0&&!_.includes(we.productNumber))),[B,$,M,L,H,ae,Se,_,Y]),lt=z.useMemo(()=>{const ee=[];if(Y==="Produkt"){const we=new Map;st.forEach(ue=>{let R="";M==="Gesamt"?R=ue.productNumber:M==="Cluster"?R=`${ue.cluster}-${ue.productNumber}`:R=`${ue.store}-${ue.productNumber}`,we.has(R)||we.set(R,[]),we.get(R).push(ue)}),we.forEach((ue,R)=>{const Q=ue.reduce((et,Ge)=>et+Ge.totalCapacity,0),de=ue.reduce((et,Ge)=>et+Ge.actualCapacity,0),Re=ue.reduce((et,Ge)=>et+(t[Ge.id]??Ge.targetCapacity),0),ut=ue.reduce((et,Ge)=>et+Ge.forecastSuggestion,0),Tt=ue.reduce((et,Ge)=>et+Ge.inventory,0),Yt=Q>0?de/Q*100:0,Yn=Q>0?Re/Q*100:0,Wr=de-Re;ee.push({id:`agg-${R}`,level:`${ue[0].productNumber} - ${ue[0].product}`,evaluationLevel:M,cluster:ue[0].cluster,store:M==="Filiale"?ue[0].store:void 0,hierarchyLevel:"Produkt",category:ue[0].product,totalCapacity:Q,actualCapacity:de,actualUtilization:Yt,targetCapacity:Re,targetUtilization:Yn,forecastSuggestion:ut,deviation:Wr,inventory:Tt,status:of(Wr)})})}else if(Y==="Produktgruppe"){const we=new Map;st.forEach(ue=>{let R="";M==="Gesamt"?R=ue.productGroup:M==="Cluster"?R=`${ue.cluster}-${ue.productGroup}`:R=`${ue.store}-${ue.productGroup}`,we.has(R)||we.set(R,[]),we.get(R).push(ue)}),we.forEach((ue,R)=>{const Q=ue.reduce((Qr,Or)=>Qr+Or.totalCapacity,0),de=ue.reduce((Qr,Or)=>Qr+Or.actualCapacity,0),Re=ue.reduce((Qr,Or)=>Qr+Or.targetCapacity,0),ut=`agg-${R}`,Tt=t[ut]??Re,Yt=ue.reduce((Qr,Or)=>Qr+Or.forecastSuggestion,0),Yn=ue.reduce((Qr,Or)=>Qr+Or.inventory,0),Wr=Q>0?de/Q*100:0,et=Q>0?Tt/Q*100:0,Ge=de-Tt;ee.push({id:ut,level:ue[0].productGroup,evaluationLevel:M,cluster:ue[0].cluster,store:M==="Filiale"?ue[0].store:void 0,hierarchyLevel:"Produktgruppe",category:ue[0].productGroup,totalCapacity:Q,actualCapacity:de,actualUtilization:Wr,targetCapacity:Tt,targetUtilization:et,forecastSuggestion:Yt,deviation:Ge,inventory:Yn,status:of(Ge)})})}else if(Y==="Einkaufsbereich"){const we=new Map;st.forEach(ue=>{let R="";M==="Gesamt"?R=ue.purchaseArea:M==="Cluster"?R=`${ue.cluster}-${ue.purchaseArea}`:R=`${ue.store}-${ue.purchaseArea}`,we.has(R)||we.set(R,[]),we.get(R).push(ue)}),we.forEach((ue,R)=>{const Q=ue.reduce((et,Ge)=>et+Ge.totalCapacity,0),de=ue.reduce((et,Ge)=>et+Ge.actualCapacity,0),Re=ue.reduce((et,Ge)=>et+(t[Ge.id]??Ge.targetCapacity),0),ut=ue.reduce((et,Ge)=>et+Ge.forecastSuggestion,0),Tt=ue.reduce((et,Ge)=>et+Ge.inventory,0),Yt=Q>0?de/Q*100:0,Yn=Q>0?Re/Q*100:0,Wr=de-Re;ee.push({id:`agg-${R}`,level:ue[0].purchaseArea,evaluationLevel:M,cluster:ue[0].cluster,store:M==="Filiale"?ue[0].store:void 0,hierarchyLevel:"Einkaufsbereich",category:ue[0].purchaseArea,totalCapacity:Q,actualCapacity:de,actualUtilization:Yt,targetCapacity:Re,targetUtilization:Yn,forecastSuggestion:ut,deviation:Wr,inventory:Tt,status:of(Wr)})})}else{const we=new Map;st.forEach(ue=>{let R="";M==="Gesamt"?R="BLICK Gesamt":M==="Cluster"?R=ue.cluster:R=ue.store,we.has(R)||we.set(R,[]),we.get(R).push(ue)}),we.forEach((ue,R)=>{const Q=ue.reduce((et,Ge)=>et+Ge.totalCapacity,0),de=ue.reduce((et,Ge)=>et+Ge.actualCapacity,0),Re=ue.reduce((et,Ge)=>et+(t[Ge.id]??Ge.targetCapacity),0),ut=ue.reduce((et,Ge)=>et+Ge.forecastSuggestion,0),Tt=ue.reduce((et,Ge)=>et+Ge.inventory,0),Yt=Q>0?de/Q*100:0,Yn=Q>0?Re/Q*100:0,Wr=de-Re;ee.push({id:`agg-${R}`,level:R,evaluationLevel:M,cluster:M!=="Gesamt"?ue[0].cluster:void 0,store:M==="Filiale"?ue[0].store:void 0,hierarchyLevel:"Unternehmen",category:"Alle Bereiche",totalCapacity:Q,actualCapacity:de,actualUtilization:Yt,targetCapacity:Re,targetUtilization:Yn,forecastSuggestion:ut,deviation:Wr,inventory:Tt,status:of(Wr)})})}return ee},[st,Y,M,t]),At=z.useMemo(()=>{const ee=lt.reduce((Re,ut)=>Re+ut.totalCapacity,0),we=lt.reduce((Re,ut)=>Re+ut.actualCapacity,0),ue=lt.reduce((Re,ut)=>Re+ut.targetCapacity,0),R=we-ue,Q=ee>0?we/ee*100:0,de=ee>0?ue/ee*100:0;return{totalCapacity:ee,actualUtilization:Q,targetUtilization:de,deviation:R}},[lt]),Kt=z.useMemo(()=>lt.slice(0,10).map(ee=>({name:ee.level,SOLL:ee.targetCapacity,IST:ee.actualCapacity})),[lt]),cr=z.useMemo(()=>lt.slice(0,8).map(ee=>({level:ee.level,utilization:ee.actualUtilization,color:Nb(ee.actualUtilization)})),[lt]),He=(ee,we)=>{r(ue=>({...ue,[ee]:we})),i(!0)},Ve=ee=>{const we=lt.find(ue=>ue.id===ee);we&&(He(ee,we.forecastSuggestion),d(!1))},St=()=>{m({message:"Prognose erfolgreich neu berechnet",type:"success"}),setTimeout(()=>m(null),3e3)},ct=()=>{const ee=lt.filter(we=>we.status==="berbelegt").length;ee>0?m({message:`berkapazitt in ${ee} Bereichen erkannt`,type:"warning"}):m({message:"Kapazittsplanung gespeichert",type:"success"}),setTimeout(()=>m(null),3e3),i(!1)},rt=()=>{r({}),i(!1)},mr=ee=>{v(ee),d(!0)},hn=ee=>{F(ee),V(""),Z("")},br=ee=>{V(ee),Z("")},Fr=ee=>{W(we=>we.includes(ee)?we.filter(ue=>ue!==ee):[...we,ee])},vn=()=>{B.length===Be.length?W([]):W([...Be])},_r=ee=>{T(we=>we.includes(ee)?we.filter(ue=>ue!==ee):[...we,ee])},Yr=()=>{_.length===Qe.length?T([]):T(Qe.map(ee=>ee.productNumber))},Wi=()=>{j(!1)},ga=[{key:"level",label:"Ebene",sortable:!0,render:(ee,we)=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("span",{children:ee}),Y==="Produkt"&&we.hierarchyLevel==="Produkt"&&a.jsx(Xt,{size:14,style:{color:"var(--brand-primary)",cursor:"pointer",opacity:.7},title:"Klicken fr Details"})]})},{key:"totalCapacity",label:"Gesamtkapazitt",align:"right",render:ee=>`${ee} m`},{key:"actualCapacity",label:"IST-Kapazitt",align:"right",render:ee=>`${ee} m`},{key:"actualUtilization",label:"IST-Auslastung",align:"right",render:ee=>a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:Nb(ee),color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[ee.toFixed(1),"%"]})},{key:"targetCapacity",label:"SOLL-Kapazitt",align:"right",render:(ee,we)=>{const ue=we.hierarchyLevel==="Produktgruppe",R=ee;return a.jsxs("div",{className:"flex items-center gap-2",style:{minWidth:"200px"},children:[a.jsx("input",{type:"range",min:0,max:we.totalCapacity,step:5,value:R,onChange:Q=>ue&&He(we.id,Number(Q.target.value)),disabled:!ue,className:"flex-1",style:{cursor:ue?"pointer":"not-allowed",opacity:ue?1:.5}}),a.jsx("input",{type:"number",value:R,onChange:Q=>ue&&He(we.id,Number(Q.target.value)),disabled:!ue,className:"w-16 px-2 py-1 border rounded text-right",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:ue?"var(--surface-page)":"var(--surface-subtle)",cursor:ue?"text":"not-allowed",opacity:ue?1:.6}})]})}},{key:"targetUtilization",label:"SOLL-Auslastung",align:"right",render:ee=>`${ee.toFixed(1)}%`},{key:"forecastSuggestion",label:"Prognose-Vorschlag",align:"right",render:(ee,we)=>a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsxs("span",{children:[ee," m"]}),a.jsx("button",{onClick:()=>mr(we),className:"px-2 py-1 rounded",style:{backgroundColor:"var(--status-info)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Empfohlen"})]})},{key:"deviation",label:"Abweichung",align:"right",render:ee=>{const we=ee;return a.jsxs("span",{style:{color:we>0?"var(--status-danger)":"var(--status-success)"},children:[we>0?"+":"",we," m"]})}},{key:"inventory",label:"Bestand (in Stck)",align:"right",render:ee=>ee?ee.toLocaleString("de-CH"):"-"},{key:"status",label:"Status",render:ee=>a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:Jee[ee],color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:ee})}];return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Kapazittsplanung"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Analyse, Steuerung und Optimierung der Flchenkapazitt je Filiale und Sortiment"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:St,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Prognose neu berechnen"}),a.jsx("button",{onClick:ct,disabled:!n,className:"px-4 py-2 rounded-lg",style:{backgroundColor:n?"var(--button-primary-bg)":"var(--border-default)",color:"var(--button-primary-text)",height:"var(--height-button-md)",cursor:n?"pointer":"not-allowed",opacity:n?1:.5},children:"nderungen bernehmen"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:"Organisationsebene"}),a.jsxs("select",{value:M,onChange:ee=>hn(ee.target.value),className:"px-3 py-2 border rounded-lg min-w-[160px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"Gesamt",children:"Gesamt"}),a.jsx("option",{value:"Cluster",children:"Cluster"}),a.jsx("option",{value:"Filiale",children:"Filiale"})]})]}),M==="Cluster"&&a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:"Cluster"}),a.jsxs("select",{value:L,onChange:ee=>br(ee.target.value),className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"",children:"Alle Cluster"}),De.map(ee=>a.jsx("option",{value:ee,children:ee},ee))]})]}),M==="Filiale"&&a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:"Filiale"}),a.jsxs("select",{value:H,onChange:ee=>Z(ee.target.value),className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"",children:"Alle Filialen"}),Ye.map(ee=>a.jsx("option",{value:ee,children:ee},ee))]})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:["Artikelhierarchieebene",Y==="Produktgruppe"&&a.jsx("span",{style:{marginLeft:"var(--space-2)",color:"var(--status-success)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Planungsebene"})]}),a.jsxs("select",{value:Y,onChange:ee=>U(ee.target.value),className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"Unternehmen",children:"Unternehmen"}),a.jsx("option",{value:"Einkaufsbereich",children:"Einkaufsbereich"}),a.jsx("option",{value:"Produktgruppe",children:"Produktgruppe"}),a.jsx("option",{value:"Produkt",children:"Produkt"})]})]}),(Y==="Produktgruppe"||Y==="Produkt")&&a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:"Einkaufsbereich"}),a.jsxs("select",{value:ae,onChange:ee=>{pe(ee.target.value),le(""),T([])},className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"",children:"Alle Bereiche"}),tt.map(ee=>a.jsx("option",{value:ee,children:ee},ee))]})]}),Y==="Produkt"&&a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:["Produkt (",_.length," ausgewhlt)"]}),a.jsxs("button",{onClick:()=>j(!0),className:"px-3 py-2 border rounded-lg min-w-[180px] flex items-center justify-between",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",textAlign:"left"},children:[a.jsx("span",{children:_.length>0?`${_.length} Produkte`:"Produkt auswhlen"}),a.jsx(dn,{size:16})]})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:["Saison (",B.length," ausgewhlt)"]}),a.jsx("div",{className:"relative",children:a.jsxs("select",{className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:B.length===0?"var(--status-danger)":"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},onChange:ee=>{ee.target.value==="ALL"?vn():ee.target.value&&Fr(ee.target.value),ee.target.value=""},value:"",children:[a.jsx("option",{value:"",disabled:!0,children:"Saison whlen..."}),a.jsx("option",{value:"ALL",children:B.length===Be.length?" Alle abwhlen":" Alle auswhlen"}),Be.map(ee=>a.jsxs("option",{value:ee,children:[B.includes(ee)?" ":" ",ee]},ee))]})})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:"Allokationstyp"}),a.jsxs("select",{value:$,onChange:ee=>q(ee.target.value),className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"Initiale Allokation",children:"Initiale Allokation"}),a.jsx("option",{value:"Nachschub",children:"Nachschub"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:"Einheit"}),a.jsxs("div",{className:"flex items-center gap-2 border rounded-lg p-1",style:{borderColor:"var(--border-input)"},children:[a.jsx("button",{onClick:()=>fe("m"),className:"px-3 py-1 rounded",style:{backgroundColor:oe==="m"?"var(--brand-primary)":"transparent",color:oe==="m"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-sm)"},children:"m"}),a.jsx("button",{disabled:!0,className:"px-3 py-1 rounded",style:{backgroundColor:"transparent",color:"var(--text-muted)",fontSize:"var(--font-size-sm)",cursor:"not-allowed",opacity:.5},children:"Warentrger"})]})]})]}),B.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:B.map(ee=>a.jsxs("span",{className:"px-3 py-1 rounded-full flex items-center gap-2",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--status-info)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",border:"1px solid var(--border-info)"},children:[ee,a.jsx("button",{onClick:()=>Fr(ee),className:"hover:opacity-70",children:a.jsx(Et,{size:14})})]},ee))}),B.length===0&&a.jsxs("div",{className:"p-4 rounded-lg border flex items-start gap-3",style:{backgroundColor:"var(--surface-danger-subtle)",borderColor:"var(--status-danger)"},children:[a.jsx(Xt,{size:20,style:{color:"var(--status-danger)",flexShrink:0,marginTop:"2px"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-danger)",marginBottom:"4px"},children:"Keine Saison ausgewhlt"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Bitte whlen Sie mindestens eine Saison aus, um Kapazittsdaten anzuzeigen."})]})]}),M==="Filiale"&&H&&B.length>0&&a.jsxs("div",{className:"p-4 rounded-lg border flex items-center justify-between",style:{backgroundColor:"var(--surface-subtle-tint)",borderColor:"var(--brand-primary)"},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:a.jsx(Ep,{size:24})}),a.jsxs("div",{children:[a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"2px"},children:["Sortimentsverteilung fr ",H," analysieren"]}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Visualisieren Sie, wie Produktgruppen auf Warentrgern verteilt sind"})]})]}),a.jsx("button",{onClick:()=>e("storeLayout"),className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",height:"var(--height-button-md)",whiteSpace:"nowrap"},children:"Zur Analyse"})]}),B.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"Gesamtkapazitt"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:[At.totalCapacity," m"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"var(--space-1)"},children:"Maximal nutzbare Flche"})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"IST-Auslastung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:Nb(At.actualUtilization)},children:[At.actualUtilization.toFixed(1),"%"]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"SOLL-Auslastung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:[At.targetUtilization.toFixed(1),"%"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"var(--space-1)"},children:"prognosebasiert"})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"Abweichung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:At.deviation>0?"var(--status-danger)":"var(--status-success)"},children:[At.deviation>0?"+":"",At.deviation," m"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"var(--space-1)"},children:At.deviation>0?"berbelegung":"Reserve"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",style:{height:"260px"},children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"SOLL- vs. IST-Kapazitt"}),a.jsx("div",{style:{width:"100%",height:"190px",minHeight:"190px"},children:a.jsx(Zt,{width:"100%",height:"100%",minHeight:190,children:a.jsxs(Nr,{data:Kt,children:[a.jsx(yt,{dataKey:"name",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(xt,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(it,{}),a.jsx(Ct,{}),a.jsx(Te,{dataKey:"SOLL",fill:"var(--brand-primary)",opacity:.6}),a.jsx(Te,{dataKey:"IST",fill:"var(--brand-accent)"})]})})})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-3)"},children:"Kapazittsauslastung"}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:cr.map((ee,we)=>a.jsxs("div",{className:"p-3 rounded cursor-pointer hover:opacity-80 transition-opacity",style:{backgroundColor:ee.color,color:"var(--text-inverse)"},title:`${ee.level}: ${ee.utilization.toFixed(1)}%`,children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:ee.level.length>12?ee.level.substring(0,10)+"...":ee.level}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginTop:"var(--space-1)"},children:[ee.utilization.toFixed(1),"%"]})]},we))}),a.jsxs("div",{className:"flex items-center gap-4 mt-4",style:{fontSize:"var(--font-size-xs)"},children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#10b981"}}),a.jsx("span",{children:"< 75%"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#eab308"}}),a.jsx("span",{children:"75-85%"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#f97316"}}),a.jsx("span",{children:"85-95%"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#ef4444"}}),a.jsx("span",{children:"> 95%"})]})]})]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-4)"},children:"Kapazittsdetails"}),Y==="Produkt"&&lt.length>0&&a.jsxs("div",{style:{padding:"12px 16px",backgroundColor:"var(--brand-primary-10)",border:"1px solid var(--brand-primary-30)",borderRadius:"var(--radius-md)",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(Xt,{size:16,style:{color:"var(--brand-primary)",flexShrink:0}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:"Klicken Sie auf eine Produktzeile, um detaillierte Formeln und Explainability-Informationen anzuzeigen."})]}),lt.length===0?a.jsx("div",{className:"py-12 text-center",style:{color:"var(--text-muted)"},children:"Keine Daten fr die ausgewhlten Filter verfgbar."}):a.jsx(Ar,{columns:ga,data:lt,density:"comfortable",onRowClick:ee=>{if(Y==="Produkt"&&ee.hierarchyLevel==="Produkt"){const we=iO.find(ue=>ue.productName===ee.level||ue.productNumber===ee.id.split("-")[0]);D(we||iO[0])}else l(ee.id)}})]})]}),b&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:()=>j(!1),style:{backgroundColor:"var(--bg-overlay)"},children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg",style:{width:"900px",maxHeight:"700px",boxShadow:"var(--shadow-lg)",display:"flex",flexDirection:"column"},onClick:ee=>ee.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Produkt auswhlen"}),a.jsx("button",{onClick:()=>j(!1),className:"p-1 rounded hover:bg-surface-tint",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Produktnummer"}),a.jsx("input",{type:"text",placeholder:"Suchen...",value:x,onChange:ee=>y(ee.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Produktbeschreibung"}),a.jsx("input",{type:"text",placeholder:"Suchen...",value:w,onChange:ee=>k(ee.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Marke"}),a.jsx("input",{type:"text",placeholder:"Suchen...",value:S,onChange:ee=>N(ee.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Saison"}),a.jsxs("select",{value:A,onChange:ee=>O(ee.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Saisons"}),Be.map(ee=>a.jsx("option",{value:ee,children:ee},ee))]})]})]})]}),a.jsxs("div",{className:"p-4 overflow-auto flex-1",children:[a.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[a.jsx(aO,{checked:_.length===Qe.length&&Qe.length>0,onCheckedChange:Yr}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:["Alle auswhlen (",Qe.length," Produkte)"]})]}),a.jsxs("table",{className:"w-full",style:{fontSize:"var(--font-size-sm)"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"2px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"8px",width:"40px"}}),a.jsx("th",{style:{textAlign:"left",padding:"8px"},children:"Produktnummer"}),a.jsx("th",{style:{textAlign:"left",padding:"8px"},children:"Produktbeschreibung"}),a.jsx("th",{style:{textAlign:"left",padding:"8px"},children:"Marke"}),a.jsx("th",{style:{textAlign:"left",padding:"8px"},children:"Saison"})]})}),a.jsx("tbody",{children:Qe.map(ee=>a.jsxs("tr",{className:"hover:bg-surface-tint cursor-pointer",style:{borderBottom:"1px solid var(--border-subtle)"},onClick:()=>_r(ee.productNumber),children:[a.jsx("td",{style:{padding:"8px"},children:a.jsx(aO,{checked:_.includes(ee.productNumber),onCheckedChange:()=>_r(ee.productNumber)})}),a.jsx("td",{style:{padding:"8px"},children:ee.productNumber}),a.jsx("td",{style:{padding:"8px"},children:ee.product}),a.jsx("td",{style:{padding:"8px"},children:ee.brand}),a.jsx("td",{style:{padding:"8px"},children:ee.season})]},ee.productNumber))})]})]}),a.jsxs("div",{className:"p-4 border-t flex gap-3 justify-end",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>{T([]),j(!1)},className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsxs("button",{onClick:Wi,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:[_.length," Produkte bernehmen"]})]})]})}),u&&f&&a.jsxs("div",{className:"fixed inset-0 z-50 flex",onClick:()=>d(!1),children:[a.jsx("div",{className:"flex-1",style:{backgroundColor:"var(--bg-overlay)"}}),a.jsxs("div",{className:"bg-white shadow-lg overflow-y-auto",style:{width:"var(--drawer-width)",boxShadow:"var(--shadow-lg)"},onClick:ee=>ee.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b sticky top-0 bg-white",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Prognose-Herleitung"}),a.jsx("button",{onClick:()=>d(!1),className:"p-1 rounded hover:bg-surface-tint",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-3)"},children:f.level}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",style:{borderColor:"var(--border-subtle)"},children:[a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Absatzprognose"}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[Math.round(f.forecastSuggestion*1.2)," Einheiten"]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",style:{borderColor:"var(--border-subtle)"},children:[a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Zielreichweite"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"8 Wochen"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",style:{borderColor:"var(--border-subtle)"},children:[a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:" Bestandsmenge"}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[Math.round(f.forecastSuggestion*.8)," Einheiten"]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",style:{borderColor:"var(--border-subtle)"},children:[a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Flchenbedarf je Artikel"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"0.35 m"})]}),a.jsxs("div",{className:"flex justify-between items-center py-3 mt-4",style:{backgroundColor:"var(--surface-subtle-tint)",padding:"var(--space-3)",borderRadius:"var(--radius-md)"},children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)"},children:"Abgeleitete SOLL-Kapazitt"}),a.jsxs("span",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--brand-primary)"},children:[f.forecastSuggestion," m"]})]})]})]}),a.jsxs("div",{className:"p-4 rounded-lg flex items-start gap-3",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx(Xt,{size:20,style:{color:"var(--status-info)",flexShrink:0,marginTop:"2px"}}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:"Die Prognose basiert auf historischen Verkaufsdaten der letzten 12 Monate, saisonalen Trends und geplanten Marketingaktionen."})]})]}),a.jsxs("div",{className:"p-6 border-t sticky bottom-0 bg-white flex gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsx("button",{onClick:()=>Ve(f.id),className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:"Prognosewert bernehmen"})]})]})]}),n&&a.jsxs("div",{className:"fixed bottom-0 left-0 right-0 flex items-center justify-end gap-3 px-6 border-t",style:{height:"64px",backgroundColor:"var(--surface-page)",borderColor:"var(--border-subtle)",zIndex:40},children:[a.jsx("button",{onClick:rt,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"nderungen verwerfen"}),a.jsx("button",{onClick:ct,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:"nderungen bernehmen"})]}),h&&a.jsxs("div",{className:"fixed bottom-20 right-6 px-6 py-3 rounded-lg shadow-lg flex items-center gap-3 animate-slide-up",style:{backgroundColor:h.type==="success"?"var(--status-success)":h.type==="warning"?"var(--status-warning)":"var(--status-danger)",color:"var(--text-inverse)",boxShadow:"var(--shadow-lg)",zIndex:100},children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:h.message}),a.jsx("button",{onClick:()=>m(null),className:"hover:opacity-70",children:a.jsx(Et,{size:18})})]}),E&&a.jsx(Qee,{product:E,onClose:()=>D(null)})]})}const oO={berkapazitt:"#ef4444",Untererfllung:"#3b82f6",Ausgeglichen:"#10b981"},tte={berkapazitt:cl,Untererfllung:Ip,Ausgeglichen:FS},rte={info:{label:"Hinweis",color:"#3b82f6",icon:Xt},critical:{label:"Kritisch",color:"#f59e0b",icon:aa},blocking:{label:"Blockierend",color:"#ef4444",icon:aa}};function nte({articles:e,onBack:t,onAccept:r,onDiscard:n,onRelease:i}){const[o,l]=z.useState("planned"),[u,d]=z.useState(!1),[f,v]=z.useState(""),[h,m]=z.useState(""),b=e.length,j=Array.from(new Set(e.map(D=>D.season))),x=Array.from(new Set(e.map(D=>D.articleGroup))),y=z.useMemo(()=>{const D=e.map(M=>new Date(M.deliveryFrom));return new Date(Math.min(...D.map(M=>M.getTime())))},[e]),w=z.useMemo(()=>{const D=e.map(M=>new Date(M.deliveryTo));return new Date(Math.max(...D.map(M=>M.getTime())))},[e]),k=z.useMemo(()=>{const F=75+({planned:0,plus1week:-5,plus2weeks:-8,minus1week:10,split:-12,custom:f&&h?-6:0}[o]||0),L=80,V=F-L,H=Math.abs(V)>10?3:V>5?1:0;return{actualUtilization:F,targetUtilization:L,deviation:V,affectedStores:H}},[o,f,h]),S=z.useMemo(()=>[{category:"Shoes",soll:120,ist:135,status:"berkapazitt"},{category:"Apparel",soll:150,ist:145,status:"Ausgeglichen"},{category:"Accessories",soll:80,ist:65,status:"Untererfllung"},{category:"Electronics",soll:50,ist:48,status:"Ausgeglichen"}],[]),N=z.useMemo(()=>[{month:"Jan 25",berkapazitt:5,Ausgeglichen:20,Untererfllung:3},{month:"Feb 25",berkapazitt:8,Ausgeglichen:15,Untererfllung:5},{month:"Mr 25",berkapazitt:12,Ausgeglichen:10,Untererfllung:2},{month:"Apr 25",berkapazitt:3,Ausgeglichen:18,Untererfllung:4},{month:"Mai 25",berkapazitt:2,Ausgeglichen:22,Untererfllung:1}],[]),A=z.useMemo(()=>{const D=[];k.actualUtilization>90&&D.push({id:"1",message:`berkapazitt in ${k.affectedStores} Stores (> 90%)`,severity:"critical"}),k.deviation>15&&D.push({id:"2",message:"Kategorie Shoes berschreitet SOLL-Kapazitt um 12%",severity:"critical"});const M=e.filter(L=>L.capacityImpact==="Untererfllung").length;M>0&&D.push({id:"3",message:`Untererfllung in Kategorie Accessories (${M} Artikel)`,severity:"info"});const F=e.filter(L=>L.capacityImpact==="berkapazitt").length;return F>2&&D.push({id:"4",message:`Grenlauf-Konflikte: ${F} Artikel betroffen`,severity:"info"}),D},[k,e]),O=D=>{d(!0),l(D),setTimeout(()=>{d(!1)},800)},_=D=>D<80?"#10b981":D<=90?"#f59e0b":"#ef4444",E=(()=>{if(o==="custom"&&f&&h)return{from:new Date(f).toLocaleDateString("de-DE"),to:new Date(h).toLocaleDateString("de-DE")};const D=new Date(y),M=new Date(w);switch(o){case"plus1week":D.setDate(D.getDate()+7),M.setDate(M.getDate()+7);break;case"plus2weeks":D.setDate(D.getDate()+14),M.setDate(M.getDate()+14);break;case"minus1week":D.setDate(D.getDate()-7),M.setDate(M.getDate()-7);break}return{from:D.toLocaleDateString("de-DE"),to:M.toLocaleDateString("de-DE")}})();return a.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--surface-page)"},children:[a.jsx("div",{className:"px-6 py-4 border-b",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)"},children:a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Arbeitsvorrat  Simulation  Initiale Allokation"})}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("button",{onClick:t,className:"flex items-center gap-2 mb-4 hover:opacity-70",style:{color:"var(--text-secondary)",fontSize:"var(--font-size-sm)"},children:[a.jsx(BS,{size:16}),"Zurck zum Arbeitsvorrat"]}),a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Simulation  Initiale Allokation"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Bewertung der kapazitiven und zeitlichen Wirkung der ausgewhlten Artikel"})]}),a.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"grid grid-cols-5 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Anzahl Artikel"}),a.jsx("div",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:b})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Saisonen"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:j.join(", ")})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Artikelgruppen"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:x.join(", ")})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Ursprngliches Lieferfenster (Plan)"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)"},children:[y.toLocaleDateString("de-DE"),"  ",w.toLocaleDateString("de-DE")]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Szenario"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Initiale Allokation"})]})]})}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Liefertermin-Optionen"}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Liefertermin (Plan)"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)"},children:[y.toLocaleDateString("de-DE"),"  ",w.toLocaleDateString("de-DE")]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)",display:"block"},children:"Liefertermin-Option"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:o,onChange:D=>O(D.target.value),className:"px-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},disabled:u,children:[a.jsx("option",{value:"planned",children:"Geplantes Lieferfenster"}),a.jsx("option",{value:"plus1week",children:"+1 Woche"}),a.jsx("option",{value:"plus2weeks",children:"+2 Wochen"}),a.jsx("option",{value:"minus1week",children:"-1 Woche"}),a.jsx("option",{value:"custom",children:"Manuelle Eingabe"}),a.jsx("option",{value:"split",disabled:!0,children:"Aufteilen auf zwei Lieferfenster (bald verfgbar)"})]}),u&&a.jsx("div",{className:"absolute right-10 top-1/2 -translate-y-1/2",children:a.jsx(IL,{size:16,className:"animate-spin",style:{color:"var(--brand-primary)"}})})]}),o!=="planned"&&o!=="custom"&&a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-success)",marginTop:"var(--space-1)"},children:["Simuliert: ",E.from,"  ",E.to]}),o==="custom"&&a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"var(--space-1)"},children:"Liefertermin von"}),a.jsx("input",{type:"date",value:f,onChange:D=>{v(D.target.value),D.target.value&&h&&(d(!0),setTimeout(()=>d(!1),800))},className:"px-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"var(--space-1)"},children:"Liefertermin bis"}),a.jsx("input",{type:"date",value:h,onChange:D=>{m(D.target.value),D.target.value&&f&&(d(!0),setTimeout(()=>d(!1),800))},className:"px-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"}})]}),f&&h&&a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-success)"},children:["Simuliert: ",new Date(f).toLocaleDateString("de-DE"),"  ",new Date(h).toLocaleDateString("de-DE")]})]})]})]}),a.jsxs("div",{className:"mt-3 px-3 py-2 rounded flex items-center gap-2",style:{backgroundColor:"var(--surface-info-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:[a.jsx(Xt,{size:14}),"Terminnderungen wirken sich direkt auf Kapazitt und Simulation aus."]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"IST-Auslastung (nach Simulation)"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:_(k.actualUtilization)},children:[k.actualUtilization,"%"]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"SOLL-Auslastung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:[k.targetUtilization,"%"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Kapazittsplanung"})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Abweichung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:k.deviation>0?"#ef4444":k.deviation<-5?"#3b82f6":"#10b981"},children:[k.deviation>0?"+":"",k.deviation,"%"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:k.deviation>0?"berkapazitt":k.deviation<0?"Untererfllung":"Ausgeglichen"})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Betroffene Stores"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:k.affectedStores}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Stores auerhalb SOLL-Rahmen"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",minHeight:"320px"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Kapazittswirkung nach Simulation"}),a.jsx(Zt,{width:"100%",height:250,minHeight:250,children:a.jsxs(Nr,{data:S,children:[a.jsx(yt,{dataKey:"category",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(xt,{style:{fontSize:"var(--font-size-xs)"},label:{value:"m",angle:-90,position:"insideLeft"}}),a.jsx(it,{}),a.jsx(Ct,{}),a.jsx(Te,{dataKey:"soll",name:"SOLL",fill:"var(--brand-primary)",opacity:.6}),a.jsx(Te,{dataKey:"ist",name:"IST",fill:"var(--brand-accent)"})]})})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",minHeight:"320px"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Kapazittsbelastung ber Zeit"}),a.jsx(Zt,{width:"100%",height:250,minHeight:250,children:a.jsxs(Nr,{data:N,children:[a.jsx(yt,{dataKey:"month",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(xt,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(it,{}),a.jsx(Ct,{}),a.jsx(Te,{dataKey:"berkapazitt",stackId:"a",fill:"#ef4444"}),a.jsx(Te,{dataKey:"Ausgeglichen",stackId:"a",fill:"#10b981"}),a.jsx(Te,{dataKey:"Untererfllung",stackId:"a",fill:"#3b82f6"})]})})]})]}),A.length>0&&a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Aufflligkeiten aus der Simulation"}),a.jsx("div",{className:"space-y-2",children:A.map(D=>{const M=rte[D.severity],F=M.icon;return a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded",style:{backgroundColor:`${M.color}10`},children:[a.jsx(F,{size:18,style:{color:M.color,flexShrink:0,marginTop:"2px"}}),a.jsx("div",{className:"flex-1",children:a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:D.message})}),a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:M.color,color:"white",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:M.label})]},D.id)})}),a.jsx("div",{className:"mt-3 px-3 py-2 rounded",style:{backgroundColor:"var(--surface-info-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:"Hinweis: Nicht jede Aufflligkeit blockiert eine Freigabe."})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:["Artikelliste (",e.length,")"]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Artikelnummer"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Farbe"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Artikelbeschreibung"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Kapazittswirkung"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Liefertermin (Simulation)"})]})}),a.jsx("tbody",{children:e.map(D=>{const M=tte[D.capacityImpact];return a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{style:{padding:"12px 8px"},children:a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:D.articleNumber})}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:D.colorHex,borderColor:"var(--border-default)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:D.color})]})}),a.jsx("td",{style:{padding:"12px 8px",fontSize:"var(--font-size-sm)"},children:D.description}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full",style:{backgroundColor:`${oO[D.capacityImpact]}15`,color:oO[D.capacityImpact],fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",width:"fit-content"},children:[a.jsx(M,{size:14}),a.jsx("span",{children:D.capacityImpact})]})}),a.jsxs("td",{style:{padding:"12px 8px",fontSize:"var(--font-size-sm)"},children:[E.from,"  ",E.to]})]},D.id)})})]})})]}),a.jsx("div",{style:{height:"100px"}})]}),a.jsxs("div",{className:"sticky bottom-0 px-6 py-4 border-t flex items-center justify-end gap-3",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-subtle)",height:"72px"},children:[a.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Zurck zum Arbeitsvorrat"}),a.jsx("button",{onClick:n,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Simulation verwerfen"}),a.jsx("button",{onClick:()=>{o==="custom"&&f&&h?r(o,{from:f,to:h}):r(o)},className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:"Simulation bernehmen"}),a.jsx("button",{onClick:i,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",height:"var(--height-button-md)",boxShadow:"var(--shadow-sm)"},children:"Allokation freigeben"})]})]})}const Pb=[{id:"1",articleNumber:"ART-20251001",color:"Schwarz",colorHex:"#000000",status:"Offen",description:"Running Schuhe Pro Trail Max mit Dmpfung",articleGroup:"Shoes",season:"Frhjahr/Sommer 2025",deliveryFrom:"2025-03-01",deliveryTo:"2025-03-15",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:2400,sizeCount:12,capacityNeed:"18 m / 3 Warentrger",capacityImpact:"berkapazitt",capacityImpactReason:["Hoher Flchenbedarf pro Einheit","Kategorie Shoes nahe SOLL-Grenze","Lieferpeak im Zeitraum MrzApril"],allocationDate:null,bookmarked:!1,simulationDate:null,initiallyAllocated:!1},{id:"2",articleNumber:"ART-20251002",color:"Blau",colorHex:"#2563eb",status:"In Planung",description:"Sport T-Shirt Performance Fit",articleGroup:"Apparel",season:"Frhjahr/Sommer 2025",deliveryFrom:"2025-02-15",deliveryTo:"2025-02-28",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:5600,sizeCount:5,capacityNeed:"12 m / 2 Warentrger",capacityImpact:"Ausgeglichen",capacityImpactReason:["Moderater Flchenbedarf","Kategorie Apparel mit ausreichender Kapazitt","Gleichmige Verteilung im Lieferzeitraum"],allocationDate:null,bookmarked:!1,simulationDate:null,initiallyAllocated:!1},{id:"3",articleNumber:"ART-20251003",color:"Rot",colorHex:"#dc2626",status:"Allokiert",description:"Winterjacke Premium Isolation",articleGroup:"Apparel",season:"Herbst/Winter 2025",deliveryFrom:"2025-09-01",deliveryTo:"2025-09-20",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:1200,sizeCount:6,capacityNeed:"25 m / 4 Warentrger",capacityImpact:"berkapazitt",capacityImpactReason:["Hoher Flchenbedarf pro Einheit","Saisonaler Peak in Herbst/Winter","Viele Artikel im selben Zeitfenster"],allocationDate:"2024-12-10",bookmarked:!1,simulationDate:null,initiallyAllocated:!0},{id:"4",articleNumber:"ART-20251004",color:"Grn",colorHex:"#16a34a",status:"Offen",description:"Fitness Hose Stretch Comfort",articleGroup:"Apparel",season:"NOS",deliveryFrom:"2025-01-10",deliveryTo:"2025-01-25",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:3200,sizeCount:8,capacityNeed:"15 m / 2 Warentrger",capacityImpact:"Ausgeglichen",capacityImpactReason:["Ausgeglichener Kapazittsbeitrag","NOS-Artikel mit gleichmiger Distribution","Keine zeitliche Verdichtung"],allocationDate:null,bookmarked:!1,simulationDate:null,initiallyAllocated:!1},{id:"5",articleNumber:"ART-20251005",color:"Wei",colorHex:"#ffffff",status:"In Planung",description:"Sneakers Urban Style Low",articleGroup:"Shoes",season:"Frhjahr/Sommer 2025",deliveryFrom:"2025-04-01",deliveryTo:"2025-04-15",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:1800,sizeCount:10,capacityNeed:"20 m / 3 Warentrger",capacityImpact:"berkapazitt",capacityImpactReason:["Hoher Flchenbedarf pro Einheit","Kategorie Shoes nahe SOLL-Grenze","berlappender Liefertermin mit anderen Shoes-Artikeln"],allocationDate:null,bookmarked:!1,simulationDate:null,initiallyAllocated:!1},{id:"6",articleNumber:"ART-20251006",color:"Grau",colorHex:"#6b7280",status:"Allokiert",description:"Smartwatch Fitness Tracker Pro",articleGroup:"Electronics",season:"NOS",deliveryFrom:"2025-02-01",deliveryTo:"2025-02-10",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:800,sizeCount:1,capacityNeed:"5 m / 1 Warentrger",capacityImpact:"Untererfllung",capacityImpactReason:["Geringer Kapazittsbeitrag","Kategorie Electronics mit freier SOLL-Kapazitt","Wenige Artikel im Lieferzeitraum"],allocationDate:"2024-11-20",bookmarked:!1,simulationDate:null,initiallyAllocated:!0},{id:"7",articleNumber:"ART-20251007",color:"Braun",colorHex:"#92400e",status:"Offen",description:"Leder Grtel Classic",articleGroup:"Accessories",season:"NOS",deliveryFrom:"2025-03-10",deliveryTo:"2025-03-20",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:1500,sizeCount:7,capacityNeed:"8 m / 1 Warentrger",capacityImpact:"Untererfllung",capacityImpactReason:["Geringer Kapazittsbeitrag","Kategorie Accessories mit freier SOLL-Kapazitt","Niedriger Flchenbedarf"],allocationDate:null,bookmarked:!1,simulationDate:null,initiallyAllocated:!1},{id:"8",articleNumber:"ART-20251008",color:"Navy",colorHex:"#1e3a8a",status:"In Planung",description:"Rucksack Outdoor Adventure 30L",articleGroup:"Accessories",season:"Frhjahr/Sommer 2025",deliveryFrom:"2025-05-01",deliveryTo:"2025-05-15",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:950,sizeCount:2,capacityNeed:"10 m / 2 Warentrger",capacityImpact:"Ausgeglichen",capacityImpactReason:["Moderater Flchenbedarf","Kategorie Accessories mit ausreichender Kapazitt","Sptes Lieferfenster mit wenig Konkurrenz"],allocationDate:null,bookmarked:!1,simulationDate:null,initiallyAllocated:!1}],fs={Offen:"var(--status-warning)","In Planung":"var(--status-info)",Allokiert:"var(--status-success)",Simuliert:"#8b5cf6"},ps={berkapazitt:"#ef4444",Untererfllung:"#3b82f6",Ausgeglichen:"#10b981"},ate={berkapazitt:cl,Untererfllung:Ip,Ausgeglichen:FS},sO=[{id:"RUN-2025-W50-001",type:"initial",startDate:"2025-12-16 09:30",status:"Abgeschlossen",articleCount:156},{id:"RUN-2025-W49-R12",type:"replenishment",startDate:"2025-12-10 14:15",status:"Abgeschlossen",articleCount:89},{id:"RUN-2025-W49-R11",type:"replenishment",startDate:"2025-12-09 10:00",status:"Abgeschlossen",articleCount:67},{id:"RUN-2025-W48-M03",type:"manual",startDate:"2025-12-05 16:45",status:"Abgeschlossen",articleCount:34},{id:"RUN-2025-W50-R13",type:"replenishment",startDate:"2025-12-15 11:20",status:"Luft",articleCount:45},{id:"RUN-2025-W51-R14",type:"replenishment",startDate:"2025-12-18 09:00",status:"Geplant",articleCount:52}];function ite({onNavigate:e}){const[t,r]=z.useState(Pb),[n,i]=z.useState([]),[o,l]=z.useState(!1),[u,d]=z.useState(!1),[f,v]=z.useState([]),[h,m]=z.useState(!0),[b,j]=z.useState(!1),[x,y]=z.useState(null),[w,k]=z.useState("initial"),[S,N]=z.useState(!1),[A,O]=z.useState(null),[_,T]=z.useState(""),[E,D]=z.useState(""),[M,F]=z.useState([]),[L,V]=z.useState([]),[H,Z]=z.useState([]),[Y,U]=z.useState(""),[B,W]=z.useState(""),[$,q]=z.useState(null),[oe,fe]=z.useState(null),[ye,se]=z.useState(null),[re,xe]=z.useState("status"),[ae,pe]=z.useState("status"),Se=z.useMemo(()=>t.some(R=>R.status==="Simuliert"),[t]),le=Array.from(new Set(Pb.map(R=>R.articleGroup))),Be=Array.from(new Set(Pb.map(R=>R.season))),De=["berkapazitt","Untererfllung","Ausgeglichen"],Ye=R=>R.deliveryFromSimulation||R.deliveryFrom,tt=R=>R.deliveryToSimulation||R.deliveryTo,Qe=z.useMemo(()=>w==="initial"?t:t.filter(R=>R.initiallyAllocated),[t,w]),st=z.useMemo(()=>Qe.filter(R=>{if(M.length>0&&!M.includes(R.articleGroup)||L.length>0&&!L.includes(R.season)||H.length>0&&!H.includes(R.capacityImpact))return!1;const Q=Ye(R),de=tt(R);return!(Y&&Q<Y||B&&de>B||$&&R.status!==$||oe&&R.capacityImpact!==oe||ye&&Q.substring(0,7)!==ye)}),[Qe,M,L,H,Y,B,$,oe,ye]),lt=z.useMemo(()=>{const R={Offen:0,"In Planung":0,Allokiert:0,Simuliert:0};return st.forEach(Q=>{R[Q.status]++}),Object.entries(R).map(([Q,de])=>({name:Q,value:de})).filter(Q=>Q.value>0)},[st]),At=z.useMemo(()=>{const R={berkapazitt:0,Untererfllung:0,Ausgeglichen:0};return st.forEach(Q=>{R[Q.capacityImpact]++}),Object.entries(R).map(([Q,de])=>({name:Q,value:de}))},[st]),Kt=z.useMemo(()=>{const R=new Map;return st.forEach(Q=>{const de=Ye(Q).substring(0,7);R.has(de)||R.set(de,{Offen:0,"In Planung":0,Allokiert:0,Simuliert:0});const Re=R.get(de);Re[Q.status]++}),Array.from(R.entries()).sort((Q,de)=>Q[0].localeCompare(de[0])).map(([Q,de])=>({month:new Date(Q+"-01").toLocaleDateString("de-DE",{month:"short",year:"numeric"}),monthKey:Q,...de}))},[st]),cr=z.useMemo(()=>{const R=new Map;return st.forEach(Q=>{const de=Ye(Q).substring(0,7);R.has(de)||R.set(de,{berkapazitt:0,Untererfllung:0,Ausgeglichen:0});const Re=R.get(de);Re[Q.capacityImpact]++}),Array.from(R.entries()).sort((Q,de)=>Q[0].localeCompare(de[0])).map(([Q,de])=>({month:new Date(Q+"-01").toLocaleDateString("de-DE",{month:"short",year:"numeric"}),monthKey:Q,...de}))},[st]),He=z.useMemo(()=>t.filter(R=>R.bookmarked).length,[t]),Ve=z.useMemo(()=>t.filter(R=>R.bookmarked&&R.capacityImpact==="berkapazitt").length,[t]),St=R=>{r(Q=>Q.map(de=>de.id===R&&de.status!=="Allokiert"?{...de,bookmarked:!de.bookmarked}:de))},ct=()=>{r(R=>R.map(Q=>n.includes(Q.id)&&Q.status!=="Allokiert"?{...Q,bookmarked:!0}:Q)),i([])},rt=()=>{const R=t.filter(Q=>Q.bookmarked);if(R.length===0){y({message:"Keine Artikel fr Allokation ausgewhlt",type:"error"}),setTimeout(()=>y(null),3e3);return}v(R),l(!0)},mr=R=>{v(Q=>Q.filter(de=>de.id!==R))},hn=()=>{f.length!==0&&(h?(l(!1),d(!0)):(r(R=>R.map(Q=>f.find(de=>de.id===Q.id)?{...Q,status:"In Planung",bookmarked:!1,allocationDate:new Date().toISOString().split("T")[0]}:Q)),y({message:"Allokation zur Verarbeitung eingeplant",type:"success"}),setTimeout(()=>y(null),3e3),l(!1),v([])))},br=(R,Q)=>{r(de=>de.map(Re=>{if(f.find(Tt=>Tt.id===Re.id)){let Tt,Yt;if(R==="custom"&&Q)Tt=new Date(Q.from),Yt=new Date(Q.to);else switch(Tt=new Date(Re.deliveryFrom),Yt=new Date(Re.deliveryTo),R){case"plus1week":Tt.setDate(Tt.getDate()+7),Yt.setDate(Yt.getDate()+7);break;case"plus2weeks":Tt.setDate(Tt.getDate()+14),Yt.setDate(Yt.getDate()+14);break;case"minus1week":Tt.setDate(Tt.getDate()-7),Yt.setDate(Yt.getDate()-7);break}return{...Re,status:"Simuliert",deliveryFromSimulation:Tt.toISOString().split("T")[0],deliveryToSimulation:Yt.toISOString().split("T")[0],bookmarked:!1,simulationDate:new Date().toISOString().split("T")[0]}}return Re})),y({message:"Simulation erfolgreich bernommen",type:"success"}),setTimeout(()=>y(null),3e3),d(!1),v([])},Fr=()=>{r(R=>R.map(Q=>f.find(de=>de.id===Q.id)?{...Q,status:"In Planung",bookmarked:!1,allocationDate:new Date().toISOString().split("T")[0]}:Q)),y({message:"Allokation zur Verarbeitung freigegeben",type:"success"}),setTimeout(()=>y(null),3e3),d(!1),v([])},vn=R=>{const Q=t.filter(de=>de.status==="Simuliert").map(de=>de.id);r(de=>de.map(Re=>Q.includes(Re.id)?{...Re,status:"Offen",deliveryFromSimulation:null,deliveryToSimulation:null,simulationDate:null}:Re)),y({message:"Simulation verworfen",type:"success"}),setTimeout(()=>y(null),3e3)},_r=R=>{switch(R){case"groups":F([]);break;case"seasons":V([]);break;case"capacity":Z([]);break;case"delivery":U(""),W("");break;case"status":q(null);break;case"capacityImpact":fe(null);break;case"month":se(null);break}},Yr=R=>{w==="initial"?e("runs",{runId:sO[0].id}):N(!0)},Wi=()=>{A&&(e("runs",{runId:A}),N(!1),O(null),T(""),D(""))},ga=z.useMemo(()=>sO.filter(R=>w==="initial"?R.type==="initial":w==="replenishment"?R.type==="replenishment":w==="manual"?R.type==="manual":!(_&&R.startDate<_||E&&R.startDate>E)),[w,_,E]),ee=[];M.length>0&&ee.push({type:"groups",label:`Gruppe: ${M.join(", ")}`}),L.length>0&&ee.push({type:"seasons",label:`Saison: ${L.join(", ")}`}),H.length>0&&ee.push({type:"capacity",label:`Kapazittswirkung: ${H.join(", ")}`}),(Y||B)&&ee.push({type:"delivery",label:`Liefertermin: ${Y} - ${B}`}),$&&ee.push({type:"status",label:`Status: ${$}`}),oe&&ee.push({type:"capacityImpact",label:`Kapazittswirkung: ${oe}`}),ye&&ee.push({type:"month",label:`Monat: ${ye}`});const we=[{key:"bookmarked",label:"Vormerken",align:"center",width:"80px",render:(R,Q)=>a.jsx("input",{type:"checkbox",checked:R,disabled:Q.status==="Allokiert",onChange:()=>St(Q.id),onClick:de=>de.stopPropagation(),className:"w-4 h-4 cursor-pointer",style:{accentColor:"var(--brand-primary)",opacity:Q.status==="Allokiert"?.5:1}})},{key:"articleNumber",label:"Artikelnummer",sortable:!0,width:"140px",render:R=>a.jsx("code",{className:"cursor-pointer hover:underline",style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:R})},{key:"color",label:"Farbe",width:"120px",render:(R,Q)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:Q.colorHex,borderColor:"var(--border-default)"}}),a.jsx("span",{children:R})]})},{key:"status",label:"Status",width:"140px",render:(R,Q)=>a.jsxs("div",{className:"group relative",children:[a.jsx("span",{className:"px-3 py-1 rounded-full cursor-help whitespace-nowrap inline-block",style:{backgroundColor:fs[R],color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:R}),R==="Simuliert"&&a.jsxs("div",{className:"absolute bottom-full left-0 mb-2 px-4 py-3 rounded-lg shadow-lg opacity-0 pointer-events-none group-hover:opacity-100 transition-opacity whitespace-nowrap z-50",style:{backgroundColor:"var(--text-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",boxShadow:"var(--shadow-lg)",minWidth:"280px"},children:["Fr diesen Artikel liegt ein bernommener Simulationsvorschlag vor.",a.jsx("br",{}),"Die Allokation wurde noch nicht freigegeben."]})]})},{key:"description",label:"Artikelbeschreibung",render:R=>a.jsx("div",{style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:R})},{key:"articleGroup",label:"Artikelgruppe",sortable:!0},{key:"season",label:"Saison"},{key:"deliveryFrom",label:"Liefertermin von (Plan)",render:R=>new Date(R).toLocaleDateString("de-DE")},{key:"deliveryTo",label:"Liefertermin bis (Plan)",render:R=>new Date(R).toLocaleDateString("de-DE")},{key:"deliveryFromSimulation",label:"Liefertermin von (Simulation)",render:(R,Q)=>R?a.jsxs("div",{className:"group relative flex items-center gap-1",children:[a.jsx(Wd,{size:14,style:{color:"#8b5cf6"}}),a.jsx("span",{children:new Date(R).toLocaleDateString("de-DE")}),a.jsxs("div",{className:"absolute bottom-full left-0 mb-2 px-4 py-3 rounded-lg shadow-lg opacity-0 pointer-events-none group-hover:opacity-100 transition-opacity whitespace-nowrap z-50",style:{backgroundColor:"var(--text-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",boxShadow:"var(--shadow-lg)"},children:["Liefertermin aus letzter Simulation",a.jsx("br",{}),"Noch nicht produktiv freigegeben"]})]}):a.jsx("span",{style:{color:"var(--text-muted)"},children:"-"})},{key:"deliveryToSimulation",label:"Liefertermin bis (Simulation)",render:(R,Q)=>R?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Wd,{size:14,style:{color:"#8b5cf6"}}),a.jsx("span",{children:new Date(R).toLocaleDateString("de-DE")})]}):a.jsx("span",{style:{color:"var(--text-muted)"},children:"-"})},{key:"stockDC",label:"Bestand im VZ",align:"right"},{key:"sizeCount",label:"Anzahl Gren",align:"right"},{key:"capacityNeed",label:"Kapazittsbedarf",render:R=>a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:R})},{key:"capacityImpact",label:a.jsxs("div",{className:"flex items-center gap-1 group relative",children:[a.jsx("span",{children:"Kapazittswirkung"}),Se&&a.jsxs(a.Fragment,{children:[a.jsx(Wd,{size:14,style:{color:"#8b5cf6"}}),a.jsxs("div",{className:"absolute bottom-full left-0 mb-2 px-4 py-3 rounded-lg shadow-lg opacity-0 pointer-events-none group-hover:opacity-100 transition-opacity whitespace-nowrap z-50",style:{backgroundColor:"var(--text-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",boxShadow:"var(--shadow-lg)"},children:["Kapazittswirkung basiert auf Simulationsvorschlgen,",a.jsx("br",{}),"sofern vorhanden"]})]})]}),sortable:!0,render:(R,Q)=>{const de=ate[R];return a.jsxs("div",{className:"group relative",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full cursor-help",style:{backgroundColor:`${ps[R]}15`,color:ps[R],fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",width:"fit-content"},children:[a.jsx(de,{size:14}),a.jsx("span",{children:R})]}),a.jsxs("div",{className:"absolute bottom-full left-0 mb-2 px-4 py-3 rounded-lg shadow-lg opacity-0 pointer-events-none group-hover:opacity-100 transition-opacity whitespace-nowrap",style:{backgroundColor:"var(--text-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",boxShadow:"var(--shadow-lg)",zIndex:50,minWidth:"280px"},children:[a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:R==="berkapazitt"?"berkapazittsrisiko":R==="Untererfllung"?"Untererfllungsrisiko":"Ausgeglichene Kapazitt"}),a.jsx("ul",{style:{listStyle:"disc",paddingLeft:"16px",lineHeight:"1.5"},children:Q.capacityImpactReason.map((Re,ut)=>a.jsx("li",{children:Re},ut))})]})]})}},{key:"allocationDate",label:"Allokationsdatum",render:R=>R?new Date(R).toLocaleDateString("de-DE"):"-"},{key:"id",label:"Allokationslauf",align:"center",width:"140px",render:(R,Q)=>a.jsxs("button",{onClick:de=>{de.stopPropagation(),Yr()},className:"group flex items-center justify-center gap-2 px-3 py-1.5 rounded-lg border transition-all",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-xs)"},title:"Allokationslauf ffnen",children:[a.jsx(hE,{size:14}),a.jsx("span",{children:"Lauf ffnen"})]})}],ue=t.filter(R=>R.status==="Simuliert");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Arbeitsvorrat"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Verwalten Sie initiale Allokationen, simulieren Sie Verteilungen und geben Sie diese frei"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[ue.length>0&&a.jsxs("button",{onClick:()=>vn(),className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:[a.jsx(WS,{size:16}),"Simulation verwerfen (",ue.length,")"]}),ue.length>0&&a.jsxs("button",{onClick:()=>e("allocationAnalysis"),className:"px-4 py-2 rounded-lg border flex items-center gap-2 hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:[a.jsx(Xt,{size:16}),"Allokationsanalyse"]}),a.jsx("button",{className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Plan & Vorschau"}),a.jsx("button",{onClick:rt,disabled:He===0,className:"px-4 py-2 rounded-lg",style:{backgroundColor:He>0?"var(--button-primary-bg)":"var(--border-default)",color:"var(--button-primary-text)",height:"var(--height-button-md)",cursor:He>0?"pointer":"not-allowed",opacity:He>0?1:.5},children:"Allokation durchfhren"})]})]}),a.jsxs("div",{className:"flex items-center gap-1 border rounded p-1",style:{borderColor:"var(--border-input)",width:"fit-content"},children:[a.jsx("button",{onClick:()=>k("initial"),className:"px-4 py-2 rounded",style:{backgroundColor:w==="initial"?"var(--brand-primary)":"transparent",color:w==="initial"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Erstallokation"}),a.jsx("button",{onClick:()=>k("replenishment"),className:"px-4 py-2 rounded",style:{backgroundColor:w==="replenishment"?"var(--brand-primary)":"transparent",color:w==="replenishment"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Nachschub"}),a.jsx("button",{onClick:()=>k("manual"),className:"px-4 py-2 rounded",style:{backgroundColor:w==="manual"?"var(--brand-primary)":"transparent",color:w==="manual"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Manuelle Einsteuerung"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsx("div",{className:"relative",children:a.jsxs("select",{multiple:!0,value:M,onChange:R=>{const Q=Array.from(R.target.selectedOptions,de=>de.value);F(Q)},className:"px-3 py-2 border rounded-lg min-w-[200px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},size:1,children:[a.jsx("option",{value:"",disabled:!0,children:"Artikelgruppe"}),le.map(R=>a.jsx("option",{value:R,children:R},R))]})}),a.jsx("div",{className:"relative",children:a.jsxs("select",{multiple:!0,value:L,onChange:R=>{const Q=Array.from(R.target.selectedOptions,de=>de.value);V(Q)},className:"px-3 py-2 border rounded-lg min-w-[200px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},size:1,children:[a.jsx("option",{value:"",disabled:!0,children:"Saison"}),Be.map(R=>a.jsx("option",{value:R,children:R},R))]})}),a.jsx("div",{className:"relative",children:a.jsxs("select",{multiple:!0,value:H,onChange:R=>{const Q=Array.from(R.target.selectedOptions,de=>de.value);Z(Q)},className:"px-3 py-2 border rounded-lg min-w-[200px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},size:1,children:[a.jsx("option",{value:"",disabled:!0,children:"Kapazittswirkung"}),De.map(R=>a.jsx("option",{value:R,children:R},R))]})}),a.jsx("div",{className:"relative",children:a.jsxs("select",{value:$||"",onChange:R=>q(R.target.value||null),className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"",children:"Status (Alle)"}),a.jsx("option",{value:"Offen",children:"Offen"}),a.jsx("option",{value:"In Planung",children:"In Planung"}),a.jsx("option",{value:"Simuliert",children:"Simuliert"}),a.jsx("option",{value:"Allokiert",children:"Allokiert"})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"date",value:Y,onChange:R=>U(R.target.value),placeholder:"Von",className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"}}),a.jsx("span",{style:{color:"var(--text-muted)"},children:"bis"}),a.jsx("input",{type:"date",value:B,onChange:R=>W(R.target.value),placeholder:"Bis",className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"}})]})]}),ee.length>0&&a.jsx("div",{className:"flex flex-wrap items-center gap-2",children:ee.map((R,Q)=>a.jsxs("span",{className:"px-3 py-1 rounded-full flex items-center gap-2",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:[R.label,a.jsx("button",{onClick:()=>_r(R.type),className:"hover:opacity-70",children:a.jsx(Et,{size:14})})]},Q))}),Se&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded",style:{backgroundColor:"#8b5cf615",border:"1px solid #8b5cf630",fontSize:"var(--font-size-xs)",color:"#8b5cf6"},children:[a.jsx(Wd,{size:16}),a.jsx("span",{children:"Ansicht: Simulation  Diagramme und Kapazittswirkung basieren auf bernommenen Simulationswerten"})]}),a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsxs("div",{className:"col-span-3 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",minHeight:"280px"},children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)"},children:"Allokationsstatus"})}),a.jsxs("div",{className:"flex items-center gap-1 mb-3 border rounded p-1",style:{borderColor:"var(--border-input)",width:"fit-content"},children:[a.jsx("button",{onClick:()=>xe("status"),className:"px-2 py-1 rounded",style:{backgroundColor:re==="status"?"var(--brand-primary)":"transparent",color:re==="status"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Status"}),a.jsx("button",{onClick:()=>xe("capacity"),className:"px-2 py-1 rounded",style:{backgroundColor:re==="capacity"?"var(--brand-primary)":"transparent",color:re==="capacity"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Kapazitt"})]}),a.jsx(Zt,{width:"100%",height:180,minHeight:180,children:a.jsxs(tI,{children:[a.jsx(va,{data:re==="status"?lt:At,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:55,label:({name:R,percent:Q})=>`${R} ${(Q*100).toFixed(0)}%`,onClick:R=>{re==="status"?q(R.name):fe(R.name)},style:{cursor:"pointer",fontSize:"var(--font-size-xs)"},children:(re==="status"?lt:At).map((R,Q)=>a.jsx(hl,{fill:re==="status"?fs[R.name]:ps[R.name]},Q))}),a.jsx(it,{})]})})]}),a.jsxs("div",{className:"col-span-9 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",minHeight:"280px"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)"},children:"Allokationen nach Monat"}),a.jsxs("div",{className:"flex items-center gap-1 border rounded p-1",style:{borderColor:"var(--border-input)"},children:[a.jsx("button",{onClick:()=>pe("status"),className:"px-2 py-1 rounded",style:{backgroundColor:ae==="status"?"var(--brand-primary)":"transparent",color:ae==="status"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Status"}),a.jsx("button",{onClick:()=>pe("capacity"),className:"px-2 py-1 rounded",style:{backgroundColor:ae==="capacity"?"var(--brand-primary)":"transparent",color:ae==="capacity"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Kapazitt"})]})]}),a.jsx(Zt,{width:"100%",height:210,minHeight:210,children:ae==="status"?a.jsxs(Nr,{data:Kt,children:[a.jsx(yt,{dataKey:"month",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(xt,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(it,{}),a.jsx(Ct,{}),a.jsx(Te,{dataKey:"Offen",stackId:"a",fill:fs.Offen,onClick:R=>{se(R.monthKey),q("Offen")},style:{cursor:"pointer"}}),a.jsx(Te,{dataKey:"In Planung",stackId:"a",fill:fs["In Planung"],onClick:R=>{se(R.monthKey),q("In Planung")},style:{cursor:"pointer"}}),a.jsx(Te,{dataKey:"Simuliert",stackId:"a",fill:fs.Simuliert,onClick:R=>{se(R.monthKey),q("Simuliert")},style:{cursor:"pointer"}}),a.jsx(Te,{dataKey:"Allokiert",stackId:"a",fill:fs.Allokiert,onClick:R=>{se(R.monthKey),q("Allokiert")},style:{cursor:"pointer"}})]}):a.jsxs(Nr,{data:cr,children:[a.jsx(yt,{dataKey:"month",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(xt,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(it,{}),a.jsx(Ct,{}),a.jsx(Te,{dataKey:"berkapazitt",stackId:"a",fill:ps.berkapazitt,onClick:R=>{se(R.monthKey),fe("berkapazitt")},style:{cursor:"pointer"}}),a.jsx(Te,{dataKey:"Untererfllung",stackId:"a",fill:ps.Untererfllung,onClick:R=>{se(R.monthKey),fe("Untererfllung")},style:{cursor:"pointer"}}),a.jsx(Te,{dataKey:"Ausgeglichen",stackId:"a",fill:ps.Ausgeglichen,onClick:R=>{se(R.monthKey),fe("Ausgeglichen")},style:{cursor:"pointer"}})]})})]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[n.length," Artikel ausgewhlt"]}),Ve>0&&a.jsxs("div",{className:"mt-2 flex items-center gap-2 px-3 py-2 rounded",style:{backgroundColor:"var(--surface-warning-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-warning)"},children:[a.jsx(Xt,{size:16}),a.jsx("span",{children:"Hinweis: Die Auswahl enthlt Artikel mit mglichem Kapazittsengpass."})]})]}),a.jsx("button",{onClick:ct,disabled:n.length===0,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)",opacity:n.length>0?1:.5,cursor:n.length>0?"pointer":"not-allowed"},children:"Allokation vormerken"})]}),a.jsx(Ar,{columns:we,data:st,density:"comfortable",selectable:!0,selectedRows:n,onSelectionChange:i})]}),o&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:()=>l(!1),children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-3xl max-h-[80vh] overflow-y-auto",style:{boxShadow:"var(--shadow-lg)"},onClick:R=>R.stopPropagation(),children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Allokation durchfhren"}),f.filter(R=>R.capacityImpact==="berkapazitt"||R.capacityImpact==="Untererfllung").length>0&&a.jsxs("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Kapazittszusammenfassung"}),a.jsxs("div",{className:"space-y-1",style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:[f.filter(R=>R.capacityImpact==="berkapazitt").length>0&&a.jsxs("div",{children:[" Anzahl Artikel mit berkapazittsrisiko: ",a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)"},children:f.filter(R=>R.capacityImpact==="berkapazitt").length})]}),f.filter(R=>R.capacityImpact==="Untererfllung").length>0&&a.jsxs("div",{children:[" Anzahl Artikel mit Untererfllungsrisiko: ",a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)"},children:f.filter(R=>R.capacityImpact==="Untererfllung").length})]})]}),a.jsx("div",{className:"mt-3 pt-3",style:{borderTop:"1px solid var(--border-info)",fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Die Kapazittswirkung basiert auf prognostischen Daten und wird in der Simulation konkretisiert."})]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h,onChange:R=>m(R.target.checked),className:"w-4 h-4",style:{accentColor:"var(--brand-primary)"}}),a.jsxs("div",{children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Allokation simulieren"}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Bei Aktivierung werden keine realen Allokationen erzeugt."})]})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:b,onChange:R=>j(R.target.checked),className:"w-4 h-4",style:{accentColor:"var(--brand-primary)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Hintergrundverarbeitung einplanen"})]}),b&&a.jsxs("div",{className:"ml-7 flex items-center gap-3",children:[a.jsx("input",{type:"date",className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)"}}),a.jsx("input",{type:"time",className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)"}})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-3)"},children:["Ausgewhlte Artikel (",f.length,")"]}),a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:f.map(R=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:R.colorHex}}),a.jsxs("div",{children:[a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:R.articleNumber}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"2px"},children:R.description})]})]}),a.jsx("button",{onClick:()=>mr(R.id),className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:16,style:{color:"var(--text-muted)"}})})]},R.id))})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3",children:[a.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsx("button",{onClick:hn,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:h?"Simulation starten":"Allokation starten"})]})]})}),u&&a.jsx(nte,{articles:f,onBack:()=>{d(!1)},onAccept:br,onDiscard:()=>{d(!1),v([])},onRelease:Fr}),S&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:()=>{N(!1),O(null),T(""),D("")},children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-3xl",style:{boxShadow:"var(--shadow-lg)"},onClick:R=>R.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Allokationslauf auswhlen"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Whlen Sie einen bestehenden Allokationslauf aus, um die Details anzuzeigen"})]}),a.jsx("button",{onClick:()=>{N(!1),O(null),T(""),D("")},className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-subtle)"},children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Datum von"}),a.jsx("input",{type:"date",value:_,onChange:R=>T(R.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Datum bis"}),a.jsx("input",{type:"date",value:E,onChange:R=>D(R.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",fontSize:"var(--font-size-sm)"}})]})]})}),a.jsxs("div",{className:"p-6",style:{maxHeight:"400px",overflowY:"auto"},children:[a.jsx("h4",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Letzte Allokationslufe"}),a.jsx("div",{className:"overflow-hidden rounded-lg border",style:{borderColor:"var(--border-default)"},children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)",backgroundColor:"var(--surface-alt)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"60px"}}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Lauf-ID"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Typ"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Startdatum"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Status"}),a.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Artikelanzahl"})]})}),a.jsx("tbody",{children:ga.map(R=>a.jsxs("tr",{onClick:()=>O(R.id),className:"cursor-pointer hover:bg-surface-tint transition-colors",style:{borderBottom:"1px solid var(--border-subtle)",backgroundColor:A===R.id?"var(--surface-info-subtle)":"transparent"},children:[a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("input",{type:"radio",checked:A===R.id,onChange:()=>O(R.id),className:"cursor-pointer",style:{accentColor:"var(--brand-primary)"}})}),a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:R.id})}),a.jsx("td",{style:{padding:"12px 16px",fontSize:"var(--font-size-sm)"},children:a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:R.type==="initial"?"var(--surface-info-subtle)":R.type==="replenishment"?"var(--surface-success-subtle)":"var(--surface-warning-subtle)",color:R.type==="initial"?"var(--status-info)":R.type==="replenishment"?"var(--status-success)":"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:R.type==="initial"?"Initial":R.type==="replenishment"?"Nachschub":"Manuell"})}),a.jsx("td",{style:{padding:"12px 16px",fontSize:"var(--font-size-sm)"},children:new Date(R.startDate).toLocaleString("de-DE")}),a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:R.status==="Abgeschlossen"?"var(--status-success)":R.status==="Luft"?"var(--status-info)":R.status==="Geplant"?"var(--status-warning)":"var(--status-danger)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:R.status})}),a.jsx("td",{style:{padding:"12px 16px",textAlign:"right",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:R.articleCount})]},R.id))})]})})]}),a.jsxs("div",{className:"p-6 border-t flex items-start justify-between",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",maxWidth:"450px"},children:[a.jsx(Xt,{size:14,style:{display:"inline",marginRight:"6px"}}),"Der ausgewhlte Allokationslauf wird schreibgeschtzt geffnet, sofern er bereits abgeschlossen ist."]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>{N(!1),O(null),T(""),D("")},className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsxs("button",{onClick:Wi,disabled:!A,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{backgroundColor:A?"var(--brand-primary)":"var(--border-default)",color:"var(--text-inverse)",height:"var(--height-button-md)",opacity:A?1:.5,cursor:A?"pointer":"not-allowed"},children:[a.jsx(Tp,{size:18}),"Allokationslauf ffnen"]})]})]})]})}),x&&a.jsxs("div",{className:"fixed bottom-6 right-6 px-6 py-3 rounded-lg shadow-lg flex items-center gap-3 animate-slide-up",style:{backgroundColor:x.type==="success"?"var(--status-success)":"var(--status-danger)",color:"var(--text-inverse)",boxShadow:"var(--shadow-lg)",zIndex:100},children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:x.message}),a.jsx("button",{onClick:()=>y(null),className:"hover:opacity-70",children:a.jsx(Et,{size:18})})]})]})}const _b=[{id:"RUN-2025-W50-001",type:"initial",status:"Abgeschlossen",startDate:"2025-12-16 09:30",endDate:"2025-12-16 11:45",articleCount:156,storeCount:12,user:"M. Weber"},{id:"RUN-2025-W50-002",type:"replenishment",status:"Abgeschlossen",startDate:"2025-12-15 14:20",endDate:"2025-12-15 15:30",articleCount:89,storeCount:10,user:"S. Mller"},{id:"RUN-2025-W50-003",type:"manual",status:"Mit Ausnahmen",startDate:"2025-12-14 10:15",endDate:"2025-12-14 12:00",articleCount:45,storeCount:8,user:"A. Schmidt"},{id:"RUN-2025-W49-001",type:"initial",status:"Abgeschlossen",startDate:"2025-12-09 08:00",endDate:"2025-12-09 10:30",articleCount:203,storeCount:12,user:"M. Weber"},{id:"RUN-2025-W49-002",type:"replenishment",status:"Abgeschlossen",startDate:"2025-12-08 13:45",endDate:"2025-12-08 14:50",articleCount:67,storeCount:9,user:"T. Fischer"},{id:"RUN-2025-W48-001",type:"manual",status:"Abgeschlossen",startDate:"2025-12-02 11:30",endDate:"2025-12-02 13:15",articleCount:34,storeCount:6,user:"S. Mller"},{id:"RUN-2025-W47-001",type:"initial",status:"Luft",startDate:"2025-11-25 09:00",articleCount:178,storeCount:12,user:"M. Weber",progress:65}],ote=[{id:"1",articleNumber:"ART-20251001",description:"Running Schuhe Pro Trail Max mit Dmpfung",color:"Schwarz",colorHex:"#000000",season:"Frhjahr/Sommer 2025",allocationFrom:"2025-03-01",allocationTo:"2025-03-15",storeCount:8,totalQuantity:240,capacityImpact:"berkapazitt",hasExceptions:!0,sizeCount:12,allocationDate:"2025-12-16"},{id:"2",articleNumber:"ART-20251002",description:"Sport T-Shirt Performance Fit",color:"Blau",colorHex:"#2563eb",season:"Frhjahr/Sommer 2025",allocationFrom:"2025-02-15",allocationTo:"2025-02-28",storeCount:12,totalQuantity:560,capacityImpact:"Ausgeglichen",hasExceptions:!1,sizeCount:5,allocationDate:"2025-12-16"},{id:"3",articleNumber:"ART-20251003",description:"Winterjacke Premium Isolation",color:"Rot",colorHex:"#dc2626",season:"Herbst/Winter 2025",allocationFrom:"2025-10-01",allocationTo:"2025-10-15",storeCount:10,totalQuantity:180,capacityImpact:"Untererfllung",hasExceptions:!1,sizeCount:6,allocationDate:"2025-12-16"}],hs=[{storeId:"ZH-001",storeName:"Zrich HB",storeDescription:"Hauptbahnhof Zrich",allocatedQuantity:45,demand:50,overUnder:-5,targetStock:60,currentStock:15,salesLast2Weeks:35},{storeId:"BE-001",storeName:"Bern",storeDescription:"Bern Innenstadt",allocatedQuantity:30,demand:28,overUnder:2,targetStock:40,currentStock:12,salesLast2Weeks:22},{storeId:"BS-001",storeName:"Basel",storeDescription:"Basel SBB",allocatedQuantity:38,demand:40,overUnder:-2,targetStock:50,currentStock:10,salesLast2Weeks:28},{storeId:"LU-001",storeName:"Luzern",storeDescription:"Luzern Bahnhofstrasse",allocatedQuantity:25,demand:22,overUnder:3,targetStock:35,currentStock:13,salesLast2Weeks:18},{storeId:"LS-001",storeName:"Lausanne",storeDescription:"Lausanne Gare",allocatedQuantity:32,demand:35,overUnder:-3,targetStock:45,currentStock:11,salesLast2Weeks:25}],Oa=[{size:"36",allocatedQuantity:15,demand:18,currentStock:5,targetStock:20},{size:"37",allocatedQuantity:18,demand:20,currentStock:6,targetStock:24},{size:"38",allocatedQuantity:25,demand:25,currentStock:8,targetStock:30},{size:"39",allocatedQuantity:30,demand:28,currentStock:10,targetStock:35},{size:"40",allocatedQuantity:28,demand:30,currentStock:9,targetStock:32},{size:"41",allocatedQuantity:25,demand:22,currentStock:7,targetStock:28},{size:"42",allocatedQuantity:22,demand:20,currentStock:6,targetStock:25},{size:"43",allocatedQuantity:18,demand:15,currentStock:5,targetStock:20},{size:"44",allocatedQuantity:15,demand:12,currentStock:4,targetStock:18},{size:"45",allocatedQuantity:12,demand:10,currentStock:3,targetStock:15},{size:"46",allocatedQuantity:10,demand:8,currentStock:2,targetStock:12},{size:"47",allocatedQuantity:8,demand:6,currentStock:2,targetStock:10}],ste={berkapazitt:cl,Untererfllung:Ip,Ausgeglichen:FS},lte={berkapazitt:"#ef4444",Untererfllung:"#3b82f6",Ausgeglichen:"#10b981"},lO={initial:"Initiale Allokation",replenishment:"Nachschub",manual:"Manuelle Einsteuerung"};function cte({onNavigate:e,runId:t}){const[r,n]=z.useState(_b),[i,o]=z.useState(!0),[l,u]=z.useState(null),[d,f]=z.useState(!1),[v,h]=z.useState(null),[m,b]=z.useState("aggregated"),[j,x]=z.useState("absolute"),[y,w]=z.useState("all"),[k,S]=z.useState(""),[N,A]=z.useState(""),[O,_]=z.useState("all");z.useEffect(()=>{(async()=>{o(!0);try{const V=(await $S.getRuns()).map(H=>({id:H.id,type:H.type||"initial",status:H.status==="completed"?"Abgeschlossen":H.status==="running"?"Luft":H.status==="with_exceptions"?"Mit Ausnahmen":"Geplant",startDate:H.startDate||new Date().toISOString(),endDate:H.endDate,progress:H.progress||0,articleCount:H.articleCount||0,storeCount:H.storeCount||0,user:H.user||"System"}));n(V)}catch(L){console.error("Failed to load runs:",L),n(_b)}finally{o(!1)}})()},[]);const T=z.useMemo(()=>Array.from(new Set(r.map(F=>F.user))).sort(),[r]),E=z.useMemo(()=>r.filter(F=>{if(y!=="all"&&F.type!==y||O!=="all"&&F.user!==O)return!1;if(k){const L=new Date(F.startDate),V=new Date(k);if(L<V)return!1}if(N){const L=new Date(F.startDate),V=new Date(N);if(V.setHours(23,59,59,999),L>V)return!1}return!0}),[y,k,N,O]);if(!t){const F=[{key:"id",label:"Lauf-ID",sortable:!0,width:"160px",render:L=>a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:L})},{key:"type",label:"Typ",sortable:!0,width:"180px",render:L=>a.jsx("span",{className:"px-3 py-1 rounded-full inline-block",style:{backgroundColor:L==="initial"?"var(--surface-info-subtle)":L==="replenishment"?"var(--surface-success-subtle)":"var(--surface-warning-subtle)",color:L==="initial"?"var(--status-info)":L==="replenishment"?"var(--status-success)":"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:lO[L]})},{key:"status",label:"Status",sortable:!0,width:"150px",render:L=>a.jsx("span",{className:"px-3 py-1 rounded-full inline-block",style:{backgroundColor:L==="Abgeschlossen"?"var(--status-success)":L==="Luft"?"var(--status-info)":L==="Geplant"?"var(--status-warning)":"var(--status-danger)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:L})},{key:"startDate",label:"Startdatum",sortable:!0,render:L=>new Date(L).toLocaleString("de-DE")},{key:"endDate",label:"Enddatum",render:L=>L?new Date(L).toLocaleString("de-DE"):"-"},{key:"user",label:"Benutzer",sortable:!0},{key:"articleCount",label:"Anzahl Artikel",align:"right",sortable:!0,render:L=>a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)"},children:L})},{key:"storeCount",label:"Anzahl Filialen",align:"right",sortable:!0},{key:"actions",label:"Aktion",align:"center",width:"140px",render:(L,V)=>a.jsx("button",{onClick:H=>{H.stopPropagation(),e("runs",{runId:V.id})},className:"px-3 py-1.5 rounded-lg border hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-xs)"},children:"Details anzeigen"})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Allokationslufe"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"bersicht und Verwaltung aller Allokationslufe"})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(gE,{size:18,style:{color:"var(--text-muted)"}}),a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:"Filter"})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"filterType",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Allokationsprozess"}),a.jsxs("select",{id:"filterType",value:y,onChange:L=>w(L.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"all",children:"Alle Typen"}),a.jsx("option",{value:"initial",children:"Initiale Allokation"}),a.jsx("option",{value:"replenishment",children:"Nachschub"}),a.jsx("option",{value:"manual",children:"Manuelle Einsteuerung"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"filterDateFrom",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Datum von"}),a.jsx("input",{type:"date",id:"filterDateFrom",value:k,onChange:L=>S(L.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"filterDateTo",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Datum bis"}),a.jsx("input",{type:"date",id:"filterDateTo",value:N,onChange:L=>A(L.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"filterUser",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Benutzer"}),a.jsxs("select",{id:"filterUser",value:O,onChange:L=>_(L.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"all",children:"Alle Benutzer"}),T.map(L=>a.jsx("option",{value:L,children:L},L))]})]})]}),(y!=="all"||k||N||O!=="all")&&a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:()=>{w("all"),S(""),A(""),_("all")},className:"px-4 py-2 rounded-lg border hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:"Filter zurcksetzen"})})]}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[E.length," ",E.length===1?"Lauf":"Lufe"," gefunden"]}),a.jsx("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsx(Ar,{data:E,columns:F,onRowClick:L=>e("runs",{runId:L.id})})})]})}const D=_b.find(F=>F.id===t);if(l){const F=hs.reduce((se,re)=>se+re.currentStock,0),L=hs.reduce((se,re)=>se+re.targetStock,0),V=hs.reduce((se,re)=>se+re.allocatedQuantity,0),H=hs.reduce((se,re)=>se+re.overUnder,0),Z=hs.reduce((se,re)=>se+re.demand,0),U=[{name:"Filialbestand gesamt",value:F},{name:"Sollbestand gesamt",value:L},{name:"Allokationsmenge",value:V},{name:"ber-/Unterdeckung",value:H},{name:"Bedarf",value:Z},{name:"VZ-Bestand",value:2400}],B=[{name:"Filialbestand gesamt",...Oa.reduce((se,re)=>({...se,[re.size]:re.currentStock}),{})},{name:"Sollbestand gesamt",...Oa.reduce((se,re)=>({...se,[re.size]:re.targetStock}),{})},{name:"Allokationsmenge",...Oa.reduce((se,re)=>({...se,[re.size]:re.allocatedQuantity}),{})},{name:"ber-/Unterdeckung",...Oa.reduce((se,re)=>({...se,[re.size]:re.allocatedQuantity-re.demand}),{})},{name:"Bedarf",...Oa.reduce((se,re)=>({...se,[re.size]:re.demand}),{})},{name:"VZ-Bestand",...Oa.reduce((se,re)=>({...se,[re.size]:200}),{})}],W=j==="relative"?B.map(se=>{const re=Oa.map(pe=>pe.size),xe=re.reduce((pe,Se)=>pe+(Number(se[Se])||0),0);if(xe===0)return se;const ae={name:se.name};return re.forEach(pe=>{ae[pe]=(Number(se[pe])||0)/xe*100}),ae}):B,$=U.map(se=>se.value),q=Math.min(...$),oe=Math.max(...$),fe=q<0?[Math.floor(q*1.1),Math.ceil(oe*1.1)]:[0,Math.ceil(oe*1.1)],ye=[{key:"storeName",label:"Filiale",sortable:!0,render:se=>a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:se})},{key:"storeDescription",label:"Filialbeschreibung"},{key:"allocatedQuantity",label:"Allokationsmenge",align:"right",sortable:!0,render:se=>a.jsx("button",{onClick:()=>{h({title:"Allokationsmenge",field:"allocatedQuantity"}),f(!0)},className:"hover:underline cursor-pointer",style:{fontWeight:"var(--font-weight-medium)",color:"var(--brand-primary)"},children:se})},{key:"demand",label:"Bedarf",align:"right",sortable:!0,render:se=>a.jsx("button",{onClick:()=>{h({title:"Bedarf",field:"demand"}),f(!0)},className:"hover:underline cursor-pointer",style:{fontWeight:"var(--font-weight-medium)",color:"var(--brand-primary)"},children:se})},{key:"overUnder",label:"ber-/Unterdeckung",align:"right",sortable:!0,render:se=>a.jsxs("button",{onClick:()=>{h({title:"ber-/Unterdeckung",field:"overUnder"}),f(!0)},className:"hover:underline cursor-pointer",style:{fontWeight:"var(--font-weight-medium)",color:se<0?"#ef4444":se>0?"#10b981":"inherit"},children:[se>0?"+":"",se]})},{key:"targetStock",label:"Sollbestand",align:"right",sortable:!0,render:se=>a.jsx("button",{onClick:()=>{h({title:"Sollbestand",field:"targetStock"}),f(!0)},className:"hover:underline cursor-pointer",style:{fontWeight:"var(--font-weight-medium)",color:"var(--brand-primary)"},children:se})},{key:"currentStock",label:"Filialbestand",align:"right",sortable:!0,render:se=>a.jsx("button",{onClick:()=>{h({title:"Filialbestand",field:"currentStock"}),f(!0)},className:"hover:underline cursor-pointer",style:{fontWeight:"var(--font-weight-medium)",color:"var(--brand-primary)"},children:se})},{key:"salesLast2Weeks",label:"Umsatz letzte 2 Wochen",align:"right",sortable:!0}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("button",{onClick:()=>u(null),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-surface-tint transition-colors",style:{color:"var(--text-muted)"},children:[a.jsx(BS,{size:20}),a.jsx("span",{children:"Zurck zum Allokationslauf"})]}),a.jsx("div",{children:a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Artikel  Allokationsdetails"})}),a.jsx("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Artikelnummer"}),a.jsx("code",{style:{fontSize:"var(--font-size-sm)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"4px 8px",borderRadius:"var(--radius-sm)"},children:l.articleNumber})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Artikelbeschreibung"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:l.description})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Farbe"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:l.colorHex,borderColor:"var(--border-default)"}}),a.jsx("span",{children:l.color})]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl Gren"}),a.jsx("div",{children:l.sizeCount})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Saison"}),a.jsx("div",{children:l.season})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Allokationsdatum"}),a.jsx("div",{children:new Date(l.allocationDate).toLocaleDateString("de-DE")})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Allokationszeitraum von"}),a.jsx("div",{children:new Date(l.allocationFrom).toLocaleDateString("de-DE")})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Allokationszeitraum bis"}),a.jsx("div",{children:new Date(l.allocationTo).toLocaleDateString("de-DE")})]})]})}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",minHeight:"500px"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Aggregierte Bestands- & Allokationskennzahlen"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"flex gap-2 p-1 rounded-lg",style:{backgroundColor:"var(--surface-alt)"},children:[a.jsx("button",{onClick:()=>b("aggregated"),className:"px-3 py-1.5 rounded transition-all",style:{backgroundColor:m==="aggregated"?"var(--brand-primary)":"transparent",color:m==="aggregated"?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Aggregiert"}),a.jsx("button",{onClick:()=>b("segmented"),className:"px-3 py-1.5 rounded transition-all",style:{backgroundColor:m==="segmented"?"var(--brand-primary)":"transparent",color:m==="segmented"?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Nach Gren segmentiert"})]}),m==="segmented"&&a.jsxs("div",{className:"flex gap-2 p-1 rounded-lg",style:{backgroundColor:"var(--surface-alt)"},children:[a.jsx("button",{onClick:()=>x("absolute"),className:"px-3 py-1.5 rounded transition-all",style:{backgroundColor:j==="absolute"?"var(--brand-primary)":"transparent",color:j==="absolute"?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Absolut"}),a.jsx("button",{onClick:()=>x("relative"),className:"px-3 py-1.5 rounded transition-all",style:{backgroundColor:j==="relative"?"var(--brand-primary)":"transparent",color:j==="relative"?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Relativ"})]})]})]}),a.jsx("div",{style:{width:"100%",height:"400px",minHeight:"400px"},children:a.jsx(Zt,{width:"100%",height:"100%",minHeight:400,children:m==="aggregated"?a.jsxs(Nr,{data:U,layout:"vertical",margin:{top:5,right:30,left:200,bottom:5},children:[a.jsx(Hn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(yt,{type:"number",domain:fe,tickFormatter:se=>Math.round(se).toString()}),a.jsx(xt,{type:"category",dataKey:"name",width:180}),a.jsx(it,{}),a.jsx(Te,{dataKey:"value",fill:"#2563eb"})]}):a.jsxs(Nr,{data:W,layout:"vertical",margin:{top:5,right:30,left:200,bottom:5},children:[a.jsx(Hn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(yt,{type:"number",domain:j==="relative"?[0,100]:fe,label:j==="relative"?{value:"%",position:"insideRight",offset:-10}:void 0,tickFormatter:se=>j==="relative"?`${Math.round(se)}%`:Math.round(se).toString()}),a.jsx(xt,{type:"category",dataKey:"name",width:180}),a.jsx(it,{formatter:se=>j==="relative"?`${se.toFixed(2)}%`:se}),a.jsx(Ct,{}),a.jsx(Te,{dataKey:"36",stackId:"a",fill:"#1e3a8a"}),a.jsx(Te,{dataKey:"37",stackId:"a",fill:"#1e40af"}),a.jsx(Te,{dataKey:"38",stackId:"a",fill:"#1d4ed8"}),a.jsx(Te,{dataKey:"39",stackId:"a",fill:"#2563eb"}),a.jsx(Te,{dataKey:"40",stackId:"a",fill:"#3b82f6"}),a.jsx(Te,{dataKey:"41",stackId:"a",fill:"#60a5fa"}),a.jsx(Te,{dataKey:"42",stackId:"a",fill:"#93c5fd"}),a.jsx(Te,{dataKey:"43",stackId:"a",fill:"#bfdbfe"}),a.jsx(Te,{dataKey:"44",stackId:"a",fill:"#dbeafe"}),a.jsx(Te,{dataKey:"45",stackId:"a",fill:"#eff6ff"}),a.jsx(Te,{dataKey:"46",stackId:"a",fill:"#f0f9ff"}),a.jsx(Te,{dataKey:"47",stackId:"a",fill:"#e0f2fe"})]})})})]}),a.jsxs("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"p-4 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:"Allokation je Filiale"})}),a.jsx(Ar,{data:hs,columns:ye,onRowClick:()=>{}})]}),d&&v&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:()=>f(!1),children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl",style:{boxShadow:"var(--shadow-lg)"},onClick:se=>se.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:["Grenverteilung  ",v.title]}),a.jsx("button",{onClick:()=>f(!1),className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"overflow-hidden rounded-lg border",style:{borderColor:"var(--border-default)"},children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)",backgroundColor:"var(--surface-alt)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Gre"}),a.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Allokationsmenge"}),a.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Bedarf"}),a.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Bestand"}),a.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Sollbestand"})]})}),a.jsx("tbody",{children:Oa.map((se,re)=>a.jsxs("tr",{style:{borderBottom:re<Oa.length-1?"1px solid var(--border-subtle)":"none"},children:[a.jsx("td",{style:{padding:"12px 16px",fontWeight:"var(--font-weight-medium)"},children:se.size}),a.jsx("td",{style:{textAlign:"right",padding:"12px 16px"},children:se.allocatedQuantity}),a.jsx("td",{style:{textAlign:"right",padding:"12px 16px"},children:se.demand}),a.jsx("td",{style:{textAlign:"right",padding:"12px 16px"},children:se.currentStock}),a.jsx("td",{style:{textAlign:"right",padding:"12px 16px"},children:se.targetStock})]},se.size))})]})})}),a.jsx("div",{className:"p-6 border-t flex justify-end",style:{borderColor:"var(--border-default)"},children:a.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)"},children:"Schlieen"})})]})})]})}const M=[{key:"articleNumber",label:"Artikelnummer",sortable:!0,width:"140px",render:F=>a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:F})},{key:"description",label:"Artikelbeschreibung",render:F=>a.jsx("div",{style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:F})},{key:"color",label:"Farbe",width:"120px",render:(F,L)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:L.colorHex,borderColor:"var(--border-default)"}}),a.jsx("span",{children:F})]})},{key:"season",label:"Saison"},{key:"allocationFrom",label:"Allokationszeitraum von",render:F=>new Date(F).toLocaleDateString("de-DE")},{key:"allocationTo",label:"Allokationszeitraum bis",render:F=>new Date(F).toLocaleDateString("de-DE")},{key:"storeCount",label:"Anzahl Filialen",align:"right",sortable:!0},{key:"totalQuantity",label:"Gesamtmenge allokiert",align:"right",sortable:!0,render:F=>a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)"},children:F})},{key:"capacityImpact",label:"Kapazittswirkung",align:"center",width:"160px",render:F=>{const L=ste[F];return a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(L,{size:18,style:{color:lte[F]}})})}},{key:"hasExceptions",label:"Exception-Status",align:"center",render:F=>F?a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Ausnahme"}):a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-xs)"},children:"-"})},{key:"id",label:"Aktion",align:"center",width:"140px",render:(F,L)=>a.jsx("button",{onClick:V=>{V.stopPropagation(),u(L)},className:"px-3 py-1.5 rounded-lg border hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-xs)"},children:"Details anzeigen"})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[a.jsx("button",{onClick:()=>e("runs"),className:"hover:underline",children:"Allokationslufe"}),a.jsx("span",{children:""}),a.jsx("span",{children:t})]}),a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Allokationslauf"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"bersicht aller Artikel und Ergebnisse dieses Allokationslaufs"})]}),D&&a.jsx("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Lauf-ID"}),a.jsx("code",{style:{fontSize:"var(--font-size-sm)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"4px 8px",borderRadius:"var(--radius-sm)"},children:D.id})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Typ"}),a.jsx("span",{className:"px-3 py-1 rounded-full inline-block",style:{backgroundColor:D.type==="initial"?"var(--surface-info-subtle)":D.type==="replenishment"?"var(--surface-success-subtle)":"var(--surface-warning-subtle)",color:D.type==="initial"?"var(--status-info)":D.type==="replenishment"?"var(--status-success)":"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:lO[D.type]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Status"}),a.jsx("span",{className:"px-3 py-1 rounded-full inline-block",style:{backgroundColor:D.status==="Abgeschlossen"?"var(--status-success)":D.status==="Luft"?"var(--status-info)":D.status==="Geplant"?"var(--status-warning)":"var(--status-danger)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:D.status})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Startdatum"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:new Date(D.startDate).toLocaleString("de-DE")})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl Artikel"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",fontSize:"var(--font-size-lg)"},children:D.articleCount})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl Filialen"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",fontSize:"var(--font-size-lg)"},children:D.storeCount})]})]})}),a.jsxs("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"p-4 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:"Allokierte Artikel"})}),a.jsx(Ar,{data:ote,columns:M,onRowClick:F=>u(F)})]})]})}const Ob={overcapacity:"berkapazitt",undercapacity:"Untererfllung SOLL-Kapazitt","delivery-conflict":"Liefertermin-Konflikt","lot-conflict":"LOT / Grenlauf-Konflikt","parameter-conflict":"Parameterkonflikt","manual-deviation":"Manuelle Abweichung"},io={info:{label:"Hinweis",color:"var(--status-info)",icon:Xt},critical:{label:"Kritisch",color:"var(--status-warning)",icon:Ft},blocking:{label:"Blockierend",color:"var(--status-danger)",icon:aa}},vs={new:{label:"Neu",color:"var(--status-info)"},"in-progress":{label:"In Bearbeitung",color:"var(--status-warning)"},accepted:{label:"Akzeptiert",color:"var(--brand-primary)"},resolved:{label:"Gelst",color:"var(--status-success)"}},ute=[{id:"EXC-001",type:"overcapacity",severity:"critical",status:"new",process:"initial",article:"ART-10245 - Running Shoes Elite",category:"Shoes  Running",cause:'SOLL-Kapazitt wird im Cluster "Urban Premium" um 23% berschritten',affectedLevel:"Store-Cluster: Urban Premium (3 Filialen)",impact:"+23% ber SOLL",source:"simulation",recommendedAction:"Liefertermin verschieben oder Artikel reduzieren",createdAt:"2025-12-16 09:45",season:"SS 2026",cluster:"Urban Premium",capacityDeviation:23,deliveryDate:"KW 12/2026"},{id:"EXC-002",type:"lot-conflict",severity:"blocking",status:"new",process:"initial",article:"ART-10892 - Casual Jacket Spring",category:"Apparel  Jackets",cause:"LOT-Zwang verletzt: Nur 4 von 6 Gren verfgbar",affectedLevel:"Produktgruppe: Casual Jackets",impact:"Prsentation nicht regelkonform",source:"planning",recommendedAction:"Artikel aus Lauf entfernen oder fehlende Gren beschaffen",createdAt:"2025-12-16 08:12",season:"SS 2026",deliveryDate:"KW 10/2026"},{id:"EXC-003",type:"delivery-conflict",severity:"critical",status:"in-progress",process:"replenishment",article:"ART-11234 - Summer Dress Collection",category:"Apparel  Dresses",cause:"Zeitliche Verdichtung: 3 Kollektionen in KW 15",affectedLevel:"Zeitfenster: KW 15/2026",impact:"Kapazittsberlastung +45%",source:"simulation",recommendedAction:"Liefertermin um 1 Woche verschieben",createdAt:"2025-12-15 14:30",season:"SS 2026",cluster:"Alle",capacityDeviation:45,deliveryDate:"KW 15/2026",assignedTo:"Maria Mller"},{id:"EXC-004",type:"undercapacity",severity:"info",status:"accepted",process:"initial",article:"Kategorie: Accessories",category:"Accessories",cause:"SOLL-Kapazitt wird nur zu 78% ausgelastet",affectedLevel:"Warengruppe: Accessories",impact:"-22% unter SOLL",source:"planning",recommendedAction:"Zustzliche Artikel einplanen oder Abweichung akzeptieren",createdAt:"2025-12-14 11:20",season:"SS 2026",capacityDeviation:-22},{id:"EXC-005",type:"parameter-conflict",severity:"blocking",status:"new",process:"initial",article:"ART-10567 - Premium Sneakers",category:"Shoes  Sneakers",cause:"Mindestprsentationsmenge (8 Stk.) > verfgbare Kapazitt (5 Stk.)",affectedLevel:"Artikel-Ebene",impact:"Allokation nicht mglich",source:"planning",recommendedAction:"Parameter prfen und anpassen",createdAt:"2025-12-16 10:05",season:"SS 2026"},{id:"EXC-006",type:"manual-deviation",severity:"info",status:"accepted",process:"initial",article:"ART-10123 - Special Edition",category:"Shoes  Limited",cause:"Bewusste berallokation fr Marketingaktion",affectedLevel:"Filiale: Zrich HB",impact:"+15% ber SOLL",source:"production",recommendedAction:"Keine Aktion erforderlich (akzeptiert)",createdAt:"2025-12-13 16:45",season:"SS 2026",capacityDeviation:15,assignedTo:"Andreas Schmidt"},{id:"EXC-007",type:"overcapacity",severity:"critical",status:"in-progress",process:"replenishment",article:"Kategorie: Electronics",category:"Electronics",cause:"Nachschub berschreitet verfgbare Lagerflche",affectedLevel:"Store-Cluster: Regional",impact:"+18% ber SOLL",source:"simulation",recommendedAction:"Mengereduktion oder zeitliche Staffelung",createdAt:"2025-12-15 09:30",season:"AW 2025",cluster:"Regional",capacityDeviation:18,assignedTo:"Julia Weber"},{id:"EXC-008",type:"delivery-conflict",severity:"info",status:"resolved",process:"initial",article:"ART-10889 - Winter Boots",category:"Shoes  Boots",cause:"Ursprnglicher Liefertermin zu spt",affectedLevel:"Zeitfenster: KW 40/2025",impact:"Verzgerung um 2 Wochen",source:"planning",recommendedAction:"Liefertermin angepasst",createdAt:"2025-12-10 08:00",season:"AW 2025",deliveryDate:"KW 38/2025"}];function dte({onNavigate:e}){const[t,r]=z.useState([]),[n,i]=z.useState(!0),[o,l]=z.useState({process:[],type:[],severity:[],status:[],season:[]}),[u,d]=z.useState("detail"),[f,v]=z.useState(""),[h,m]=z.useState(null),[b,j]=z.useState(!1),[x,y]=z.useState("");z.useEffect(()=>{(async()=>{i(!0);try{const E=(await $S.getExceptions()).map(D=>({id:D.id,type:D.type||"overcapacity",severity:D.severity||"info",status:D.status==="ignored"?"accepted":D.status==="resolved"?"resolved":D.status==="in_progress"?"in-progress":"new",process:D.process||"initial",article:D.article||D.title||"",category:D.category||"",cause:D.cause||D.description||"",affectedLevel:"",impact:D.capacityDeviation?`${D.capacityDeviation>0?"+":""}${D.capacityDeviation}%`:"",source:D.source||"planning",recommendedAction:D.recommendedAction||"",createdAt:D.createdAt||new Date().toISOString(),season:D.season||"",cluster:D.cluster,capacityDeviation:D.capacityDeviation,assignedTo:D.assignedTo}));r(E)}catch(T){console.error("Failed to load exceptions:",T),r(ute)}finally{i(!1)}})()},[]);const w=z.useMemo(()=>t.filter(_=>!(o.process.length>0&&!o.process.includes(_.process)||o.type.length>0&&!o.type.includes(_.type)||o.severity.length>0&&!o.severity.includes(_.severity)||o.status.length>0&&!o.status.includes(_.status)||f&&!_.article.toLowerCase().includes(f.toLowerCase())&&!_.category.toLowerCase().includes(f.toLowerCase()))),[t,o,f]),k=z.useMemo(()=>{const _=w.reduce((T,E)=>{const D=E.type;return T[D]||(T[D]={type:D,count:0,critical:0,blocking:0,info:0,new:0,inProgress:0,accepted:0,resolved:0,categories:new Set}),T[D].count++,E.severity==="critical"&&T[D].critical++,E.severity==="blocking"&&T[D].blocking++,E.severity==="info"&&T[D].info++,E.status==="new"&&T[D].new++,E.status==="in-progress"&&T[D].inProgress++,E.status==="accepted"&&T[D].accepted++,E.status==="resolved"&&T[D].resolved++,T[D].categories.add(E.category),T},{});return Object.values(_)},[w]),S=z.useMemo(()=>{const _=w.length,T=w.filter(F=>F.severity==="critical"||F.severity==="blocking").length,E=w.filter(F=>F.status==="accepted").length,M=w.filter(F=>F.status==="resolved").length>0?2.5:0;return{total:_,criticalBlocking:T,accepted:E,avgDays:M}},[w]),N=()=>{h&&x.trim()&&(r(_=>_.map(T=>T.id===h.id?{...T,status:"accepted"}:T)),alert(`Abweichung akzeptiert: ${h.id}
Begrndung: ${x}`),j(!1),y(""),m(null))},A=_=>{r(T=>T.map(E=>E.id===_.id?{...E,status:"resolved"}:E)),alert(`Exception ${_.id} als gelst markiert`),m(null)},O=({severity:_})=>{const T=io[_],E=T.icon;return a.jsx(E,{size:16,style:{color:T.color}})};return a.jsxs("div",{className:"pb-20",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[a.jsx("span",{children:"Cockpit"}),a.jsx(cn,{size:16}),a.jsx("span",{children:"Ausnahmen"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Exception-Cockpit"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)",maxWidth:"900px"},children:"Zentrale bersicht und Steuerung von kapazitiven, zeitlichen und allokationsbezogenen Ausnahmen entlang des gesamten Prozesses."})]}),a.jsxs("div",{className:"p-4 rounded-lg border mb-6",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 flex-wrap",children:[a.jsxs("div",{className:"relative flex-1 max-w-xs",children:[a.jsx(dn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{type:"text",placeholder:"Artikel oder Kategorie suchen...",value:f,onChange:_=>v(_.target.value),className:"pl-10 pr-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("select",{value:o.process[0]||"",onChange:_=>{l(T=>({...T,process:_.target.value?[_.target.value]:[]}))},className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)",minWidth:"150px"},children:[a.jsx("option",{value:"",children:"Prozess: Alle"}),a.jsx("option",{value:"initial",children:"Initiale Allokation"}),a.jsx("option",{value:"replenishment",children:"Nachschub"})]}),a.jsxs("select",{value:o.severity[0]||"",onChange:_=>{l(T=>({...T,severity:_.target.value?[_.target.value]:[]}))},className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)",minWidth:"150px"},children:[a.jsx("option",{value:"",children:"Severity: Alle"}),a.jsx("option",{value:"info",children:"Hinweis"}),a.jsx("option",{value:"critical",children:"Kritisch"}),a.jsx("option",{value:"blocking",children:"Blockierend"})]}),a.jsxs("select",{value:o.status[0]||"",onChange:_=>{l(T=>({...T,status:_.target.value?[_.target.value]:[]}))},className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)",minWidth:"150px"},children:[a.jsx("option",{value:"",children:"Status: Alle"}),a.jsx("option",{value:"new",children:"Neu"}),a.jsx("option",{value:"in-progress",children:"In Bearbeitung"}),a.jsx("option",{value:"accepted",children:"Akzeptiert"}),a.jsx("option",{value:"resolved",children:"Gelst"})]})]}),a.jsxs("div",{className:"flex items-center rounded-lg border overflow-hidden",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>d("aggregated"),className:"px-3 py-2",style:{backgroundColor:u==="aggregated"?"var(--brand-primary)":"var(--surface-page)",color:u==="aggregated"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",borderRight:"1px solid var(--border-default)"},children:"Aggregiert"}),a.jsx("button",{onClick:()=>d("detail"),className:"px-3 py-2",style:{backgroundColor:u==="detail"?"var(--brand-primary)":"var(--surface-page)",color:u==="detail"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-sm)"},children:"Detail"})]})]}),(o.process.length>0||o.severity.length>0||o.status.length>0||f)&&a.jsxs("div",{className:"flex items-center gap-2 flex-wrap pt-3 border-t",style:{borderColor:"var(--border-subtle)"},children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Aktive Filter:"}),o.process.map(_=>a.jsxs("span",{className:"px-2 py-1 rounded flex items-center gap-1",style:{backgroundColor:"var(--surface-info-subtle)",fontSize:"var(--font-size-xs)"},children:[_==="initial"?"Initial":"Nachschub",a.jsx("button",{onClick:()=>l(T=>({...T,process:T.process.filter(E=>E!==_)})),children:a.jsx(Et,{size:12})})]},_)),f&&a.jsxs("span",{className:"px-2 py-1 rounded flex items-center gap-1",style:{backgroundColor:"var(--surface-info-subtle)",fontSize:"var(--font-size-xs)"},children:['Suche: "',f,'"',a.jsx("button",{onClick:()=>v(""),children:a.jsx(Et,{size:12})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-6 mb-6",children:[a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"Offene Ausnahmen"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:S.total})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-danger-subtle)",borderColor:"var(--border-danger)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"Kritisch / Blockierend"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-danger)"},children:S.criticalBlocking})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"Akzeptierte Abweichungen"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:S.accepted})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:" Bearbeitungsdauer"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:[S.avgDays," ",a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-regular)",color:"var(--text-muted)"},children:"Tage"})]})]})]}),u==="detail"?a.jsx("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"80px"},children:"Severity"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"180px"},children:"Exception-Typ"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"200px"},children:"Artikel / Kategorie"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"120px"},children:"Prozess"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"250px"},children:"Ursache"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"150px"},children:"Auswirkung"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"100px"},children:"Quelle"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"120px"},children:"Status"}),a.jsx("th",{style:{textAlign:"center",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"100px"},children:"Aktionen"})]})}),a.jsx("tbody",{children:w.map(_=>a.jsxs("tr",{onClick:()=>m(_),style:{borderBottom:"1px solid var(--border-subtle)",cursor:"pointer"},className:"hover:bg-surface-tint transition-colors",children:[a.jsx("td",{style:{padding:"16px"},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(O,{severity:_.severity}),a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:`${io[_.severity].color}15`,color:io[_.severity].color,fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:io[_.severity].label})]})}),a.jsx("td",{style:{padding:"16px",fontSize:"var(--font-size-sm)"},children:Ob[_.type]}),a.jsx("td",{style:{padding:"16px"},children:a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:_.article}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:_.category})]})}),a.jsx("td",{style:{padding:"16px"},children:a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:_.process==="initial"?"var(--surface-info-subtle)":"var(--surface-success-subtle)",color:_.process==="initial"?"var(--status-info)":"var(--status-success)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:_.process==="initial"?"Initial":"Nachschub"})}),a.jsx("td",{style:{padding:"16px",fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:_.cause}),a.jsx("td",{style:{padding:"16px"},children:a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:_.capacityDeviation&&_.capacityDeviation>0?"var(--status-danger)":"var(--status-warning)"},children:_.impact})}),a.jsx("td",{style:{padding:"16px"},children:a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:_.source==="planning"?"Planung":_.source==="simulation"?"Simulation":"Produktiv"})}),a.jsx("td",{style:{padding:"16px"},children:a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:`${vs[_.status].color}15`,color:vs[_.status].color,fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:vs[_.status].label})}),a.jsx("td",{style:{padding:"16px",textAlign:"center"},children:a.jsx("button",{onClick:T=>{T.stopPropagation(),m(_)},className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(W4,{size:16,style:{color:"var(--brand-primary)"}})})})]},_.id))})]})})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(_=>a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:Ob[_.type]}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[_.categories.size," Kategorien betroffen"]})]}),a.jsx("div",{className:"px-3 py-1 rounded-full",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)"},children:_.count})]}),a.jsxs("div",{className:"space-y-3 pt-3 border-t",style:{borderColor:"var(--border-subtle)"},children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Severity"}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end",children:[_.blocking>0&&a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-danger-subtle)",color:"var(--status-danger)",fontSize:"var(--font-size-xs)"},children:[_.blocking," Blockierend"]}),_.critical>0&&a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-xs)"},children:[_.critical," Kritisch"]}),_.info>0&&a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--status-info)",fontSize:"var(--font-size-xs)"},children:[_.info," Hinweis"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Status"}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end",style:{fontSize:"var(--font-size-xs)"},children:[_.new>0&&a.jsxs("span",{style:{color:"var(--status-info)"},children:[_.new," Neu"]}),_.inProgress>0&&a.jsxs("span",{style:{color:"var(--status-warning)"},children:[_.inProgress," In Bearb."]}),_.accepted>0&&a.jsxs("span",{style:{color:"var(--brand-primary)"},children:[_.accepted," Akzept."]}),_.resolved>0&&a.jsxs("span",{style:{color:"var(--status-success)"},children:[_.resolved," Gelst"]})]})]})]}),a.jsx("button",{onClick:()=>{l(T=>({...T,type:[_.type]})),d("detail")},className:"mt-4 w-full px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:"Details anzeigen"})]},_.type))}),h&&a.jsxs("div",{className:"fixed inset-0 z-50 flex",onClick:()=>m(null),style:{backgroundColor:"var(--bg-overlay)"},children:[a.jsx("div",{className:"flex-1"}),a.jsxs("div",{className:"bg-white shadow-lg overflow-y-auto",style:{width:"600px",maxWidth:"100vw",boxShadow:"var(--shadow-lg)"},onClick:_=>_.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b sticky top-0 bg-white z-10",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Exception-ID"}),a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:h.id})]}),a.jsx("button",{onClick:()=>m(null),className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(O,{severity:h.severity}),a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:`${io[h.severity].color}15`,color:io[h.severity].color,fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:io[h.severity].label})]}),a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:`${vs[h.status].color}15`,color:vs[h.status].color,fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:vs[h.status].label})]})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"var(--space-3)"},children:"Kontext"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Dp,{size:16,style:{color:"var(--text-muted)",marginTop:"2px"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Artikel / Kategorie"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:h.article}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:h.category})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(cl,{size:16,style:{color:"var(--text-muted)",marginTop:"2px"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Prozess"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:h.process==="initial"?"Initiale Allokation":"Nachschub"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Q4,{size:16,style:{color:"var(--text-muted)",marginTop:"2px"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Saison"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:h.season})]})]}),h.deliveryDate&&a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Os,{size:16,style:{color:"var(--text-muted)",marginTop:"2px"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Liefertermin"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:h.deliveryDate})]})]})]})]}),a.jsxs("div",{className:"border-t pt-6",style:{borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"var(--space-3)"},children:"Ursache & Details"}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-warning-subtle)",border:"1px solid var(--border-warning)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Beschreibung der Regelverletzung"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",lineHeight:"1.5"},children:h.cause})]}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Betroffene Ebene"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:h.affectedLevel})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Exception-Typ"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:Ob[h.type]})]})]}),h.type==="parameter-conflict"&&a.jsxs("button",{onClick:()=>{m(null),e("parameters")},className:"mt-3 w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(Rp,{size:16}),"Zur Parameterpflege"]})]}),h.capacityDeviation&&a.jsxs("div",{className:"border-t pt-6",style:{borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"var(--space-3)"},children:"Kapazittswirkung"}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:h.capacityDeviation>0?"var(--surface-danger-subtle)":"var(--surface-warning-subtle)",border:`1px solid ${h.capacityDeviation>0?"var(--border-danger)":"var(--border-warning)"}`},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Abweichung SOLL"}),a.jsxs("span",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",color:h.capacityDeviation>0?"var(--status-danger)":"var(--status-warning)"},children:[h.capacityDeviation>0?"+":"",h.capacityDeviation,"%"]})]})}),a.jsxs("div",{className:"mt-4 flex items-end gap-2 h-24",children:[a.jsx("div",{className:"flex-1 bg-surface-subtle-tint rounded-t",style:{height:"60%"},children:a.jsx("div",{className:"h-full flex items-end justify-center pb-2",children:a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"SOLL"})})}),a.jsx("div",{className:"flex-1 rounded-t",style:{height:"85%",backgroundColor:h.capacityDeviation>0?"var(--status-danger)":"var(--status-warning)"},children:a.jsx("div",{className:"h-full flex items-end justify-center pb-2",children:a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-inverse)"},children:"IST"})})})]})]}),a.jsxs("div",{className:"border-t pt-6",style:{borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"var(--space-3)"},children:"Handlungsempfehlungen"}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Xt,{size:16,style:{color:"var(--status-info)",marginTop:"2px"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Systemvorschlag"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:h.recommendedAction})]})]})})]}),a.jsxs("div",{className:"border-t pt-6 space-y-3",style:{borderColor:"var(--border-default)"},children:[a.jsxs("button",{onClick:()=>{m(null),e("capacity")},className:"w-full flex items-center justify-between px-4 py-3 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx("span",{children:"Zur Simulation springen"}),a.jsx(hE,{size:16})]}),a.jsxs("button",{onClick:()=>j(!0),className:"w-full flex items-center justify-between px-4 py-3 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)"},children:[a.jsx("span",{children:"Abweichung akzeptieren"}),a.jsx(un,{size:16})]}),a.jsxs("button",{onClick:()=>A(h),className:"w-full flex items-center justify-between px-4 py-3 rounded-lg",style:{backgroundColor:"var(--status-success)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)"},children:[a.jsx("span",{children:"Ausnahme lsen"}),a.jsx(un,{size:16})]})]}),a.jsx("div",{className:"border-t pt-6",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center justify-between",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[a.jsxs("span",{children:["Erstellt: ",h.createdAt]}),h.assignedTo&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(lB,{size:12}),h.assignedTo]})]})})]})]})]}),b&&h&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:()=>j(!1),children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md",style:{boxShadow:"var(--shadow-lg)"},onClick:_=>_.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Abweichung akzeptieren"})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:["Sie sind dabei, die Exception ",a.jsx("strong",{children:h.id})," als akzeptierte Abweichung zu kennzeichnen."]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",display:"block",marginBottom:"8px"},children:"Begrndung (Pflichtfeld)"}),a.jsx("textarea",{value:x,onChange:_=>y(_.target.value),placeholder:"Bitte geben Sie eine Begrndung fr die Akzeptanz ein...",rows:4,className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",resize:"vertical"}})]})]}),a.jsxs("div",{className:"p-6 border-t flex items-center justify-end gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>{j(!1),y("")},className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsx("button",{onClick:N,disabled:!x.trim(),className:"px-4 py-2 rounded-lg",style:{backgroundColor:x.trim()?"var(--brand-primary)":"var(--border-default)",color:"var(--text-inverse)",height:"var(--height-button-md)",opacity:x.trim()?1:.5,cursor:x.trim()?"pointer":"not-allowed"},children:"Akzeptieren"})]})]})})]})}const bS=[{id:"blick-retail",label:"BLICK Retail",level:"company",children:[{id:"division-bekleidung",label:"Einkaufsbereich Bekleidung",level:"division",children:[{id:"category-schuhe",label:"Warengruppe Schuhe",level:"category",children:[{id:"pg-running-shoes",label:"Running Shoes",level:"productGroup"},{id:"pg-casual-sneakers",label:"Casual Sneakers",level:"productGroup"},{id:"pg-boots",label:"Boots",level:"productGroup"}]},{id:"category-oberbekleidung",label:"Warengruppe Oberbekleidung",level:"category",children:[{id:"pg-outdoor-jackets",label:"Outdoor Jackets",level:"productGroup"},{id:"pg-blazers",label:"Blazers",level:"productGroup"},{id:"pg-coats",label:"Coats",level:"productGroup"}]},{id:"category-hosen",label:"Warengruppe Hosen",level:"category",children:[{id:"pg-jeans",label:"Jeans",level:"productGroup"},{id:"pg-chinos",label:"Chinos",level:"productGroup"},{id:"pg-sports-pants",label:"Sports Pants",level:"productGroup"}]}]},{id:"division-sport",label:"Einkaufsbereich Sport",level:"division",children:[{id:"category-outdoor",label:"Warengruppe Outdoor",level:"category",children:[{id:"pg-trekking",label:"Trekking Equipment",level:"productGroup"},{id:"pg-camping",label:"Camping",level:"productGroup"}]},{id:"category-fitness",label:"Warengruppe Fitness",level:"category",children:[{id:"pg-gym-equipment",label:"Gym Equipment",level:"productGroup"},{id:"pg-yoga",label:"Yoga",level:"productGroup"}]}]},{id:"division-accessories",label:"Einkaufsbereich Accessories",level:"division",children:[{id:"category-bags",label:"Warengruppe Taschen",level:"category",children:[{id:"pg-backpacks",label:"Backpacks",level:"productGroup"},{id:"pg-handbags",label:"Handbags",level:"productGroup"}]}]}]}];function CI({node:e,level:t=0,selectedIds:r,expandedIds:n,onToggleExpand:i,onToggleSelect:o}){const l=e.children&&e.children.length>0,u=n.has(e.id),d=r.has(e.id),f=v=>{switch(v){case"company":return"var(--text-muted)";case"division":return"var(--status-info)";case"category":return"var(--status-warning)";case"productGroup":return"var(--status-success)";default:return"var(--text-secondary)"}};return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 py-2 px-3 cursor-pointer hover:bg-surface-tint rounded transition-colors",style:{paddingLeft:`${t*24+12}px`},children:[a.jsx("div",{style:{width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:l?a.jsx("button",{onClick:v=>{v.stopPropagation(),i(e.id)},className:"p-0.5 hover:bg-surface-subtle-tint rounded",children:u?a.jsx(_o,{size:16,style:{color:"var(--text-muted)"}}):a.jsx(cn,{size:16,style:{color:"var(--text-muted)"}})}):null}),a.jsx("div",{onClick:()=>o(e.id,e.label),className:"flex items-center justify-center w-5 h-5 rounded border",style:{borderColor:d?"var(--brand-primary)":"var(--border-default)",backgroundColor:d?"var(--brand-primary)":"transparent"},children:d&&a.jsx(Ka,{size:14,style:{color:"var(--text-inverse)"}})}),a.jsx("span",{onClick:()=>o(e.id,e.label),style:{fontSize:"var(--font-size-sm)",fontWeight:t===0?"var(--font-weight-semibold)":"var(--font-weight-regular)",flex:1},children:e.label}),a.jsxs("span",{className:"px-2 py-0.5 rounded text-xs",style:{backgroundColor:`${f(e.level)}15`,color:f(e.level),fontSize:"var(--font-size-xs)"},children:[e.level==="company"&&"Unternehmen",e.level==="division"&&"Einkaufsbereich",e.level==="category"&&"Warengruppe",e.level==="productGroup"&&"Produktgruppe"]})]}),l&&u&&a.jsx("div",{children:e.children.map(v=>a.jsx(CI,{node:v,level:t+1,selectedIds:r,expandedIds:n,onToggleExpand:i,onToggleSelect:o},v.id))})]})}function fte({isOpen:e,onClose:t,selectedNodes:r,onConfirm:n,title:i="Artikelhierarchie auswhlen",description:o="Whlen Sie die relevanten Artikelhierarchieebenen aus"}){const[l,u]=z.useState(()=>{const j=new Map;return r.forEach(x=>{const y=k=>{for(const S of k){if(S.id===x)return S;if(S.children){const N=y(S.children);if(N)return N}}return null},w=y(bS);w&&j.set(w.id,w.label)}),j}),[d,f]=z.useState(new Set(["blick-retail","division-bekleidung","division-sport","division-accessories"]));if(!e)return null;const v=j=>{f(x=>{const y=new Set(x);return y.has(j)?y.delete(j):y.add(j),y})},h=(j,x)=>{u(y=>{const w=new Map(y);return w.has(j)?w.delete(j):w.set(j,x),w})},m=()=>{n(Array.from(l.keys())),t()},b=()=>{u(new Map)};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:t,children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl max-h-[80vh] flex flex-col",style:{boxShadow:"var(--shadow-lg)"},onClick:j=>j.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b flex items-start justify-between",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:i}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:o})]}),a.jsx("button",{onClick:t,className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]}),a.jsxs("div",{className:"px-6 py-3 border-b flex items-center justify-between",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-subtle-tint)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:l.size===0?"Keine Auswahl":a.jsxs(a.Fragment,{children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)"},children:l.size})," ",l.size===1?"Ebene":"Ebenen"," ausgewhlt"]})}),l.size>0&&a.jsx("button",{onClick:b,className:"px-3 py-1 rounded text-sm hover:bg-surface-tint",style:{color:"var(--text-secondary)",fontSize:"var(--font-size-sm)"},children:"Alle abwhlen"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:bS.map(j=>a.jsx(CI,{node:j,selectedIds:new Set(l.keys()),expandedIds:d,onToggleExpand:v,onToggleSelect:h},j.id))}),l.size>0&&a.jsxs("div",{className:"px-6 py-3 border-t",style:{borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"Ausgewhlte Ebenen:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from(l.entries()).map(([j,x])=>a.jsxs("div",{className:"px-3 py-1 rounded-full flex items-center gap-2",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--text-primary)",fontSize:"var(--font-size-xs)"},children:[a.jsx("span",{children:x}),a.jsx("button",{onClick:()=>h(j,x),className:"hover:bg-surface-tint rounded-full p-0.5",children:a.jsx(Et,{size:12})})]},j))})]}),a.jsxs("div",{className:"p-6 border-t flex items-center justify-end gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsxs("button",{onClick:m,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:["Auswahl bernehmen (",l.size,")"]})]})]})})}const cO={full:"Vollstndig blockiert",initialOnly:"Nur Erstallokation blockiert",replenishmentOnly:"Nur Nachschub blockiert",presentationOnly:"Nur Prsentation blockiert",forecastIgnore:"Prognose ignorieren"},pte={full:"var(--status-error)",initialOnly:"var(--status-warning)",replenishmentOnly:"var(--status-warning)",presentationOnly:"var(--status-info)",forecastIgnore:"var(--text-muted)"},hte=[{id:"sb-1",storeId:"FL-001",storeName:"BLICK Zrich HB",cluster:"Urban Premium",planningLevel:"productGroup",productGroupId:"pg-running-shoes",productGroupName:"Running Shoes",blockingType:"replenishmentOnly",validFrom:"2025-01-01",validTo:null,source:"direct",status:"active",reason:"Umbaumanahmen Schuh-Abteilung"},{id:"sb-2",storeId:"FL-003",storeName:"BLICK Basel SBB",planningLevel:"productGroup",productGroupId:"pg-outdoor-jackets",productGroupName:"Outdoor Jackets",blockingType:"full",validFrom:"2025-02-01",validTo:"2025-03-31",source:"direct",status:"active",reason:"Temporre Schlieung Outdoor-Bereich"},{id:"sb-3",storeId:"FL-002",storeName:"BLICK Bern Zentrum",cluster:"Urban Premium",planningLevel:"category",productGroupId:"category-schuhe",productGroupName:"Warengruppe Schuhe",blockingType:"presentationOnly",validFrom:"2024-12-15",validTo:"2025-02-28",source:"inherited",inheritedFrom:"Cluster Urban Premium Policy",status:"active"},{id:"sb-4",storeId:"FL-005",storeName:"BLICK Lausanne Centre",cluster:"Urban Standard",planningLevel:"productGroup",productGroupId:"pg-jeans",productGroupName:"Jeans",blockingType:"initialOnly",validFrom:"2025-01-15",validTo:"2025-06-30",source:"direct",status:"active",reason:"berkapazitt, kein Platz fr Neuware"}];function vte({onAddStore:e}){const[t,r]=z.useState(hte),[n,i]=z.useState(""),[o,l]=z.useState(""),[u,d]=z.useState(""),[f,v]=z.useState(""),h=z.useMemo(()=>t.filter(b=>{if(n){const j=n.toLowerCase();if(!b.storeName.toLowerCase().includes(j)&&!b.productGroupName.toLowerCase().includes(j))return!1}return!(o&&b.storeId!==o||u&&b.blockingType!==u||f&&b.status!==f)}),[t,n,o,u,f]),m=b=>{switch(b){case"full":return a.jsx(K4,{size:16});case"initialOnly":return a.jsx(aa,{size:16});case"replenishmentOnly":return a.jsx(aa,{size:16});case"presentationOnly":return a.jsx(BL,{size:16});case"forecastIgnore":return a.jsx(aa,{size:16})}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 rounded-lg flex items-start gap-3",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx(aa,{size:20,style:{color:"var(--status-info)",flexShrink:0,marginTop:"2px"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:"Filialspezifische Einschrnkungen"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Definieren Sie Filialen- oder Cluster-spezifische Blockierungsregeln fr Produktgruppen. Diese Regeln verhindern Allokation, Nachschub oder Prsentation bestimmter Produktgruppen in ausgewhlten Filialen. Blockierungen werden in der Explainability-Ansicht als limitierende Faktoren angezeigt."})]})]}),a.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsxs("div",{className:"relative flex-1 max-w-xs",children:[a.jsx(dn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{type:"text",placeholder:"Filiale oder Produktgruppe suchen...",value:n,onChange:b=>i(b.target.value),className:"pl-10 pr-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("select",{value:u,onChange:b=>d(b.target.value),className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Blockierungstypen"}),Object.entries(cO).map(([b,j])=>a.jsx("option",{value:b,children:j},b))]}),a.jsxs("select",{value:f,onChange:b=>v(b.target.value),className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Status"}),a.jsx("option",{value:"active",children:"Aktiv"}),a.jsx("option",{value:"inactive",children:"Inaktiv"})]})]}),a.jsxs("button",{onClick:e,className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)",whiteSpace:"nowrap"},children:[a.jsx(ji,{size:16}),"Filiale hinzufgen"]})]})}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:"Blockierungsregeln"}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[h.length," ",h.length===1?"Regel":"Regeln"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"180px"},children:"Filiale / Cluster"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"120px"},children:"Planungsebene"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"180px"},children:"Produktgruppe"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"220px"},children:"Blockierungstyp"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"110px"},children:"Gltig von"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"110px"},children:"Gltig bis"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"150px"},children:"Herkunft"}),a.jsx("th",{style:{textAlign:"center",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"90px"},children:"Status"}),a.jsx("th",{style:{textAlign:"center",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"100px"},children:"Aktionen"})]})}),a.jsx("tbody",{children:h.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:9,style:{padding:"32px",textAlign:"center"},children:a.jsx("div",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Keine Blockierungsregeln gefunden"})})}):h.map(b=>a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)",borderLeft:b.blockingType==="full"?"3px solid var(--status-error)":b.blockingType==="initialOnly"||b.blockingType==="replenishmentOnly"?"3px solid var(--status-warning)":"none"},className:"hover:bg-surface-tint",children:[a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:b.storeName}),b.cluster&&a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"2px"},children:b.cluster})]})}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--status-success)15",color:"var(--status-success)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[b.planningLevel==="productGroup"&&"Produktgruppe",b.planningLevel==="category"&&"Warengruppe",b.planningLevel==="division"&&"Einkaufsbereich",b.planningLevel==="company"&&"Unternehmen"]})}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:b.productGroupName})}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{color:pte[b.blockingType]},children:m(b.blockingType)}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:cO[b.blockingType]}),b.reason&&a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"2px"},children:b.reason})]})]})}),a.jsx("td",{style:{padding:"12px 8px",fontSize:"var(--font-size-sm)"},children:new Date(b.validFrom).toLocaleDateString("de-DE")}),a.jsx("td",{style:{padding:"12px 8px",fontSize:"var(--font-size-sm)"},children:b.validTo?new Date(b.validTo).toLocaleDateString("de-DE"):a.jsx("span",{style:{color:"var(--text-muted)"},children:"Unbegrenzt"})}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{children:[a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:b.source==="direct"?"var(--status-success)15":"var(--status-info)15",color:b.source==="direct"?"var(--status-success)":"var(--status-info)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:b.source==="direct"?"Direkt":"Geerbt"}),b.inheritedFrom&&a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:["von ",b.inheritedFrom]})]})}),a.jsx("td",{style:{padding:"12px 8px",textAlign:"center"},children:a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:b.status==="active"?"var(--status-success)":"var(--border-default)",color:b.status==="active"?"var(--text-inverse)":"var(--text-muted)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:b.status==="active"?"Aktiv":"Inaktiv"})}),a.jsx("td",{style:{padding:"12px 8px",textAlign:"center"},children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{className:"p-1 hover:bg-surface-tint rounded",title:"Bearbeiten",children:a.jsx(yo,{size:16,style:{color:"var(--text-secondary)"}})}),a.jsx("button",{className:"p-1 hover:bg-surface-tint rounded",title:"Lschen",children:a.jsx(Cs,{size:16,style:{color:"var(--status-error)"}})})]})})]},b.id))})]})})]})]})}const Eb=[{value:"company",label:"Unternehmen"},{value:"division",label:"Einkaufsbereich"},{value:"category",label:"Warengruppe"},{value:"productGroup",label:"Produktgruppe"},{value:"article",label:"Artikel"}],uO={direct:"var(--status-success)",inherited:"var(--status-info)",default:"var(--text-muted)"},mte=[{id:"1",name:"Flchenbedarf pro Einheit",description:"Durchschnittlicher Prsentationsflchenbedarf je Stck.",level:"productGroup",value:.035,unit:"m",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"capacity",articleHierarchyScope:["pg-running-shoes","pg-casual-sneakers"]},{id:"2",name:"Flchenbedarf pro Grenlauf",description:"Zustzlicher Flchenbedarf fr vollstndige Grenlufe (LOTs).",level:"category",value:1.8,unit:"m",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"capacity",articleHierarchyScope:["category-schuhe"]},{id:"3",name:"Max. Flchennutzung je Artikel",description:"Obergrenze fr Artikelanteil an Gesamtflche.",level:"productGroup",value:2.5,unit:"m",type:"number",source:"inherited",inheritedFrom:"Warengruppe Shoes",validFrom:"2025-01-01",validTo:null,hasOverride:!0,category:"capacity",articleHierarchyScope:["pg-outdoor-jackets"]},{id:"4",name:"Min. Flchenanteil je Kategorie",description:"Garantierter Mindestflchenanteil.",level:"category",value:15,unit:"%",type:"percentage",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"capacity",articleHierarchyScope:["category-oberbekleidung"]},{id:"5",name:"Mindestprsentationsmenge",description:"Mindestmenge, um Artikel prsentieren zu drfen.",level:"productGroup",value:3,unit:"Stck",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"presentation",articleHierarchyScope:["pg-running-shoes"]},{id:"6",name:"Mindestmenge je Gre",description:"Mindestanzahl pro Gre fr vollstndige Darstellung.",level:"category",value:2,unit:"Stck",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"presentation",articleHierarchyScope:["category-schuhe","category-oberbekleidung"]},{id:"7",name:"Prsentationspflicht",description:"Artikel muss prsentiert werden, auch bei knapper Kapazitt.",level:"article",value:!0,type:"boolean",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"presentation"},{id:"8",name:"LOT-Zwang",description:"Allokation nur bei vollstndigem Grenlauf erlaubt.",level:"productGroup",value:!0,type:"boolean",source:"inherited",inheritedFrom:"Warengruppe Apparel",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"presentation",articleHierarchyScope:["pg-casual-sneakers","pg-outdoor-jackets"]},{id:"9",name:"Prsentationsdauer",description:"Dauer, ber die Artikel Flche blockiert.",level:"productGroup",value:8,unit:"Wochen",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"time",articleHierarchyScope:["pg-running-shoes","pg-outdoor-jackets"]},{id:"10",name:"Zeitliche Verteilungslogik",description:"Art der zeitlichen Verteilung der Kapazitt.",level:"category",value:"Gleichmig",type:"enum",enumValues:["Gleichmig","Frontloaded","Backloaded"],source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"time",articleHierarchyScope:["category-schuhe"]},{id:"11",name:"Lieferfenster-Toleranz",description:"Spielraum fr Simulationen.",level:"company",value:2,unit:"Wochen (+/-)",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"time",articleHierarchyScope:["division-bekleidung"]},{id:"12",name:"Allokationsprioritt",description:"Reihenfolge bei Kapazittskonflikten.",level:"productGroup",value:7,unit:"Rang (1-10)",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"logic",priority:7,articleHierarchyScope:["pg-running-shoes"]},{id:"13",name:"Kapazittsgewichtung",description:"Wie stark Kapazitt den Algorithmus beeinflusst.",level:"category",value:60,unit:"%",type:"percentage",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"logic",articleHierarchyScope:["category-oberbekleidung"]},{id:"14",name:"Strategische Kategorie",description:"Kategorie wird bevorzugt behandelt.",level:"category",value:!0,type:"boolean",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"logic",articleHierarchyScope:["category-schuhe","category-oberbekleidung"]},{id:"15",name:"Forecast-Gewichtung",description:"Einfluss der Absatzprognose.",level:"category",value:40,unit:"%",type:"percentage",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"forecast",articleHierarchyScope:["category-schuhe"]},{id:"16",name:"KPI-Fokus",description:"Primrer KPI fr Optimierung.",level:"division",value:"Abverkauf",type:"enum",enumValues:["Abverkauf","Marge","Lagerumschlag","Flchenproduktivitt"],source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"forecast",articleHierarchyScope:["division-bekleidung"]},{id:"17",name:"Max. Override-Ebene",description:"Tiefste Ebene fr manuelle Overrides.",level:"company",value:"Artikel",type:"enum",enumValues:["Produktgruppe","Artikel","Keine Overrides"],source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"governance"},{id:"18",name:"Genehmigungspflicht bei Abweichung",description:"Override muss genehmigt werden.",level:"company",value:!0,type:"boolean",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"governance"},{id:"19",name:"Max. zulssige Kapazittsabweichung",description:"Grenze fr Simulation & Freigabe.",level:"company",value:15,unit:"%",type:"percentage",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"governance",articleHierarchyScope:["division-bekleidung"]}],dO=[{key:"capacity",label:"Kapazitt & Flche"},{key:"presentation",label:"Prsentationsregeln"},{key:"time",label:"Zeit- & Verdichtungsparameter"},{key:"logic",label:"Allokationslogik & Priorisierung"},{key:"forecast",label:"Prognose- & KPI-Gewichtung"},{key:"governance",label:"Governance & Einschrnkungen"},{key:"storeBlocking",label:"Filialspezifische Einschrnkungen"}],fO={direct:"Direkt gepflegt",inherited:"Geerbt",default:"Default-Systemwert"};function gte(){const[e,t]=z.useState("capacity"),[r,n]=z.useState(mte),[i,o]=z.useState(null),[l,u]=z.useState(!1),[d,f]=z.useState(null),[v,h]=z.useState(""),[m,b]=z.useState(""),[j,x]=z.useState(""),[y,w]=z.useState(""),[k,S]=z.useState(""),[N,A]=z.useState(!1),[O,_]=z.useState([]),[T,E]=z.useState(!1),[D,M]=z.useState([]),F=W=>{_(W),M(W)},L=()=>{E(!0)},V=W=>{E(!1)},H=z.useMemo(()=>r.filter(W=>!(W.category!==e||v&&W.level!==v||j&&!W.name.toLowerCase().includes(j.toLowerCase())||D.length>0&&W.articleHierarchyScope&&!D.some(q=>W.articleHierarchyScope?.includes(q))||m&&(m==="active"&&W.validTo!==null||m==="inactive"&&W.validTo===null||m==="overridden"&&!W.hasOverride||m==="inherited"&&W.source!=="inherited"))),[r,e,v,m,j,D]),Z=(W,$)=>{n(q=>q.map(oe=>oe.id===W?{...oe,value:$}:oe))},Y=W=>{o(W),u(!0)},U=(W,$=bS)=>{for(const q of $){if(q.id===W)return q;if(q.children){const oe=U(W,q.children);if(oe)return oe}}return null},B=W=>{if(d===W.id)switch(W.type){case"boolean":return a.jsxs("select",{value:W.value?"true":"false",onChange:$=>Z(W.id,$.target.value==="true"),onBlur:()=>f(null),autoFocus:!0,className:"px-2 py-1 border rounded",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"true",children:"Ja"}),a.jsx("option",{value:"false",children:"Nein"})]});case"enum":return a.jsx("select",{value:W.value,onChange:$=>Z(W.id,$.target.value),onBlur:()=>f(null),autoFocus:!0,className:"px-2 py-1 border rounded",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"},children:W.enumValues?.map($=>a.jsx("option",{value:$,children:$},$))});case"number":case"percentage":return a.jsx("input",{type:"number",value:W.value,onChange:$=>Z(W.id,parseFloat($.target.value)),onBlur:()=>f(null),autoFocus:!0,step:W.type==="percentage"?1:.001,className:"px-2 py-1 border rounded w-24",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"}});default:return a.jsx("input",{type:"text",value:W.value,onChange:$=>Z(W.id,$.target.value),onBlur:()=>f(null),autoFocus:!0,className:"px-2 py-1 border rounded",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"}})}return W.type==="boolean"?a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:W.value?"var(--status-success)":"var(--border-default)",color:W.value?"var(--text-inverse)":"var(--text-muted)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:W.value?"Ja":"Nein"}):a.jsxs("span",{style:{fontSize:"var(--font-size-sm)"},children:[W.value,W.unit&&` ${W.unit}`]})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[a.jsx("span",{children:"Einstellungen"}),a.jsx(cn,{size:16}),a.jsx("span",{children:"Allokationsparameter"})]}),a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Allokationsparameter"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)",maxWidth:"800px"},children:"Zentrale Pflege steuerungsrelevanter Parameter fr Kapazitt, Prsentation, Zeitlogik und Allokationsalgorithmen. nderungen wirken hierarchisch und overridefhig."})]}),a.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsxs("div",{className:"relative flex-1 max-w-xs",children:[a.jsx(dn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{type:"text",placeholder:"Parameter suchen...",value:j,onChange:W=>x(W.target.value),className:"pl-10 pr-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("select",{value:v,onChange:W=>h(W.target.value),className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Ebenen"}),Eb.map(W=>a.jsx("option",{value:W.value,children:W.label},W.value))]}),a.jsxs("select",{value:m,onChange:W=>b(W.target.value),className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Status"}),a.jsx("option",{value:"active",children:"Aktiv"}),a.jsx("option",{value:"inactive",children:"Inaktiv"}),a.jsx("option",{value:"overridden",children:"berschrieben"}),a.jsx("option",{value:"inherited",children:"Geerbt"})]}),a.jsxs("button",{onClick:()=>A(!0),className:"px-3 py-2 border rounded-lg flex items-center gap-2 whitespace-nowrap",style:{borderColor:D.length>0?"var(--brand-primary)":"var(--border-input)",height:"var(--height-input-md)",backgroundColor:D.length>0?"var(--surface-info-subtle)":"var(--surface-page)",fontSize:"var(--font-size-sm)",color:D.length>0?"var(--brand-primary)":"var(--text-secondary)"},children:[a.jsx(gE,{size:16}),a.jsx("span",{children:D.length===0?"Artikelhierarchie":`${D.length} Ebene${D.length!==1?"n":""}`}),D.length>0&&a.jsx(Et,{size:14,onClick:W=>{W.stopPropagation(),M([]),_([])},className:"hover:bg-surface-tint rounded-full p-0.5"})]}),a.jsx("input",{type:"date",placeholder:"Gltig von",value:y,onChange:W=>w(W.target.value),className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}}),a.jsx("input",{type:"date",placeholder:"Gltig bis",value:k,onChange:W=>S(W.target.value),className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("button",{className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)",whiteSpace:"nowrap"},children:[a.jsx(ji,{size:16}),"Neuen Parameter anlegen"]})]})}),a.jsx("div",{className:"sticky top-0 z-10 border-b",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsx("div",{className:"flex gap-1",children:dO.map(W=>a.jsx("button",{onClick:()=>t(W.key),className:"px-4 py-3 relative",style:{color:e===W.key?"var(--brand-primary)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:e===W.key?"var(--font-weight-semibold)":"var(--font-weight-medium)",backgroundColor:"transparent",borderBottom:e===W.key?"2px solid var(--brand-primary)":"none"},children:W.label},W.key))})}),e==="storeBlocking"?a.jsx(vte,{onAddStore:L}):a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:dO.find(W=>W.key===e)?.label}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[H.length," Parameter"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"200px"},children:"Parametername"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"120px"},children:"Ebene"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"180px"},children:"Artikelhierarchie"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"150px"},children:"Wert"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"180px"},children:"Herkunft"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"110px"},children:"Gltig von"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"110px"},children:"Gltig bis"}),a.jsx("th",{style:{textAlign:"center",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"80px"},children:"Override"}),a.jsx("th",{style:{textAlign:"center",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"100px"},children:"Aktionen"})]})}),a.jsx("tbody",{children:H.map(W=>a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},className:"hover:bg-surface-tint",children:[a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:W.name}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"2px"},children:W.description})]})}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:Eb.find($=>$.value===W.level)?.label})}),a.jsx("td",{style:{padding:"12px 8px"},children:W.articleHierarchyScope&&W.articleHierarchyScope.length>0?a.jsxs("div",{className:"flex flex-wrap gap-1",children:[W.articleHierarchyScope.slice(0,2).map($=>{const q=U($);return q?a.jsx("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--text-primary)",fontSize:"var(--font-size-xs)",whiteSpace:"nowrap"},title:q.label,children:q.label.length>20?`${q.label.substring(0,20)}...`:q.label},$):null}),W.articleHierarchyScope.length>2&&a.jsxs("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:"var(--surface-subtle-tint)",color:"var(--text-muted)",fontSize:"var(--font-size-xs)"},children:["+",W.articleHierarchyScope.length-2]})]}):a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Alle"})}),a.jsx("td",{style:{padding:"12px 8px",cursor:"pointer"},onClick:()=>f(W.id),children:B(W)}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{children:[a.jsx("span",{className:"px-2 py-1 rounded inline-flex items-center gap-1",style:{backgroundColor:`${uO[W.source]}15`,color:uO[W.source],fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:fO[W.source]}),W.inheritedFrom&&a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:["von ",W.inheritedFrom]})]})}),a.jsx("td",{style:{padding:"12px 8px",fontSize:"var(--font-size-sm)"},children:new Date(W.validFrom).toLocaleDateString("de-DE")}),a.jsx("td",{style:{padding:"12px 8px",fontSize:"var(--font-size-sm)"},children:W.validTo?new Date(W.validTo).toLocaleDateString("de-DE"):a.jsx("span",{style:{color:"var(--text-muted)"},children:"Unbegrenzt"})}),a.jsx("td",{style:{padding:"12px 8px",textAlign:"center"},children:W.hasOverride&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--status-warning)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Override"})}),a.jsx("td",{style:{padding:"12px 8px",textAlign:"center"},children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:()=>f(W.id),className:"p-1 hover:bg-surface-tint rounded",title:"Bearbeiten",children:a.jsx(yo,{size:16,style:{color:"var(--text-secondary)"}})}),a.jsx("button",{onClick:()=>Y(W),className:"p-1 hover:bg-surface-tint rounded",title:"Details anzeigen",children:a.jsx(U4,{size:16,style:{color:"var(--text-secondary)"}})})]})})]},W.id))})]})})]}),l&&i&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:()=>u(!1),children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-3xl max-h-[80vh] overflow-y-auto",style:{boxShadow:"var(--shadow-lg)"},onClick:W=>W.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b flex items-start justify-between sticky top-0 bg-white",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:i.name}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:i.description})]}),a.jsx("button",{onClick:()=>u(!1),className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Aktueller Wert"}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-subtle-tint)"},children:a.jsxs("div",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)"},children:[i.type==="boolean"?i.value?"Ja":"Nein":i.value,i.unit&&a.jsx("span",{style:{fontSize:"var(--font-size-md)",color:"var(--text-muted)",marginLeft:"4px"},children:i.unit})]})})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Vererbungsbaum"}),a.jsx("div",{className:"space-y-2",children:Eb.map((W,$)=>a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg",style:{backgroundColor:W.value===i.level?"var(--surface-info-subtle)":"var(--surface-subtle-tint)",borderLeft:W.value===i.level?"3px solid var(--brand-primary)":"none",marginLeft:`${$*16}px`},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:W.label}),W.value===i.level&&a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Definiert hier"})]}),W.value===i.level&&a.jsx(Ka,{size:16,style:{color:"var(--brand-primary)",marginLeft:"auto"}})]},W.value))})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Herkunftsinformationen"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Quelle"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:fO[i.source]})]}),i.inheritedFrom&&a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Geerbt von"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:i.inheritedFrom})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Gltigkeitszeitraum"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Gltig von"}),a.jsx("input",{type:"date",value:i.validFrom,className:"px-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"}})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Gltig bis"}),a.jsx("input",{type:"date",value:i.validTo||"",placeholder:"Unbegrenzt",className:"px-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"}})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Override-Verwaltung"}),a.jsxs("div",{className:"p-4 rounded-lg flex items-center justify-between",style:{backgroundColor:i.hasOverride?"var(--surface-warning-subtle)":"var(--surface-subtle-tint)",border:i.hasOverride?"1px solid var(--border-warning)":"none"},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Override Status"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:i.hasOverride?"Parameter wird berschrieben":"Kein Override aktiv"})]}),a.jsx("button",{className:"px-4 py-2 rounded-lg border",style:{backgroundColor:i.hasOverride?"var(--button-danger-bg)":"var(--button-secondary-bg)",borderColor:i.hasOverride?"var(--button-danger-border)":"var(--button-secondary-border)",color:i.hasOverride?"var(--button-danger-text)":"var(--button-secondary-text)",height:"var(--height-button-md)"},children:i.hasOverride?"Override entfernen":"Override setzen"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xE,{size:16}),"nderungshistorie"]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--surface-subtle-tint)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Aktuell"}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:new Date().toLocaleDateString("de-DE")})]}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)"},children:["Wert: ",i.type==="boolean"?i.value?"Ja":"Nein":i.value,i.unit&&` ${i.unit}`]})]}),a.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--surface-subtle-tint)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Version 1"}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"01.01.2025"})]}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Initiale Parameterdefinition"})]})]})]})]}),a.jsxs("div",{className:"p-6 border-t flex items-center justify-end gap-3 sticky bottom-0 bg-white",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Schlieen"}),a.jsx("button",{className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:"nderungen speichern"})]})]})}),a.jsx(qb,{isOpen:T,onClose:()=>E(!1),title:"Filiale fr Blockierungsregel auswhlen",availableLocations:[],selectedLocations:[],onConfirm:V}),a.jsx(fte,{isOpen:N,onClose:()=>A(!1),selectedNodes:O,onConfirm:F,title:"Artikelhierarchie auswhlen",description:"Whlen Sie die Artikelhierarchieebenen aus, fr die Sie Parameter filtern mchten"})]})}const yte=[{month:"Jan",target:4500,actual:4200,over:0,under:300},{month:"Feb",target:4500,actual:4800,over:300,under:0},{month:"Mr",target:4800,actual:4600,over:0,under:200},{month:"Apr",target:5e3,actual:5300,over:300,under:0},{month:"Mai",target:5e3,actual:4700,over:0,under:300},{month:"Jun",target:4800,actual:4900,over:100,under:0},{month:"Jul",target:4500,actual:4400,over:0,under:100},{month:"Aug",target:4500,actual:4600,over:100,under:0},{month:"Sep",target:4800,actual:5100,over:300,under:0},{month:"Okt",target:5200,actual:5e3,over:0,under:200},{month:"Nov",target:5500,actual:5400,over:0,under:100},{month:"Dez",target:5500,actual:5600,over:100,under:0}],pO=[{category:"Schuhe",deviation:450,color:"#ef4444"},{category:"Oberbekleidung",deviation:-280,color:"#3b82f6"},{category:"Hosen",deviation:120,color:"#ef4444"},{category:"Accessoires",deviation:-150,color:"#3b82f6"},{category:"Sport Equipment",deviation:200,color:"#ef4444"},{category:"Unterwsche",deviation:-90,color:"#3b82f6"}],xte=[{month:"Jan",storeStock:2200,warehouseStock:3500,demand:4800},{month:"Feb",storeStock:2400,warehouseStock:3800,demand:5200},{month:"Mr",storeStock:2100,warehouseStock:3200,demand:4500},{month:"Apr",storeStock:2600,warehouseStock:4200,demand:5800},{month:"Mai",storeStock:2500,warehouseStock:4e3,demand:5500},{month:"Jun",storeStock:2300,warehouseStock:3700,demand:5e3}],bte=[{month:"Jan",forecast:4500,allocated:4200,sales:3900},{month:"Feb",forecast:5e3,allocated:4800,sales:4500},{month:"Mr",forecast:4800,allocated:4600,sales:4300},{month:"Apr",forecast:5500,allocated:5300,sales:5e3},{month:"Mai",forecast:5200,allocated:4700,sales:4400},{month:"Jun",forecast:4900,allocated:4900,sales:4600}],bc=[{size:"36",forecast:8,allocated:10,sales:9},{size:"37",forecast:12,allocated:13,sales:12},{size:"38",forecast:18,allocated:17,sales:18},{size:"39",forecast:22,allocated:20,sales:21},{size:"40",forecast:20,allocated:19,sales:20},{size:"41",forecast:15,allocated:14,sales:13},{size:"42",forecast:12,allocated:11,sales:10},{size:"43",forecast:10,allocated:9,sales:8},{size:"44",forecast:8,allocated:7,sales:7},{size:"45",forecast:6,allocated:5,sales:5},{size:"46",forecast:4,allocated:3,sales:3},{size:"47",forecast:3,allocated:2,sales:2}],Ste=[{article:"Running Schuhe Pro",category:"Schuhe",season:"FS25",targetCapacity:450,actualCapacity:520,overCapacity:70,underCapacity:0,forecast:2400,allocated:2200,storeStock:850,warehouseStock:1350,demand:2100,sizeDeviation:8.5,exceptionCount:3},{article:"Winter Jacke Premium",category:"Oberbekleidung",season:"HW25",targetCapacity:380,actualCapacity:340,overCapacity:0,underCapacity:40,forecast:1800,allocated:1650,storeStock:620,warehouseStock:1030,demand:1750,sizeDeviation:12.3,exceptionCount:5},{article:"Sport T-Shirt Basic",category:"Oberbekleidung",season:"FS25",targetCapacity:280,actualCapacity:290,overCapacity:10,underCapacity:0,forecast:3200,allocated:3150,storeStock:1200,warehouseStock:1950,demand:3100,sizeDeviation:3.2,exceptionCount:0},{article:"Jeans Slim Fit",category:"Hosen",season:"FS25",targetCapacity:320,actualCapacity:350,overCapacity:30,underCapacity:0,forecast:1900,allocated:1850,storeStock:700,warehouseStock:1150,demand:1800,sizeDeviation:5.7,exceptionCount:2},{article:"Rucksack Urban",category:"Accessoires",season:"FS25",targetCapacity:180,actualCapacity:160,overCapacity:0,underCapacity:20,forecast:1200,allocated:1100,storeStock:420,warehouseStock:680,demand:1150,sizeDeviation:0,exceptionCount:1},{article:"Fuball",category:"Sport Equipment",season:"FS25",targetCapacity:220,actualCapacity:260,overCapacity:40,underCapacity:0,forecast:1500,allocated:1450,storeStock:550,warehouseStock:900,demand:1420,sizeDeviation:0,exceptionCount:0}];function wte({onNavigate:e}){const[t,r]=z.useState("all"),[n,i]=z.useState("all"),[o,l]=z.useState("all"),[u,d]=z.useState(""),[f,v]=z.useState(""),[h,m]=z.useState("absolute"),[b,j]=z.useState(null),x=z.useMemo(()=>Ste.filter(A=>!(t!=="all"&&A.season!==t||o!=="all"&&A.category!==o)),[t,o]),y=z.useMemo(()=>{const A=x.reduce((L,V)=>L+V.targetCapacity,0),O=x.reduce((L,V)=>L+V.actualCapacity,0),_=x.reduce((L,V)=>L+V.overCapacity,0),T=x.reduce((L,V)=>L+V.underCapacity,0),E=x.reduce((L,V)=>L+V.forecast,0),D=x.reduce((L,V)=>L+V.allocated,0),M=A>0?O/A*100:0,F=E>0?D/E*100:0;return{targetCapacity:A,utilization:M,overCapacity:_,underCapacity:T,forecastCoverage:F}},[x]),w=z.useMemo(()=>{if(h==="absolute")return bc;const A=bc.reduce((T,E)=>T+E.forecast,0),O=bc.reduce((T,E)=>T+E.allocated,0),_=bc.reduce((T,E)=>T+E.sales,0);return bc.map(T=>({size:T.size,forecast:T.forecast/A*100,allocated:T.allocated/O*100,sales:T.sales/_*100}))},[h]),k=()=>{alert("Export-Funktionalitt: CSV/Excel-Download wrde hier ausgefhrt")},S=()=>{alert("Ansicht speichern: Die aktuelle Filtereinstellung wrde gespeichert")},N=[{key:"article",label:"Artikel",sortable:!0,render:A=>a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:A})},{key:"category",label:"Kategorie",sortable:!0},{key:"season",label:"Saison",sortable:!0},{key:"targetCapacity",label:"SOLL-Kapazitt (m)",align:"right",sortable:!0},{key:"actualCapacity",label:"IST-Kapazitt (m)",align:"right",sortable:!0,render:(A,O)=>a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:O.overCapacity>0?"#ef4444":O.underCapacity>0?"#3b82f6":"inherit"},children:A})},{key:"overCapacity",label:"berdeckung (m)",align:"right",sortable:!0,render:A=>A>0?a.jsxs("span",{style:{color:"#ef4444",fontWeight:"var(--font-weight-medium)"},children:["+",A]}):"-"},{key:"underCapacity",label:"Unterdeckung (m)",align:"right",sortable:!0,render:A=>A>0?a.jsxs("span",{style:{color:"#3b82f6",fontWeight:"var(--font-weight-medium)"},children:["-",A]}):"-"},{key:"forecast",label:"Prognosemenge",align:"right",sortable:!0},{key:"allocated",label:"Allokierte Menge",align:"right",sortable:!0,render:A=>a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)"},children:A})},{key:"storeStock",label:"Filialbestand",align:"right",sortable:!0},{key:"warehouseStock",label:"VZ-Bestand",align:"right",sortable:!0},{key:"demand",label:"Bedarf",align:"right",sortable:!0},{key:"sizeDeviation",label:"Grenabweichung (%)",align:"right",sortable:!0,render:A=>A>0?`${A}%`:"-"},{key:"exceptionCount",label:"Exception-Anzahl",align:"right",sortable:!0,render:A=>A>0?a.jsx("span",{className:"px-2 py-1 rounded-full",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:A}):a.jsx("span",{style:{color:"var(--text-muted)"},children:"-"})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[a.jsx("span",{children:"Analytics"}),a.jsx("span",{children:""}),a.jsx("span",{children:"Allocation & Capacity"})]}),a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Allocation & Capacity Analytics"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Zentrale Analyse von Prognose, Kapazitt, Bedarf, Bestnden und Allokationsergebnissen ber Zeit, Artikelhierarchie und Stores."})]}),a.jsx("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 grid grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Zeitraum von"}),a.jsx("input",{type:"date",value:u,onChange:A=>d(A.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Zeitraum bis"}),a.jsx("input",{type:"date",value:f,onChange:A=>v(A.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Saison"}),a.jsxs("select",{value:t,onChange:A=>r(A.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"all",children:"Alle Saisons"}),a.jsx("option",{value:"FS25",children:"Frhjahr/Sommer 2025"}),a.jsx("option",{value:"HW25",children:"Herbst/Winter 2025"}),a.jsx("option",{value:"FS26",children:"Frhjahr/Sommer 2026"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Prozess"}),a.jsxs("select",{value:n,onChange:A=>i(A.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"all",children:"Alle Prozesse"}),a.jsx("option",{value:"initial",children:"Initiale Allokation"}),a.jsx("option",{value:"replenishment",children:"Nachschub"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Kategorie"}),a.jsxs("select",{value:o,onChange:A=>l(A.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"all",children:"Alle Kategorien"}),a.jsx("option",{value:"Schuhe",children:"Schuhe"}),a.jsx("option",{value:"Oberbekleidung",children:"Oberbekleidung"}),a.jsx("option",{value:"Hosen",children:"Hosen"}),a.jsx("option",{value:"Accessoires",children:"Accessoires"}),a.jsx("option",{value:"Sport Equipment",children:"Sport Equipment"})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:k,className:"px-4 py-2 rounded-lg border flex items-center gap-2 hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(Ta,{size:16}),"Export"]}),a.jsxs("button",{onClick:S,className:"px-4 py-2 rounded-lg border flex items-center gap-2 hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(xu,{size:16}),"Ansicht speichern"]})]})]})}),a.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"SOLL-Kapazitt"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)"},children:[y.targetCapacity.toLocaleString("de-DE")," m"]})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"IST-Kapazittsauslastung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:y.utilization>105?"#ef4444":y.utilization<95?"#3b82f6":"#10b981"},children:[y.utilization.toFixed(1),"%"]})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"berdeckung gesamt"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"#ef4444"},children:["+",y.overCapacity," m"]})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Unterdeckung gesamt"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"#3b82f6"},children:["-",y.underCapacity," m"]})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Prognoseabdeckung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)"},children:[y.forecastCoverage.toFixed(1),"%"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:"Allokiert vs. Forecast"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Kapazitt SOLL vs. IST ber Zeit"}),a.jsx(Zt,{width:"100%",height:300,minWidth:0,minHeight:0,children:a.jsxs(WJ,{data:yte,children:[a.jsx(Hn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(yt,{dataKey:"month",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(xt,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(it,{}),a.jsx(Ct,{}),a.jsx($a,{type:"monotone",dataKey:"over",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.3,name:"berkapazitt"}),a.jsx($a,{type:"monotone",dataKey:"under",stackId:"2",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3,name:"Untererfllung"}),a.jsx(qr,{type:"monotone",dataKey:"target",stroke:"#94a3b8",strokeDasharray:"5 5",strokeWidth:2,name:"SOLL",dot:!1}),a.jsx(qr,{type:"monotone",dataKey:"actual",stroke:"#2563eb",strokeWidth:2,name:"IST"})]})})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"ber-/Unterdeckung nach Kategorie"}),a.jsx(Zt,{width:"100%",height:300,minWidth:0,minHeight:0,children:a.jsxs(Nr,{data:pO,layout:"horizontal",children:[a.jsx(Hn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(yt,{type:"number",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(xt,{type:"category",dataKey:"category",width:120,style:{fontSize:"var(--font-size-xs)"}}),a.jsx(it,{}),a.jsx(hh,{x:0,stroke:"#94a3b8",strokeWidth:2}),a.jsx(Te,{dataKey:"deviation",onClick:A=>j(A.category),cursor:"pointer",children:pO.map((A,O)=>a.jsx(Te,{fill:A.color},`cell-${O}`))})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Bestnde & Bedarf"}),a.jsx(Zt,{width:"100%",height:300,minWidth:0,minHeight:0,children:a.jsxs(Nr,{data:xte,children:[a.jsx(Hn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(yt,{dataKey:"month",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(xt,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(it,{}),a.jsx(Ct,{}),a.jsx(Te,{dataKey:"storeStock",stackId:"a",fill:"#3b82f6",name:"Filialbestand"}),a.jsx(Te,{dataKey:"warehouseStock",stackId:"a",fill:"#60a5fa",name:"VZ-Bestand"}),a.jsx(qr,{type:"monotone",dataKey:"demand",stroke:"#ef4444",strokeWidth:2,name:"Bedarf"})]})})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Prognose vs. Allokation"}),a.jsx(Zt,{width:"100%",height:300,minWidth:0,minHeight:0,children:a.jsxs(Nr,{data:bte,children:[a.jsx(Hn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(yt,{dataKey:"month",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(xt,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(it,{}),a.jsx(Ct,{}),a.jsx(Te,{dataKey:"forecast",fill:"#94a3b8",name:"Prognose"}),a.jsx(Te,{dataKey:"allocated",fill:"#2563eb",name:"Allokiert"}),a.jsx(Te,{dataKey:"sales",fill:"#10b981",name:"Abverkauf"})]})})]})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:"Grenkurven"}),a.jsxs("div",{className:"flex gap-2 p-1 rounded-lg",style:{backgroundColor:"var(--surface-alt)"},children:[a.jsx("button",{onClick:()=>m("absolute"),className:"px-3 py-1.5 rounded transition-all",style:{backgroundColor:h==="absolute"?"var(--brand-primary)":"transparent",color:h==="absolute"?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Absolut"}),a.jsx("button",{onClick:()=>m("percentage"),className:"px-3 py-1.5 rounded transition-all",style:{backgroundColor:h==="percentage"?"var(--brand-primary)":"transparent",color:h==="percentage"?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Prozentual"})]})]}),a.jsx(Zt,{width:"100%",height:350,minWidth:0,minHeight:0,children:a.jsxs(eI,{data:w,children:[a.jsx(Hn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(yt,{dataKey:"size",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(xt,{style:{fontSize:"var(--font-size-xs)"},unit:h==="percentage"?"%":""}),a.jsx(it,{formatter:A=>h==="percentage"?`${A.toFixed(1)}%`:A}),a.jsx(Ct,{}),a.jsx(qr,{type:"monotone",dataKey:"forecast",stroke:"#94a3b8",strokeWidth:2,name:"Prognose",dot:{r:4}}),a.jsx(qr,{type:"monotone",dataKey:"allocated",stroke:"#2563eb",strokeWidth:2,name:"Allokiert",dot:{r:4}}),a.jsx(qr,{type:"monotone",dataKey:"sales",stroke:"#10b981",strokeWidth:2,name:"Abverkauf",dot:{r:4}})]})})]}),a.jsxs("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"p-4 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:["Detailanalyse",b&&a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginLeft:"8px"},children:["(gefiltert nach: ",b,")"]})]})}),a.jsx(Ar,{data:b?x.filter(A=>A.category===b):x,columns:N,onRowClick:()=>{}})]})]})}function jte({onNavigate:e}){const[t,r]=z.useState(new Set([1,2,3,4,5,6,7])),n=o=>{const l=new Set(t);l.has(o)?l.delete(o):l.add(o),r(l)},i=[{id:1,title:"Auswahl der Empfnger",expanded:t.has(1),content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Auswahlmethode"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"Plandaten & Listung"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl ausgewhlter Filialen"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",fontSize:"var(--font-size-lg)"},children:"12 Filialen"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl Cluster"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"3 Cluster"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Ausschlsse"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"2 Filialen (nicht gelistet)"})]})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"8px"},children:"Angewendete Regeln"}),a.jsxs("ul",{className:"space-y-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx($d,{size:16,style:{color:"var(--status-success)",marginTop:"2px",flexShrink:0}}),a.jsx("span",{children:"Artikel ist in Filiale gelistet"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx($d,{size:16,style:{color:"var(--status-success)",marginTop:"2px",flexShrink:0}}),a.jsx("span",{children:"Filiale ist im Planliefertermin aktiv"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx($d,{size:16,style:{color:"var(--status-success)",marginTop:"2px",flexShrink:0}}),a.jsx("span",{children:"Transportbeziehung VZ  Filiale existiert"})]})]})]})]})},{id:2,title:"Ermittlung der Liefertermine",expanded:t.has(2),content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Basis"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"Lieferplan"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Planlieferzeit"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"3 Tage"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Ursprngliches Lieferfenster (Plan)"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"01.03.2025"}),a.jsx("span",{style:{color:"var(--text-muted)"},children:""}),a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"15.03.2025"})]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Simuliertes Lieferfenster"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--brand-primary)"},children:"05.03.2025"}),a.jsx("span",{style:{color:"var(--text-muted)"},children:""}),a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--brand-primary)"},children:"20.03.2025"})]})]})]}),a.jsxs("div",{className:"p-4 rounded-lg flex items-start gap-3",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--status-info)"},children:[a.jsx(Xt,{size:18,style:{color:"var(--status-info)",marginTop:"2px",flexShrink:0}}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:"Das Lieferfenster wurde im Rahmen der Simulation angepasst, um Kapazittsspitzen zu reduzieren."})]})]})},{id:3,title:"Ermittlung verfgbarer Mengen",expanded:t.has(3),content:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Quellen"}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"VZ-Bestand"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"2.400"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Bestellungen"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"1.800"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Lieferungen"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"650"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Externe Verfgbarkeit"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"0"})]})]}),a.jsx("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-subtle)"},children:a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Gesamt verfgbar"}),a.jsx("div",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-bold)"},children:"4.850"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Reserviert"}),a.jsx("div",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-bold)",color:"var(--status-warning)"},children:"320"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Verfgbar fr Allokation"}),a.jsx("div",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-bold)",color:"var(--status-success)"},children:"4.530"})]})]})})]})},{id:4,title:"Kapazittsannahmen",expanded:t.has(4),content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Kapazittsebene"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"Store & Kategorie"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"SOLL-Kapazitt"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"450 m"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Parameterbasis"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:'Produktgruppe "Sneaker"'})]})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"12px"},children:"Parameter"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Flchenbedarf je Einheit"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"0,08 m"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Prsentationsdauer"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"14 Tage"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"LOT-Gre"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"12 Paar"})]})]})]}),a.jsxs("div",{className:"p-3 rounded-lg flex items-start gap-2",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--status-info)"},children:[a.jsx(Xt,{size:16,style:{color:"var(--status-info)",marginTop:"2px",flexShrink:0}}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-primary)"},children:'Parameter wurden aus der Produktgruppe "Sneaker" bernommen'})]})]})},{id:5,title:"Allokationsalgorithmus",expanded:t.has(5),content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Algorithmus"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)"},children:"Kapazittsgesteuerte Allokation"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Ziel"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"Auffllung auf Sollbestand unter Bercksichtigung der Kapazitt"})]})]}),a.jsxs("div",{className:"p-6 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"16px"},children:"Allokationsablauf (vereinfacht)"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 p-4 rounded-lg text-center",style:{backgroundColor:"var(--surface-page)",border:"2px solid var(--brand-primary)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Schritt 1"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)"},children:"Verfgbarkeit prfen"})]}),a.jsx(cn,{size:24,style:{color:"var(--text-muted)",margin:"0 12px"}}),a.jsxs("div",{className:"flex-1 p-4 rounded-lg text-center",style:{backgroundColor:"var(--surface-page)",border:"2px solid var(--brand-primary)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Schritt 2"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)"},children:"Bedarf ermitteln"})]}),a.jsx(cn,{size:24,style:{color:"var(--text-muted)",margin:"0 12px"}}),a.jsxs("div",{className:"flex-1 p-4 rounded-lg text-center",style:{backgroundColor:"var(--surface-page)",border:"2px solid var(--brand-primary)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Schritt 3"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)"},children:"Kapazitt prfen"})]}),a.jsx(cn,{size:24,style:{color:"var(--text-muted)",margin:"0 12px"}}),a.jsxs("div",{className:"flex-1 p-4 rounded-lg text-center",style:{backgroundColor:"var(--surface-page)",border:"2px solid var(--status-success)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Schritt 4"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--status-success)"},children:"Zuteilung"})]})]})]})]})},{id:6,title:"Krzungen & Konfliktauflsung",expanded:t.has(6),content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Notwendige Krzungen"}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:"var(--status-warning)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Ja"})})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Krzungsstrategie"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)"},children:"Proportional"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Betroffene Artikel"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"8 Artikel"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Betroffene Filialen"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"5 Filialen"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Krzungsmenge gesamt"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-danger)"},children:"240 Stck"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("span",{className:"px-4 py-2 rounded-lg inline-flex items-center gap-2",style:{backgroundColor:"var(--surface-success-subtle)",color:"var(--status-success)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",border:"1px solid var(--status-success)"},children:[a.jsx($d,{size:16}),"berkapazitt vermieden"]}),a.jsxs("span",{className:"px-4 py-2 rounded-lg inline-flex items-center gap-2",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",border:"1px solid var(--status-warning)"},children:[a.jsx(aa,{size:16}),"Unterdeckung akzeptiert"]})]})]})},{id:7,title:"Ergebnis der Allokation",expanded:t.has(7),content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"2px solid var(--brand-primary)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Allokierte Gesamtmenge"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"var(--brand-primary)"},children:"4.290"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"ber-/Unterdeckung"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"#3b82f6"},children:"-240"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl Ausnahmen"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"var(--status-warning)"},children:"3"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Kapazittswirkung"}),a.jsx("div",{className:"flex items-center gap-2 mt-2",children:a.jsx("span",{className:"px-3 py-1.5 rounded-lg",style:{backgroundColor:"var(--status-success)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Ausgeglichen"})})]})]}),a.jsx("div",{className:"pt-4",children:a.jsx("button",{onClick:()=>e("exceptions"),className:"px-6 py-3 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontWeight:"var(--font-weight-medium)",border:"none",cursor:"pointer"},children:"Ausnahmen anzeigen"})})]})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("button",{onClick:()=>e("work"),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-surface-tint transition-colors",style:{color:"var(--text-muted)"},children:[a.jsx(BS,{size:20}),a.jsx("span",{children:"Zurck zur Simulation"})]}),a.jsxs("div",{className:"flex items-center gap-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[a.jsx("span",{children:"Arbeitsvorrat"}),a.jsx("span",{children:""}),a.jsx("span",{children:"Simulation"}),a.jsx("span",{children:""}),a.jsx("span",{children:"Allokationsanalyse"})]}),a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Allokationsanalyse"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Detaillierte Erklrung, wie der Allokationsprozess zu diesem Ergebnis gekommen ist."})]}),a.jsx("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"grid grid-cols-5 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Szenario"}),a.jsx("span",{className:"px-3 py-1 rounded-full inline-block",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--status-info)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Initiale Allokation"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl Artikel"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",fontSize:"var(--font-size-lg)"},children:"24"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Lieferzeitraum (simuliert)"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"05.03.2025"}),a.jsx("span",{style:{color:"var(--text-muted)"},children:""}),a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"20.03.2025"})]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Kapazittsbasis"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"SOLL-Kapazitt"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Simulationszeitpunkt"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:new Date().toLocaleDateString("de-DE")})]})]})}),a.jsx("div",{className:"space-y-4",children:i.map(o=>a.jsxs("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("button",{onClick:()=>n(o.id),className:"w-full p-5 flex items-center justify-between hover:bg-surface-tint transition-colors",style:{textAlign:"left"},children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontWeight:"var(--font-weight-semibold)",fontSize:"var(--font-size-sm)"},children:o.id}),a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:o.title})]}),o.expanded?a.jsx(_o,{size:20,style:{color:"var(--text-muted)"}}):a.jsx(cn,{size:20,style:{color:"var(--text-muted)"}})]}),o.expanded&&a.jsx("div",{className:"px-5 pb-5 border-t",style:{borderColor:"var(--border-subtle)"},children:a.jsx("div",{className:"pt-5",children:o.content})})]},o.id))})]})}function hO(e,[t,r]){return Math.min(r,Math.max(t,e))}function vO(e){const t=kte(e),r=z.forwardRef((n,i)=>{const{children:o,...l}=n,u=z.Children.toArray(o),d=u.find(zte);if(d){const f=d.props.children,v=u.map(h=>h===d?z.Children.count(f)>1?z.Children.only(null):z.isValidElement(f)?f.props.children:null:h);return a.jsx(t,{...l,ref:i,children:z.isValidElement(f)?z.cloneElement(f,void 0,v):null})}return a.jsx(t,{...l,ref:i,children:o})});return r.displayName=`${e}.Slot`,r}function kte(e){const t=z.forwardRef((r,n)=>{const{children:i,...o}=r;if(z.isValidElement(i)){const l=Nte(i),u=Ate(o,i.props);return i.type!==z.Fragment&&(u.ref=n?Sl(n,l):l),z.cloneElement(i,u)}return z.Children.count(i)>1?z.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Cte=Symbol("radix.slottable");function zte(e){return z.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Cte}function Ate(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function Nte(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function zI(e){const t=e+"CollectionProvider",[r,n]=Ro(t),[i,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=x=>{const{scope:y,children:w}=x,k=K.useRef(null),S=K.useRef(new Map).current;return a.jsx(i,{scope:y,itemMap:S,collectionRef:k,children:w})};l.displayName=t;const u=e+"CollectionSlot",d=vO(u),f=K.forwardRef((x,y)=>{const{scope:w,children:k}=x,S=o(u,w),N=Mt(y,S.collectionRef);return a.jsx(d,{ref:N,children:k})});f.displayName=u;const v=e+"CollectionItemSlot",h="data-radix-collection-item",m=vO(v),b=K.forwardRef((x,y)=>{const{scope:w,children:k,...S}=x,N=K.useRef(null),A=Mt(y,N),O=o(v,w);return K.useEffect(()=>(O.itemMap.set(N,{ref:N,...S}),()=>void O.itemMap.delete(N))),a.jsx(m,{[h]:"",ref:A,children:k})});b.displayName=v;function j(x){const y=o(e+"CollectionConsumer",x);return K.useCallback(()=>{const k=y.collectionRef.current;if(!k)return[];const S=Array.from(k.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((O,_)=>S.indexOf(O.ref.current)-S.indexOf(_.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:l,Slot:f,ItemSlot:b},j,n]}var Pte=z.createContext(void 0);function G1(e){const t=z.useContext(Pte);return e||t||"ltr"}function Oi(e){const t=z.useRef(e);return z.useEffect(()=>{t.current=e}),z.useMemo(()=>(...r)=>t.current?.(...r),[])}function _te(e,t=globalThis?.document){const r=Oi(e);z.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Ote="DismissableLayer",SS="dismissableLayer.update",Ete="dismissableLayer.pointerDownOutside",Tte="dismissableLayer.focusOutside",mO,AI=z.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),V1=z.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:u,...d}=e,f=z.useContext(AI),[v,h]=z.useState(null),m=v?.ownerDocument??globalThis?.document,[,b]=z.useState({}),j=Mt(t,_=>h(_)),x=Array.from(f.layers),[y]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),w=x.indexOf(y),k=v?x.indexOf(v):-1,S=f.layersWithOutsidePointerEventsDisabled.size>0,N=k>=w,A=Ite(_=>{const T=_.target,E=[...f.branches].some(D=>D.contains(T));!N||E||(i?.(_),l?.(_),_.defaultPrevented||u?.())},m),O=Mte(_=>{const T=_.target;[...f.branches].some(D=>D.contains(T))||(o?.(_),l?.(_),_.defaultPrevented||u?.())},m);return _te(_=>{k===f.layers.size-1&&(n?.(_),!_.defaultPrevented&&u&&(_.preventDefault(),u()))},m),z.useEffect(()=>{if(v)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(mO=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(v)),f.layers.add(v),gO(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=mO)}},[v,m,r,f]),z.useEffect(()=>()=>{v&&(f.layers.delete(v),f.layersWithOutsidePointerEventsDisabled.delete(v),gO())},[v,f]),z.useEffect(()=>{const _=()=>b({});return document.addEventListener(SS,_),()=>document.removeEventListener(SS,_)},[]),a.jsx(Je.div,{...d,ref:j,style:{pointerEvents:S?N?"auto":"none":void 0,...e.style},onFocusCapture:Xe(e.onFocusCapture,O.onFocusCapture),onBlurCapture:Xe(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Xe(e.onPointerDownCapture,A.onPointerDownCapture)})});V1.displayName=Ote;var Dte="DismissableLayerBranch",Rte=z.forwardRef((e,t)=>{const r=z.useContext(AI),n=z.useRef(null),i=Mt(t,n);return z.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),a.jsx(Je.div,{...e,ref:i})});Rte.displayName=Dte;function Ite(e,t=globalThis?.document){const r=Oi(e),n=z.useRef(!1),i=z.useRef(()=>{});return z.useEffect(()=>{const o=u=>{if(u.target&&!n.current){let d=function(){NI(Ete,r,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Mte(e,t=globalThis?.document){const r=Oi(e),n=z.useRef(!1);return z.useEffect(()=>{const i=o=>{o.target&&!n.current&&NI(Tte,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function gO(){const e=new CustomEvent(SS);document.dispatchEvent(e)}function NI(e,t,r,{discrete:n}){const i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?nee(i,o):i.dispatchEvent(o)}var Tb=0;function PI(){z.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??yO()),document.body.insertAdjacentElement("beforeend",e[1]??yO()),Tb++,()=>{Tb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Tb--}},[])}function yO(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Db="focusScope.autoFocusOnMount",Rb="focusScope.autoFocusOnUnmount",xO={bubbles:!1,cancelable:!0},Lte="FocusScope",q1=z.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=e,[u,d]=z.useState(null),f=Oi(i),v=Oi(o),h=z.useRef(null),m=Mt(t,x=>d(x)),b=z.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;z.useEffect(()=>{if(n){let x=function(S){if(b.paused||!u)return;const N=S.target;u.contains(N)?h.current=N:gi(h.current,{select:!0})},y=function(S){if(b.paused||!u)return;const N=S.relatedTarget;N!==null&&(u.contains(N)||gi(h.current,{select:!0}))},w=function(S){if(document.activeElement===document.body)for(const A of S)A.removedNodes.length>0&&gi(u)};document.addEventListener("focusin",x),document.addEventListener("focusout",y);const k=new MutationObserver(w);return u&&k.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",y),k.disconnect()}}},[n,u,b.paused]),z.useEffect(()=>{if(u){SO.add(b);const x=document.activeElement;if(!u.contains(x)){const w=new CustomEvent(Db,xO);u.addEventListener(Db,f),u.dispatchEvent(w),w.defaultPrevented||(Bte(Hte(_I(u)),{select:!0}),document.activeElement===x&&gi(u))}return()=>{u.removeEventListener(Db,f),setTimeout(()=>{const w=new CustomEvent(Rb,xO);u.addEventListener(Rb,v),u.dispatchEvent(w),w.defaultPrevented||gi(x??document.body,{select:!0}),u.removeEventListener(Rb,v),SO.remove(b)},0)}}},[u,f,v,b]);const j=z.useCallback(x=>{if(!r&&!n||b.paused)return;const y=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,w=document.activeElement;if(y&&w){const k=x.currentTarget,[S,N]=Fte(k);S&&N?!x.shiftKey&&w===N?(x.preventDefault(),r&&gi(S,{select:!0})):x.shiftKey&&w===S&&(x.preventDefault(),r&&gi(N,{select:!0})):w===k&&x.preventDefault()}},[r,n,b.paused]);return a.jsx(Je.div,{tabIndex:-1,...l,ref:m,onKeyDown:j})});q1.displayName=Lte;function Bte(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(gi(n,{select:t}),document.activeElement!==r)return}function Fte(e){const t=_I(e),r=bO(t,e),n=bO(t.reverse(),e);return[r,n]}function _I(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function bO(e,t){for(const r of e)if(!Wte(r,{upTo:t}))return r}function Wte(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function $te(e){return e instanceof HTMLInputElement&&"select"in e}function gi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&$te(e)&&t&&e.select()}}var SO=Ute();function Ute(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=wO(e,t),e.unshift(t)},remove(t){e=wO(e,t),e[0]?.resume()}}}function wO(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Hte(e){return e.filter(t=>t.tagName!=="A")}var Kte=MS[" useId ".trim().toString()]||(()=>{}),Gte=0;function Ai(e){const[t,r]=z.useState(Kte());return Pr(()=>{r(n=>n??String(Gte++))},[e]),e||(t?`radix-${t}`:"")}const Vte=["top","right","bottom","left"],Ei=Math.min,sn=Math.max,Cp=Math.round,sf=Math.floor,ua=e=>({x:e,y:e}),qte={left:"right",right:"left",bottom:"top",top:"bottom"},Zte={start:"end",end:"start"};function wS(e,t,r){return sn(e,Ei(t,r))}function Ua(e,t){return typeof e=="function"?e(t):e}function Ha(e){return e.split("-")[0]}function Cl(e){return e.split("-")[1]}function Z1(e){return e==="x"?"y":"x"}function X1(e){return e==="y"?"height":"width"}const Xte=new Set(["top","bottom"]);function sa(e){return Xte.has(Ha(e))?"y":"x"}function Y1(e){return Z1(sa(e))}function Yte(e,t,r){r===void 0&&(r=!1);const n=Cl(e),i=Y1(e),o=X1(i);let l=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=zp(l)),[l,zp(l)]}function Qte(e){const t=zp(e);return[jS(e),t,jS(t)]}function jS(e){return e.replace(/start|end/g,t=>Zte[t])}const jO=["left","right"],kO=["right","left"],Jte=["top","bottom"],ere=["bottom","top"];function tre(e,t,r){switch(e){case"top":case"bottom":return r?t?kO:jO:t?jO:kO;case"left":case"right":return t?Jte:ere;default:return[]}}function rre(e,t,r,n){const i=Cl(e);let o=tre(Ha(e),r==="start",n);return i&&(o=o.map(l=>l+"-"+i),t&&(o=o.concat(o.map(jS)))),o}function zp(e){return e.replace(/left|right|bottom|top/g,t=>qte[t])}function nre(e){return{top:0,right:0,bottom:0,left:0,...e}}function OI(e){return typeof e!="number"?nre(e):{top:e,right:e,bottom:e,left:e}}function Ap(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function CO(e,t,r){let{reference:n,floating:i}=e;const o=sa(t),l=Y1(t),u=X1(l),d=Ha(t),f=o==="y",v=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,m=n[u]/2-i[u]/2;let b;switch(d){case"top":b={x:v,y:n.y-i.height};break;case"bottom":b={x:v,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:h};break;case"left":b={x:n.x-i.width,y:h};break;default:b={x:n.x,y:n.y}}switch(Cl(t)){case"start":b[l]-=m*(r&&f?-1:1);break;case"end":b[l]+=m*(r&&f?-1:1);break}return b}const are=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:l}=r,u=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:v,y:h}=CO(f,n,d),m=n,b={},j=0;for(let x=0;x<u.length;x++){const{name:y,fn:w}=u[x],{x:k,y:S,data:N,reset:A}=await w({x:v,y:h,initialPlacement:n,placement:m,strategy:i,middlewareData:b,rects:f,platform:l,elements:{reference:e,floating:t}});v=k??v,h=S??h,b={...b,[y]:{...b[y],...N}},A&&j<=50&&(j++,typeof A=="object"&&(A.placement&&(m=A.placement),A.rects&&(f=A.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):A.rects),{x:v,y:h}=CO(f,m,d)),x=-1)}return{x:v,y:h,placement:m,strategy:i,middlewareData:b}};async function gu(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:l,elements:u,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:v="viewport",elementContext:h="floating",altBoundary:m=!1,padding:b=0}=Ua(t,e),j=OI(b),y=u[m?h==="floating"?"reference":"floating":h],w=Ap(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(y)))==null||r?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:v,strategy:d})),k=h==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),N=await(o.isElement==null?void 0:o.isElement(S))?await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},A=Ap(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:k,offsetParent:S,strategy:d}):k);return{top:(w.top-A.top+j.top)/N.y,bottom:(A.bottom-w.bottom+j.bottom)/N.y,left:(w.left-A.left+j.left)/N.x,right:(A.right-w.right+j.right)/N.x}}const ire=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:l,elements:u,middlewareData:d}=t,{element:f,padding:v=0}=Ua(e,t)||{};if(f==null)return{};const h=OI(v),m={x:r,y:n},b=Y1(i),j=X1(b),x=await l.getDimensions(f),y=b==="y",w=y?"top":"left",k=y?"bottom":"right",S=y?"clientHeight":"clientWidth",N=o.reference[j]+o.reference[b]-m[b]-o.floating[j],A=m[b]-o.reference[b],O=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let _=O?O[S]:0;(!_||!await(l.isElement==null?void 0:l.isElement(O)))&&(_=u.floating[S]||o.floating[j]);const T=N/2-A/2,E=_/2-x[j]/2-1,D=Ei(h[w],E),M=Ei(h[k],E),F=D,L=_-x[j]-M,V=_/2-x[j]/2+T,H=wS(F,V,L),Z=!d.arrow&&Cl(i)!=null&&V!==H&&o.reference[j]/2-(V<F?D:M)-x[j]/2<0,Y=Z?V<F?V-F:V-L:0;return{[b]:m[b]+Y,data:{[b]:H,centerOffset:V-H-Y,...Z&&{alignmentOffset:Y}},reset:Z}}}),ore=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:l,initialPlacement:u,platform:d,elements:f}=t,{mainAxis:v=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:x=!0,...y}=Ua(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const w=Ha(i),k=sa(u),S=Ha(u)===u,N=await(d.isRTL==null?void 0:d.isRTL(f.floating)),A=m||(S||!x?[zp(u)]:Qte(u)),O=j!=="none";!m&&O&&A.push(...rre(u,x,j,N));const _=[u,...A],T=await gu(t,y),E=[];let D=((n=o.flip)==null?void 0:n.overflows)||[];if(v&&E.push(T[w]),h){const V=Yte(i,l,N);E.push(T[V[0]],T[V[1]])}if(D=[...D,{placement:i,overflows:E}],!E.every(V=>V<=0)){var M,F;const V=(((M=o.flip)==null?void 0:M.index)||0)+1,H=_[V];if(H&&(!(h==="alignment"?k!==sa(H):!1)||D.every(U=>sa(U.placement)===k?U.overflows[0]>0:!0)))return{data:{index:V,overflows:D},reset:{placement:H}};let Z=(F=D.filter(Y=>Y.overflows[0]<=0).sort((Y,U)=>Y.overflows[1]-U.overflows[1])[0])==null?void 0:F.placement;if(!Z)switch(b){case"bestFit":{var L;const Y=(L=D.filter(U=>{if(O){const B=sa(U.placement);return B===k||B==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(B=>B>0).reduce((B,W)=>B+W,0)]).sort((U,B)=>U[1]-B[1])[0])==null?void 0:L[0];Y&&(Z=Y);break}case"initialPlacement":Z=u;break}if(i!==Z)return{reset:{placement:Z}}}return{}}}};function zO(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function AO(e){return Vte.some(t=>e[t]>=0)}const sre=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Ua(e,t);switch(n){case"referenceHidden":{const o=await gu(t,{...i,elementContext:"reference"}),l=zO(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:AO(l)}}}case"escaped":{const o=await gu(t,{...i,altBoundary:!0}),l=zO(o,r.floating);return{data:{escapedOffsets:l,escaped:AO(l)}}}default:return{}}}}},EI=new Set(["left","top"]);async function lre(e,t){const{placement:r,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=Ha(r),u=Cl(r),d=sa(r)==="y",f=EI.has(l)?-1:1,v=o&&d?-1:1,h=Ua(t,e);let{mainAxis:m,crossAxis:b,alignmentAxis:j}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return u&&typeof j=="number"&&(b=u==="end"?j*-1:j),d?{x:b*v,y:m*f}:{x:m*f,y:b*v}}const cre=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:l,middlewareData:u}=t,d=await lre(t,e);return l===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:o+d.y,data:{...d,placement:l}}}}},ure=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:y=>{let{x:w,y:k}=y;return{x:w,y:k}}},...d}=Ua(e,t),f={x:r,y:n},v=await gu(t,d),h=sa(Ha(i)),m=Z1(h);let b=f[m],j=f[h];if(o){const y=m==="y"?"top":"left",w=m==="y"?"bottom":"right",k=b+v[y],S=b-v[w];b=wS(k,b,S)}if(l){const y=h==="y"?"top":"left",w=h==="y"?"bottom":"right",k=j+v[y],S=j-v[w];j=wS(k,j,S)}const x=u.fn({...t,[m]:b,[h]:j});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[m]:o,[h]:l}}}}}},dre=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:o,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=Ua(e,t),v={x:r,y:n},h=sa(i),m=Z1(h);let b=v[m],j=v[h];const x=Ua(u,t),y=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(d){const S=m==="y"?"height":"width",N=o.reference[m]-o.floating[S]+y.mainAxis,A=o.reference[m]+o.reference[S]-y.mainAxis;b<N?b=N:b>A&&(b=A)}if(f){var w,k;const S=m==="y"?"width":"height",N=EI.has(Ha(i)),A=o.reference[h]-o.floating[S]+(N&&((w=l.offset)==null?void 0:w[h])||0)+(N?0:y.crossAxis),O=o.reference[h]+o.reference[S]+(N?0:((k=l.offset)==null?void 0:k[h])||0)-(N?y.crossAxis:0);j<A?j=A:j>O&&(j=O)}return{[m]:b,[h]:j}}}},fre=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:o,platform:l,elements:u}=t,{apply:d=()=>{},...f}=Ua(e,t),v=await gu(t,f),h=Ha(i),m=Cl(i),b=sa(i)==="y",{width:j,height:x}=o.floating;let y,w;h==="top"||h==="bottom"?(y=h,w=m===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(w=h,y=m==="end"?"top":"bottom");const k=x-v.top-v.bottom,S=j-v.left-v.right,N=Ei(x-v[y],k),A=Ei(j-v[w],S),O=!t.middlewareData.shift;let _=N,T=A;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=S),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=k),O&&!m){const D=sn(v.left,0),M=sn(v.right,0),F=sn(v.top,0),L=sn(v.bottom,0);b?T=j-2*(D!==0||M!==0?D+M:sn(v.left,v.right)):_=x-2*(F!==0||L!==0?F+L:sn(v.top,v.bottom))}await d({...t,availableWidth:T,availableHeight:_});const E=await l.getDimensions(u.floating);return j!==E.width||x!==E.height?{reset:{rects:!0}}:{}}}};function Sh(){return typeof window<"u"}function zl(e){return TI(e)?(e.nodeName||"").toLowerCase():"#document"}function pn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ma(e){var t;return(t=(TI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function TI(e){return Sh()?e instanceof Node||e instanceof pn(e).Node:!1}function Vn(e){return Sh()?e instanceof Element||e instanceof pn(e).Element:!1}function fa(e){return Sh()?e instanceof HTMLElement||e instanceof pn(e).HTMLElement:!1}function NO(e){return!Sh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof pn(e).ShadowRoot}const pre=new Set(["inline","contents"]);function Pu(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=qn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!pre.has(i)}const hre=new Set(["table","td","th"]);function vre(e){return hre.has(zl(e))}const mre=[":popover-open",":modal"];function wh(e){return mre.some(t=>{try{return e.matches(t)}catch{return!1}})}const gre=["transform","translate","scale","rotate","perspective"],yre=["transform","translate","scale","rotate","perspective","filter"],xre=["paint","layout","strict","content"];function Q1(e){const t=J1(),r=Vn(e)?qn(e):e;return gre.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||yre.some(n=>(r.willChange||"").includes(n))||xre.some(n=>(r.contain||"").includes(n))}function bre(e){let t=Ti(e);for(;fa(t)&&!ll(t);){if(Q1(t))return t;if(wh(t))return null;t=Ti(t)}return null}function J1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Sre=new Set(["html","body","#document"]);function ll(e){return Sre.has(zl(e))}function qn(e){return pn(e).getComputedStyle(e)}function jh(e){return Vn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ti(e){if(zl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||NO(e)&&e.host||ma(e);return NO(t)?t.host:t}function DI(e){const t=Ti(e);return ll(t)?e.ownerDocument?e.ownerDocument.body:e.body:fa(t)&&Pu(t)?t:DI(t)}function yu(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=DI(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),l=pn(i);if(o){const u=kS(l);return t.concat(l,l.visualViewport||[],Pu(i)?i:[],u&&r?yu(u):[])}return t.concat(i,yu(i,[],r))}function kS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function RI(e){const t=qn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=fa(e),o=i?e.offsetWidth:r,l=i?e.offsetHeight:n,u=Cp(r)!==o||Cp(n)!==l;return u&&(r=o,n=l),{width:r,height:n,$:u}}function ew(e){return Vn(e)?e:e.contextElement}function Ps(e){const t=ew(e);if(!fa(t))return ua(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=RI(t);let l=(o?Cp(r.width):r.width)/n,u=(o?Cp(r.height):r.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const wre=ua(0);function II(e){const t=pn(e);return!J1()||!t.visualViewport?wre:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function jre(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==pn(e)?!1:t}function zo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=ew(e);let l=ua(1);t&&(n?Vn(n)&&(l=Ps(n)):l=Ps(e));const u=jre(o,r,n)?II(o):ua(0);let d=(i.left+u.x)/l.x,f=(i.top+u.y)/l.y,v=i.width/l.x,h=i.height/l.y;if(o){const m=pn(o),b=n&&Vn(n)?pn(n):n;let j=m,x=kS(j);for(;x&&n&&b!==j;){const y=Ps(x),w=x.getBoundingClientRect(),k=qn(x),S=w.left+(x.clientLeft+parseFloat(k.paddingLeft))*y.x,N=w.top+(x.clientTop+parseFloat(k.paddingTop))*y.y;d*=y.x,f*=y.y,v*=y.x,h*=y.y,d+=S,f+=N,j=pn(x),x=kS(j)}}return Ap({width:v,height:h,x:d,y:f})}function kh(e,t){const r=jh(e).scrollLeft;return t?t.left+r:zo(ma(e)).left+r}function MI(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-kh(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function kre(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o=i==="fixed",l=ma(n),u=t?wh(t.floating):!1;if(n===l||u&&o)return r;let d={scrollLeft:0,scrollTop:0},f=ua(1);const v=ua(0),h=fa(n);if((h||!h&&!o)&&((zl(n)!=="body"||Pu(l))&&(d=jh(n)),fa(n))){const b=zo(n);f=Ps(n),v.x=b.x+n.clientLeft,v.y=b.y+n.clientTop}const m=l&&!h&&!o?MI(l,d):ua(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-d.scrollLeft*f.x+v.x+m.x,y:r.y*f.y-d.scrollTop*f.y+v.y+m.y}}function Cre(e){return Array.from(e.getClientRects())}function zre(e){const t=ma(e),r=jh(e),n=e.ownerDocument.body,i=sn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=sn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+kh(e);const u=-r.scrollTop;return qn(n).direction==="rtl"&&(l+=sn(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:l,y:u}}const PO=25;function Are(e,t){const r=pn(e),n=ma(e),i=r.visualViewport;let o=n.clientWidth,l=n.clientHeight,u=0,d=0;if(i){o=i.width,l=i.height;const v=J1();(!v||v&&t==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}const f=kh(n);if(f<=0){const v=n.ownerDocument,h=v.body,m=getComputedStyle(h),b=v.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,j=Math.abs(n.clientWidth-h.clientWidth-b);j<=PO&&(o-=j)}else f<=PO&&(o+=f);return{width:o,height:l,x:u,y:d}}const Nre=new Set(["absolute","fixed"]);function Pre(e,t){const r=zo(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=fa(e)?Ps(e):ua(1),l=e.clientWidth*o.x,u=e.clientHeight*o.y,d=i*o.x,f=n*o.y;return{width:l,height:u,x:d,y:f}}function _O(e,t,r){let n;if(t==="viewport")n=Are(e,r);else if(t==="document")n=zre(ma(e));else if(Vn(t))n=Pre(t,r);else{const i=II(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Ap(n)}function LI(e,t){const r=Ti(e);return r===t||!Vn(r)||ll(r)?!1:qn(r).position==="fixed"||LI(r,t)}function _re(e,t){const r=t.get(e);if(r)return r;let n=yu(e,[],!1).filter(u=>Vn(u)&&zl(u)!=="body"),i=null;const o=qn(e).position==="fixed";let l=o?Ti(e):e;for(;Vn(l)&&!ll(l);){const u=qn(l),d=Q1(l);!d&&u.position==="fixed"&&(i=null),(o?!d&&!i:!d&&u.position==="static"&&!!i&&Nre.has(i.position)||Pu(l)&&!d&&LI(e,l))?n=n.filter(v=>v!==l):i=u,l=Ti(l)}return t.set(e,n),n}function Ore(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const l=[...r==="clippingAncestors"?wh(t)?[]:_re(t,this._c):[].concat(r),n],u=l[0],d=l.reduce((f,v)=>{const h=_O(t,v,i);return f.top=sn(h.top,f.top),f.right=Ei(h.right,f.right),f.bottom=Ei(h.bottom,f.bottom),f.left=sn(h.left,f.left),f},_O(t,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Ere(e){const{width:t,height:r}=RI(e);return{width:t,height:r}}function Tre(e,t,r){const n=fa(t),i=ma(t),o=r==="fixed",l=zo(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const d=ua(0);function f(){d.x=kh(i)}if(n||!n&&!o)if((zl(t)!=="body"||Pu(i))&&(u=jh(t)),n){const b=zo(t,!0,o,t);d.x=b.x+t.clientLeft,d.y=b.y+t.clientTop}else i&&f();o&&!n&&i&&f();const v=i&&!n&&!o?MI(i,u):ua(0),h=l.left+u.scrollLeft-d.x-v.x,m=l.top+u.scrollTop-d.y-v.y;return{x:h,y:m,width:l.width,height:l.height}}function Ib(e){return qn(e).position==="static"}function OO(e,t){if(!fa(e)||qn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ma(e)===r&&(r=r.ownerDocument.body),r}function BI(e,t){const r=pn(e);if(wh(e))return r;if(!fa(e)){let i=Ti(e);for(;i&&!ll(i);){if(Vn(i)&&!Ib(i))return i;i=Ti(i)}return r}let n=OO(e,t);for(;n&&vre(n)&&Ib(n);)n=OO(n,t);return n&&ll(n)&&Ib(n)&&!Q1(n)?r:n||bre(e)||r}const Dre=async function(e){const t=this.getOffsetParent||BI,r=this.getDimensions,n=await r(e.floating);return{reference:Tre(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Rre(e){return qn(e).direction==="rtl"}const Ire={convertOffsetParentRelativeRectToViewportRelativeRect:kre,getDocumentElement:ma,getClippingRect:Ore,getOffsetParent:BI,getElementRects:Dre,getClientRects:Cre,getDimensions:Ere,getScale:Ps,isElement:Vn,isRTL:Rre};function FI(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Mre(e,t){let r=null,n;const i=ma(e);function o(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),o();const f=e.getBoundingClientRect(),{left:v,top:h,width:m,height:b}=f;if(u||t(),!m||!b)return;const j=sf(h),x=sf(i.clientWidth-(v+m)),y=sf(i.clientHeight-(h+b)),w=sf(v),S={rootMargin:-j+"px "+-x+"px "+-y+"px "+-w+"px",threshold:sn(0,Ei(1,d))||1};let N=!0;function A(O){const _=O[0].intersectionRatio;if(_!==d){if(!N)return l();_?l(!1,_):n=setTimeout(()=>{l(!1,1e-7)},1e3)}_===1&&!FI(f,e.getBoundingClientRect())&&l(),N=!1}try{r=new IntersectionObserver(A,{...S,root:i.ownerDocument})}catch{r=new IntersectionObserver(A,S)}r.observe(e)}return l(!0),o}function Lre(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,f=ew(e),v=i||o?[...f?yu(f):[],...yu(t)]:[];v.forEach(w=>{i&&w.addEventListener("scroll",r,{passive:!0}),o&&w.addEventListener("resize",r)});const h=f&&u?Mre(f,r):null;let m=-1,b=null;l&&(b=new ResizeObserver(w=>{let[k]=w;k&&k.target===f&&b&&(b.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=b)==null||S.observe(t)})),r()}),f&&!d&&b.observe(f),b.observe(t));let j,x=d?zo(e):null;d&&y();function y(){const w=zo(e);x&&!FI(x,w)&&r(),x=w,j=requestAnimationFrame(y)}return r(),()=>{var w;v.forEach(k=>{i&&k.removeEventListener("scroll",r),o&&k.removeEventListener("resize",r)}),h?.(),(w=b)==null||w.disconnect(),b=null,d&&cancelAnimationFrame(j)}}const Bre=cre,Fre=ure,Wre=ore,$re=fre,Ure=sre,EO=ire,Hre=dre,Kre=(e,t,r)=>{const n=new Map,i={platform:Ire,...r},o={...i.platform,_c:n};return are(e,t,{...i,platform:o})};var Gre=typeof document<"u",Vre=function(){},gf=Gre?z.useLayoutEffect:Vre;function Np(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Np(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const o=i[n];if(!(o==="_owner"&&e.$$typeof)&&!Np(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function WI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function TO(e,t){const r=WI(e);return Math.round(t*r)/r}function Mb(e){const t=z.useRef(e);return gf(()=>{t.current=e}),t}function qre(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:d,open:f}=e,[v,h]=z.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,b]=z.useState(n);Np(m,n)||b(n);const[j,x]=z.useState(null),[y,w]=z.useState(null),k=z.useCallback(U=>{U!==O.current&&(O.current=U,x(U))},[]),S=z.useCallback(U=>{U!==_.current&&(_.current=U,w(U))},[]),N=o||j,A=l||y,O=z.useRef(null),_=z.useRef(null),T=z.useRef(v),E=d!=null,D=Mb(d),M=Mb(i),F=Mb(f),L=z.useCallback(()=>{if(!O.current||!_.current)return;const U={placement:t,strategy:r,middleware:m};M.current&&(U.platform=M.current),Kre(O.current,_.current,U).then(B=>{const W={...B,isPositioned:F.current!==!1};V.current&&!Np(T.current,W)&&(T.current=W,zu.flushSync(()=>{h(W)}))})},[m,t,r,M,F]);gf(()=>{f===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(U=>({...U,isPositioned:!1})))},[f]);const V=z.useRef(!1);gf(()=>(V.current=!0,()=>{V.current=!1}),[]),gf(()=>{if(N&&(O.current=N),A&&(_.current=A),N&&A){if(D.current)return D.current(N,A,L);L()}},[N,A,L,D,E]);const H=z.useMemo(()=>({reference:O,floating:_,setReference:k,setFloating:S}),[k,S]),Z=z.useMemo(()=>({reference:N,floating:A}),[N,A]),Y=z.useMemo(()=>{const U={position:r,left:0,top:0};if(!Z.floating)return U;const B=TO(Z.floating,v.x),W=TO(Z.floating,v.y);return u?{...U,transform:"translate("+B+"px, "+W+"px)",...WI(Z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:B,top:W}},[r,u,Z.floating,v.x,v.y]);return z.useMemo(()=>({...v,update:L,refs:H,elements:Z,floatingStyles:Y}),[v,L,H,Z,Y])}const Zre=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?EO({element:n.current,padding:i}).fn(r):{}:n?EO({element:n,padding:i}).fn(r):{}}}},Xre=(e,t)=>({...Bre(e),options:[e,t]}),Yre=(e,t)=>({...Fre(e),options:[e,t]}),Qre=(e,t)=>({...Hre(e),options:[e,t]}),Jre=(e,t)=>({...Wre(e),options:[e,t]}),ene=(e,t)=>({...$re(e),options:[e,t]}),tne=(e,t)=>({...Ure(e),options:[e,t]}),rne=(e,t)=>({...Zre(e),options:[e,t]});var nne="Arrow",$I=z.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...o}=e;return a.jsx(Je.svg,{...o,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});$I.displayName=nne;var ane=$I,tw="Popper",[UI,HI]=Ro(tw),[ine,KI]=UI(tw),GI=e=>{const{__scopePopper:t,children:r}=e,[n,i]=z.useState(null);return a.jsx(ine,{scope:t,anchor:n,onAnchorChange:i,children:r})};GI.displayName=tw;var VI="PopperAnchor",qI=z.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,o=KI(VI,r),l=z.useRef(null),u=Mt(t,l),d=z.useRef(null);return z.useEffect(()=>{const f=d.current;d.current=n?.current||l.current,f!==d.current&&o.onAnchorChange(d.current)}),n?null:a.jsx(Je.div,{...i,ref:u})});qI.displayName=VI;var rw="PopperContent",[one,sne]=UI(rw),ZI=z.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:o="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:v=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:b="optimized",onPlaced:j,...x}=e,y=KI(rw,r),[w,k]=z.useState(null),S=Mt(t,re=>k(re)),[N,A]=z.useState(null),O=aI(N),_=O?.width??0,T=O?.height??0,E=n+(o!=="center"?"-"+o:""),D=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},M=Array.isArray(f)?f:[f],F=M.length>0,L={padding:D,boundary:M.filter(cne),altBoundary:F},{refs:V,floatingStyles:H,placement:Z,isPositioned:Y,middlewareData:U}=qre({strategy:"fixed",placement:E,whileElementsMounted:(...re)=>Lre(...re,{animationFrame:b==="always"}),elements:{reference:y.anchor},middleware:[Xre({mainAxis:i+T,alignmentAxis:l}),d&&Yre({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Qre():void 0,...L}),d&&Jre({...L}),ene({...L,apply:({elements:re,rects:xe,availableWidth:ae,availableHeight:pe})=>{const{width:Se,height:le}=xe.reference,Be=re.floating.style;Be.setProperty("--radix-popper-available-width",`${ae}px`),Be.setProperty("--radix-popper-available-height",`${pe}px`),Be.setProperty("--radix-popper-anchor-width",`${Se}px`),Be.setProperty("--radix-popper-anchor-height",`${le}px`)}}),N&&rne({element:N,padding:u}),une({arrowWidth:_,arrowHeight:T}),m&&tne({strategy:"referenceHidden",...L})]}),[B,W]=QI(Z),$=Oi(j);Pr(()=>{Y&&$?.()},[Y,$]);const q=U.arrow?.x,oe=U.arrow?.y,fe=U.arrow?.centerOffset!==0,[ye,se]=z.useState();return Pr(()=>{w&&se(window.getComputedStyle(w).zIndex)},[w]),a.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:Y?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[U.transformOrigin?.x,U.transformOrigin?.y].join(" "),...U.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(one,{scope:r,placedSide:B,onArrowChange:A,arrowX:q,arrowY:oe,shouldHideArrow:fe,children:a.jsx(Je.div,{"data-side":B,"data-align":W,...x,ref:S,style:{...x.style,animation:Y?void 0:"none"}})})})});ZI.displayName=rw;var XI="PopperArrow",lne={top:"bottom",right:"left",bottom:"top",left:"right"},YI=z.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,o=sne(XI,n),l=lne[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(ane,{...i,ref:r,style:{...i.style,display:"block"}})})});YI.displayName=XI;function cne(e){return e!==null}var une=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,l=i.arrow?.centerOffset!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[f,v]=QI(r),h={start:"0%",center:"50%",end:"100%"}[v],m=(i.arrow?.x??0)+u/2,b=(i.arrow?.y??0)+d/2;let j="",x="";return f==="bottom"?(j=l?h:`${m}px`,x=`${-d}px`):f==="top"?(j=l?h:`${m}px`,x=`${n.floating.height+d}px`):f==="right"?(j=`${-d}px`,x=l?h:`${b}px`):f==="left"&&(j=`${n.floating.width+d}px`,x=l?h:`${b}px`),{data:{x:j,y:x}}}});function QI(e){const[t,r="center"]=e.split("-");return[t,r]}var dne=GI,fne=qI,pne=ZI,hne=YI,vne="Portal",nw=z.forwardRef((e,t)=>{const{container:r,...n}=e,[i,o]=z.useState(!1);Pr(()=>o(!0),[]);const l=r||i&&globalThis?.document?.body;return l?_7.createPortal(a.jsx(Je.div,{...n,ref:t}),l):null});nw.displayName=vne;function mne(e){const t=gne(e),r=z.forwardRef((n,i)=>{const{children:o,...l}=n,u=z.Children.toArray(o),d=u.find(xne);if(d){const f=d.props.children,v=u.map(h=>h===d?z.Children.count(f)>1?z.Children.only(null):z.isValidElement(f)?f.props.children:null:h);return a.jsx(t,{...l,ref:i,children:z.isValidElement(f)?z.cloneElement(f,void 0,v):null})}return a.jsx(t,{...l,ref:i,children:o})});return r.displayName=`${e}.Slot`,r}function gne(e){const t=z.forwardRef((r,n)=>{const{children:i,...o}=r;if(z.isValidElement(i)){const l=Sne(i),u=bne(o,i.props);return i.type!==z.Fragment&&(u.ref=n?Sl(n,l):l),z.cloneElement(i,u)}return z.Children.count(i)>1?z.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yne=Symbol("radix.slottable");function xne(e){return z.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yne}function bne(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function Sne(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var JI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),wne="VisuallyHidden",jne=z.forwardRef((e,t)=>a.jsx(Je.span,{...e,ref:t,style:{...JI,...e.style}}));jne.displayName=wne;var kne=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ms=new WeakMap,lf=new WeakMap,cf={},Lb=0,e3=function(e){return e&&(e.host||e3(e.parentNode))},Cne=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=e3(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},zne=function(e,t,r,n){var i=Cne(t,Array.isArray(e)?e:[e]);cf[r]||(cf[r]=new WeakMap);var o=cf[r],l=[],u=new Set,d=new Set(i),f=function(h){!h||u.has(h)||(u.add(h),f(h.parentNode))};i.forEach(f);var v=function(h){!h||d.has(h)||Array.prototype.forEach.call(h.children,function(m){if(u.has(m))v(m);else try{var b=m.getAttribute(n),j=b!==null&&b!=="false",x=(ms.get(m)||0)+1,y=(o.get(m)||0)+1;ms.set(m,x),o.set(m,y),l.push(m),x===1&&j&&lf.set(m,!0),y===1&&m.setAttribute(r,"true"),j||m.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return v(t),u.clear(),Lb++,function(){l.forEach(function(h){var m=ms.get(h)-1,b=o.get(h)-1;ms.set(h,m),o.set(h,b),m||(lf.has(h)||h.removeAttribute(n),lf.delete(h)),b||h.removeAttribute(r)}),Lb--,Lb||(ms=new WeakMap,ms=new WeakMap,lf=new WeakMap,cf={})}},t3=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=kne(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),zne(n,i,r,"aria-hidden")):function(){return null}},na=function(){return na=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},na.apply(this,arguments)};function r3(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Ane(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var yf="right-scroll-bar-position",xf="width-before-scroll-bar",Nne="with-scroll-bars-hidden",Pne="--removed-body-scroll-bar-size";function Bb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function _ne(e,t){var r=z.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var One=typeof window<"u"?z.useLayoutEffect:z.useEffect,DO=new WeakMap;function Ene(e,t){var r=_ne(null,function(n){return e.forEach(function(i){return Bb(i,n)})});return One(function(){var n=DO.get(r);if(n){var i=new Set(n),o=new Set(e),l=r.current;i.forEach(function(u){o.has(u)||Bb(u,null)}),o.forEach(function(u){i.has(u)||Bb(u,l)})}DO.set(r,e)},[e]),r}function Tne(e){return e}function Dne(e,t){t===void 0&&(t=Tne);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var l=t(o,n);return r.push(l),function(){r=r.filter(function(u){return u!==l})}},assignSyncMedium:function(o){for(n=!0;r.length;){var l=r;r=[],l.forEach(o)}r={push:function(u){return o(u)},filter:function(){return r}}},assignMedium:function(o){n=!0;var l=[];if(r.length){var u=r;r=[],u.forEach(o),l=r}var d=function(){var v=l;l=[],v.forEach(o)},f=function(){return Promise.resolve().then(d)};f(),r={push:function(v){l.push(v),f()},filter:function(v){return l=l.filter(v),r}}}};return i}function Rne(e){e===void 0&&(e={});var t=Dne(null);return t.options=na({async:!0,ssr:!1},e),t}var n3=function(e){var t=e.sideCar,r=r3(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return z.createElement(n,na({},r))};n3.isSideCarExport=!0;function Ine(e,t){return e.useMedium(t),n3}var a3=Rne(),Fb=function(){},Ch=z.forwardRef(function(e,t){var r=z.useRef(null),n=z.useState({onScrollCapture:Fb,onWheelCapture:Fb,onTouchMoveCapture:Fb}),i=n[0],o=n[1],l=e.forwardProps,u=e.children,d=e.className,f=e.removeScrollBar,v=e.enabled,h=e.shards,m=e.sideCar,b=e.noRelative,j=e.noIsolation,x=e.inert,y=e.allowPinchZoom,w=e.as,k=w===void 0?"div":w,S=e.gapMode,N=r3(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=m,O=Ene([r,t]),_=na(na({},N),i);return z.createElement(z.Fragment,null,v&&z.createElement(A,{sideCar:a3,removeScrollBar:f,shards:h,noRelative:b,noIsolation:j,inert:x,setCallbacks:o,allowPinchZoom:!!y,lockRef:r,gapMode:S}),l?z.cloneElement(z.Children.only(u),na(na({},_),{ref:O})):z.createElement(k,na({},_,{className:d,ref:O}),u))});Ch.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ch.classNames={fullWidth:xf,zeroRight:yf};var Mne=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Lne(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Mne();return t&&e.setAttribute("nonce",t),e}function Bne(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Fne(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Wne=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Lne())&&(Bne(t,r),Fne(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},$ne=function(){var e=Wne();return function(t,r){z.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},i3=function(){var e=$ne(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},Une={left:0,top:0,right:0,gap:0},Wb=function(e){return parseInt(e||"",10)||0},Hne=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Wb(r),Wb(n),Wb(i)]},Kne=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Une;var t=Hne(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Gne=i3(),_s="data-scroll-locked",Vne=function(e,t,r,n){var i=e.left,o=e.top,l=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Nne,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(_s,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yf,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(xf,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(yf," .").concat(yf,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(xf," .").concat(xf,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(_s,`] {
    `).concat(Pne,": ").concat(u,`px;
  }
`)},RO=function(){var e=parseInt(document.body.getAttribute(_s)||"0",10);return isFinite(e)?e:0},qne=function(){z.useEffect(function(){return document.body.setAttribute(_s,(RO()+1).toString()),function(){var e=RO()-1;e<=0?document.body.removeAttribute(_s):document.body.setAttribute(_s,e.toString())}},[])},Zne=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;qne();var o=z.useMemo(function(){return Kne(i)},[i]);return z.createElement(Gne,{styles:Vne(o,!t,i,r?"":"!important")})},CS=!1;if(typeof window<"u")try{var uf=Object.defineProperty({},"passive",{get:function(){return CS=!0,!0}});window.addEventListener("test",uf,uf),window.removeEventListener("test",uf,uf)}catch{CS=!1}var gs=CS?{passive:!1}:!1,Xne=function(e){return e.tagName==="TEXTAREA"},o3=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Xne(e)&&r[t]==="visible")},Yne=function(e){return o3(e,"overflowY")},Qne=function(e){return o3(e,"overflowX")},IO=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=s3(e,n);if(i){var o=l3(e,n),l=o[1],u=o[2];if(l>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Jne=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},eae=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},s3=function(e,t){return e==="v"?Yne(t):Qne(t)},l3=function(e,t){return e==="v"?Jne(t):eae(t)},tae=function(e,t){return e==="h"&&t==="rtl"?-1:1},rae=function(e,t,r,n,i){var o=tae(e,window.getComputedStyle(t).direction),l=o*n,u=r.target,d=t.contains(u),f=!1,v=l>0,h=0,m=0;do{if(!u)break;var b=l3(e,u),j=b[0],x=b[1],y=b[2],w=x-y-o*j;(j||w)&&s3(e,u)&&(h+=w,m+=j);var k=u.parentNode;u=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(v&&Math.abs(h)<1||!v&&Math.abs(m)<1)&&(f=!0),f},df=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},MO=function(e){return[e.deltaX,e.deltaY]},LO=function(e){return e&&"current"in e?e.current:e},nae=function(e,t){return e[0]===t[0]&&e[1]===t[1]},aae=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},iae=0,ys=[];function oae(e){var t=z.useRef([]),r=z.useRef([0,0]),n=z.useRef(),i=z.useState(iae++)[0],o=z.useState(i3)[0],l=z.useRef(e);z.useEffect(function(){l.current=e},[e]),z.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var x=Ane([e.lockRef.current],(e.shards||[]).map(LO),!0).filter(Boolean);return x.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=z.useCallback(function(x,y){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!l.current.allowPinchZoom;var w=df(x),k=r.current,S="deltaX"in x?x.deltaX:k[0]-w[0],N="deltaY"in x?x.deltaY:k[1]-w[1],A,O=x.target,_=Math.abs(S)>Math.abs(N)?"h":"v";if("touches"in x&&_==="h"&&O.type==="range")return!1;var T=window.getSelection(),E=T&&T.anchorNode,D=E?E===O||E.contains(O):!1;if(D)return!1;var M=IO(_,O);if(!M)return!0;if(M?A=_:(A=_==="v"?"h":"v",M=IO(_,O)),!M)return!1;if(!n.current&&"changedTouches"in x&&(S||N)&&(n.current=A),!A)return!0;var F=n.current||A;return rae(F,y,x,F==="h"?S:N)},[]),d=z.useCallback(function(x){var y=x;if(!(!ys.length||ys[ys.length-1]!==o)){var w="deltaY"in y?MO(y):df(y),k=t.current.filter(function(A){return A.name===y.type&&(A.target===y.target||y.target===A.shadowParent)&&nae(A.delta,w)})[0];if(k&&k.should){y.cancelable&&y.preventDefault();return}if(!k){var S=(l.current.shards||[]).map(LO).filter(Boolean).filter(function(A){return A.contains(y.target)}),N=S.length>0?u(y,S[0]):!l.current.noIsolation;N&&y.cancelable&&y.preventDefault()}}},[]),f=z.useCallback(function(x,y,w,k){var S={name:x,delta:y,target:w,should:k,shadowParent:sae(w)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(N){return N!==S})},1)},[]),v=z.useCallback(function(x){r.current=df(x),n.current=void 0},[]),h=z.useCallback(function(x){f(x.type,MO(x),x.target,u(x,e.lockRef.current))},[]),m=z.useCallback(function(x){f(x.type,df(x),x.target,u(x,e.lockRef.current))},[]);z.useEffect(function(){return ys.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",d,gs),document.addEventListener("touchmove",d,gs),document.addEventListener("touchstart",v,gs),function(){ys=ys.filter(function(x){return x!==o}),document.removeEventListener("wheel",d,gs),document.removeEventListener("touchmove",d,gs),document.removeEventListener("touchstart",v,gs)}},[]);var b=e.removeScrollBar,j=e.inert;return z.createElement(z.Fragment,null,j?z.createElement(o,{styles:aae(i)}):null,b?z.createElement(Zne,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function sae(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const lae=Ine(a3,oae);var aw=z.forwardRef(function(e,t){return z.createElement(Ch,na({},e,{ref:t,sideCar:lae}))});aw.classNames=Ch.classNames;var cae=[" ","Enter","ArrowUp","ArrowDown"],uae=[" ","Enter"],Ao="Select",[zh,Ah,dae]=zI(Ao),[Al]=Ro(Ao,[dae,HI]),Nh=HI(),[fae,Bi]=Al(Ao),[pae,hae]=Al(Ao),c3=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:o,value:l,defaultValue:u,onValueChange:d,dir:f,name:v,autoComplete:h,disabled:m,required:b,form:j}=e,x=Nh(t),[y,w]=z.useState(null),[k,S]=z.useState(null),[N,A]=z.useState(!1),O=G1(f),[_,T]=sl({prop:n,defaultProp:i??!1,onChange:o,caller:Ao}),[E,D]=sl({prop:l,defaultProp:u,onChange:d,caller:Ao}),M=z.useRef(null),F=y?j||!!y.closest("form"):!0,[L,V]=z.useState(new Set),H=Array.from(L).map(Z=>Z.props.value).join(";");return a.jsx(dne,{...x,children:a.jsxs(fae,{required:b,scope:t,trigger:y,onTriggerChange:w,valueNode:k,onValueNodeChange:S,valueNodeHasChildren:N,onValueNodeHasChildrenChange:A,contentId:Ai(),value:E,onValueChange:D,open:_,onOpenChange:T,dir:O,triggerPointerDownPosRef:M,disabled:m,children:[a.jsx(zh.Provider,{scope:t,children:a.jsx(pae,{scope:e.__scopeSelect,onNativeOptionAdd:z.useCallback(Z=>{V(Y=>new Set(Y).add(Z))},[]),onNativeOptionRemove:z.useCallback(Z=>{V(Y=>{const U=new Set(Y);return U.delete(Z),U})},[]),children:r})}),F?a.jsxs(O3,{"aria-hidden":!0,required:b,tabIndex:-1,name:v,autoComplete:h,value:E,onChange:Z=>D(Z.target.value),disabled:m,form:j,children:[E===void 0?a.jsx("option",{value:""}):null,Array.from(L)]},H):null]})})};c3.displayName=Ao;var u3="SelectTrigger",d3=z.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,o=Nh(r),l=Bi(u3,r),u=l.disabled||n,d=Mt(t,l.onTriggerChange),f=Ah(r),v=z.useRef("touch"),[h,m,b]=T3(x=>{const y=f().filter(S=>!S.disabled),w=y.find(S=>S.value===l.value),k=D3(y,x,w);k!==void 0&&l.onValueChange(k.value)}),j=x=>{u||(l.onOpenChange(!0),b()),x&&(l.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx(fne,{asChild:!0,...o,children:a.jsx(Je.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":E3(l.value)?"":void 0,...i,ref:d,onClick:Xe(i.onClick,x=>{x.currentTarget.focus(),v.current!=="mouse"&&j(x)}),onPointerDown:Xe(i.onPointerDown,x=>{v.current=x.pointerType;const y=x.target;y.hasPointerCapture(x.pointerId)&&y.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(j(x),x.preventDefault())}),onKeyDown:Xe(i.onKeyDown,x=>{const y=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(y&&x.key===" ")&&cae.includes(x.key)&&(j(),x.preventDefault())})})})});d3.displayName=u3;var f3="SelectValue",p3=z.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:o,placeholder:l="",...u}=e,d=Bi(f3,r),{onValueNodeHasChildrenChange:f}=d,v=o!==void 0,h=Mt(t,d.onValueNodeChange);return Pr(()=>{f(v)},[f,v]),a.jsx(Je.span,{...u,ref:h,style:{pointerEvents:"none"},children:E3(d.value)?a.jsx(a.Fragment,{children:l}):o})});p3.displayName=f3;var vae="SelectIcon",h3=z.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return a.jsx(Je.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});h3.displayName=vae;var mae="SelectPortal",v3=e=>a.jsx(nw,{asChild:!0,...e});v3.displayName=mae;var No="SelectContent",m3=z.forwardRef((e,t)=>{const r=Bi(No,e.__scopeSelect),[n,i]=z.useState();if(Pr(()=>{i(new DocumentFragment)},[]),!r.open){const o=n;return o?zu.createPortal(a.jsx(g3,{scope:e.__scopeSelect,children:a.jsx(zh.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(y3,{...e,ref:t})});m3.displayName=No;var Fn=10,[g3,Fi]=Al(No),gae="SelectContentImpl",yae=mne("SelectContent.RemoveScroll"),y3=z.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:l,side:u,sideOffset:d,align:f,alignOffset:v,arrowPadding:h,collisionBoundary:m,collisionPadding:b,sticky:j,hideWhenDetached:x,avoidCollisions:y,...w}=e,k=Bi(No,r),[S,N]=z.useState(null),[A,O]=z.useState(null),_=Mt(t,re=>N(re)),[T,E]=z.useState(null),[D,M]=z.useState(null),F=Ah(r),[L,V]=z.useState(!1),H=z.useRef(!1);z.useEffect(()=>{if(S)return t3(S)},[S]),PI();const Z=z.useCallback(re=>{const[xe,...ae]=F().map(le=>le.ref.current),[pe]=ae.slice(-1),Se=document.activeElement;for(const le of re)if(le===Se||(le?.scrollIntoView({block:"nearest"}),le===xe&&A&&(A.scrollTop=0),le===pe&&A&&(A.scrollTop=A.scrollHeight),le?.focus(),document.activeElement!==Se))return},[F,A]),Y=z.useCallback(()=>Z([T,S]),[Z,T,S]);z.useEffect(()=>{L&&Y()},[L,Y]);const{onOpenChange:U,triggerPointerDownPosRef:B}=k;z.useEffect(()=>{if(S){let re={x:0,y:0};const xe=pe=>{re={x:Math.abs(Math.round(pe.pageX)-(B.current?.x??0)),y:Math.abs(Math.round(pe.pageY)-(B.current?.y??0))}},ae=pe=>{re.x<=10&&re.y<=10?pe.preventDefault():S.contains(pe.target)||U(!1),document.removeEventListener("pointermove",xe),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",ae,{capture:!0})}}},[S,U,B]),z.useEffect(()=>{const re=()=>U(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[U]);const[W,$]=T3(re=>{const xe=F().filter(Se=>!Se.disabled),ae=xe.find(Se=>Se.ref.current===document.activeElement),pe=D3(xe,re,ae);pe&&setTimeout(()=>pe.ref.current.focus())}),q=z.useCallback((re,xe,ae)=>{const pe=!H.current&&!ae;(k.value!==void 0&&k.value===xe||pe)&&(E(re),pe&&(H.current=!0))},[k.value]),oe=z.useCallback(()=>S?.focus(),[S]),fe=z.useCallback((re,xe,ae)=>{const pe=!H.current&&!ae;(k.value!==void 0&&k.value===xe||pe)&&M(re)},[k.value]),ye=n==="popper"?zS:x3,se=ye===zS?{side:u,sideOffset:d,align:f,alignOffset:v,arrowPadding:h,collisionBoundary:m,collisionPadding:b,sticky:j,hideWhenDetached:x,avoidCollisions:y}:{};return a.jsx(g3,{scope:r,content:S,viewport:A,onViewportChange:O,itemRefCallback:q,selectedItem:T,onItemLeave:oe,itemTextRefCallback:fe,focusSelectedItem:Y,selectedItemText:D,position:n,isPositioned:L,searchRef:W,children:a.jsx(aw,{as:yae,allowPinchZoom:!0,children:a.jsx(q1,{asChild:!0,trapped:k.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:Xe(i,re=>{k.trigger?.focus({preventScroll:!0}),re.preventDefault()}),children:a.jsx(V1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:a.jsx(ye,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:re=>re.preventDefault(),...w,...se,onPlaced:()=>V(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Xe(w.onKeyDown,re=>{const xe=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!xe&&re.key.length===1&&$(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let pe=F().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);if(["ArrowUp","End"].includes(re.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const Se=re.target,le=pe.indexOf(Se);pe=pe.slice(le+1)}setTimeout(()=>Z(pe)),re.preventDefault()}})})})})})})});y3.displayName=gae;var xae="SelectItemAlignedPosition",x3=z.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,o=Bi(No,r),l=Fi(No,r),[u,d]=z.useState(null),[f,v]=z.useState(null),h=Mt(t,_=>v(_)),m=Ah(r),b=z.useRef(!1),j=z.useRef(!0),{viewport:x,selectedItem:y,selectedItemText:w,focusSelectedItem:k}=l,S=z.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&f&&x&&y&&w){const _=o.trigger.getBoundingClientRect(),T=f.getBoundingClientRect(),E=o.valueNode.getBoundingClientRect(),D=w.getBoundingClientRect();if(o.dir!=="rtl"){const Se=D.left-T.left,le=E.left-Se,Be=_.left-le,De=_.width+Be,Ye=Math.max(De,T.width),tt=window.innerWidth-Fn,Qe=hO(le,[Fn,Math.max(Fn,tt-Ye)]);u.style.minWidth=De+"px",u.style.left=Qe+"px"}else{const Se=T.right-D.right,le=window.innerWidth-E.right-Se,Be=window.innerWidth-_.right-le,De=_.width+Be,Ye=Math.max(De,T.width),tt=window.innerWidth-Fn,Qe=hO(le,[Fn,Math.max(Fn,tt-Ye)]);u.style.minWidth=De+"px",u.style.right=Qe+"px"}const M=m(),F=window.innerHeight-Fn*2,L=x.scrollHeight,V=window.getComputedStyle(f),H=parseInt(V.borderTopWidth,10),Z=parseInt(V.paddingTop,10),Y=parseInt(V.borderBottomWidth,10),U=parseInt(V.paddingBottom,10),B=H+Z+L+U+Y,W=Math.min(y.offsetHeight*5,B),$=window.getComputedStyle(x),q=parseInt($.paddingTop,10),oe=parseInt($.paddingBottom,10),fe=_.top+_.height/2-Fn,ye=F-fe,se=y.offsetHeight/2,re=y.offsetTop+se,xe=H+Z+re,ae=B-xe;if(xe<=fe){const Se=M.length>0&&y===M[M.length-1].ref.current;u.style.bottom="0px";const le=f.clientHeight-x.offsetTop-x.offsetHeight,Be=Math.max(ye,se+(Se?oe:0)+le+Y),De=xe+Be;u.style.height=De+"px"}else{const Se=M.length>0&&y===M[0].ref.current;u.style.top="0px";const Be=Math.max(fe,H+x.offsetTop+(Se?q:0)+se)+ae;u.style.height=Be+"px",x.scrollTop=xe-fe+x.offsetTop}u.style.margin=`${Fn}px 0`,u.style.minHeight=W+"px",u.style.maxHeight=F+"px",n?.(),requestAnimationFrame(()=>b.current=!0)}},[m,o.trigger,o.valueNode,u,f,x,y,w,o.dir,n]);Pr(()=>S(),[S]);const[N,A]=z.useState();Pr(()=>{f&&A(window.getComputedStyle(f).zIndex)},[f]);const O=z.useCallback(_=>{_&&j.current===!0&&(S(),k?.(),j.current=!1)},[S,k]);return a.jsx(Sae,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:b,onScrollButtonChange:O,children:a.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:a.jsx(Je.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});x3.displayName=xae;var bae="SelectPopperPosition",zS=z.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Fn,...o}=e,l=Nh(r);return a.jsx(pne,{...l,...o,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zS.displayName=bae;var[Sae,iw]=Al(No,{}),AS="SelectViewport",b3=z.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,o=Fi(AS,r),l=iw(AS,r),u=Mt(t,o.onViewportChange),d=z.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(zh.Slot,{scope:r,children:a.jsx(Je.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Xe(i.onScroll,f=>{const v=f.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=l;if(m?.current&&h){const b=Math.abs(d.current-v.scrollTop);if(b>0){const j=window.innerHeight-Fn*2,x=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),w=Math.max(x,y);if(w<j){const k=w+b,S=Math.min(j,k),N=k-S;h.style.height=S+"px",h.style.bottom==="0px"&&(v.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}d.current=v.scrollTop})})})]})});b3.displayName=AS;var S3="SelectGroup",[wae,jae]=Al(S3),kae=z.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Ai();return a.jsx(wae,{scope:r,id:i,children:a.jsx(Je.div,{role:"group","aria-labelledby":i,...n,ref:t})})});kae.displayName=S3;var w3="SelectLabel",Cae=z.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=jae(w3,r);return a.jsx(Je.div,{id:i.id,...n,ref:t})});Cae.displayName=w3;var Pp="SelectItem",[zae,j3]=Al(Pp),k3=z.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:o,...l}=e,u=Bi(Pp,r),d=Fi(Pp,r),f=u.value===n,[v,h]=z.useState(o??""),[m,b]=z.useState(!1),j=Mt(t,k=>d.itemRefCallback?.(k,n,i)),x=Ai(),y=z.useRef("touch"),w=()=>{i||(u.onValueChange(n),u.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(zae,{scope:r,value:n,disabled:i,textId:x,isSelected:f,onItemTextChange:z.useCallback(k=>{h(S=>S||(k?.textContent??"").trim())},[]),children:a.jsx(zh.ItemSlot,{scope:r,value:n,disabled:i,textValue:v,children:a.jsx(Je.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":f&&m,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:j,onFocus:Xe(l.onFocus,()=>b(!0)),onBlur:Xe(l.onBlur,()=>b(!1)),onClick:Xe(l.onClick,()=>{y.current!=="mouse"&&w()}),onPointerUp:Xe(l.onPointerUp,()=>{y.current==="mouse"&&w()}),onPointerDown:Xe(l.onPointerDown,k=>{y.current=k.pointerType}),onPointerMove:Xe(l.onPointerMove,k=>{y.current=k.pointerType,i?d.onItemLeave?.():y.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Xe(l.onPointerLeave,k=>{k.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Xe(l.onKeyDown,k=>{d.searchRef?.current!==""&&k.key===" "||(uae.includes(k.key)&&w(),k.key===" "&&k.preventDefault())})})})})});k3.displayName=Pp;var Cc="SelectItemText",C3=z.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...o}=e,l=Bi(Cc,r),u=Fi(Cc,r),d=j3(Cc,r),f=hae(Cc,r),[v,h]=z.useState(null),m=Mt(t,w=>h(w),d.onItemTextChange,w=>u.itemTextRefCallback?.(w,d.value,d.disabled)),b=v?.textContent,j=z.useMemo(()=>a.jsx("option",{value:d.value,disabled:d.disabled,children:b},d.value),[d.disabled,d.value,b]),{onNativeOptionAdd:x,onNativeOptionRemove:y}=f;return Pr(()=>(x(j),()=>y(j)),[x,y,j]),a.jsxs(a.Fragment,{children:[a.jsx(Je.span,{id:d.textId,...o,ref:m}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?zu.createPortal(o.children,l.valueNode):null]})});C3.displayName=Cc;var z3="SelectItemIndicator",A3=z.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return j3(z3,r).isSelected?a.jsx(Je.span,{"aria-hidden":!0,...n,ref:t}):null});A3.displayName=z3;var NS="SelectScrollUpButton",N3=z.forwardRef((e,t)=>{const r=Fi(NS,e.__scopeSelect),n=iw(NS,e.__scopeSelect),[i,o]=z.useState(!1),l=Mt(t,n.onScrollButtonChange);return Pr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollTop>0;o(f)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?a.jsx(_3,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});N3.displayName=NS;var PS="SelectScrollDownButton",P3=z.forwardRef((e,t)=>{const r=Fi(PS,e.__scopeSelect),n=iw(PS,e.__scopeSelect),[i,o]=z.useState(!1),l=Mt(t,n.onScrollButtonChange);return Pr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollHeight-d.clientHeight,v=Math.ceil(d.scrollTop)<f;o(v)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?a.jsx(_3,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});P3.displayName=PS;var _3=z.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,o=Fi("SelectScrollButton",r),l=z.useRef(null),u=Ah(r),d=z.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return z.useEffect(()=>()=>d(),[d]),Pr(()=>{u().find(v=>v.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),a.jsx(Je.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Xe(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:Xe(i.onPointerMove,()=>{o.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:Xe(i.onPointerLeave,()=>{d()})})}),Aae="SelectSeparator",Nae=z.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Je.div,{"aria-hidden":!0,...n,ref:t})});Nae.displayName=Aae;var _S="SelectArrow",Pae=z.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Nh(r),o=Bi(_S,r),l=Fi(_S,r);return o.open&&l.position==="popper"?a.jsx(hne,{...i,...n,ref:t}):null});Pae.displayName=_S;var _ae="SelectBubbleInput",O3=z.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=z.useRef(null),o=Mt(n,i),l=nI(t);return z.useEffect(()=>{const u=i.current;if(!u)return;const d=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&v){const h=new Event("change",{bubbles:!0});v.call(u,t),u.dispatchEvent(h)}},[l,t]),a.jsx(Je.select,{...r,style:{...JI,...r.style},ref:o,defaultValue:t})});O3.displayName=_ae;function E3(e){return e===""||e===void 0}function T3(e){const t=Oi(e),r=z.useRef(""),n=z.useRef(0),i=z.useCallback(l=>{const u=r.current+l;t(u),(function d(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(u)},[t]),o=z.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return z.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,o]}function D3(e,t,r){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let l=Oae(e,Math.max(o,0));i.length===1&&(l=l.filter(f=>f!==r));const d=l.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==r?d:void 0}function Oae(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Eae=c3,Tae=d3,Dae=p3,Rae=h3,Iae=v3,Mae=m3,Lae=b3,Bae=k3,Fae=C3,Wae=A3,$ae=N3,Uae=P3;function OS({...e}){return a.jsx(Eae,{"data-slot":"select",...e})}function ES({...e}){return a.jsx(Dae,{"data-slot":"select-value",...e})}function TS({className:e,size:t="default",children:r,...n}){return a.jsxs(Tae,{"data-slot":"select-trigger","data-size":t,className:$t("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,a.jsx(Rae,{asChild:!0,children:a.jsx(_o,{className:"size-4 opacity-50"})})]})}function DS({className:e,children:t,position:r="popper",...n}){return a.jsx(Iae,{children:a.jsxs(Mae,{"data-slot":"select-content",className:$t("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(Hae,{}),a.jsx(Lae,{className:$t("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),a.jsx(Kae,{})]})})}function go({className:e,children:t,...r}){return a.jsxs(Bae,{"data-slot":"select-item",className:$t("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx(Wae,{children:a.jsx(Ka,{className:"size-4"})})}),a.jsx(Fae,{children:t})]})}function Hae({className:e,...t}){return a.jsx($ae,{"data-slot":"select-scroll-up-button",className:$t("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(uE,{className:"size-4"})})}function Kae({className:e,...t}){return a.jsx(Uae,{"data-slot":"select-scroll-down-button",className:$t("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(_o,{className:"size-4"})})}var Gae=Symbol.for("react.lazy"),_p=MS[" use ".trim().toString()];function Vae(e){return typeof e=="object"&&e!==null&&"then"in e}function R3(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Gae&&"_payload"in e&&Vae(e._payload)}function qae(e){const t=Zae(e),r=z.forwardRef((n,i)=>{let{children:o,...l}=n;R3(o)&&typeof _p=="function"&&(o=_p(o._payload));const u=z.Children.toArray(o),d=u.find(Yae);if(d){const f=d.props.children,v=u.map(h=>h===d?z.Children.count(f)>1?z.Children.only(null):z.isValidElement(f)?f.props.children:null:h);return a.jsx(t,{...l,ref:i,children:z.isValidElement(f)?z.cloneElement(f,void 0,v):null})}return a.jsx(t,{...l,ref:i,children:o})});return r.displayName=`${e}.Slot`,r}var I3=qae("Slot");function Zae(e){const t=z.forwardRef((r,n)=>{let{children:i,...o}=r;if(R3(i)&&typeof _p=="function"&&(i=_p(i._payload)),z.isValidElement(i)){const l=Jae(i),u=Qae(o,i.props);return i.type!==z.Fragment&&(u.ref=n?Sl(n,l):l),z.cloneElement(i,u)}return z.Children.count(i)>1?z.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Xae=Symbol("radix.slottable");function Yae(e){return z.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Xae}function Qae(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function Jae(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const BO=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,FO=Ue,M3=(e,t)=>r=>{var n;if(t?.variants==null)return FO(e,r?.class,r?.className);const{variants:i,defaultVariants:o}=t,l=Object.keys(i).map(f=>{const v=r?.[f],h=o?.[f];if(v===null)return null;const m=BO(v)||BO(h);return i[f][m]}),u=r&&Object.entries(r).reduce((f,v)=>{let[h,m]=v;return m===void 0||(f[h]=m),f},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,v)=>{let{class:h,className:m,...b}=v;return Object.entries(b).every(j=>{let[x,y]=j;return Array.isArray(y)?y.includes({...o,...u}[x]):{...o,...u}[x]===y})?[...f,h,m]:f},[]);return FO(e,l,d,r?.class,r?.className)},eie=M3("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Bn({className:e,variant:t,size:r,asChild:n=!1,...i}){const o=n?I3:"button";return a.jsx(o,{"data-slot":"button",className:$t(eie({variant:t,size:r,className:e})),...i})}const tie=M3("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function L3({className:e,variant:t,asChild:r=!1,...n}){const i=r?I3:"span";return a.jsx(i,{"data-slot":"badge",className:$t(tie({variant:t}),e),...n})}function rie(e){const t=nie(e),r=z.forwardRef((n,i)=>{const{children:o,...l}=n,u=z.Children.toArray(o),d=u.find(iie);if(d){const f=d.props.children,v=u.map(h=>h===d?z.Children.count(f)>1?z.Children.only(null):z.isValidElement(f)?f.props.children:null:h);return a.jsx(t,{...l,ref:i,children:z.isValidElement(f)?z.cloneElement(f,void 0,v):null})}return a.jsx(t,{...l,ref:i,children:o})});return r.displayName=`${e}.Slot`,r}function nie(e){const t=z.forwardRef((r,n)=>{const{children:i,...o}=r;if(z.isValidElement(i)){const l=sie(i),u=oie(o,i.props);return i.type!==z.Fragment&&(u.ref=n?Sl(n,l):l),z.cloneElement(i,u)}return z.Children.count(i)>1?z.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var aie=Symbol("radix.slottable");function iie(e){return z.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===aie}function oie(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function sie(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ph="Dialog",[B3]=Ro(Ph),[lie,Xn]=B3(Ph),F3=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,u=z.useRef(null),d=z.useRef(null),[f,v]=sl({prop:n,defaultProp:i??!1,onChange:o,caller:Ph});return a.jsx(lie,{scope:t,triggerRef:u,contentRef:d,contentId:Ai(),titleId:Ai(),descriptionId:Ai(),open:f,onOpenChange:v,onOpenToggle:z.useCallback(()=>v(h=>!h),[v]),modal:l,children:r})};F3.displayName=Ph;var W3="DialogTrigger",cie=z.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Xn(W3,r),o=Mt(t,i.triggerRef);return a.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":lw(i.open),...n,ref:o,onClick:Xe(e.onClick,i.onOpenToggle)})});cie.displayName=W3;var ow="DialogPortal",[uie,$3]=B3(ow,{forceMount:void 0}),U3=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,o=Xn(ow,t);return a.jsx(uie,{scope:t,forceMount:r,children:z.Children.map(n,l=>a.jsx(wl,{present:r||o.open,children:a.jsx(nw,{asChild:!0,container:i,children:l})}))})};U3.displayName=ow;var Op="DialogOverlay",H3=z.forwardRef((e,t)=>{const r=$3(Op,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,o=Xn(Op,e.__scopeDialog);return o.modal?a.jsx(wl,{present:n||o.open,children:a.jsx(fie,{...i,ref:t})}):null});H3.displayName=Op;var die=rie("DialogOverlay.RemoveScroll"),fie=z.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Xn(Op,r);return a.jsx(aw,{as:die,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(Je.div,{"data-state":lw(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Po="DialogContent",K3=z.forwardRef((e,t)=>{const r=$3(Po,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,o=Xn(Po,e.__scopeDialog);return a.jsx(wl,{present:n||o.open,children:o.modal?a.jsx(pie,{...i,ref:t}):a.jsx(hie,{...i,ref:t})})});K3.displayName=Po;var pie=z.forwardRef((e,t)=>{const r=Xn(Po,e.__scopeDialog),n=z.useRef(null),i=Mt(t,r.contentRef,n);return z.useEffect(()=>{const o=n.current;if(o)return t3(o)},[]),a.jsx(G3,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Xe(e.onCloseAutoFocus,o=>{o.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Xe(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&o.preventDefault()}),onFocusOutside:Xe(e.onFocusOutside,o=>o.preventDefault())})}),hie=z.forwardRef((e,t)=>{const r=Xn(Po,e.__scopeDialog),n=z.useRef(!1),i=z.useRef(!1);return a.jsx(G3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;r.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),G3=z.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,...l}=e,u=Xn(Po,r),d=z.useRef(null),f=Mt(t,d);return PI(),a.jsxs(a.Fragment,{children:[a.jsx(q1,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:a.jsx(V1,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":lw(u.open),...l,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(vie,{titleId:u.titleId}),a.jsx(gie,{contentRef:d,descriptionId:u.descriptionId})]})]})}),sw="DialogTitle",V3=z.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Xn(sw,r);return a.jsx(Je.h2,{id:i.titleId,...n,ref:t})});V3.displayName=sw;var q3="DialogDescription",Z3=z.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Xn(q3,r);return a.jsx(Je.p,{id:i.descriptionId,...n,ref:t})});Z3.displayName=q3;var X3="DialogClose",Y3=z.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Xn(X3,r);return a.jsx(Je.button,{type:"button",...n,ref:t,onClick:Xe(e.onClick,()=>i.onOpenChange(!1))})});Y3.displayName=X3;function lw(e){return e?"open":"closed"}var Q3="DialogTitleWarning",[Hoe,J3]=$J(Q3,{contentName:Po,titleName:sw,docsSlug:"dialog"}),vie=({titleId:e})=>{const t=J3(Q3),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return z.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},mie="DialogDescriptionWarning",gie=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${J3(mie).contentName}}.`;return z.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},yie=F3,xie=U3,e5=H3,bie=K3,Sie=V3,wie=Z3,jie=Y3;function WO({...e}){return a.jsx(yie,{"data-slot":"dialog",...e})}function kie({...e}){return a.jsx(xie,{"data-slot":"dialog-portal",...e})}const t5=z.forwardRef(({className:e,...t},r)=>a.jsx(e5,{ref:r,"data-slot":"dialog-overlay",className:$t("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));t5.displayName=e5.displayName;function $O({className:e,children:t,...r}){return a.jsxs(kie,{"data-slot":"dialog-portal",children:[a.jsx(t5,{}),a.jsxs(bie,{"data-slot":"dialog-content",className:$t("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,a.jsxs(jie,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(Et,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function UO({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-header",className:$t("flex flex-col gap-2 text-center sm:text-left",e),...t})}function HO({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-footer",className:$t("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function KO({className:e,...t}){return a.jsx(Sie,{"data-slot":"dialog-title",className:$t("text-lg leading-none font-semibold",e),...t})}function GO({className:e,...t}){return a.jsx(wie,{"data-slot":"dialog-description",className:$t("text-muted-foreground text-sm",e),...t})}var $b="rovingFocusGroup.onEntryFocus",Cie={bubbles:!1,cancelable:!0},_u="RovingFocusGroup",[RS,r5,zie]=zI(_u),[Aie,n5]=Ro(_u,[zie]),[Nie,Pie]=Aie(_u),a5=z.forwardRef((e,t)=>a.jsx(RS.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(RS.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(_ie,{...e,ref:t})})}));a5.displayName=_u;var _ie=z.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:v=!1,...h}=e,m=z.useRef(null),b=Mt(t,m),j=G1(o),[x,y]=sl({prop:l,defaultProp:u??null,onChange:d,caller:_u}),[w,k]=z.useState(!1),S=Oi(f),N=r5(r),A=z.useRef(!1),[O,_]=z.useState(0);return z.useEffect(()=>{const T=m.current;if(T)return T.addEventListener($b,S),()=>T.removeEventListener($b,S)},[S]),a.jsx(Nie,{scope:r,orientation:n,dir:j,loop:i,currentTabStopId:x,onItemFocus:z.useCallback(T=>y(T),[y]),onItemShiftTab:z.useCallback(()=>k(!0),[]),onFocusableItemAdd:z.useCallback(()=>_(T=>T+1),[]),onFocusableItemRemove:z.useCallback(()=>_(T=>T-1),[]),children:a.jsx(Je.div,{tabIndex:w||O===0?-1:0,"data-orientation":n,...h,ref:b,style:{outline:"none",...e.style},onMouseDown:Xe(e.onMouseDown,()=>{A.current=!0}),onFocus:Xe(e.onFocus,T=>{const E=!A.current;if(T.target===T.currentTarget&&E&&!w){const D=new CustomEvent($b,Cie);if(T.currentTarget.dispatchEvent(D),!D.defaultPrevented){const M=N().filter(Z=>Z.focusable),F=M.find(Z=>Z.active),L=M.find(Z=>Z.id===x),H=[F,L,...M].filter(Boolean).map(Z=>Z.ref.current);s5(H,v)}}A.current=!1}),onBlur:Xe(e.onBlur,()=>k(!1))})})}),i5="RovingFocusGroupItem",o5=z.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:o,children:l,...u}=e,d=Ai(),f=o||d,v=Pie(i5,r),h=v.currentTabStopId===f,m=r5(r),{onFocusableItemAdd:b,onFocusableItemRemove:j,currentTabStopId:x}=v;return z.useEffect(()=>{if(n)return b(),()=>j()},[n,b,j]),a.jsx(RS.ItemSlot,{scope:r,id:f,focusable:n,active:i,children:a.jsx(Je.span,{tabIndex:h?0:-1,"data-orientation":v.orientation,...u,ref:t,onMouseDown:Xe(e.onMouseDown,y=>{n?v.onItemFocus(f):y.preventDefault()}),onFocus:Xe(e.onFocus,()=>v.onItemFocus(f)),onKeyDown:Xe(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){v.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const w=Tie(y,v.orientation,v.dir);if(w!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let S=m().filter(N=>N.focusable).map(N=>N.ref.current);if(w==="last")S.reverse();else if(w==="prev"||w==="next"){w==="prev"&&S.reverse();const N=S.indexOf(y.currentTarget);S=v.loop?Die(S,N+1):S.slice(N+1)}setTimeout(()=>s5(S))}}),children:typeof l=="function"?l({isCurrentTabStop:h,hasTabStop:x!=null}):l})})});o5.displayName=i5;var Oie={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Eie(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Tie(e,t,r){const n=Eie(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Oie[n]}function s5(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Die(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Rie=a5,Iie=o5,_h="Tabs",[Mie]=Ro(_h,[n5]),l5=n5(),[Lie,cw]=Mie(_h),c5=z.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:o,orientation:l="horizontal",dir:u,activationMode:d="automatic",...f}=e,v=G1(u),[h,m]=sl({prop:n,onChange:i,defaultProp:o??"",caller:_h});return a.jsx(Lie,{scope:r,baseId:Ai(),value:h,onValueChange:m,orientation:l,dir:v,activationMode:d,children:a.jsx(Je.div,{dir:v,"data-orientation":l,...f,ref:t})})});c5.displayName=_h;var u5="TabsList",d5=z.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,o=cw(u5,r),l=l5(r);return a.jsx(Rie,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:n,children:a.jsx(Je.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})});d5.displayName=u5;var f5="TabsTrigger",p5=z.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...o}=e,l=cw(f5,r),u=l5(r),d=m5(l.baseId,n),f=g5(l.baseId,n),v=n===l.value;return a.jsx(Iie,{asChild:!0,...u,focusable:!i,active:v,children:a.jsx(Je.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":f,"data-state":v?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...o,ref:t,onMouseDown:Xe(e.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?l.onValueChange(n):h.preventDefault()}),onKeyDown:Xe(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&l.onValueChange(n)}),onFocus:Xe(e.onFocus,()=>{const h=l.activationMode!=="manual";!v&&!i&&h&&l.onValueChange(n)})})})});p5.displayName=f5;var h5="TabsContent",v5=z.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:o,...l}=e,u=cw(h5,r),d=m5(u.baseId,n),f=g5(u.baseId,n),v=n===u.value,h=z.useRef(v);return z.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(wl,{present:i||v,children:({present:m})=>a.jsx(Je.div,{"data-state":v?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!m,id:f,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&o})})});v5.displayName=h5;function m5(e,t){return`${e}-trigger-${t}`}function g5(e,t){return`${e}-content-${t}`}var Bie=c5,Fie=d5,Wie=p5,$ie=v5;function Uie({className:e,...t}){return a.jsx(Bie,{"data-slot":"tabs",className:$t("flex flex-col gap-2",e),...t})}function Hie({className:e,...t}){return a.jsx(Fie,{"data-slot":"tabs-list",className:$t("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function VO({className:e,...t}){return a.jsx(Wie,{"data-slot":"tabs-trigger",className:$t("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function qO({className:e,...t}){return a.jsx($ie,{"data-slot":"tabs-content",className:$t("flex-1 outline-none",e),...t})}function Kie({...e}){return a.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...e})}function Gie({className:e,...t}){return a.jsx("ol",{"data-slot":"breadcrumb-list",className:$t("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",e),...t})}function ZO({className:e,...t}){return a.jsx("li",{"data-slot":"breadcrumb-item",className:$t("inline-flex items-center gap-1.5",e),...t})}function Vie({className:e,...t}){return a.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:$t("text-foreground font-normal",e),...t})}function qie({children:e,className:t,...r}){return a.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:$t("[&>svg]:size-3.5",t),...r,children:e??a.jsx(cn,{})})}const Dr={Schuhe:"#2563eb",Taschen:"#10b981",Accessoires:"#f59e0b",Mode:"#8b5cf6",Schmuck:"#ec4899",Seasonal:"#06b6d4",Promotion:"#f97316","Core Range":"#6366f1"};function Zie({store:e,placedFixtures:t}){const[r,n]=z.useState(null),[i,o]=z.useState(null),[l,u]=z.useState("product-groups"),d=t.map(w=>{if(w.productGroupDistribution)return w;const k=[],S=w.assignedCategory||"Mode",N=Dr[S]||"#2563eb";return S==="Mode"?k.push({productGroup:"Schuhe",area:w.capacity*.6,percentage:60,color:Dr.Schuhe,targetPercentage:55,deviation:5},{productGroup:"Accessoires",area:w.capacity*.4,percentage:40,color:Dr.Accessoires,targetPercentage:45,deviation:-5}):S==="Accessoires"?k.push({productGroup:"Taschen",area:w.capacity*.5,percentage:50,color:Dr.Taschen,targetPercentage:50,deviation:0},{productGroup:"Accessoires",area:w.capacity*.3,percentage:30,color:Dr.Accessoires,targetPercentage:30,deviation:0},{productGroup:"Schmuck",area:w.capacity*.2,percentage:20,color:Dr.Schmuck,targetPercentage:20,deviation:0}):S==="Seasonal"?k.push({productGroup:"Seasonal",area:w.capacity*.7,percentage:70,color:Dr.Seasonal,targetPercentage:60,deviation:10},{productGroup:"Promotion",area:w.capacity*.3,percentage:30,color:Dr.Promotion,targetPercentage:40,deviation:-10}):S==="Core Range"?k.push({productGroup:"Schuhe",area:w.capacity*.35,percentage:35,color:Dr.Schuhe,targetPercentage:30,deviation:5},{productGroup:"Mode",area:w.capacity*.35,percentage:35,color:Dr.Mode,targetPercentage:40,deviation:-5},{productGroup:"Taschen",area:w.capacity*.3,percentage:30,color:Dr.Taschen,targetPercentage:30,deviation:0}):S==="Schmuck"?k.push({productGroup:"Schmuck",area:w.capacity*.8,percentage:80,color:Dr.Schmuck,targetPercentage:75,deviation:5},{productGroup:"Accessoires",area:w.capacity*.2,percentage:20,color:Dr.Accessoires,targetPercentage:25,deviation:-5}):S==="Promotion"?k.push({productGroup:"Promotion",area:w.capacity*.6,percentage:60,color:Dr.Promotion,targetPercentage:50,deviation:10},{productGroup:"Seasonal",area:w.capacity*.4,percentage:40,color:Dr.Seasonal,targetPercentage:50,deviation:-10}):k.push({productGroup:S,area:w.capacity*1,percentage:100,color:N,targetPercentage:100,deviation:0}),{...w,productGroupDistribution:k}}),f=d.reduce((w,k)=>(k.productGroupDistribution?.forEach(S=>{const N=w.find(A=>A.productGroup===S.productGroup);N?N.area+=S.area:w.push({productGroup:S.productGroup,area:S.area,percentage:0,color:S.color,targetPercentage:S.targetPercentage,deviation:0})}),w),[]),v=f.reduce((w,k)=>w+k.area,0);f.forEach(w=>{w.percentage=v>0?w.area/v*100:0});const h=d.map(w=>{const k=w.productGroupDistribution?.reduce((A,O)=>A+Math.abs(O.deviation||0),0)||0,S=Math.max(...w.productGroupDistribution?.map(A=>Math.abs(A.deviation||0))||[0]),N={name:`${w.fixtureType} ${w.id.substring(0,6)}`,fixtureId:w.id,deviation:S,totalDeviation:k};return w.productGroupDistribution?.forEach(A=>{N[A.productGroup]=A.percentage}),N}).filter(w=>w.deviation>=5).sort((w,k)=>k.deviation-w.deviation).slice(0,10),m=d.reduce((w,k)=>w+k.capacity,0),j=(e.layout?.usableArea||0)-m,x=h.length,y=r?d.find(w=>w.id===r):null;return a.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[a.jsx("div",{className:"p-4 rounded-lg border mb-6",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)"},children:a.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[a.jsxs("div",{className:"flex-1 min-w-[300px]",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Filiale"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:e.name})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Zeitraum"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"KW 50-52, 2024"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Planungsebene"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Produktgruppe"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Datenbasis"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Prognose + Allokation"})]})]}),a.jsx("div",{className:"mt-3 p-2 rounded",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Die Verteilung basiert auf der aktuellen SOLL-Kapazitt und Prognose."})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Belegte Flche"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:[m.toFixed(1)," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Freie Flche"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:j<0?"var(--status-danger)":j<10?"var(--status-warning)":"var(--status-success)"},children:[j.toFixed(1)," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"ber-/Unterdeckung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:Math.abs(j)>10?"var(--status-warning)":"var(--status-success)"},children:[j>0?"+":"",j.toFixed(1)," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Warentrger m. Konflikt"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:x>0?"var(--status-warning)":"var(--status-success)"},children:x})]})]}),a.jsx("div",{className:"flex gap-2 ml-auto",children:a.jsxs(OS,{value:l,onValueChange:w=>u(w),children:[a.jsx(TS,{className:"w-[200px]",children:a.jsx(ES,{})}),a.jsxs(DS,{children:[a.jsx(go,{value:"aggregated",children:"Aggregiert"}),a.jsx(go,{value:"product-groups",children:"Nach Produktgruppen"}),a.jsx(go,{value:"hierarchy",children:"Nach Hierarchieebene"})]})]})})]})}),a.jsxs("div",{className:"flex-1 flex gap-6 min-h-0",children:[a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsxs("div",{className:"relative rounded-lg border flex-1 mb-6 overflow-auto",style:{backgroundColor:"#ffffff",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",minHeight:`${(e.layout?.height||500)+60}px`},children:[a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"linear-gradient(var(--border-subtle) 1px, transparent 1px), linear-gradient(90deg, var(--border-subtle) 1px, transparent 1px)",backgroundSize:"20px 20px"}}),a.jsxs("div",{className:"absolute border-2",style:{left:"20px",top:"20px",width:`${e.layout?.width||700}px`,height:`${(e.layout?.height||500)+20}px`,borderColor:"var(--text-primary)",borderStyle:"solid"},children:[e.layout?.aisles.map((w,k)=>a.jsx("div",{className:"absolute",style:{left:`${w.x}px`,top:`${w.y}px`,width:`${w.width}px`,height:`${w.height}px`,backgroundColor:"#e5e5e5",opacity:.5}},k)),e.layout?.zones.map((w,k)=>a.jsxs("div",{className:"absolute flex items-center justify-center",style:{left:`${w.x}px`,top:`${w.y}px`,width:`${w.width}px`,height:`${w.height}px`,backgroundColor:w.type==="emergency"?"#fee2e2":w.type==="cashier"?"#dbeafe":w.type==="window"?"#fef3c7":"#e0e7ff",border:w.type==="emergency"?"2px solid var(--status-danger)":"1px solid var(--border-default)",borderRadius:"var(--radius-sm)",fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[w.type==="emergency"&&a.jsx("span",{style:{fontSize:"20px"},children:""}),w.type==="cashier"&&a.jsx("span",{style:{fontSize:"20px"},children:""}),w.type==="window"&&a.jsx("span",{style:{fontSize:"20px"},children:""}),w.type==="storage"&&a.jsx("span",{style:{fontSize:"20px"},children:""})]},`zone-${k}`)),d.map(w=>{const k=i===w.id,S=r===w.id;return a.jsxs("div",{className:"absolute cursor-pointer border-2 transition-all overflow-hidden",style:{left:`${w.x}px`,top:`${w.y}px`,width:`${w.rotation%180===90?w.height:w.width}px`,height:`${w.rotation%180===90?w.width:w.height}px`,borderColor:S?"var(--brand-primary)":k?"var(--status-warning)":"var(--border-default)",borderRadius:"var(--radius-sm)",borderWidth:S?"3px":"2px",boxShadow:k?"var(--shadow-md)":void 0},onClick:()=>n(w.id),onMouseEnter:()=>o(w.id),onMouseLeave:()=>o(null),children:[l==="product-groups"&&w.productGroupDistribution&&a.jsx("div",{className:"h-full flex",children:w.productGroupDistribution.map((N,A)=>a.jsx("div",{style:{flex:N.percentage,backgroundColor:N.color,opacity:.7},title:`${N.productGroup}: ${N.percentage.toFixed(0)}%`},A))}),l==="aggregated"&&a.jsx("div",{className:"h-full",style:{backgroundColor:"var(--surface-subtle-tint)"}}),a.jsxs("div",{className:"absolute top-0 right-0 px-1.5 py-0.5 rounded-bl",style:{backgroundColor:"rgba(0, 0, 0, 0.7)",fontSize:"var(--font-size-xs)",color:"white",lineHeight:"1.2"},children:[a.jsx("div",{children:"IST: 100%"}),a.jsx("div",{style:{opacity:.8},children:"SOLL: 100%"})]}),h.some(N=>N.fixtureId===w.id)&&a.jsx("div",{className:"absolute top-0 left-0 p-1",style:{color:"var(--status-warning)"},children:a.jsx(aa,{size:14})})]},w.id)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",height:"350px"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Flchenanteile nach Produktgruppe"}),a.jsx("div",{style:{width:"100%",height:"280px"},children:a.jsx(Zt,{width:"100%",height:280,minWidth:0,minHeight:0,children:a.jsxs(tI,{children:[a.jsx(va,{data:f,cx:"50%",cy:"50%",labelLine:!1,label:w=>`${w.productGroup}: ${w.percentage.toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"area",nameKey:"productGroup",children:f.map((w,k)=>a.jsx(hl,{fill:w.color},`cell-${k}`))}),a.jsx(it,{formatter:w=>`${w.toFixed(1)} m`}),a.jsx(Ct,{})]})})})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",height:"350px"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Warentrgersegmentierung"}),a.jsx("div",{style:{width:"100%",height:"280px"},children:a.jsx(Zt,{width:"100%",height:280,minWidth:0,minHeight:0,children:a.jsxs(Nr,{data:h,layout:"vertical",children:[a.jsx(Hn,{strokeDasharray:"3 3"}),a.jsx(yt,{type:"number",domain:[0,100],ticks:[0,10,20,30,40,50,60,70,80,90,100],label:{value:"%",position:"insideRight"}}),a.jsx(xt,{dataKey:"name",type:"category",width:120,style:{fontSize:"var(--font-size-xs)"}}),a.jsx(it,{formatter:w=>`${w.toFixed(1)}%`}),a.jsx(Ct,{}),f.map(w=>a.jsx(Te,{dataKey:w.productGroup,stackId:"a",fill:w.color},w.productGroup))]})})})]})]}),a.jsxs("div",{className:"rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)"},children:[a.jsx("div",{className:"p-4 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)"},children:"Sortimentsverteilung (Warentrger)"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{backgroundColor:"var(--surface-alt)",borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Warentrger"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Zone"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Kapazitt (m)"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Belegte Flche (m)"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Hauptproduktgruppe"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Offene Flche (m)"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Status"})]})}),a.jsx("tbody",{children:d.map((w,k)=>{const S=w.productGroupDistribution?.[0],N=w.productGroupDistribution?.reduce((_,T)=>_+T.area,0)||0,A=w.capacity-N;let O;return A===0?O="success":A<0?O="danger":O="warning",a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)",backgroundColor:i===w.id?"var(--surface-subtle-tint)":void 0,cursor:"pointer"},onClick:()=>o(w.id),onMouseEnter:()=>o(w.id),onMouseLeave:()=>o(null),children:[a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:w.fixtureType}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:"Verkaufsflche"}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:w.capacity.toFixed(1)}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:N.toFixed(1)}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:S?.productGroup||"-"}),a.jsxs("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:[A>0?"+":"",A.toFixed(1)]}),a.jsx("td",{className:"p-3",children:a.jsx(L3,{variant:O==="success"?"default":"secondary",style:{backgroundColor:O==="danger"?"var(--status-danger)":O==="warning"?"var(--status-warning)":"var(--status-success)",color:"white"},children:O==="success"?"OK":O==="warning"?"Warnung":"Konflikt"})})]},k)})})]})})]}),a.jsxs("div",{className:"mt-4 p-3 rounded-lg border flex items-start gap-3",style:{backgroundColor:"var(--surface-subtle-tint)",borderColor:"var(--border-default)"},children:[a.jsx(aa,{size:20,style:{color:"var(--brand-primary)",flexShrink:0,marginTop:"2px"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"2px"},children:"Bezug zur Kapazittsplanung"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Diese Analyse erklrt, wie sich die gewhlte Artikelhierarchie auf die belegte Flche verteilt. Anpassungen erfolgen ber: SOLL-Kapazitt, Prognose, Allokationsparameter"})]})]})]}),y&&a.jsxs("div",{className:"w-[350px] rounded-lg border p-4 overflow-y-auto",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",maxHeight:"calc(100vh - 300px)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)"},children:"Warentrger  Sortimentsverteilung"}),a.jsx(Bn,{variant:"ghost",size:"sm",onClick:()=>n(null),children:a.jsx(Et,{size:16})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)",textTransform:"uppercase",color:"var(--text-muted)"},children:"Kapazitt"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Kapazitt gesamt"}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[y.capacity.toFixed(1)," m"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Belegte Flche"}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[y.capacity.toFixed(1)," m"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Freie Flche"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"0.0 m"})]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)",textTransform:"uppercase",color:"var(--text-muted)"},children:"Verteilung"}),a.jsx("div",{className:"border rounded",style:{borderColor:"var(--border-default)"},children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{backgroundColor:"var(--surface-alt)",borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{className:"text-left p-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Produktgruppe"}),a.jsx("th",{className:"text-right p-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Flche"}),a.jsx("th",{className:"text-right p-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"IST"}),a.jsx("th",{className:"text-right p-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"SOLL"}),a.jsx("th",{className:"text-right p-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:""})]})}),a.jsx("tbody",{children:y.productGroupDistribution?.map((w,k)=>a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{className:"p-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"2px",backgroundColor:w.color}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:w.productGroup})]})}),a.jsxs("td",{className:"text-right p-2",style:{fontSize:"var(--font-size-sm)"},children:[w.area.toFixed(1)," m"]}),a.jsxs("td",{className:"text-right p-2",style:{fontSize:"var(--font-size-sm)"},children:[w.percentage.toFixed(0),"%"]}),a.jsxs("td",{className:"text-right p-2",style:{fontSize:"var(--font-size-sm)"},children:[w.targetPercentage?.toFixed(0),"%"]}),a.jsxs("td",{className:"text-right p-2",style:{fontSize:"var(--font-size-sm)",color:Math.abs(w.deviation||0)>5?"var(--status-danger)":"var(--status-success)"},children:[(w.deviation||0)>0?"+":"",w.deviation?.toFixed(0),"%"]})]},k))})]})})]}),a.jsxs("div",{children:[a.jsx("h4",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)",textTransform:"uppercase",color:"var(--text-muted)"},children:"Bewertung"}),a.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:h.some(w=>w.fixtureId===y.id)?"rgba(251, 191, 36, 0.1)":"rgba(34, 197, 94, 0.1)",border:`1px solid ${h.some(w=>w.fixtureId===y.id)?"var(--status-warning)":"var(--status-success)"}`},children:[a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)"},children:["Status: ",h.some(w=>w.fixtureId===y.id)?"Abweichung vorhanden":"OK"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Abweichungen wirken sich auf die Allokationskrzungen aus."})]})]})]})]})]})}const Ub=[{id:"F001",name:"BLICK Zrich Hauptbahnhof",city:"Zrich",region:"Zrich",hasLayout:!0,layout:{width:700,height:500,totalArea:180,usableArea:150,aisles:[{x:0,y:200,width:700,height:80,orientation:"horizontal"},{x:150,y:0,width:60,height:520,orientation:"vertical"},{x:490,y:0,width:60,height:520,orientation:"vertical"}],zones:[{type:"emergency",x:660,y:210,width:40,height:80},{type:"cashier",x:0,y:420,width:140,height:100},{type:"window",x:0,y:0,width:140,height:60},{type:"storage",x:560,y:420,width:140,height:100}]}},{id:"F002",name:"BLICK Basel Marktplatz",city:"Basel",region:"Basel-Stadt",hasLayout:!0,layout:{width:600,height:450,totalArea:145,usableArea:120,aisles:[{x:0,y:150,width:600,height:70,orientation:"horizontal"},{x:280,y:0,width:70,height:470,orientation:"vertical"}],zones:[{type:"emergency",x:560,y:155,width:40,height:60},{type:"cashier",x:0,y:360,width:120,height:110},{type:"window",x:0,y:0,width:270,height:50},{type:"storage",x:480,y:360,width:120,height:110}]}},{id:"F003",name:"BLICK Bern Waisenhausplatz",city:"Bern",region:"Bern",hasLayout:!1,layout:{width:550,height:400,totalArea:125,usableArea:105,aisles:[{x:0,y:130,width:550,height:60,orientation:"horizontal"},{x:0,y:270,width:550,height:60,orientation:"horizontal"}],zones:[{type:"emergency",x:510,y:170,width:40,height:60},{type:"cashier",x:0,y:340,width:150,height:80},{type:"window",x:0,y:0,width:200,height:50}]}},{id:"F004",name:"BLICK Luzern Pilatusstrasse",city:"Luzern",region:"Luzern",hasLayout:!0,layout:{width:800,height:520,totalArea:210,usableArea:175,aisles:[{x:0,y:170,width:800,height:70,orientation:"horizontal"},{x:0,y:340,width:800,height:70,orientation:"horizontal"},{x:200,y:0,width:70,height:540,orientation:"vertical"},{x:530,y:0,width:70,height:540,orientation:"vertical"}],zones:[{type:"emergency",x:760,y:220,width:40,height:80},{type:"cashier",x:0,y:420,width:190,height:120},{type:"window",x:0,y:0,width:190,height:70},{type:"storage",x:610,y:420,width:190,height:120}]}},{id:"F005",name:"BLICK St. Gallen Marktgasse",city:"St. Gallen",region:"St. Gallen",hasLayout:!1,layout:{width:650,height:480,totalArea:160,usableArea:135,aisles:[{x:0,y:200,width:650,height:80,orientation:"horizontal"},{x:285,y:0,width:80,height:500,orientation:"vertical"}],zones:[{type:"emergency",x:610,y:210,width:40,height:70},{type:"cashier",x:0,y:390,width:140,height:110},{type:"window",x:0,y:0,width:275,height:60},{type:"storage",x:510,y:390,width:140,height:110}]}}],XO=[{id:"gondola",type:"Gondel",icon:"",capacity:4.8,preferredCategory:"Mode"},{id:"wallshelf",type:"Wandregal",icon:"",capacity:3.2,preferredCategory:"Accessoires"},{id:"table",type:"Tisch",icon:"",capacity:2.4,preferredCategory:"Promotion"},{id:"actionarea",type:"Aktionsflche",icon:"",capacity:6,preferredCategory:"Seasonal"},{id:"backwall",type:"Rckwand",icon:"",capacity:8,preferredCategory:"Core Range"},{id:"hookwall",type:"Hakenwand",icon:"",capacity:5.6,preferredCategory:"Schmuck"},{id:"checkout",type:"Kassenmodul",icon:"",capacity:1.2}],Xie=[{id:"aisle",type:"Gang",icon:"",isFixed:!0},{id:"emergency",type:"Notausgang",icon:"",isFixed:!0},{id:"cashier",type:"Kasse",icon:"",isFixed:!0},{id:"window",type:"Schaufenster",icon:"",isFixed:!0},{id:"storage",type:"Lagerzugang",icon:"",isFixed:!0}];function Yie({onNavigate:e}){const[t,r]=z.useState(Ub[0].id),[n,i]=z.useState(!1),[o,l]=z.useState(!1),[u,d]=z.useState([]),[f,v]=z.useState(null),[h,m]=z.useState(null),[b,j]=z.useState(null),[x,y]=z.useState({x:0,y:0}),[w,k]=z.useState(!1),S=Ub.find(B=>B.id===t),N=B=>{r(B),d([]),v(null),k(!1)},O=(()=>{const B=u.reduce((W,$)=>W+$.capacity,0);return{totalArea:S?.layout?.totalArea||0,usableArea:S?.layout?.usableArea||0,occupiedArea:B,freeArea:S?.layout?.usableArea?S.layout.usableArea-B:0,capacityImpact:B-120}})(),_=()=>O.freeArea<0?"var(--status-danger)":O.freeArea<10?"var(--status-warning)":"var(--status-success)",T=B=>{m(B),j(null)},E=(B,W)=>{if(!u.find(ye=>ye.id===W))return;const q=B.target.getBoundingClientRect(),oe=B.clientX-q.left,fe=B.clientY-q.top;y({x:oe,y:fe}),j(W),m(null),B.dataTransfer&&(B.dataTransfer.effectAllowed="move")},D=B=>{B.preventDefault(),B.dataTransfer&&(B.dataTransfer.dropEffect=b?"move":"copy")},M=B=>{B.preventDefault();const W=B.currentTarget.getBoundingClientRect(),$=S?.layout;if(!$)return;const q=B.clientX-W.left-20-(b?x.x:40),oe=B.clientY-W.top-20-(b?x.y:20);if(b){const fe=u.find(re=>re.id===b);if(!fe)return;const ye=$.width-fe.width,se=$.height-fe.height;d(u.map(re=>re.id===b?{...re,x:Math.max(0,Math.min(q,ye)),y:Math.max(0,Math.min(oe,se))}:re)),j(null),k(!0)}else if(h){const fe=XO.find(xe=>xe.type===h);if(!fe)return;const ye=$.width-100,se=$.height-40,re={id:Date.now().toString(),fixtureType:h,x:Math.max(0,Math.min(q,ye)),y:Math.max(0,Math.min(oe,se)),width:100,height:40,rotation:0,capacity:fe.capacity,assignedCategory:fe.preferredCategory};d([...u,re]),m(null),k(!0)}},F=B=>{d(u.map(W=>W.id===B?{...W,rotation:(W.rotation+90)%360}:W)),k(!0)},L=B=>{d(u.filter(W=>W.id!==B)),v(null),k(!0)},V=()=>{k(!1),alert("Layout erfolgreich gespeichert!")},H=()=>{k(!1),alert("nderungen verworfen")},Z=()=>{l(!0)},Y=()=>{if(!S?.layout)return;const B=S.layout,W=8,$=[];let q=1;const oe=(He,Ve,St,ct)=>{for(const rt of B.aisles)if(!(He+St<=rt.x||He>=rt.x+rt.width||Ve+ct<=rt.y||Ve>=rt.y+rt.height))return!0;for(const rt of B.zones)if(!(He+St<=rt.x||He>=rt.x+rt.width||Ve+ct<=rt.y||Ve>=rt.y+rt.height))return!0;return!1},fe=(He,Ve,St,ct)=>{for(const rt of $)if(!(He+St+W<=rt.x||He>=rt.x+rt.width+W||Ve+ct+W<=rt.y||Ve>=rt.y+rt.height+W))return!0;return!1},ye=(He,Ve,St,ct)=>!(He<0||Ve<0||He+St>B.width||Ve+ct>B.height||oe(He,Ve,St,ct)||fe(He,Ve,St,ct)),se=(He,Ve)=>{const St=[{startX:0,startY:0,rotation:0,scanAxis:"x",maxScan:B.width-He,checkWidth:He,checkHeight:Ve},{startX:0,startY:B.height-Ve,rotation:0,scanAxis:"x",maxScan:B.width-He,checkWidth:He,checkHeight:Ve},{startX:0,startY:0,rotation:90,scanAxis:"y",maxScan:B.height-He,checkWidth:Ve,checkHeight:He},{startX:B.width-Ve,startY:0,rotation:90,scanAxis:"y",maxScan:B.height-He,checkWidth:Ve,checkHeight:He}];for(const ct of St)if(!(ct.maxScan<0))for(let mr=0;mr<=ct.maxScan;mr+=20){const hn=ct.scanAxis==="x"?mr:ct.startX,br=ct.scanAxis==="y"?mr:ct.startY;if(ye(hn,br,ct.checkWidth,ct.checkHeight))return{x:hn,y:br,rotation:ct.rotation}}return null},re=(He,Ve,St,ct,rt,mr=100)=>{const br=B.height-St,Fr=B.width-Ve;for(let vn=0;vn<=br;vn+=15)for(let _r=0;_r<=Fr;_r+=15){if($.length>=mr)return;ye(_r,vn,Ve,St)&&$.push({id:`ki${q++}`,fixtureType:He,x:_r,y:vn,width:Ve,height:St,rotation:0,capacity:ct,assignedCategory:rt})}},xe=180,ae=40,pe=8;for(let He=0;He<4;He++){const Ve=se(xe,ae);Ve&&$.push({id:`ki${q++}`,fixtureType:"Rckwand",x:Ve.x,y:Ve.y,width:xe,height:ae,rotation:Ve.rotation,capacity:pe,assignedCategory:"Core Range"})}re("Gondel",100,40,4.8,"Mode",15),re("Wandregal",100,30,3.2,"Accessoires",10),re("Aktionsflche",100,80,6,"Seasonal",5),re("Tisch",70,70,2.4,"Promotion",8),re("Hakenwand",90,30,5.6,"Schmuck",6),re("Wandregal",60,30,2,"Accessoires",10),d($),l(!1),k(!0)},U=u.reduce((B,W)=>{const $=B.find(q=>q.type===W.fixtureType);return $?($.count++,$.area+=W.capacity):B.push({type:W.fixtureType,count:1,area:W.capacity,capacity:W.capacity,category:W.assignedCategory||"-"}),B},[]);return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"mb-4",children:a.jsx(Kie,{children:a.jsxs(Gie,{children:[a.jsx(ZO,{children:a.jsx("button",{onClick:()=>e("capacity"),style:{color:"var(--text-link-secondary)"},className:"hover:underline",children:"Kapazitt"})}),a.jsx(qie,{}),a.jsx(ZO,{children:a.jsx(Vie,{children:"Filiallayout & Warentrger"})})]})})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Filiallayout & Warentrger"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Visualisierung und Planung der Verkaufsflche auf Basis von Warentrgern und Kapazittswirkung"})]}),a.jsxs(Uie,{defaultValue:"layout",className:"flex-1 flex flex-col min-h-0",children:[a.jsxs(Hie,{style:{width:"fit-content",marginBottom:"var(--space-6)"},children:[a.jsx(VO,{value:"layout",children:"Layout & Warentrger"}),a.jsx(VO,{value:"analysis",children:"Sortimentsverteilung (Analyse)"})]}),a.jsxs(qO,{value:"layout",className:"flex-1 flex flex-col min-h-0 mt-0",children:[a.jsx("div",{className:"p-4 rounded-lg border mb-6",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)"},children:a.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[a.jsxs("div",{className:"flex-1 min-w-[250px]",children:[a.jsx("label",{htmlFor:"store-select",className:"block mb-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Filiale auswhlen"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(OS,{value:t,onValueChange:N,children:[a.jsx(TS,{className:"w-full",children:a.jsx(ES,{})}),a.jsx(DS,{children:Ub.map(B=>a.jsx(go,{value:B.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cE,{size:16}),a.jsxs("span",{children:[B.id," - ",B.name]})]})},B.id))})]}),S&&a.jsx(L3,{variant:S.hasLayout?"default":"secondary",children:S.hasLayout?"Layout vorhanden":"Neu"})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Gesamtflche"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:[O.totalArea," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Nutzbare Flche"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:[O.usableArea," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Belegte Flche"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:[O.occupiedArea.toFixed(1)," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Freie Flche"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:_()},children:[O.freeArea.toFixed(1)," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Kapazittswirkung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:O.capacityImpact>=0?"var(--status-success)":"var(--status-danger)"},children:[O.capacityImpact>0?"+":"",O.capacityImpact.toFixed(1)," m"]})]})]}),a.jsxs("div",{className:"flex gap-2 ml-auto",children:[a.jsxs(Bn,{variant:"outline",onClick:()=>i(!0),children:[a.jsx(xs,{size:16}),"Import Grundriss"]}),a.jsxs(Bn,{variant:"outline",onClick:Z,children:[a.jsx(zc,{size:16}),"KI-Vorschlag"]}),w&&a.jsxs(a.Fragment,{children:[a.jsxs(Bn,{variant:"outline",onClick:H,children:[a.jsx(WS,{size:16}),"Verwerfen"]}),a.jsxs(Bn,{onClick:V,children:[a.jsx(xu,{size:16}),"Speichern"]})]})]})]})}),a.jsxs("div",{className:"flex-1 flex gap-6 min-h-0",children:[a.jsxs("div",{className:"w-[280px] rounded-lg border p-4 overflow-y-auto",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)"},children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Warentrger"}),a.jsx("div",{className:"space-y-2",children:XO.map(B=>a.jsxs("div",{draggable:!0,onDragStart:()=>T(B.type),className:"p-3 rounded border cursor-move transition-all",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-subtle)",borderRadius:"var(--radius-md)"},onMouseEnter:W=>{W.currentTarget.style.borderColor="var(--brand-primary)",W.currentTarget.style.boxShadow="var(--shadow-sm)"},onMouseLeave:W=>{W.currentTarget.style.borderColor="var(--border-subtle)",W.currentTarget.style.boxShadow="none"},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{style:{fontSize:"18px"},children:B.icon}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:B.type})]}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:["Kapazitt: ",B.capacity," m"]}),B.preferredCategory&&a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:["Bevorzugt: ",B.preferredCategory]})]},B.id))})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Zonen (fixe Elemente)"}),a.jsx("div",{className:"space-y-2",children:Xie.map(B=>a.jsx("div",{className:"p-3 rounded border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-subtle)",borderRadius:"var(--radius-md)",opacity:.6},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontSize:"18px"},children:B.icon}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:B.type})]})},B.id))})]})]}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsxs("div",{className:"relative rounded-lg border flex-1 mb-6 overflow-auto",style:{backgroundColor:"#ffffff",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",minHeight:`${(S?.layout?.height||500)+60}px`},onDragOver:D,onDrop:M,children:[a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"linear-gradient(var(--border-subtle) 1px, transparent 1px), linear-gradient(90deg, var(--border-subtle) 1px, transparent 1px)",backgroundSize:"20px 20px"}}),a.jsxs("div",{className:"absolute border-2",style:{left:"20px",top:"20px",width:`${S?.layout?.width||700}px`,height:`${(S?.layout?.height||500)+20}px`,borderColor:"var(--text-primary)",borderStyle:"solid"},children:[S?.layout?.aisles.map((B,W)=>a.jsx("div",{className:"absolute",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.width}px`,height:`${B.height}px`,backgroundColor:"#e5e5e5",opacity:.5}},W)),S?.layout?.zones.map((B,W)=>a.jsxs("div",{className:"absolute flex items-center justify-center",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.width}px`,height:`${B.height}px`,backgroundColor:B.type==="emergency"?"#fee2e2":B.type==="cashier"?"#dbeafe":B.type==="window"?"#fef3c7":"#e0e7ff",border:B.type==="emergency"?"2px solid var(--status-danger)":"1px solid var(--border-default)",borderRadius:"var(--radius-sm)",fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[B.type==="emergency"&&a.jsx("span",{style:{fontSize:"20px"},children:""}),B.type==="cashier"&&a.jsx("span",{style:{fontSize:"20px"},children:""}),B.type==="window"&&a.jsx("span",{style:{fontSize:"20px"},children:""}),B.type==="storage"&&a.jsx("span",{style:{fontSize:"20px"},children:""})]},`zone-${W}`)),u.map(B=>a.jsx("div",{className:"absolute cursor-pointer border-2 transition-all",style:{left:`${B.x}px`,top:`${B.y}px`,width:`${B.rotation%180===90?B.height:B.width}px`,height:`${B.rotation%180===90?B.width:B.height}px`,backgroundColor:"var(--surface-subtle-tint)",borderColor:f===B.id?"var(--brand-primary)":"var(--border-default)",borderRadius:"var(--radius-sm)",borderWidth:f===B.id?"3px":"2px"},onClick:()=>v(B.id),draggable:!0,onDragStart:W=>E(W,B.id),children:a.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:B.fixtureType}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[B.capacity," m"]})]})},B.id))]}),u.length===0&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)",pointerEvents:"none"},children:"Ziehen Sie Warentrger aus der linken Palette auf die Flche"}),f&&a.jsx("div",{className:"absolute bottom-4 right-4 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-md)",minWidth:"200px"},children:(()=>{const B=u.find(W=>W.id===f);return B?a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Eigenschaften"}),a.jsxs("div",{className:"space-y-2 mb-3",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Typ"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:B.fixtureType})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Kapazitt"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)"},children:[B.capacity," m"]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Warengruppe"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:B.assignedCategory||"-"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Bn,{variant:"outline",size:"sm",onClick:()=>F(B.id),children:a.jsx(XL,{size:14})}),a.jsx(Bn,{variant:"outline",size:"sm",onClick:()=>L(B.id),children:a.jsx(Cs,{size:14})})]})]}):null})()})]}),a.jsxs("div",{className:"rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)"},children:[a.jsx("div",{className:"p-4 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)"},children:"Warentrgerbersicht"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{backgroundColor:"var(--surface-alt)",borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Warentrger-Typ"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Anzahl"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Belegte Flche (m)"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Kapazitt (m)"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Zugeordnete Warengruppe"})]})}),a.jsx("tbody",{children:U.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"text-center p-6",style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Keine Warentrger platziert"})}):U.map((B,W)=>a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:B.type}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:B.count}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:B.area.toFixed(1)}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:B.capacity.toFixed(1)}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:B.category})]},W))})]})})]}),a.jsxs("div",{className:"mt-4 p-3 rounded-lg border flex items-start gap-3",style:{backgroundColor:"var(--surface-subtle-tint)",borderColor:"var(--brand-primary)"},children:[a.jsx(Xt,{size:20,style:{color:"var(--brand-primary)",flexShrink:0,marginTop:"2px"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"2px"},children:"Integration mit Kapazittsplanung"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Dieses Layout bestimmt die IST-Kapazitt der Filiale und fliet direkt in Simulation, Allokation und Prognose ein."})]})]})]})]}),a.jsx(WO,{open:n,onOpenChange:i,children:a.jsxs($O,{children:[a.jsxs(UO,{children:[a.jsx(KO,{children:"Grundriss importieren"}),a.jsx(GO,{children:"Laden Sie einen Grundriss hoch, um das Layout automatisch zu erkennen"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Dateiformat whlen"}),a.jsxs(OS,{children:[a.jsx(TS,{children:a.jsx(ES,{placeholder:"Format auswhlen"})}),a.jsxs(DS,{children:[a.jsx(go,{value:"cad",children:"CAD (DWG / DXF)"}),a.jsx(go,{value:"pdf",children:"PDF"}),a.jsx(go,{value:"image",children:"Bild (PNG / JPG)"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Mastab"}),a.jsx("input",{type:"text",placeholder:"z.B. 1:100",className:"w-full p-2 rounded border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer",style:{borderColor:"var(--border-default)"},children:[a.jsx(xs,{size:32,style:{margin:"0 auto",color:"var(--text-muted)",marginBottom:"var(--space-2)"}}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Datei hier ablegen oder klicken zum Hochladen"})]})]}),a.jsxs(HO,{children:[a.jsx(Bn,{variant:"outline",onClick:()=>i(!1),children:"Abbrechen"}),a.jsx(Bn,{onClick:()=>i(!1),children:"Grundriss bernehmen"})]})]})}),a.jsx(WO,{open:o,onOpenChange:l,children:a.jsxs($O,{children:[a.jsxs(UO,{children:[a.jsx(KO,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zc,{size:20,style:{color:"var(--brand-primary)"}}),"KI-Vorschlag generieren"]})}),a.jsx(GO,{children:"Das System analysiert Ihre Filiale und erstellt einen optimierten Layout-Vorschlag"})]}),a.jsx("div",{className:"py-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Analysefaktoren:"}),a.jsxs("ul",{className:"space-y-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"var(--brand-primary)"}}),"Filialgre und Geometrie"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"var(--brand-primary)"}}),"Fixe Zonen (Kasse, Notausgnge, etc.)"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"var(--brand-primary)"}}),"Umsatzklasse und Kundenfrequenz"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"var(--brand-primary)"}}),"Warengruppenstruktur"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"var(--brand-primary)"}}),"Best Practices aus hnlichen Filialen"]})]}),a.jsx("div",{className:"p-3 rounded-lg mt-4",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Der KI-Vorschlag dient als Ausgangspunkt. Sie knnen jeden Warentrger individuell anpassen."})]})}),a.jsxs(HO,{children:[a.jsx(Bn,{variant:"outline",onClick:()=>l(!1),children:"Abbrechen"}),a.jsxs(Bn,{onClick:Y,children:[a.jsx(zc,{size:16}),"Vorschlag erzeugen"]})]})]})})]}),a.jsx(qO,{value:"analysis",className:"flex-1 flex flex-col min-h-0 mt-0",children:S&&a.jsx(Zie,{store:S,placedFixtures:u})})]})]})}const YO={draft:{label:"Entwurf",color:"#94a3b8",bgColor:"#f1f5f9",icon:mE},simulated:{label:"Simuliert",color:"#2563eb",bgColor:"#dbeafe",icon:Ep},validated:{label:"Validiert",color:"#7c3aed",bgColor:"#ede9fe",icon:un},approved:{label:"Freigegeben",color:"#10b981",bgColor:"#d1fae5",icon:un},transferred:{label:"Zur Umsetzung bertragen",color:"#059669",bgColor:"#d1fae5",icon:wE}},Hb=[{id:"var-001",name:"Basisvariante  Standard",status:"transferred",capacityDeviation:120,criticalExceptions:0,lastSimulation:"2025-01-10 14:30",overCapacity:450,underCapacity:330,forecastCoverage:94.5,storeCount:42,articleCount:1250,validationResults:{recipientDetermination:!0,deliveryDates:!0,availability:!0,capacityAssumptions:!0,blockingExceptions:!0}},{id:"var-002",name:"Optimierte Verteilung  A-Stores",status:"approved",capacityDeviation:85,criticalExceptions:2,lastSimulation:"2025-01-12 09:15",overCapacity:380,underCapacity:295,forecastCoverage:96.2,storeCount:42,articleCount:1250,validationResults:{recipientDetermination:!0,deliveryDates:!0,availability:!0,capacityAssumptions:!0,blockingExceptions:!0}},{id:"var-003",name:"Gleichverteilung  Regional",status:"validated",capacityDeviation:210,criticalExceptions:5,lastSimulation:"2025-01-13 16:45",overCapacity:520,underCapacity:310,forecastCoverage:92.8,storeCount:42,articleCount:1250,validationResults:{recipientDetermination:!0,deliveryDates:!0,availability:!0,capacityAssumptions:!1,blockingExceptions:!0}},{id:"var-004",name:"Test  Konservative Allokation",status:"simulated",capacityDeviation:95,criticalExceptions:1,lastSimulation:"2025-01-14 11:20",overCapacity:320,underCapacity:225,forecastCoverage:89.5,storeCount:42,articleCount:1250},{id:"var-005",name:"Entwurf  Saisonbereinigt",status:"draft",capacityDeviation:0,criticalExceptions:0,lastSimulation:"",overCapacity:0,underCapacity:0,forecastCoverage:0,storeCount:42,articleCount:1250}],Qie=[{category:"Schuhe",variant1:450,variant2:380,variant3:520},{category:"Oberbekleidung",variant1:-280,variant2:-350,variant3:-200},{category:"Hosen",variant1:120,variant2:95,variant3:210},{category:"Accessoires",variant1:-150,variant2:-120,variant3:-180}],Jie=[{week:"KW 1",forecast:4500,variant1:4200,variant2:4350,variant3:4100},{week:"KW 2",forecast:5e3,variant1:4800,variant2:4900,variant3:4600},{week:"KW 3",forecast:4800,variant1:4600,variant2:4700,variant3:4450},{week:"KW 4",forecast:5500,variant1:5300,variant2:5400,variant3:5100}];function eoe({onNavigate:e}){const[t,r]=z.useState("fs25-initial"),[n,i]=z.useState(Hb[1]),[o,l]=z.useState("overview"),[u,d]=z.useState(!1),[f,v]=z.useState(!1),[h,m]=z.useState(!1),[b,j]=z.useState(""),[x,y]=z.useState("immediate"),[w,k]=z.useState(""),[S,N]=z.useState(""),A=()=>{m(!0),setTimeout(()=>{m(!1),d(!0)},2e3)},O=()=>{if(!b.trim()){alert("Bitte geben Sie eine Begrndung ein.");return}if(n){const H={...n,status:"approved"};i(H),j(""),alert("Variante erfolgreich freigegeben")}},_=()=>{if(x==="scheduled"&&(!w||!S)){alert("Bitte whlen Sie Datum und Uhrzeit fr die geplante Ausfhrung.");return}if(n){const H={...n,status:"transferred"};i(H),v(!1),alert("Allokationslauf wurde erfolgreich erzeugt")}},T=()=>{alert("Neue Variante wird erstellt (basierend auf aktueller Variante)")},E=n?.status==="simulated",D=n?.status==="validated",M=n?.status==="approved",F=n?.status==="transferred",L=n?YO[n.status]:null,V=L?.icon;return a.jsxs("div",{className:"flex h-screen",style:{backgroundColor:"var(--surface-base)"},children:[a.jsx("div",{className:"flex-shrink-0 border-r overflow-y-auto",style:{width:"300px",backgroundColor:"var(--surface-alt)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Szenario"}),a.jsxs("select",{value:t,onChange:H=>r(H.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"fs25-initial",children:"FS25  Erstallokation"}),a.jsx("option",{value:"hw25-initial",children:"HW25  Erstallokation"}),a.jsx("option",{value:"fs25-replenishment",children:"FS25  Nachschub"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",marginBottom:"12px",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em"},children:["Varianten (",Hb.length,")"]}),a.jsx("div",{className:"space-y-2",children:Hb.map(H=>{const Z=YO[H.status],Y=Z.icon,U=n?.id===H.id;return a.jsxs("button",{onClick:()=>i(H),className:"w-full text-left p-3 rounded-lg border transition-all",style:{backgroundColor:U?"var(--surface-page)":"transparent",borderColor:U?"var(--brand-primary)":"var(--border-subtle)",borderWidth:U?"2px":"1px"},children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",flex:1},children:H.name}),a.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 rounded-full",style:{backgroundColor:Z.bgColor,color:Z.color,fontSize:"var(--font-size-xs)",whiteSpace:"nowrap"},children:[a.jsx(Y,{size:12}),a.jsx("span",{children:Z.label})]})]}),H.status!=="draft"&&a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between",style:{fontSize:"var(--font-size-xs)"},children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"ber-/Unterdeckung:"}),a.jsxs("span",{style:{fontWeight:"var(--font-weight-medium)",color:H.capacityDeviation>0?"#ef4444":"#10b981"},children:[H.capacityDeviation>0?"+":"",H.capacityDeviation," m"]})]}),a.jsxs("div",{className:"flex items-center justify-between",style:{fontSize:"var(--font-size-xs)"},children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"Kritische Ausnahmen:"}),a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)",color:H.criticalExceptions>0?"#ef4444":"var(--text-primary)"},children:H.criticalExceptions})]}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:[a.jsx(Os,{size:10,className:"inline mr-1"}),H.lastSimulation]})]}),H.status==="draft"&&a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",fontStyle:"italic"},children:"Noch nicht simuliert"})]},H.id)})})]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6 flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Szenario- & Variantenmanagement"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Vergleichen, validieren und freigeben Sie Allokationsvarianten fr verschiedene Szenarien."})]}),a.jsx("button",{onClick:()=>e("scenarioManagement"),className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",whiteSpace:"nowrap"},children:"Erweiterte Ansicht "})]}),!n&&a.jsxs("div",{className:"p-12 text-center rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx(mE,{size:48,style:{color:"var(--text-muted)",margin:"0 auto 16px"}}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Whlen Sie eine Variante aus, um Details anzuzeigen"})]}),n&&n.status!=="draft"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"berdeckung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"#ef4444"},children:["+",n.overCapacity," m"]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Unterdeckung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"#3b82f6"},children:["-",n.underCapacity," m"]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Prognoseabdeckung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)"},children:[n.forecastCoverage.toFixed(1),"%"]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Kritische Ausnahmen"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:n.criticalExceptions>0?"#ef4444":"#10b981"},children:n.criticalExceptions})]})]}),a.jsx("div",{className:"flex gap-1 mb-4 border-b",style:{borderColor:"var(--border-default)"},children:[{key:"overview",label:"bersicht"},{key:"capacity",label:"Kapazitt"},{key:"forecast",label:"Prognose"},{key:"exceptions",label:"Ausnahmen"}].map(H=>a.jsx("button",{onClick:()=>l(H.key),className:"px-4 py-2 transition-colors",style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:o===H.key?"var(--brand-primary)":"var(--text-muted)",borderBottom:o===H.key?"2px solid var(--brand-primary)":"2px solid transparent"},children:H.label},H.key))}),a.jsxs("div",{children:[o==="overview"&&a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Varianten-Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Variantenname"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:n.name})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Status"}),a.jsxs("div",{className:"flex items-center gap-2",children:[V&&a.jsx(V,{size:16,style:{color:L?.color}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:L?.label})]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Filialen"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(uB,{size:16,style:{color:"var(--text-muted)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:n.storeCount})]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Artikel"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dp,{size:16,style:{color:"var(--text-muted)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:n.articleCount.toLocaleString("de-DE")})]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Letzte Simulation"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Os,{size:16,style:{color:"var(--text-muted)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:n.lastSimulation})]})]})]})]})}),o==="capacity"&&a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Kapazittsabweichung nach Kategorie"}),a.jsx(Zt,{width:"100%",height:350,minWidth:0,minHeight:0,children:a.jsxs(Nr,{data:Qie,children:[a.jsx(Hn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(yt,{dataKey:"category",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(xt,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(it,{}),a.jsx(Ct,{}),a.jsx(Te,{dataKey:"variant1",fill:"#2563eb",name:"Basisvariante"}),a.jsx(Te,{dataKey:"variant2",fill:"#7c3aed",name:"Optimierte Verteilung"}),a.jsx(Te,{dataKey:"variant3",fill:"#10b981",name:"Gleichverteilung"})]})})]}),o==="forecast"&&a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Prognose vs. Allokation"}),a.jsx(Zt,{width:"100%",height:350,minWidth:0,minHeight:0,children:a.jsxs(eI,{data:Jie,children:[a.jsx(Hn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(yt,{dataKey:"week",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(xt,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(it,{}),a.jsx(Ct,{}),a.jsx(qr,{type:"monotone",dataKey:"forecast",stroke:"#94a3b8",strokeWidth:2,strokeDasharray:"5 5",name:"Prognose"}),a.jsx(qr,{type:"monotone",dataKey:"variant1",stroke:"#2563eb",strokeWidth:2,name:"Basisvariante"}),a.jsx(qr,{type:"monotone",dataKey:"variant2",stroke:"#7c3aed",strokeWidth:2,name:"Optimierte Verteilung"}),a.jsx(qr,{type:"monotone",dataKey:"variant3",stroke:"#10b981",strokeWidth:2,name:"Gleichverteilung"})]})})]}),o==="exceptions"&&a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Ausnahmen & Risiken"}),n.criticalExceptions>0?a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"p-4 rounded-lg border-l-4 cursor-pointer hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},onClick:()=>alert("Navigation zum Exception-Cockpit (read-only)"),children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ft,{size:20,style:{color:"var(--status-warning)"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Kapazittsberschreitung bei Store Z-001"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:"Kategorie: Schuhe | berschreitung: +35 m"})]})]})})}),a.jsx("div",{className:"p-4 rounded-lg border-l-4 cursor-pointer hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},onClick:()=>alert("Navigation zum Exception-Cockpit (read-only)"),children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ft,{size:20,style:{color:"var(--status-warning)"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Fehlende Grenverteilung bei Artikel A-4532"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:"Kategorie: Hosen | Betroffene Filialen: 12"})]})]})})})]}):a.jsxs("div",{className:"p-6 text-center rounded-lg",style:{backgroundColor:"var(--surface-success-subtle)",color:"var(--status-success)"},children:[a.jsx(un,{size:32,className:"mx-auto mb-2"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)"},children:"Keine kritischen Ausnahmen"})]})]})]})]}),n&&n.status==="draft"&&a.jsxs("div",{className:"p-8 text-center rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx(Ep,{size:48,style:{color:"var(--text-muted)",margin:"0 auto 16px"}}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)",marginBottom:"16px"},children:"Diese Variante wurde noch nicht simuliert"}),a.jsx("button",{className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},onClick:()=>alert("Simulation starten (nicht implementiert)"),children:"Simulation starten"})]})]})}),a.jsx("div",{className:"flex-shrink-0 border-l overflow-y-auto",style:{width:"320px",backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"p-4",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Entscheidung & bergabe"}),!n&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Whlen Sie eine Variante aus"})}),n&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:L?.bgColor,borderColor:L?.color},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[V&&a.jsx(V,{size:20,style:{color:L?.color}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:L?.color},children:L?.label})]}),a.jsxs("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[n.status==="simulated"&&"Simulation abgeschlossen  Validierung erforderlich",n.status==="validated"&&"Alle Systemprfungen bestanden",n.status==="approved"&&"Variante ist zur Umsetzung freigegeben",n.status==="transferred"&&"Variante wurde als Allokationslauf bertragen",n.status==="draft"&&"Variante ist im Entwurfsstadium"]})]}),E&&a.jsxs("div",{children:[a.jsx("button",{onClick:A,disabled:h,className:"w-full px-4 py-3 rounded-lg transition-colors",style:{backgroundColor:h?"var(--button-secondary-bg)":"var(--brand-primary)",color:h?"var(--text-muted)":"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:h?"Validierung luft...":"Validierung starten"}),h&&a.jsx("div",{className:"mt-2 text-center",children:a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Systemprfungen werden durchgefhrt..."})})]}),D&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Begrndung der Freigabe *"}),a.jsx("textarea",{value:b,onChange:H=>j(H.target.value),rows:4,placeholder:"Bitte geben Sie eine Begrndung fr die Freigabe ein...",className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)",resize:"vertical"}})]}),a.jsx("button",{onClick:O,disabled:!b.trim(),className:"w-full px-4 py-3 rounded-lg transition-colors",style:{backgroundColor:b.trim()?"var(--brand-primary)":"var(--button-secondary-bg)",color:b.trim()?"var(--text-inverse)":"var(--text-muted)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Variante freigeben"})]}),M&&a.jsx("div",{children:a.jsxs("button",{onClick:()=>v(!0),className:"w-full px-4 py-3 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(vf,{size:16,className:"inline mr-2"}),"In Allokationslauf berfhren"]})}),F&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(wE,{size:16,style:{color:"var(--text-muted)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Variante gesperrt"})]}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Diese Variante ist unvernderlich und wurde einem Allokationslauf zugeordnet."})]}),a.jsxs("button",{onClick:T,className:"w-full px-4 py-2 rounded-lg border transition-colors hover:bg-surface-tint",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(Sf,{size:16,className:"inline mr-2"}),"Neue Variante erstellen"]})]}),n.validationResults&&n.status!=="simulated"&&a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",marginBottom:"12px"},children:"Validierungsergebnisse"}),a.jsx("div",{className:"space-y-2",children:Object.entries(n.validationResults).map(([H,Z])=>{const Y={recipientDetermination:"Empfngerermittlung",deliveryDates:"Liefertermine",availability:"Verfgbarkeit",capacityAssumptions:"Kapazittsannahmen",blockingExceptions:"Blockierende Ausnahmen"};return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:Y[H]}),Z?a.jsx(un,{size:16,style:{color:"#10b981"}}):a.jsx(Ft,{size:16,style:{color:"#ef4444"}})]},H)})})]})]})]})}),u&&n&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:()=>d(!1),children:a.jsxs("div",{className:"rounded-lg shadow-xl max-w-lg w-full mx-4",style:{backgroundColor:"var(--surface-page)",maxHeight:"90vh",overflow:"auto"},onClick:H=>H.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Validierungsbericht"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"space-y-4",children:n.validationResults&&Object.entries(n.validationResults).map(([H,Z])=>{const Y={recipientDetermination:"Empfngerermittlung",deliveryDates:"Liefertermine",availability:"Verfgbarkeit",capacityAssumptions:"Kapazittsannahmen",blockingExceptions:"Blockierende Ausnahmen"};return a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg",style:{backgroundColor:Z?"var(--surface-success-subtle)":"var(--surface-error-subtle)"},children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:Y[H]}),Z?a.jsx(un,{size:20,style:{color:"#10b981"}}):a.jsx(Ft,{size:20,style:{color:"#ef4444"}})]},H)})}),Object.values(n.validationResults||{}).every(Boolean)?a.jsxs("div",{className:"mt-6 p-4 rounded-lg",style:{backgroundColor:"var(--surface-success-subtle)",color:"var(--status-success)"},children:[a.jsx(un,{size:20,className:"inline mr-2"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Alle Prfungen erfolgreich bestanden"})]}):a.jsxs("div",{className:"mt-6 p-4 rounded-lg",style:{backgroundColor:"var(--surface-error-subtle)",color:"var(--status-error)"},children:[a.jsx(Ft,{size:20,className:"inline mr-2"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Einige Prfungen sind fehlgeschlagen"})]})]}),a.jsxs("div",{className:"p-6 border-t flex gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:"Schlieen"}),Object.values(n.validationResults||{}).every(Boolean)?a.jsx("button",{onClick:()=>{const H={...n,status:"validated"};i(H),d(!1)},className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Variante als validiert markieren"}):a.jsx("button",{onClick:()=>{d(!1),alert("Zurck zur Simulation (nicht implementiert)")},className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Zur Simulation"})]})]})}),f&&n&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:()=>v(!1),children:a.jsxs("div",{className:"rounded-lg shadow-xl max-w-2xl w-full mx-4",style:{backgroundColor:"var(--surface-page)",maxHeight:"90vh",overflow:"auto"},onClick:H=>H.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Allokationslauf erzeugen"})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"12px"},children:"Snapshot (Read-Only)"}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-default)"},children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Szenario"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"FS25  Erstallokation"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Variante"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:n.name})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Simulation-ID"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:["SIM-",n.id]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Lieferzeitraum"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"KW 05-08 2025"})]})]})})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"12px"},children:"Ausfhrung"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border cursor-pointer hover:bg-surface-tint transition-colors",style:{borderColor:x==="immediate"?"var(--brand-primary)":"var(--border-default)",backgroundColor:x==="immediate"?"var(--surface-tint)":"transparent"},children:[a.jsx("input",{type:"radio",name:"transfer-type",value:"immediate",checked:x==="immediate",onChange:H=>y(H.target.value),style:{accentColor:"var(--brand-primary)"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Sofort starten"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Der Allokationslauf wird unmittelbar nach Besttigung ausgefhrt"})]})]}),a.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border cursor-pointer hover:bg-surface-tint transition-colors",style:{borderColor:x==="scheduled"?"var(--brand-primary)":"var(--border-default)",backgroundColor:x==="scheduled"?"var(--surface-tint)":"transparent"},children:[a.jsx("input",{type:"radio",name:"transfer-type",value:"scheduled",checked:x==="scheduled",onChange:H=>y(H.target.value),style:{accentColor:"var(--brand-primary)"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Geplant starten"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Der Allokationslauf startet zum angegebenen Zeitpunkt"}),x==="scheduled"&&a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Datum"}),a.jsx("input",{type:"date",value:w,onChange:H=>k(H.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Uhrzeit"}),a.jsx("input",{type:"time",value:S,onChange:H=>N(H.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"}})]})]})]})]})]})]}),a.jsx("div",{className:"p-4 rounded-lg border-l-4",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ft,{size:20,style:{color:"var(--status-warning)",flexShrink:0}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"4px"},children:"Wichtiger Hinweis"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Die Variante wird als unvernderlicher Snapshot fr den Allokationslauf bernommen. Nach der bertragung knnen keine nderungen mehr vorgenommen werden."})]})]})})]}),a.jsxs("div",{className:"p-6 border-t flex gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>v(!1),className:"flex-1 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:"Abbrechen"}),a.jsx("button",{onClick:_,className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Lauf erzeugen"})]})]})})]})}function bf({formula:e,inputs:t,result:r,explanation:n}){const[i,o]=z.useState(!1);return a.jsxs("div",{className:"relative inline-block",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[a.jsx(Xt,{size:16,style:{color:"var(--status-info)",cursor:"help"}}),i&&a.jsxs("div",{className:"absolute z-50 rounded-lg shadow-lg p-4",style:{backgroundColor:"var(--surface-page)",border:"1px solid var(--border-default)",boxShadow:"var(--shadow-lg)",minWidth:"320px",maxWidth:"450px",bottom:"100%",left:"50%",transform:"translateX(-50%)",marginBottom:"8px"},children:[a.jsx("div",{className:"mb-3 p-3 rounded",style:{backgroundColor:"var(--surface-subtle)",fontFamily:"monospace",fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:e}),t.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"Eingabewerte:"}),a.jsx("div",{className:"space-y-2",children:t.map((l,u)=>a.jsxs("div",{className:"flex items-start justify-between gap-3",style:{fontSize:"var(--font-size-xs)"},children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{style:{fontFamily:"monospace",color:"var(--brand-primary)",fontWeight:"var(--font-weight-medium)"},children:l.symbol}),l.description&&a.jsx("div",{style:{color:"var(--text-muted)",marginTop:"2px"},children:l.description}),a.jsxs("div",{style:{color:"var(--text-secondary)",fontSize:"var(--font-size-2xs)",marginTop:"2px"},children:["Quelle: ",l.source]})]}),a.jsxs("div",{style:{fontFamily:"monospace",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)",whiteSpace:"nowrap"},children:["= ",l.value]})]},u))})]}),r!==void 0&&a.jsxs("div",{className:"p-2 rounded flex items-center justify-between",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-info)"},children:"Ergebnis:"}),a.jsx("span",{style:{fontFamily:"monospace",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-info)"},children:r})]}),n&&a.jsx("div",{className:"mt-3 pt-3",style:{borderTop:"1px solid var(--border-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:n}),a.jsx("div",{style:{position:"absolute",bottom:"-6px",left:"50%",width:"12px",height:"12px",backgroundColor:"var(--surface-page)",border:"1px solid var(--border-default)",borderTop:"none",borderLeft:"none",transform:"translateX(-50%) rotate(45deg)"}})]})]})}const QO={success:"var(--status-success)",warning:"var(--status-warning)",critical:"var(--status-danger)",neutral:"var(--text-secondary)"};function Rt({title:e,value:t,unit:r,delta:n,deltaLabel:i,state:o="neutral",formula:l,formulaInputs:u,onClick:d}){const f=n!==void 0,v=n&&n>0,h=n&&n<0;return a.jsxs("div",{className:"p-4 rounded-lg border transition-all",style:{backgroundColor:"var(--surface-page)",borderColor:o!=="neutral"?QO[o]:"var(--border-default)",cursor:d?"pointer":"default",borderWidth:o!=="neutral"?"2px":"1px"},onClick:d,children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-muted)"},children:e}),l&&u&&a.jsx(bf,{formula:l,inputs:u,result:`${t}${r?" "+r:""}`})]}),a.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:o!=="neutral"?QO[o]:"var(--text-primary)"},children:t}),r&&a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:r})]}),f&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"px-2 py-1 rounded-full flex items-center gap-1",style:{backgroundColor:h?"var(--surface-danger-subtle)":v?"var(--surface-success-subtle)":"var(--surface-subtle)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[v&&a.jsx(cl,{size:12,style:{color:"var(--status-success)"}}),h&&a.jsx(Ip,{size:12,style:{color:"var(--status-danger)"}}),n===0&&a.jsx(WL,{size:12,style:{color:"var(--text-muted)"}}),a.jsxs("span",{style:{color:h?"var(--status-danger)":v?"var(--status-success)":"var(--text-muted)"},children:[v?"+":"",n,"%"]})]}),i&&a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:i})]})]})}const JO=[{id:"var-1",name:"Standard HW 2025",status:"Validated",allocationType:"Initial Allocation",season:"HW 2025",owner:"M. Weber",lastSimulation:"2025-01-10 14:23",hasFallback:!1,kpis:{supplyCoverage:92.5,capacityRisk:"green",forecastFulfillment:88.3}},{id:"var-2",name:"Optimiert - Hohe Prognosegewichtung",status:"Simulated",allocationType:"Initial Allocation",season:"HW 2025",owner:"M. Weber",lastSimulation:"2025-01-12 09:45",hasFallback:!0,kpis:{supplyCoverage:85.6,capacityRisk:"yellow",forecastFulfillment:95.2}},{id:"var-3",name:"Test - MinMax Fairness",status:"Draft",allocationType:"Initial Allocation",season:"HW 2025",owner:"M. Weber",hasFallback:!1,kpis:{supplyCoverage:0,capacityRisk:"green",forecastFulfillment:0}},{id:"var-4",name:"SW 2025 - Baseline",status:"Released",allocationType:"Initial Allocation",season:"SW 2025",owner:"A. Mller",lastSimulation:"2025-01-05 16:12",hasFallback:!1,kpis:{supplyCoverage:94.1,capacityRisk:"green",forecastFulfillment:91.7}},{id:"var-rep-1",name:"NOS Nachschub - Standard",status:"Validated",allocationType:"Replenishment",season:"NOS",owner:"K. Schmidt",lastSimulation:"2025-01-15 08:30",hasFallback:!1,kpis:{supplyCoverage:89.2,capacityRisk:"green",forecastFulfillment:87.3}},{id:"var-rep-2",name:"Nachschub - Hohe Service Level Priority",status:"Simulated",allocationType:"Replenishment",season:"NOS",owner:"K. Schmidt",lastSimulation:"2025-01-16 11:20",hasFallback:!0,kpis:{supplyCoverage:84.8,capacityRisk:"yellow",forecastFulfillment:92.1}},{id:"var-rep-3",name:"Nachschub - Test Substitution",status:"Draft",allocationType:"Replenishment",season:"NOS",owner:"K. Schmidt",hasFallback:!0,kpis:{supplyCoverage:0,capacityRisk:"green",forecastFulfillment:0}}],Kb={Draft:{color:"var(--text-muted)",bg:"var(--surface-subtle)",icon:yo},Simulated:{color:"var(--status-info)",bg:"var(--surface-info-subtle)",icon:Os},Validated:{color:"var(--status-success)",bg:"var(--surface-success-subtle)",icon:un},Released:{color:"var(--brand-primary)",bg:"var(--surface-subtle-tint)",icon:jE}};function toe({onNavigateToSimulation:e,onNavigateToExplainability:t,onNavigateToAllocationRun:r}){const[n,i]=z.useState("Initial Allocation"),[o,l]=z.useState(""),[u,d]=z.useState(""),[f,v]=z.useState(JO[1]),[h,m]=z.useState(1),[b,j]=z.useState(null),[x,y]=z.useState({recipientStrategy:"Plan Data",availabilitySources:{dcStock:!0,purchaseOrders:!0,deliveries:!0,external:!1},deliveryDateLogic:"Delivery Schedule",useForecast:!0,forecastSource:"Statistical Forecast v2.3",forecastWeight:60,forecastInfluencesSpace:!0,spaceDemandPlanningLevel:"Product Group",capacityUnit:"m",capacityPlanningLevel:"Product Group",capacityIsHardLimit:!1,softZonePercentage:10,softZonePenaltyWeight:.5,rationingStrategy:"Proportional",topPerformerDefinition:"Top 20% Sales",minFillPercentage:80,fairnessFactor:.8,allowFallback:!0,fallbackStrategy:"Core/NOS substitution",minFillProfile:"Core",fallbackThreshold:75,enforcePackSize:!0,packSize:6,sizeCurveActive:!0,minSizesPerStore:3,repairMode:"Best Effort"}),w=JO.filter(S=>!(S.allocationType!==n||u&&S.status!==u||o&&!S.name.toLowerCase().includes(o.toLowerCase()))),k=S=>{y(N=>({...N,...S}))};return a.jsxs("div",{className:"h-full flex",children:[a.jsx("div",{className:"overflow-y-auto border-r",style:{width:"25%",minWidth:"300px",backgroundColor:"var(--surface-subtle)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:"Varianten"}),a.jsx("button",{className:"p-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:a.jsx(ji,{size:18})})]}),a.jsx("div",{className:"flex gap-1 mb-4 p-1 rounded-lg",style:{backgroundColor:"var(--surface-page)"},children:["Initial Allocation","Replenishment","Manual Allocation"].map(S=>a.jsx("button",{onClick:()=>i(S),className:"flex-1 px-2 py-1 rounded text-center",style:{backgroundColor:n===S?"var(--brand-primary)":"transparent",color:n===S?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-xs)",fontWeight:n===S?"var(--font-weight-semibold)":"var(--font-weight-normal)"},children:S==="Initial Allocation"?"Initial":S==="Replenishment"?"Nachschub":"Manuell"},S))}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx(dn,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),a.jsx("input",{type:"text",placeholder:"Variante suchen...",value:o,onChange:S=>l(S.target.value),className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"}})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("select",{value:u,onChange:S=>d(S.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"",children:"Alle Status"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Simulated",children:"Simulated"}),a.jsx("option",{value:"Validated",children:"Validated"}),a.jsx("option",{value:"Released",children:"Released"})]})}),a.jsx("div",{className:"space-y-2",children:w.map(S=>{const N=S.id===f.id,A=Kb[S.status],O=A.icon;return a.jsxs("div",{onClick:()=>v(S),className:"relative p-3 rounded-lg cursor-pointer transition-all",style:{backgroundColor:N?"var(--surface-page)":"transparent",border:N?"2px solid var(--brand-primary)":"1px solid var(--border-subtle)"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"4px"},children:S.name}),a.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full",style:{backgroundColor:A.bg,color:A.color,fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(O,{size:12}),S.status]})]}),a.jsx("button",{onClick:_=>{_.stopPropagation(),j(b===S.id?null:S.id)},className:"p-1 rounded hover:bg-surface-tint",children:a.jsx(pE,{size:16,style:{color:"var(--text-muted)"}})})]}),a.jsxs("div",{className:"space-y-2 mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Supply Coverage"}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:S.kpis.supplyCoverage>90?"var(--status-success)":"var(--status-warning)"},children:S.kpis.supplyCoverage>0?`${S.kpis.supplyCoverage}%`:"-"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Capacity Risk"}),a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:S.kpis.capacityRisk==="green"?"var(--status-success)":S.kpis.capacityRisk==="yellow"?"var(--status-warning)":"var(--status-danger)"}})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Forecast Fulfillment"}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:S.kpis.forecastFulfillment>90?"var(--status-success)":"var(--status-warning)"},children:S.kpis.forecastFulfillment>0?`${S.kpis.forecastFulfillment}%`:"-"})]})]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:S.hasFallback&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-2xs)",fontWeight:"var(--font-weight-medium)"},children:"Fallback"})}),S.lastSimulation&&a.jsxs("div",{className:"mt-2 pt-2",style:{borderTop:"1px solid var(--border-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:["Simulation: ",S.lastSimulation]}),b===S.id&&a.jsxs("div",{className:"absolute right-3 top-12 z-10 rounded-lg shadow-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",boxShadow:"var(--shadow-lg)",minWidth:"180px"},onClick:_=>_.stopPropagation(),children:[a.jsxs("button",{className:"w-full px-4 py-2 text-left flex items-center gap-2 hover:bg-surface-tint",children:[a.jsx(Sf,{size:16}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Duplizieren"})]}),a.jsxs("button",{className:"w-full px-4 py-2 text-left flex items-center gap-2 hover:bg-surface-tint",children:[a.jsx(yo,{size:16}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Umbenennen"})]}),a.jsxs("button",{className:"w-full px-4 py-2 text-left flex items-center gap-2 hover:bg-surface-tint",children:[a.jsx(L4,{size:16}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Archivieren"})]}),a.jsxs("button",{className:"w-full px-4 py-2 text-left flex items-center gap-2 hover:bg-surface-tint",children:[a.jsx(Ta,{size:16}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Export JSON"})]})]})]},S.id)})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto",style:{width:"50%"},children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("input",{type:"text",value:f.name,onChange:()=>{},readOnly:!0,className:"text-2xl font-semibold mb-2 bg-transparent border-b-2 border-transparent hover:border-border-input focus:border-brand-primary outline-none",style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"}}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full",style:{backgroundColor:Kb[f.status].bg,color:Kb[f.status].color,fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:f.status}),f.lastSimulation&&a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:["Simulation: ",f.lastSimulation]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>e?.(f.id,f.allocationType),className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(cl,{size:16}),"Simulation ffnen"]}),a.jsxs("button",{onClick:()=>t?.(f.id,f.allocationType),className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(Xt,{size:16}),"Explainability"]}),a.jsxs("button",{className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(Sf,{size:16}),"Duplizieren"]})]})]})}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(Rt,{title:"Supply Coverage",value:f.kpis.supplyCoverage,unit:"%",delta:-2.3,deltaLabel:"vs baseline",state:f.kpis.supplyCoverage>90?"success":"warning",formula:"Coverage = (Supply / Demand)  100%",formulaInputs:[{symbol:"Supply",value:24365,source:"Verfgbarkeitsberechnung"},{symbol:"Demand",value:28456,source:"Bedarfsberechnung"}]}),a.jsx(Rt,{title:"Forecast Fulfillment",value:f.kpis.forecastFulfillment,unit:"%",delta:5.8,deltaLabel:"vs baseline",state:f.kpis.forecastFulfillment>90?"success":"warning",formula:"FF = (Allocated / Forecast)  100%",formulaInputs:[{symbol:"Allocated",value:24365,source:"Allokationsergebnis"},{symbol:"Forecast",value:25600,source:"Prognosesystem"}]}),a.jsx(Rt,{title:"Capacity Utilization",value:82.4,unit:"%",delta:1.2,deltaLabel:"vs baseline",state:"success",formula:"CU = ( Space_Used /  Space_Available)  100%",formulaInputs:[{symbol:"Space_Used",value:8240,source:"Flchenberechnung",description:"Genutzte Flche"},{symbol:"Space_Available",value:1e4,source:"Kapazittsplanung",description:"Verfgbare Flche"}]}),a.jsx(Rt,{title:"Exception Count",value:32,delta:-15.8,deltaLabel:"vs baseline",state:"success"})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(Rt,{title:"Stores in Fallback",value:18,state:"warning"}),a.jsx(Rt,{title:"Undercoverage Units",value:4336,state:"warning"}),a.jsx(Rt,{title:"Overcapacity",value:145,unit:"m",state:"neutral"}),a.jsx(Rt,{title:"MinFill Fulfillment",value:85.2,unit:"%",state:"warning",formula:"MF = (Stores_Above_MinFill / Total_Stores)  100%",formulaInputs:[{symbol:"Stores_Above_MinFill",value:213,source:"Rationierungsberechnung"},{symbol:"Total_Stores",value:245,source:"Empfngerbestimmung"}]})]}),a.jsxs("div",{className:"border rounded-lg",style:{borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"flex border-b overflow-x-auto",style:{borderColor:"var(--border-default)"},children:[{id:1,label:"Empfnger & Daten"},{id:2,label:"Prognose & Raumbedarf"},{id:3,label:"Kapazitt"},{id:4,label:"Rationierung"},{id:5,label:"Fallback & MinFill"},{id:6,label:"LOT/Gre/Pack"}].map(S=>a.jsx("button",{onClick:()=>m(S.id),className:"px-4 py-3 border-b-2 whitespace-nowrap",style:{borderColor:h===S.id?"var(--brand-primary)":"transparent",color:h===S.id?"var(--brand-primary)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:h===S.id?"var(--font-weight-semibold)":"var(--font-weight-normal)"},children:S.label},S.id))}),a.jsxs("div",{className:"p-6",children:[h===1&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Empfnger & Datenquellen"}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"flex",alignItems:"center",gap:"var(--space-2)"},children:["Empfngerstrategie",a.jsx(bf,{formula:"Recipients = f(Strategy, Season, Exclusions)",inputs:[{symbol:"Strategy",value:x.recipientStrategy,source:"Variantenkonfiguration"},{symbol:"Season",value:f.season,source:"Variantenkonfiguration"}],explanation:"Die Empfngerstrategie bestimmt, welche Filialen fr die Allokation in Frage kommen."})]}),a.jsxs("select",{value:x.recipientStrategy,onChange:S=>k({recipientStrategy:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Plan Data",children:"Planungsdaten"}),a.jsx("option",{value:"Manual Selection",children:"Manuelle Auswahl"}),a.jsx("option",{value:"Listing",children:"Listung"}),a.jsx("option",{value:"Transport Relations",children:"Transportrelationen"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Verfgbarkeitsquellen"}),a.jsx("div",{className:"space-y-2",children:Object.entries({dcStock:"DC-Bestnde",purchaseOrders:"Bestellungen",deliveries:"Lieferungen",external:"Externe Quellen"}).map(([S,N])=>a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x.availabilitySources[S],onChange:A=>k({availabilitySources:{...x.availabilitySources,[S]:A.target.checked}}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:N})]},S))})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Lieferterminlogik"}),a.jsxs("select",{value:x.deliveryDateLogic,onChange:S=>k({deliveryDateLogic:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Delivery Schedule",children:"Lieferplan"}),a.jsx("option",{value:"Planned Lead Time",children:"Geplante Vorlaufzeit"})]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-subtle)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Vorschau"}),a.jsxs("div",{className:"space-y-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Empfngerfilialen:"}),a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:"245"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Ausgeschlossene Filialen:"}),a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:"12"})]}),a.jsx("button",{className:"mt-2 text-brand-primary hover:underline",style:{fontSize:"var(--font-size-sm)"},children:"Filialliste anzeigen "})]})]})]}),h===2&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Prognose & Raumbedarf"}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x.useForecast,onChange:S=>k({useForecast:S.target.checked}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Prognose verwenden"})]}),x.useForecast&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Prognosequelle"}),a.jsxs("select",{value:x.forecastSource,onChange:S=>k({forecastSource:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Statistical Forecast v2.3",children:"Statistical Forecast v2.3"}),a.jsx("option",{value:"ML Forecast v1.0",children:"ML Forecast v1.0"}),a.jsx("option",{value:"Manual Forecast",children:"Manuelle Prognose"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"flex",alignItems:"center",gap:"var(--space-2)"},children:["Prognosegewichtung: ",x.forecastWeight,"%",a.jsx(bf,{formula:"D = Plan  (1 - w) + Forecast  w",inputs:[{symbol:"Plan",value:150,source:"Planungsdaten"},{symbol:"Forecast",value:120,source:x.forecastSource},{symbol:"w",value:x.forecastWeight/100,source:"Slider"}],result:150*(1-x.forecastWeight/100)+120*(x.forecastWeight/100),explanation:"Der Bedarf wird als gewichteter Durchschnitt zwischen Plan und Prognose berechnet."})]}),a.jsx("input",{type:"range",min:0,max:100,step:5,value:x.forecastWeight,onChange:S=>k({forecastWeight:Number(S.target.value)}),className:"w-full"}),a.jsxs("div",{className:"flex justify-between mt-1",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[a.jsx("span",{children:"0% (Nur Plan)"}),a.jsx("span",{children:"50%"}),a.jsx("span",{children:"100% (Nur Prognose)"})]})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x.forecastInfluencesSpace,onChange:S=>k({forecastInfluencesSpace:S.target.checked}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Prognose beeinflusst Raumbedarf"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Planungsebene fr Raumbedarf"}),a.jsxs("select",{value:x.spaceDemandPlanningLevel,onChange:S=>k({spaceDemandPlanningLevel:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Company",children:"Unternehmen"}),a.jsx("option",{value:"Buying Group",children:"Einkaufsbereich"}),a.jsx("option",{value:"Product Group",children:"Produktgruppe"}),a.jsx("option",{value:"Product",children:"Produkt"})]})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-info)",marginBottom:"var(--space-2)"},children:"Raumbedarf-Formel"}),a.jsxs("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:["SpaceDemand",a.jsx("sub",{children:"h"})," =  (Forecast",a.jsx("sub",{children:"i"}),"  p",a.jsx("sub",{children:"i"}),")"]}),a.jsx("div",{className:"mt-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:"Der Raumbedarf wird durch Summierung der prognostizierten Mengen multipliziert mit dem Flchenbedarf je Artikel berechnet."})]})]}),h===3&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Kapazitt & Restriktionen"}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Kapazittseinheit"}),a.jsx("div",{className:"flex gap-2",children:["m","Fixtures"].map(S=>a.jsx("button",{onClick:()=>k({capacityUnit:S}),className:"px-4 py-2 rounded-lg border",style:{backgroundColor:x.capacityUnit===S?"var(--brand-primary)":"var(--surface-page)",borderColor:x.capacityUnit===S?"var(--brand-primary)":"var(--border-input)",color:x.capacityUnit===S?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-sm)"},children:S},S))})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Kapazitts-Planungsebene"}),a.jsxs("select",{value:x.capacityPlanningLevel,onChange:S=>k({capacityPlanningLevel:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Company",children:"Unternehmen"}),a.jsx("option",{value:"Buying Group",children:"Einkaufsbereich"}),a.jsx("option",{value:"Product Group",children:"Produktgruppe"})]})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x.capacityIsHardLimit,onChange:S=>k({capacityIsHardLimit:S.target.checked}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Kapazitt ist harte Grenze"})]}),!x.capacityIsHardLimit&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:["Soft Zone: +",x.softZonePercentage,"%"]}),a.jsx("input",{type:"range",min:0,max:20,step:1,value:x.softZonePercentage,onChange:S=>k({softZonePercentage:Number(S.target.value)}),className:"w-full"})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:["Penalty Weight: ",x.softZonePenaltyWeight]}),a.jsx("input",{type:"range",min:0,max:1,step:.1,value:x.softZonePenaltyWeight,onChange:S=>k({softZonePenaltyWeight:Number(S.target.value)}),className:"w-full"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-subtle)",fontFamily:"monospace",fontSize:"var(--font-size-sm)"},children:["Free",a.jsx("sub",{children:"s,h"})," = max(0, Cap",a.jsx("sub",{children:"soll,s,h"}),"  Occ",a.jsx("sub",{children:"ist,s,h"}),")"]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-subtle)",fontFamily:"monospace",fontSize:"var(--font-size-sm)"},children:[" (p",a.jsx("sub",{children:"i"}),"  x",a.jsx("sub",{children:"i,s"}),")  Free",a.jsx("sub",{children:"s,h"})]})]})]}),h===4&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Rationierung & Fairness"}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Rationierungsstrategie"}),a.jsxs("select",{value:x.rationingStrategy,onChange:S=>k({rationingStrategy:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Proportional",children:"Proportional"}),a.jsx("option",{value:"Top Performer First",children:"Top Performer zuerst"}),a.jsx("option",{value:"Min-Max Fairness",children:"Min-Max Fairness"}),a.jsx("option",{value:"Presentation Stock First",children:"Prsentationsbestand zuerst"})]})]}),x.rationingStrategy==="Top Performer First"&&a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Top Performer Definition"}),a.jsxs("select",{value:x.topPerformerDefinition,onChange:S=>k({topPerformerDefinition:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Top 20% Sales",children:"Top 20% Umsatz"}),a.jsx("option",{value:"Top 30% Sales",children:"Top 30% Umsatz"}),a.jsx("option",{value:"A-Stores",children:"A-Filialen"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:["MinFill-Prozentsatz: ",x.minFillPercentage,"%"]}),a.jsx("input",{type:"range",min:50,max:100,step:5,value:x.minFillPercentage,onChange:S=>k({minFillPercentage:Number(S.target.value)}),className:"w-full"})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"flex",alignItems:"center",gap:"var(--space-2)"},children:["Fairness-Faktor : ",x.fairnessFactor,a.jsx(bf,{formula:"Fairness =   Equal_Distribution + (1 - )  Performance_Weight",inputs:[{symbol:"",value:x.fairnessFactor,source:"Slider"},{symbol:"Equal_Distribution",value:"1.0",source:"Gleichverteilung"},{symbol:"Performance_Weight",value:"0.85",source:"Performance-Gewichtung"}],explanation:"Ein hherer Fairness-Faktor fhrt zu gleichmigerer Verteilung, ein niedrigerer zu strkerer Performance-Gewichtung."})]}),a.jsx("input",{type:"range",min:0,max:1,step:.1,value:x.fairnessFactor,onChange:S=>k({fairnessFactor:Number(S.target.value)}),className:"w-full"}),a.jsxs("div",{className:"flex justify-between mt-1",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[a.jsx("span",{children:"0 (Performance)"}),a.jsx("span",{children:"0.5"}),a.jsx("span",{children:"1 (Gleichverteilung)"})]})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-info)",marginBottom:"var(--space-2)"},children:"Zielfunktion"}),a.jsxs("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:["max  (w",a.jsx("sub",{children:"i,s"}),"  x",a.jsx("sub",{children:"i,s"}),")    Underfill    Overcap"]})]})]}),h===5&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Fallback & MinFill"}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x.allowFallback,onChange:S=>k({allowFallback:S.target.checked}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Fallback erlauben"})]}),x.allowFallback&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Fallback-Strategie"}),a.jsxs("select",{value:x.fallbackStrategy,onChange:S=>k({fallbackStrategy:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Core/NOS substitution",children:"Core/NOS Substitution"}),a.jsx("option",{value:"Fairness redistribution",children:"Fairness Redistribution"}),a.jsx("option",{value:"Rule-based replacement",children:"Regelbasierte Ersetzung"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:["Fallback-Schwelle: ",x.fallbackThreshold,"%"]}),a.jsx("input",{type:"range",min:50,max:100,step:5,value:x.fallbackThreshold,onChange:S=>k({fallbackThreshold:Number(S.target.value)}),className:"w-full"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"MinFill-Profil"}),a.jsxs("select",{value:x.minFillProfile,onChange:S=>k({minFillProfile:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Core",children:"Core"}),a.jsx("option",{value:"Premium",children:"Premium"}),a.jsx("option",{value:"Small Store",children:"Small Store"})]})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-warning-subtle)",border:"1px solid var(--status-warning)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-warning)",marginBottom:"var(--space-2)"},children:"Fallback-Trigger"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:["Fallback wird aktiviert wenn:",a.jsxs("ul",{className:"mt-2 ml-4 space-y-1",children:[a.jsx("li",{children:" Supply < Demand UND SpaceDemand > Capacity"}),a.jsxs("li",{children:[" ODER ForecastFulfillment < ",x.fallbackThreshold,"%"]})]})]})]})]}),h===6&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"LOT / Gre / Pack"}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x.enforcePackSize,onChange:S=>k({enforcePackSize:S.target.checked}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Packgre erzwingen"})]}),x.enforcePackSize&&a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Packgre"}),a.jsx("input",{type:"number",min:1,value:x.packSize,onChange:S=>k({packSize:Number(S.target.value)}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:"Aus Artikelparameter"})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x.sizeCurveActive,onChange:S=>k({sizeCurveActive:S.target.checked}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Grenkurve aktiv"})]}),x.sizeCurveActive&&a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Min. Gren pro Filiale"}),a.jsx("input",{type:"number",min:1,max:10,value:x.minSizesPerStore,onChange:S=>k({minSizesPerStore:Number(S.target.value)}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Reparatur-Modus"}),a.jsxs("select",{value:x.repairMode,onChange:S=>k({repairMode:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Strict",children:"Strict (Ablehnen bei Verletzung)"}),a.jsx("option",{value:"Best Effort",children:"Best Effort (Bestmglich reparieren)"})]})]})]})]})]})]})}),a.jsx("div",{className:"overflow-y-auto border-l",style:{width:"25%",minWidth:"300px",backgroundColor:"var(--surface-subtle)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Vergleich"}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block",color:"var(--text-muted)"},children:"Baseline-Variante"}),a.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Standard HW 2025"}),a.jsx("option",{children:"SW 2025 - Baseline"})]})]}),a.jsx("div",{className:"mt-4 space-y-2",children:[{label:"Supply",value:"85.6%",delta:-6.9,baseline:"92.5%"},{label:"Forecast",value:"95.2%",delta:6.9,baseline:"88.3%"},{label:"Capacity",value:"82.4%",delta:1.2,baseline:"81.2%"}].map(S=>a.jsxs("div",{className:"p-2 rounded",style:{backgroundColor:"var(--surface-page)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:S.label}),a.jsxs("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:S.delta>0?"var(--status-success)":"var(--status-danger)"},children:[S.delta>0?"+":"",S.delta,"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)"},children:S.value}),a.jsxs("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:["vs ",S.baseline]})]})]},S.label))})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Validierung"}),a.jsx("div",{className:"space-y-2",children:[{label:"Empfnger gltig",status:!0},{label:"Liefertermine gltig",status:!0},{label:"Kapazitts-Snapshot vorhanden",status:!0},{label:"Parameter vollstndig",status:!0},{label:"Keine blockierenden Ausnahmen",status:!1}].map((S,N)=>a.jsxs("div",{className:"flex items-center gap-2",children:[S.status?a.jsx(un,{size:16,style:{color:"var(--status-success)"}}):a.jsx(Ft,{size:16,style:{color:"var(--status-warning)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:S.status?"var(--text-primary)":"var(--status-warning)"},children:S.label})]},N))}),a.jsx("button",{className:"w-full mt-4 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Validieren"})]}),f.status==="Validated"&&a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Freigabe"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block",color:"var(--text-muted)"},children:"Kommentar (Pflichtfeld)"}),a.jsx("textarea",{placeholder:"Freigabekommentar...",rows:3,className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)",resize:"vertical"}})]}),a.jsx("button",{className:"w-full px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Variante freigeben"})]})]}),f.status==="Released"&&a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Allokations-Run"}),a.jsxs("button",{onClick:()=>r?.(f.id),className:"w-full px-4 py-2 rounded-lg flex items-center justify-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(jE,{size:18}),"Zu Allokations-Run bertragen"]})]})]})})]})}const Rr=[{id:"1",store:"Zrich HB",cluster:"Urban Premium",product:"Running Shoes Pro",productGroup:"Shoes",demand:150,allocated:127,forecast:120,spaceDemand:52.5,spaceAvailable:70,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"2",store:"Basel SBB",cluster:"Urban Standard",product:"Running Shoes Pro",productGroup:"Shoes",demand:120,allocated:102,forecast:95,spaceDemand:42,spaceAvailable:50,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"3",store:"Genf",cluster:"Urban Premium",product:"Running Shoes Pro",productGroup:"Shoes",demand:165,allocated:140,forecast:135,spaceDemand:57.8,spaceAvailable:80,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"4",store:"Bern Bahnhof",cluster:"Regional",product:"Running Shoes Pro",productGroup:"Shoes",demand:85,allocated:48,forecast:70,spaceDemand:35,spaceAvailable:25,inFallback:!0,rationingApplied:!0,minFillMet:!1,exception:"Capacity Limit"},{id:"5",store:"Luzern",cluster:"Regional",product:"Running Shoes Pro",productGroup:"Shoes",demand:95,allocated:81,forecast:80,spaceDemand:33.3,spaceAvailable:45,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"6",store:"Zrich HB",cluster:"Urban Premium",product:"Winter Jacket",productGroup:"Apparel",demand:200,allocated:170,forecast:165,spaceDemand:85,spaceAvailable:95,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"7",store:"Basel SBB",cluster:"Urban Standard",product:"Winter Jacket",productGroup:"Apparel",demand:160,allocated:136,forecast:130,spaceDemand:68,spaceAvailable:75,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"8",store:"Genf",cluster:"Urban Premium",product:"Winter Jacket",productGroup:"Apparel",demand:220,allocated:187,forecast:180,spaceDemand:93.5,spaceAvailable:105,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"9",store:"Bern Bahnhof",cluster:"Regional",product:"Winter Jacket",productGroup:"Apparel",demand:110,allocated:65,forecast:90,spaceDemand:55,spaceAvailable:40,inFallback:!0,rationingApplied:!0,minFillMet:!1,exception:"Capacity Limit"},{id:"10",store:"Luzern",cluster:"Regional",product:"Winter Jacket",productGroup:"Apparel",demand:125,allocated:106,forecast:100,spaceDemand:50,spaceAvailable:60,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"11",store:"St. Gallen",cluster:"Regional",product:"Hiking Boots",productGroup:"Shoes",demand:75,allocated:42,forecast:60,spaceDemand:31.5,spaceAvailable:22,inFallback:!0,rationingApplied:!0,minFillMet:!1,exception:"Capacity Limit"},{id:"12",store:"Lausanne",cluster:"Urban Standard",product:"Hiking Boots",productGroup:"Shoes",demand:105,allocated:89,forecast:85,spaceDemand:42,spaceAvailable:55,inFallback:!1,rationingApplied:!0,minFillMet:!0}];function roe({variantName:e,onBack:t,onSaveVariant:r,onNavigateToExplainability:n}){const[i,o]=z.useState("completed"),[l,u]=z.useState("overview"),[d,f]=z.useState(""),[v,h]=z.useState(""),m=Rr.reduce((E,D)=>E+D.demand,0),b=Rr.reduce((E,D)=>E+D.allocated,0),j=Rr.reduce((E,D)=>E+D.forecast,0),x=b/m*100,y=b/j*100,w=Rr.filter(E=>E.inFallback).length,k=Rr.filter(E=>E.minFillMet).length/Rr.length*100,S=Rr.filter(E=>E.exception).length,N=Object.entries(Rr.reduce((E,D)=>(E[D.cluster]||(E[D.cluster]={demand:0,allocated:0,forecast:0}),E[D.cluster].demand+=D.demand,E[D.cluster].allocated+=D.allocated,E[D.cluster].forecast+=D.forecast,E),{})).map(([E,D])=>({cluster:E,demand:D.demand,allocated:D.allocated,forecast:D.forecast,coverage:D.allocated/D.demand*100})),A=Object.entries(Rr.reduce((E,D)=>(E[D.productGroup]||(E[D.productGroup]={demand:0,allocated:0}),E[D.productGroup].demand+=D.demand,E[D.productGroup].allocated+=D.allocated,E),{})).map(([E,D])=>({productGroup:E,demand:D.demand,allocated:D.allocated,coverage:D.allocated/D.demand*100})),O=Rr.map(E=>({spaceDemand:E.spaceDemand,spaceAvailable:E.spaceAvailable,allocated:E.allocated,store:E.store,inFallback:E.inFallback})),_=Rr.filter(E=>!(d&&E.cluster!==d||v&&E.productGroup!==v)),T=[{key:"store",label:"Filiale",sortable:!0},{key:"cluster",label:"Cluster",sortable:!0},{key:"product",label:"Produkt",sortable:!0},{key:"productGroup",label:"Produktgruppe",sortable:!0},{key:"demand",label:"Bedarf",align:"right",sortable:!0,render:E=>E.toLocaleString("de-CH")},{key:"allocated",label:"Allokiert",align:"right",sortable:!0,render:(E,D)=>{const M=E/D.demand*100;return a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsx("span",{children:E.toLocaleString("de-CH")}),a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:M>=90?"var(--surface-success-subtle)":M>=75?"var(--surface-warning-subtle)":"var(--surface-danger-subtle)",color:M>=90?"var(--status-success)":M>=75?"var(--status-warning)":"var(--status-danger)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[M.toFixed(0),"%"]})]})}},{key:"forecast",label:"Prognose",align:"right",sortable:!0,render:E=>E.toLocaleString("de-CH")},{key:"spaceDemand",label:"Raumbedarf",align:"right",sortable:!0,render:E=>`${E.toFixed(1)} m`},{key:"spaceAvailable",label:"Kapazitt",align:"right",sortable:!0,render:(E,D)=>{const M=D.spaceDemand/E*100;return a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsxs("span",{children:[E.toFixed(1)," m"]}),M>100&&a.jsx(Ft,{size:16,style:{color:"var(--status-danger)"}})]})}},{key:"inFallback",label:"Status",render:(E,D)=>a.jsxs("div",{className:"flex flex-wrap gap-1",children:[E&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Fallback"}),D.rationingApplied&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--status-info)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Rationiert"}),!D.minFillMet&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-danger-subtle)",color:"var(--status-danger)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"MinFill "}),D.exception&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-danger-subtle)",color:"var(--status-danger)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:D.exception})]})}];return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-tint",children:a.jsx(lE,{size:20})}),a.jsxs("div",{children:[a.jsxs("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"4px"},children:["Simulationsanalyse: ",e]}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Analysiere die Allokationsergebnisse und speichere die Variante"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[i==="completed"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:n,className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(vE,{size:16}),"Explainability"]}),a.jsxs("button",{className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(Ta,{size:16}),"Export"]}),a.jsxs("button",{onClick:r,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(xu,{size:16}),"Variante speichern"]})]}),i==="idle"&&a.jsxs("button",{onClick:()=>o("running"),className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(vf,{size:16}),"Simulation starten"]})]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[i==="completed"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6 p-4 rounded-lg border flex items-start gap-3",style:{backgroundColor:S>0?"var(--surface-warning-subtle)":"var(--surface-success-subtle)",borderColor:S>0?"var(--status-warning)":"var(--status-success)"},children:[S>0?a.jsx(Ft,{size:24,style:{color:"var(--status-warning)",flexShrink:0}}):a.jsx(un,{size:24,style:{color:"var(--status-success)",flexShrink:0}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"4px",color:S>0?"var(--status-warning)":"var(--status-success)"},children:S>0?"Simulation mit Warnungen abgeschlossen":"Simulation erfolgreich abgeschlossen"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:S>0?`${S} Ausnahmen erkannt - Fallback in ${w} Filialen aktiv`:"Alle Allokationen erfolgreich berechnet"})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(Rt,{title:"Supply Coverage",value:x.toFixed(1),unit:"%",delta:-6.9,deltaLabel:"vs baseline",state:x>=90?"success":"warning",formula:"Coverage = (Allocated / Demand)  100%",formulaInputs:[{symbol:"Allocated",value:b,source:"Simulation"},{symbol:"Demand",value:m,source:"Bedarfsberechnung"}]}),a.jsx(Rt,{title:"Forecast Fulfillment",value:y.toFixed(1),unit:"%",delta:6.9,deltaLabel:"vs baseline",state:y>=90?"success":"warning",formula:"FF = (Allocated / Forecast)  100%",formulaInputs:[{symbol:"Allocated",value:b,source:"Simulation"},{symbol:"Forecast",value:j,source:"Prognosesystem"}]}),a.jsx(Rt,{title:"Stores in Fallback",value:w,state:w>0?"warning":"success"}),a.jsx(Rt,{title:"MinFill Fulfillment",value:k.toFixed(1),unit:"%",state:k>=90?"success":"warning",formula:"MF = (Stores_MinFill_Met / Total_Stores)  100%",formulaInputs:[{symbol:"Stores_MinFill_Met",value:Rr.filter(E=>E.minFillMet).length,source:"Simulation"},{symbol:"Total_Stores",value:Rr.length,source:"Simulation"}]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(Rt,{title:"Exception Count",value:S,state:S<5?"success":"warning"}),a.jsx(Rt,{title:"Total Demand",value:m.toLocaleString("de-CH"),unit:"Einheiten",state:"neutral"}),a.jsx(Rt,{title:"Total Allocated",value:b.toLocaleString("de-CH"),unit:"Einheiten",state:"neutral"}),a.jsx(Rt,{title:"Undercoverage",value:(m-b).toLocaleString("de-CH"),unit:"Einheiten",state:"warning"})]}),a.jsxs("div",{className:"border rounded-lg mb-6",style:{borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"flex border-b",style:{borderColor:"var(--border-default)"},children:[{id:"overview",label:"bersicht"},{id:"details",label:"Details"},{id:"exceptions",label:`Ausnahmen (${S})`},{id:"fallback",label:`Fallback (${w})`}].map(E=>a.jsx("button",{onClick:()=>u(E.id),className:"px-4 py-3 border-b-2",style:{borderColor:l===E.id?"var(--brand-primary)":"transparent",color:l===E.id?"var(--brand-primary)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:l===E.id?"var(--font-weight-semibold)":"var(--font-weight-normal)"},children:E.label},E.id))}),a.jsxs("div",{className:"p-6",children:[l==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Coverage nach Cluster"}),a.jsx("div",{style:{width:"100%",height:"300px",minHeight:"300px"},children:a.jsx(Zt,{width:"100%",height:"100%",minHeight:300,children:a.jsxs(Nr,{data:N,children:[a.jsx(yt,{dataKey:"cluster",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(xt,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(it,{}),a.jsx(Ct,{}),a.jsx(Te,{dataKey:"demand",fill:"var(--text-muted)",name:"Bedarf",opacity:.4}),a.jsx(Te,{dataKey:"allocated",fill:"var(--brand-primary)",name:"Allokiert"}),a.jsx(Te,{dataKey:"forecast",fill:"var(--brand-accent)",name:"Prognose",opacity:.6})]})})})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Coverage nach Produktgruppe"}),a.jsx("div",{style:{width:"100%",height:"300px",minHeight:"300px"},children:a.jsx(Zt,{width:"100%",height:"100%",minHeight:300,children:a.jsxs(Nr,{data:A,layout:"vertical",children:[a.jsx(yt,{type:"number",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(xt,{dataKey:"productGroup",type:"category",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(it,{}),a.jsx(Ct,{}),a.jsx(Te,{dataKey:"demand",fill:"var(--text-muted)",name:"Bedarf",opacity:.4}),a.jsx(Te,{dataKey:"allocated",fill:"var(--brand-primary)",name:"Allokiert"})]})})})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Kapazittsanalyse (Raumbedarf vs. Verfgbare Kapazitt)"}),a.jsx("div",{style:{width:"100%",height:"350px",minHeight:"350px"},children:a.jsx(Zt,{width:"100%",height:"100%",minHeight:350,children:a.jsxs(rI,{children:[a.jsx(yt,{dataKey:"spaceDemand",name:"Raumbedarf",unit:" m",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(xt,{dataKey:"spaceAvailable",name:"Verfgbare Kapazitt",unit:" m",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(bl,{dataKey:"allocated",range:[50,400]}),a.jsx(it,{cursor:{strokeDasharray:"3 3"}}),a.jsx(Ct,{}),a.jsx(_i,{name:"Ohne Fallback",data:O.filter(E=>!E.inFallback),fill:"var(--brand-primary)"}),a.jsx(_i,{name:"Mit Fallback",data:O.filter(E=>E.inFallback),fill:"var(--status-warning)"})]})})}),a.jsxs("div",{className:"mt-3 p-3 rounded-lg flex items-start gap-2",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx(Xt,{size:16,style:{color:"var(--status-info)",flexShrink:0,marginTop:"2px"}}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:"Punkte oberhalb der Diagonalen haben ausreichend Kapazitt. Punkte unterhalb der Diagonalen sind kapazittslimitiert und zeigen Fallback-Kandidaten."})]})]})]}),l==="details"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex gap-3 mb-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("select",{value:d,onChange:E=>f(E.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Cluster"}),a.jsx("option",{value:"Urban Premium",children:"Urban Premium"}),a.jsx("option",{value:"Urban Standard",children:"Urban Standard"}),a.jsx("option",{value:"Regional",children:"Regional"})]})}),a.jsx("div",{className:"flex-1",children:a.jsxs("select",{value:v,onChange:E=>h(E.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Produktgruppen"}),a.jsx("option",{value:"Shoes",children:"Shoes"}),a.jsx("option",{value:"Apparel",children:"Apparel"}),a.jsx("option",{value:"Accessories",children:"Accessories"})]})})]}),a.jsx(Ar,{columns:T,data:_,density:"comfortable"})]}),l==="exceptions"&&a.jsx("div",{children:a.jsx(Ar,{columns:T,data:Rr.filter(E=>E.exception),density:"comfortable"})}),l==="fallback"&&a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-warning)",marginBottom:"var(--space-2)"},children:"Fallback-Strategie: Core/NOS Substitution"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:["In ",w," Filialen konnte die geplante Produktgruppe aufgrund von Kapazittsengpssen nicht vollstndig allokiert werden. Stattdessen wurden effizientere Core/NOS-Artikel als Ersatz zugeteilt."]}),a.jsxs("div",{className:"mt-3 p-3 rounded",style:{backgroundColor:"var(--surface-page)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Effizienz-Verbesserung:"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-success)"},children:"+12.5%"})]})]}),a.jsx(Ar,{columns:T,data:Rr.filter(E=>E.inFallback),density:"comfortable"})]})]})]})]}),i==="running"&&a.jsx("div",{className:"flex items-center justify-center",style:{minHeight:"400px"},children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 rounded-full animate-spin mx-auto mb-4",style:{borderColor:"var(--border-default)",borderTopColor:"var(--brand-primary)"}}),a.jsx("div",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"8px"},children:"Simulation luft..."}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Berechne Allokation fr 245 Filialen"})]})}),i==="idle"&&a.jsx("div",{className:"flex items-center justify-center",style:{minHeight:"400px"},children:a.jsxs("div",{className:"text-center",children:[a.jsx(vf,{size:48,style:{color:"var(--brand-primary)",margin:"0 auto 16px"}}),a.jsx("div",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"8px"},children:"Bereit zur Simulation"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginBottom:"24px"},children:'Klicken Sie auf "Simulation starten" um die Allokation zu berechnen'}),a.jsxs("button",{onClick:()=>o("running"),className:"px-6 py-3 rounded-lg flex items-center gap-2 mx-auto",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(vf,{size:20}),"Simulation starten"]})]})})]})]})}const Gb=[{id:"sku-1",sku:"RUN-PRO-001",articleColor:"Running Shoes Pro - Black",productGroup:"Shoes",season:"NOS",priorityScore:92.5,forecastDemand:1450,replenishmentNeed:1280,dcSupply:1100,allocated:1085,shortage:195,capacityLimitedStores:3,stockoutRiskStores:8,substitutionUsed:0,packSizeRepairs:12,sizeCurveRepairs:5,status:"shortage",packSize:6,spacePerUnit:.35},{id:"sku-2",sku:"JAC-WIN-045",articleColor:"Winter Jacket - Navy",productGroup:"Apparel",season:"HW 2025",priorityScore:88.3,forecastDemand:2100,replenishmentNeed:1850,dcSupply:1950,allocated:1835,shortage:15,capacityLimitedStores:5,stockoutRiskStores:2,substitutionUsed:0,packSizeRepairs:8,sizeCurveRepairs:3,status:"ok",packSize:4,spacePerUnit:.5},{id:"sku-3",sku:"HIK-BOO-023",articleColor:"Hiking Boots - Brown",productGroup:"Shoes",season:"NOS",priorityScore:85.7,forecastDemand:980,replenishmentNeed:820,dcSupply:550,allocated:545,shortage:275,capacityLimitedStores:2,stockoutRiskStores:15,substitutionUsed:6,packSizeRepairs:10,sizeCurveRepairs:8,status:"substitution_active",packSize:6,spacePerUnit:.42},{id:"sku-4",sku:"TRA-PAN-067",articleColor:"Training Pants - Black",productGroup:"Apparel",season:"NOS",priorityScore:91.2,forecastDemand:1680,replenishmentNeed:1420,dcSupply:1450,allocated:1410,shortage:10,capacityLimitedStores:1,stockoutRiskStores:3,substitutionUsed:0,packSizeRepairs:6,sizeCurveRepairs:2,status:"ok",packSize:8,spacePerUnit:.28},{id:"sku-5",sku:"CAP-BAS-012",articleColor:"Baseball Cap - Various",productGroup:"Accessories",season:"NOS",priorityScore:78.4,forecastDemand:1200,replenishmentNeed:1050,dcSupply:1100,allocated:1040,shortage:10,capacityLimitedStores:0,stockoutRiskStores:1,substitutionUsed:0,packSizeRepairs:4,sizeCurveRepairs:0,status:"ok",packSize:12,spacePerUnit:.15},{id:"sku-6",sku:"SOC-SHI-089",articleColor:"Soccer Shirt - Red",productGroup:"Apparel",season:"SW 2025",priorityScore:82.6,forecastDemand:1340,replenishmentNeed:1180,dcSupply:980,allocated:965,shortage:215,capacityLimitedStores:4,stockoutRiskStores:11,substitutionUsed:3,packSizeRepairs:7,sizeCurveRepairs:6,status:"shortage",packSize:6,spacePerUnit:.32}],ff=[{id:"alloc-1",storeId:"S001",storeName:"Zrich HB",cluster:"Urban Premium",sku:"RUN-PRO-001",listingAllowed:!0,forecastSales:85,avgDailyForecast:3.04,onHand:12,inbound:6,targetServiceLevel:95,presentationMin:6,replenishmentNeed:67,capacityFree:25.5,capacityMaxUnits:72,allocationProposed:67,allocationFinal:66,coverage:98.5,expectedDOS:27.6,limitingFactor:"pack",substitutionUsed:!1,exceptionsCount:1,sizes:[{size:"38",targetShare:.1,onHand:1,allocated:6,repairDelta:0},{size:"39",targetShare:.15,onHand:2,allocated:10,repairDelta:0},{size:"40",targetShare:.2,onHand:3,allocated:13,repairDelta:1},{size:"41",targetShare:.25,onHand:3,allocated:17,repairDelta:1},{size:"42",targetShare:.2,onHand:2,allocated:13,repairDelta:0},{size:"43",targetShare:.1,onHand:1,allocated:7,repairDelta:1}]},{id:"alloc-2",storeId:"S002",storeName:"Basel SBB",cluster:"Urban Standard",sku:"RUN-PRO-001",listingAllowed:!0,forecastSales:68,avgDailyForecast:2.43,onHand:8,inbound:0,targetServiceLevel:92,presentationMin:5,replenishmentNeed:60,capacityFree:18.2,capacityMaxUnits:52,allocationProposed:52,allocationFinal:54,coverage:90,expectedDOS:25.5,limitingFactor:"capacity",substitutionUsed:!1,exceptionsCount:1,sizes:[{size:"38",targetShare:.1,onHand:1,allocated:5,repairDelta:0},{size:"39",targetShare:.15,onHand:1,allocated:8,repairDelta:0},{size:"40",targetShare:.2,onHand:2,allocated:11,repairDelta:0},{size:"41",targetShare:.25,onHand:2,allocated:14,repairDelta:1},{size:"42",targetShare:.2,onHand:1,allocated:11,repairDelta:0},{size:"43",targetShare:.1,onHand:1,allocated:5,repairDelta:0}]},{id:"alloc-3",storeId:"S003",storeName:"Genf",cluster:"Urban Premium",sku:"RUN-PRO-001",listingAllowed:!0,forecastSales:92,avgDailyForecast:3.29,onHand:15,inbound:12,targetServiceLevel:95,presentationMin:6,replenishmentNeed:65,capacityFree:28,capacityMaxUnits:80,allocationProposed:65,allocationFinal:66,coverage:101.5,expectedDOS:28.3,limitingFactor:"pack",substitutionUsed:!1,exceptionsCount:0,sizes:[{size:"38",targetShare:.1,onHand:2,allocated:7,repairDelta:1},{size:"39",targetShare:.15,onHand:2,allocated:10,repairDelta:0},{size:"40",targetShare:.2,onHand:3,allocated:13,repairDelta:0},{size:"41",targetShare:.25,onHand:4,allocated:17,repairDelta:1},{size:"42",targetShare:.2,onHand:2,allocated:13,repairDelta:0},{size:"43",targetShare:.1,onHand:2,allocated:6,repairDelta:0}]},{id:"alloc-4",storeId:"S004",storeName:"Bern Bahnhof",cluster:"Regional",sku:"RUN-PRO-001",listingAllowed:!0,forecastSales:48,avgDailyForecast:1.71,onHand:3,inbound:0,targetServiceLevel:88,presentationMin:4,replenishmentNeed:45,capacityFree:10.5,capacityMaxUnits:30,allocationProposed:30,allocationFinal:30,coverage:66.7,expectedDOS:19.3,limitingFactor:"capacity",substitutionUsed:!1,exceptionsCount:2,sizes:[{size:"38",targetShare:.1,onHand:0,allocated:3,repairDelta:0},{size:"39",targetShare:.15,onHand:1,allocated:5,repairDelta:1},{size:"40",targetShare:.2,onHand:1,allocated:6,repairDelta:0},{size:"41",targetShare:.25,onHand:1,allocated:8,repairDelta:1},{size:"42",targetShare:.2,onHand:0,allocated:6,repairDelta:0},{size:"43",targetShare:.1,onHand:0,allocated:2,repairDelta:-1}]},{id:"alloc-5",storeId:"S005",storeName:"Luzern",cluster:"Regional",sku:"RUN-PRO-001",listingAllowed:!0,forecastSales:56,avgDailyForecast:2,onHand:5,inbound:6,targetServiceLevel:90,presentationMin:4,replenishmentNeed:45,capacityFree:15.8,capacityMaxUnits:45,allocationProposed:45,allocationFinal:42,coverage:93.3,expectedDOS:26.5,limitingFactor:"pack",substitutionUsed:!1,exceptionsCount:0,sizes:[{size:"38",targetShare:.1,onHand:1,allocated:4,repairDelta:0},{size:"39",targetShare:.15,onHand:1,allocated:6,repairDelta:0},{size:"40",targetShare:.2,onHand:1,allocated:8,repairDelta:0},{size:"41",targetShare:.25,onHand:1,allocated:11,repairDelta:1},{size:"42",targetShare:.2,onHand:1,allocated:8,repairDelta:0},{size:"43",targetShare:.1,onHand:0,allocated:5,repairDelta:1}]},{id:"alloc-6",storeId:"S006",storeName:"St. Gallen",cluster:"Regional",sku:"HIK-BOO-023",listingAllowed:!0,forecastSales:42,avgDailyForecast:1.5,onHand:2,inbound:0,targetServiceLevel:85,presentationMin:3,replenishmentNeed:37,capacityFree:8.4,capacityMaxUnits:20,allocationProposed:20,allocationFinal:18,coverage:48.6,expectedDOS:13.3,limitingFactor:"supply",substitutionUsed:!0,exceptionsCount:2,sizes:[{size:"39",targetShare:.12,onHand:0,allocated:2,repairDelta:0},{size:"40",targetShare:.18,onHand:1,allocated:3,repairDelta:0},{size:"41",targetShare:.25,onHand:1,allocated:5,repairDelta:1},{size:"42",targetShare:.22,onHand:0,allocated:4,repairDelta:0},{size:"43",targetShare:.15,onHand:0,allocated:3,repairDelta:1},{size:"44",targetShare:.08,onHand:0,allocated:1,repairDelta:0}]}],noe={serviceLevelFulfillment:87.3,stockoutRiskStores:12,capacityUtilizationImpact:78.5,supplyCoverageDC:84.8,substitutionActivated:6,repairsApplied:{pack:47,size:24},totalAllocated:6880,horizon:{from:"2025-01-20",to:"2025-02-16",weeks:4}};function aoe({variantName:e,onBack:t,onSaveVariant:r,onNavigateToExplainability:n}){const[i,o]=z.useState("completed"),[l,u]=z.useState("overview"),[d,f]=z.useState(""),v=noe,h=Gb.map(y=>({sku:y.articleColor.split(" - ")[0],need:y.replenishmentNeed,allocated:y.allocated,coverage:y.allocated/y.replenishmentNeed*100})),m=ff.map(y=>({expectedDOS:y.expectedDOS,coverage:y.coverage,allocated:y.allocationFinal,store:y.storeName,stockoutRisk:y.expectedDOS<14})),b=ff.filter(y=>!(d&&y.sku!==d)),j=[{key:"storeName",label:"Filiale",sortable:!0},{key:"cluster",label:"Cluster",sortable:!0},{key:"forecastSales",label:"Forecast (4W)",align:"right",sortable:!0,render:y=>y.toLocaleString("de-CH")},{key:"avgDailyForecast",label:" Daily",align:"right",sortable:!0,render:y=>y.toFixed(2)},{key:"onHand",label:"On-Hand",align:"right",sortable:!0},{key:"replenishmentNeed",label:"Need",align:"right",sortable:!0},{key:"allocationFinal",label:"Allocated",align:"right",sortable:!0,render:(y,w)=>a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsx("span",{children:y}),a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:w.coverage>=90?"var(--surface-success-subtle)":w.coverage>=75?"var(--surface-warning-subtle)":"var(--surface-danger-subtle)",color:w.coverage>=90?"var(--status-success)":w.coverage>=75?"var(--status-warning)":"var(--status-danger)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[w.coverage.toFixed(0),"%"]})]})},{key:"expectedDOS",label:"Expected DOS",align:"right",sortable:!0,render:y=>{const w=y;return a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsxs("span",{children:[w.toFixed(1)," Tage"]}),w<14&&a.jsx(Ft,{size:16,style:{color:"var(--status-danger)"}})]})}},{key:"limitingFactor",label:"Limit",render:y=>y?a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:y}):null},{key:"substitutionUsed",label:"Status",render:(y,w)=>a.jsxs("div",{className:"flex flex-wrap gap-1",children:[y&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Substitution"}),w.expectedDOS<14&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-danger-subtle)",color:"var(--status-danger)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Stockout Risk"})]})}],x=[{key:"articleColor",label:"Artikel",sortable:!0},{key:"productGroup",label:"Produktgruppe",sortable:!0},{key:"priorityScore",label:"Priority Score",align:"right",sortable:!0,render:y=>y.toFixed(1)},{key:"forecastDemand",label:"Forecast Demand",align:"right",sortable:!0,render:y=>y.toLocaleString("de-CH")},{key:"replenishmentNeed",label:"Need",align:"right",sortable:!0,render:y=>y.toLocaleString("de-CH")},{key:"dcSupply",label:"DC Supply",align:"right",sortable:!0,render:y=>y.toLocaleString("de-CH")},{key:"allocated",label:"Allocated",align:"right",sortable:!0,render:(y,w)=>{const k=y/w.replenishmentNeed*100;return a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsx("span",{children:y.toLocaleString("de-CH")}),a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:k>=90?"var(--surface-success-subtle)":k>=75?"var(--surface-warning-subtle)":"var(--surface-danger-subtle)",color:k>=90?"var(--status-success)":k>=75?"var(--status-warning)":"var(--status-danger)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[k.toFixed(0),"%"]})]})}},{key:"shortage",label:"Shortage",align:"right",sortable:!0,render:y=>y>0?a.jsx("span",{style:{color:"var(--status-danger)",fontWeight:"var(--font-weight-semibold)"},children:y.toLocaleString("de-CH")}):"-"},{key:"stockoutRiskStores",label:"Stockout Risk",align:"right",sortable:!0,render:y=>y>0?a.jsx("span",{style:{color:"var(--status-danger)",fontWeight:"var(--font-weight-semibold)"},children:y}):"-"},{key:"status",label:"Status",render:y=>{const k={ok:{bg:"var(--surface-success-subtle)",color:"var(--status-success)",label:"OK"},shortage:{bg:"var(--surface-danger-subtle)",color:"var(--status-danger)",label:"Shortage"},capacity_limited:{bg:"var(--surface-warning-subtle)",color:"var(--status-warning)",label:"Cap Limited"},substitution_active:{bg:"var(--surface-warning-subtle)",color:"var(--status-warning)",label:"Substitution"},repaired:{bg:"var(--surface-info-subtle)",color:"var(--status-info)",label:"Repaired"}}[y];return a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:k.bg,color:k.color,fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:k.label})}}];return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-tint",children:a.jsx(lE,{size:20})}),a.jsxs("div",{children:[a.jsxs("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"4px"},children:["Replenishment Simulation: ",e]}),a.jsxs("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:["Horizon: ",v.horizon.weeks," Wochen (",v.horizon.from," - ",v.horizon.to,")"]})]})]}),a.jsx("div",{className:"flex items-center gap-3",children:i==="completed"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:n,className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(vE,{size:16}),"Explainability"]}),a.jsxs("button",{className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(Ta,{size:16}),"Export"]}),a.jsxs("button",{onClick:r,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(xu,{size:16}),"Variante speichern"]})]})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i==="completed"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6 p-4 rounded-lg border flex items-start gap-3",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},children:[a.jsx(Ft,{size:24,style:{color:"var(--status-warning)",flexShrink:0}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"4px",color:"var(--status-warning)"},children:"Simulation mit Warnungen abgeschlossen"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:`${v.stockoutRiskStores} Filialen mit Stockout-Risiko - Substitution in ${v.substitutionActivated} Filialen aktiv`})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(Rt,{title:"Service Level Fulfillment",value:v.serviceLevelFulfillment,unit:"%",delta:-7.7,deltaLabel:"vs target 95%",state:"warning",formula:"SLF =  min(1, Coverage_{i,s})  Weight_{i,s} /  Weight_{i,s}",formulaInputs:[{symbol:"Coverage_{i,s}",value:.873,source:"Allokation",description:"Allocated / Need"},{symbol:"Weight_{i,s}",value:12500,source:"Umsatzdaten",description:"Gewichtungsfaktor"}]}),a.jsx(Rt,{title:"Stockout Risk Stores",value:v.stockoutRiskStores,delta:-3,deltaLabel:"vs baseline",state:"warning",formula:"StockoutRisk = stores where DOS < ThresholdDays",formulaInputs:[{symbol:"DOS_{i,s}",value:6.5,source:"DOS-Berechnung",description:"(OnHand + Allocated) / AvgDaily"},{symbol:"ThresholdDays",value:14,source:"Parameter",description:"Kritische Schwelle"}]}),a.jsx(Rt,{title:"Capacity Utilization Impact",value:v.capacityUtilizationImpact,unit:"%",delta:2.1,deltaLabel:"vs current",state:"success"}),a.jsx(Rt,{title:"Supply Coverage DC",value:v.supplyCoverageDC,unit:"%",delta:-6.2,deltaLabel:"vs need",state:"warning"})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(Rt,{title:"Substitution Activated",value:v.substitutionActivated,state:"warning"}),a.jsx(Rt,{title:"Pack Repairs",value:v.repairsApplied.pack,state:"neutral"}),a.jsx(Rt,{title:"Size Curve Repairs",value:v.repairsApplied.size,state:"neutral"}),a.jsx(Rt,{title:"Total Allocated",value:v.totalAllocated.toLocaleString("de-CH"),unit:"Einheiten",state:"neutral"})]}),a.jsxs("div",{className:"border rounded-lg mb-6",style:{borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"flex border-b",style:{borderColor:"var(--border-default)"},children:[{id:"overview",label:"bersicht"},{id:"details",label:"Store Details"},{id:"stockout",label:`Stockout Risk (${v.stockoutRiskStores})`},{id:"substitution",label:`Substitution (${v.substitutionActivated})`}].map(y=>a.jsx("button",{onClick:()=>u(y.id),className:"px-4 py-3 border-b-2",style:{borderColor:l===y.id?"var(--brand-primary)":"transparent",color:l===y.id?"var(--brand-primary)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:l===y.id?"var(--font-weight-semibold)":"var(--font-weight-normal)"},children:y.label},y.id))}),a.jsxs("div",{className:"p-6",children:[l==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Coverage nach SKU"}),a.jsx("div",{style:{width:"100%",height:"300px",minHeight:"300px"},children:a.jsx(Zt,{width:"100%",height:"100%",minHeight:300,children:a.jsxs(Nr,{data:h,children:[a.jsx(yt,{dataKey:"sku",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(xt,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(it,{}),a.jsx(Ct,{}),a.jsx(Te,{dataKey:"need",fill:"var(--text-muted)",name:"Need",opacity:.4}),a.jsx(Te,{dataKey:"allocated",fill:"var(--brand-primary)",name:"Allocated"})]})})})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Days of Supply vs. Coverage"}),a.jsx("div",{style:{width:"100%",height:"350px",minHeight:"350px"},children:a.jsx(Zt,{width:"100%",height:"100%",minHeight:350,children:a.jsxs(rI,{children:[a.jsx(yt,{dataKey:"expectedDOS",name:"Expected DOS",unit:" Tage",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(xt,{dataKey:"coverage",name:"Coverage",unit:"%",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(bl,{dataKey:"allocated",range:[50,400]}),a.jsx(it,{cursor:{strokeDasharray:"3 3"}}),a.jsx(Ct,{}),a.jsx(_i,{name:"Ohne Stockout Risk",data:m.filter(y=>!y.stockoutRisk),fill:"var(--brand-primary)"}),a.jsx(_i,{name:"Mit Stockout Risk",data:m.filter(y=>y.stockoutRisk),fill:"var(--status-danger)"})]})})}),a.jsxs("div",{className:"mt-3 p-3 rounded-lg flex items-start gap-2",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx(Xt,{size:16,style:{color:"var(--status-info)",flexShrink:0,marginTop:"2px"}}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:"Punkte mit DOS < 14 Tage (rote Punkte) haben hohes Stockout-Risiko innerhalb der nchsten 2 Wochen."})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"SKU Overview"}),a.jsx(Ar,{columns:x,data:Gb,density:"comfortable"})]})]}),l==="details"&&a.jsxs("div",{children:[a.jsx("div",{className:"mb-4",children:a.jsxs("select",{value:d,onChange:y=>f(y.target.value),className:"px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle SKUs"}),Gb.map(y=>a.jsx("option",{value:y.sku,children:y.articleColor},y.id))]})}),a.jsx(Ar,{columns:j,data:b,density:"comfortable"})]}),l==="stockout"&&a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-danger-subtle)",borderColor:"var(--status-danger)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-danger)",marginBottom:"var(--space-2)"},children:"Stockout Risk Analysis"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:[v.stockoutRiskStores," Filialen haben einen erwarteten Days of Supply (DOS) unter 14 Tagen. Diese Filialen knnten innerhalb der nchsten 2 Wochen leerlaufen."]})]}),a.jsx(Ar,{columns:j,data:ff.filter(y=>y.expectedDOS<14),density:"comfortable"})]}),l==="substitution"&&a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-warning)",marginBottom:"var(--space-2)"},children:"Substitution Strategy: Within Product Group"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:["In ",v.substitutionActivated," Filialen wurde Substitution aktiviert aufgrund von kritischem Stockout-Risiko oder MinFill-Unterschreitung. Ersatz-SKUs wurden nach Efficiency (Forecast/SpaceDemand) ausgewhlt."]}),a.jsxs("div",{className:"mt-3 p-3 rounded",style:{backgroundColor:"var(--surface-page)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Effizienz-Verbesserung:"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-success)"},children:"+8.5%"})]})]}),a.jsx(Ar,{columns:j,data:ff.filter(y=>y.substitutionUsed),density:"comfortable"})]})]})]})]})})]})}const ioe=[{id:"step-1",step:1,title:"Scope & Eligibility",status:"OK",summary:"Zeitfenster und SKU-Scope definiert",what:"Der Scope des Replenishment-Laufs wurde festgelegt: Zeitfenster, betroffene SKUs, Filialen und Produktgruppen.",inputs:[{label:"Zeitfenster",value:"4 Wochen (20.01-16.02.2025)",source:"Variantenkonfiguration"},{label:"SKU-Anzahl",value:"1.247",source:"Produktstamm"},{label:"Filialscope",value:"245 Filialen",source:"Filialstamm"},{label:"Produktgruppen",value:"12 aktiv",source:"Hierarchie"}],output:"Scope: 1.247 SKUs  245 Filialen  4 Wochen",explanation:"Der Replenishment-Lauf arbeitet mit einem 4-Wochen-Horizont und umfasst alle aktiven SKUs in den definierten Produktgruppen fr alle belieferbaren Filialen."},{id:"step-2",step:2,title:"Recipient Determination",status:"OK",summary:"245 Filialen qualifiziert fr Belieferung",what:"Filialen wurden auf Basis von Listung, Transportrelationen und Liefersperren gefiltert.",inputs:[{label:"Gesamtfilialen",value:"258",source:"Filialstamm"},{label:"Listungskriterium aktiv",value:"Ja",source:"Variantenkonfiguration"},{label:"Ausgeschlossen",value:"13",source:"Filterung"}],output:"245 Filialen qualifiziert",explanation:"13 Filialen wurden ausgeschlossen: 5 wegen fehlender Listung, 4 wegen Liefersperre, 4 wegen blockierter Transportrelation."},{id:"step-3",step:3,title:"Forecast & Demand Signals",status:"OK",summary:"Absatzprognose und Recent Sales geladen",what:"Die Absatzprognose wurde fr den Horizont geladen und mit aktuellen Verkaufsdaten (Last 2 Weeks) abgeglichen.",inputs:[{label:"Prognosequelle",value:"Statistical Forecast v2.3",source:"Prognosesystem"},{label:"Prognose-Horizont",value:"4 Wochen",source:"Variantenkonfiguration"},{label:"Recent Sales Period",value:"14 Tage",source:"Systemparameter"},{label:"Gesamt Forecast Demand",value:"8.750 Einheiten",source:"Prognoseberechnung"}],formula:"ForecastDemand_{i,s} = _t ForecastSales_{i,s,t}",formulaInputs:[{symbol:"ForecastSales_{i,s,t}",value:"Variable",source:"Prognosesystem",description:"Prognose pro Tag/Woche"},{symbol:"t",value:"1-4 Wochen",source:"Zeitfenster",description:"Zeitbucket im Horizont"}],output:"Forecast fr 8.750 Einheiten ber 4 Wochen",explanation:"Die Prognose bercksichtigt saisonale Trends, aktuelle Verkaufsdaten und Lagerbestnde. Recent Sales der letzten 14 Tage wurden als Plausibilittscheck verwendet."},{id:"step-4",step:4,title:"Replenishment Need Calculation",status:"OK",summary:"Nachschubsbedarf: 7.600 Einheiten",what:"Der Nachschubsbedarf wurde berechnet als Ziellagerbestand minus aktuellem Bestand und Zulufen.",inputs:[{label:"Forecast Demand (Horizont)",value:"8.750 Einheiten",source:"Schritt 3"},{label:"Safety Stock",value:"620 Einheiten",source:"Sicherheitsbestand-Berechnung"},{label:"Presentation Min",value:"980 Einheiten",source:"Parameter"},{label:"On-Hand gesamt",value:"1.850 Einheiten",source:"Bestandssnapshot"},{label:"Inbound gesamt",value:"900 Einheiten",source:"Zulaufsdaten"}],formula:"Need_{i,s} = max(0, (ForecastDemand_{i,s} + Safety_{i,s} + Min_{i,s})  (OnHand_{i,s} + Inbound_{i,s}))",formulaInputs:[{symbol:"ForecastDemand_{i,s}",value:85,source:"Schritt 3",description:"Prognose fr Horizont"},{symbol:"Safety_{i,s}",value:8,source:"Sicherheitsbestandsberechnung",description:"z    LeadTime"},{symbol:"Min_{i,s}",value:6,source:"Prsentationsparameter",description:"Mindestprsentation"},{symbol:"OnHand_{i,s}",value:12,source:"Bestandssnapshot",description:"Aktueller Bestand"},{symbol:"Inbound_{i,s}",value:6,source:"Zulaufsdaten",description:"Zulufe im Horizont"}],output:"Replenishment Need: 7.600 Einheiten",explanation:"Der Nachschubsbedarf wurde so berechnet, dass der Ziellagerbestand (Forecast + Safety + MinPrsentation) erreicht wird, abzglich bereits vorhandenem Bestand und Zulufen. Safety Stock wurde mit Service Level 95% berechnet."},{id:"step-5",step:5,title:"Service Level Targeting",status:"WARN",summary:"Service Level Target: 95%, Erreicht: 87.3%",what:"Service Level Ziele wurden definiert und mit der erwarteten Coverage verglichen.",inputs:[{label:"Target Service Level ()",value:"95%",source:"Variantenkonfiguration"},{label:"Berechnete Coverage",value:"87.3%",source:"Allokationsberechnung"},{label:"Gewichtung",value:"Nach Umsatz",source:"Variantenkonfiguration"}],formula:"ServiceLevelFulfillment =  min(1, Coverage_{i,s})  Weight_{i,s} /  Weight_{i,s}",formulaInputs:[{symbol:"Coverage_{i,s}",value:.985,source:"Allokation",description:"Allocated / Need"},{symbol:"Weight_{i,s}",value:12500,source:"Umsatzdaten",description:"Gewichtungsfaktor (Umsatz)"}],output:"Service Level Fulfillment: 87.3%",limitingFactor:"Service Level Target von 95% nicht erreicht (Delta: -7.7%)",explanation:"Das Service Level Ziel von 95% konnte aufgrund von Supply-Engpssen nicht erreicht werden. Die erreichten 87.3% bedeuten, dass 87.3% der gewichteten Bedarfsmenge gedeckt werden kann.",warnings:["Service Level Target nicht erreicht","12 Filialen mit Stockout-Risiko","Kritische SKUs: RUN-PRO-001, HIK-BOO-023"]},{id:"step-6",step:6,title:"DC Supply Determination",status:"WARN",summary:"Verfgbarkeit DC: 7.130 Einheiten (93.8% des Bedarfs)",what:"Die verfgbare Menge im DC wurde aus Bestand, Bestellungen und Lieferungen ermittelt.",inputs:[{label:"DC On-Hand",value:"5.850 Einheiten",source:"DC Snapshot"},{label:"DC Inbound (besttigt)",value:"1.200 Einheiten",source:"Einkaufssystem"},{label:"DC Reservierungen",value:"-80 Einheiten",source:"Reservierungssystem"},{label:"Externe Quellen",value:"160 Einheiten",source:"Externe Lieferanten"}],formula:"Available_{i,DC} = OnHand_{i,DC} + Inbound_{i,DC}  Reservations_{i,DC} + External_i",formulaInputs:[{symbol:"OnHand_{i,DC}",value:5850,source:"DC Snapshot",description:"DC-Bestand"},{symbol:"Inbound_{i,DC}",value:1200,source:"Einkaufssystem",description:"Besttigte Bestellungen"},{symbol:"Reservations_{i,DC}",value:80,source:"Reservierungssystem",description:"Reservierte Mengen"},{symbol:"External_i",value:160,source:"Externe Lieferanten",description:"Externe Zulieferung"}],output:"DC Supply: 7.130 Einheiten",limitingFactor:"Supply deckt nur 93.8% des Bedarfs (Shortage: 470 Einheiten)",explanation:"Die DC-Verfgbarkeit reicht nicht aus, um den gesamten Nachschubsbedarf zu decken. Es besteht eine Unterdeckung von 470 Einheiten, die durch Rationierung verteilt werden muss.",warnings:["Supply Shortage: 470 Einheiten","Kritische SKUs mit <80% Coverage: 3","Rationierung erforderlich"]},{id:"step-7",step:7,title:"Capacity Snapshot & Space Constraints",status:"OK",summary:"Kapazittsdaten fr 245 Filialen  12 Warengruppen",what:"Die verfgbare Kapazitt wurde pro Filiale und Produktgruppe ermittelt und als Constraint hinterlegt.",inputs:[{label:"Kapazittseinheit",value:"m",source:"Variantenkonfiguration"},{label:"Planungsebene",value:"Produktgruppe",source:"Variantenkonfiguration"},{label:"Snapshot-Datum",value:"17.01.2025",source:"Kapazittsplanung"},{label:" Freie Kapazitt",value:"18.4 m pro Filiale",source:"Kapazittsberechnung"}],formula:"Free_{s,h,t} = max(0, CapSoll_{s,h,t}  OccIst_{s,h,t})",formulaInputs:[{symbol:"CapSoll_{s,h,t}",value:"450 m",source:"Kapazittsplanung",description:"SOLL-Kapazitt"},{symbol:"OccIst_{s,h,t}",value:"380 m",source:"Bestandssnapshot",description:"IST-Belegung inkl. Zulufe"}],output:"Freie Kapazitt erfasst, Constraint aktiv",explanation:"Die freie Kapazitt wurde als Differenz zwischen SOLL und IST berechnet. Die IST-Belegung bercksichtigt aktuellen Bestand, Reservierungen und eingehende Lieferungen innerhalb des Horizonts."},{id:"step-8",step:8,title:"Priority Scoring (w_i,s)",status:"OK",summary:"Prioritts-Scores berechnet fr SKU-Filial-Kombinationen",what:"Fr jede SKU-Filial-Kombination wurde ein Prioritts-Score berechnet, der Urgency, Sales Velocity, Service Level Gap und Overstock Risk kombiniert.",inputs:[{label:"Gewicht: Stockout Urgency (a)",value:"0.35",source:"Variantenkonfiguration"},{label:"Gewicht: Sales Velocity (b)",value:"0.25",source:"Variantenkonfiguration"},{label:"Gewicht: Service Level Gap (c)",value:"0.30",source:"Variantenkonfiguration"},{label:"Gewicht: Overstock Risk (e)",value:"-0.10",source:"Variantenkonfiguration"}],formula:"w_{i,s} = a  StockoutUrgency_{i,s} + b  SalesVelocity_{i,s} + c  ServiceLevelGap_{i,s}  e  OverstockRisk_{i,s}",formulaInputs:[{symbol:"StockoutUrgency_{i,s}",value:.82,source:"DOS-Berechnung",description:"max(0, Threshold  DOS)"},{symbol:"SalesVelocity_{i,s}",value:.75,source:"Recent Sales",description:"Normalisierte Verkaufsgeschwindigkeit"},{symbol:"ServiceLevelGap_{i,s}",value:.12,source:"Coverage-Berechnung",description:"max(0, Target  Coverage_pre)"},{symbol:"OverstockRisk_{i,s}",value:.05,source:"WOS-Berechnung",description:"Weeks of Supply > Threshold"}],output:"Priority Scores berechnet (: 82.5, Range: 45-95)",explanation:"Der Priority Score kombiniert verschiedene Faktoren: Stockout Urgency (basierend auf Days of Supply), Sales Velocity (Recent Sales), Service Level Gap (Target vs. aktuelle Coverage) und Overstock Risk (Weeks of Supply). Hhere Scores fhren zu bevorzugter Allokation."},{id:"step-9",step:9,title:"Allocation Core Solver",status:"OK",summary:"Min-Cost Flow Solver erfolgreich ausgefhrt",what:"Die Allokation wurde mit einem Min-Cost Flow Algorithmus berechnet unter Bercksichtigung von Supply-, Demand- und Capacity-Constraints.",inputs:[{label:"Solver-Typ",value:"Min-Cost Flow",source:"Variantenkonfiguration"},{label:"Decision Variables",value:"1.247 SKUs  245 Stores",source:"Berechnung"},{label:"Underfill Penalty ",value:"10.0",source:"Variantenkonfiguration"},{label:"Overcap Penalty ",value:"5.0",source:"Variantenkonfiguration"}],formula:"max _{i,s} w_{i,s}  x_{i,s}    _{i,s} Underfill_{i,s}    _{s,h} OvercapSlack_{s,h}",formulaInputs:[{symbol:"w_{i,s}",value:92.5,source:"Schritt 8",description:"Priority Score"},{symbol:"x_{i,s}",value:"Variable",source:"Solver",description:"Allokierte Menge (Entscheidungsvariable)"},{symbol:"Underfill_{i,s}",value:"max(0, Need - x)",source:"Solver",description:"Nicht gedeckter Bedarf"},{symbol:"",value:10,source:"Penalty Parameter",description:"Underfill Penalty"},{symbol:"",value:5,source:"Penalty Parameter",description:"Overcapacity Penalty"}],output:"Allokation berechnet: 6.880 Einheiten verteilt",explanation:"Der Min-Cost Flow Solver maximiert die gewichtete Summe der Allokationen unter Einhaltung von Supply-, Demand- und Capacity-Constraints. Underfill wird mit Penalty  bestraft, Overcapacity mit ."},{id:"step-10",step:10,title:"Rationing under Shortage",status:"WARN",summary:"Proportionale Rationierung angewendet (Supply: 93.8% des Bedarfs)",what:"Aufgrund der Supply-Unterdeckung wurde eine proportionale Rationierung durchgefhrt mit iterativer Kapazitts-Clipping.",inputs:[{label:"Rationierungsstrategie",value:"Proportional",source:"Variantenkonfiguration"},{label:"Gesamtbedarf",value:"7.600 Einheiten",source:"Schritt 4"},{label:"Verfgbar",value:"7.130 Einheiten",source:"Schritt 6"},{label:"Redistribution Iterationen",value:"3",source:"Algorithmus"}],formula:"x_{i,s} = min(Need_{i,s}, CapMaxUnits_{i,s}, Need_{i,s}  Available_i / _s Need_{i,s})",formulaInputs:[{symbol:"Need_{i,s}",value:67,source:"Schritt 4",description:"Nachschubsbedarf"},{symbol:"CapMaxUnits_{i,s}",value:72,source:"Kapazittsberechnung",description:"floor(Free / p_i)"},{symbol:"Available_i",value:1100,source:"Schritt 6",description:"DC-Verfgbarkeit fr SKU"},{symbol:"_s Need_{i,s}",value:1280,source:"Aggregation",description:"Gesamtbedarf fr SKU"}],output:"Rationierung abgeschlossen, 3 Iterationen bentigt",limitingFactor:"Supply-Shortage fhrt zu durchschnittlich 93.8% Coverage",explanation:"Bei proportionaler Rationierung erhlt jede Filiale einen Anteil proportional zu ihrem Bedarf. Nach Clipping an Kapazittsgrenzen wird die frei gewordene Menge in weiteren Iterationen auf nicht-kapazittsbeschrnkte Filialen umverteilt.",warnings:["Supply-Shortage: 470 Einheiten","Redistribution: 3 Iterationen","32 Filialen an Kapazittsgrenze geclippt"]},{id:"step-11",step:11,title:"Stockout Prevention (MinFill)",status:"WARN",summary:"MinFill erfllt fr 233/245 Filialen",what:"Sicherstellung der Mindestprsentation, um Leerregale zu vermeiden. Bei Nichterreichbarkeit wird Substitution vorbereitet.",inputs:[{label:"MinFill-Profil",value:"Core",source:"Variantenkonfiguration"},{label:"Presentation Min ()",value:"4.8 Einheiten",source:"Parameter"},{label:"Filialen unter MinFill",value:"12",source:"Validierung"}],formula:"x_{i,s} >= Min_{i,s} (soft constraint with penalty)",formulaInputs:[{symbol:"x_{i,s}",value:30,source:"Allokation",description:"Allokierte Menge"},{symbol:"Min_{i,s}",value:4,source:"Prsentationsparameter",description:"Mindestprsentation"}],output:"MinFill erfllt: 95.1% (233/245 Filialen)",limitingFactor:"12 Filialen unter MinFill-Schwelle  Substitution erforderlich",explanation:"Die Mindestprsentation wurde als Soft Constraint behandelt. Fr 12 Filialen konnte die MinFill-Schwelle aufgrund von Supply- oder Kapazittsengpssen nicht erreicht werden. Diese Filialen sind Kandidaten fr Substitution.",warnings:["12 Filialen unter MinFill","Stockout-Risiko fr diese Filialen: Hoch","Substitution wird in Schritt 12 geprft"]},{id:"step-12",step:12,title:"Substitution / Fallback",status:"WARN",summary:"6 Filialen mit aktiver Substitution",what:"In Filialen mit kritischem Stockout-Risiko oder MinFill-Unterschreitung wurde Substitution mit alternativen SKUs durchgefhrt.",inputs:[{label:"Substitutionsstrategie",value:"Within Product Group",source:"Variantenkonfiguration"},{label:"Trigger",value:"MinFill Gap > 50% OR DOS < 7 Tage",source:"Regel"},{label:"Betroffene Filialen",value:"6",source:"Schritt 11"},{label:"Substitute SKUs verwendet",value:"3",source:"Substitutionslogik"}],formula:"Efficiency_g = Forecast_g / SpaceDemand_g, SubFill_s = min(FreeCapacity_{s,h}, RemainingMinFillGap_s)",formulaInputs:[{symbol:"Forecast_g",value:425,source:"Prognosesystem",description:"Prognose fr Ersatz-SKU"},{symbol:"SpaceDemand_g",value:148.75,source:"p_i  Forecast_g",description:"Raumbedarf fr Ersatz-SKU"},{symbol:"FreeCapacity_{s,h}",value:8.4,source:"Kapazitt nach Primr-Allokation",description:"Freie Kapazitt"},{symbol:"RemainingMinFillGap_s",value:2,source:"MinFill - Allocated",description:"Verbleibende MinFill-Lcke"}],output:"Substitution in 6 Filialen durchgefhrt, +48 Einheiten allokiert",limitingFactor:"Substitution aktiv aufgrund Stockout-Risiko",explanation:"Fr 6 Filialen mit kritischem Stockout-Risiko wurden alternative SKUs aus der gleichen Produktgruppe allokiert. Die Auswahl erfolgte nach Efficiency (Forecast/SpaceDemand) und Verfgbarkeit. Die Substitution verbessert die Service-Level-Erfllung um 1.2%.",warnings:["Substitution aktiv in 6 Filialen","Primr-SKU HIK-BOO-023  Substitute: RUN-PRO-001 (Basic)","Effizienz-Verbesserung: +8.5%"]},{id:"step-13",step:13,title:"Pack/LOT Repair",status:"OK",summary:"47 Pack-Reparaturen durchgefhrt",what:"Allokationsmengen wurden auf volle Packgren gerundet (Best Effort Mode).",inputs:[{label:"Pack Enforcement",value:"Best Effort",source:"Variantenkonfiguration"},{label:"Reparaturen erforderlich",value:"47",source:"Validierung"},{label:"Aufrundungen",value:"32",source:"Reparatur"},{label:"Abrundungen",value:"15",source:"Reparatur"}],formula:"x_{i,s} = c_i  y_{i,s}, wobei y_{i,s} = round(x_{i,s}_proposed / c_i)",formulaInputs:[{symbol:"c_i",value:6,source:"Artikelparameter",description:"Packgre"},{symbol:"x_{i,s}_proposed",value:67,source:"Solver",description:"Vorgeschlagene Menge"},{symbol:"y_{i,s}",value:11,source:"round(67/6)",description:"Anzahl Packs"},{symbol:"x_{i,s}",value:66,source:"6  11",description:"Finale Menge"}],output:"Pack-Reparaturen: +156 Einheiten (Aufrundung), -85 Einheiten (Abrundung)",explanation:"Im Best Effort Mode wurden Mengen auf die nchste volle Packgre gerundet. Bei Kapazittskonflikten wurde abgerundet. Netto-nderung: +71 Einheiten durch Aufrundungen."},{id:"step-14",step:14,title:"Size Curve Repair",status:"OK",summary:"24 Size Curve Reparaturen durchgefhrt",what:"Grenverteilungen wurden an Zielkurven angepasst unter Einhaltung von Mindestgren und Kapazittsgrenzen.",inputs:[{label:"Size Curve Active",value:"Ja",source:"Variantenkonfiguration"},{label:"Min Sizes per Store",value:"3",source:"Variantenkonfiguration"},{label:"Reparaturen",value:"24",source:"Validierung"}],formula:"x_{i,s,k}  share_k  x_{i,s}, mit Constraints: min 1 in core sizes, capacity limits",formulaInputs:[{symbol:"share_k",value:.25,source:"Grenkurve",description:"Ziel-Anteil fr Gre k"},{symbol:"x_{i,s}",value:66,source:"Schritt 13",description:"Gesamt-Allokation"},{symbol:"x_{i,s,k}",value:17,source:"Reparatur",description:"Allokation fr Gre k"}],output:"Size Curves angepasst, Min-Gren-Constraint erfllt",explanation:"Die Grenverteilung wurde an die Zielkurve angepasst. In allen Stores wurden mindestens 3 Gren allokiert. Kleinere Abweichungen von der Zielkurve wurden akzeptiert, um Pack-Constraints zu erfllen."},{id:"step-15",step:15,title:"Finalization & Exceptions",status:"WARN",summary:"Allokation abgeschlossen: 6.880 Einheiten, 18 Exceptions",what:"Die finale Allokation wurde validiert und Exceptions wurden fr kritische Situationen erzeugt.",inputs:[{label:"Finale Allokation",value:"6.880 Einheiten",source:"Schritt 14"},{label:"Service Level erreicht",value:"87.3%",source:"KPI-Berechnung"},{label:"Exceptions erzeugt",value:"18",source:"Validierung"},{label:"Stockout Risk Stores",value:"12",source:"DOS-Berechnung"}],formula:"ServiceLevelFulfillment = (Allocated / Need)  100%",formulaInputs:[{symbol:"Allocated",value:6880,source:"Finale Allokation",description:"Allokierte Gesamtmenge"},{symbol:"Need",value:7600,source:"Schritt 4",description:"Nachschubsbedarf"}],output:"Replenishment Run abgeschlossen: 90.5% Coverage",limitingFactor:"Service Level Target nicht erreicht (87.3% vs. 95%)",explanation:"Der Replenishment-Lauf wurde erfolgreich abgeschlossen. Aufgrund von Supply-Engpssen konnten 90.5% des Nachschubsbedarfs gedeckt werden. 18 Exceptions wurden fr manuelle Nachbearbeitung erzeugt: 12 fr Stockout-Risiko, 6 fr Substitutions-Review.",warnings:["Service Level Target nicht erreicht: 87.3% (Ziel: 95%)","12 Filialen mit Stockout-Risiko (DOS < 14 Tage)","6 Filialen mit aktiver Substitution","18 Exceptions zur manuellen Prfung"]}],ooe=[{id:"step-1",step:1,title:"Empfngerbestimmung",status:"OK",summary:"245 Filialen aus Planungsdaten ermittelt",what:"Basierend auf der Planungsstrategie wurden alle Filialen ermittelt, die fr diese Allokation in Frage kommen.",inputs:[{label:"Planungsstrategie",value:"Planungsdaten",source:"Variantenkonfiguration"},{label:"Saison",value:"HW 2025",source:"Variantenkonfiguration"},{label:"Ausschlusskriterien",value:"3 aktiv",source:"Systemkonfiguration"}],output:"245 Filialen qualifiziert, 12 ausgeschlossen",explanation:"Die Filialen wurden anhand der Planungsdaten fr die Saison HW 2025 ermittelt. Ausgeschlossen wurden Filialen ohne aktive Listung, geschlossene Filialen und Filialen mit blockierten Transportrelationen.",warnings:["3 Filialen haben temporre Liefersperren"]},{id:"step-2",step:2,title:"Lieferterminauswahl",status:"OK",summary:"Liefertermine aus Lieferplan ermittelt",what:"Fr jede Filiale wurde der optimale Liefertermin basierend auf dem Lieferplan und der Vorlaufzeit bestimmt.",inputs:[{label:"Lieferplanlogik",value:"Lieferplan",source:"Variantenkonfiguration"},{label:"Standardvorlaufzeit",value:"14 Tage",source:"Systemparameter"},{label:"Frhester Termin",value:"15.01.2025",source:"Zeitfenster"}],output:" Liefertermin: 22.01.2025",explanation:"Der Liefertermin wurde fr jede Filiale individuell aus dem hinterlegten Lieferplan bernommen. Bei fehlenden Eintrgen wurde die Standardvorlaufzeit verwendet."},{id:"step-3",step:3,title:"Bedarfsberechnung",status:"OK",summary:"Bedarf fr 1.247 Produkt-Filialen-Kombinationen berechnet",what:"Der Bedarf wurde auf Basis von Plan, Bestand und Zulauf berechnet, optional gewichtet mit der Absatzprognose.",inputs:[{label:"Prognosegewicht",value:"60%",source:"Variantenkonfiguration"},{label:"Planungsdaten",value:"1.247 Zeilen",source:"Planungssystem"},{label:"Bestandsdaten",value:"Snapshot 10.01.2025",source:"Warenwirtschaft"}],formula:"D_{i,s} = max(0, T_{i,s} - (B_{i,s} + I_{i,s}))  (1 - w) + F_{i,s}  w",formulaInputs:[{symbol:"T_{i,s}",value:150,source:"Planungsdaten",description:"Geplante Menge"},{symbol:"B_{i,s}",value:45,source:"Bestandssnapshot",description:"Aktueller Bestand"},{symbol:"I_{i,s}",value:20,source:"Zulaufsdaten",description:"Zulufe"},{symbol:"F_{i,s}",value:120,source:"Prognosesystem",description:"Absatzprognose"},{symbol:"w",value:"0.6",source:"Variantenparameter",description:"Prognosegewicht"}],output:"Gesamtbedarf: 28.456 Einheiten",explanation:"Der Bedarf wurde als gewichteter Durchschnitt zwischen planbasiertem Bedarf und prognosebasiertem Bedarf berechnet. Das Prognosegewicht von 60% fhrt zu einer strkeren Bercksichtigung der Absatzprognose.",warnings:["128 Artikel ohne Prognose  nur Plan verwendet"]},{id:"step-4",step:4,title:"Verfgbarkeitsermittlung",status:"WARN",summary:"Verfgbarkeit: 24.120 Einheiten (84.8% des Bedarfs)",what:"Die verfgbare Menge wurde aus DC-Bestnden, Bestellungen und Lieferungen ermittelt.",inputs:[{label:"DC-Bestnde",value:"18.450 Einheiten",source:"DC Snapshot"},{label:"Bestellungen",value:"5.200 Einheiten",source:"Einkaufssystem"},{label:"Lieferungen",value:"470 Einheiten",source:"Logistiksystem"}],formula:"Supply = DC_{stock} + PO_{confirmed} + Delivery_{planned}",formulaInputs:[{symbol:"DC_{stock}",value:18450,source:"DC Snapshot 10.01.2025",description:"DC-Bestand"},{symbol:"PO_{confirmed}",value:5200,source:"Einkaufssystem",description:"Besttigte Bestellungen"},{symbol:"Delivery_{planned}",value:470,source:"Logistiksystem",description:"Geplante Lieferungen"}],output:"Verfgbar: 24.120 Einheiten",limitingFactor:"Verfgbarkeit ist limitierend (84.8% des Bedarfs)",explanation:"Die Gesamtverfgbarkeit deckt 84.8% des errechneten Bedarfs. Es besteht eine Unterdeckung von 4.336 Einheiten, die durch Rationierung verteilt werden muss.",warnings:["Unterdeckung: 4.336 Einheiten","Rationierung erforderlich"]},{id:"step-5",step:5,title:"Kapazittssnapshot",status:"OK",summary:"Kapazittsdaten fr 245 Filialen geladen",what:"Die verfgbare Kapazitt pro Filiale und Produktgruppe wurde aus dem Kapazittsplanungssystem bernommen.",inputs:[{label:"Kapazittseinheit",value:"m",source:"Variantenkonfiguration"},{label:"Planungsebene",value:"Produktgruppe",source:"Variantenkonfiguration"},{label:"Snapshot-Datum",value:"10.01.2025",source:"Kapazittsplanung"}],formula:"Free_{s,h} = max(0, Cap_{soll,s,h} - Occ_{ist,s,h})",formulaInputs:[{symbol:"Cap_{soll,s,h}",value:"450 m",source:"Kapazittsplanung",description:"SOLL-Kapazitt"},{symbol:"Occ_{ist,s,h}",value:"380 m",source:"Bestandssnapshot",description:"IST-Belegung"}],output:" Freie Kapazitt: 68.4 m pro Filiale",explanation:"Die freie Kapazitt wurde als Differenz zwischen SOLL-Kapazitt und IST-Belegung berechnet. Die IST-Belegung setzt sich zusammen aus aktuellem Bestand, Reservierungen und eingehenden Lieferungen."},{id:"step-6",step:6,title:"Optimierung / Heuristik",status:"OK",summary:"Allokation mit Proportional-Strategie berechnet",what:"Die verfgbare Menge wurde auf Basis der gewhlten Strategie auf die Filialen verteilt.",inputs:[{label:"Strategie",value:"Proportional",source:"Variantenkonfiguration"},{label:"Fairness-Faktor ",value:"0.8",source:"Variantenkonfiguration"},{label:"Supply",value:"24.120 Einheiten",source:"Schritt 4"},{label:"Demand",value:"28.456 Einheiten",source:"Schritt 3"}],formula:"x_{i,s} = min(D_{i,s}, Supply  (D_{i,s} /  D_{i,s}))",formulaInputs:[{symbol:"D_{i,s}",value:150,source:"Bedarfsberechnung",description:"Bedarf Artikel i, Filiale s"},{symbol:"Supply",value:24120,source:"Verfgbarkeit",description:"Gesamtverfgbarkeit"},{symbol:" D_{i,s}",value:28456,source:"Bedarfsberechnung",description:"Gesamtbedarf"}],output:"Allokation fr 1.247 Zeilen berechnet",explanation:"Bei der proportionalen Strategie erhlt jede Filiale einen Anteil entsprechend ihrem Bedarf. Die Summe aller Allokationen entspricht der verfgbaren Menge."},{id:"step-7",step:7,title:"Rationierung",status:"WARN",summary:"187 Filialen betroffen, MinFill: 85.2%",what:"Aufgrund der Unterdeckung musste eine Rationierung durchgefhrt werden. MinFill-Regeln wurden angewendet.",inputs:[{label:"MinFill-Profil",value:"Core",source:"Variantenkonfiguration"},{label:"MinFill-Prozentsatz",value:"80%",source:"Variantenkonfiguration"},{label:"Rationierte Menge",value:"4.336 Einheiten",source:"Schritt 4"}],output:"MinFill-Erfllung: 85.2%",limitingFactor:"MinFill-Ziel von 90% nicht erreicht",explanation:"Die Rationierung wurde so durchgefhrt, dass mglichst viele Filialen mindestens 80% ihrer Bedarfsmenge erhalten. Filialen mit sehr geringem Bedarf wurden priorisiert, um Prsentationsbestnde sicherzustellen.",warnings:["32 Filialen unter MinFill-Schwelle","MinFill-Ziel 90% nicht erreicht (ist: 85.2%)"]},{id:"step-8",step:8,title:"Fallback",status:"WARN",summary:"18 Filialen in Fallback-Modus",what:"Fr Filialen, die weder aus Verfgbarkeit noch aus Kapazitt beliefert werden konnten, wurde ein Fallback aktiviert.",inputs:[{label:"Fallback-Strategie",value:"Core/NOS Substitution",source:"Variantenkonfiguration"},{label:"Trigger",value:"Supply < Demand AND Space > Capacity",source:"Variantenkonfiguration"},{label:"Betroffene Filialen",value:"18",source:"Schritt 7"}],output:"18 Filialen mit Ersatzartikeln",limitingFactor:"Fallback aktiv aufgrund Kapazittsengpass",explanation:"In 18 Filialen konnte die geplante Produktgruppe aufgrund von Kapazittsengpssen nicht vollstndig allokiert werden. Stattdessen wurden effizientere Core/NOS-Artikel als Ersatz zugeteilt.",warnings:["Fallback aktiv in 18 Filialen",'Ersatz: Produktgruppe "Shoes"  "Basic Shoes"',"Effizienz-Verbesserung: +12.5%"]},{id:"step-9",step:9,title:"Nachbearbeitung (LOT/Gre)",status:"OK",summary:"Packgren und Grenkurven angewendet",what:"Die berechneten Allokationsmengen wurden auf Packgren gerundet und Grenkurven wurden angewendet.",inputs:[{label:"Pack-Gre erzwingen",value:"Ja",source:"Variantenkonfiguration"},{label:"Grenkurve aktiv",value:"Ja",source:"Variantenkonfiguration"},{label:"Min. Gren pro Filiale",value:"3",source:"Variantenkonfiguration"},{label:"Reparatur-Modus",value:"Best Effort",source:"Variantenkonfiguration"}],output:"Mengen angepasst: +245 Einheiten (Aufrundung)",explanation:"Die berechneten Mengen wurden auf volle Packgren aufgerundet. Grenkurven wurden angewendet, um sicherzustellen, dass jede Filiale mindestens 3 Gren erhlt."},{id:"step-10",step:10,title:"Endergebnis",status:"OK",summary:"Allokation abgeschlossen: 24.365 Einheiten verteilt",what:"Die finale Allokation wurde erstellt und validiert.",inputs:[{label:"Allokierte Menge",value:"24.365 Einheiten",source:"Schritt 9"},{label:"Filialen beliefert",value:"245",source:"Schritt 1"},{label:"Artikel-Filiale Zeilen",value:"1.247",source:"Berechnung"}],formula:"Coverage = (Supply / Demand)  100%",formulaInputs:[{symbol:"Supply",value:24365,source:"Finale Allokation",description:"Allokierte Menge"},{symbol:"Demand",value:28456,source:"Bedarfsberechnung",description:"Gesamtbedarf"}],output:"Coverage: 85.6%",explanation:"Die Allokation wurde erfolgreich abgeschlossen. Aufgrund der Unterdeckung konnten 85.6% des Bedarfs gedeckt werden. 18 Filialen befinden sich im Fallback-Modus."}],eE={OK:{icon:Ka,color:"var(--status-success)",bgColor:"var(--surface-success-subtle)",label:"OK"},WARN:{icon:Ft,color:"var(--status-warning)",bgColor:"var(--surface-warning-subtle)",label:"Warnung"},FAIL:{icon:dE,color:"var(--status-danger)",bgColor:"var(--surface-danger-subtle)",label:"Fehler"}};function soe({allocationType:e="Initial Allocation"}={}){const t=e==="Replenishment"?ioe:ooe,[r,n]=z.useState(t[0]),i=eE[r.status],o=i.icon;return a.jsxs("div",{className:"h-full flex gap-6",children:[a.jsxs("div",{className:"overflow-y-auto p-6",style:{width:"350px",backgroundColor:"var(--surface-subtle)",borderRight:"1px solid var(--border-default)"},children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Entscheidungspfad"}),a.jsx("div",{className:"space-y-2",children:t.map((l,u)=>{const d=l.id===r.id,f=eE[l.status],v=f.icon;return a.jsxs("div",{className:"relative",children:[u<t.length-1&&a.jsx("div",{style:{position:"absolute",left:"19px",top:"40px",width:"2px",height:"calc(100% + 8px)",backgroundColor:"var(--border-default)"}}),a.jsxs("button",{onClick:()=>n(l),className:"w-full p-3 rounded-lg flex items-start gap-3 text-left transition-all",style:{backgroundColor:d?"var(--surface-page)":"transparent",border:d?"2px solid var(--brand-primary)":"1px solid transparent"},children:[a.jsx("div",{className:"flex-shrink-0 rounded-full flex items-center justify-center",style:{width:"40px",height:"40px",backgroundColor:f.bgColor,border:`2px solid ${f.color}`,position:"relative",zIndex:1},children:a.jsx(v,{size:20,style:{color:f.color}})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"2px"},children:["Schritt ",l.step]}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)",marginBottom:"4px"},children:l.title}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:l.summary})]}),d&&a.jsx(cn,{size:20,style:{color:"var(--brand-primary)"}})]})]},l.id)})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[a.jsx("div",{className:"flex-shrink-0 rounded-full flex items-center justify-center",style:{width:"60px",height:"60px",backgroundColor:i.bgColor,border:`3px solid ${i.color}`},children:a.jsx(o,{size:32,style:{color:i.color}})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:["Schritt ",r.step," von ",t.length]}),a.jsx("h1",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:r.title}),a.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full",style:{backgroundColor:i.bgColor,color:i.color,fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(o,{size:16}),i.label]})]})]}),r.warnings&&r.warnings.length>0&&a.jsxs("div",{className:"mb-6 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-warning)"},children:[a.jsx(Ft,{size:18}),"Warnungen"]}),a.jsx("ul",{className:"space-y-1",style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:r.warnings.map((l,u)=>a.jsxs("li",{children:[" ",l]},u))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Was wurde berechnet?"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)",lineHeight:1.6},children:r.what})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Eingabewerte"}),a.jsx("div",{className:"space-y-3",children:r.inputs.map((l,u)=>a.jsxs("div",{className:"flex items-start justify-between p-3 rounded-lg",style:{backgroundColor:"var(--surface-subtle)"},children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"2px"},children:l.label}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:["Quelle: ",l.source]})]}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:l.value})]},u))})]}),r.formula&&r.formulaInputs&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Formel"}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-subtle)",fontFamily:"monospace",fontSize:"var(--font-size-md)",color:"var(--text-primary)"},children:r.formula}),a.jsx("div",{className:"mt-4 space-y-2",children:r.formulaInputs.map((l,u)=>a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg",style:{backgroundColor:"var(--surface-page)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-sm)",color:"var(--brand-primary)",fontWeight:"var(--font-weight-semibold)",minWidth:"80px"},children:l.symbol}),a.jsxs("div",{className:"flex-1",children:[l.description&&a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)",marginBottom:"2px"},children:l.description}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:["Quelle: ",l.source]})]}),a.jsxs("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:["= ",l.value]})]},u))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Ergebnis"}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-info-subtle)",border:"2px solid var(--status-info)"},children:a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-info)"},children:r.output})})]}),r.limitingFactor&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Limitierender Faktor"}),a.jsxs("div",{className:"p-4 rounded-lg flex items-start gap-3",style:{backgroundColor:"var(--surface-warning-subtle)",border:"1px solid var(--status-warning)"},children:[a.jsx(Xt,{size:20,style:{color:"var(--status-warning)",flexShrink:0,marginTop:"2px"}}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:r.limitingFactor})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Erklrung (Warum?)"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)",lineHeight:1.6},children:r.explanation})]})]})]})}const oo=[{id:"ZH-001",name:"Zrich HB",description:"Hauptbahnhof",address:"Bahnhofstrasse 1, 8001 Zrich",country:"Schweiz",size:850},{id:"BS-001",name:"Basel SBB",description:"Bahnhof",address:"Centralbahnplatz 1, 4051 Basel",country:"Schweiz",size:720},{id:"BE-001",name:"Bern Westside",description:"Shopping-Center",address:"Riedbachstrasse 100, 3027 Bern",country:"Schweiz",size:650},{id:"GE-001",name:"Genve Cornavin",description:"Bahnhof",address:"Place de Cornavin, 1201 Genve",country:"Schweiz",size:780},{id:"LU-001",name:"Luzern Bahnhof",description:"Bahnhof",address:"Bahnhofplatz 1, 6003 Luzern",country:"Schweiz",size:580},{id:"SG-001",name:"St. Gallen",description:"Innenstadt",address:"Multergasse 25, 9000 St. Gallen",country:"Schweiz",size:620},{id:"WI-001",name:"Winterthur",description:"Altstadt",address:"Marktgasse 68, 8400 Winterthur",country:"Schweiz",size:540}];function loe({onAddCluster:e}){const[t,r]=z.useState([{id:"cluster-1",name:"Cluster A - Grostdte",stores:[oo[0],oo[1],oo[3]],color:"#2563eb",isExpanded:!0},{id:"cluster-2",name:"Cluster B - Mittelstdte",stores:[oo[2],oo[4]],color:"#10b981",isExpanded:!0},{id:"cluster-3",name:"Cluster C - Kleinstdte",stores:[oo[5],oo[6]],color:"#f59e0b",isExpanded:!0},{id:"unassigned",name:"Nicht zugeordnet",stores:[],color:"#6b7280",isExpanded:!0}]),[n,i]=z.useState(null),[o,l]=z.useState(null),u=j=>{r(x=>x.map(y=>y.id===j?{...y,isExpanded:!y.isExpanded}:y))},d=(j,x)=>{i({store:j,sourceClusterId:x})},f=()=>{i(null),l(null)},v=(j,x)=>{j.preventDefault(),l(x)},h=()=>{l(null)},m=(j,x)=>{if(j.preventDefault(),!n)return;const{store:y,sourceClusterId:w}=n;if(w===x){i(null),l(null);return}r(k=>k.map(N=>N.id===w?{...N,stores:N.stores.filter(A=>A.id!==y.id)}:N).map(N=>N.id===x?{...N,stores:[...N.stores,y]}:N)),i(null),l(null)},b=j=>{j!=="unassigned"&&r(x=>{const y=x.find(k=>k.id===j);return!y||!x.find(k=>k.id==="unassigned")?x:x.filter(k=>k.id!==j).map(k=>k.id==="unassigned"?{...k,stores:[...k.stores,...y.stores]}:k)})};return a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)"},children:"Cluster-Zuordnung"}),a.jsxs("button",{onClick:e,className:"px-3 py-1.5 rounded-lg border flex items-center gap-2 transition-colors",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",borderColor:"var(--brand-primary)",fontSize:"var(--font-size-sm)"},children:[a.jsx(ji,{size:14}),"Neuen Cluster anlegen"]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)"},children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{style:{position:"sticky",top:0,backgroundColor:"var(--surface-alt)",zIndex:10},children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",width:"40px"}}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",width:"250px"},children:"Cluster / Filiale"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Beschreibung"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Adresse"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Land"}),a.jsx("th",{className:"text-right p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Gre (m)"}),a.jsx("th",{className:"text-right p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",width:"50px"}})]})}),a.jsx("tbody",{children:t.map(j=>a.jsx(coe,{cluster:j,isExpanded:j.isExpanded,isDragOver:o===j.id,onToggle:()=>u(j.id),onDragStart:d,onDragEnd:f,onDragOver:v,onDragLeave:h,onDrop:m,onDelete:()=>b(j.id)},j.id))})]})})]})}function coe({cluster:e,isExpanded:t,isDragOver:r,onToggle:n,onDragStart:i,onDragEnd:o,onDragOver:l,onDragLeave:u,onDrop:d,onDelete:f}){return a.jsxs(a.Fragment,{children:[a.jsxs("tr",{onDragOver:v=>l(v,e.id),onDragLeave:u,onDrop:v=>d(v,e.id),style:{backgroundColor:r?`${e.color}20`:`${e.color}15`,borderLeft:`4px solid ${e.color}`,borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{className:"p-3",children:a.jsx("button",{onClick:n,className:"p-1 rounded hover:bg-black/5 transition-colors",children:t?a.jsx(_o,{size:16}):a.jsx(cn,{size:16})})}),a.jsx("td",{className:"p-3",colSpan:5,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:e.color},children:e.name}),a.jsxs("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:`${e.color}25`,color:e.color,fontSize:"var(--font-size-xs)"},children:[e.stores.length," ",e.stores.length===1?"Filiale":"Filialen"]})]})}),a.jsx("td",{className:"p-3 text-right",children:e.id!=="unassigned"&&a.jsx("button",{onClick:f,className:"p-1 rounded opacity-50 hover:opacity-100 transition-opacity",style:{color:"var(--status-danger)"},children:a.jsx(Cs,{size:14})})})]}),t&&e.stores.map(v=>a.jsxs("tr",{draggable:!0,onDragStart:()=>i(v,e.id),onDragEnd:o,className:"group cursor-move hover:bg-black/5",style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{className:"p-3"}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zL,{size:14,style:{color:"var(--text-muted)"},className:"opacity-0 group-hover:opacity-100 transition-opacity"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:v.id}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:v.name})]})}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:v.description}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:v.address}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:v.country}),a.jsx("td",{className:"p-3 text-right",style:{fontSize:"var(--font-size-sm)"},children:v.size}),a.jsx("td",{className:"p-3"})]},v.id)),t&&e.stores.length===0&&a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{className:"p-3"}),a.jsx("td",{className:"p-6 text-center",colSpan:6,style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:e.id==="unassigned"?"Alle Filialen sind zugeordnet":"Ziehen Sie Filialen hierher, um sie diesem Cluster zuzuweisen"})]})]})}function uoe({onClose:e,onConfirm:t}){const[r,n]=z.useState(""),[i,o]=z.useState(""),[l,u]=z.useState(""),[d,f]=z.useState([]),h=[{id:"ZH-001",name:"Zrich HB",address:"Bahnhofstrasse 1, 8001 Zrich",country:"Schweiz",size:850},{id:"BS-001",name:"Basel SBB",address:"Centralbahnplatz 1, 4051 Basel",country:"Schweiz",size:720},{id:"BE-001",name:"Bern Westside",address:"Riedbachstrasse 100, 3027 Bern",country:"Schweiz",size:650},{id:"GE-001",name:"Genve Cornavin",address:"Place de Cornavin, 1201 Genve",country:"Schweiz",size:780},{id:"LU-001",name:"Luzern Bahnhof",address:"Bahnhofplatz 1, 6003 Luzern",country:"Schweiz",size:580}].filter(b=>b.id.toLowerCase().includes(r.toLowerCase())&&b.name.toLowerCase().includes(i.toLowerCase())&&b.country.toLowerCase().includes(l.toLowerCase())),m=b=>{f(j=>j.includes(b)?j.filter(x=>x!==b):[...j,b])};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:e,children:a.jsxs("div",{className:"rounded-lg border shadow-xl",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",width:"90%",maxWidth:"800px",maxHeight:"80vh",display:"flex",flexDirection:"column"},onClick:b=>b.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-default)"},children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Filialen auswhlen"}),a.jsx("button",{onClick:e,className:"p-1 rounded",style:{color:"var(--text-muted)"},children:a.jsx(Et,{size:20})})]}),a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsx("input",{type:"text",placeholder:"Filial-ID",value:r,onChange:b=>n(b.target.value),className:"px-3 py-2 rounded-lg border",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}}),a.jsx("input",{type:"text",placeholder:"Name",value:i,onChange:b=>o(b.target.value),className:"px-3 py-2 rounded-lg border",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}}),a.jsx("input",{type:"text",placeholder:"Land",value:l,onChange:b=>u(b.target.value),className:"px-3 py-2 rounded-lg border",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{className:"text-left pb-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",width:"40px"},children:a.jsx("input",{type:"checkbox",checked:d.length===h.length&&h.length>0,onChange:()=>{d.length===h.length?f([]):f(h.map(b=>b.id))}})}),a.jsx("th",{className:"text-left pb-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Filial-ID"}),a.jsx("th",{className:"text-left pb-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Name"}),a.jsx("th",{className:"text-left pb-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Adresse"}),a.jsx("th",{className:"text-left pb-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Land"}),a.jsx("th",{className:"text-right pb-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Gre (m)"})]})}),a.jsx("tbody",{children:h.map(b=>a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{className:"py-3",children:a.jsx("input",{type:"checkbox",checked:d.includes(b.id),onChange:()=>m(b.id)})}),a.jsx("td",{className:"py-3",style:{fontSize:"var(--font-size-sm)"},children:b.id}),a.jsx("td",{className:"py-3",style:{fontSize:"var(--font-size-sm)"},children:b.name}),a.jsx("td",{className:"py-3",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:b.address}),a.jsx("td",{className:"py-3",style:{fontSize:"var(--font-size-sm)"},children:b.country}),a.jsx("td",{className:"py-3 text-right",style:{fontSize:"var(--font-size-sm)"},children:b.size})]},b.id))})]})}),a.jsxs("div",{className:"flex items-center justify-between p-6 border-t",style:{borderColor:"var(--border-default)"},children:[a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[d.length," Filialen ausgewhlt"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"},children:"Abbrechen"}),a.jsx("button",{onClick:()=>t(d),className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)"},children:"Besttigen"})]})]})]})})}function doe({onClose:e,onCalculate:t}){const[r,n]=z.useState(["Region","Umsatz (jhrlich)","Verkaufsflche (m)"]),[i,o]=z.useState(3),[l,u]=z.useState(7),d=["Region","Land","Umsatz (jhrlich)","Umsatz (rollierend)","Verkaufsflche (m)","Sortimentstiefe","Umsatz je m","Abverkaufsrate","Kapazittsauslastung","Kundensegmente","Preisniveau","Logistikdistanz"],f=v=>{n(h=>h.includes(v)?h.filter(m=>m!==v):[...h,v])};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:e,children:a.jsxs("div",{className:"rounded-lg border shadow-xl",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",width:"600px",maxHeight:"80vh",display:"flex",flexDirection:"column"},onClick:v=>v.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-default)"},children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Attribute auswhlen"}),a.jsx("button",{onClick:e,className:"p-1 rounded",style:{color:"var(--text-muted)"},children:a.jsx(Et,{size:20})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginBottom:"var(--space-4)"},children:"Diese Attribute werden fr den systemgesttzten Clustervorschlag verwendet."}),a.jsx("div",{className:"space-y-2 mb-6",children:d.map(v=>a.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border cursor-pointer",style:{borderColor:r.includes(v)?"var(--brand-primary)":"var(--border-subtle)",backgroundColor:r.includes(v)?"var(--surface-subtle-tint)":"transparent"},children:[a.jsx("input",{type:"checkbox",checked:r.includes(v),onChange:()=>f(v)}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:v})]},v))}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",marginBottom:"var(--space-2)",display:"block"},children:["Minimale Clusteranzahl: ",i]}),a.jsx("input",{type:"range",min:"2",max:"10",value:i,onChange:v=>o(Number(v.target.value)),className:"w-full"})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",marginBottom:"var(--space-2)",display:"block"},children:["Maximale Clusteranzahl: ",l]}),a.jsx("input",{type:"range",min:"2",max:"15",value:l,onChange:v=>u(Number(v.target.value)),className:"w-full"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-6 border-t",style:{borderColor:"var(--border-default)"},children:[a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[r.length," Attribute ausgewhlt"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"},children:"Abbrechen"}),a.jsxs("button",{onClick:()=>t(r,i,l),disabled:r.length===0,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{backgroundColor:r.length>0?"var(--brand-primary)":"var(--surface-subtle)",color:r.length>0?"var(--text-inverse)":"var(--text-muted)",fontSize:"var(--font-size-sm)",cursor:r.length>0?"pointer":"not-allowed"},children:[a.jsx(zc,{size:16}),"Vorschlag berechnen"]})]})]})]})})}const tE=[{id:"cs-001",name:"Standard Cluster 2025",description:"Hauptcluster fr Allokation HW/SW 2025",clusterCount:5,storeCount:48,type:"Hybrid",status:"Active",lastModified:"2025-01-15T10:30:00",owner:"John Doe",createdAt:"2024-11-20T09:00:00"},{id:"cs-002",name:"Umsatz-basiert Q1 2025",description:"Systemvorschlag basierend auf Umsatz und Flche",clusterCount:6,storeCount:48,type:"System-generated",status:"Active",lastModified:"2025-01-12T14:20:00",owner:"Jane Smith",createdAt:"2025-01-10T11:00:00"},{id:"cs-003",name:"Regionale Cluster CH",description:"Manuelle Gruppierung nach Regionen",clusterCount:4,storeCount:35,type:"Manual",status:"Draft",lastModified:"2025-01-08T16:45:00",owner:"John Doe",createdAt:"2025-01-05T10:30:00"},{id:"cs-004",name:"Pilot Cluster Winter 2024",description:"Test-Setup fr Winter-Saison",clusterCount:3,storeCount:20,type:"Manual",status:"Archived",lastModified:"2024-12-15T10:00:00",owner:"Jane Smith",createdAt:"2024-11-01T09:00:00"},{id:"cs-005",name:"Kapazitts-optimiert",description:"Systemvorschlag mit Fokus auf Verkaufsflchenoptimierung",clusterCount:7,storeCount:48,type:"System-generated",status:"Draft",lastModified:"2025-01-14T09:15:00",owner:"John Doe",createdAt:"2025-01-13T08:00:00"}],pf=e=>{switch(e){case"Active":return"var(--status-success)";case"Draft":return"var(--status-warning)";case"Archived":return"var(--text-muted)";default:return"var(--text-secondary)"}},hf=e=>{switch(e){case"Manual":return"var(--brand-primary)";case"System-generated":return"var(--status-info)";case"Hybrid":return"#ec4899";default:return"var(--text-secondary)"}},rE=e=>{const t=new Date(e),n=Math.abs(new Date().getTime()-t.getTime()),i=Math.floor(n/(1e3*60*60*24));if(i===0){const o=Math.floor(n/36e5);return o===0?`vor ${Math.floor(n/6e4)} Min.`:`vor ${o} Std.`}return i===1?"gestern":i<7?`vor ${i} Tagen`:t.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})};function foe({onNavigate:e}){const[t,r]=z.useState(""),[n,i]=z.useState("All"),[o,l]=z.useState(tE[0]),[u,d]=z.useState(null),[f,v]=z.useState(!1),[h,m]=z.useState(!1),[b,j]=z.useState(""),[x,y]=z.useState(""),w=z.useMemo(()=>tE.filter(k=>{const S=k.name.toLowerCase().includes(t.toLowerCase())||k.description.toLowerCase().includes(t.toLowerCase()),N=n==="All"||k.status===n;return S&&N}),[t,n]);return a.jsxs("div",{className:"flex h-full gap-6",children:[a.jsxs("div",{className:"flex flex-col border-r",style:{width:"25%",minWidth:"320px",backgroundColor:"var(--surface-alt)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",padding:"var(--space-4)"},children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Cluster Sets"}),a.jsxs("button",{className:"px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},onMouseEnter:k=>k.currentTarget.style.opacity="0.9",onMouseLeave:k=>k.currentTarget.style.opacity="1",children:[a.jsx(ji,{size:16}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Neu"})]})]}),a.jsxs("div",{className:"relative mb-3",children:[a.jsx(dn,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),a.jsx("input",{type:"text",placeholder:"Cluster-Set suchen...",value:t,onChange:k=>r(k.target.value),className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]}),a.jsx("div",{className:"flex gap-2",children:["All","Active","Draft","Archived"].map(k=>a.jsx("button",{onClick:()=>i(k),className:"px-3 py-1.5 rounded-lg transition-colors",style:{backgroundColor:n===k?"var(--brand-primary)":"var(--surface-subtle)",color:n===k?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-xs)",border:"1px solid",borderColor:n===k?"var(--brand-primary)":"var(--border-subtle)"},children:k==="All"?"Alle":k},k))})]}),a.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:w.map(k=>a.jsxs("div",{onClick:()=>l(k),className:"w-full p-4 rounded-lg border transition-all text-left relative group cursor-pointer",style:{backgroundColor:o?.id===k.id?"var(--surface-subtle-tint)":"var(--surface-page)",borderColor:o?.id===k.id?"var(--brand-primary)":"var(--border-subtle)",borderWidth:o?.id===k.id?"2px":"1px"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"4px"},children:k.name}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",lineHeight:"1.4"},children:k.description})]}),a.jsx("button",{onClick:S=>{S.stopPropagation(),d(u===k.id?null:k.id)},className:"p-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",style:{backgroundColor:"var(--surface-subtle)",color:"var(--text-secondary)"},children:a.jsx(pE,{size:14})})]}),a.jsx("div",{className:"flex items-center gap-2 mb-2",children:a.jsxs("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[k.clusterCount," Cluster  ",k.storeCount," Filialen"]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:`${hf(k.type)}15`,color:hf(k.type),fontSize:"var(--font-size-xs)"},children:k.type}),a.jsx("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:`${pf(k.status)}15`,color:pf(k.status),fontSize:"var(--font-size-xs)"},children:k.status})]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"8px"},children:rE(k.lastModified)}),u===k.id&&a.jsx("div",{className:"absolute right-2 top-12 z-10 rounded-lg border shadow-lg py-1",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",minWidth:"150px"},onClick:S=>S.stopPropagation(),children:["Duplizieren","Umbenennen","Archivieren","Exportieren"].map(S=>a.jsx("button",{className:"w-full px-3 py-2 text-left transition-colors",style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},onMouseEnter:N=>N.currentTarget.style.backgroundColor="var(--surface-subtle)",onMouseLeave:N=>N.currentTarget.style.backgroundColor="transparent",children:S},S))})]},k.id))})]}),a.jsx("div",{className:"flex-1 flex flex-col",style:{backgroundColor:"var(--surface-alt)",borderRadius:"var(--radius-lg)",padding:"var(--space-6)"},children:o?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6 pb-6 border-b",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("input",{type:"text",value:b||o.name,onChange:k=>j(k.target.value),className:"text-2xl font-semibold mb-2 bg-transparent border-0 focus:outline-none w-full",style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"}}),a.jsx("textarea",{value:x||o.description,onChange:k=>y(k.target.value),placeholder:"Beschreibung hinzufgen...",className:"w-full bg-transparent border-0 focus:outline-none resize-none",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",minHeight:"40px"}})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"px-4 py-2 rounded-lg border transition-colors",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"},children:"Abbrechen"}),a.jsx("button",{className:"px-4 py-2 rounded-lg transition-colors",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)"},children:"Speichern"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Erstellt:"}),a.jsxs("span",{style:{fontSize:"var(--font-size-xs)"},children:[rE(o.createdAt)," von ",o.owner]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Typ:"}),a.jsx("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:`${hf(o.type)}15`,color:hf(o.type),fontSize:"var(--font-size-xs)"},children:o.type})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Status:"}),a.jsx("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:`${pf(o.status)}15`,color:pf(o.status),fontSize:"var(--font-size-xs)"},children:o.status})]})]})]}),a.jsxs("div",{className:"flex gap-3 mb-6",children:[a.jsxs("button",{onClick:()=>v(!0),className:"px-4 py-2 rounded-lg border flex items-center gap-2 transition-colors",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"},onMouseEnter:k=>k.currentTarget.style.borderColor="var(--brand-primary)",onMouseLeave:k=>k.currentTarget.style.borderColor="var(--border-default)",children:[a.jsx(cE,{size:16}),"Filialen auswhlen"]}),a.jsxs("button",{onClick:()=>m(!0),className:"px-4 py-2 rounded-lg border flex items-center gap-2 transition-colors",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"},onMouseEnter:k=>k.currentTarget.style.borderColor="var(--brand-primary)",onMouseLeave:k=>k.currentTarget.style.borderColor="var(--border-default)",children:[a.jsx(zc,{size:16}),"Attribute auswhlen"]})]}),a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsx(loe,{onAddCluster:()=>console.log("Add new cluster")})})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center",style:{color:"var(--text-muted)"},children:a.jsx("p",{children:"Whlen Sie ein Cluster-Set aus der Liste"})})}),f&&a.jsx(uoe,{onClose:()=>v(!1),onConfirm:k=>{console.log("Selected stores:",k),v(!1)}}),h&&a.jsx(doe,{onClose:()=>m(!1),onCalculate:(k,S,N)=>{console.log("Calculate with:",k,S,N),m(!1)}})]})}const poe="http://localhost:3002/api";async function gt(e,t={}){try{const r=await fetch(`${poe}${e}`,{...t,headers:{"Content-Type":"application/json",...t.headers}}),n=await r.json();return r.ok?n:{success:!1,error:n.error||"Request failed"}}catch(r){return console.error("API Error:",r),{success:!1,error:r.message||"Network error"}}}async function hoe(){return gt("/kpis")}async function voe(){return gt("/stores")}async function moe(e){return gt(`/stores/${e}`)}async function goe(e){const t=new URLSearchParams;e?.product_group&&t.append("product_group",e.product_group),e?.season&&t.append("season",e.season),e?.brand&&t.append("brand",e.brand);const r=t.toString();return gt(`/articles${r?`?${r}`:""}`)}async function yoe(e){const t=new URLSearchParams;e?.type&&t.append("type",e.type),e?.status&&t.append("status",e.status),e?.user_name&&t.append("user_name",e.user_name);const r=t.toString();return gt(`/runs${r?`?${r}`:""}`)}async function xoe(e){return gt(`/runs/${e}`)}async function boe(e){return gt("/runs",{method:"POST",body:JSON.stringify(e)})}async function Soe(e,t){return gt(`/runs/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function woe(e){return gt(`/runs/${e}`,{method:"DELETE"})}async function joe(e){const t=new URLSearchParams;e?.status&&t.append("status",e.status),e?.allocation_type&&t.append("allocation_type",e.allocation_type);const r=t.toString();return gt(`/scenarios${r?`?${r}`:""}`)}async function koe(e){return gt(`/scenarios/${e}`)}async function Coe(e){return gt("/scenarios",{method:"POST",body:JSON.stringify(e)})}async function zoe(e,t){return gt(`/scenarios/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function Aoe(e){return gt(`/scenarios/${e}`,{method:"DELETE"})}async function Noe(e){const t=new URLSearchParams;e?.status&&t.append("status",e.status),e?.severity&&t.append("severity",e.severity),e?.type&&t.append("type",e.type);const r=t.toString();return gt(`/exceptions${r?`?${r}`:""}`)}async function Poe(e){return gt("/exceptions",{method:"POST",body:JSON.stringify(e)})}async function _oe(e,t){return gt(`/exceptions/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function Ooe(e){const t=new URLSearchParams;e?.status&&t.append("status",e.status),e?.priority&&t.append("priority",e.priority),e?.assigned_to&&t.append("assigned_to",e.assigned_to);const r=t.toString();return gt(`/tasks${r?`?${r}`:""}`)}async function Eoe(e){return gt("/tasks",{method:"POST",body:JSON.stringify(e)})}async function Toe(e,t){return gt(`/tasks/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function Doe(e){return gt(`/tasks/${e}`,{method:"DELETE"})}async function Roe(e){const t=e?`?category=${e}`:"";return gt(`/parameters${t}`)}async function Ioe(e,t,r){return gt(`/parameters/${e}`,{method:"PUT",body:JSON.stringify({value:t,updated_by:r})})}async function Moe(){return gt("/data-manager/config")}async function Loe(e,t){return gt(`/data-manager/config/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function Boe(e){return gt(`/data-manager/logs/${e}`)}async function Foe(e,t,r){return gt(`/data-manager/import/${e}`,{method:"POST",headers:r?{"X-API-Key":r}:{},body:JSON.stringify({data:t})})}async function Woe(e,t,r){const i=new URLSearchParams(t).toString();return gt(`/data-manager/export/${e}${i?`?${i}`:""}`,{headers:r?{"X-API-Key":r}:{}})}const Sc={kpis:{fetch:hoe},stores:{fetch:voe,fetchOne:moe},articles:{fetch:goe},runs:{fetch:yoe,fetchOne:xoe,create:boe,update:Soe,delete:woe},scenarios:{fetch:joe,fetchOne:koe,create:Coe,update:zoe,delete:Aoe},exceptions:{fetch:Noe,create:Poe,update:_oe},tasks:{fetch:Ooe,create:Eoe,update:Toe,delete:Doe},parameters:{fetch:Roe,update:Ioe},dataManager:{fetchConfigs:Moe,updateConfig:Loe,fetchLogs:Boe,import:Foe,export:Woe}},nE={stores:{name:"Filialen",description:"Stammdaten der Verkaufsstellen"},articles:{name:"Artikel",description:"Produktstammdaten"},allocation_runs:{name:"Allocation Runs",description:"Allokationslufe und deren Status"},scenarios:{name:"Szenarien",description:"Planungsszenarien und Simulationen"},exceptions:{name:"Exceptions",description:"Ausnahmen und Warnungen"},tasks:{name:"Tasks",description:"Aufgaben und Workflows"}},aE={master:{bg:"var(--status-info)",label:"Stammdaten"},transaction:{bg:"var(--status-success)",label:"Bewegungsdaten"}};function $oe({onNavigate:e}){const[t,r]=z.useState([]),[n,i]=z.useState(null),[o,l]=z.useState([]),[u,d]=z.useState(!0),[f,v]=z.useState(!1),[h,m]=z.useState({}),[b,j]=z.useState("config"),[x,y]=z.useState(""),[w,k]=z.useState(null);z.useEffect(()=>{S()},[]),z.useEffect(()=>{if(n){N(n);const E=t.find(D=>D.entity_name===n);E&&m({inbound_enabled:E.inbound_enabled,outbound_enabled:E.outbound_enabled,api_key:E.api_key,webhook_url:E.webhook_url,sync_interval_minutes:E.sync_interval_minutes})}},[n,t]);const S=async()=>{d(!0);const E=await Sc.dataManager.fetchConfigs();E.success&&E.data&&(r(E.data),!n&&E.data.length>0&&i(E.data[0].entity_name)),d(!1)},N=async E=>{const D=await Sc.dataManager.fetchLogs(E);D.success&&D.data&&l(D.data)},A=async()=>{if(!n)return;v(!0),(await Sc.dataManager.updateConfig(n,h)).success&&await S(),v(!1)},O=async()=>{if(!(!n||!x))try{const E=JSON.parse(x),D=t.find(F=>F.entity_name===n),M=await Sc.dataManager.import(n,Array.isArray(E)?E:[E],D?.api_key||void 0);M.success&&M.data&&(k(M.data),await N(n))}catch(E){k({processed:0,failed:1,errors:["Invalid JSON: "+E.message]})}},_=async()=>{if(!n)return;const E=t.find(M=>M.entity_name===n),D=await Sc.dataManager.export(n,{},E?.api_key||void 0);if(D.success&&D.data){const M=new Blob([JSON.stringify(D.data,null,2)],{type:"application/json"}),F=URL.createObjectURL(M),L=document.createElement("a");L.href=F,L.download=`${n}_export_${new Date().toISOString().split("T")[0]}.json`,L.click(),URL.revokeObjectURL(F)}},T=t.find(E=>E.entity_name===n);return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:[a.jsx(fE,{className:"inline mr-2",size:24}),"Datenmanager"]}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Konfigurieren Sie die Schnittstellen fr Stamm- und Bewegungsdaten"})]}),a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsx("div",{className:"col-span-3",children:a.jsxs("div",{style:{background:"var(--surface-raised)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-default)"},children:[a.jsx("div",{style:{padding:"var(--space-4)",borderBottom:"1px solid var(--border-default)"},children:a.jsx("h2",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)"},children:"Entitten"})}),a.jsx("div",{className:"p-2",children:t.map(E=>a.jsxs("button",{onClick:()=>i(E.entity_name),className:"w-full text-left p-3 rounded-lg mb-1 transition-colors",style:{background:n===E.entity_name?"var(--brand-primary-light)":"transparent",border:n===E.entity_name?"1px solid var(--brand-primary)":"1px solid transparent"},children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:nE[E.entity_name]?.name||E.entity_name}),a.jsx("span",{className:"text-xs px-2 py-0.5 rounded",style:{background:aE[E.data_category].bg,color:"white"},children:aE[E.data_category].label})]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"2px"},children:nE[E.entity_name]?.description}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[E.inbound_enabled&&a.jsxs("span",{className:"flex items-center text-xs",style:{color:"var(--status-success)"},children:[a.jsx(Ta,{size:12,className:"mr-1"})," Inbound"]}),E.outbound_enabled&&a.jsxs("span",{className:"flex items-center text-xs",style:{color:"var(--status-info)"},children:[a.jsx(xs,{size:12,className:"mr-1"})," Outbound"]})]})]},E.entity_name))})]})}),a.jsx("div",{className:"col-span-9",children:T&&a.jsxs("div",{style:{background:"var(--surface-raised)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-default)"},children:[a.jsx("div",{style:{borderBottom:"1px solid var(--border-default)",padding:"var(--space-2) var(--space-4)"},children:a.jsx("div",{className:"flex gap-2",children:["config","logs","import","export"].map(E=>a.jsxs("button",{onClick:()=>j(E),className:"px-4 py-2 rounded-lg transition-colors",style:{background:b===E?"var(--brand-primary)":"transparent",color:b===E?"white":"var(--text-primary)"},children:[E==="config"&&a.jsxs(a.Fragment,{children:[a.jsx(Rp,{size:16,className:"inline mr-2"}),"Konfiguration"]}),E==="logs"&&a.jsxs(a.Fragment,{children:[a.jsx(xE,{size:16,className:"inline mr-2"}),"Sync-Protokoll"]}),E==="import"&&a.jsxs(a.Fragment,{children:[a.jsx(Ta,{size:16,className:"inline mr-2"}),"Import"]}),E==="export"&&a.jsxs(a.Fragment,{children:[a.jsx(xs,{size:16,className:"inline mr-2"}),"Export"]})]},E))})}),a.jsxs("div",{className:"p-6",children:[b==="config"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{style:{padding:"var(--space-4)",background:"var(--surface-page)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-default)"},children:[a.jsxs("h3",{className:"flex items-center gap-2 mb-4",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(Ta,{size:18,style:{color:"var(--status-success)"}}),"Inbound (Eingehend)"]}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-3)"},children:T.data_category==="master"?"Stammdaten knnen nur von externen Systemen eingespielt werden":"Daten von externen Systemen empfangen"}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h.inbound_enabled||!1,onChange:E=>m({...h,inbound_enabled:E.target.checked}),className:"w-4 h-4"}),a.jsx("span",{children:"Inbound aktiviert"})]})]}),a.jsxs("div",{style:{padding:"var(--space-4)",background:"var(--surface-page)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-default)"},children:[a.jsxs("h3",{className:"flex items-center gap-2 mb-4",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(xs,{size:18,style:{color:"var(--status-info)"}}),"Outbound (Ausgehend)"]}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-3)"},children:T.data_category==="master"?"Stammdaten knnen nicht nach auen bertragen werden":"Daten an externe Systeme senden"}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h.outbound_enabled||!1,onChange:E=>m({...h,outbound_enabled:E.target.checked}),disabled:T.data_category==="master",className:"w-4 h-4"}),a.jsx("span",{style:{color:T.data_category==="master"?"var(--text-muted)":"inherit"},children:"Outbound aktiviert"})]}),T.data_category==="master"&&a.jsxs("div",{className:"mt-2 text-xs flex items-center gap-1",style:{color:"var(--status-warning)"},children:[a.jsx(Ft,{size:12}),"Fr Stammdaten nicht verfgbar"]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 mb-2",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(EL,{size:16}),"API-Schlssel"]}),a.jsx("input",{type:"text",value:h.api_key||"",onChange:E=>m({...h,api_key:E.target.value||null}),placeholder:"Optional: Authentifizierungsschlssel fr API-Zugriffe",className:"w-full px-3 py-2 rounded-lg",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"}})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 mb-2",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(fB,{size:16}),"Webhook URL"]}),a.jsx("input",{type:"url",value:h.webhook_url||"",onChange:E=>m({...h,webhook_url:E.target.value||null}),placeholder:"https://example.com/webhook",className:"w-full px-3 py-2 rounded-lg",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"},disabled:!h.outbound_enabled}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"var(--space-1)"},children:"Wird bei nderungen an dieser Entitt aufgerufen (nur bei aktiviertem Outbound)"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 mb-2",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(Qk,{size:16}),"Sync-Intervall (Minuten)"]}),a.jsx("input",{type:"number",value:h.sync_interval_minutes||"",onChange:E=>m({...h,sync_interval_minutes:E.target.value?parseInt(E.target.value):null}),placeholder:"Optional: Automatisches Sync-Intervall",className:"w-full px-3 py-2 rounded-lg",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"},min:1})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",style:{borderTop:"1px solid var(--border-default)"},children:[a.jsxs("button",{onClick:()=>{const E=t.find(D=>D.entity_name===n);E&&m({inbound_enabled:E.inbound_enabled,outbound_enabled:E.outbound_enabled,api_key:E.api_key,webhook_url:E.webhook_url,sync_interval_minutes:E.sync_interval_minutes})},className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{border:"1px solid var(--border-default)"},children:[a.jsx(WS,{size:16}),"Zurcksetzen"]}),a.jsxs("button",{onClick:A,disabled:f,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{background:"var(--brand-primary)",color:"white"},children:[a.jsx(xu,{size:16}),f?"Speichern...":"Speichern"]})]})]}),b==="logs"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{style:{fontWeight:"var(--font-weight-medium)"},children:"Synchronisations-Protokoll"}),a.jsxs("button",{onClick:()=>N(n),className:"px-3 py-1 rounded flex items-center gap-1 text-sm",style:{border:"1px solid var(--border-default)"},children:[a.jsx(Qk,{size:14}),"Aktualisieren"]})]}),o.length===0?a.jsxs("div",{className:"text-center py-8",style:{color:"var(--text-muted)"},children:[a.jsx(Os,{size:32,className:"mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"Keine Sync-Eintrge vorhanden"})]}):a.jsx("div",{className:"space-y-2",children:o.map(E=>a.jsxs("div",{className:"p-3 rounded-lg flex items-center justify-between",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[E.status==="success"&&a.jsx(un,{size:18,style:{color:"var(--status-success)"}}),E.status==="failed"&&a.jsx(dE,{size:18,style:{color:"var(--status-danger)"}}),E.status==="partial"&&a.jsx(Ft,{size:18,style:{color:"var(--status-warning)"}}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:E.direction==="inbound"?"Import":"Export"}),a.jsx("span",{className:"text-xs px-2 py-0.5 rounded",style:{background:E.status==="success"?"var(--status-success)":E.status==="failed"?"var(--status-danger)":"var(--status-warning)",color:"white"},children:E.status})]}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[E.records_processed," verarbeitet, ",E.records_failed," fehlgeschlagen"]}),E.error_message&&a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--status-danger)"},children:E.error_message})]})]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:new Date(E.started_at).toLocaleString("de-CH")})]},E.id))})]}),b==="import"&&a.jsxs("div",{children:[a.jsxs("h3",{className:"mb-4",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(xL,{size:18,className:"inline mr-2"}),"Daten importieren"]}),T.inbound_enabled?a.jsxs(a.Fragment,{children:[a.jsx("textarea",{value:x,onChange:E=>y(E.target.value),placeholder:'JSON-Daten hier einfgen, z.B.:\\n[\\n  { "id": "...", "name": "..." }\\n]',className:"w-full h-64 p-3 rounded-lg font-mono text-sm",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"}}),w&&a.jsxs("div",{className:"mt-4 p-4 rounded-lg",style:{background:w.failed>0?"var(--status-danger-light)":"var(--status-success-light)",border:`1px solid ${w.failed>0?"var(--status-danger)":"var(--status-success)"}`},children:[a.jsxs("p",{style:{fontWeight:"var(--font-weight-medium)"},children:["Import abgeschlossen: ",w.processed," erfolgreich, ",w.failed," fehlgeschlagen"]}),w.errors.length>0&&a.jsx("ul",{className:"mt-2 text-sm",children:w.errors.map((E,D)=>a.jsx("li",{style:{color:"var(--status-danger)"},children:E},D))})]}),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsxs("button",{onClick:O,disabled:!x,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{background:"var(--brand-primary)",color:"white",opacity:x?1:.5},children:[a.jsx(Ta,{size:16}),"Importieren"]})})]}):a.jsxs("div",{className:"text-center py-8",style:{color:"var(--text-muted)"},children:[a.jsx(Ft,{size:32,className:"mx-auto mb-2",style:{color:"var(--status-warning)"}}),a.jsx("p",{children:"Inbound ist fr diese Entitt deaktiviert"}),a.jsx("p",{className:"text-sm",children:"Aktivieren Sie Inbound in der Konfiguration"})]})]}),b==="export"&&a.jsxs("div",{children:[a.jsxs("h3",{className:"mb-4",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(xs,{size:18,className:"inline mr-2"}),"Daten exportieren"]}),T.data_category==="master"||!T.outbound_enabled?a.jsxs("div",{className:"text-center py-8",style:{color:"var(--text-muted)"},children:[a.jsx(Ft,{size:32,className:"mx-auto mb-2",style:{color:"var(--status-warning)"}}),a.jsx("p",{children:T.data_category==="master"?"Stammdaten knnen nicht exportiert werden":"Outbound ist fr diese Entitt deaktiviert"})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(kL,{size:48,className:"mx-auto mb-4",style:{color:"var(--brand-primary)"}}),a.jsx("p",{className:"mb-4",children:"Exportieren Sie alle Daten dieser Entitt als JSON-Datei"}),a.jsxs("button",{onClick:_,className:"px-6 py-3 rounded-lg flex items-center gap-2 mx-auto",style:{background:"var(--brand-primary)",color:"white"},children:[a.jsx(Ta,{size:20}),"JSON exportieren"]})]})]})]}),T.last_sync_at&&a.jsx("div",{className:"px-6 py-3",style:{background:"var(--surface-page)",borderTop:"1px solid var(--border-default)"},children:a.jsxs("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[a.jsx(Os,{size:12,className:"inline mr-1"}),"Letzte Synchronisation: ",new Date(T.last_sync_at).toLocaleString("de-CH")]})})]})})]})]})}function Uoe(){const[e,t]=z.useState("home"),[r,n]=z.useState(null),[i,o]=z.useState(null),[l,u]=z.useState(""),[d,f]=z.useState("Initial Allocation"),v=(m,b)=>{t(m),m==="runs"&&n(b?.runId||null),b?.variantId&&o(b.variantId),b?.variantName&&u(b.variantName),b?.allocationType&&f(b.allocationType)},h=()=>{switch(e){case"home":return a.jsx(Jk,{onNavigate:v});case"settings":return a.jsx(PB,{onNavigate:v});case"parameters":return a.jsx(gte,{});case"capacity":return a.jsx(ete,{onNavigate:v});case"work":return a.jsx(ite,{onNavigate:v});case"runs":return a.jsx(cte,{onNavigate:v,runId:r});case"scenarios":return a.jsx(eoe,{onNavigate:v});case"scenarioManagement":return a.jsx(toe,{onNavigateToSimulation:(m,b)=>{v(b==="Replenishment"?"replenishmentSimulation":"simulationAnalysis",{variantId:m,variantName:"Optimiert - Hohe Prognosegewichtung",allocationType:b})},onNavigateToExplainability:(m,b)=>v("explainability",{variantId:m,allocationType:b}),onNavigateToAllocationRun:m=>v("runs",{variantId:m})});case"simulationAnalysis":return a.jsx(roe,{variantName:l||"Optimiert - Hohe Prognosegewichtung",onBack:()=>v("scenarioManagement"),onSaveVariant:()=>{v("scenarioManagement")},onNavigateToExplainability:()=>v("explainability",{allocationType:"Initial Allocation"})});case"replenishmentSimulation":return a.jsx(aoe,{variantName:l||"NOS Nachschub - Standard",onBack:()=>v("scenarioManagement"),onSaveVariant:()=>{v("scenarioManagement")},onNavigateToExplainability:()=>v("explainability",{allocationType:"Replenishment"})});case"explainability":return a.jsx(soe,{allocationType:d});case"exceptions":return a.jsx(dte,{onNavigate:v});case"analytics":return a.jsx(wte,{onNavigate:v});case"allocationAnalysis":return a.jsx(jte,{onNavigate:v});case"storeLayout":return a.jsx(Yie,{onNavigate:v});case"cluster":return a.jsx(foe,{onNavigate:v});case"dataManager":return a.jsx($oe,{onNavigate:v});default:return a.jsx(Jk,{onNavigate:v})}};return a.jsx(gB,{currentScreen:e,onNavigate:v,children:h()})}b4.createRoot(document.getElementById("root")).render(a.jsx(O4,{children:a.jsx(Uoe,{})}));
