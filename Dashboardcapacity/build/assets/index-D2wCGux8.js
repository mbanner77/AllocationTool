function h4(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vm={exports:{}},lc={},mm={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $k;function v4(){if($k)return Xe;$k=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),h=Symbol.iterator;function m($){return $===null||typeof $!="object"?null:($=h&&$[h]||$["@@iterator"],typeof $=="function"?$:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function y($,B,re){this.props=$,this.context=B,this.refs=x,this.updater=re||b}y.prototype.isReactComponent={},y.prototype.setState=function($,B){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,B,"setState")},y.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function j(){}j.prototype=y.prototype;function k($,B,re){this.props=$,this.context=B,this.refs=x,this.updater=re||b}var S=k.prototype=new j;S.constructor=k,w(S,y.prototype),S.isPureReactComponent=!0;var N=Array.isArray,A=Object.prototype.hasOwnProperty,O={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function T($,B,re){var le,pe={},se=null,ne=null;if(B!=null)for(le in B.ref!==void 0&&(ne=B.ref),B.key!==void 0&&(se=""+B.key),B)A.call(B,le)&&!_.hasOwnProperty(le)&&(pe[le]=B[le]);var ye=arguments.length-2;if(ye===1)pe.children=re;else if(1<ye){for(var ie=Array(ye),ve=0;ve<ye;ve++)ie[ve]=arguments[ve+2];pe.children=ie}if($&&$.defaultProps)for(le in ye=$.defaultProps,ye)pe[le]===void 0&&(pe[le]=ye[le]);return{$$typeof:e,type:$,key:se,ref:ne,props:pe,_owner:O.current}}function E($,B){return{$$typeof:e,type:$.type,key:B,ref:$.ref,props:$.props,_owner:$._owner}}function D($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function I($){var B={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(re){return B[re]})}var L=/\/+/g;function M($,B){return typeof $=="object"&&$!==null&&$.key!=null?I(""+$.key):B.toString(36)}function V($,B,re,le,pe){var se=typeof $;(se==="undefined"||se==="boolean")&&($=null);var ne=!1;if($===null)ne=!0;else switch(se){case"string":case"number":ne=!0;break;case"object":switch($.$$typeof){case e:case t:ne=!0}}if(ne)return ne=$,pe=pe(ne),$=le===""?"."+M(ne,0):le,N(pe)?(re="",$!=null&&(re=$.replace(L,"$&/")+"/"),V(pe,B,re,"",function(ve){return ve})):pe!=null&&(D(pe)&&(pe=E(pe,re+(!pe.key||ne&&ne.key===pe.key?"":(""+pe.key).replace(L,"$&/")+"/")+$)),B.push(pe)),1;if(ne=0,le=le===""?".":le+":",N($))for(var ye=0;ye<$.length;ye++){se=$[ye];var ie=le+M(se,ye);ne+=V(se,B,re,ie,pe)}else if(ie=m($),typeof ie=="function")for($=ie.call($),ye=0;!(se=$.next()).done;)se=se.value,ie=le+M(se,ye++),ne+=V(se,B,re,ie,pe);else if(se==="object")throw B=String($),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return ne}function H($,B,re){if($==null)return $;var le=[],pe=0;return V($,le,"","",function(se){return B.call(re,se,pe++)}),le}function q($){if($._status===-1){var B=$._result;B=B(),B.then(function(re){($._status===0||$._status===-1)&&($._status=1,$._result=re)},function(re){($._status===0||$._status===-1)&&($._status=2,$._result=re)}),$._status===-1&&($._status=0,$._result=B)}if($._status===1)return $._result.default;throw $._result}var X={current:null},W={transition:null},F={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:W,ReactCurrentOwner:O};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Xe.Children={map:H,forEach:function($,B,re){H($,function(){B.apply(this,arguments)},re)},count:function($){var B=0;return H($,function(){B++}),B},toArray:function($){return H($,function(B){return B})||[]},only:function($){if(!D($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Xe.Component=y,Xe.Fragment=r,Xe.Profiler=i,Xe.PureComponent=k,Xe.StrictMode=n,Xe.Suspense=d,Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,Xe.act=Y,Xe.cloneElement=function($,B,re){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var le=w({},$.props),pe=$.key,se=$.ref,ne=$._owner;if(B!=null){if(B.ref!==void 0&&(se=B.ref,ne=O.current),B.key!==void 0&&(pe=""+B.key),$.type&&$.type.defaultProps)var ye=$.type.defaultProps;for(ie in B)A.call(B,ie)&&!_.hasOwnProperty(ie)&&(le[ie]=B[ie]===void 0&&ye!==void 0?ye[ie]:B[ie])}var ie=arguments.length-2;if(ie===1)le.children=re;else if(1<ie){ye=Array(ie);for(var ve=0;ve<ie;ve++)ye[ve]=arguments[ve+2];le.children=ye}return{$$typeof:e,type:$.type,key:pe,ref:se,props:le,_owner:ne}},Xe.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:o,_context:$},$.Consumer=$},Xe.createElement=T,Xe.createFactory=function($){var B=T.bind(null,$);return B.type=$,B},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function($){return{$$typeof:u,render:$}},Xe.isValidElement=D,Xe.lazy=function($){return{$$typeof:v,_payload:{_status:-1,_result:$},_init:q}},Xe.memo=function($,B){return{$$typeof:f,type:$,compare:B===void 0?null:B}},Xe.startTransition=function($){var B=W.transition;W.transition={};try{$()}finally{W.transition=B}},Xe.unstable_act=Y,Xe.useCallback=function($,B){return X.current.useCallback($,B)},Xe.useContext=function($){return X.current.useContext($)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function($){return X.current.useDeferredValue($)},Xe.useEffect=function($,B){return X.current.useEffect($,B)},Xe.useId=function(){return X.current.useId()},Xe.useImperativeHandle=function($,B,re){return X.current.useImperativeHandle($,B,re)},Xe.useInsertionEffect=function($,B){return X.current.useInsertionEffect($,B)},Xe.useLayoutEffect=function($,B){return X.current.useLayoutEffect($,B)},Xe.useMemo=function($,B){return X.current.useMemo($,B)},Xe.useReducer=function($,B,re){return X.current.useReducer($,B,re)},Xe.useRef=function($){return X.current.useRef($)},Xe.useState=function($){return X.current.useState($)},Xe.useSyncExternalStore=function($,B,re){return X.current.useSyncExternalStore($,B,re)},Xe.useTransition=function(){return X.current.useTransition()},Xe.version="18.3.1",Xe}var Uk;function LS(){return Uk||(Uk=1,mm.exports=v4()),mm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hk;function m4(){if(Hk)return lc;Hk=1;var e=LS(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var v,h={},m=null,b=null;f!==void 0&&(m=""+f),d.key!==void 0&&(m=""+d.key),d.ref!==void 0&&(b=d.ref);for(v in d)n.call(d,v)&&!o.hasOwnProperty(v)&&(h[v]=d[v]);if(u&&u.defaultProps)for(v in d=u.defaultProps,d)h[v]===void 0&&(h[v]=d[v]);return{$$typeof:t,type:u,key:m,ref:b,props:h,_owner:i.current}}return lc.Fragment=r,lc.jsx=l,lc.jsxs=l,lc}var Kk;function g4(){return Kk||(Kk=1,vm.exports=m4()),vm.exports}var a=g4(),Wd={},gm={exports:{}},Vr={},ym={exports:{}},xm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gk;function y4(){return Gk||(Gk=1,(function(e){function t(W,F){var Y=W.length;W.push(F);e:for(;0<Y;){var $=Y-1>>>1,B=W[$];if(0<i(B,F))W[$]=F,W[Y]=B,Y=$;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var F=W[0],Y=W.pop();if(Y!==F){W[0]=Y;e:for(var $=0,B=W.length,re=B>>>1;$<re;){var le=2*($+1)-1,pe=W[le],se=le+1,ne=W[se];if(0>i(pe,Y))se<B&&0>i(ne,pe)?(W[$]=ne,W[se]=Y,$=se):(W[$]=pe,W[le]=Y,$=le);else if(se<B&&0>i(ne,Y))W[$]=ne,W[se]=Y,$=se;else break e}}return F}function i(W,F){var Y=W.sortIndex-F.sortIndex;return Y!==0?Y:W.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],v=1,h=null,m=3,b=!1,w=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(W){for(var F=r(f);F!==null;){if(F.callback===null)n(f);else if(F.startTime<=W)n(f),F.sortIndex=F.expirationTime,t(d,F);else break;F=r(f)}}function N(W){if(x=!1,S(W),!w)if(r(d)!==null)w=!0,q(A);else{var F=r(f);F!==null&&X(N,F.startTime-W)}}function A(W,F){w=!1,x&&(x=!1,j(T),T=-1),b=!0;var Y=m;try{for(S(F),h=r(d);h!==null&&(!(h.expirationTime>F)||W&&!I());){var $=h.callback;if(typeof $=="function"){h.callback=null,m=h.priorityLevel;var B=$(h.expirationTime<=F);F=e.unstable_now(),typeof B=="function"?h.callback=B:h===r(d)&&n(d),S(F)}else n(d);h=r(d)}if(h!==null)var re=!0;else{var le=r(f);le!==null&&X(N,le.startTime-F),re=!1}return re}finally{h=null,m=Y,b=!1}}var O=!1,_=null,T=-1,E=5,D=-1;function I(){return!(e.unstable_now()-D<E)}function L(){if(_!==null){var W=e.unstable_now();D=W;var F=!0;try{F=_(!0,W)}finally{F?M():(O=!1,_=null)}}else O=!1}var M;if(typeof k=="function")M=function(){k(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,H=V.port2;V.port1.onmessage=L,M=function(){H.postMessage(null)}}else M=function(){y(L,0)};function q(W){_=W,O||(O=!0,M())}function X(W,F){T=y(function(){W(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){w||b||(w=!0,q(A))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(W){switch(m){case 1:case 2:case 3:var F=3;break;default:F=m}var Y=m;m=F;try{return W()}finally{m=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,F){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Y=m;m=W;try{return F()}finally{m=Y}},e.unstable_scheduleCallback=function(W,F,Y){var $=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?$+Y:$):Y=$,W){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Y+B,W={id:v++,callback:F,priorityLevel:W,startTime:Y,expirationTime:B,sortIndex:-1},Y>$?(W.sortIndex=Y,t(f,W),r(d)===null&&W===r(f)&&(x?(j(T),T=-1):x=!0,X(N,Y-$))):(W.sortIndex=B,t(d,W),w||b||(w=!0,q(A))),W},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(W){var F=m;return function(){var Y=m;m=F;try{return W.apply(this,arguments)}finally{m=Y}}}})(xm)),xm}var Vk;function x4(){return Vk||(Vk=1,ym.exports=y4()),ym.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qk;function b4(){if(qk)return Vr;qk=1;var e=LS(),t=x4();function r(s){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+s,p=1;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(s,c){l(s,c),l(s+"Capture",c)}function l(s,c){for(i[s]=c,s=0;s<c.length;s++)n.add(c[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},h={};function m(s){return d.call(h,s)?!0:d.call(v,s)?!1:f.test(s)?h[s]=!0:(v[s]=!0,!1)}function b(s,c,p,g){if(p!==null&&p.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return g?!1:p!==null?!p.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function w(s,c,p,g){if(c===null||typeof c>"u"||b(s,c,p,g))return!0;if(g)return!1;if(p!==null)switch(p.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function x(s,c,p,g,C,P,R){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=g,this.attributeNamespace=C,this.mustUseProperty=p,this.propertyName=s,this.type=c,this.sanitizeURL=P,this.removeEmptyString=R}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){y[s]=new x(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var c=s[0];y[c]=new x(c,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){y[s]=new x(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){y[s]=new x(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){y[s]=new x(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){y[s]=new x(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){y[s]=new x(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){y[s]=new x(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){y[s]=new x(s,5,!1,s.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function k(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var c=s.replace(j,k);y[c]=new x(c,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var c=s.replace(j,k);y[c]=new x(c,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var c=s.replace(j,k);y[c]=new x(c,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){y[s]=new x(s,1,!1,s.toLowerCase(),null,!1,!1)}),y.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){y[s]=new x(s,1,!1,s.toLowerCase(),null,!0,!0)});function S(s,c,p,g){var C=y.hasOwnProperty(c)?y[c]:null;(C!==null?C.type!==0:g||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(w(c,p,C,g)&&(p=null),g||C===null?m(c)&&(p===null?s.removeAttribute(c):s.setAttribute(c,""+p)):C.mustUseProperty?s[C.propertyName]=p===null?C.type===3?!1:"":p:(c=C.attributeName,g=C.attributeNamespace,p===null?s.removeAttribute(c):(C=C.type,p=C===3||C===4&&p===!0?"":""+p,g?s.setAttributeNS(g,c,p):s.setAttribute(c,p))))}var N=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),O=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),I=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),W=Symbol.iterator;function F(s){return s===null||typeof s!="object"?null:(s=W&&s[W]||s["@@iterator"],typeof s=="function"?s:null)}var Y=Object.assign,$;function B(s){if($===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);$=c&&c[1]||""}return`
`+$+s}var re=!1;function le(s,c){if(!s||re)return"";re=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(oe){var g=oe}Reflect.construct(s,[],c)}else{try{c.call()}catch(oe){g=oe}s.call(c.prototype)}else{try{throw Error()}catch(oe){g=oe}s()}}catch(oe){if(oe&&g&&typeof oe.stack=="string"){for(var C=oe.stack.split(`
`),P=g.stack.split(`
`),R=C.length-1,G=P.length-1;1<=R&&0<=G&&C[R]!==P[G];)G--;for(;1<=R&&0<=G;R--,G--)if(C[R]!==P[G]){if(R!==1||G!==1)do if(R--,G--,0>G||C[R]!==P[G]){var Z=`
`+C[R].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=R&&0<=G);break}}}finally{re=!1,Error.prepareStackTrace=p}return(s=s?s.displayName||s.name:"")?B(s):""}function pe(s){switch(s.tag){case 5:return B(s.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return s=le(s.type,!1),s;case 11:return s=le(s.type.render,!1),s;case 1:return s=le(s.type,!0),s;default:return""}}function se(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case O:return"Portal";case E:return"Profiler";case T:return"StrictMode";case M:return"Suspense";case V:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case I:return(s.displayName||"Context")+".Consumer";case D:return(s._context.displayName||"Context")+".Provider";case L:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case H:return c=s.displayName||null,c!==null?c:se(s.type)||"Memo";case q:c=s._payload,s=s._init;try{return se(s(c))}catch{}}return null}function ne(s){var c=s.type;switch(s.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=c.render,s=s.displayName||s.name||"",c.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(c);case 8:return c===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function ye(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ie(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ve(s){var c=ie(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,c),g=""+s[c];if(!s.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var C=p.get,P=p.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return C.call(this)},set:function(R){g=""+R,P.call(this,R)}}),Object.defineProperty(s,c,{enumerable:p.enumerable}),{getValue:function(){return g},setValue:function(R){g=""+R},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function we(s){s._valueTracker||(s._valueTracker=ve(s))}function ce(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var p=c.getValue(),g="";return s&&(g=ie(s)?s.checked?"true":"false":s.value),s=g,s!==p?(c.setValue(s),!0):!1}function Ie(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Me(s,c){var p=c.checked;return Y({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??s._wrapperState.initialChecked})}function tt(s,c){var p=c.defaultValue==null?"":c.defaultValue,g=c.checked!=null?c.checked:c.defaultChecked;p=ye(c.value!=null?c.value:p),s._wrapperState={initialChecked:g,initialValue:p,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function rt(s,c){c=c.checked,c!=null&&S(s,"checked",c,!1)}function Ye(s,c){rt(s,c);var p=ye(c.value),g=c.type;if(p!=null)g==="number"?(p===0&&s.value===""||s.value!=p)&&(s.value=""+p):s.value!==""+p&&(s.value=""+p);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}c.hasOwnProperty("value")?ct(s,c.type,p):c.hasOwnProperty("defaultValue")&&ct(s,c.type,ye(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(s.defaultChecked=!!c.defaultChecked)}function Ut(s,c,p){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var g=c.type;if(!(g!=="submit"&&g!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+s._wrapperState.initialValue,p||c===s.value||(s.value=c),s.defaultValue=c}p=s.name,p!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,p!==""&&(s.name=p)}function ct(s,c,p){(c!=="number"||Ie(s.ownerDocument)!==s)&&(p==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+p&&(s.defaultValue=""+p))}var it=Array.isArray;function Ht(s,c,p,g){if(s=s.options,c){c={};for(var C=0;C<p.length;C++)c["$"+p[C]]=!0;for(p=0;p<s.length;p++)C=c.hasOwnProperty("$"+s[p].value),s[p].selected!==C&&(s[p].selected=C),C&&g&&(s[p].defaultSelected=!0)}else{for(p=""+ye(p),c=null,C=0;C<s.length;C++){if(s[C].value===p){s[C].selected=!0,g&&(s[C].defaultSelected=!0);return}c!==null||s[C].disabled||(c=s[C])}c!==null&&(c.selected=!0)}}function nr(s,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return Y({},c,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ge(s,c){var p=c.value;if(p==null){if(p=c.children,c=c.defaultValue,p!=null){if(c!=null)throw Error(r(92));if(it(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),p=c}s._wrapperState={initialValue:ye(p)}}function qe(s,c){var p=ye(c.value),g=ye(c.defaultValue);p!=null&&(p=""+p,p!==s.value&&(s.value=p),c.defaultValue==null&&s.defaultValue!==p&&(s.defaultValue=p)),g!=null&&(s.defaultValue=""+g)}function ht(s){var c=s.textContent;c===s._wrapperState.initialValue&&c!==""&&c!==null&&(s.value=c)}function ut(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nt(s,c){return s==null||s==="http://www.w3.org/1999/xhtml"?ut(c):s==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var gr,vn=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,p,g,C){MSApp.execUnsafeLocalFunction(function(){return s(c,p,g,C)})}:s})(function(s,c){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=c;else{for(gr=gr||document.createElement("div"),gr.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=gr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;c.firstChild;)s.appendChild(c.firstChild)}});function Sr(s,c){if(c){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=c;return}}s.textContent=c}var Wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mn=["Webkit","ms","Moz","O"];Object.keys(Wr).forEach(function(s){mn.forEach(function(c){c=c+s.charAt(0).toUpperCase()+s.substring(1),Wr[c]=Wr[s]})});function Or(s,c,p){return c==null||typeof c=="boolean"||c===""?"":p||typeof c!="number"||c===0||Wr.hasOwnProperty(s)&&Wr[s]?(""+c).trim():c+"px"}function Yr(s,c){s=s.style;for(var p in c)if(c.hasOwnProperty(p)){var g=p.indexOf("--")===0,C=Or(p,c[p],g);p==="float"&&(p="cssFloat"),g?s.setProperty(p,C):s[p]=C}}var Wi=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ga(s,c){if(c){if(Wi[s]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function ee(s,c){if(s.indexOf("-")===-1)return typeof c.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function ue(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var J=null,de=null,U=null;function he(s){if(s=Vl(s)){if(typeof J!="function")throw Error(r(280));var c=s.stateNode;c&&(c=td(c),J(s.stateNode,s.type,c))}}function je(s){de?U?U.push(s):U=[s]:de=s}function vt(){if(de){var s=de,c=U;if(U=de=null,he(s),c)for(s=0;s<c.length;s++)he(c[s])}}function Qr(s,c){return s(c)}function Kt(){}var Tt=!1;function et(s,c,p){if(Tt)return s(c,p);Tt=!0;try{return Qr(s,c,p)}finally{Tt=!1,(de!==null||U!==null)&&(Kt(),vt())}}function Ve(s,c){var p=s.stateNode;if(p===null)return null;var g=td(p);if(g===null)return null;p=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var Jr=!1;if(u)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){Jr=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch{Jr=!1}function b5(s,c,p,g,C,P,R,G,Z){var oe=Array.prototype.slice.call(arguments,3);try{c.apply(p,oe)}catch(ge){this.onError(ge)}}var Nl=!1,Tu=null,Du=!1,Dh=null,S5={onError:function(s){Nl=!0,Tu=s}};function w5(s,c,p,g,C,P,R,G,Z){Nl=!1,Tu=null,b5.apply(S5,arguments)}function j5(s,c,p,g,C,P,R,G,Z){if(w5.apply(this,arguments),Nl){if(Nl){var oe=Tu;Nl=!1,Tu=null}else throw Error(r(198));Du||(Du=!0,Dh=oe)}}function $i(s){var c=s,p=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(p=c.return),s=c.return;while(s)}return c.tag===3?p:null}function dw(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function fw(s){if($i(s)!==s)throw Error(r(188))}function k5(s){var c=s.alternate;if(!c){if(c=$i(s),c===null)throw Error(r(188));return c!==s?null:s}for(var p=s,g=c;;){var C=p.return;if(C===null)break;var P=C.alternate;if(P===null){if(g=C.return,g!==null){p=g;continue}break}if(C.child===P.child){for(P=C.child;P;){if(P===p)return fw(C),s;if(P===g)return fw(C),c;P=P.sibling}throw Error(r(188))}if(p.return!==g.return)p=C,g=P;else{for(var R=!1,G=C.child;G;){if(G===p){R=!0,p=C,g=P;break}if(G===g){R=!0,g=C,p=P;break}G=G.sibling}if(!R){for(G=P.child;G;){if(G===p){R=!0,p=P,g=C;break}if(G===g){R=!0,g=P,p=C;break}G=G.sibling}if(!R)throw Error(r(189))}}if(p.alternate!==g)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?s:c}function pw(s){return s=k5(s),s!==null?hw(s):null}function hw(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var c=hw(s);if(c!==null)return c;s=s.sibling}return null}var vw=t.unstable_scheduleCallback,mw=t.unstable_cancelCallback,C5=t.unstable_shouldYield,z5=t.unstable_requestPaint,qt=t.unstable_now,A5=t.unstable_getCurrentPriorityLevel,Rh=t.unstable_ImmediatePriority,gw=t.unstable_UserBlockingPriority,Ru=t.unstable_NormalPriority,N5=t.unstable_LowPriority,yw=t.unstable_IdlePriority,Iu=null,Qn=null;function P5(s){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(Iu,s,void 0,(s.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:E5,_5=Math.log,O5=Math.LN2;function E5(s){return s>>>=0,s===0?32:31-(_5(s)/O5|0)|0}var Mu=64,Lu=4194304;function Pl(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Bu(s,c){var p=s.pendingLanes;if(p===0)return 0;var g=0,C=s.suspendedLanes,P=s.pingedLanes,R=p&268435455;if(R!==0){var G=R&~C;G!==0?g=Pl(G):(P&=R,P!==0&&(g=Pl(P)))}else R=p&~C,R!==0?g=Pl(R):P!==0&&(g=Pl(P));if(g===0)return 0;if(c!==0&&c!==g&&(c&C)===0&&(C=g&-g,P=c&-c,C>=P||C===16&&(P&4194240)!==0))return c;if((g&4)!==0&&(g|=p&16),c=s.entangledLanes,c!==0)for(s=s.entanglements,c&=g;0<c;)p=31-En(c),C=1<<p,g|=s[p],c&=~C;return g}function T5(s,c){switch(s){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D5(s,c){for(var p=s.suspendedLanes,g=s.pingedLanes,C=s.expirationTimes,P=s.pendingLanes;0<P;){var R=31-En(P),G=1<<R,Z=C[R];Z===-1?((G&p)===0||(G&g)!==0)&&(C[R]=T5(G,c)):Z<=c&&(s.expiredLanes|=G),P&=~G}}function Ih(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function xw(){var s=Mu;return Mu<<=1,(Mu&4194240)===0&&(Mu=64),s}function Mh(s){for(var c=[],p=0;31>p;p++)c.push(s);return c}function _l(s,c,p){s.pendingLanes|=c,c!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,c=31-En(c),s[c]=p}function R5(s,c){var p=s.pendingLanes&~c;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=c,s.mutableReadLanes&=c,s.entangledLanes&=c,c=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<p;){var C=31-En(p),P=1<<C;c[C]=0,g[C]=-1,s[C]=-1,p&=~P}}function Lh(s,c){var p=s.entangledLanes|=c;for(s=s.entanglements;p;){var g=31-En(p),C=1<<g;C&c|s[g]&c&&(s[g]|=c),p&=~C}}var mt=0;function bw(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Sw,Bh,ww,jw,kw,Fh=!1,Fu=[],Xa=null,Ya=null,Qa=null,Ol=new Map,El=new Map,Ja=[],I5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cw(s,c){switch(s){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Ya=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":Ol.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(c.pointerId)}}function Tl(s,c,p,g,C,P){return s===null||s.nativeEvent!==P?(s={blockedOn:c,domEventName:p,eventSystemFlags:g,nativeEvent:P,targetContainers:[C]},c!==null&&(c=Vl(c),c!==null&&Bh(c)),s):(s.eventSystemFlags|=g,c=s.targetContainers,C!==null&&c.indexOf(C)===-1&&c.push(C),s)}function M5(s,c,p,g,C){switch(c){case"focusin":return Xa=Tl(Xa,s,c,p,g,C),!0;case"dragenter":return Ya=Tl(Ya,s,c,p,g,C),!0;case"mouseover":return Qa=Tl(Qa,s,c,p,g,C),!0;case"pointerover":var P=C.pointerId;return Ol.set(P,Tl(Ol.get(P)||null,s,c,p,g,C)),!0;case"gotpointercapture":return P=C.pointerId,El.set(P,Tl(El.get(P)||null,s,c,p,g,C)),!0}return!1}function zw(s){var c=Ui(s.target);if(c!==null){var p=$i(c);if(p!==null){if(c=p.tag,c===13){if(c=dw(p),c!==null){s.blockedOn=c,kw(s.priority,function(){ww(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Wu(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var p=$h(s.domEventName,s.eventSystemFlags,c[0],s.nativeEvent);if(p===null){p=s.nativeEvent;var g=new p.constructor(p.type,p);ke=g,p.target.dispatchEvent(g),ke=null}else return c=Vl(p),c!==null&&Bh(c),s.blockedOn=p,!1;c.shift()}return!0}function Aw(s,c,p){Wu(s)&&p.delete(c)}function L5(){Fh=!1,Xa!==null&&Wu(Xa)&&(Xa=null),Ya!==null&&Wu(Ya)&&(Ya=null),Qa!==null&&Wu(Qa)&&(Qa=null),Ol.forEach(Aw),El.forEach(Aw)}function Dl(s,c){s.blockedOn===c&&(s.blockedOn=null,Fh||(Fh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,L5)))}function Rl(s){function c(C){return Dl(C,s)}if(0<Fu.length){Dl(Fu[0],s);for(var p=1;p<Fu.length;p++){var g=Fu[p];g.blockedOn===s&&(g.blockedOn=null)}}for(Xa!==null&&Dl(Xa,s),Ya!==null&&Dl(Ya,s),Qa!==null&&Dl(Qa,s),Ol.forEach(c),El.forEach(c),p=0;p<Ja.length;p++)g=Ja[p],g.blockedOn===s&&(g.blockedOn=null);for(;0<Ja.length&&(p=Ja[0],p.blockedOn===null);)zw(p),p.blockedOn===null&&Ja.shift()}var Io=N.ReactCurrentBatchConfig,$u=!0;function B5(s,c,p,g){var C=mt,P=Io.transition;Io.transition=null;try{mt=1,Wh(s,c,p,g)}finally{mt=C,Io.transition=P}}function F5(s,c,p,g){var C=mt,P=Io.transition;Io.transition=null;try{mt=4,Wh(s,c,p,g)}finally{mt=C,Io.transition=P}}function Wh(s,c,p,g){if($u){var C=$h(s,c,p,g);if(C===null)iv(s,c,g,Uu,p),Cw(s,g);else if(M5(C,s,c,p,g))g.stopPropagation();else if(Cw(s,g),c&4&&-1<I5.indexOf(s)){for(;C!==null;){var P=Vl(C);if(P!==null&&Sw(P),P=$h(s,c,p,g),P===null&&iv(s,c,g,Uu,p),P===C)break;C=P}C!==null&&g.stopPropagation()}else iv(s,c,g,null,p)}}var Uu=null;function $h(s,c,p,g){if(Uu=null,s=ue(g),s=Ui(s),s!==null)if(c=$i(s),c===null)s=null;else if(p=c.tag,p===13){if(s=dw(c),s!==null)return s;s=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null);return Uu=s,null}function Nw(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(A5()){case Rh:return 1;case gw:return 4;case Ru:case N5:return 16;case yw:return 536870912;default:return 16}default:return 16}}var ei=null,Uh=null,Hu=null;function Pw(){if(Hu)return Hu;var s,c=Uh,p=c.length,g,C="value"in ei?ei.value:ei.textContent,P=C.length;for(s=0;s<p&&c[s]===C[s];s++);var R=p-s;for(g=1;g<=R&&c[p-g]===C[P-g];g++);return Hu=C.slice(s,1<g?1-g:void 0)}function Ku(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function Gu(){return!0}function _w(){return!1}function en(s){function c(p,g,C,P,R){this._reactName=p,this._targetInst=C,this.type=g,this.nativeEvent=P,this.target=R,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(p=s[G],this[G]=p?p(P):P[G]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?Gu:_w,this.isPropagationStopped=_w,this}return Y(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Gu)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Gu)},persist:function(){},isPersistent:Gu}),c}var Mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hh=en(Mo),Il=Y({},Mo,{view:0,detail:0}),W5=en(Il),Kh,Gh,Ml,Vu=Y({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ml&&(Ml&&s.type==="mousemove"?(Kh=s.screenX-Ml.screenX,Gh=s.screenY-Ml.screenY):Gh=Kh=0,Ml=s),Kh)},movementY:function(s){return"movementY"in s?s.movementY:Gh}}),Ow=en(Vu),$5=Y({},Vu,{dataTransfer:0}),U5=en($5),H5=Y({},Il,{relatedTarget:0}),Vh=en(H5),K5=Y({},Mo,{animationName:0,elapsedTime:0,pseudoElement:0}),G5=en(K5),V5=Y({},Mo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),q5=en(V5),Z5=Y({},Mo,{data:0}),Ew=en(Z5),X5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J5(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=Q5[s])?!!c[s]:!1}function qh(){return J5}var eM=Y({},Il,{key:function(s){if(s.key){var c=X5[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Ku(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Y5[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qh,charCode:function(s){return s.type==="keypress"?Ku(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ku(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),tM=en(eM),rM=Y({},Vu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tw=en(rM),nM=Y({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qh}),aM=en(nM),iM=Y({},Mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),oM=en(iM),sM=Y({},Vu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),lM=en(sM),cM=[9,13,27,32],Zh=u&&"CompositionEvent"in window,Ll=null;u&&"documentMode"in document&&(Ll=document.documentMode);var uM=u&&"TextEvent"in window&&!Ll,Dw=u&&(!Zh||Ll&&8<Ll&&11>=Ll),Rw=" ",Iw=!1;function Mw(s,c){switch(s){case"keyup":return cM.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Lo=!1;function dM(s,c){switch(s){case"compositionend":return Lw(c);case"keypress":return c.which!==32?null:(Iw=!0,Rw);case"textInput":return s=c.data,s===Rw&&Iw?null:s;default:return null}}function fM(s,c){if(Lo)return s==="compositionend"||!Zh&&Mw(s,c)?(s=Pw(),Hu=Uh=ei=null,Lo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Dw&&c.locale!=="ko"?null:c.data;default:return null}}var pM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bw(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!pM[s.type]:c==="textarea"}function Fw(s,c,p,g){je(g),c=Qu(c,"onChange"),0<c.length&&(p=new Hh("onChange","change",null,p,g),s.push({event:p,listeners:c}))}var Bl=null,Fl=null;function hM(s){aj(s,0)}function qu(s){var c=Uo(s);if(ce(c))return s}function vM(s,c){if(s==="change")return c}var Ww=!1;if(u){var Xh;if(u){var Yh="oninput"in document;if(!Yh){var $w=document.createElement("div");$w.setAttribute("oninput","return;"),Yh=typeof $w.oninput=="function"}Xh=Yh}else Xh=!1;Ww=Xh&&(!document.documentMode||9<document.documentMode)}function Uw(){Bl&&(Bl.detachEvent("onpropertychange",Hw),Fl=Bl=null)}function Hw(s){if(s.propertyName==="value"&&qu(Fl)){var c=[];Fw(c,Fl,s,ue(s)),et(hM,c)}}function mM(s,c,p){s==="focusin"?(Uw(),Bl=c,Fl=p,Bl.attachEvent("onpropertychange",Hw)):s==="focusout"&&Uw()}function gM(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return qu(Fl)}function yM(s,c){if(s==="click")return qu(c)}function xM(s,c){if(s==="input"||s==="change")return qu(c)}function bM(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var Tn=typeof Object.is=="function"?Object.is:bM;function Wl(s,c){if(Tn(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var p=Object.keys(s),g=Object.keys(c);if(p.length!==g.length)return!1;for(g=0;g<p.length;g++){var C=p[g];if(!d.call(c,C)||!Tn(s[C],c[C]))return!1}return!0}function Kw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Gw(s,c){var p=Kw(s);s=0;for(var g;p;){if(p.nodeType===3){if(g=s+p.textContent.length,s<=c&&g>=c)return{node:p,offset:c-s};s=g}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Kw(p)}}function Vw(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?Vw(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function qw(){for(var s=window,c=Ie();c instanceof s.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)s=c.contentWindow;else break;c=Ie(s.document)}return c}function Qh(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}function SM(s){var c=qw(),p=s.focusedElem,g=s.selectionRange;if(c!==p&&p&&p.ownerDocument&&Vw(p.ownerDocument.documentElement,p)){if(g!==null&&Qh(p)){if(c=g.start,s=g.end,s===void 0&&(s=c),"selectionStart"in p)p.selectionStart=c,p.selectionEnd=Math.min(s,p.value.length);else if(s=(c=p.ownerDocument||document)&&c.defaultView||window,s.getSelection){s=s.getSelection();var C=p.textContent.length,P=Math.min(g.start,C);g=g.end===void 0?P:Math.min(g.end,C),!s.extend&&P>g&&(C=g,g=P,P=C),C=Gw(p,P);var R=Gw(p,g);C&&R&&(s.rangeCount!==1||s.anchorNode!==C.node||s.anchorOffset!==C.offset||s.focusNode!==R.node||s.focusOffset!==R.offset)&&(c=c.createRange(),c.setStart(C.node,C.offset),s.removeAllRanges(),P>g?(s.addRange(c),s.extend(R.node,R.offset)):(c.setEnd(R.node,R.offset),s.addRange(c)))}}for(c=[],s=p;s=s.parentNode;)s.nodeType===1&&c.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<c.length;p++)s=c[p],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var wM=u&&"documentMode"in document&&11>=document.documentMode,Bo=null,Jh=null,$l=null,ev=!1;function Zw(s,c,p){var g=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;ev||Bo==null||Bo!==Ie(g)||(g=Bo,"selectionStart"in g&&Qh(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),$l&&Wl($l,g)||($l=g,g=Qu(Jh,"onSelect"),0<g.length&&(c=new Hh("onSelect","select",null,c,p),s.push({event:c,listeners:g}),c.target=Bo)))}function Zu(s,c){var p={};return p[s.toLowerCase()]=c.toLowerCase(),p["Webkit"+s]="webkit"+c,p["Moz"+s]="moz"+c,p}var Fo={animationend:Zu("Animation","AnimationEnd"),animationiteration:Zu("Animation","AnimationIteration"),animationstart:Zu("Animation","AnimationStart"),transitionend:Zu("Transition","TransitionEnd")},tv={},Xw={};u&&(Xw=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function Xu(s){if(tv[s])return tv[s];if(!Fo[s])return s;var c=Fo[s],p;for(p in c)if(c.hasOwnProperty(p)&&p in Xw)return tv[s]=c[p];return s}var Yw=Xu("animationend"),Qw=Xu("animationiteration"),Jw=Xu("animationstart"),ej=Xu("transitionend"),tj=new Map,rj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ti(s,c){tj.set(s,c),o(c,[s])}for(var rv=0;rv<rj.length;rv++){var nv=rj[rv],jM=nv.toLowerCase(),kM=nv[0].toUpperCase()+nv.slice(1);ti(jM,"on"+kM)}ti(Yw,"onAnimationEnd"),ti(Qw,"onAnimationIteration"),ti(Jw,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(ej,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ul));function nj(s,c,p){var g=s.type||"unknown-event";s.currentTarget=p,j5(g,c,void 0,s),s.currentTarget=null}function aj(s,c){c=(c&4)!==0;for(var p=0;p<s.length;p++){var g=s[p],C=g.event;g=g.listeners;e:{var P=void 0;if(c)for(var R=g.length-1;0<=R;R--){var G=g[R],Z=G.instance,oe=G.currentTarget;if(G=G.listener,Z!==P&&C.isPropagationStopped())break e;nj(C,G,oe),P=Z}else for(R=0;R<g.length;R++){if(G=g[R],Z=G.instance,oe=G.currentTarget,G=G.listener,Z!==P&&C.isPropagationStopped())break e;nj(C,G,oe),P=Z}}}if(Du)throw s=Dh,Du=!1,Dh=null,s}function Nt(s,c){var p=c[dv];p===void 0&&(p=c[dv]=new Set);var g=s+"__bubble";p.has(g)||(ij(c,s,2,!1),p.add(g))}function av(s,c,p){var g=0;c&&(g|=4),ij(p,s,g,c)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function Hl(s){if(!s[Yu]){s[Yu]=!0,n.forEach(function(p){p!=="selectionchange"&&(CM.has(p)||av(p,!1,s),av(p,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[Yu]||(c[Yu]=!0,av("selectionchange",!1,c))}}function ij(s,c,p,g){switch(Nw(c)){case 1:var C=B5;break;case 4:C=F5;break;default:C=Wh}p=C.bind(null,c,p,s),C=void 0,!Jr||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(C=!0),g?C!==void 0?s.addEventListener(c,p,{capture:!0,passive:C}):s.addEventListener(c,p,!0):C!==void 0?s.addEventListener(c,p,{passive:C}):s.addEventListener(c,p,!1)}function iv(s,c,p,g,C){var P=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var R=g.tag;if(R===3||R===4){var G=g.stateNode.containerInfo;if(G===C||G.nodeType===8&&G.parentNode===C)break;if(R===4)for(R=g.return;R!==null;){var Z=R.tag;if((Z===3||Z===4)&&(Z=R.stateNode.containerInfo,Z===C||Z.nodeType===8&&Z.parentNode===C))return;R=R.return}for(;G!==null;){if(R=Ui(G),R===null)return;if(Z=R.tag,Z===5||Z===6){g=P=R;continue e}G=G.parentNode}}g=g.return}et(function(){var oe=P,ge=ue(p),xe=[];e:{var me=tj.get(s);if(me!==void 0){var Ce=Hh,Pe=s;switch(s){case"keypress":if(Ku(p)===0)break e;case"keydown":case"keyup":Ce=tM;break;case"focusin":Pe="focus",Ce=Vh;break;case"focusout":Pe="blur",Ce=Vh;break;case"beforeblur":case"afterblur":Ce=Vh;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Ow;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=U5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=aM;break;case Yw:case Qw:case Jw:Ce=G5;break;case ej:Ce=oM;break;case"scroll":Ce=W5;break;case"wheel":Ce=lM;break;case"copy":case"cut":case"paste":Ce=q5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=Tw}var Ee=(c&4)!==0,Zt=!Ee&&s==="scroll",te=Ee?me!==null?me+"Capture":null:me;Ee=[];for(var Q=oe,ae;Q!==null;){ae=Q;var Se=ae.stateNode;if(ae.tag===5&&Se!==null&&(ae=Se,te!==null&&(Se=Ve(Q,te),Se!=null&&Ee.push(Kl(Q,Se,ae)))),Zt)break;Q=Q.return}0<Ee.length&&(me=new Ce(me,Pe,null,p,ge),xe.push({event:me,listeners:Ee}))}}if((c&7)===0){e:{if(me=s==="mouseover"||s==="pointerover",Ce=s==="mouseout"||s==="pointerout",me&&p!==ke&&(Pe=p.relatedTarget||p.fromElement)&&(Ui(Pe)||Pe[ya]))break e;if((Ce||me)&&(me=ge.window===ge?ge:(me=ge.ownerDocument)?me.defaultView||me.parentWindow:window,Ce?(Pe=p.relatedTarget||p.toElement,Ce=oe,Pe=Pe?Ui(Pe):null,Pe!==null&&(Zt=$i(Pe),Pe!==Zt||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(Ce=null,Pe=oe),Ce!==Pe)){if(Ee=Ow,Se="onMouseLeave",te="onMouseEnter",Q="mouse",(s==="pointerout"||s==="pointerover")&&(Ee=Tw,Se="onPointerLeave",te="onPointerEnter",Q="pointer"),Zt=Ce==null?me:Uo(Ce),ae=Pe==null?me:Uo(Pe),me=new Ee(Se,Q+"leave",Ce,p,ge),me.target=Zt,me.relatedTarget=ae,Se=null,Ui(ge)===oe&&(Ee=new Ee(te,Q+"enter",Pe,p,ge),Ee.target=ae,Ee.relatedTarget=Zt,Se=Ee),Zt=Se,Ce&&Pe)t:{for(Ee=Ce,te=Pe,Q=0,ae=Ee;ae;ae=Wo(ae))Q++;for(ae=0,Se=te;Se;Se=Wo(Se))ae++;for(;0<Q-ae;)Ee=Wo(Ee),Q--;for(;0<ae-Q;)te=Wo(te),ae--;for(;Q--;){if(Ee===te||te!==null&&Ee===te.alternate)break t;Ee=Wo(Ee),te=Wo(te)}Ee=null}else Ee=null;Ce!==null&&oj(xe,me,Ce,Ee,!1),Pe!==null&&Zt!==null&&oj(xe,Zt,Pe,Ee,!0)}}e:{if(me=oe?Uo(oe):window,Ce=me.nodeName&&me.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&me.type==="file")var De=vM;else if(Bw(me))if(Ww)De=xM;else{De=gM;var Le=mM}else(Ce=me.nodeName)&&Ce.toLowerCase()==="input"&&(me.type==="checkbox"||me.type==="radio")&&(De=yM);if(De&&(De=De(s,oe))){Fw(xe,De,p,ge);break e}Le&&Le(s,me,oe),s==="focusout"&&(Le=me._wrapperState)&&Le.controlled&&me.type==="number"&&ct(me,"number",me.value)}switch(Le=oe?Uo(oe):window,s){case"focusin":(Bw(Le)||Le.contentEditable==="true")&&(Bo=Le,Jh=oe,$l=null);break;case"focusout":$l=Jh=Bo=null;break;case"mousedown":ev=!0;break;case"contextmenu":case"mouseup":case"dragend":ev=!1,Zw(xe,p,ge);break;case"selectionchange":if(wM)break;case"keydown":case"keyup":Zw(xe,p,ge)}var Be;if(Zh)e:{switch(s){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Lo?Mw(s,p)&&(Ue="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(Ue="onCompositionStart");Ue&&(Dw&&p.locale!=="ko"&&(Lo||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Lo&&(Be=Pw()):(ei=ge,Uh="value"in ei?ei.value:ei.textContent,Lo=!0)),Le=Qu(oe,Ue),0<Le.length&&(Ue=new Ew(Ue,s,null,p,ge),xe.push({event:Ue,listeners:Le}),Be?Ue.data=Be:(Be=Lw(p),Be!==null&&(Ue.data=Be)))),(Be=uM?dM(s,p):fM(s,p))&&(oe=Qu(oe,"onBeforeInput"),0<oe.length&&(ge=new Ew("onBeforeInput","beforeinput",null,p,ge),xe.push({event:ge,listeners:oe}),ge.data=Be))}aj(xe,c)})}function Kl(s,c,p){return{instance:s,listener:c,currentTarget:p}}function Qu(s,c){for(var p=c+"Capture",g=[];s!==null;){var C=s,P=C.stateNode;C.tag===5&&P!==null&&(C=P,P=Ve(s,p),P!=null&&g.unshift(Kl(s,P,C)),P=Ve(s,c),P!=null&&g.push(Kl(s,P,C))),s=s.return}return g}function Wo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function oj(s,c,p,g,C){for(var P=c._reactName,R=[];p!==null&&p!==g;){var G=p,Z=G.alternate,oe=G.stateNode;if(Z!==null&&Z===g)break;G.tag===5&&oe!==null&&(G=oe,C?(Z=Ve(p,P),Z!=null&&R.unshift(Kl(p,Z,G))):C||(Z=Ve(p,P),Z!=null&&R.push(Kl(p,Z,G)))),p=p.return}R.length!==0&&s.push({event:c,listeners:R})}var zM=/\r\n?/g,AM=/\u0000|\uFFFD/g;function sj(s){return(typeof s=="string"?s:""+s).replace(zM,`
`).replace(AM,"")}function Ju(s,c,p){if(c=sj(c),sj(s)!==c&&p)throw Error(r(425))}function ed(){}var ov=null,sv=null;function lv(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var cv=typeof setTimeout=="function"?setTimeout:void 0,NM=typeof clearTimeout=="function"?clearTimeout:void 0,lj=typeof Promise=="function"?Promise:void 0,PM=typeof queueMicrotask=="function"?queueMicrotask:typeof lj<"u"?function(s){return lj.resolve(null).then(s).catch(_M)}:cv;function _M(s){setTimeout(function(){throw s})}function uv(s,c){var p=c,g=0;do{var C=p.nextSibling;if(s.removeChild(p),C&&C.nodeType===8)if(p=C.data,p==="/$"){if(g===0){s.removeChild(C),Rl(c);return}g--}else p!=="$"&&p!=="$?"&&p!=="$!"||g++;p=C}while(p);Rl(c)}function ri(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return s}function cj(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return s;c--}else p==="/$"&&c++}s=s.previousSibling}return null}var $o=Math.random().toString(36).slice(2),Jn="__reactFiber$"+$o,Gl="__reactProps$"+$o,ya="__reactContainer$"+$o,dv="__reactEvents$"+$o,OM="__reactListeners$"+$o,EM="__reactHandles$"+$o;function Ui(s){var c=s[Jn];if(c)return c;for(var p=s.parentNode;p;){if(c=p[ya]||p[Jn]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(s=cj(s);s!==null;){if(p=s[Jn])return p;s=cj(s)}return c}s=p,p=s.parentNode}return null}function Vl(s){return s=s[Jn]||s[ya],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Uo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function td(s){return s[Gl]||null}var fv=[],Ho=-1;function ni(s){return{current:s}}function Pt(s){0>Ho||(s.current=fv[Ho],fv[Ho]=null,Ho--)}function jt(s,c){Ho++,fv[Ho]=s.current,s.current=c}var ai={},wr=ni(ai),$r=ni(!1),Hi=ai;function Ko(s,c){var p=s.type.contextTypes;if(!p)return ai;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===c)return g.__reactInternalMemoizedMaskedChildContext;var C={},P;for(P in p)C[P]=c[P];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=c,s.__reactInternalMemoizedMaskedChildContext=C),C}function Ur(s){return s=s.childContextTypes,s!=null}function rd(){Pt($r),Pt(wr)}function uj(s,c,p){if(wr.current!==ai)throw Error(r(168));jt(wr,c),jt($r,p)}function dj(s,c,p){var g=s.stateNode;if(c=c.childContextTypes,typeof g.getChildContext!="function")return p;g=g.getChildContext();for(var C in g)if(!(C in c))throw Error(r(108,ne(s)||"Unknown",C));return Y({},p,g)}function nd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ai,Hi=wr.current,jt(wr,s),jt($r,$r.current),!0}function fj(s,c,p){var g=s.stateNode;if(!g)throw Error(r(169));p?(s=dj(s,c,Hi),g.__reactInternalMemoizedMergedChildContext=s,Pt($r),Pt(wr),jt(wr,s)):Pt($r),jt($r,p)}var xa=null,ad=!1,pv=!1;function pj(s){xa===null?xa=[s]:xa.push(s)}function TM(s){ad=!0,pj(s)}function ii(){if(!pv&&xa!==null){pv=!0;var s=0,c=mt;try{var p=xa;for(mt=1;s<p.length;s++){var g=p[s];do g=g(!0);while(g!==null)}xa=null,ad=!1}catch(C){throw xa!==null&&(xa=xa.slice(s+1)),vw(Rh,ii),C}finally{mt=c,pv=!1}}return null}var Go=[],Vo=0,id=null,od=0,gn=[],yn=0,Ki=null,ba=1,Sa="";function Gi(s,c){Go[Vo++]=od,Go[Vo++]=id,id=s,od=c}function hj(s,c,p){gn[yn++]=ba,gn[yn++]=Sa,gn[yn++]=Ki,Ki=s;var g=ba;s=Sa;var C=32-En(g)-1;g&=~(1<<C),p+=1;var P=32-En(c)+C;if(30<P){var R=C-C%5;P=(g&(1<<R)-1).toString(32),g>>=R,C-=R,ba=1<<32-En(c)+C|p<<C|g,Sa=P+s}else ba=1<<P|p<<C|g,Sa=s}function hv(s){s.return!==null&&(Gi(s,1),hj(s,1,0))}function vv(s){for(;s===id;)id=Go[--Vo],Go[Vo]=null,od=Go[--Vo],Go[Vo]=null;for(;s===Ki;)Ki=gn[--yn],gn[yn]=null,Sa=gn[--yn],gn[yn]=null,ba=gn[--yn],gn[yn]=null}var tn=null,rn=null,Dt=!1,Dn=null;function vj(s,c){var p=wn(5,null,null,0);p.elementType="DELETED",p.stateNode=c,p.return=s,c=s.deletions,c===null?(s.deletions=[p],s.flags|=16):c.push(p)}function mj(s,c){switch(s.tag){case 5:var p=s.type;return c=c.nodeType!==1||p.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(s.stateNode=c,tn=s,rn=ri(c.firstChild),!0):!1;case 6:return c=s.pendingProps===""||c.nodeType!==3?null:c,c!==null?(s.stateNode=c,tn=s,rn=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(p=Ki!==null?{id:ba,overflow:Sa}:null,s.memoizedState={dehydrated:c,treeContext:p,retryLane:1073741824},p=wn(18,null,null,0),p.stateNode=c,p.return=s,s.child=p,tn=s,rn=null,!0):!1;default:return!1}}function mv(s){return(s.mode&1)!==0&&(s.flags&128)===0}function gv(s){if(Dt){var c=rn;if(c){var p=c;if(!mj(s,c)){if(mv(s))throw Error(r(418));c=ri(p.nextSibling);var g=tn;c&&mj(s,c)?vj(g,p):(s.flags=s.flags&-4097|2,Dt=!1,tn=s)}}else{if(mv(s))throw Error(r(418));s.flags=s.flags&-4097|2,Dt=!1,tn=s}}}function gj(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;tn=s}function sd(s){if(s!==tn)return!1;if(!Dt)return gj(s),Dt=!0,!1;var c;if((c=s.tag!==3)&&!(c=s.tag!==5)&&(c=s.type,c=c!=="head"&&c!=="body"&&!lv(s.type,s.memoizedProps)),c&&(c=rn)){if(mv(s))throw yj(),Error(r(418));for(;c;)vj(s,c),c=ri(c.nextSibling)}if(gj(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,c=0;s;){if(s.nodeType===8){var p=s.data;if(p==="/$"){if(c===0){rn=ri(s.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++}s=s.nextSibling}rn=null}}else rn=tn?ri(s.stateNode.nextSibling):null;return!0}function yj(){for(var s=rn;s;)s=ri(s.nextSibling)}function qo(){rn=tn=null,Dt=!1}function yv(s){Dn===null?Dn=[s]:Dn.push(s)}var DM=N.ReactCurrentBatchConfig;function ql(s,c,p){if(s=p.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(r(309));var g=p.stateNode}if(!g)throw Error(r(147,s));var C=g,P=""+s;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===P?c.ref:(c=function(R){var G=C.refs;R===null?delete G[P]:G[P]=R},c._stringRef=P,c)}if(typeof s!="string")throw Error(r(284));if(!p._owner)throw Error(r(290,s))}return s}function ld(s,c){throw s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s))}function xj(s){var c=s._init;return c(s._payload)}function bj(s){function c(te,Q){if(s){var ae=te.deletions;ae===null?(te.deletions=[Q],te.flags|=16):ae.push(Q)}}function p(te,Q){if(!s)return null;for(;Q!==null;)c(te,Q),Q=Q.sibling;return null}function g(te,Q){for(te=new Map;Q!==null;)Q.key!==null?te.set(Q.key,Q):te.set(Q.index,Q),Q=Q.sibling;return te}function C(te,Q){return te=pi(te,Q),te.index=0,te.sibling=null,te}function P(te,Q,ae){return te.index=ae,s?(ae=te.alternate,ae!==null?(ae=ae.index,ae<Q?(te.flags|=2,Q):ae):(te.flags|=2,Q)):(te.flags|=1048576,Q)}function R(te){return s&&te.alternate===null&&(te.flags|=2),te}function G(te,Q,ae,Se){return Q===null||Q.tag!==6?(Q=cm(ae,te.mode,Se),Q.return=te,Q):(Q=C(Q,ae),Q.return=te,Q)}function Z(te,Q,ae,Se){var De=ae.type;return De===_?ge(te,Q,ae.props.children,Se,ae.key):Q!==null&&(Q.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===q&&xj(De)===Q.type)?(Se=C(Q,ae.props),Se.ref=ql(te,Q,ae),Se.return=te,Se):(Se=Ed(ae.type,ae.key,ae.props,null,te.mode,Se),Se.ref=ql(te,Q,ae),Se.return=te,Se)}function oe(te,Q,ae,Se){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ae.containerInfo||Q.stateNode.implementation!==ae.implementation?(Q=um(ae,te.mode,Se),Q.return=te,Q):(Q=C(Q,ae.children||[]),Q.return=te,Q)}function ge(te,Q,ae,Se,De){return Q===null||Q.tag!==7?(Q=eo(ae,te.mode,Se,De),Q.return=te,Q):(Q=C(Q,ae),Q.return=te,Q)}function xe(te,Q,ae){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=cm(""+Q,te.mode,ae),Q.return=te,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case A:return ae=Ed(Q.type,Q.key,Q.props,null,te.mode,ae),ae.ref=ql(te,null,Q),ae.return=te,ae;case O:return Q=um(Q,te.mode,ae),Q.return=te,Q;case q:var Se=Q._init;return xe(te,Se(Q._payload),ae)}if(it(Q)||F(Q))return Q=eo(Q,te.mode,ae,null),Q.return=te,Q;ld(te,Q)}return null}function me(te,Q,ae,Se){var De=Q!==null?Q.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return De!==null?null:G(te,Q,""+ae,Se);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case A:return ae.key===De?Z(te,Q,ae,Se):null;case O:return ae.key===De?oe(te,Q,ae,Se):null;case q:return De=ae._init,me(te,Q,De(ae._payload),Se)}if(it(ae)||F(ae))return De!==null?null:ge(te,Q,ae,Se,null);ld(te,ae)}return null}function Ce(te,Q,ae,Se,De){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return te=te.get(ae)||null,G(Q,te,""+Se,De);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case A:return te=te.get(Se.key===null?ae:Se.key)||null,Z(Q,te,Se,De);case O:return te=te.get(Se.key===null?ae:Se.key)||null,oe(Q,te,Se,De);case q:var Le=Se._init;return Ce(te,Q,ae,Le(Se._payload),De)}if(it(Se)||F(Se))return te=te.get(ae)||null,ge(Q,te,Se,De,null);ld(Q,Se)}return null}function Pe(te,Q,ae,Se){for(var De=null,Le=null,Be=Q,Ue=Q=0,pr=null;Be!==null&&Ue<ae.length;Ue++){Be.index>Ue?(pr=Be,Be=null):pr=Be.sibling;var ot=me(te,Be,ae[Ue],Se);if(ot===null){Be===null&&(Be=pr);break}s&&Be&&ot.alternate===null&&c(te,Be),Q=P(ot,Q,Ue),Le===null?De=ot:Le.sibling=ot,Le=ot,Be=pr}if(Ue===ae.length)return p(te,Be),Dt&&Gi(te,Ue),De;if(Be===null){for(;Ue<ae.length;Ue++)Be=xe(te,ae[Ue],Se),Be!==null&&(Q=P(Be,Q,Ue),Le===null?De=Be:Le.sibling=Be,Le=Be);return Dt&&Gi(te,Ue),De}for(Be=g(te,Be);Ue<ae.length;Ue++)pr=Ce(Be,te,Ue,ae[Ue],Se),pr!==null&&(s&&pr.alternate!==null&&Be.delete(pr.key===null?Ue:pr.key),Q=P(pr,Q,Ue),Le===null?De=pr:Le.sibling=pr,Le=pr);return s&&Be.forEach(function(hi){return c(te,hi)}),Dt&&Gi(te,Ue),De}function Ee(te,Q,ae,Se){var De=F(ae);if(typeof De!="function")throw Error(r(150));if(ae=De.call(ae),ae==null)throw Error(r(151));for(var Le=De=null,Be=Q,Ue=Q=0,pr=null,ot=ae.next();Be!==null&&!ot.done;Ue++,ot=ae.next()){Be.index>Ue?(pr=Be,Be=null):pr=Be.sibling;var hi=me(te,Be,ot.value,Se);if(hi===null){Be===null&&(Be=pr);break}s&&Be&&hi.alternate===null&&c(te,Be),Q=P(hi,Q,Ue),Le===null?De=hi:Le.sibling=hi,Le=hi,Be=pr}if(ot.done)return p(te,Be),Dt&&Gi(te,Ue),De;if(Be===null){for(;!ot.done;Ue++,ot=ae.next())ot=xe(te,ot.value,Se),ot!==null&&(Q=P(ot,Q,Ue),Le===null?De=ot:Le.sibling=ot,Le=ot);return Dt&&Gi(te,Ue),De}for(Be=g(te,Be);!ot.done;Ue++,ot=ae.next())ot=Ce(Be,te,Ue,ot.value,Se),ot!==null&&(s&&ot.alternate!==null&&Be.delete(ot.key===null?Ue:ot.key),Q=P(ot,Q,Ue),Le===null?De=ot:Le.sibling=ot,Le=ot);return s&&Be.forEach(function(p4){return c(te,p4)}),Dt&&Gi(te,Ue),De}function Zt(te,Q,ae,Se){if(typeof ae=="object"&&ae!==null&&ae.type===_&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case A:e:{for(var De=ae.key,Le=Q;Le!==null;){if(Le.key===De){if(De=ae.type,De===_){if(Le.tag===7){p(te,Le.sibling),Q=C(Le,ae.props.children),Q.return=te,te=Q;break e}}else if(Le.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===q&&xj(De)===Le.type){p(te,Le.sibling),Q=C(Le,ae.props),Q.ref=ql(te,Le,ae),Q.return=te,te=Q;break e}p(te,Le);break}else c(te,Le);Le=Le.sibling}ae.type===_?(Q=eo(ae.props.children,te.mode,Se,ae.key),Q.return=te,te=Q):(Se=Ed(ae.type,ae.key,ae.props,null,te.mode,Se),Se.ref=ql(te,Q,ae),Se.return=te,te=Se)}return R(te);case O:e:{for(Le=ae.key;Q!==null;){if(Q.key===Le)if(Q.tag===4&&Q.stateNode.containerInfo===ae.containerInfo&&Q.stateNode.implementation===ae.implementation){p(te,Q.sibling),Q=C(Q,ae.children||[]),Q.return=te,te=Q;break e}else{p(te,Q);break}else c(te,Q);Q=Q.sibling}Q=um(ae,te.mode,Se),Q.return=te,te=Q}return R(te);case q:return Le=ae._init,Zt(te,Q,Le(ae._payload),Se)}if(it(ae))return Pe(te,Q,ae,Se);if(F(ae))return Ee(te,Q,ae,Se);ld(te,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,Q!==null&&Q.tag===6?(p(te,Q.sibling),Q=C(Q,ae),Q.return=te,te=Q):(p(te,Q),Q=cm(ae,te.mode,Se),Q.return=te,te=Q),R(te)):p(te,Q)}return Zt}var Zo=bj(!0),Sj=bj(!1),cd=ni(null),ud=null,Xo=null,xv=null;function bv(){xv=Xo=ud=null}function Sv(s){var c=cd.current;Pt(cd),s._currentValue=c}function wv(s,c,p){for(;s!==null;){var g=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),s===p)break;s=s.return}}function Yo(s,c){ud=s,xv=Xo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&c)!==0&&(Hr=!0),s.firstContext=null)}function xn(s){var c=s._currentValue;if(xv!==s)if(s={context:s,memoizedValue:c,next:null},Xo===null){if(ud===null)throw Error(r(308));Xo=s,ud.dependencies={lanes:0,firstContext:s}}else Xo=Xo.next=s;return c}var Vi=null;function jv(s){Vi===null?Vi=[s]:Vi.push(s)}function wj(s,c,p,g){var C=c.interleaved;return C===null?(p.next=p,jv(c)):(p.next=C.next,C.next=p),c.interleaved=p,wa(s,g)}function wa(s,c){s.lanes|=c;var p=s.alternate;for(p!==null&&(p.lanes|=c),p=s,s=s.return;s!==null;)s.childLanes|=c,p=s.alternate,p!==null&&(p.childLanes|=c),p=s,s=s.return;return p.tag===3?p.stateNode:null}var oi=!1;function kv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jj(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ja(s,c){return{eventTime:s,lane:c,tag:0,payload:null,callback:null,next:null}}function si(s,c,p){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(at&2)!==0){var C=g.pending;return C===null?c.next=c:(c.next=C.next,C.next=c),g.pending=c,wa(s,p)}return C=g.interleaved,C===null?(c.next=c,jv(g)):(c.next=C.next,C.next=c),g.interleaved=c,wa(s,p)}function dd(s,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194240)!==0)){var g=c.lanes;g&=s.pendingLanes,p|=g,c.lanes=p,Lh(s,p)}}function kj(s,c){var p=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,p===g)){var C=null,P=null;if(p=p.firstBaseUpdate,p!==null){do{var R={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};P===null?C=P=R:P=P.next=R,p=p.next}while(p!==null);P===null?C=P=c:P=P.next=c}else C=P=c;p={baseState:g.baseState,firstBaseUpdate:C,lastBaseUpdate:P,shared:g.shared,effects:g.effects},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=c:s.next=c,p.lastBaseUpdate=c}function fd(s,c,p,g){var C=s.updateQueue;oi=!1;var P=C.firstBaseUpdate,R=C.lastBaseUpdate,G=C.shared.pending;if(G!==null){C.shared.pending=null;var Z=G,oe=Z.next;Z.next=null,R===null?P=oe:R.next=oe,R=Z;var ge=s.alternate;ge!==null&&(ge=ge.updateQueue,G=ge.lastBaseUpdate,G!==R&&(G===null?ge.firstBaseUpdate=oe:G.next=oe,ge.lastBaseUpdate=Z))}if(P!==null){var xe=C.baseState;R=0,ge=oe=Z=null,G=P;do{var me=G.lane,Ce=G.eventTime;if((g&me)===me){ge!==null&&(ge=ge.next={eventTime:Ce,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});e:{var Pe=s,Ee=G;switch(me=c,Ce=p,Ee.tag){case 1:if(Pe=Ee.payload,typeof Pe=="function"){xe=Pe.call(Ce,xe,me);break e}xe=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ee.payload,me=typeof Pe=="function"?Pe.call(Ce,xe,me):Pe,me==null)break e;xe=Y({},xe,me);break e;case 2:oi=!0}}G.callback!==null&&G.lane!==0&&(s.flags|=64,me=C.effects,me===null?C.effects=[G]:me.push(G))}else Ce={eventTime:Ce,lane:me,tag:G.tag,payload:G.payload,callback:G.callback,next:null},ge===null?(oe=ge=Ce,Z=xe):ge=ge.next=Ce,R|=me;if(G=G.next,G===null){if(G=C.shared.pending,G===null)break;me=G,G=me.next,me.next=null,C.lastBaseUpdate=me,C.shared.pending=null}}while(!0);if(ge===null&&(Z=xe),C.baseState=Z,C.firstBaseUpdate=oe,C.lastBaseUpdate=ge,c=C.shared.interleaved,c!==null){C=c;do R|=C.lane,C=C.next;while(C!==c)}else P===null&&(C.shared.lanes=0);Xi|=R,s.lanes=R,s.memoizedState=xe}}function Cj(s,c,p){if(s=c.effects,c.effects=null,s!==null)for(c=0;c<s.length;c++){var g=s[c],C=g.callback;if(C!==null){if(g.callback=null,g=p,typeof C!="function")throw Error(r(191,C));C.call(g)}}}var Zl={},ea=ni(Zl),Xl=ni(Zl),Yl=ni(Zl);function qi(s){if(s===Zl)throw Error(r(174));return s}function Cv(s,c){switch(jt(Yl,c),jt(Xl,s),jt(ea,Zl),s=c.nodeType,s){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:nt(null,"");break;default:s=s===8?c.parentNode:c,c=s.namespaceURI||null,s=s.tagName,c=nt(c,s)}Pt(ea),jt(ea,c)}function Qo(){Pt(ea),Pt(Xl),Pt(Yl)}function zj(s){qi(Yl.current);var c=qi(ea.current),p=nt(c,s.type);c!==p&&(jt(Xl,s),jt(ea,p))}function zv(s){Xl.current===s&&(Pt(ea),Pt(Xl))}var Lt=ni(0);function pd(s){for(var c=s;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Av=[];function Nv(){for(var s=0;s<Av.length;s++)Av[s]._workInProgressVersionPrimary=null;Av.length=0}var hd=N.ReactCurrentDispatcher,Pv=N.ReactCurrentBatchConfig,Zi=0,Bt=null,ar=null,dr=null,vd=!1,Ql=!1,Jl=0,RM=0;function jr(){throw Error(r(321))}function _v(s,c){if(c===null)return!1;for(var p=0;p<c.length&&p<s.length;p++)if(!Tn(s[p],c[p]))return!1;return!0}function Ov(s,c,p,g,C,P){if(Zi=P,Bt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,hd.current=s===null||s.memoizedState===null?BM:FM,s=p(g,C),Ql){P=0;do{if(Ql=!1,Jl=0,25<=P)throw Error(r(301));P+=1,dr=ar=null,c.updateQueue=null,hd.current=WM,s=p(g,C)}while(Ql)}if(hd.current=yd,c=ar!==null&&ar.next!==null,Zi=0,dr=ar=Bt=null,vd=!1,c)throw Error(r(300));return s}function Ev(){var s=Jl!==0;return Jl=0,s}function ta(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Bt.memoizedState=dr=s:dr=dr.next=s,dr}function bn(){if(ar===null){var s=Bt.alternate;s=s!==null?s.memoizedState:null}else s=ar.next;var c=dr===null?Bt.memoizedState:dr.next;if(c!==null)dr=c,ar=s;else{if(s===null)throw Error(r(310));ar=s,s={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},dr===null?Bt.memoizedState=dr=s:dr=dr.next=s}return dr}function ec(s,c){return typeof c=="function"?c(s):c}function Tv(s){var c=bn(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=s;var g=ar,C=g.baseQueue,P=p.pending;if(P!==null){if(C!==null){var R=C.next;C.next=P.next,P.next=R}g.baseQueue=C=P,p.pending=null}if(C!==null){P=C.next,g=g.baseState;var G=R=null,Z=null,oe=P;do{var ge=oe.lane;if((Zi&ge)===ge)Z!==null&&(Z=Z.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),g=oe.hasEagerState?oe.eagerState:s(g,oe.action);else{var xe={lane:ge,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};Z===null?(G=Z=xe,R=g):Z=Z.next=xe,Bt.lanes|=ge,Xi|=ge}oe=oe.next}while(oe!==null&&oe!==P);Z===null?R=g:Z.next=G,Tn(g,c.memoizedState)||(Hr=!0),c.memoizedState=g,c.baseState=R,c.baseQueue=Z,p.lastRenderedState=g}if(s=p.interleaved,s!==null){C=s;do P=C.lane,Bt.lanes|=P,Xi|=P,C=C.next;while(C!==s)}else C===null&&(p.lanes=0);return[c.memoizedState,p.dispatch]}function Dv(s){var c=bn(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=s;var g=p.dispatch,C=p.pending,P=c.memoizedState;if(C!==null){p.pending=null;var R=C=C.next;do P=s(P,R.action),R=R.next;while(R!==C);Tn(P,c.memoizedState)||(Hr=!0),c.memoizedState=P,c.baseQueue===null&&(c.baseState=P),p.lastRenderedState=P}return[P,g]}function Aj(){}function Nj(s,c){var p=Bt,g=bn(),C=c(),P=!Tn(g.memoizedState,C);if(P&&(g.memoizedState=C,Hr=!0),g=g.queue,Rv(Oj.bind(null,p,g,s),[s]),g.getSnapshot!==c||P||dr!==null&&dr.memoizedState.tag&1){if(p.flags|=2048,tc(9,_j.bind(null,p,g,C,c),void 0,null),fr===null)throw Error(r(349));(Zi&30)!==0||Pj(p,c,C)}return C}function Pj(s,c,p){s.flags|=16384,s={getSnapshot:c,value:p},c=Bt.updateQueue,c===null?(c={lastEffect:null,stores:null},Bt.updateQueue=c,c.stores=[s]):(p=c.stores,p===null?c.stores=[s]:p.push(s))}function _j(s,c,p,g){c.value=p,c.getSnapshot=g,Ej(c)&&Tj(s)}function Oj(s,c,p){return p(function(){Ej(c)&&Tj(s)})}function Ej(s){var c=s.getSnapshot;s=s.value;try{var p=c();return!Tn(s,p)}catch{return!0}}function Tj(s){var c=wa(s,1);c!==null&&Ln(c,s,1,-1)}function Dj(s){var c=ta();return typeof s=="function"&&(s=s()),c.memoizedState=c.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ec,lastRenderedState:s},c.queue=s,s=s.dispatch=LM.bind(null,Bt,s),[c.memoizedState,s]}function tc(s,c,p,g){return s={tag:s,create:c,destroy:p,deps:g,next:null},c=Bt.updateQueue,c===null?(c={lastEffect:null,stores:null},Bt.updateQueue=c,c.lastEffect=s.next=s):(p=c.lastEffect,p===null?c.lastEffect=s.next=s:(g=p.next,p.next=s,s.next=g,c.lastEffect=s)),s}function Rj(){return bn().memoizedState}function md(s,c,p,g){var C=ta();Bt.flags|=s,C.memoizedState=tc(1|c,p,void 0,g===void 0?null:g)}function gd(s,c,p,g){var C=bn();g=g===void 0?null:g;var P=void 0;if(ar!==null){var R=ar.memoizedState;if(P=R.destroy,g!==null&&_v(g,R.deps)){C.memoizedState=tc(c,p,P,g);return}}Bt.flags|=s,C.memoizedState=tc(1|c,p,P,g)}function Ij(s,c){return md(8390656,8,s,c)}function Rv(s,c){return gd(2048,8,s,c)}function Mj(s,c){return gd(4,2,s,c)}function Lj(s,c){return gd(4,4,s,c)}function Bj(s,c){if(typeof c=="function")return s=s(),c(s),function(){c(null)};if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function Fj(s,c,p){return p=p!=null?p.concat([s]):null,gd(4,4,Bj.bind(null,c,s),p)}function Iv(){}function Wj(s,c){var p=bn();c=c===void 0?null:c;var g=p.memoizedState;return g!==null&&c!==null&&_v(c,g[1])?g[0]:(p.memoizedState=[s,c],s)}function $j(s,c){var p=bn();c=c===void 0?null:c;var g=p.memoizedState;return g!==null&&c!==null&&_v(c,g[1])?g[0]:(s=s(),p.memoizedState=[s,c],s)}function Uj(s,c,p){return(Zi&21)===0?(s.baseState&&(s.baseState=!1,Hr=!0),s.memoizedState=p):(Tn(p,c)||(p=xw(),Bt.lanes|=p,Xi|=p,s.baseState=!0),c)}function IM(s,c){var p=mt;mt=p!==0&&4>p?p:4,s(!0);var g=Pv.transition;Pv.transition={};try{s(!1),c()}finally{mt=p,Pv.transition=g}}function Hj(){return bn().memoizedState}function MM(s,c,p){var g=di(s);if(p={lane:g,action:p,hasEagerState:!1,eagerState:null,next:null},Kj(s))Gj(c,p);else if(p=wj(s,c,p,g),p!==null){var C=Dr();Ln(p,s,g,C),Vj(p,c,g)}}function LM(s,c,p){var g=di(s),C={lane:g,action:p,hasEagerState:!1,eagerState:null,next:null};if(Kj(s))Gj(c,C);else{var P=s.alternate;if(s.lanes===0&&(P===null||P.lanes===0)&&(P=c.lastRenderedReducer,P!==null))try{var R=c.lastRenderedState,G=P(R,p);if(C.hasEagerState=!0,C.eagerState=G,Tn(G,R)){var Z=c.interleaved;Z===null?(C.next=C,jv(c)):(C.next=Z.next,Z.next=C),c.interleaved=C;return}}catch{}finally{}p=wj(s,c,C,g),p!==null&&(C=Dr(),Ln(p,s,g,C),Vj(p,c,g))}}function Kj(s){var c=s.alternate;return s===Bt||c!==null&&c===Bt}function Gj(s,c){Ql=vd=!0;var p=s.pending;p===null?c.next=c:(c.next=p.next,p.next=c),s.pending=c}function Vj(s,c,p){if((p&4194240)!==0){var g=c.lanes;g&=s.pendingLanes,p|=g,c.lanes=p,Lh(s,p)}}var yd={readContext:xn,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useInsertionEffect:jr,useLayoutEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useMutableSource:jr,useSyncExternalStore:jr,useId:jr,unstable_isNewReconciler:!1},BM={readContext:xn,useCallback:function(s,c){return ta().memoizedState=[s,c===void 0?null:c],s},useContext:xn,useEffect:Ij,useImperativeHandle:function(s,c,p){return p=p!=null?p.concat([s]):null,md(4194308,4,Bj.bind(null,c,s),p)},useLayoutEffect:function(s,c){return md(4194308,4,s,c)},useInsertionEffect:function(s,c){return md(4,2,s,c)},useMemo:function(s,c){var p=ta();return c=c===void 0?null:c,s=s(),p.memoizedState=[s,c],s},useReducer:function(s,c,p){var g=ta();return c=p!==void 0?p(c):c,g.memoizedState=g.baseState=c,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:c},g.queue=s,s=s.dispatch=MM.bind(null,Bt,s),[g.memoizedState,s]},useRef:function(s){var c=ta();return s={current:s},c.memoizedState=s},useState:Dj,useDebugValue:Iv,useDeferredValue:function(s){return ta().memoizedState=s},useTransition:function(){var s=Dj(!1),c=s[0];return s=IM.bind(null,s[1]),ta().memoizedState=s,[c,s]},useMutableSource:function(){},useSyncExternalStore:function(s,c,p){var g=Bt,C=ta();if(Dt){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),fr===null)throw Error(r(349));(Zi&30)!==0||Pj(g,c,p)}C.memoizedState=p;var P={value:p,getSnapshot:c};return C.queue=P,Ij(Oj.bind(null,g,P,s),[s]),g.flags|=2048,tc(9,_j.bind(null,g,P,p,c),void 0,null),p},useId:function(){var s=ta(),c=fr.identifierPrefix;if(Dt){var p=Sa,g=ba;p=(g&~(1<<32-En(g)-1)).toString(32)+p,c=":"+c+"R"+p,p=Jl++,0<p&&(c+="H"+p.toString(32)),c+=":"}else p=RM++,c=":"+c+"r"+p.toString(32)+":";return s.memoizedState=c},unstable_isNewReconciler:!1},FM={readContext:xn,useCallback:Wj,useContext:xn,useEffect:Rv,useImperativeHandle:Fj,useInsertionEffect:Mj,useLayoutEffect:Lj,useMemo:$j,useReducer:Tv,useRef:Rj,useState:function(){return Tv(ec)},useDebugValue:Iv,useDeferredValue:function(s){var c=bn();return Uj(c,ar.memoizedState,s)},useTransition:function(){var s=Tv(ec)[0],c=bn().memoizedState;return[s,c]},useMutableSource:Aj,useSyncExternalStore:Nj,useId:Hj,unstable_isNewReconciler:!1},WM={readContext:xn,useCallback:Wj,useContext:xn,useEffect:Rv,useImperativeHandle:Fj,useInsertionEffect:Mj,useLayoutEffect:Lj,useMemo:$j,useReducer:Dv,useRef:Rj,useState:function(){return Dv(ec)},useDebugValue:Iv,useDeferredValue:function(s){var c=bn();return ar===null?c.memoizedState=s:Uj(c,ar.memoizedState,s)},useTransition:function(){var s=Dv(ec)[0],c=bn().memoizedState;return[s,c]},useMutableSource:Aj,useSyncExternalStore:Nj,useId:Hj,unstable_isNewReconciler:!1};function Rn(s,c){if(s&&s.defaultProps){c=Y({},c),s=s.defaultProps;for(var p in s)c[p]===void 0&&(c[p]=s[p]);return c}return c}function Mv(s,c,p,g){c=s.memoizedState,p=p(g,c),p=p==null?c:Y({},c,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var xd={isMounted:function(s){return(s=s._reactInternals)?$i(s)===s:!1},enqueueSetState:function(s,c,p){s=s._reactInternals;var g=Dr(),C=di(s),P=ja(g,C);P.payload=c,p!=null&&(P.callback=p),c=si(s,P,C),c!==null&&(Ln(c,s,C,g),dd(c,s,C))},enqueueReplaceState:function(s,c,p){s=s._reactInternals;var g=Dr(),C=di(s),P=ja(g,C);P.tag=1,P.payload=c,p!=null&&(P.callback=p),c=si(s,P,C),c!==null&&(Ln(c,s,C,g),dd(c,s,C))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var p=Dr(),g=di(s),C=ja(p,g);C.tag=2,c!=null&&(C.callback=c),c=si(s,C,g),c!==null&&(Ln(c,s,g,p),dd(c,s,g))}};function qj(s,c,p,g,C,P,R){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,P,R):c.prototype&&c.prototype.isPureReactComponent?!Wl(p,g)||!Wl(C,P):!0}function Zj(s,c,p){var g=!1,C=ai,P=c.contextType;return typeof P=="object"&&P!==null?P=xn(P):(C=Ur(c)?Hi:wr.current,g=c.contextTypes,P=(g=g!=null)?Ko(s,C):ai),c=new c(p,P),s.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=xd,s.stateNode=c,c._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=C,s.__reactInternalMemoizedMaskedChildContext=P),c}function Xj(s,c,p,g){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,g),c.state!==s&&xd.enqueueReplaceState(c,c.state,null)}function Lv(s,c,p,g){var C=s.stateNode;C.props=p,C.state=s.memoizedState,C.refs={},kv(s);var P=c.contextType;typeof P=="object"&&P!==null?C.context=xn(P):(P=Ur(c)?Hi:wr.current,C.context=Ko(s,P)),C.state=s.memoizedState,P=c.getDerivedStateFromProps,typeof P=="function"&&(Mv(s,c,P,p),C.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(c=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),c!==C.state&&xd.enqueueReplaceState(C,C.state,null),fd(s,p,C,g),C.state=s.memoizedState),typeof C.componentDidMount=="function"&&(s.flags|=4194308)}function Jo(s,c){try{var p="",g=c;do p+=pe(g),g=g.return;while(g);var C=p}catch(P){C=`
Error generating stack: `+P.message+`
`+P.stack}return{value:s,source:c,stack:C,digest:null}}function Bv(s,c,p){return{value:s,source:null,stack:p??null,digest:c??null}}function Fv(s,c){try{console.error(c.value)}catch(p){setTimeout(function(){throw p})}}var $M=typeof WeakMap=="function"?WeakMap:Map;function Yj(s,c,p){p=ja(-1,p),p.tag=3,p.payload={element:null};var g=c.value;return p.callback=function(){zd||(zd=!0,tm=g),Fv(s,c)},p}function Qj(s,c,p){p=ja(-1,p),p.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var C=c.value;p.payload=function(){return g(C)},p.callback=function(){Fv(s,c)}}var P=s.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(p.callback=function(){Fv(s,c),typeof g!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})}),p}function Jj(s,c,p){var g=s.pingCache;if(g===null){g=s.pingCache=new $M;var C=new Set;g.set(c,C)}else C=g.get(c),C===void 0&&(C=new Set,g.set(c,C));C.has(p)||(C.add(p),s=r4.bind(null,s,c,p),c.then(s,s))}function ek(s){do{var c;if((c=s.tag===13)&&(c=s.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return s;s=s.return}while(s!==null);return null}function tk(s,c,p,g,C){return(s.mode&1)===0?(s===c?s.flags|=65536:(s.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(c=ja(-1,1),c.tag=2,si(p,c,1))),p.lanes|=1),s):(s.flags|=65536,s.lanes=C,s)}var UM=N.ReactCurrentOwner,Hr=!1;function Tr(s,c,p,g){c.child=s===null?Sj(c,null,p,g):Zo(c,s.child,p,g)}function rk(s,c,p,g,C){p=p.render;var P=c.ref;return Yo(c,C),g=Ov(s,c,p,g,P,C),p=Ev(),s!==null&&!Hr?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~C,ka(s,c,C)):(Dt&&p&&hv(c),c.flags|=1,Tr(s,c,g,C),c.child)}function nk(s,c,p,g,C){if(s===null){var P=p.type;return typeof P=="function"&&!lm(P)&&P.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(c.tag=15,c.type=P,ak(s,c,P,g,C)):(s=Ed(p.type,null,g,c,c.mode,C),s.ref=c.ref,s.return=c,c.child=s)}if(P=s.child,(s.lanes&C)===0){var R=P.memoizedProps;if(p=p.compare,p=p!==null?p:Wl,p(R,g)&&s.ref===c.ref)return ka(s,c,C)}return c.flags|=1,s=pi(P,g),s.ref=c.ref,s.return=c,c.child=s}function ak(s,c,p,g,C){if(s!==null){var P=s.memoizedProps;if(Wl(P,g)&&s.ref===c.ref)if(Hr=!1,c.pendingProps=g=P,(s.lanes&C)!==0)(s.flags&131072)!==0&&(Hr=!0);else return c.lanes=s.lanes,ka(s,c,C)}return Wv(s,c,p,g,C)}function ik(s,c,p){var g=c.pendingProps,C=g.children,P=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(ts,nn),nn|=p;else{if((p&1073741824)===0)return s=P!==null?P.baseLanes|p:p,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:s,cachePool:null,transitions:null},c.updateQueue=null,jt(ts,nn),nn|=s,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=P!==null?P.baseLanes:p,jt(ts,nn),nn|=g}else P!==null?(g=P.baseLanes|p,c.memoizedState=null):g=p,jt(ts,nn),nn|=g;return Tr(s,c,C,p),c.child}function ok(s,c){var p=c.ref;(s===null&&p!==null||s!==null&&s.ref!==p)&&(c.flags|=512,c.flags|=2097152)}function Wv(s,c,p,g,C){var P=Ur(p)?Hi:wr.current;return P=Ko(c,P),Yo(c,C),p=Ov(s,c,p,g,P,C),g=Ev(),s!==null&&!Hr?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~C,ka(s,c,C)):(Dt&&g&&hv(c),c.flags|=1,Tr(s,c,p,C),c.child)}function sk(s,c,p,g,C){if(Ur(p)){var P=!0;nd(c)}else P=!1;if(Yo(c,C),c.stateNode===null)Sd(s,c),Zj(c,p,g),Lv(c,p,g,C),g=!0;else if(s===null){var R=c.stateNode,G=c.memoizedProps;R.props=G;var Z=R.context,oe=p.contextType;typeof oe=="object"&&oe!==null?oe=xn(oe):(oe=Ur(p)?Hi:wr.current,oe=Ko(c,oe));var ge=p.getDerivedStateFromProps,xe=typeof ge=="function"||typeof R.getSnapshotBeforeUpdate=="function";xe||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(G!==g||Z!==oe)&&Xj(c,R,g,oe),oi=!1;var me=c.memoizedState;R.state=me,fd(c,g,R,C),Z=c.memoizedState,G!==g||me!==Z||$r.current||oi?(typeof ge=="function"&&(Mv(c,p,ge,g),Z=c.memoizedState),(G=oi||qj(c,p,G,g,me,Z,oe))?(xe||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(c.flags|=4194308)):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=Z),R.props=g,R.state=Z,R.context=oe,g=G):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{R=c.stateNode,jj(s,c),G=c.memoizedProps,oe=c.type===c.elementType?G:Rn(c.type,G),R.props=oe,xe=c.pendingProps,me=R.context,Z=p.contextType,typeof Z=="object"&&Z!==null?Z=xn(Z):(Z=Ur(p)?Hi:wr.current,Z=Ko(c,Z));var Ce=p.getDerivedStateFromProps;(ge=typeof Ce=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(G!==xe||me!==Z)&&Xj(c,R,g,Z),oi=!1,me=c.memoizedState,R.state=me,fd(c,g,R,C);var Pe=c.memoizedState;G!==xe||me!==Pe||$r.current||oi?(typeof Ce=="function"&&(Mv(c,p,Ce,g),Pe=c.memoizedState),(oe=oi||qj(c,p,oe,g,me,Pe,Z)||!1)?(ge||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(g,Pe,Z),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(g,Pe,Z)),typeof R.componentDidUpdate=="function"&&(c.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof R.componentDidUpdate!="function"||G===s.memoizedProps&&me===s.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||G===s.memoizedProps&&me===s.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=Pe),R.props=g,R.state=Pe,R.context=Z,g=oe):(typeof R.componentDidUpdate!="function"||G===s.memoizedProps&&me===s.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||G===s.memoizedProps&&me===s.memoizedState||(c.flags|=1024),g=!1)}return $v(s,c,p,g,P,C)}function $v(s,c,p,g,C,P){ok(s,c);var R=(c.flags&128)!==0;if(!g&&!R)return C&&fj(c,p,!1),ka(s,c,P);g=c.stateNode,UM.current=c;var G=R&&typeof p.getDerivedStateFromError!="function"?null:g.render();return c.flags|=1,s!==null&&R?(c.child=Zo(c,s.child,null,P),c.child=Zo(c,null,G,P)):Tr(s,c,G,P),c.memoizedState=g.state,C&&fj(c,p,!0),c.child}function lk(s){var c=s.stateNode;c.pendingContext?uj(s,c.pendingContext,c.pendingContext!==c.context):c.context&&uj(s,c.context,!1),Cv(s,c.containerInfo)}function ck(s,c,p,g,C){return qo(),yv(C),c.flags|=256,Tr(s,c,p,g),c.child}var Uv={dehydrated:null,treeContext:null,retryLane:0};function Hv(s){return{baseLanes:s,cachePool:null,transitions:null}}function uk(s,c,p){var g=c.pendingProps,C=Lt.current,P=!1,R=(c.flags&128)!==0,G;if((G=R)||(G=s!==null&&s.memoizedState===null?!1:(C&2)!==0),G?(P=!0,c.flags&=-129):(s===null||s.memoizedState!==null)&&(C|=1),jt(Lt,C&1),s===null)return gv(c),s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((c.mode&1)===0?c.lanes=1:s.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(R=g.children,s=g.fallback,P?(g=c.mode,P=c.child,R={mode:"hidden",children:R},(g&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=R):P=Td(R,g,0,null),s=eo(s,g,p,null),P.return=c,s.return=c,P.sibling=s,c.child=P,c.child.memoizedState=Hv(p),c.memoizedState=Uv,s):Kv(c,R));if(C=s.memoizedState,C!==null&&(G=C.dehydrated,G!==null))return HM(s,c,R,g,G,C,p);if(P){P=g.fallback,R=c.mode,C=s.child,G=C.sibling;var Z={mode:"hidden",children:g.children};return(R&1)===0&&c.child!==C?(g=c.child,g.childLanes=0,g.pendingProps=Z,c.deletions=null):(g=pi(C,Z),g.subtreeFlags=C.subtreeFlags&14680064),G!==null?P=pi(G,P):(P=eo(P,R,p,null),P.flags|=2),P.return=c,g.return=c,g.sibling=P,c.child=g,g=P,P=c.child,R=s.child.memoizedState,R=R===null?Hv(p):{baseLanes:R.baseLanes|p,cachePool:null,transitions:R.transitions},P.memoizedState=R,P.childLanes=s.childLanes&~p,c.memoizedState=Uv,g}return P=s.child,s=P.sibling,g=pi(P,{mode:"visible",children:g.children}),(c.mode&1)===0&&(g.lanes=p),g.return=c,g.sibling=null,s!==null&&(p=c.deletions,p===null?(c.deletions=[s],c.flags|=16):p.push(s)),c.child=g,c.memoizedState=null,g}function Kv(s,c){return c=Td({mode:"visible",children:c},s.mode,0,null),c.return=s,s.child=c}function bd(s,c,p,g){return g!==null&&yv(g),Zo(c,s.child,null,p),s=Kv(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function HM(s,c,p,g,C,P,R){if(p)return c.flags&256?(c.flags&=-257,g=Bv(Error(r(422))),bd(s,c,R,g)):c.memoizedState!==null?(c.child=s.child,c.flags|=128,null):(P=g.fallback,C=c.mode,g=Td({mode:"visible",children:g.children},C,0,null),P=eo(P,C,R,null),P.flags|=2,g.return=c,P.return=c,g.sibling=P,c.child=g,(c.mode&1)!==0&&Zo(c,s.child,null,R),c.child.memoizedState=Hv(R),c.memoizedState=Uv,P);if((c.mode&1)===0)return bd(s,c,R,null);if(C.data==="$!"){if(g=C.nextSibling&&C.nextSibling.dataset,g)var G=g.dgst;return g=G,P=Error(r(419)),g=Bv(P,g,void 0),bd(s,c,R,g)}if(G=(R&s.childLanes)!==0,Hr||G){if(g=fr,g!==null){switch(R&-R){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(g.suspendedLanes|R))!==0?0:C,C!==0&&C!==P.retryLane&&(P.retryLane=C,wa(s,C),Ln(g,s,C,-1))}return sm(),g=Bv(Error(r(421))),bd(s,c,R,g)}return C.data==="$?"?(c.flags|=128,c.child=s.child,c=n4.bind(null,s),C._reactRetry=c,null):(s=P.treeContext,rn=ri(C.nextSibling),tn=c,Dt=!0,Dn=null,s!==null&&(gn[yn++]=ba,gn[yn++]=Sa,gn[yn++]=Ki,ba=s.id,Sa=s.overflow,Ki=c),c=Kv(c,g.children),c.flags|=4096,c)}function dk(s,c,p){s.lanes|=c;var g=s.alternate;g!==null&&(g.lanes|=c),wv(s.return,c,p)}function Gv(s,c,p,g,C){var P=s.memoizedState;P===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:p,tailMode:C}:(P.isBackwards=c,P.rendering=null,P.renderingStartTime=0,P.last=g,P.tail=p,P.tailMode=C)}function fk(s,c,p){var g=c.pendingProps,C=g.revealOrder,P=g.tail;if(Tr(s,c,g.children,p),g=Lt.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&dk(s,p,c);else if(s.tag===19)dk(s,p,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(jt(Lt,g),(c.mode&1)===0)c.memoizedState=null;else switch(C){case"forwards":for(p=c.child,C=null;p!==null;)s=p.alternate,s!==null&&pd(s)===null&&(C=p),p=p.sibling;p=C,p===null?(C=c.child,c.child=null):(C=p.sibling,p.sibling=null),Gv(c,!1,C,p,P);break;case"backwards":for(p=null,C=c.child,c.child=null;C!==null;){if(s=C.alternate,s!==null&&pd(s)===null){c.child=C;break}s=C.sibling,C.sibling=p,p=C,C=s}Gv(c,!0,p,null,P);break;case"together":Gv(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Sd(s,c){(c.mode&1)===0&&s!==null&&(s.alternate=null,c.alternate=null,c.flags|=2)}function ka(s,c,p){if(s!==null&&(c.dependencies=s.dependencies),Xi|=c.lanes,(p&c.childLanes)===0)return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,p=pi(s,s.pendingProps),c.child=p,p.return=c;s.sibling!==null;)s=s.sibling,p=p.sibling=pi(s,s.pendingProps),p.return=c;p.sibling=null}return c.child}function KM(s,c,p){switch(c.tag){case 3:lk(c),qo();break;case 5:zj(c);break;case 1:Ur(c.type)&&nd(c);break;case 4:Cv(c,c.stateNode.containerInfo);break;case 10:var g=c.type._context,C=c.memoizedProps.value;jt(cd,g._currentValue),g._currentValue=C;break;case 13:if(g=c.memoizedState,g!==null)return g.dehydrated!==null?(jt(Lt,Lt.current&1),c.flags|=128,null):(p&c.child.childLanes)!==0?uk(s,c,p):(jt(Lt,Lt.current&1),s=ka(s,c,p),s!==null?s.sibling:null);jt(Lt,Lt.current&1);break;case 19:if(g=(p&c.childLanes)!==0,(s.flags&128)!==0){if(g)return fk(s,c,p);c.flags|=128}if(C=c.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),jt(Lt,Lt.current),g)break;return null;case 22:case 23:return c.lanes=0,ik(s,c,p)}return ka(s,c,p)}var pk,Vv,hk,vk;pk=function(s,c){for(var p=c.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Vv=function(){},hk=function(s,c,p,g){var C=s.memoizedProps;if(C!==g){s=c.stateNode,qi(ea.current);var P=null;switch(p){case"input":C=Me(s,C),g=Me(s,g),P=[];break;case"select":C=Y({},C,{value:void 0}),g=Y({},g,{value:void 0}),P=[];break;case"textarea":C=nr(s,C),g=nr(s,g),P=[];break;default:typeof C.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=ed)}ga(p,g);var R;p=null;for(oe in C)if(!g.hasOwnProperty(oe)&&C.hasOwnProperty(oe)&&C[oe]!=null)if(oe==="style"){var G=C[oe];for(R in G)G.hasOwnProperty(R)&&(p||(p={}),p[R]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(i.hasOwnProperty(oe)?P||(P=[]):(P=P||[]).push(oe,null));for(oe in g){var Z=g[oe];if(G=C?.[oe],g.hasOwnProperty(oe)&&Z!==G&&(Z!=null||G!=null))if(oe==="style")if(G){for(R in G)!G.hasOwnProperty(R)||Z&&Z.hasOwnProperty(R)||(p||(p={}),p[R]="");for(R in Z)Z.hasOwnProperty(R)&&G[R]!==Z[R]&&(p||(p={}),p[R]=Z[R])}else p||(P||(P=[]),P.push(oe,p)),p=Z;else oe==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,G=G?G.__html:void 0,Z!=null&&G!==Z&&(P=P||[]).push(oe,Z)):oe==="children"?typeof Z!="string"&&typeof Z!="number"||(P=P||[]).push(oe,""+Z):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(i.hasOwnProperty(oe)?(Z!=null&&oe==="onScroll"&&Nt("scroll",s),P||G===Z||(P=[])):(P=P||[]).push(oe,Z))}p&&(P=P||[]).push("style",p);var oe=P;(c.updateQueue=oe)&&(c.flags|=4)}},vk=function(s,c,p,g){p!==g&&(c.flags|=4)};function rc(s,c){if(!Dt)switch(s.tailMode){case"hidden":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var g=null;p!==null;)p.alternate!==null&&(g=p),p=p.sibling;g===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function kr(s){var c=s.alternate!==null&&s.alternate.child===s.child,p=0,g=0;if(c)for(var C=s.child;C!==null;)p|=C.lanes|C.childLanes,g|=C.subtreeFlags&14680064,g|=C.flags&14680064,C.return=s,C=C.sibling;else for(C=s.child;C!==null;)p|=C.lanes|C.childLanes,g|=C.subtreeFlags,g|=C.flags,C.return=s,C=C.sibling;return s.subtreeFlags|=g,s.childLanes=p,c}function GM(s,c,p){var g=c.pendingProps;switch(vv(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(c),null;case 1:return Ur(c.type)&&rd(),kr(c),null;case 3:return g=c.stateNode,Qo(),Pt($r),Pt(wr),Nv(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(sd(c)?c.flags|=4:s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Dn!==null&&(am(Dn),Dn=null))),Vv(s,c),kr(c),null;case 5:zv(c);var C=qi(Yl.current);if(p=c.type,s!==null&&c.stateNode!=null)hk(s,c,p,g,C),s.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!g){if(c.stateNode===null)throw Error(r(166));return kr(c),null}if(s=qi(ea.current),sd(c)){g=c.stateNode,p=c.type;var P=c.memoizedProps;switch(g[Jn]=c,g[Gl]=P,s=(c.mode&1)!==0,p){case"dialog":Nt("cancel",g),Nt("close",g);break;case"iframe":case"object":case"embed":Nt("load",g);break;case"video":case"audio":for(C=0;C<Ul.length;C++)Nt(Ul[C],g);break;case"source":Nt("error",g);break;case"img":case"image":case"link":Nt("error",g),Nt("load",g);break;case"details":Nt("toggle",g);break;case"input":tt(g,P),Nt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!P.multiple},Nt("invalid",g);break;case"textarea":Ge(g,P),Nt("invalid",g)}ga(p,P),C=null;for(var R in P)if(P.hasOwnProperty(R)){var G=P[R];R==="children"?typeof G=="string"?g.textContent!==G&&(P.suppressHydrationWarning!==!0&&Ju(g.textContent,G,s),C=["children",G]):typeof G=="number"&&g.textContent!==""+G&&(P.suppressHydrationWarning!==!0&&Ju(g.textContent,G,s),C=["children",""+G]):i.hasOwnProperty(R)&&G!=null&&R==="onScroll"&&Nt("scroll",g)}switch(p){case"input":we(g),Ut(g,P,!0);break;case"textarea":we(g),ht(g);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(g.onclick=ed)}g=C,c.updateQueue=g,g!==null&&(c.flags|=4)}else{R=C.nodeType===9?C:C.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ut(p)),s==="http://www.w3.org/1999/xhtml"?p==="script"?(s=R.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=R.createElement(p,{is:g.is}):(s=R.createElement(p),p==="select"&&(R=s,g.multiple?R.multiple=!0:g.size&&(R.size=g.size))):s=R.createElementNS(s,p),s[Jn]=c,s[Gl]=g,pk(s,c,!1,!1),c.stateNode=s;e:{switch(R=ee(p,g),p){case"dialog":Nt("cancel",s),Nt("close",s),C=g;break;case"iframe":case"object":case"embed":Nt("load",s),C=g;break;case"video":case"audio":for(C=0;C<Ul.length;C++)Nt(Ul[C],s);C=g;break;case"source":Nt("error",s),C=g;break;case"img":case"image":case"link":Nt("error",s),Nt("load",s),C=g;break;case"details":Nt("toggle",s),C=g;break;case"input":tt(s,g),C=Me(s,g),Nt("invalid",s);break;case"option":C=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},C=Y({},g,{value:void 0}),Nt("invalid",s);break;case"textarea":Ge(s,g),C=nr(s,g),Nt("invalid",s);break;default:C=g}ga(p,C),G=C;for(P in G)if(G.hasOwnProperty(P)){var Z=G[P];P==="style"?Yr(s,Z):P==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&vn(s,Z)):P==="children"?typeof Z=="string"?(p!=="textarea"||Z!=="")&&Sr(s,Z):typeof Z=="number"&&Sr(s,""+Z):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(i.hasOwnProperty(P)?Z!=null&&P==="onScroll"&&Nt("scroll",s):Z!=null&&S(s,P,Z,R))}switch(p){case"input":we(s),Ut(s,g,!1);break;case"textarea":we(s),ht(s);break;case"option":g.value!=null&&s.setAttribute("value",""+ye(g.value));break;case"select":s.multiple=!!g.multiple,P=g.value,P!=null?Ht(s,!!g.multiple,P,!1):g.defaultValue!=null&&Ht(s,!!g.multiple,g.defaultValue,!0);break;default:typeof C.onClick=="function"&&(s.onclick=ed)}switch(p){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return kr(c),null;case 6:if(s&&c.stateNode!=null)vk(s,c,s.memoizedProps,g);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(p=qi(Yl.current),qi(ea.current),sd(c)){if(g=c.stateNode,p=c.memoizedProps,g[Jn]=c,(P=g.nodeValue!==p)&&(s=tn,s!==null))switch(s.tag){case 3:Ju(g.nodeValue,p,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ju(g.nodeValue,p,(s.mode&1)!==0)}P&&(c.flags|=4)}else g=(p.nodeType===9?p:p.ownerDocument).createTextNode(g),g[Jn]=c,c.stateNode=g}return kr(c),null;case 13:if(Pt(Lt),g=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Dt&&rn!==null&&(c.mode&1)!==0&&(c.flags&128)===0)yj(),qo(),c.flags|=98560,P=!1;else if(P=sd(c),g!==null&&g.dehydrated!==null){if(s===null){if(!P)throw Error(r(318));if(P=c.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(r(317));P[Jn]=c}else qo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;kr(c),P=!1}else Dn!==null&&(am(Dn),Dn=null),P=!0;if(!P)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=p,c):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(c.child.flags|=8192,(c.mode&1)!==0&&(s===null||(Lt.current&1)!==0?ir===0&&(ir=3):sm())),c.updateQueue!==null&&(c.flags|=4),kr(c),null);case 4:return Qo(),Vv(s,c),s===null&&Hl(c.stateNode.containerInfo),kr(c),null;case 10:return Sv(c.type._context),kr(c),null;case 17:return Ur(c.type)&&rd(),kr(c),null;case 19:if(Pt(Lt),P=c.memoizedState,P===null)return kr(c),null;if(g=(c.flags&128)!==0,R=P.rendering,R===null)if(g)rc(P,!1);else{if(ir!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(R=pd(s),R!==null){for(c.flags|=128,rc(P,!1),g=R.updateQueue,g!==null&&(c.updateQueue=g,c.flags|=4),c.subtreeFlags=0,g=p,p=c.child;p!==null;)P=p,s=g,P.flags&=14680066,R=P.alternate,R===null?(P.childLanes=0,P.lanes=s,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=R.childLanes,P.lanes=R.lanes,P.child=R.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=R.memoizedProps,P.memoizedState=R.memoizedState,P.updateQueue=R.updateQueue,P.type=R.type,s=R.dependencies,P.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),p=p.sibling;return jt(Lt,Lt.current&1|2),c.child}s=s.sibling}P.tail!==null&&qt()>rs&&(c.flags|=128,g=!0,rc(P,!1),c.lanes=4194304)}else{if(!g)if(s=pd(R),s!==null){if(c.flags|=128,g=!0,p=s.updateQueue,p!==null&&(c.updateQueue=p,c.flags|=4),rc(P,!0),P.tail===null&&P.tailMode==="hidden"&&!R.alternate&&!Dt)return kr(c),null}else 2*qt()-P.renderingStartTime>rs&&p!==1073741824&&(c.flags|=128,g=!0,rc(P,!1),c.lanes=4194304);P.isBackwards?(R.sibling=c.child,c.child=R):(p=P.last,p!==null?p.sibling=R:c.child=R,P.last=R)}return P.tail!==null?(c=P.tail,P.rendering=c,P.tail=c.sibling,P.renderingStartTime=qt(),c.sibling=null,p=Lt.current,jt(Lt,g?p&1|2:p&1),c):(kr(c),null);case 22:case 23:return om(),g=c.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(c.flags|=8192),g&&(c.mode&1)!==0?(nn&1073741824)!==0&&(kr(c),c.subtreeFlags&6&&(c.flags|=8192)):kr(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function VM(s,c){switch(vv(c),c.tag){case 1:return Ur(c.type)&&rd(),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return Qo(),Pt($r),Pt(wr),Nv(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 5:return zv(c),null;case 13:if(Pt(Lt),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));qo()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return Pt(Lt),null;case 4:return Qo(),null;case 10:return Sv(c.type._context),null;case 22:case 23:return om(),null;case 24:return null;default:return null}}var wd=!1,Cr=!1,qM=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function es(s,c){var p=s.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(g){Gt(s,c,g)}else p.current=null}function qv(s,c,p){try{p()}catch(g){Gt(s,c,g)}}var mk=!1;function ZM(s,c){if(ov=$u,s=qw(),Qh(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var g=p.getSelection&&p.getSelection();if(g&&g.rangeCount!==0){p=g.anchorNode;var C=g.anchorOffset,P=g.focusNode;g=g.focusOffset;try{p.nodeType,P.nodeType}catch{p=null;break e}var R=0,G=-1,Z=-1,oe=0,ge=0,xe=s,me=null;t:for(;;){for(var Ce;xe!==p||C!==0&&xe.nodeType!==3||(G=R+C),xe!==P||g!==0&&xe.nodeType!==3||(Z=R+g),xe.nodeType===3&&(R+=xe.nodeValue.length),(Ce=xe.firstChild)!==null;)me=xe,xe=Ce;for(;;){if(xe===s)break t;if(me===p&&++oe===C&&(G=R),me===P&&++ge===g&&(Z=R),(Ce=xe.nextSibling)!==null)break;xe=me,me=xe.parentNode}xe=Ce}p=G===-1||Z===-1?null:{start:G,end:Z}}else p=null}p=p||{start:0,end:0}}else p=null;for(sv={focusedElem:s,selectionRange:p},$u=!1,Ae=c;Ae!==null;)if(c=Ae,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,Ae=s;else for(;Ae!==null;){c=Ae;try{var Pe=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Ee=Pe.memoizedProps,Zt=Pe.memoizedState,te=c.stateNode,Q=te.getSnapshotBeforeUpdate(c.elementType===c.type?Ee:Rn(c.type,Ee),Zt);te.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var ae=c.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Se){Gt(c,c.return,Se)}if(s=c.sibling,s!==null){s.return=c.return,Ae=s;break}Ae=c.return}return Pe=mk,mk=!1,Pe}function nc(s,c,p){var g=c.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var C=g=g.next;do{if((C.tag&s)===s){var P=C.destroy;C.destroy=void 0,P!==void 0&&qv(c,p,P)}C=C.next}while(C!==g)}}function jd(s,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&s)===s){var g=p.create;p.destroy=g()}p=p.next}while(p!==c)}}function Zv(s){var c=s.ref;if(c!==null){var p=s.stateNode;switch(s.tag){case 5:s=p;break;default:s=p}typeof c=="function"?c(s):c.current=s}}function gk(s){var c=s.alternate;c!==null&&(s.alternate=null,gk(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&(delete c[Jn],delete c[Gl],delete c[dv],delete c[OM],delete c[EM])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function yk(s){return s.tag===5||s.tag===3||s.tag===4}function xk(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||yk(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Xv(s,c,p){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?p.nodeType===8?p.parentNode.insertBefore(s,c):p.insertBefore(s,c):(p.nodeType===8?(c=p.parentNode,c.insertBefore(s,p)):(c=p,c.appendChild(s)),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=ed));else if(g!==4&&(s=s.child,s!==null))for(Xv(s,c,p),s=s.sibling;s!==null;)Xv(s,c,p),s=s.sibling}function Yv(s,c,p){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?p.insertBefore(s,c):p.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(Yv(s,c,p),s=s.sibling;s!==null;)Yv(s,c,p),s=s.sibling}var yr=null,In=!1;function li(s,c,p){for(p=p.child;p!==null;)bk(s,c,p),p=p.sibling}function bk(s,c,p){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(Iu,p)}catch{}switch(p.tag){case 5:Cr||es(p,c);case 6:var g=yr,C=In;yr=null,li(s,c,p),yr=g,In=C,yr!==null&&(In?(s=yr,p=p.stateNode,s.nodeType===8?s.parentNode.removeChild(p):s.removeChild(p)):yr.removeChild(p.stateNode));break;case 18:yr!==null&&(In?(s=yr,p=p.stateNode,s.nodeType===8?uv(s.parentNode,p):s.nodeType===1&&uv(s,p),Rl(s)):uv(yr,p.stateNode));break;case 4:g=yr,C=In,yr=p.stateNode.containerInfo,In=!0,li(s,c,p),yr=g,In=C;break;case 0:case 11:case 14:case 15:if(!Cr&&(g=p.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){C=g=g.next;do{var P=C,R=P.destroy;P=P.tag,R!==void 0&&((P&2)!==0||(P&4)!==0)&&qv(p,c,R),C=C.next}while(C!==g)}li(s,c,p);break;case 1:if(!Cr&&(es(p,c),g=p.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=p.memoizedProps,g.state=p.memoizedState,g.componentWillUnmount()}catch(G){Gt(p,c,G)}li(s,c,p);break;case 21:li(s,c,p);break;case 22:p.mode&1?(Cr=(g=Cr)||p.memoizedState!==null,li(s,c,p),Cr=g):li(s,c,p);break;default:li(s,c,p)}}function Sk(s){var c=s.updateQueue;if(c!==null){s.updateQueue=null;var p=s.stateNode;p===null&&(p=s.stateNode=new qM),c.forEach(function(g){var C=a4.bind(null,s,g);p.has(g)||(p.add(g),g.then(C,C))})}}function Mn(s,c){var p=c.deletions;if(p!==null)for(var g=0;g<p.length;g++){var C=p[g];try{var P=s,R=c,G=R;e:for(;G!==null;){switch(G.tag){case 5:yr=G.stateNode,In=!1;break e;case 3:yr=G.stateNode.containerInfo,In=!0;break e;case 4:yr=G.stateNode.containerInfo,In=!0;break e}G=G.return}if(yr===null)throw Error(r(160));bk(P,R,C),yr=null,In=!1;var Z=C.alternate;Z!==null&&(Z.return=null),C.return=null}catch(oe){Gt(C,c,oe)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)wk(c,s),c=c.sibling}function wk(s,c){var p=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Mn(c,s),ra(s),g&4){try{nc(3,s,s.return),jd(3,s)}catch(Ee){Gt(s,s.return,Ee)}try{nc(5,s,s.return)}catch(Ee){Gt(s,s.return,Ee)}}break;case 1:Mn(c,s),ra(s),g&512&&p!==null&&es(p,p.return);break;case 5:if(Mn(c,s),ra(s),g&512&&p!==null&&es(p,p.return),s.flags&32){var C=s.stateNode;try{Sr(C,"")}catch(Ee){Gt(s,s.return,Ee)}}if(g&4&&(C=s.stateNode,C!=null)){var P=s.memoizedProps,R=p!==null?p.memoizedProps:P,G=s.type,Z=s.updateQueue;if(s.updateQueue=null,Z!==null)try{G==="input"&&P.type==="radio"&&P.name!=null&&rt(C,P),ee(G,R);var oe=ee(G,P);for(R=0;R<Z.length;R+=2){var ge=Z[R],xe=Z[R+1];ge==="style"?Yr(C,xe):ge==="dangerouslySetInnerHTML"?vn(C,xe):ge==="children"?Sr(C,xe):S(C,ge,xe,oe)}switch(G){case"input":Ye(C,P);break;case"textarea":qe(C,P);break;case"select":var me=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!P.multiple;var Ce=P.value;Ce!=null?Ht(C,!!P.multiple,Ce,!1):me!==!!P.multiple&&(P.defaultValue!=null?Ht(C,!!P.multiple,P.defaultValue,!0):Ht(C,!!P.multiple,P.multiple?[]:"",!1))}C[Gl]=P}catch(Ee){Gt(s,s.return,Ee)}}break;case 6:if(Mn(c,s),ra(s),g&4){if(s.stateNode===null)throw Error(r(162));C=s.stateNode,P=s.memoizedProps;try{C.nodeValue=P}catch(Ee){Gt(s,s.return,Ee)}}break;case 3:if(Mn(c,s),ra(s),g&4&&p!==null&&p.memoizedState.isDehydrated)try{Rl(c.containerInfo)}catch(Ee){Gt(s,s.return,Ee)}break;case 4:Mn(c,s),ra(s);break;case 13:Mn(c,s),ra(s),C=s.child,C.flags&8192&&(P=C.memoizedState!==null,C.stateNode.isHidden=P,!P||C.alternate!==null&&C.alternate.memoizedState!==null||(em=qt())),g&4&&Sk(s);break;case 22:if(ge=p!==null&&p.memoizedState!==null,s.mode&1?(Cr=(oe=Cr)||ge,Mn(c,s),Cr=oe):Mn(c,s),ra(s),g&8192){if(oe=s.memoizedState!==null,(s.stateNode.isHidden=oe)&&!ge&&(s.mode&1)!==0)for(Ae=s,ge=s.child;ge!==null;){for(xe=Ae=ge;Ae!==null;){switch(me=Ae,Ce=me.child,me.tag){case 0:case 11:case 14:case 15:nc(4,me,me.return);break;case 1:es(me,me.return);var Pe=me.stateNode;if(typeof Pe.componentWillUnmount=="function"){g=me,p=me.return;try{c=g,Pe.props=c.memoizedProps,Pe.state=c.memoizedState,Pe.componentWillUnmount()}catch(Ee){Gt(g,p,Ee)}}break;case 5:es(me,me.return);break;case 22:if(me.memoizedState!==null){Ck(xe);continue}}Ce!==null?(Ce.return=me,Ae=Ce):Ck(xe)}ge=ge.sibling}e:for(ge=null,xe=s;;){if(xe.tag===5){if(ge===null){ge=xe;try{C=xe.stateNode,oe?(P=C.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(G=xe.stateNode,Z=xe.memoizedProps.style,R=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,G.style.display=Or("display",R))}catch(Ee){Gt(s,s.return,Ee)}}}else if(xe.tag===6){if(ge===null)try{xe.stateNode.nodeValue=oe?"":xe.memoizedProps}catch(Ee){Gt(s,s.return,Ee)}}else if((xe.tag!==22&&xe.tag!==23||xe.memoizedState===null||xe===s)&&xe.child!==null){xe.child.return=xe,xe=xe.child;continue}if(xe===s)break e;for(;xe.sibling===null;){if(xe.return===null||xe.return===s)break e;ge===xe&&(ge=null),xe=xe.return}ge===xe&&(ge=null),xe.sibling.return=xe.return,xe=xe.sibling}}break;case 19:Mn(c,s),ra(s),g&4&&Sk(s);break;case 21:break;default:Mn(c,s),ra(s)}}function ra(s){var c=s.flags;if(c&2){try{e:{for(var p=s.return;p!==null;){if(yk(p)){var g=p;break e}p=p.return}throw Error(r(160))}switch(g.tag){case 5:var C=g.stateNode;g.flags&32&&(Sr(C,""),g.flags&=-33);var P=xk(s);Yv(s,P,C);break;case 3:case 4:var R=g.stateNode.containerInfo,G=xk(s);Xv(s,G,R);break;default:throw Error(r(161))}}catch(Z){Gt(s,s.return,Z)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function XM(s,c,p){Ae=s,jk(s)}function jk(s,c,p){for(var g=(s.mode&1)!==0;Ae!==null;){var C=Ae,P=C.child;if(C.tag===22&&g){var R=C.memoizedState!==null||wd;if(!R){var G=C.alternate,Z=G!==null&&G.memoizedState!==null||Cr;G=wd;var oe=Cr;if(wd=R,(Cr=Z)&&!oe)for(Ae=C;Ae!==null;)R=Ae,Z=R.child,R.tag===22&&R.memoizedState!==null?zk(C):Z!==null?(Z.return=R,Ae=Z):zk(C);for(;P!==null;)Ae=P,jk(P),P=P.sibling;Ae=C,wd=G,Cr=oe}kk(s)}else(C.subtreeFlags&8772)!==0&&P!==null?(P.return=C,Ae=P):kk(s)}}function kk(s){for(;Ae!==null;){var c=Ae;if((c.flags&8772)!==0){var p=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Cr||jd(5,c);break;case 1:var g=c.stateNode;if(c.flags&4&&!Cr)if(p===null)g.componentDidMount();else{var C=c.elementType===c.type?p.memoizedProps:Rn(c.type,p.memoizedProps);g.componentDidUpdate(C,p.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var P=c.updateQueue;P!==null&&Cj(c,P,g);break;case 3:var R=c.updateQueue;if(R!==null){if(p=null,c.child!==null)switch(c.child.tag){case 5:p=c.child.stateNode;break;case 1:p=c.child.stateNode}Cj(c,R,p)}break;case 5:var G=c.stateNode;if(p===null&&c.flags&4){p=G;var Z=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&p.focus();break;case"img":Z.src&&(p.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var oe=c.alternate;if(oe!==null){var ge=oe.memoizedState;if(ge!==null){var xe=ge.dehydrated;xe!==null&&Rl(xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Cr||c.flags&512&&Zv(c)}catch(me){Gt(c,c.return,me)}}if(c===s){Ae=null;break}if(p=c.sibling,p!==null){p.return=c.return,Ae=p;break}Ae=c.return}}function Ck(s){for(;Ae!==null;){var c=Ae;if(c===s){Ae=null;break}var p=c.sibling;if(p!==null){p.return=c.return,Ae=p;break}Ae=c.return}}function zk(s){for(;Ae!==null;){var c=Ae;try{switch(c.tag){case 0:case 11:case 15:var p=c.return;try{jd(4,c)}catch(Z){Gt(c,p,Z)}break;case 1:var g=c.stateNode;if(typeof g.componentDidMount=="function"){var C=c.return;try{g.componentDidMount()}catch(Z){Gt(c,C,Z)}}var P=c.return;try{Zv(c)}catch(Z){Gt(c,P,Z)}break;case 5:var R=c.return;try{Zv(c)}catch(Z){Gt(c,R,Z)}}}catch(Z){Gt(c,c.return,Z)}if(c===s){Ae=null;break}var G=c.sibling;if(G!==null){G.return=c.return,Ae=G;break}Ae=c.return}}var YM=Math.ceil,kd=N.ReactCurrentDispatcher,Qv=N.ReactCurrentOwner,Sn=N.ReactCurrentBatchConfig,at=0,fr=null,Jt=null,xr=0,nn=0,ts=ni(0),ir=0,ac=null,Xi=0,Cd=0,Jv=0,ic=null,Kr=null,em=0,rs=1/0,Ca=null,zd=!1,tm=null,ci=null,Ad=!1,ui=null,Nd=0,oc=0,rm=null,Pd=-1,_d=0;function Dr(){return(at&6)!==0?qt():Pd!==-1?Pd:Pd=qt()}function di(s){return(s.mode&1)===0?1:(at&2)!==0&&xr!==0?xr&-xr:DM.transition!==null?(_d===0&&(_d=xw()),_d):(s=mt,s!==0||(s=window.event,s=s===void 0?16:Nw(s.type)),s)}function Ln(s,c,p,g){if(50<oc)throw oc=0,rm=null,Error(r(185));_l(s,p,g),((at&2)===0||s!==fr)&&(s===fr&&((at&2)===0&&(Cd|=p),ir===4&&fi(s,xr)),Gr(s,g),p===1&&at===0&&(c.mode&1)===0&&(rs=qt()+500,ad&&ii()))}function Gr(s,c){var p=s.callbackNode;D5(s,c);var g=Bu(s,s===fr?xr:0);if(g===0)p!==null&&mw(p),s.callbackNode=null,s.callbackPriority=0;else if(c=g&-g,s.callbackPriority!==c){if(p!=null&&mw(p),c===1)s.tag===0?TM(Nk.bind(null,s)):pj(Nk.bind(null,s)),PM(function(){(at&6)===0&&ii()}),p=null;else{switch(bw(g)){case 1:p=Rh;break;case 4:p=gw;break;case 16:p=Ru;break;case 536870912:p=yw;break;default:p=Ru}p=Ik(p,Ak.bind(null,s))}s.callbackPriority=c,s.callbackNode=p}}function Ak(s,c){if(Pd=-1,_d=0,(at&6)!==0)throw Error(r(327));var p=s.callbackNode;if(ns()&&s.callbackNode!==p)return null;var g=Bu(s,s===fr?xr:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||c)c=Od(s,g);else{c=g;var C=at;at|=2;var P=_k();(fr!==s||xr!==c)&&(Ca=null,rs=qt()+500,Qi(s,c));do try{e4();break}catch(G){Pk(s,G)}while(!0);bv(),kd.current=P,at=C,Jt!==null?c=0:(fr=null,xr=0,c=ir)}if(c!==0){if(c===2&&(C=Ih(s),C!==0&&(g=C,c=nm(s,C))),c===1)throw p=ac,Qi(s,0),fi(s,g),Gr(s,qt()),p;if(c===6)fi(s,g);else{if(C=s.current.alternate,(g&30)===0&&!QM(C)&&(c=Od(s,g),c===2&&(P=Ih(s),P!==0&&(g=P,c=nm(s,P))),c===1))throw p=ac,Qi(s,0),fi(s,g),Gr(s,qt()),p;switch(s.finishedWork=C,s.finishedLanes=g,c){case 0:case 1:throw Error(r(345));case 2:Ji(s,Kr,Ca);break;case 3:if(fi(s,g),(g&130023424)===g&&(c=em+500-qt(),10<c)){if(Bu(s,0)!==0)break;if(C=s.suspendedLanes,(C&g)!==g){Dr(),s.pingedLanes|=s.suspendedLanes&C;break}s.timeoutHandle=cv(Ji.bind(null,s,Kr,Ca),c);break}Ji(s,Kr,Ca);break;case 4:if(fi(s,g),(g&4194240)===g)break;for(c=s.eventTimes,C=-1;0<g;){var R=31-En(g);P=1<<R,R=c[R],R>C&&(C=R),g&=~P}if(g=C,g=qt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*YM(g/1960))-g,10<g){s.timeoutHandle=cv(Ji.bind(null,s,Kr,Ca),g);break}Ji(s,Kr,Ca);break;case 5:Ji(s,Kr,Ca);break;default:throw Error(r(329))}}}return Gr(s,qt()),s.callbackNode===p?Ak.bind(null,s):null}function nm(s,c){var p=ic;return s.current.memoizedState.isDehydrated&&(Qi(s,c).flags|=256),s=Od(s,c),s!==2&&(c=Kr,Kr=p,c!==null&&am(c)),s}function am(s){Kr===null?Kr=s:Kr.push.apply(Kr,s)}function QM(s){for(var c=s;;){if(c.flags&16384){var p=c.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var g=0;g<p.length;g++){var C=p[g],P=C.getSnapshot;C=C.value;try{if(!Tn(P(),C))return!1}catch{return!1}}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function fi(s,c){for(c&=~Jv,c&=~Cd,s.suspendedLanes|=c,s.pingedLanes&=~c,s=s.expirationTimes;0<c;){var p=31-En(c),g=1<<p;s[p]=-1,c&=~g}}function Nk(s){if((at&6)!==0)throw Error(r(327));ns();var c=Bu(s,0);if((c&1)===0)return Gr(s,qt()),null;var p=Od(s,c);if(s.tag!==0&&p===2){var g=Ih(s);g!==0&&(c=g,p=nm(s,g))}if(p===1)throw p=ac,Qi(s,0),fi(s,c),Gr(s,qt()),p;if(p===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=c,Ji(s,Kr,Ca),Gr(s,qt()),null}function im(s,c){var p=at;at|=1;try{return s(c)}finally{at=p,at===0&&(rs=qt()+500,ad&&ii())}}function Yi(s){ui!==null&&ui.tag===0&&(at&6)===0&&ns();var c=at;at|=1;var p=Sn.transition,g=mt;try{if(Sn.transition=null,mt=1,s)return s()}finally{mt=g,Sn.transition=p,at=c,(at&6)===0&&ii()}}function om(){nn=ts.current,Pt(ts)}function Qi(s,c){s.finishedWork=null,s.finishedLanes=0;var p=s.timeoutHandle;if(p!==-1&&(s.timeoutHandle=-1,NM(p)),Jt!==null)for(p=Jt.return;p!==null;){var g=p;switch(vv(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&rd();break;case 3:Qo(),Pt($r),Pt(wr),Nv();break;case 5:zv(g);break;case 4:Qo();break;case 13:Pt(Lt);break;case 19:Pt(Lt);break;case 10:Sv(g.type._context);break;case 22:case 23:om()}p=p.return}if(fr=s,Jt=s=pi(s.current,null),xr=nn=c,ir=0,ac=null,Jv=Cd=Xi=0,Kr=ic=null,Vi!==null){for(c=0;c<Vi.length;c++)if(p=Vi[c],g=p.interleaved,g!==null){p.interleaved=null;var C=g.next,P=p.pending;if(P!==null){var R=P.next;P.next=C,g.next=R}p.pending=g}Vi=null}return s}function Pk(s,c){do{var p=Jt;try{if(bv(),hd.current=yd,vd){for(var g=Bt.memoizedState;g!==null;){var C=g.queue;C!==null&&(C.pending=null),g=g.next}vd=!1}if(Zi=0,dr=ar=Bt=null,Ql=!1,Jl=0,Qv.current=null,p===null||p.return===null){ir=1,ac=c,Jt=null;break}e:{var P=s,R=p.return,G=p,Z=c;if(c=xr,G.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var oe=Z,ge=G,xe=ge.tag;if((ge.mode&1)===0&&(xe===0||xe===11||xe===15)){var me=ge.alternate;me?(ge.updateQueue=me.updateQueue,ge.memoizedState=me.memoizedState,ge.lanes=me.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var Ce=ek(R);if(Ce!==null){Ce.flags&=-257,tk(Ce,R,G,P,c),Ce.mode&1&&Jj(P,oe,c),c=Ce,Z=oe;var Pe=c.updateQueue;if(Pe===null){var Ee=new Set;Ee.add(Z),c.updateQueue=Ee}else Pe.add(Z);break e}else{if((c&1)===0){Jj(P,oe,c),sm();break e}Z=Error(r(426))}}else if(Dt&&G.mode&1){var Zt=ek(R);if(Zt!==null){(Zt.flags&65536)===0&&(Zt.flags|=256),tk(Zt,R,G,P,c),yv(Jo(Z,G));break e}}P=Z=Jo(Z,G),ir!==4&&(ir=2),ic===null?ic=[P]:ic.push(P),P=R;do{switch(P.tag){case 3:P.flags|=65536,c&=-c,P.lanes|=c;var te=Yj(P,Z,c);kj(P,te);break e;case 1:G=Z;var Q=P.type,ae=P.stateNode;if((P.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(ci===null||!ci.has(ae)))){P.flags|=65536,c&=-c,P.lanes|=c;var Se=Qj(P,G,c);kj(P,Se);break e}}P=P.return}while(P!==null)}Ek(p)}catch(De){c=De,Jt===p&&p!==null&&(Jt=p=p.return);continue}break}while(!0)}function _k(){var s=kd.current;return kd.current=yd,s===null?yd:s}function sm(){(ir===0||ir===3||ir===2)&&(ir=4),fr===null||(Xi&268435455)===0&&(Cd&268435455)===0||fi(fr,xr)}function Od(s,c){var p=at;at|=2;var g=_k();(fr!==s||xr!==c)&&(Ca=null,Qi(s,c));do try{JM();break}catch(C){Pk(s,C)}while(!0);if(bv(),at=p,kd.current=g,Jt!==null)throw Error(r(261));return fr=null,xr=0,ir}function JM(){for(;Jt!==null;)Ok(Jt)}function e4(){for(;Jt!==null&&!C5();)Ok(Jt)}function Ok(s){var c=Rk(s.alternate,s,nn);s.memoizedProps=s.pendingProps,c===null?Ek(s):Jt=c,Qv.current=null}function Ek(s){var c=s;do{var p=c.alternate;if(s=c.return,(c.flags&32768)===0){if(p=GM(p,c,nn),p!==null){Jt=p;return}}else{if(p=VM(p,c),p!==null){p.flags&=32767,Jt=p;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{ir=6,Jt=null;return}}if(c=c.sibling,c!==null){Jt=c;return}Jt=c=s}while(c!==null);ir===0&&(ir=5)}function Ji(s,c,p){var g=mt,C=Sn.transition;try{Sn.transition=null,mt=1,t4(s,c,p,g)}finally{Sn.transition=C,mt=g}return null}function t4(s,c,p,g){do ns();while(ui!==null);if((at&6)!==0)throw Error(r(327));p=s.finishedWork;var C=s.finishedLanes;if(p===null)return null;if(s.finishedWork=null,s.finishedLanes=0,p===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var P=p.lanes|p.childLanes;if(R5(s,P),s===fr&&(Jt=fr=null,xr=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Ad||(Ad=!0,Ik(Ru,function(){return ns(),null})),P=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||P){P=Sn.transition,Sn.transition=null;var R=mt;mt=1;var G=at;at|=4,Qv.current=null,ZM(s,p),wk(p,s),SM(sv),$u=!!ov,sv=ov=null,s.current=p,XM(p),z5(),at=G,mt=R,Sn.transition=P}else s.current=p;if(Ad&&(Ad=!1,ui=s,Nd=C),P=s.pendingLanes,P===0&&(ci=null),P5(p.stateNode),Gr(s,qt()),c!==null)for(g=s.onRecoverableError,p=0;p<c.length;p++)C=c[p],g(C.value,{componentStack:C.stack,digest:C.digest});if(zd)throw zd=!1,s=tm,tm=null,s;return(Nd&1)!==0&&s.tag!==0&&ns(),P=s.pendingLanes,(P&1)!==0?s===rm?oc++:(oc=0,rm=s):oc=0,ii(),null}function ns(){if(ui!==null){var s=bw(Nd),c=Sn.transition,p=mt;try{if(Sn.transition=null,mt=16>s?16:s,ui===null)var g=!1;else{if(s=ui,ui=null,Nd=0,(at&6)!==0)throw Error(r(331));var C=at;for(at|=4,Ae=s.current;Ae!==null;){var P=Ae,R=P.child;if((Ae.flags&16)!==0){var G=P.deletions;if(G!==null){for(var Z=0;Z<G.length;Z++){var oe=G[Z];for(Ae=oe;Ae!==null;){var ge=Ae;switch(ge.tag){case 0:case 11:case 15:nc(8,ge,P)}var xe=ge.child;if(xe!==null)xe.return=ge,Ae=xe;else for(;Ae!==null;){ge=Ae;var me=ge.sibling,Ce=ge.return;if(gk(ge),ge===oe){Ae=null;break}if(me!==null){me.return=Ce,Ae=me;break}Ae=Ce}}}var Pe=P.alternate;if(Pe!==null){var Ee=Pe.child;if(Ee!==null){Pe.child=null;do{var Zt=Ee.sibling;Ee.sibling=null,Ee=Zt}while(Ee!==null)}}Ae=P}}if((P.subtreeFlags&2064)!==0&&R!==null)R.return=P,Ae=R;else e:for(;Ae!==null;){if(P=Ae,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:nc(9,P,P.return)}var te=P.sibling;if(te!==null){te.return=P.return,Ae=te;break e}Ae=P.return}}var Q=s.current;for(Ae=Q;Ae!==null;){R=Ae;var ae=R.child;if((R.subtreeFlags&2064)!==0&&ae!==null)ae.return=R,Ae=ae;else e:for(R=Q;Ae!==null;){if(G=Ae,(G.flags&2048)!==0)try{switch(G.tag){case 0:case 11:case 15:jd(9,G)}}catch(De){Gt(G,G.return,De)}if(G===R){Ae=null;break e}var Se=G.sibling;if(Se!==null){Se.return=G.return,Ae=Se;break e}Ae=G.return}}if(at=C,ii(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(Iu,s)}catch{}g=!0}return g}finally{mt=p,Sn.transition=c}}return!1}function Tk(s,c,p){c=Jo(p,c),c=Yj(s,c,1),s=si(s,c,1),c=Dr(),s!==null&&(_l(s,1,c),Gr(s,c))}function Gt(s,c,p){if(s.tag===3)Tk(s,s,p);else for(;c!==null;){if(c.tag===3){Tk(c,s,p);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ci===null||!ci.has(g))){s=Jo(p,s),s=Qj(c,s,1),c=si(c,s,1),s=Dr(),c!==null&&(_l(c,1,s),Gr(c,s));break}}c=c.return}}function r4(s,c,p){var g=s.pingCache;g!==null&&g.delete(c),c=Dr(),s.pingedLanes|=s.suspendedLanes&p,fr===s&&(xr&p)===p&&(ir===4||ir===3&&(xr&130023424)===xr&&500>qt()-em?Qi(s,0):Jv|=p),Gr(s,c)}function Dk(s,c){c===0&&((s.mode&1)===0?c=1:(c=Lu,Lu<<=1,(Lu&130023424)===0&&(Lu=4194304)));var p=Dr();s=wa(s,c),s!==null&&(_l(s,c,p),Gr(s,p))}function n4(s){var c=s.memoizedState,p=0;c!==null&&(p=c.retryLane),Dk(s,p)}function a4(s,c){var p=0;switch(s.tag){case 13:var g=s.stateNode,C=s.memoizedState;C!==null&&(p=C.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(c),Dk(s,p)}var Rk;Rk=function(s,c,p){if(s!==null)if(s.memoizedProps!==c.pendingProps||$r.current)Hr=!0;else{if((s.lanes&p)===0&&(c.flags&128)===0)return Hr=!1,KM(s,c,p);Hr=(s.flags&131072)!==0}else Hr=!1,Dt&&(c.flags&1048576)!==0&&hj(c,od,c.index);switch(c.lanes=0,c.tag){case 2:var g=c.type;Sd(s,c),s=c.pendingProps;var C=Ko(c,wr.current);Yo(c,p),C=Ov(null,c,g,s,C,p);var P=Ev();return c.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Ur(g)?(P=!0,nd(c)):P=!1,c.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,kv(c),C.updater=xd,c.stateNode=C,C._reactInternals=c,Lv(c,g,s,p),c=$v(null,c,g,!0,P,p)):(c.tag=0,Dt&&P&&hv(c),Tr(null,c,C,p),c=c.child),c;case 16:g=c.elementType;e:{switch(Sd(s,c),s=c.pendingProps,C=g._init,g=C(g._payload),c.type=g,C=c.tag=o4(g),s=Rn(g,s),C){case 0:c=Wv(null,c,g,s,p);break e;case 1:c=sk(null,c,g,s,p);break e;case 11:c=rk(null,c,g,s,p);break e;case 14:c=nk(null,c,g,Rn(g.type,s),p);break e}throw Error(r(306,g,""))}return c;case 0:return g=c.type,C=c.pendingProps,C=c.elementType===g?C:Rn(g,C),Wv(s,c,g,C,p);case 1:return g=c.type,C=c.pendingProps,C=c.elementType===g?C:Rn(g,C),sk(s,c,g,C,p);case 3:e:{if(lk(c),s===null)throw Error(r(387));g=c.pendingProps,P=c.memoizedState,C=P.element,jj(s,c),fd(c,g,null,p);var R=c.memoizedState;if(g=R.element,P.isDehydrated)if(P={element:g,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},c.updateQueue.baseState=P,c.memoizedState=P,c.flags&256){C=Jo(Error(r(423)),c),c=ck(s,c,g,p,C);break e}else if(g!==C){C=Jo(Error(r(424)),c),c=ck(s,c,g,p,C);break e}else for(rn=ri(c.stateNode.containerInfo.firstChild),tn=c,Dt=!0,Dn=null,p=Sj(c,null,g,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(qo(),g===C){c=ka(s,c,p);break e}Tr(s,c,g,p)}c=c.child}return c;case 5:return zj(c),s===null&&gv(c),g=c.type,C=c.pendingProps,P=s!==null?s.memoizedProps:null,R=C.children,lv(g,C)?R=null:P!==null&&lv(g,P)&&(c.flags|=32),ok(s,c),Tr(s,c,R,p),c.child;case 6:return s===null&&gv(c),null;case 13:return uk(s,c,p);case 4:return Cv(c,c.stateNode.containerInfo),g=c.pendingProps,s===null?c.child=Zo(c,null,g,p):Tr(s,c,g,p),c.child;case 11:return g=c.type,C=c.pendingProps,C=c.elementType===g?C:Rn(g,C),rk(s,c,g,C,p);case 7:return Tr(s,c,c.pendingProps,p),c.child;case 8:return Tr(s,c,c.pendingProps.children,p),c.child;case 12:return Tr(s,c,c.pendingProps.children,p),c.child;case 10:e:{if(g=c.type._context,C=c.pendingProps,P=c.memoizedProps,R=C.value,jt(cd,g._currentValue),g._currentValue=R,P!==null)if(Tn(P.value,R)){if(P.children===C.children&&!$r.current){c=ka(s,c,p);break e}}else for(P=c.child,P!==null&&(P.return=c);P!==null;){var G=P.dependencies;if(G!==null){R=P.child;for(var Z=G.firstContext;Z!==null;){if(Z.context===g){if(P.tag===1){Z=ja(-1,p&-p),Z.tag=2;var oe=P.updateQueue;if(oe!==null){oe=oe.shared;var ge=oe.pending;ge===null?Z.next=Z:(Z.next=ge.next,ge.next=Z),oe.pending=Z}}P.lanes|=p,Z=P.alternate,Z!==null&&(Z.lanes|=p),wv(P.return,p,c),G.lanes|=p;break}Z=Z.next}}else if(P.tag===10)R=P.type===c.type?null:P.child;else if(P.tag===18){if(R=P.return,R===null)throw Error(r(341));R.lanes|=p,G=R.alternate,G!==null&&(G.lanes|=p),wv(R,p,c),R=P.sibling}else R=P.child;if(R!==null)R.return=P;else for(R=P;R!==null;){if(R===c){R=null;break}if(P=R.sibling,P!==null){P.return=R.return,R=P;break}R=R.return}P=R}Tr(s,c,C.children,p),c=c.child}return c;case 9:return C=c.type,g=c.pendingProps.children,Yo(c,p),C=xn(C),g=g(C),c.flags|=1,Tr(s,c,g,p),c.child;case 14:return g=c.type,C=Rn(g,c.pendingProps),C=Rn(g.type,C),nk(s,c,g,C,p);case 15:return ak(s,c,c.type,c.pendingProps,p);case 17:return g=c.type,C=c.pendingProps,C=c.elementType===g?C:Rn(g,C),Sd(s,c),c.tag=1,Ur(g)?(s=!0,nd(c)):s=!1,Yo(c,p),Zj(c,g,C),Lv(c,g,C,p),$v(null,c,g,!0,s,p);case 19:return fk(s,c,p);case 22:return ik(s,c,p)}throw Error(r(156,c.tag))};function Ik(s,c){return vw(s,c)}function i4(s,c,p,g){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(s,c,p,g){return new i4(s,c,p,g)}function lm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function o4(s){if(typeof s=="function")return lm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===L)return 11;if(s===H)return 14}return 2}function pi(s,c){var p=s.alternate;return p===null?(p=wn(s.tag,c,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=c,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&14680064,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,c=s.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p}function Ed(s,c,p,g,C,P){var R=2;if(g=s,typeof s=="function")lm(s)&&(R=1);else if(typeof s=="string")R=5;else e:switch(s){case _:return eo(p.children,C,P,c);case T:R=8,C|=8;break;case E:return s=wn(12,p,c,C|2),s.elementType=E,s.lanes=P,s;case M:return s=wn(13,p,c,C),s.elementType=M,s.lanes=P,s;case V:return s=wn(19,p,c,C),s.elementType=V,s.lanes=P,s;case X:return Td(p,C,P,c);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:R=10;break e;case I:R=9;break e;case L:R=11;break e;case H:R=14;break e;case q:R=16,g=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return c=wn(R,p,c,C),c.elementType=s,c.type=g,c.lanes=P,c}function eo(s,c,p,g){return s=wn(7,s,g,c),s.lanes=p,s}function Td(s,c,p,g){return s=wn(22,s,g,c),s.elementType=X,s.lanes=p,s.stateNode={isHidden:!1},s}function cm(s,c,p){return s=wn(6,s,null,c),s.lanes=p,s}function um(s,c,p){return c=wn(4,s.children!==null?s.children:[],s.key,c),c.lanes=p,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}function s4(s,c,p,g,C){this.tag=c,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mh(0),this.expirationTimes=Mh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mh(0),this.identifierPrefix=g,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function dm(s,c,p,g,C,P,R,G,Z){return s=new s4(s,c,p,G,Z),c===1?(c=1,P===!0&&(c|=8)):c=0,P=wn(3,null,null,c),s.current=P,P.stateNode=s,P.memoizedState={element:g,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},kv(P),s}function l4(s,c,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:g==null?null:""+g,children:s,containerInfo:c,implementation:p}}function Mk(s){if(!s)return ai;s=s._reactInternals;e:{if($i(s)!==s||s.tag!==1)throw Error(r(170));var c=s;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Ur(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(s.tag===1){var p=s.type;if(Ur(p))return dj(s,p,c)}return c}function Lk(s,c,p,g,C,P,R,G,Z){return s=dm(p,g,!0,s,C,P,R,G,Z),s.context=Mk(null),p=s.current,g=Dr(),C=di(p),P=ja(g,C),P.callback=c??null,si(p,P,C),s.current.lanes=C,_l(s,C,g),Gr(s,g),s}function Dd(s,c,p,g){var C=c.current,P=Dr(),R=di(C);return p=Mk(p),c.context===null?c.context=p:c.pendingContext=p,c=ja(P,R),c.payload={element:s},g=g===void 0?null:g,g!==null&&(c.callback=g),s=si(C,c,R),s!==null&&(Ln(s,C,R,P),dd(s,C,R)),R}function Rd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Bk(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<c?p:c}}function fm(s,c){Bk(s,c),(s=s.alternate)&&Bk(s,c)}function c4(){return null}var Fk=typeof reportError=="function"?reportError:function(s){console.error(s)};function pm(s){this._internalRoot=s}Id.prototype.render=pm.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));Dd(s,c,null,null)},Id.prototype.unmount=pm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;Yi(function(){Dd(null,s,null,null)}),c[ya]=null}};function Id(s){this._internalRoot=s}Id.prototype.unstable_scheduleHydration=function(s){if(s){var c=jw();s={blockedOn:null,target:s,priority:c};for(var p=0;p<Ja.length&&c!==0&&c<Ja[p].priority;p++);Ja.splice(p,0,s),p===0&&zw(s)}};function hm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Md(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Wk(){}function u4(s,c,p,g,C){if(C){if(typeof g=="function"){var P=g;g=function(){var oe=Rd(R);P.call(oe)}}var R=Lk(c,g,s,0,null,!1,!1,"",Wk);return s._reactRootContainer=R,s[ya]=R.current,Hl(s.nodeType===8?s.parentNode:s),Yi(),R}for(;C=s.lastChild;)s.removeChild(C);if(typeof g=="function"){var G=g;g=function(){var oe=Rd(Z);G.call(oe)}}var Z=dm(s,0,!1,null,null,!1,!1,"",Wk);return s._reactRootContainer=Z,s[ya]=Z.current,Hl(s.nodeType===8?s.parentNode:s),Yi(function(){Dd(c,Z,p,g)}),Z}function Ld(s,c,p,g,C){var P=p._reactRootContainer;if(P){var R=P;if(typeof C=="function"){var G=C;C=function(){var Z=Rd(R);G.call(Z)}}Dd(c,R,s,C)}else R=u4(p,c,s,C,g);return Rd(R)}Sw=function(s){switch(s.tag){case 3:var c=s.stateNode;if(c.current.memoizedState.isDehydrated){var p=Pl(c.pendingLanes);p!==0&&(Lh(c,p|1),Gr(c,qt()),(at&6)===0&&(rs=qt()+500,ii()))}break;case 13:Yi(function(){var g=wa(s,1);if(g!==null){var C=Dr();Ln(g,s,1,C)}}),fm(s,1)}},Bh=function(s){if(s.tag===13){var c=wa(s,134217728);if(c!==null){var p=Dr();Ln(c,s,134217728,p)}fm(s,134217728)}},ww=function(s){if(s.tag===13){var c=di(s),p=wa(s,c);if(p!==null){var g=Dr();Ln(p,s,c,g)}fm(s,c)}},jw=function(){return mt},kw=function(s,c){var p=mt;try{return mt=s,c()}finally{mt=p}},J=function(s,c,p){switch(c){case"input":if(Ye(s,p),c=p.name,p.type==="radio"&&c!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<p.length;c++){var g=p[c];if(g!==s&&g.form===s.form){var C=td(g);if(!C)throw Error(r(90));ce(g),Ye(g,C)}}}break;case"textarea":qe(s,p);break;case"select":c=p.value,c!=null&&Ht(s,!!p.multiple,c,!1)}},Qr=im,Kt=Yi;var d4={usingClientEntryPoint:!1,Events:[Vl,Uo,td,je,vt,im]},sc={findFiberByHostInstance:Ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f4={bundleType:sc.bundleType,version:sc.version,rendererPackageName:sc.rendererPackageName,rendererConfig:sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=pw(s),s===null?null:s.stateNode},findFiberByHostInstance:sc.findFiberByHostInstance||c4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bd.isDisabled&&Bd.supportsFiber)try{Iu=Bd.inject(f4),Qn=Bd}catch{}}return Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d4,Vr.createPortal=function(s,c){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hm(c))throw Error(r(200));return l4(s,c,null,p)},Vr.createRoot=function(s,c){if(!hm(s))throw Error(r(299));var p=!1,g="",C=Fk;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),c=dm(s,1,!1,null,null,p,!1,g,C),s[ya]=c.current,Hl(s.nodeType===8?s.parentNode:s),new pm(c)},Vr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=pw(c),s=s===null?null:s.stateNode,s},Vr.flushSync=function(s){return Yi(s)},Vr.hydrate=function(s,c,p){if(!Md(c))throw Error(r(200));return Ld(null,s,c,!0,p)},Vr.hydrateRoot=function(s,c,p){if(!hm(s))throw Error(r(405));var g=p!=null&&p.hydratedSources||null,C=!1,P="",R=Fk;if(p!=null&&(p.unstable_strictMode===!0&&(C=!0),p.identifierPrefix!==void 0&&(P=p.identifierPrefix),p.onRecoverableError!==void 0&&(R=p.onRecoverableError)),c=Lk(c,null,s,1,p??null,C,!1,P,R),s[ya]=c.current,Hl(s),g)for(s=0;s<g.length;s++)p=g[s],C=p._getVersion,C=C(p._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[p,C]:c.mutableSourceEagerHydrationData.push(p,C);return new Id(c)},Vr.render=function(s,c,p){if(!Md(c))throw Error(r(200));return Ld(null,s,c,!1,p)},Vr.unmountComponentAtNode=function(s){if(!Md(s))throw Error(r(40));return s._reactRootContainer?(Yi(function(){Ld(null,null,s,!1,function(){s._reactRootContainer=null,s[ya]=null})}),!0):!1},Vr.unstable_batchedUpdates=im,Vr.unstable_renderSubtreeIntoContainer=function(s,c,p,g){if(!Md(p))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Ld(s,c,p,!1,g)},Vr.version="18.3.1-next-f1338f8080-20240426",Vr}var Zk;function sE(){if(Zk)return gm.exports;Zk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),gm.exports=b4(),gm.exports}var Xk;function S4(){if(Xk)return Wd;Xk=1;var e=sE();return Wd.createRoot=e.createRoot,Wd.hydrateRoot=e.hydrateRoot,Wd}var w4=S4(),z=LS();const K=pt(z),BS=h4({__proto__:null,default:K},[z]),er={RUNS:"allocation_runs",ARTICLES:"allocation_articles",STORES:"allocation_stores",CAPACITY:"allocation_capacity",SCENARIOS:"allocation_scenarios",EXCEPTIONS:"allocation_exceptions",PARAMETERS:"allocation_parameters",TASKS:"allocation_tasks",USER:"allocation_user"};function za(e,t){try{const r=localStorage.getItem(e);return r?JSON.parse(r):t}catch(r){return console.error(`Error reading from localStorage: ${e}`,r),t}}function Aa(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.error(`Error saving to localStorage: ${e}`,r)}}function j4(e){try{localStorage.removeItem(e)}catch(t){console.error(`Error removing from localStorage: ${e}`,t)}}const gt={getRuns:()=>za(er.RUNS,[]),saveRuns:e=>Aa(er.RUNS,e),getArticles:()=>za(er.ARTICLES,[]),saveArticles:e=>Aa(er.ARTICLES,e),getStores:()=>za(er.STORES,[]),saveStores:e=>Aa(er.STORES,e),getCapacity:()=>za(er.CAPACITY,[]),saveCapacity:e=>Aa(er.CAPACITY,e),getScenarios:()=>za(er.SCENARIOS,[]),saveScenarios:e=>Aa(er.SCENARIOS,e),getExceptions:()=>za(er.EXCEPTIONS,[]),saveExceptions:e=>Aa(er.EXCEPTIONS,e),getParameters:()=>za(er.PARAMETERS,[]),saveParameters:e=>Aa(er.PARAMETERS,e),getTasks:()=>za(er.TASKS,[]),saveTasks:e=>Aa(er.TASKS,e),getUser:()=>za(er.USER,null),saveUser:e=>Aa(er.USER,e),clearAll:()=>{Object.values(er).forEach(e=>j4(e))},isInitialized:()=>localStorage.getItem(er.RUNS)!==null},k4={id:"user-001",name:"Max Mustermann",email:"max.mustermann@company.ch",role:"manager",department:"Allocation Management"},C4=[{id:"store-zh-hb",name:"Zrich HB",description:"Hauptbahnhof Zrich",cluster:"Urban Premium",region:"Zrich",address:"Bahnhofplatz 15, 8001 Zrich",totalCapacity:500,isActive:!0,createdAt:"2024-01-01"},{id:"store-bs-sbb",name:"Basel SBB",description:"Basel Bahnhof SBB",cluster:"Urban Standard",region:"Basel",address:"Centralbahnplatz 1, 4051 Basel",totalCapacity:400,isActive:!0,createdAt:"2024-01-01"},{id:"store-be-bhf",name:"Bern Bahnhof",description:"Bern Hauptbahnhof",cluster:"Regional",region:"Bern",address:"Bahnhofplatz 10, 3011 Bern",totalCapacity:350,isActive:!0,createdAt:"2024-01-01"},{id:"store-lu",name:"Luzern",description:"Luzern Bahnhofstrasse",cluster:"Regional",region:"Zentralschweiz",address:"Bahnhofstrasse 5, 6003 Luzern",totalCapacity:300,isActive:!0,createdAt:"2024-01-01"},{id:"store-ge",name:"Genf",description:"Genve Centre",cluster:"Urban Premium",region:"Romandie",address:"Rue du Mont-Blanc 22, 1201 Genve",totalCapacity:450,isActive:!0,createdAt:"2024-01-01"},{id:"store-ls",name:"Lausanne",description:"Lausanne Gare",cluster:"Urban Standard",region:"Romandie",address:"Place de la Gare 9, 1003 Lausanne",totalCapacity:380,isActive:!0,createdAt:"2024-01-01"},{id:"store-sg",name:"St. Gallen",description:"St. Gallen Zentrum",cluster:"Regional",region:"Ostschweiz",address:"Multergasse 15, 9000 St. Gallen",totalCapacity:280,isActive:!0,createdAt:"2024-01-01"},{id:"store-wi",name:"Winterthur",description:"Winterthur Altstadt",cluster:"Regional",region:"Zrich",address:"Marktgasse 25, 8400 Winterthur",totalCapacity:260,isActive:!0,createdAt:"2024-01-01"}],z4=[{id:"RUN-2025-001",type:"initial",status:"completed",startDate:"2025-01-06T09:00:00",endDate:"2025-01-06T11:30:00",articleCount:156,storeCount:8,user:"M. Weber",createdAt:"2025-01-06T09:00:00",updatedAt:"2025-01-06T11:30:00"},{id:"RUN-2025-002",type:"replenishment",status:"completed",startDate:"2025-01-05T14:00:00",endDate:"2025-01-05T15:30:00",articleCount:89,storeCount:6,user:"S. Mller",createdAt:"2025-01-05T14:00:00",updatedAt:"2025-01-05T15:30:00"},{id:"RUN-2025-003",type:"manual",status:"with_exceptions",startDate:"2025-01-04T10:00:00",endDate:"2025-01-04T12:00:00",articleCount:45,storeCount:4,user:"A. Schmidt",createdAt:"2025-01-04T10:00:00",updatedAt:"2025-01-04T12:00:00"},{id:"RUN-2025-004",type:"initial",status:"running",startDate:"2025-01-07T08:00:00",articleCount:203,storeCount:8,progress:65,user:"M. Weber",createdAt:"2025-01-07T08:00:00",updatedAt:"2025-01-07T09:30:00"},{id:"RUN-2025-005",type:"replenishment",status:"planned",startDate:"2025-01-08T09:00:00",articleCount:120,storeCount:8,user:"T. Fischer",createdAt:"2025-01-06T16:00:00",updatedAt:"2025-01-06T16:00:00"}],A4=[{id:"scenario-001",name:"Standard Allokation HW 2025",description:"Standardszenario fr die Herbst/Winter Saison 2025",status:"approved",allocationType:"initial",createdBy:"M. Weber",createdAt:"2024-12-15T10:00:00",updatedAt:"2025-01-02T14:30:00",parameters:{forecastWeight:.6,historicalWeight:.4,safetyStockFactor:1.2,minAllocationQty:5,maxAllocationQty:100,clusterPriority:{"Urban Premium":1,"Urban Standard":2,Regional:3,Outlet:4}},results:{totalAllocated:15420,storesCovered:8,expectedFillRate:94.5,capacityUtilization:87.2,exceptions:3,simulatedAt:"2025-01-02T14:30:00"}},{id:"scenario-002",name:"Optimiert - Hohe Prognosegewichtung",description:"Szenario mit erhhter Gewichtung der Absatzprognose",status:"simulated",allocationType:"initial",createdBy:"S. Mller",createdAt:"2025-01-03T09:00:00",updatedAt:"2025-01-05T11:00:00",parameters:{forecastWeight:.8,historicalWeight:.2,safetyStockFactor:1.1,minAllocationQty:3,maxAllocationQty:120,clusterPriority:{"Urban Premium":1,"Urban Standard":2,Regional:3,Outlet:4}},results:{totalAllocated:16800,storesCovered:8,expectedFillRate:96.2,capacityUtilization:91.5,exceptions:5,simulatedAt:"2025-01-05T11:00:00"}},{id:"scenario-003",name:"NOS Nachschub - Standard",description:"Standardszenario fr Never-out-of-Stock Nachschub",status:"approved",allocationType:"replenishment",createdBy:"T. Fischer",createdAt:"2024-11-20T14:00:00",updatedAt:"2024-12-10T09:00:00",parameters:{forecastWeight:.5,historicalWeight:.5,safetyStockFactor:1.5,minAllocationQty:10,maxAllocationQty:50,clusterPriority:{"Urban Premium":1,"Urban Standard":1,Regional:2,Outlet:3}},results:{totalAllocated:8500,storesCovered:8,expectedFillRate:98.1,capacityUtilization:72.3,exceptions:1,simulatedAt:"2024-12-10T09:00:00"}},{id:"scenario-004",name:"Konservativ - Niedriger Sicherheitsbestand",description:"Testversion mit reduziertem Sicherheitsbestand",status:"draft",allocationType:"initial",createdBy:"A. Schmidt",createdAt:"2025-01-06T15:00:00",updatedAt:"2025-01-06T15:00:00",parameters:{forecastWeight:.5,historicalWeight:.5,safetyStockFactor:.9,minAllocationQty:5,maxAllocationQty:80,clusterPriority:{"Urban Premium":1,"Urban Standard":2,Regional:3,Outlet:4}}}],N4=[{id:"exc-001",type:"capacity",severity:"high",status:"open",title:"Kapazittsberschreitung Zrich HB",description:"Die geplante Allokation berschreitet die verfgbare Kapazitt um 15%",storeId:"store-zh-hb",runId:"RUN-2025-003",createdAt:"2025-01-04T11:30:00"},{id:"exc-002",type:"stock",severity:"medium",status:"in_progress",title:"Niedriger Lagerbestand Running Shoes",description:"Der zentrale Lagerbestand reicht nicht fr alle geplanten Allokationen",articleId:"art-001",assignedTo:"S. Mller",createdAt:"2025-01-05T09:00:00"},{id:"exc-003",type:"forecast",severity:"low",status:"open",title:"Prognoseabweichung Basel SBB",description:"Die Ist-Verkufe weichen um mehr als 20% von der Prognose ab",storeId:"store-bs-sbb",createdAt:"2025-01-06T14:00:00"},{id:"exc-004",type:"manual",severity:"critical",status:"open",title:"Dringende Nachlieferung Winterjacken",description:"Kundenanfrage fr Sonderlieferung aufgrund hoher Nachfrage",storeId:"store-ge",articleId:"art-004",createdAt:"2025-01-07T08:30:00"},{id:"exc-005",type:"capacity",severity:"medium",status:"resolved",title:"Warentrger-Konflikt Luzern",description:"Zwei Produktgruppen beanspruchen denselben Warentrger",storeId:"store-lu",resolvedAt:"2025-01-03T16:00:00",createdAt:"2025-01-02T10:00:00"}],P4=[{id:"task-001",title:"HW 2025 Allokation prfen",description:"berprfung der initialen Allokation fr die Herbst/Winter Saison",type:"review",status:"in_progress",priority:"high",assignedTo:"M. Weber",dueDate:"2025-01-10",relatedScenarioId:"scenario-001",createdAt:"2025-01-05T09:00:00"},{id:"task-002",title:"Exception Zrich HB bearbeiten",description:"Kapazittsberschreitung in Zrich HB lsen",type:"exception",status:"pending",priority:"urgent",assignedTo:"S. Mller",dueDate:"2025-01-08",relatedRunId:"RUN-2025-003",createdAt:"2025-01-04T12:00:00"},{id:"task-003",title:"Nachschub-Szenario freigeben",description:"NOS Nachschub Szenario zur Produktion freigeben",type:"approval",status:"pending",priority:"medium",assignedTo:"A. Schmidt",dueDate:"2025-01-09",relatedScenarioId:"scenario-003",createdAt:"2025-01-06T10:00:00"},{id:"task-004",title:"Neue Filiale St. Gallen einrichten",description:"Kapazitten und Parameter fr neue Filiale konfigurieren",type:"allocation",status:"completed",priority:"low",assignedTo:"T. Fischer",dueDate:"2025-01-05",completedAt:"2025-01-04T15:00:00",createdAt:"2025-01-02T14:00:00"},{id:"task-005",title:"Prognose-Parameter optimieren",description:"Forecast-Gewichtung basierend auf Q4 Ergebnissen anpassen",type:"allocation",status:"pending",priority:"medium",assignedTo:"M. Weber",dueDate:"2025-01-12",createdAt:"2025-01-06T11:00:00"}],_4=[{id:"param-001",category:"capacity",name:"Standard Kapazittsfaktor",key:"capacity_factor",value:1,unit:"Faktor",description:"Multiplikator fr die Basiskapazitt",minValue:.5,maxValue:2,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-002",category:"capacity",name:"Maximale Auslastung",key:"max_utilization",value:95,unit:"%",description:"Maximale erlaubte Kapazittsauslastung",minValue:70,maxValue:100,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-003",category:"presentation",name:"Mindest-Prsentationsmenge",key:"min_presentation",value:3,unit:"Stck",description:"Minimale Anzahl pro Gre auf der Flche",minValue:1,maxValue:10,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-004",category:"presentation",name:"Grenspiegel-Faktor",key:"size_curve_factor",value:1,unit:"Faktor",description:"Anpassung der Standard-Grenverteilung",minValue:.5,maxValue:1.5,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-005",category:"control",name:"Prognose-Horizont",key:"forecast_horizon",value:8,unit:"Wochen",description:"Zeitraum fr Absatzprognose",minValue:2,maxValue:16,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-006",category:"control",name:"Sicherheitsbestand-Tage",key:"safety_stock_days",value:14,unit:"Tage",description:"Puffer fr Nachschub-Verzgerungen",minValue:7,maxValue:30,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-007",category:"blocking",name:"Mindestverkaufstage",key:"min_selling_days",value:21,unit:"Tage",description:"Minimum Verkaufszeitraum vor Sperrung",minValue:7,maxValue:60,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-008",category:"blocking",name:"Abverkaufs-Schwelle",key:"sellthrough_threshold",value:30,unit:"%",description:"Mindest-Abverkaufsrate fr Nachschub",minValue:10,maxValue:80,updatedAt:"2025-01-01",updatedBy:"System"}];function Yk(){return{user:k4,stores:C4,runs:z4,scenarios:A4,exceptions:N4,tasks:P4,parameters:_4}}const O4={runs:[],stores:[],scenarios:[],exceptions:[],parameters:[],tasks:[],currentUser:null,isLoading:!0,isInitialized:!1};function E4(e,t){switch(t.type){case"SET_LOADING":return{...e,isLoading:t.payload};case"INITIALIZE":return{...e,...t.payload,isLoading:!1,isInitialized:!0};case"SET_USER":return{...e,currentUser:t.payload};case"SET_RUNS":return{...e,runs:t.payload};case"ADD_RUN":return{...e,runs:[...e.runs,t.payload]};case"UPDATE_RUN":return{...e,runs:e.runs.map(r=>r.id===t.payload.id?t.payload:r)};case"DELETE_RUN":return{...e,runs:e.runs.filter(r=>r.id!==t.payload)};case"SET_STORES":return{...e,stores:t.payload};case"ADD_STORE":return{...e,stores:[...e.stores,t.payload]};case"UPDATE_STORE":return{...e,stores:e.stores.map(r=>r.id===t.payload.id?t.payload:r)};case"DELETE_STORE":return{...e,stores:e.stores.filter(r=>r.id!==t.payload)};case"SET_SCENARIOS":return{...e,scenarios:t.payload};case"ADD_SCENARIO":return{...e,scenarios:[...e.scenarios,t.payload]};case"UPDATE_SCENARIO":return{...e,scenarios:e.scenarios.map(r=>r.id===t.payload.id?t.payload:r)};case"DELETE_SCENARIO":return{...e,scenarios:e.scenarios.filter(r=>r.id!==t.payload)};case"SET_EXCEPTIONS":return{...e,exceptions:t.payload};case"ADD_EXCEPTION":return{...e,exceptions:[...e.exceptions,t.payload]};case"UPDATE_EXCEPTION":return{...e,exceptions:e.exceptions.map(r=>r.id===t.payload.id?t.payload:r)};case"DELETE_EXCEPTION":return{...e,exceptions:e.exceptions.filter(r=>r.id!==t.payload)};case"SET_PARAMETERS":return{...e,parameters:t.payload};case"UPDATE_PARAMETER":return{...e,parameters:e.parameters.map(r=>r.id===t.payload.id?t.payload:r)};case"SET_TASKS":return{...e,tasks:t.payload};case"ADD_TASK":return{...e,tasks:[...e.tasks,t.payload]};case"UPDATE_TASK":return{...e,tasks:e.tasks.map(r=>r.id===t.payload.id?t.payload:r)};case"DELETE_TASK":return{...e,tasks:e.tasks.filter(r=>r.id!==t.payload)};default:return e}}const lE=z.createContext(null);function $d(e){return`${e}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function T4({children:e}){const[t,r]=z.useReducer(E4,O4);z.useEffect(()=>{(()=>{if(gt.isInitialized())r({type:"INITIALIZE",payload:{runs:gt.getRuns(),stores:gt.getStores(),scenarios:gt.getScenarios(),exceptions:gt.getExceptions(),tasks:gt.getTasks(),parameters:gt.getParameters(),currentUser:gt.getUser()}});else{const N=Yk();gt.saveRuns(N.runs),gt.saveStores(N.stores),gt.saveScenarios(N.scenarios),gt.saveExceptions(N.exceptions),gt.saveTasks(N.tasks),gt.saveParameters(N.parameters),gt.saveUser(N.user),r({type:"INITIALIZE",payload:{runs:N.runs,stores:N.stores,scenarios:N.scenarios,exceptions:N.exceptions,tasks:N.tasks,parameters:N.parameters,currentUser:N.user}})}})()},[]),z.useEffect(()=>{t.isInitialized&&gt.saveRuns(t.runs)},[t.runs,t.isInitialized]),z.useEffect(()=>{t.isInitialized&&gt.saveScenarios(t.scenarios)},[t.scenarios,t.isInitialized]),z.useEffect(()=>{t.isInitialized&&gt.saveExceptions(t.exceptions)},[t.exceptions,t.isInitialized]),z.useEffect(()=>{t.isInitialized&&gt.saveTasks(t.tasks)},[t.tasks,t.isInitialized]),z.useEffect(()=>{t.isInitialized&&gt.saveParameters(t.parameters)},[t.parameters,t.isInitialized]);const k={state:t,dispatch:r,addRun:S=>{const N=new Date().toISOString(),A={...S,id:$d("RUN"),createdAt:N,updatedAt:N};return r({type:"ADD_RUN",payload:A}),A},updateRun:S=>{const N={...S,updatedAt:new Date().toISOString()};r({type:"UPDATE_RUN",payload:N})},deleteRun:S=>{r({type:"DELETE_RUN",payload:S})},addScenario:S=>{const N=new Date().toISOString(),A={...S,id:$d("scenario"),createdAt:N,updatedAt:N};return r({type:"ADD_SCENARIO",payload:A}),A},updateScenario:S=>{const N={...S,updatedAt:new Date().toISOString()};r({type:"UPDATE_SCENARIO",payload:N})},deleteScenario:S=>{r({type:"DELETE_SCENARIO",payload:S})},addException:S=>{const N={...S,id:$d("exc"),createdAt:new Date().toISOString()};return r({type:"ADD_EXCEPTION",payload:N}),N},updateException:S=>{r({type:"UPDATE_EXCEPTION",payload:S})},resolveException:S=>{const N=t.exceptions.find(A=>A.id===S);N&&r({type:"UPDATE_EXCEPTION",payload:{...N,status:"resolved",resolvedAt:new Date().toISOString()}})},addTask:S=>{const N={...S,id:$d("task"),createdAt:new Date().toISOString()};return r({type:"ADD_TASK",payload:N}),N},updateTask:S=>{r({type:"UPDATE_TASK",payload:S})},completeTask:S=>{const N=t.tasks.find(A=>A.id===S);N&&r({type:"UPDATE_TASK",payload:{...N,status:"completed",completedAt:new Date().toISOString()}})},deleteTask:S=>{r({type:"DELETE_TASK",payload:S})},updateParameter:S=>{const N={...S,updatedAt:new Date().toISOString()};r({type:"UPDATE_PARAMETER",payload:N})},resetData:()=>{gt.clearAll();const S=Yk();gt.saveRuns(S.runs),gt.saveStores(S.stores),gt.saveScenarios(S.scenarios),gt.saveExceptions(S.exceptions),gt.saveTasks(S.tasks),gt.saveParameters(S.parameters),gt.saveUser(S.user),r({type:"INITIALIZE",payload:{runs:S.runs,stores:S.stores,scenarios:S.scenarios,exceptions:S.exceptions,tasks:S.tasks,parameters:S.parameters,currentUser:S.user}})}};return a.jsx(lE.Provider,{value:k,children:e})}function D4(){const e=z.useContext(lE);if(!e)throw new Error("useApp must be used within an AppProvider");return e}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),I4=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),Qk=e=>{const t=I4(e);return t.charAt(0).toUpperCase()+t.slice(1)},cE=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=z.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:l,...u},d)=>z.createElement("svg",{ref:d,...M4,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:cE("lucide",i),...u},[...l.map(([f,v])=>z.createElement(f,v)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(e,t)=>{const r=z.forwardRef(({className:n,...i},o)=>z.createElement(L4,{ref:o,iconNode:t,className:cE(`lucide-${R4(Qk(e))}`,`lucide-${e}`,n),...i}));return r.displayName=Qk(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],F4=ze("archive",B4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],uE=ze("arrow-left",W4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],U4=ze("arrow-right",$4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],K4=ze("arrow-up-right",H4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],V4=ze("ban",G4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],Ud=ze("beaker",q4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],X4=ze("bell",Z4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],FS=ze("briefcase",Y4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],dE=ze("building-2",Q4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],eL=ze("calendar",J4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Dp=ze("chart-column",tL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ka=ze("check",rL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_o=ze("chevron-down",nL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],WS=ze("chevron-left",aL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],un=ze("chevron-right",iL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],fE=ze("chevron-up",oL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],aa=ze("circle-alert",sL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dn=ze("circle-check-big",lL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Hd=ze("circle-check",cL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],Rp=ze("circle-play",uL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],pE=ze("circle-x",dL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$S=ze("circle",fL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Os=ze("clock",pL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],jf=ze("copy",hL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],hE=ze("database",vL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ta=ze("download",mL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],vE=ze("ellipsis-vertical",gL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],mE=ze("external-link",yL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gE=ze("eye",xL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],SL=ze("file-json",bL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],yE=ze("file-text",wL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],xE=ze("funnel",jL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],bE=ze("git-branch",kL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],zL=ze("globe",CL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],NL=ze("grip-vertical",AL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],SE=ze("history",PL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],OL=ze("house",_L);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Qt=ze("info",EL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],DL=ze("key",TL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],wE=ze("layers",RL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],jE=ze("layout-grid",IL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LL=ze("loader-circle",ML);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],kE=ze("lock",BL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],WL=ze("map-pin",FL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=[["path",{d:"M5 12h14",key:"1ays0h"}]],UL=ze("minus",$L);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ip=ze("package",HL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],yo=ze("pen",KL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],gf=ze("play",GL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ji=ze("plus",VL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Jk=ze("refresh-cw",qL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],CE=ze("rocket",ZL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],US=ze("rotate-ccw",XL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],QL=ze("rotate-cw",YL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Su=ze("save",JL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],fn=ze("search",eB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Mp=ze("settings",tB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]],Zb=ze("sliders-vertical",rB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Nc=ze("sparkles",nB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Cs=ze("trash-2",aB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Lp=ze("trending-down",iB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],cl=ze("trending-up",oB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ft=ze("triangle-alert",sB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],xs=ze("upload",lB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],uB=ze("user",cB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],fB=ze("users",dB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],hB=ze("webhook",pB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Et=ze("x",vB),mB=[{id:"home",label:"Home",icon:OL},{id:"settings",label:"Einstellungen",icon:Mp},{id:"parameters",label:"Parameter",icon:Zb},{id:"capacity",label:"Kapazitt",icon:Ip},{id:"cluster",label:"Cluster",icon:wE},{id:"storeLayout",label:"Filiallayout",icon:jE},{id:"work",label:"Arbeitsvorrat",icon:FS,badge:3},{id:"runs",label:"Runs",icon:Rp},{id:"scenarios",label:"Szenarien",icon:bE},{id:"exceptions",label:"Exceptions",icon:Ft,badge:12},{id:"dataManager",label:"Datenmanager",icon:hE}];function gB({currentScreen:e,onNavigate:t}){return a.jsxs("aside",{className:"flex flex-col border-r",style:{width:"var(--sidenav-width-desktop)",backgroundColor:"var(--surface-surface)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--brand-primary)"},children:"Blickpunkt"}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"var(--space-1)"},children:"Allocation Tool"})]}),a.jsx("nav",{className:"flex-1 px-3",children:a.jsxs("div",{style:{marginBottom:"var(--space-4)"},children:[a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em",padding:"0 var(--space-3)",marginBottom:"var(--space-2)"},children:"Navigation"}),a.jsx("div",{className:"space-y-1",children:mB.map(r=>{const n=r.icon,i=e===r.id;return a.jsxs("button",{onClick:()=>t(r.id),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all relative",style:{backgroundColor:i?"var(--surface-subtle-tint)":"transparent",color:i?"var(--text-primary)":"var(--text-secondary)",borderLeft:i?"3px solid var(--brand-accent)":"3px solid transparent",marginLeft:"-3px",paddingLeft:"calc(var(--space-3) + 3px)"},onMouseEnter:o=>{i||(o.currentTarget.style.backgroundColor="var(--bg-tint)")},onMouseLeave:o=>{i||(o.currentTarget.style.backgroundColor="transparent")},children:[a.jsx(n,{size:20}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:i?"var(--font-weight-medium)":"var(--font-weight-regular)"},children:r.label}),r.badge&&a.jsx("span",{className:"ml-auto rounded-full px-2 py-0.5",style:{backgroundColor:"var(--status-danger)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",minWidth:"20px",textAlign:"center"},children:r.badge})]},r.id)})})]})}),a.jsx("div",{className:"p-4 border-t",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center gap-3 px-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)"},children:"JD"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"John Doe"}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Administrator"})]})]})})]})}function yB(){return a.jsxs("header",{className:"flex items-center justify-between px-6 border-b",style:{height:"var(--height-topbar)",backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"flex items-center gap-4 flex-1",children:a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(fn,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{type:"search",placeholder:"Suchen...",className:"w-full pl-10 pr-4 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)",borderRadius:"var(--radius-md)"}})]})}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("button",{className:"p-2 rounded-lg relative",style:{backgroundColor:"transparent",color:"var(--text-secondary)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="var(--bg-tint)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:[a.jsx(X4,{size:20}),a.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 rounded-full",style:{backgroundColor:"var(--status-danger)"}})]})})]})}function xB({children:e,currentScreen:t,onNavigate:r}){return a.jsxs("div",{className:"flex h-screen overflow-hidden",style:{backgroundColor:"var(--surface-page)"},children:[a.jsx(gB,{currentScreen:t,onNavigate:r}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(yB,{}),a.jsx("main",{className:"flex-1 overflow-auto p-6",children:e})]})]})}const so="http://localhost:3002/api",bm=[{id:"store-zh-hb",name:"Zrich HB",description:"Hauptbahnhof Zrich",cluster:"Urban Premium",region:"Zrich",address:"Bahnhofplatz 15",total_capacity:500},{id:"store-bs-sbb",name:"Basel SBB",description:"Basel Bahnhof SBB",cluster:"Urban Standard",region:"Basel",address:"Centralbahnplatz 1",total_capacity:400},{id:"store-be-bhf",name:"Bern",description:"Bern Innenstadt",cluster:"Regional",region:"Bern",address:"Bahnhofplatz 10",total_capacity:350},{id:"store-lu",name:"Luzern",description:"Luzern Bahnhofstrasse",cluster:"Regional",region:"Zentralschweiz",address:"Bahnhofstrasse 5",total_capacity:300},{id:"store-ge",name:"Genf",description:"Genve Centre",cluster:"Urban Premium",region:"Romandie",address:"Rue du Mont-Blanc 22",total_capacity:450},{id:"store-ls",name:"Lausanne",description:"Lausanne Gare",cluster:"Urban Standard",region:"Romandie",address:"Place de la Gare 9",total_capacity:380},{id:"store-sg",name:"St. Gallen",description:"St. Gallen Zentrum",cluster:"Regional",region:"Ostschweiz",address:"Multergasse 15",total_capacity:280},{id:"store-wi",name:"Winterthur",description:"Winterthur Altstadt",cluster:"Regional",region:"Zrich",address:"Marktgasse 25",total_capacity:260}],Sm=[{id:"RUN-2025-W50-001",type:"initial",status:"completed",startDate:"2025-12-16 09:30",endDate:"2025-12-16 11:45",articleCount:156,storeCount:12,userName:"M. Weber"},{id:"RUN-2025-W50-002",type:"replenishment",status:"completed",startDate:"2025-12-15 14:20",endDate:"2025-12-15 15:30",articleCount:89,storeCount:10,userName:"S. Mller"},{id:"RUN-2025-W50-003",type:"manual",status:"with_exceptions",startDate:"2025-12-14 10:15",endDate:"2025-12-14 12:00",articleCount:45,storeCount:8,userName:"A. Schmidt"},{id:"RUN-2025-W49-001",type:"initial",status:"completed",startDate:"2025-12-09 08:00",endDate:"2025-12-09 10:30",articleCount:203,storeCount:12,userName:"M. Weber"},{id:"RUN-2025-W49-002",type:"replenishment",status:"completed",startDate:"2025-12-08 13:45",endDate:"2025-12-08 14:50",articleCount:67,storeCount:9,userName:"T. Fischer"},{id:"RUN-2025-W48-001",type:"manual",status:"completed",startDate:"2025-12-02 11:30",endDate:"2025-12-02 13:15",articleCount:34,storeCount:6,userName:"S. Mller"},{id:"RUN-2025-W47-001",type:"initial",status:"running",startDate:"2025-11-25 09:00",articleCount:178,storeCount:12,userName:"M. Weber",progress:65}],wm=[{id:"EXC-001",type:"overcapacity",severity:"critical",status:"open",title:"berkapazitt Running Shoes",description:'SOLL-Kapazitt wird im Cluster "Urban Premium" um 23% berschritten',article:"ART-10245 - Running Shoes Elite",category:"Shoes  Running",cause:'SOLL-Kapazitt wird im Cluster "Urban Premium" um 23% berschritten',process:"initial",source:"simulation",recommendedAction:"Liefertermin verschieben oder Artikel reduzieren",createdAt:"2025-12-16 09:45",season:"SS 2026",cluster:"Urban Premium",capacityDeviation:23},{id:"EXC-002",type:"lot-conflict",severity:"blocking",status:"open",title:"LOT-Konflikt Casual Jacket",description:"LOT-Zwang verletzt: Nur 4 von 6 Gren verfgbar",article:"ART-10892 - Casual Jacket Spring",category:"Apparel  Jackets",cause:"LOT-Zwang verletzt: Nur 4 von 6 Gren verfgbar",process:"initial",source:"planning",recommendedAction:"Artikel aus Lauf entfernen oder fehlende Gren beschaffen",createdAt:"2025-12-16 08:12",season:"SS 2026"},{id:"EXC-003",type:"delivery-conflict",severity:"critical",status:"in_progress",title:"Liefertermin-Konflikt Summer Dress",description:"Zeitliche Verdichtung: 3 Kollektionen in KW 15",article:"ART-11234 - Summer Dress Collection",category:"Apparel  Dresses",cause:"Zeitliche Verdichtung: 3 Kollektionen in KW 15",process:"replenishment",source:"simulation",recommendedAction:"Liefertermin um 1 Woche verschieben",createdAt:"2025-12-15 14:30",season:"SS 2026",cluster:"Alle",capacityDeviation:45,assignedTo:"Maria Mller"},{id:"EXC-004",type:"undercapacity",severity:"info",status:"ignored",title:"Untererfllung Accessories",description:"SOLL-Kapazitt wird nur zu 78% ausgelastet",article:"Kategorie: Accessories",category:"Accessories",cause:"SOLL-Kapazitt wird nur zu 78% ausgelastet",process:"initial",source:"planning",recommendedAction:"Zustzliche Artikel einplanen oder Abweichung akzeptieren",createdAt:"2025-12-14 11:20",season:"SS 2026",capacityDeviation:-22},{id:"EXC-005",type:"parameter-conflict",severity:"blocking",status:"open",title:"Parameter-Konflikt Premium Sneakers",description:"Mindestprsentationsmenge (8 Stk.) > verfgbare Kapazitt (5 Stk.)",article:"ART-10567 - Premium Sneakers",category:"Shoes  Sneakers",cause:"Mindestprsentationsmenge (8 Stk.) > verfgbare Kapazitt (5 Stk.)",process:"initial",source:"planning",recommendedAction:"Parameter prfen und anpassen",createdAt:"2025-12-16 10:05",season:"SS 2026"},{id:"EXC-006",type:"manual-deviation",severity:"info",status:"ignored",title:"Manuelle Abweichung Special Edition",description:"Bewusste berallokation fr Marketingaktion",article:"ART-10123 - Special Edition",category:"Shoes  Limited",cause:"Bewusste berallokation fr Marketingaktion",process:"initial",source:"production",recommendedAction:"Keine Aktion erforderlich (akzeptiert)",createdAt:"2025-12-13 16:45",season:"SS 2026",capacityDeviation:15,assignedTo:"Andreas Schmidt"},{id:"EXC-007",type:"overcapacity",severity:"critical",status:"in_progress",title:"berkapazitt Electronics",description:"Nachschub berschreitet verfgbare Lagerflche",article:"Kategorie: Electronics",category:"Electronics",cause:"Nachschub berschreitet verfgbare Lagerflche",process:"replenishment",source:"simulation",recommendedAction:"Mengereduktion oder zeitliche Staffelung",createdAt:"2025-12-15 09:30",season:"AW 2025",cluster:"Regional",capacityDeviation:18,assignedTo:"Julia Weber"},{id:"EXC-008",type:"delivery-conflict",severity:"info",status:"resolved",title:"Liefertermin Winter Boots",description:"Ursprnglicher Liefertermin zu spt",article:"ART-10889 - Winter Boots",category:"Shoes  Boots",cause:"Ursprnglicher Liefertermin zu spt",process:"initial",source:"planning",recommendedAction:"Liefertermin angepasst",createdAt:"2025-12-10 08:00",season:"AW 2025"}],jm=[{id:"task-001",title:"HW 2025 Allokation prfen",description:"berprfung der initialen Allokation fr die Herbst/Winter Saison",type:"review",status:"in_progress",priority:"high",assignedTo:"M. Weber",dueDate:"2025-01-10",relatedScenarioId:"scenario-001"},{id:"task-002",title:"Exception Zrich HB bearbeiten",description:"Kapazittsberschreitung in Zrich HB lsen",type:"exception",status:"pending",priority:"urgent",assignedTo:"S. Mller",dueDate:"2025-01-08",relatedRunId:"RUN-2025-003"},{id:"task-003",title:"Nachschub-Szenario freigeben",description:"NOS Nachschub Szenario zur Produktion freigeben",type:"approval",status:"pending",priority:"medium",assignedTo:"A. Schmidt",dueDate:"2025-01-09",relatedScenarioId:"scenario-003"},{id:"task-004",title:"Prognose-Parameter optimieren",description:"Forecast-Gewichtung basierend auf Q4 Ergebnissen anpassen",type:"allocation",status:"pending",priority:"medium",assignedTo:"M. Weber",dueDate:"2025-01-12"},{id:"task-005",title:"Neue Artikel SS26 einplanen",description:"Spring/Summer 2026 Kollektion in Planung aufnehmen",type:"allocation",status:"pending",priority:"low",assignedTo:"T. Fischer",dueDate:"2025-01-15"}],km=[{id:"scenario-001",name:"Standard Allokation HW 2025",description:"Standardszenario fr die Herbst/Winter Saison 2025",status:"approved",allocationType:"initial",createdBy:"M. Weber",parameters:{forecast_weight:.6,historical_weight:.4,safety_stock_factor:1.2},results:{total_allocated:15420,stores_covered:8,expected_fill_rate:94.5,capacity_utilization:87.2,exceptions:3}},{id:"scenario-002",name:"Optimiert - Hohe Prognosegewichtung",description:"Szenario mit erhhter Gewichtung der Absatzprognose",status:"simulated",allocationType:"initial",createdBy:"S. Mller",parameters:{forecast_weight:.8,historical_weight:.2,safety_stock_factor:1.1},results:{total_allocated:16800,stores_covered:8,expected_fill_rate:96.2,capacity_utilization:91.5,exceptions:5}},{id:"scenario-003",name:"NOS Nachschub - Standard",description:"Standardszenario fr Never-out-of-Stock Nachschub",status:"approved",allocationType:"replenishment",createdBy:"T. Fischer",parameters:{forecast_weight:.5,historical_weight:.5,safety_stock_factor:1.5},results:{total_allocated:8500,stores_covered:8,expected_fill_rate:98.1,capacity_utilization:72.3,exceptions:1}},{id:"scenario-004",name:"SS 2026 Initial Draft",description:"Erster Entwurf fr Spring/Summer 2026",status:"draft",allocationType:"initial",createdBy:"M. Weber",parameters:{forecast_weight:.7,historical_weight:.3,safety_stock_factor:1.3}}],Cm=[{id:"param-001",category:"capacity",name:"Flchenbedarf pro Einheit",key:"area_per_unit",value:.035,unit:"m",description:"Durchschnittlicher Prsentationsflchenbedarf je Stck"},{id:"param-002",category:"capacity",name:"Maximale Auslastung",key:"max_utilization",value:95,unit:"%",description:"Maximale erlaubte Kapazittsauslastung"},{id:"param-003",category:"presentation",name:"Mindestprsentationsmenge",key:"min_presentation",value:3,unit:"Stck",description:"Mindestmenge, um Artikel prsentieren zu drfen"},{id:"param-004",category:"presentation",name:"Mindestmenge je Gre",key:"min_per_size",value:2,unit:"Stck",description:"Mindestanzahl pro Gre fr vollstndige Darstellung"},{id:"param-005",category:"presentation",name:"LOT-Zwang",key:"lot_required",value:!0,unit:"",description:"Allokation nur bei vollstndigem Grenlauf erlaubt"},{id:"param-006",category:"control",name:"Prognose-Horizont",key:"forecast_horizon",value:8,unit:"Wochen",description:"Zeitraum fr Absatzprognose"},{id:"param-007",category:"control",name:"Sicherheitsbestand-Tage",key:"safety_stock_days",value:14,unit:"Tage",description:"Puffer fr Nachschub-Verzgerungen"},{id:"param-008",category:"forecast",name:"Prognose-Gewichtung",key:"forecast_weight",value:.6,unit:"",description:"Gewichtung der Absatzprognose vs. historische Daten"},{id:"param-009",category:"forecast",name:"Saisonalittsfaktor",key:"seasonality_factor",value:1.2,unit:"",description:"Multiplikator fr saisonale Schwankungen"},{id:"param-010",category:"governance",name:"Freigabe-Schwellwert",key:"approval_threshold",value:1e4,unit:"",description:"Ab diesem Wert ist eine Freigabe erforderlich"}],Xt={stores:"allocation_stores",runs:"allocation_runs",exceptions:"allocation_exceptions",tasks:"allocation_tasks",scenarios:"allocation_scenarios",parameters:"allocation_parameters"};function as(e,t){try{const r=localStorage.getItem(e);return r?JSON.parse(r):(localStorage.setItem(e,JSON.stringify(t)),t)}catch{return t}}function Na(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.error("Failed to save to localStorage:",r)}}async function is(e,t){try{if((await fetch(`${so}/health`,{method:"GET"})).ok)return await e()}catch{}return t()}const Bp={async getStores(){return is(async()=>{const t=await(await fetch(`${so}/stores`)).json();return t.success?t.data:bm},()=>as(Xt.stores,bm))},async getStore(e){return(await this.getStores()).find(r=>r.id===e)},async getRuns(){return is(async()=>{const t=await(await fetch(`${so}/runs`)).json();return t.success?t.data.map(r=>({id:r.id,type:r.type,status:r.status==="with_exceptions"?"with_exceptions":r.status,startDate:r.start_date,endDate:r.end_date,articleCount:r.article_count,storeCount:r.store_count,progress:r.progress,userName:r.user_name})):Sm},()=>as(Xt.runs,Sm))},async getRun(e){return(await this.getRuns()).find(r=>r.id===e)},async createRun(e){const t={...e,id:`RUN-${Date.now()}`},r=await this.getRuns();return r.unshift(t),Na(Xt.runs,r),t},async updateRun(e,t){const r=await this.getRuns(),n=r.findIndex(i=>i.id===e);if(n>=0)return r[n]={...r[n],...t},Na(Xt.runs,r),r[n]},async getExceptions(){return is(async()=>{const t=await(await fetch(`${so}/exceptions`)).json();return t.success?t.data.map(r=>({...r,createdAt:r.created_at||r.createdAt})):wm},()=>as(Xt.exceptions,wm))},async updateException(e,t){const r=await this.getExceptions(),n=r.findIndex(i=>i.id===e);if(n>=0)return r[n]={...r[n],...t},Na(Xt.exceptions,r),r[n]},async getTasks(){return is(async()=>{const t=await(await fetch(`${so}/tasks`)).json();return t.success?t.data.map(r=>({id:r.id,title:r.title,description:r.description,type:r.type,status:r.status,priority:r.priority,assignedTo:r.assigned_to,dueDate:r.due_date,relatedRunId:r.related_run_id,relatedScenarioId:r.related_scenario_id})):jm},()=>as(Xt.tasks,jm))},async createTask(e){const t={...e,id:`task-${Date.now()}`},r=await this.getTasks();return r.unshift(t),Na(Xt.tasks,r),t},async updateTask(e,t){const r=await this.getTasks(),n=r.findIndex(i=>i.id===e);if(n>=0)return r[n]={...r[n],...t},Na(Xt.tasks,r),r[n]},async deleteTask(e){const t=await this.getTasks(),r=t.filter(n=>n.id!==e);return r.length<t.length?(Na(Xt.tasks,r),!0):!1},async getScenarios(){return is(async()=>{const t=await(await fetch(`${so}/scenarios`)).json();return t.success?t.data.map(r=>({id:r.id,name:r.name,description:r.description,status:r.status,allocationType:r.allocation_type,createdBy:r.created_by,parameters:r.parameters,results:r.results})):km},()=>as(Xt.scenarios,km))},async createScenario(e){const t={...e,id:`scenario-${Date.now()}`},r=await this.getScenarios();return r.unshift(t),Na(Xt.scenarios,r),t},async updateScenario(e,t){const r=await this.getScenarios(),n=r.findIndex(i=>i.id===e);if(n>=0)return r[n]={...r[n],...t},Na(Xt.scenarios,r),r[n]},async getParameters(){return is(async()=>{const t=await(await fetch(`${so}/parameters`)).json();return t.success?t.data:Cm},()=>as(Xt.parameters,Cm))},async updateParameter(e,t){const r=await this.getParameters(),n=r.findIndex(i=>i.id===e);if(n>=0)return r[n]={...r[n],value:t},Na(Xt.parameters,r),r[n]},async getKPIs(){const[e,t,r,n,i]=await Promise.all([this.getTasks(),this.getRuns(),this.getExceptions(),this.getScenarios(),this.getStores()]);return{openTasks:e.filter(o=>o.status==="pending"||o.status==="in_progress").length,activeRuns:t.filter(o=>o.status==="running"||o.status==="planned").length,openExceptions:r.filter(o=>o.status==="open"||o.status==="in_progress").length,approvedScenarios:n.filter(o=>o.status==="approved").length,totalStores:i.length,totalArticles:156}},resetToDefaults(){localStorage.setItem(Xt.stores,JSON.stringify(bm)),localStorage.setItem(Xt.runs,JSON.stringify(Sm)),localStorage.setItem(Xt.exceptions,JSON.stringify(wm)),localStorage.setItem(Xt.tasks,JSON.stringify(jm)),localStorage.setItem(Xt.scenarios,JSON.stringify(km)),localStorage.setItem(Xt.parameters,JSON.stringify(Cm))}},bB=[{id:"settings",title:"Allokationseinstellungen",description:"Konfigurieren Sie Zuweisungsregeln, Prioritten und automatische Optimierungen",icon:Mp,color:"var(--brand-primary)"},{id:"parameters",title:"Allokationsparameter",description:"Zentrale Pflege von Kapazitts-, Prsentations- und Steuerungsparametern",icon:Zb,color:"var(--status-info)"},{id:"capacity",title:"Kapazittsplanung",description:"Analysieren und optimieren Sie Raumkapazitten mit Space-Fit-Visualisierung",icon:Ip,color:"var(--status-success)"},{id:"cluster",title:"Filial-Cluster",description:"Filialen gruppieren & systemgesttzt optimieren",icon:wE,color:"#ec4899"},{id:"storeLayout",title:"Filiallayout & Warentrger",description:"Visualisieren und planen Sie Verkaufsflchen mit Warentrger-Drag & Drop",icon:jE,color:"#6366f1"},{id:"work",title:"Arbeitsvorrat",description:"Verwalten Sie Allokationsaufgaben und erstellen Sie neue Zuweisungen",icon:FS,color:"var(--brand-accent)"},{id:"runs",title:"Ausfhrungs-Runs",description:"berwachen Sie laufende und abgeschlossene Allokationsprozesse",icon:Rp,color:"var(--status-warning)"},{id:"scenarios",title:"Szenario- & Variantenmanagement",description:"Vergleichen, validieren und freigeben Sie Allokationsvarianten",icon:bE,color:"#7c3aed"},{id:"scenarioManagement",title:"Erweiterte Variantenverwaltung",description:"Policy-Parameter, Forecast-Logik, Explainability und Simulationsanalyse",icon:Zb,color:"#8b5cf6"},{id:"exceptions",title:"Exception Cockpit",description:"Behandeln Sie Ausnahmen und Konflikte in der Allokation",icon:Ft,color:"var(--status-danger)"},{id:"analytics",title:"Analytics & Reports",description:"Detaillierte Auswertungen und KPI-Dashboards",icon:Dp,color:"var(--text-secondary)"}];function e2({onNavigate:e}){const{state:t}=D4(),[r,n]=z.useState({openTasks:0,activeRuns:0,openExceptions:0});z.useEffect(()=>{(async()=>{try{const d=await Bp.getKPIs();n(d)}catch(d){console.error("Failed to load KPIs:",d);const f=t.tasks?.filter(m=>m.status==="pending"||m.status==="in_progress").length||0,v=t.runs?.filter(m=>m.status==="running"||m.status==="planned").length||0,h=t.exceptions?.filter(m=>m.status==="open"||m.status==="in_progress").length||0;n({openTasks:f,activeRuns:v,openExceptions:h})}})()},[t]);const{openTasks:i,activeRuns:o,openExceptions:l}=r;return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Willkommen im Blickpunkt Allocation Tool"}),a.jsxs("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:["Verwalten Sie Ihre Allokationsprozesse zentral und effizient",t.currentUser&&`  Angemeldet als ${t.currentUser.name}`]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:bB.map(u=>{const d=u.icon;return a.jsxs("button",{onClick:()=>e(u.id),className:"group text-left p-6 rounded-lg border transition-all",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-subtle)",borderRadius:"var(--radius-lg)"},onMouseEnter:f=>{f.currentTarget.style.boxShadow="var(--shadow-sm)",f.currentTarget.style.borderColor=u.color},onMouseLeave:f=>{f.currentTarget.style.boxShadow="none",f.currentTarget.style.borderColor="var(--border-subtle)"},children:[a.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mb-4",style:{backgroundColor:`${u.color}15`,color:u.color},children:a.jsx(d,{size:24})}),a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:u.title}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)",lineHeight:"var(--line-height-sm)"},children:u.description}),a.jsxs("div",{className:"mt-4 flex items-center gap-2",style:{color:u.color},children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"ffnen"}),a.jsx("span",{className:"transition-transform group-hover:translate-x-1",children:""})]})]},u.id)})}),a.jsxs("div",{className:"mt-8 p-6 rounded-lg border",style:{backgroundColor:"var(--surface-subtle-tint)",borderColor:"var(--border-subtle)",borderRadius:"var(--radius-lg)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Schnellzugriff"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--status-info)",color:"var(--text-inverse)"},children:a.jsx(FS,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Offene Tasks"}),a.jsx("p",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:i})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--status-success)",color:"var(--text-inverse)"},children:a.jsx(Rp,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Aktive Runs"}),a.jsx("p",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:o})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--status-danger)",color:"var(--text-inverse)"},children:a.jsx(Ft,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Exceptions"}),a.jsx("p",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:l})]})]})]})]})]})}function Nr({columns:e,data:t,density:r="comfortable",hasSelection:n=!1,onRowClick:i,sortBy:o,sortDirection:l,onSort:u,emptyMessage:d="Keine Daten verfgbar"}){const f=r==="compact"?"var(--height-table-row-compact)":"var(--height-table-row)",v=r==="compact"?"var(--height-table-header-compact)":"var(--height-table-header)";return t.length===0?a.jsx("div",{className:"flex items-center justify-center border rounded-lg p-12",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-alt)"},children:a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:d})}):a.jsx("div",{className:"border rounded-lg overflow-hidden",style:{borderColor:"var(--border-default)"},children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",style:{borderCollapse:"collapse"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{backgroundColor:"var(--surface-surface)",height:v,borderBottom:"1px solid var(--border-default)"},children:[n&&a.jsx("th",{style:{width:"48px",padding:"0 var(--space-4)"},children:a.jsx("input",{type:"checkbox"})}),e.map(h=>a.jsx("th",{style:{textAlign:h.align||"left",padding:"0 var(--space-4)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",width:h.width,whiteSpace:"nowrap"},children:h.sortable?a.jsxs("button",{onClick:()=>u?.(h.key),className:"flex items-center gap-2 hover:opacity-70",children:[h.label,o===h.key&&(l==="asc"?a.jsx(fE,{size:16}):a.jsx(_o,{size:16}))]}):h.label},h.key))]})}),a.jsx("tbody",{children:t.map((h,m)=>a.jsxs("tr",{onClick:()=>i?.(h),className:"border-t transition-colors",style:{height:f,borderColor:"var(--border-default)",cursor:i?"pointer":"default"},onMouseEnter:b=>{b.currentTarget.style.backgroundColor="var(--bg-tint)"},onMouseLeave:b=>{b.currentTarget.style.backgroundColor="transparent"},children:[n&&a.jsx("td",{style:{padding:"0 var(--space-4)"},children:a.jsx("input",{type:"checkbox"})}),e.map(b=>a.jsx("td",{style:{textAlign:b.align||"left",padding:"0 var(--space-4)",fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:b.render?b.render(h[b.key],h):h[b.key]},b.key))]},m))})]})})})}function Xb({isOpen:e,onClose:t,title:r,availableLocations:n,selectedLocations:i,onConfirm:o,multiSelect:l=!0}){const[u,d]=z.useState(""),[f,v]=z.useState(""),[h,m]=z.useState(""),[b,w]=z.useState(i),x=z.useMemo(()=>n.filter(N=>{const A=u===""||N.id.toLowerCase().includes(u.toLowerCase()),O=f===""||N.name.toLowerCase().includes(f.toLowerCase()),_=h===""||N.address.toLowerCase().includes(h.toLowerCase());return A&&O&&_}),[n,u,f,h]);if(!e)return null;const y=N=>{w(l?A=>A.some(_=>_.id===N.id)?A.filter(_=>_.id!==N.id):[...A,N]:[N])},j=N=>b.some(A=>A.id===N.id),k=()=>{o(b),t()},S=()=>{w(i),d(""),v(""),m(""),t()};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:S,children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-4xl",style:{boxShadow:"var(--shadow-lg)",maxHeight:"85vh",display:"flex",flexDirection:"column"},onClick:N=>N.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:r}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:l?"Whlen Sie eine oder mehrere Lokationen aus":"Whlen Sie eine Lokation aus"})]}),a.jsx("button",{onClick:S,className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search-id",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"ID"}),a.jsxs("div",{className:"relative",children:[a.jsx(fn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{id:"search-id",type:"text",value:u,onChange:N=>d(N.target.value),placeholder:"Suchen...",className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search-name",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(fn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{id:"search-name",type:"text",value:f,onChange:N=>v(N.target.value),placeholder:"Suchen...",className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search-address",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Adresse"}),a.jsxs("div",{className:"relative",children:[a.jsx(fn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{id:"search-address",type:"text",value:h,onChange:N=>m(N.target.value),placeholder:"Suchen...",className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]})]})]}),a.jsxs("div",{className:"mt-3",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[x.length," ",x.length===1?"Eintrag":"Eintrge"," gefunden",b.length>0&&`  ${b.length} ausgewhlt`]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{style:{position:"sticky",top:0,backgroundColor:"var(--surface-alt)",zIndex:1},children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"50px"}}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"ID"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Name"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Adresse"})]})}),a.jsxs("tbody",{children:[x.map((N,A)=>{const O=j(N);return a.jsxs("tr",{onClick:()=>y(N),className:"cursor-pointer hover:bg-surface-tint transition-colors",style:{borderBottom:A<x.length-1?"1px solid var(--border-subtle)":"none",backgroundColor:O?"var(--surface-info-subtle)":"transparent"},children:[a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded border",style:{borderColor:O?"var(--brand-primary)":"var(--border-default)",backgroundColor:O?"var(--brand-primary)":"transparent"},children:O&&a.jsx(Ka,{size:14,style:{color:"var(--text-inverse)"}})})}),a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:N.id})}),a.jsx("td",{style:{padding:"12px 16px",fontWeight:"var(--font-weight-medium)"},children:N.name}),a.jsx("td",{style:{padding:"12px 16px",color:"var(--text-secondary)"},children:N.address})]},N.id)}),x.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,style:{padding:"40px 16px",textAlign:"center",color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Keine Eintrge gefunden"})})]})]})}),a.jsxs("div",{className:"p-6 border-t flex justify-end gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:S,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)"},children:"Abbrechen"}),a.jsxs("button",{onClick:k,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:["bernehmen (",b.length,")"]})]})]})})}function SB({isOpen:e,onClose:t,distributionCenterName:r,availableLocations:n,selectedLocations:i,onConfirm:o}){const[l,u]=z.useState(i);if(!e)return null;const d=w=>{u(x=>x.includes(w)?x.filter(j=>j!==w):[...x,w])},f=w=>l.includes(w),v=()=>{o(l),t()},h=()=>{u(i),t()},m=()=>{u(n)},b=()=>{u([])};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:h,children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl",style:{boxShadow:"var(--shadow-lg)",maxHeight:"85vh",display:"flex",flexDirection:"column"},onClick:w=>w.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:"Lagerorte auswhlen"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:r})]}),a.jsx("button",{onClick:h,className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsxs("div",{className:"p-6 border-b flex items-center justify-between",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[l.length," von ",n.length," ausgewhlt"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:m,className:"px-3 py-1.5 rounded-lg border text-sm",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-xs)"},children:"Alle auswhlen"}),a.jsx("button",{onClick:b,className:"px-3 py-1.5 rounded-lg border text-sm",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-xs)"},children:"Keine auswhlen"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsx("div",{className:"grid grid-cols-2 gap-3",children:n.map(w=>{const x=f(w);return a.jsxs("button",{onClick:()=>d(w),className:"flex items-center gap-3 p-3 rounded-lg border hover:border-brand-primary transition-colors",style:{backgroundColor:x?"var(--surface-info-subtle)":"var(--surface-page)",borderColor:x?"var(--brand-primary)":"var(--border-default)",textAlign:"left"},children:[a.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded border flex-shrink-0",style:{borderColor:x?"var(--brand-primary)":"var(--border-default)",backgroundColor:x?"var(--brand-primary)":"transparent"},children:x&&a.jsx(Ka,{size:14,style:{color:"var(--text-inverse)"}})}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:x?"var(--font-weight-medium)":"var(--font-weight-regular)"},children:w})]},w)})})}),a.jsxs("div",{className:"p-6 border-t flex justify-end gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:h,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)"},children:"Abbrechen"}),a.jsxs("button",{onClick:v,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:["bernehmen (",l.length,")"]})]})]})})}function wB({isOpen:e,onClose:t,availableAllocators:r,selectedAllocators:n,onConfirm:i,multiSelect:o=!0}){const[l,u]=z.useState(""),[d,f]=z.useState(""),[v,h]=z.useState(""),[m,b]=z.useState(n),w=z.useMemo(()=>r.filter(S=>{const N=l===""||S.id.toLowerCase().includes(l.toLowerCase()),A=d===""||S.name.toLowerCase().includes(d.toLowerCase()),O=v===""||S.role.toLowerCase().includes(v.toLowerCase());return N&&A&&O}),[r,l,d,v]);if(!e)return null;const x=S=>{b(o?N=>N.some(O=>O.id===S.id)?N.filter(O=>O.id!==S.id):[...N,S]:[S])},y=S=>m.some(N=>N.id===S.id),j=()=>{i(m),t()},k=()=>{b(n),u(""),f(""),h(""),t()};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:k,children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-4xl",style:{boxShadow:"var(--shadow-lg)",maxHeight:"85vh",display:"flex",flexDirection:"column"},onClick:S=>S.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:"Allokator hinzufgen"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:o?"Whlen Sie einen oder mehrere Mitarbeiter aus":"Whlen Sie einen Mitarbeiter aus"})]}),a.jsx("button",{onClick:k,className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search-id",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"ID"}),a.jsxs("div",{className:"relative",children:[a.jsx(fn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{id:"search-id",type:"text",value:l,onChange:S=>u(S.target.value),placeholder:"Suchen...",className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search-name",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(fn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{id:"search-name",type:"text",value:d,onChange:S=>f(S.target.value),placeholder:"Suchen...",className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search-role",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Rolle"}),a.jsxs("div",{className:"relative",children:[a.jsx(fn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{id:"search-role",type:"text",value:v,onChange:S=>h(S.target.value),placeholder:"Suchen...",className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]})]})]}),a.jsxs("div",{className:"mt-3",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[w.length," ",(w.length===1,"Mitarbeiter")," gefunden",m.length>0&&`  ${m.length} ausgewhlt`]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{style:{position:"sticky",top:0,backgroundColor:"var(--surface-alt)",zIndex:1},children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"50px"}}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"ID"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Name"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Rolle"})]})}),a.jsxs("tbody",{children:[w.map((S,N)=>{const A=y(S);return a.jsxs("tr",{onClick:()=>x(S),className:"cursor-pointer hover:bg-surface-tint transition-colors",style:{borderBottom:N<w.length-1?"1px solid var(--border-subtle)":"none",backgroundColor:A?"var(--surface-info-subtle)":"transparent"},children:[a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded border",style:{borderColor:A?"var(--brand-primary)":"var(--border-default)",backgroundColor:A?"var(--brand-primary)":"transparent"},children:A&&a.jsx(Ka,{size:14,style:{color:"var(--text-inverse)"}})})}),a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:S.id})}),a.jsx("td",{style:{padding:"12px 16px",fontWeight:"var(--font-weight-medium)"},children:S.name}),a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:S.role==="Admin"?"var(--surface-error-subtle)":"var(--surface-info-subtle)",color:S.role==="Admin"?"var(--text-error)":"var(--text-info)"},children:S.role})})]},S.id)}),w.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,style:{padding:"40px 16px",textAlign:"center",color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Keine Mitarbeiter gefunden"})})]})]})}),a.jsxs("div",{className:"p-6 border-t flex justify-end gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:k,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)"},children:"Abbrechen"}),a.jsxs("button",{onClick:j,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:["bernehmen (",m.length,")"]})]})]})})}const zm=[{id:"fashion",label:"Fashion",children:[{id:"fashion-apparel",label:"Apparel",children:[{id:"fashion-apparel-tops",label:"Tops"},{id:"fashion-apparel-bottoms",label:"Bottoms"},{id:"fashion-apparel-dresses",label:"Dresses"}]},{id:"fashion-shoes",label:"Shoes",children:[{id:"fashion-shoes-sneakers",label:"Sneakers"},{id:"fashion-shoes-boots",label:"Boots"},{id:"fashion-shoes-sandals",label:"Sandals"}]},{id:"fashion-accessories",label:"Accessories",children:[{id:"fashion-accessories-bags",label:"Bags"},{id:"fashion-accessories-belts",label:"Belts"},{id:"fashion-accessories-jewelry",label:"Jewelry"}]}]},{id:"electronics",label:"Electronics",children:[{id:"electronics-computers",label:"Computers",children:[{id:"electronics-computers-laptops",label:"Laptops"},{id:"electronics-computers-desktops",label:"Desktops"},{id:"electronics-computers-tablets",label:"Tablets"}]},{id:"electronics-phones",label:"Phones",children:[{id:"electronics-phones-smartphones",label:"Smartphones"},{id:"electronics-phones-accessories",label:"Accessories"}]},{id:"electronics-audio",label:"Audio",children:[{id:"electronics-audio-headphones",label:"Headphones"},{id:"electronics-audio-speakers",label:"Speakers"}]}]},{id:"home",label:"Home & Living",children:[{id:"home-furniture",label:"Furniture",children:[{id:"home-furniture-seating",label:"Seating"},{id:"home-furniture-tables",label:"Tables"},{id:"home-furniture-storage",label:"Storage"}]},{id:"home-decor",label:"Decor",children:[{id:"home-decor-lighting",label:"Lighting"},{id:"home-decor-textiles",label:"Textiles"},{id:"home-decor-wall-art",label:"Wall Art"}]}]}];function zE({node:e,level:t=0,selectedIds:r,expandedIds:n,onToggleExpand:i,onToggleSelect:o}){const l=e.children&&e.children.length>0,u=n.has(e.id),d=r.has(e.id);return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 py-2 px-3 cursor-pointer hover:bg-surface-tint rounded transition-colors",style:{paddingLeft:`${t*24+12}px`},children:[a.jsx("div",{style:{width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:l?a.jsx("button",{onClick:f=>{f.stopPropagation(),i(e.id)},className:"p-0.5 hover:bg-surface-subtle-tint rounded",children:u?a.jsx(_o,{size:16,style:{color:"var(--text-muted)"}}):a.jsx(un,{size:16,style:{color:"var(--text-muted)"}})}):null}),a.jsx("div",{onClick:()=>o(e.id,e.label),className:"flex items-center justify-center w-5 h-5 rounded border",style:{borderColor:d?"var(--brand-primary)":"var(--border-default)",backgroundColor:d?"var(--brand-primary)":"transparent"},children:d&&a.jsx(Ka,{size:14,style:{color:"var(--text-inverse)"}})}),a.jsx("span",{onClick:()=>o(e.id,e.label),style:{fontSize:"var(--font-size-sm)",fontWeight:t===0?"var(--font-weight-semibold)":"var(--font-weight-regular)",flex:1},children:e.label})]}),l&&u&&a.jsx("div",{children:e.children.map(f=>a.jsx(zE,{node:f,level:t+1,selectedIds:r,expandedIds:n,onToggleExpand:i,onToggleSelect:o},f.id))})]})}function jB({isOpen:e,onClose:t,selectedAreas:r,onConfirm:n}){const[i,o]=z.useState(()=>{const m=new Map;return r.forEach(b=>{const w=y=>{for(const j of y){if(j.label===b)return j;if(j.children){const k=w(j.children);if(k)return k}}return null},x=w(zm);x&&m.set(x.id,x.label)}),m}),[l,u]=z.useState(new Set(["fashion","electronics","home"]));if(!e)return null;const d=m=>{u(b=>{const w=new Set(b);return w.has(m)?w.delete(m):w.add(m),w})},f=(m,b)=>{o(w=>{const x=new Map(w);return x.has(m)?x.delete(m):x.set(m,b),x})},v=()=>{const m=Array.from(i.values());n(m),t()},h=()=>{const m=new Map;r.forEach(b=>{const w=y=>{for(const j of y){if(j.label===b)return j;if(j.children){const k=w(j.children);if(k)return k}}return null},x=w(zm);x&&m.set(x.id,x.label)}),o(m),t()};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:h,children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-3xl",style:{boxShadow:"var(--shadow-lg)",maxHeight:"85vh",display:"flex",flexDirection:"column"},onClick:m=>m.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:"Verantwortungsbereich festlegen"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Whlen Sie die relevanten Artikelhierarchieebenen aus"})]}),a.jsx("button",{onClick:h,className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsx("div",{className:"px-6 py-3 border-b",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-alt)"},children:a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[i.size," ",i.size===1?"Bereich":"Bereiche"," ausgewhlt"]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:zm.map(m=>a.jsx(zE,{node:m,selectedIds:new Set(i.keys()),expandedIds:l,onToggleExpand:d,onToggleSelect:f},m.id))}),i.size>0&&a.jsxs("div",{className:"px-6 py-4 border-t",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-subtle-tint)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Ausgewhlte Bereiche:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from(i.values()).map((m,b)=>a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--text-info)",fontSize:"var(--font-size-xs)"},children:m},b))})]}),a.jsxs("div",{className:"p-6 border-t flex justify-end gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:h,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)"},children:"Abbrechen"}),a.jsxs("button",{onClick:v,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:["bernehmen (",i.size,")"]})]})]})})}const kB=[{id:"DC-001",name:"Zentrallager Zrich",address:"Industriestrasse 45, 8005 Zrich",warehouses:[]},{id:"DC-002",name:"Regionallager Basel",address:"Hafenweg 12, 4052 Basel",warehouses:[]},{id:"DC-003",name:"Logistikzentrum Bern",address:"Industrieweg 23, 3013 Bern",warehouses:[]},{id:"DC-004",name:"Verteilzentrum Luzern",address:"Obergrundstrasse 88, 6005 Luzern",warehouses:[]},{id:"DC-005",name:"Zentrallager St. Gallen",address:"Industriestrasse 14, 9014 St. Gallen",warehouses:[]},{id:"DC-006",name:"Regionallager Genf",address:"Route de la Chapelle 12, 1212 Genf",warehouses:[]}],CB=[{id:"FL-001",name:"Zrich HB",address:"Bahnhofplatz 1, 8001 Zrich",cluster:"Urban Premium",isReference:!1},{id:"FL-002",name:"Bern Zentrum",address:"Spitalgasse 4, 3011 Bern",cluster:"Urban Premium",isReference:!1},{id:"FL-003",name:"Basel SBB",address:"Centralbahnplatz 1, 4051 Basel",cluster:"Urban Premium",isReference:!1},{id:"FL-004",name:"Genf Cornavin",address:"Place de Cornavin 7, 1201 Genf",cluster:"Urban Premium",isReference:!1},{id:"FL-005",name:"Lausanne Centre",address:"Rue du Pont 5, 1003 Lausanne",cluster:"Urban Standard",isReference:!1},{id:"FL-006",name:"Luzern Bahnhof",address:"Bahnhofstrasse 3, 6003 Luzern",cluster:"Urban Standard",isReference:!1},{id:"FL-007",name:"St. Gallen Marktplatz",address:"Marktgasse 12, 9004 St. Gallen",cluster:"Urban Standard",isReference:!1},{id:"FL-008",name:"Winterthur Stadtgarten",address:"Stadthausstrasse 8, 8400 Winterthur",cluster:"Regional",isReference:!1},{id:"FL-009",name:"Lugano Centro",address:"Via Nassa 15, 6900 Lugano",cluster:"Regional",isReference:!1},{id:"FL-010",name:"Thun Blliz",address:"Blliz 45, 3600 Thun",cluster:"Regional",isReference:!1}],zB=["Lager A","Lager B","Lager C","Lager D","Lager E","Lager 1","Lager 2","Lager 3","Hochregallager Nord","Hochregallager Sd","Kommissionierzone 1","Kommissionierzone 2","Khlhaus","Freilager"],AB=[{id:"DC-001",name:"Zentrallager Zrich",address:"Industriestrasse 45, 8005 Zrich",warehouses:["Lager A","Lager B","Lager C"]},{id:"DC-002",name:"Regionallager Basel",address:"Hafenweg 12, 4052 Basel",warehouses:["Lager 1","Lager 2"]}],NB=[{id:"FL-001",name:"Zrich HB",address:"Bahnhofplatz 1, 8001 Zrich",cluster:"Urban Premium",isReference:!0},{id:"FL-002",name:"Bern Zentrum",address:"Spitalgasse 4, 3011 Bern",cluster:"Urban Premium",isReference:!1},{id:"FL-003",name:"Basel Marktplatz",address:"Marktplatz 10, 4001 Basel",cluster:"Urban Standard",isReference:!1}],PB=[{id:"USR-001",name:"Maria Mller",role:"Allocator",responsibilityArea:""},{id:"USR-002",name:"Andreas Schmidt",role:"Admin",responsibilityArea:""},{id:"USR-003",name:"Julia Weber",role:"Allocator",responsibilityArea:""},{id:"USR-004",name:"Thomas Fischer",role:"Allocator",responsibilityArea:""},{id:"USR-005",name:"Sarah Meier",role:"Allocator",responsibilityArea:""},{id:"USR-006",name:"Michael Huber",role:"Manager",responsibilityArea:""},{id:"USR-007",name:"Laura Zimmermann",role:"Planner",responsibilityArea:""},{id:"USR-008",name:"David Keller",role:"Allocator",responsibilityArea:""},{id:"USR-009",name:"Anna Brunner",role:"Allocator",responsibilityArea:""},{id:"USR-010",name:"Stefan Wyss",role:"Admin",responsibilityArea:""}],_B=[{id:"USR-001",name:"Maria Mller",role:"Allocator",responsibilityArea:"Shoes, Apparel"},{id:"USR-002",name:"Andreas Schmidt",role:"Admin",responsibilityArea:"Alle Bereiche"},{id:"USR-003",name:"Julia Weber",role:"Allocator",responsibilityArea:"Electronics, Accessories"}];function OB({onNavigate:e}){const[t,r]=z.useState("locations"),[n,i]=z.useState("initial"),[o,l]=z.useState(!1),[u,d]=z.useState(!1),[f,v]=z.useState(!1),[h,m]=z.useState(NB),[b,w]=z.useState(AB),[x,y]=z.useState(_B),[j,k]=z.useState(!1),[S,N]=z.useState(!1),[A,O]=z.useState(!1),[_,T]=z.useState(null),[E,D]=z.useState(!1),[I,L]=z.useState(!1),[M,V]=z.useState(null),[H,q]=z.useState(null),[X,W]=z.useState({id:"",name:"",address:"",warehouses:[]}),[F,Y]=z.useState(!1),[$,B]=z.useState(null),[re,le]=z.useState({id:"",name:"",role:"Allocator",responsibilityArea:""}),[pe,se]=z.useState([]),[ne,ye]=z.useState({initial:{active:!0,recipientDetermination:"Plandaten",deliveryDateDetermination:"Lieferplan",availabilityDetermination:"VZ-Bestand",reductionStrategy:"Proportional",allocationAlgorithm:"Kapazittsgesteuerte Allokation"},replenishment:{active:!0,recipientDetermination:"Listung",deliveryDateDetermination:"Planlieferzeit",availabilityDetermination:"Bestellung",reductionStrategy:"Sollbestand fr Top-Performer",allocationAlgorithm:"Prognosegesteuerter Nachschub mit Kapazittsanpassung"},manual:{active:!1,recipientDetermination:"Manuelle Selektion",deliveryDateDetermination:"Lieferplan",availabilityDetermination:"Extern",reductionStrategy:"Prsentationsbestand fr alle",allocationAlgorithm:"Sollbestandsgesteuerte Allokation"}}),[ie,ve]=z.useState({capacityPlanningEnabled:!0,hierarchyLevel:"Produktgruppe",quantityUnit:"Stck"}),[we,ce]=z.useState(ne),[Ie,Me]=z.useState(ie),[tt,rt]=z.useState(h),Ye=()=>{ce(ne),Me(ie),rt(h),v(!1),alert("Allokationseinstellungen gespeichert")},Ut=()=>{ye(we),ve(Ie),m(tt),v(!1)},ct=()=>{k(!0)},it=J=>{w(de=>[...de,...J]),v(!0)},Ht=J=>{q(J),W({...J}),l(!0)},nr=()=>{w(H?J=>J.map(de=>de.id===H.id?X:de):J=>[...J,X]),v(!0),l(!1),q(null)},Ge=()=>{l(!1),q(null),W({id:"",name:"",address:"",warehouses:[]})},qe=()=>{N(!0)},ht=J=>{m(de=>[...de,...J]),v(!0)},ut=J=>{T(J),O(!0)},nt=J=>{_&&(w(de=>de.map(U=>U.id===_.id?{...U,warehouses:J}:U)),v(!0))},gr=()=>{D(!0)},vn=J=>{y(de=>[...de,...J]),v(!0)},Sr=J=>{if(M){const de={...M,responsibilityArea:J.join(", ")};y(U=>U.map(he=>he.id===M.id?de:he)),v(!0),V(null)}},Wr=J=>{B(J),le({...J}),se(J.responsibilityArea.split(", ")),Y(!0)},mn=()=>{const J={...re,responsibilityArea:pe.join(", ")};y($?de=>de.map(U=>U.id===$.id?J:U):de=>[...de,J]),v(!0),Y(!1),B(null)},Or=()=>{Y(!1),B(null),le({id:"",name:"",role:"Allocator",responsibilityArea:""}),se([])},Yr=J=>{se(de=>de.includes(J)?de.filter(U=>U!==J):[...de,J])},Wi=[{key:"id",label:"ID",render:J=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:J}),a.jsx("button",{className:"p-1 rounded hover:bg-surface-tint",children:a.jsx(jf,{size:14,style:{color:"var(--text-muted)"}})})]})},{key:"name",label:"Name",sortable:!0},{key:"address",label:"Adresse",render:J=>a.jsx("div",{style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:J})},{key:"warehouses",label:"Lagerorte",render:(J,de)=>a.jsx("button",{onClick:U=>{U.stopPropagation(),ut(de)},className:"flex items-center gap-1 flex-wrap hover:bg-surface-tint p-2 rounded transition-colors w-full text-left",children:J.length===0?a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Klicken zum Auswhlen..."}):a.jsxs(a.Fragment,{children:[J.slice(0,3).map((U,he)=>a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:U},he)),J.length>3&&a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:["+",J.length-3]})]})})},{key:"actions",label:"Aktionen",align:"right",render:(J,de)=>a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{className:"p-1.5 rounded hover:bg-surface-tint",onClick:U=>{U.stopPropagation(),Ht(de)},children:a.jsx(yo,{size:16,style:{color:"var(--text-secondary)"}})}),a.jsx("button",{className:"p-1.5 rounded hover:bg-surface-tint",onClick:U=>U.stopPropagation(),children:a.jsx(Cs,{size:16,style:{color:"var(--status-danger)"}})})]})}],ga=[{key:"id",label:"ID",render:J=>a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:J})},{key:"name",label:"Name",sortable:!0},{key:"address",label:"Adresse"},{key:"cluster",label:"Clusterzuordnung",render:(J,de)=>a.jsxs("select",{value:J,onChange:U=>{m(he=>he.map(je=>je.id===de.id?{...je,cluster:U.target.value}:je)),v(!0)},className:"px-2 py-1 border rounded",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"},onClick:U=>U.stopPropagation(),children:[a.jsx("option",{children:"Urban Premium"}),a.jsx("option",{children:"Urban Standard"}),a.jsx("option",{children:"Regional"})]})},{key:"isReference",label:"Referenzkennzeichen",render:(J,de)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{value:J?"ja":"nein",onChange:U=>{m(he=>he.map(je=>je.id===de.id?{...je,isReference:U.target.value==="ja"}:je)),v(!0)},className:"px-2 py-1 border rounded",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"},onClick:U=>U.stopPropagation(),children:[a.jsx("option",{value:"nein",children:"Nein"}),a.jsx("option",{value:"ja",children:"Ja"})]}),a.jsxs("button",{className:"p-1 group relative",children:[a.jsx(Qt,{size:14,style:{color:"var(--text-muted)"}}),a.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 rounded shadow-lg opacity-0 pointer-events-none group-hover:opacity-100 transition-opacity whitespace-nowrap",style:{backgroundColor:"var(--text-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",boxShadow:"var(--shadow-md)",zIndex:10},children:"Diese Filiale dient als Referenz fr Preise und andere abgeleitete Werte."})]})]})},{key:"actions",label:"Aktionen",align:"right",render:()=>a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{className:"p-1.5 rounded hover:bg-surface-tint",onClick:J=>J.stopPropagation(),children:a.jsx(yo,{size:16,style:{color:"var(--text-secondary)"}})}),a.jsx("button",{className:"p-1.5 rounded hover:bg-surface-tint",onClick:J=>J.stopPropagation(),children:a.jsx(Cs,{size:16,style:{color:"var(--status-danger)"}})})]})}],ee=[{key:"id",label:"ID"},{key:"name",label:"Name",sortable:!0},{key:"role",label:"Rolle",render:J=>a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:J==="Admin"?"var(--status-info)":"var(--status-success)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:J})},{key:"responsibilityArea",label:"Verantwortungsbereich",render:(J,de)=>a.jsx("button",{onClick:U=>{U.stopPropagation(),V(de),L(!0)},className:"flex items-center gap-1 flex-wrap hover:bg-surface-tint p-2 rounded transition-colors w-full text-left",children:!J||J===""?a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Klicken zum Festlegen..."}):a.jsxs(a.Fragment,{children:[J.split(", ").slice(0,3).map((U,he)=>a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-info-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-info)"},children:U},he)),J.split(", ").length>3&&a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:["+",J.split(", ").length-3]})]})})},{key:"actions",label:"Aktionen",align:"right",render:(J,de)=>a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{className:"p-1.5 rounded hover:bg-surface-tint",onClick:U=>{U.stopPropagation(),Wr(de)},children:a.jsx(yo,{size:16,style:{color:"var(--text-secondary)"}})}),a.jsx("button",{className:"p-1.5 rounded hover:bg-surface-tint",onClick:U=>{U.stopPropagation(),y(he=>he.filter(je=>je.id!==de.id)),v(!0)},children:a.jsx(Cs,{size:16,style:{color:"var(--status-danger)"}})})]})}],ke=[{id:"initial",name:"Initiale Allokation"},{id:"replenishment",name:"Nachschub"},{id:"manual",name:"Manuelle Allokation"}],ue=ne[n];return a.jsxs("div",{className:"pb-20",children:[a.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Allokationseinstellungen"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Verwalten Sie Lokationen, Verantwortlichkeiten und Allokationslogiken"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>e("parameters"),className:"flex items-center gap-2 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",height:"var(--height-button-md)"},children:["Allokationsparameter",a.jsx(un,{size:18})]}),a.jsxs("button",{onClick:()=>e("capacity"),className:"flex items-center gap-2 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",height:"var(--height-button-md)"},children:["Weiter zu Kapazitt",a.jsx(un,{size:18})]})]})]}),a.jsx("div",{className:"mb-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("div",{className:"flex gap-1",children:[{id:"locations",label:"Lokationen"},{id:"responsibilities",label:"Verantwortlichkeiten"},{id:"allocation",label:"Allokationseinstellungen"}].map(J=>a.jsxs("button",{onClick:()=>r(J.id),className:"px-6 py-3 relative transition-all",style:{backgroundColor:t===J.id?"var(--brand-primary)":"transparent",color:t===J.id?"var(--text-inverse)":"var(--text-muted)",fontWeight:t===J.id?"var(--font-weight-medium)":"var(--font-weight-regular)",fontSize:"var(--font-size-sm)",borderRadius:t===J.id?"8px 8px 0 0":"0"},onMouseEnter:de=>{t!==J.id&&(de.currentTarget.style.backgroundColor="var(--surface-subtle-tint)")},onMouseLeave:de=>{t!==J.id&&(de.currentTarget.style.backgroundColor="transparent")},children:[J.label,t===J.id&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1",style:{backgroundColor:"var(--brand-accent)"}})]},J.id))})}),t==="locations"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Verteilzentren"}),a.jsxs("button",{onClick:ct,className:"flex items-center gap-2 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:[a.jsx(ji,{size:18}),"Neues Verteilzentrum"]})]}),a.jsx(Nr,{columns:Wi,data:b,density:"comfortable"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Filialen"}),a.jsxs("button",{onClick:qe,className:"flex items-center gap-2 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:[a.jsx(ji,{size:18}),"Neue Filiale"]})]}),a.jsx(Nr,{columns:ga,data:h,density:"comfortable"})]})]}),t==="responsibilities"&&a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Verantwortlichkeiten"}),a.jsxs("button",{onClick:gr,className:"flex items-center gap-2 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:[a.jsx(ji,{size:18}),"Allokator hinzufgen"]})]}),a.jsx(Nr,{columns:ee,data:x,density:"comfortable"})]}),t==="allocation"&&a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsx("div",{className:"col-span-3",children:a.jsx("div",{className:"space-y-1",children:ke.map(J=>a.jsx("button",{onClick:()=>i(J.id),className:"w-full text-left px-4 py-3 rounded-lg transition-all relative",style:{backgroundColor:n===J.id?"var(--surface-subtle-tint)":"transparent",fontWeight:n===J.id?"var(--font-weight-semibold)":"var(--font-weight-regular)",fontSize:"var(--font-size-sm)",borderLeft:n===J.id?"4px solid var(--brand-accent)":"4px solid transparent",marginLeft:"-4px",paddingLeft:"calc(var(--space-4) + 4px)"},onMouseEnter:de=>{n!==J.id&&(de.currentTarget.style.backgroundColor="var(--surface-subtle-tint)")},onMouseLeave:de=>{n!==J.id&&(de.currentTarget.style.backgroundColor="transparent")},children:J.name},J.id))})}),a.jsx("div",{className:"col-span-9",children:a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)"},children:[a.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:ke.find(J=>J.id===n)?.name}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:["Szenario ",ue.active?"aktiv":"inaktiv"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:ue.active,onChange:J=>{ye(de=>({...de,[n]:{...de[n],active:J.target.checked}})),v(!0)},className:"sr-only"}),a.jsx("div",{className:"w-11 h-6 rounded-full transition-colors",style:{backgroundColor:ue.active?"var(--brand-primary)":"var(--border-input)"},children:a.jsx("div",{className:"w-5 h-5 bg-white rounded-full shadow transition-transform",style:{transform:ue.active?"translateX(22px) translateY(2px)":"translateX(2px) translateY(2px)"}})})]})]})]}),a.jsxs("div",{className:"space-y-5",style:{opacity:ue.active?1:.5},children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Empfngerermittlung"}),a.jsxs("select",{value:ue.recipientDetermination,disabled:!ue.active,onChange:J=>{ye(de=>({...de,[n]:{...de[n],recipientDetermination:J.target.value}})),v(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Plandaten"}),a.jsx("option",{children:"Manuelle Selektion"}),a.jsx("option",{children:"Listung"}),a.jsx("option",{children:"Transportbeziehungen"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Lieferterminermittlung"}),a.jsxs("select",{value:ue.deliveryDateDetermination,disabled:!ue.active,onChange:J=>{ye(de=>({...de,[n]:{...de[n],deliveryDateDetermination:J.target.value}})),v(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Lieferplan"}),a.jsx("option",{children:"Planlieferzeit"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Verfgbarkeitsermittlung"}),a.jsxs("select",{value:ue.availabilityDetermination,disabled:!ue.active,onChange:J=>{ye(de=>({...de,[n]:{...de[n],availabilityDetermination:J.target.value}})),v(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Extern"}),a.jsx("option",{children:"VZ-Bestand"}),a.jsx("option",{children:"Bestellung"}),a.jsx("option",{children:"Lieferung"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Krzungsstrategie"}),a.jsxs("select",{value:ue.reductionStrategy,disabled:!ue.active,onChange:J=>{ye(de=>({...de,[n]:{...de[n],reductionStrategy:J.target.value}})),v(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Proportional"}),a.jsx("option",{children:"Sollbestand fr Top-Performer"}),a.jsx("option",{children:"Prsentationsbestand fr alle"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Allokationsalgorithmus"}),a.jsxs("select",{value:ue.allocationAlgorithm,disabled:!ue.active,onChange:J=>{ye(de=>({...de,[n]:{...de[n],allocationAlgorithm:J.target.value}})),v(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Kapazittsgesteuerte Allokation"}),a.jsx("option",{children:"Sollbestandsgesteuerte Allokation"}),a.jsx("option",{children:"KPI-basierte Allokation"}),a.jsx("option",{children:"Prognosegesteuerter Nachschub mit Kapazittsanpassung"})]}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"var(--space-1)"},children:"Der Algorithmus bestimmt die Berechnungslogik der Verteilung."})]})]}),a.jsx("div",{className:"my-6",style:{height:"1px",backgroundColor:"var(--border-default)"}}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-5)"},children:"Globale Allokationseinstellungen"}),a.jsxs("div",{className:"space-y-5",children:[a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Kapazittsplanung"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:ie.capacityPlanningEnabled,onChange:J=>{ve(de=>({...de,capacityPlanningEnabled:J.target.checked})),v(!0)},className:"sr-only"}),a.jsx("div",{className:"w-11 h-6 rounded-full transition-colors",style:{backgroundColor:ie.capacityPlanningEnabled?"var(--brand-primary)":"var(--border-input)"},children:a.jsx("div",{className:"w-5 h-5 bg-white rounded-full shadow transition-transform",style:{transform:ie.capacityPlanningEnabled?"translateX(22px) translateY(2px)":"translateX(2px) translateY(2px)"}})})]})]})}),a.jsxs("div",{style:{opacity:ie.capacityPlanningEnabled?1:.5},children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Artikelhierarchieebene fr Kapazittsplanung"}),a.jsxs("select",{value:ie.hierarchyLevel,disabled:!ie.capacityPlanningEnabled,onChange:J=>{ve(de=>({...de,hierarchyLevel:J.target.value})),v(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Unternehmen"}),a.jsx("option",{children:"Einkaufsbereich"}),a.jsx("option",{children:"Produktgruppe"}),a.jsx("option",{children:"Produkt"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Mengeneinheit"}),a.jsxs("select",{value:ie.quantityUnit,onChange:J=>{ve(de=>({...de,quantityUnit:J.target.value})),v(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Stck"}),a.jsx("option",{children:"Karton"}),a.jsx("option",{children:"Palette"})]})]})]})]})]})})]}),a.jsxs("div",{className:"fixed bottom-0 left-0 right-0 flex items-center justify-end gap-3 px-6 border-t",style:{height:"64px",backgroundColor:"var(--surface-page)",borderColor:"var(--border-subtle)",marginLeft:"var(--sidenav-width-desktop)",zIndex:10},children:[a.jsx("button",{disabled:!f,onClick:Ut,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)",opacity:f?1:.5,cursor:f?"pointer":"not-allowed"},children:"nderungen verwerfen"}),a.jsx("button",{disabled:!f,onClick:Ye,className:"px-4 py-2 rounded-lg",style:{backgroundColor:f?"var(--button-primary-bg)":"var(--border-default)",color:"var(--button-primary-text)",height:"var(--height-button-md)",cursor:f?"pointer":"not-allowed"},children:"Speichern"})]}),o&&a.jsxs("div",{className:"fixed inset-0 z-50 flex",onClick:()=>l(!1),children:[a.jsx("div",{className:"flex-1",style:{backgroundColor:"var(--bg-overlay)"}}),a.jsxs("div",{className:"bg-white shadow-lg overflow-y-auto",style:{width:"var(--drawer-width)",boxShadow:"var(--shadow-lg)"},onClick:J=>J.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b sticky top-0 bg-white",style:{borderColor:"var(--border-default)"},children:a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Verteilzentrum bearbeiten"})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block",color:"var(--text-muted)"},children:"ID (nur lesbar)"}),a.jsx("input",{type:"text",value:X.id,readOnly:!0,className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-alt)",color:"var(--text-muted)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Name"}),a.jsx("input",{type:"text",value:X.name,onChange:J=>W(de=>({...de,name:J.target.value})),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Adresse"}),a.jsx("textarea",{value:X.address,onChange:J=>W(de=>({...de,address:J.target.value})),rows:3,className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",resize:"vertical"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Lagerorte"}),a.jsxs("select",{multiple:!0,value:X.warehouses,onChange:J=>{const de=Array.from(J.target.selectedOptions,U=>U.value);W(U=>({...U,warehouses:de}))},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",minHeight:"120px"},children:[a.jsx("option",{value:"Lager A",children:"Lager A"}),a.jsx("option",{value:"Lager B",children:"Lager B"}),a.jsx("option",{value:"Lager C",children:"Lager C"}),a.jsx("option",{value:"Lager D",children:"Lager D"}),a.jsx("option",{value:"Lager E",children:"Lager E"}),a.jsx("option",{value:"Lager 1",children:"Lager 1"}),a.jsx("option",{value:"Lager 2",children:"Lager 2"}),a.jsx("option",{value:"Lager 3",children:"Lager 3"})]})]})]}),a.jsxs("div",{className:"p-6 border-t sticky bottom-0 bg-white flex gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:Ge,className:"flex-1 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsx("button",{onClick:nr,className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:"Speichern"})]})]})]}),u&&a.jsxs("div",{className:"fixed inset-0 z-50 flex",onClick:()=>d(!1),children:[a.jsx("div",{className:"flex-1",style:{backgroundColor:"var(--bg-overlay)"}}),a.jsxs("div",{className:"bg-white shadow-lg overflow-y-auto",style:{width:"var(--drawer-width)",boxShadow:"var(--shadow-lg)"},onClick:J=>J.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b sticky top-0 bg-white",style:{borderColor:"var(--border-default)"},children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Verantwortungsbereich definieren"}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[a.jsxs("span",{className:"px-3 py-1 rounded-full flex items-center gap-2",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)"},children:["Shoes",a.jsx("button",{className:"hover:opacity-70",children:""})]}),a.jsxs("span",{className:"px-3 py-1 rounded-full flex items-center gap-2",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)"},children:["Apparel",a.jsx("button",{className:"hover:opacity-70",children:""})]})]})]}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Unternehmen"})]}),a.jsxs("div",{className:"ml-6 mt-2 space-y-2",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Fashion"})]}),a.jsxs("div",{className:"ml-6 mt-2 space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",defaultChecked:!0}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Shoes"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",defaultChecked:!0}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Apparel"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Accessories"})]})]})]}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Electronics"})]})})]})]})})}),a.jsxs("div",{className:"p-6 border-t sticky bottom-0 bg-white flex gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:"bernehmen"})]})]})]}),F&&a.jsxs("div",{className:"fixed inset-0 z-50 flex",onClick:Or,children:[a.jsx("div",{className:"flex-1",style:{backgroundColor:"var(--bg-overlay)"}}),a.jsxs("div",{className:"bg-white shadow-lg overflow-y-auto",style:{width:"var(--drawer-width)",boxShadow:"var(--shadow-lg)"},onClick:J=>J.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b sticky top-0 bg-white",style:{borderColor:"var(--border-default)"},children:a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:$?"Allokator bearbeiten":"Allokator hinzufgen"})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"ID"}),a.jsx("input",{type:"text",value:re.id,onChange:J=>le(de=>({...de,id:J.target.value})),placeholder:"z.B. USR-004",className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Name"}),a.jsx("input",{type:"text",value:re.name,onChange:J=>le(de=>({...de,name:J.target.value})),placeholder:"z.B. Max Mustermann",className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Rolle"}),a.jsxs("select",{value:re.role,onChange:J=>le(de=>({...de,role:J.target.value})),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"Allocator",children:"Allocator"}),a.jsx("option",{value:"Admin",children:"Admin"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Verantwortungsbereich"}),pe.length>0&&a.jsx("div",{className:"mb-3 flex flex-wrap gap-2",children:pe.map((J,de)=>a.jsxs("span",{className:"px-3 py-1 rounded-full flex items-center gap-2",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)"},children:[J,a.jsx("button",{onClick:()=>Yr(J),className:"hover:opacity-70",children:""})]},de))}),a.jsxs("div",{className:"space-y-2 p-3 border rounded-lg",style:{borderColor:"var(--border-default)"},children:[a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:pe.includes("Alle Bereiche"),onChange:()=>Yr("Alle Bereiche")}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Alle Bereiche"})]})}),a.jsxs("div",{className:"ml-6 space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:pe.includes("Shoes"),onChange:()=>Yr("Shoes")}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Shoes"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:pe.includes("Apparel"),onChange:()=>Yr("Apparel")}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Apparel"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:pe.includes("Accessories"),onChange:()=>Yr("Accessories")}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Accessories"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:pe.includes("Electronics"),onChange:()=>Yr("Electronics")}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Electronics"})]})]})]})]})]}),a.jsxs("div",{className:"p-6 border-t sticky bottom-0 bg-white flex gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:Or,className:"flex-1 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsx("button",{onClick:mn,className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:"Speichern"})]})]})]}),a.jsx(Xb,{isOpen:j,onClose:()=>k(!1),title:"Verteilzentrum auswhlen",availableLocations:kB.filter(J=>!b.some(de=>de.id===J.id)),selectedLocations:[],onConfirm:it,multiSelect:!0}),a.jsx(Xb,{isOpen:S,onClose:()=>N(!1),title:"Filiale auswhlen",availableLocations:CB.filter(J=>!h.some(de=>de.id===J.id)),selectedLocations:[],onConfirm:ht,multiSelect:!0}),a.jsx(SB,{isOpen:A,onClose:()=>{O(!1),T(null)},distributionCenterName:_?.name||"",availableLocations:zB,selectedLocations:_?.warehouses||[],onConfirm:nt}),a.jsx(wB,{isOpen:E,onClose:()=>D(!1),availableAllocators:PB.filter(J=>!x.some(de=>de.id===J.id)),selectedAllocators:[],onConfirm:vn,multiSelect:!0}),a.jsx(jB,{isOpen:I,onClose:()=>{L(!1),V(null)},selectedAreas:M?.responsibilityArea?M.responsibilityArea.split(", ").filter(J=>J!==""):[],onConfirm:Sr})]})}function AE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=AE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function He(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=AE(e))&&(n&&(n+=" "),n+=t);return n}var Am,t2;function Xr(){if(t2)return Am;t2=1;var e=Array.isArray;return Am=e,Am}var Nm,r2;function NE(){if(r2)return Nm;r2=1;var e=typeof Fd=="object"&&Fd&&Fd.Object===Object&&Fd;return Nm=e,Nm}var Pm,n2;function pa(){if(n2)return Pm;n2=1;var e=NE(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Pm=r,Pm}var _m,a2;function wu(){if(a2)return _m;a2=1;var e=pa(),t=e.Symbol;return _m=t,_m}var Om,i2;function EB(){if(i2)return Om;i2=1;var e=wu(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function o(l){var u=r.call(l,i),d=l[i];try{l[i]=void 0;var f=!0}catch{}var v=n.call(l);return f&&(u?l[i]=d:delete l[i]),v}return Om=o,Om}var Em,o2;function TB(){if(o2)return Em;o2=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Em=r,Em}var Tm,s2;function Ga(){if(s2)return Tm;s2=1;var e=wu(),t=EB(),r=TB(),n="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?i:n:o&&o in Object(u)?t(u):r(u)}return Tm=l,Tm}var Dm,l2;function Va(){if(l2)return Dm;l2=1;function e(t){return t!=null&&typeof t=="object"}return Dm=e,Dm}var Rm,c2;function ul(){if(c2)return Rm;c2=1;var e=Ga(),t=Va(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return Rm=n,Rm}var Im,u2;function HS(){if(u2)return Im;u2=1;var e=Xr(),t=ul(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,l){if(e(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||t(o)?!0:n.test(o)||!r.test(o)||l!=null&&o in Object(l)}return Im=i,Im}var Mm,d2;function Di(){if(d2)return Mm;d2=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Mm=e,Mm}var Lm,f2;function KS(){if(f2)return Lm;f2=1;var e=Ga(),t=Di(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function l(u){if(!t(u))return!1;var d=e(u);return d==n||d==i||d==r||d==o}return Lm=l,Lm}var Bm,p2;function DB(){if(p2)return Bm;p2=1;var e=pa(),t=e["__core-js_shared__"];return Bm=t,Bm}var Fm,h2;function RB(){if(h2)return Fm;h2=1;var e=DB(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return Fm=r,Fm}var Wm,v2;function PE(){if(v2)return Wm;v2=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Wm=r,Wm}var $m,m2;function IB(){if(m2)return $m;m2=1;var e=KS(),t=RB(),r=Di(),n=PE(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,f=u.hasOwnProperty,v=RegExp("^"+d.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!r(m)||t(m))return!1;var b=e(m)?v:o;return b.test(n(m))}return $m=h,$m}var Um,g2;function MB(){if(g2)return Um;g2=1;function e(t,r){return t?.[r]}return Um=e,Um}var Hm,y2;function Oo(){if(y2)return Hm;y2=1;var e=IB(),t=MB();function r(n,i){var o=t(n,i);return e(o)?o:void 0}return Hm=r,Hm}var Km,x2;function Fp(){if(x2)return Km;x2=1;var e=Oo(),t=e(Object,"create");return Km=t,Km}var Gm,b2;function LB(){if(b2)return Gm;b2=1;var e=Fp();function t(){this.__data__=e?e(null):{},this.size=0}return Gm=t,Gm}var Vm,S2;function BB(){if(S2)return Vm;S2=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Vm=e,Vm}var qm,w2;function FB(){if(w2)return qm;w2=1;var e=Fp(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var l=this.__data__;if(e){var u=l[o];return u===t?void 0:u}return n.call(l,o)?l[o]:void 0}return qm=i,qm}var Zm,j2;function WB(){if(j2)return Zm;j2=1;var e=Fp(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var o=this.__data__;return e?o[i]!==void 0:r.call(o,i)}return Zm=n,Zm}var Xm,k2;function $B(){if(k2)return Xm;k2=1;var e=Fp(),t="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=e&&i===void 0?t:i,this}return Xm=r,Xm}var Ym,C2;function UB(){if(C2)return Ym;C2=1;var e=LB(),t=BB(),r=FB(),n=WB(),i=$B();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,Ym=o,Ym}var Qm,z2;function HB(){if(z2)return Qm;z2=1;function e(){this.__data__=[],this.size=0}return Qm=e,Qm}var Jm,A2;function GS(){if(A2)return Jm;A2=1;function e(t,r){return t===r||t!==t&&r!==r}return Jm=e,Jm}var eg,N2;function Wp(){if(N2)return eg;N2=1;var e=GS();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return eg=t,eg}var tg,P2;function KB(){if(P2)return tg;P2=1;var e=Wp(),t=Array.prototype,r=t.splice;function n(i){var o=this.__data__,l=e(o,i);if(l<0)return!1;var u=o.length-1;return l==u?o.pop():r.call(o,l,1),--this.size,!0}return tg=n,tg}var rg,_2;function GB(){if(_2)return rg;_2=1;var e=Wp();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return rg=t,rg}var ng,O2;function VB(){if(O2)return ng;O2=1;var e=Wp();function t(r){return e(this.__data__,r)>-1}return ng=t,ng}var ag,E2;function qB(){if(E2)return ag;E2=1;var e=Wp();function t(r,n){var i=this.__data__,o=e(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return ag=t,ag}var ig,T2;function $p(){if(T2)return ig;T2=1;var e=HB(),t=KB(),r=GB(),n=VB(),i=qB();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,ig=o,ig}var og,D2;function VS(){if(D2)return og;D2=1;var e=Oo(),t=pa(),r=e(t,"Map");return og=r,og}var sg,R2;function ZB(){if(R2)return sg;R2=1;var e=UB(),t=$p(),r=VS();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return sg=n,sg}var lg,I2;function XB(){if(I2)return lg;I2=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return lg=e,lg}var cg,M2;function Up(){if(M2)return cg;M2=1;var e=XB();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return cg=t,cg}var ug,L2;function YB(){if(L2)return ug;L2=1;var e=Up();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return ug=t,ug}var dg,B2;function QB(){if(B2)return dg;B2=1;var e=Up();function t(r){return e(this,r).get(r)}return dg=t,dg}var fg,F2;function JB(){if(F2)return fg;F2=1;var e=Up();function t(r){return e(this,r).has(r)}return fg=t,fg}var pg,W2;function eF(){if(W2)return pg;W2=1;var e=Up();function t(r,n){var i=e(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return pg=t,pg}var hg,$2;function qS(){if($2)return hg;$2=1;var e=ZB(),t=YB(),r=QB(),n=JB(),i=eF();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,hg=o,hg}var vg,U2;function _E(){if(U2)return vg;U2=1;var e=qS(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var l=arguments,u=i?i.apply(this,l):l[0],d=o.cache;if(d.has(u))return d.get(u);var f=n.apply(this,l);return o.cache=d.set(u,f)||d,f};return o.cache=new(r.Cache||e),o}return r.Cache=e,vg=r,vg}var mg,H2;function tF(){if(H2)return mg;H2=1;var e=_E(),t=500;function r(n){var i=e(n,function(l){return o.size===t&&o.clear(),l}),o=i.cache;return i}return mg=r,mg}var gg,K2;function rF(){if(K2)return gg;K2=1;var e=tF(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(l,u,d,f){o.push(d?f.replace(r,"$1"):u||l)}),o});return gg=n,gg}var yg,G2;function ZS(){if(G2)return yg;G2=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,o=Array(i);++n<i;)o[n]=r(t[n],n,t);return o}return yg=e,yg}var xg,V2;function nF(){if(V2)return xg;V2=1;var e=wu(),t=ZS(),r=Xr(),n=ul(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function l(u){if(typeof u=="string")return u;if(r(u))return t(u,l)+"";if(n(u))return o?o.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return xg=l,xg}var bg,q2;function OE(){if(q2)return bg;q2=1;var e=nF();function t(r){return r==null?"":e(r)}return bg=t,bg}var Sg,Z2;function EE(){if(Z2)return Sg;Z2=1;var e=Xr(),t=HS(),r=rF(),n=OE();function i(o,l){return e(o)?o:t(o,l)?[o]:r(n(o))}return Sg=i,Sg}var wg,X2;function Hp(){if(X2)return wg;X2=1;var e=ul();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return wg=t,wg}var jg,Y2;function XS(){if(Y2)return jg;Y2=1;var e=EE(),t=Hp();function r(n,i){i=e(i,n);for(var o=0,l=i.length;n!=null&&o<l;)n=n[t(i[o++])];return o&&o==l?n:void 0}return jg=r,jg}var kg,Q2;function TE(){if(Q2)return kg;Q2=1;var e=XS();function t(r,n,i){var o=r==null?void 0:e(r,n);return o===void 0?i:o}return kg=t,kg}var aF=TE();const pn=pt(aF);var Cg,J2;function iF(){if(J2)return Cg;J2=1;function e(t){return t==null}return Cg=e,Cg}var oF=iF();const Fe=pt(oF);var zg,eC;function sF(){if(eC)return zg;eC=1;var e=Ga(),t=Xr(),r=Va(),n="[object String]";function i(o){return typeof o=="string"||!t(o)&&r(o)&&e(o)==n}return zg=i,zg}var lF=sF();const So=pt(lF);var cF=KS();const We=pt(cF);var uF=Di();const dl=pt(uF);var Ag={exports:{}},dt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tC;function dF(){if(tC)return dt;tC=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function x(y){if(typeof y=="object"&&y!==null){var j=y.$$typeof;switch(j){case e:switch(y=y.type,y){case r:case i:case n:case f:case v:return y;default:switch(y=y&&y.$$typeof,y){case u:case l:case d:case m:case h:case o:return y;default:return j}}case t:return j}}}return dt.ContextConsumer=l,dt.ContextProvider=o,dt.Element=e,dt.ForwardRef=d,dt.Fragment=r,dt.Lazy=m,dt.Memo=h,dt.Portal=t,dt.Profiler=i,dt.StrictMode=n,dt.Suspense=f,dt.SuspenseList=v,dt.isAsyncMode=function(){return!1},dt.isConcurrentMode=function(){return!1},dt.isContextConsumer=function(y){return x(y)===l},dt.isContextProvider=function(y){return x(y)===o},dt.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},dt.isForwardRef=function(y){return x(y)===d},dt.isFragment=function(y){return x(y)===r},dt.isLazy=function(y){return x(y)===m},dt.isMemo=function(y){return x(y)===h},dt.isPortal=function(y){return x(y)===t},dt.isProfiler=function(y){return x(y)===i},dt.isStrictMode=function(y){return x(y)===n},dt.isSuspense=function(y){return x(y)===f},dt.isSuspenseList=function(y){return x(y)===v},dt.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===i||y===n||y===f||y===v||y===b||typeof y=="object"&&y!==null&&(y.$$typeof===m||y.$$typeof===h||y.$$typeof===o||y.$$typeof===l||y.$$typeof===d||y.$$typeof===w||y.getModuleId!==void 0)},dt.typeOf=x,dt}var rC;function fF(){return rC||(rC=1,Ag.exports=dF()),Ag.exports}var pF=fF(),Ng,nC;function DE(){if(nC)return Ng;nC=1;var e=Ga(),t=Va(),r="[object Number]";function n(i){return typeof i=="number"||t(i)&&e(i)==r}return Ng=n,Ng}var Pg,aC;function hF(){if(aC)return Pg;aC=1;var e=DE();function t(r){return e(r)&&r!=+r}return Pg=t,Pg}var vF=hF();const fl=pt(vF);var mF=DE();const gF=pt(mF);var Mr=function(t){return t===0?0:t>0?1:-1},fo=function(t){return So(t)&&t.indexOf("%")===t.length-1},be=function(t){return gF(t)&&!fl(t)},yF=function(t){return Fe(t)},cr=function(t){return be(t)||So(t)},xF=0,Ri=function(t){var r=++xF;return"".concat(t||"").concat(r)},Lr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(t)&&!So(t))return n;var o;if(fo(t)){var l=t.indexOf("%");o=r*parseFloat(t.slice(0,l))/100}else o=+t;return fl(o)&&(o=n),i&&o>r&&(o=r),o},xi=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},bF=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},Wt=function(t,r){return be(t)&&be(r)?function(n){return t+n*(r-t)}:function(){return r}};function kf(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):pn(n,t))===r})}var SF=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,i=0,o=0,l=0,u=1/0,d=-1/0,f=0,v=0,h=0;h<r;h++)f=t[h].cx||0,v=t[h].cy||0,n+=f,i+=v,o+=f*v,l+=f*f,u=Math.min(u,f),d=Math.max(d,f);var m=r*l!==n*n?(r*o-n*i)/(r*l-n*n):0;return{xmin:u,xmax:d,a:m,b:(i-m*n)/r}},wF=function(t,r){return be(t)&&be(r)?t-r:So(t)&&So(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function zs(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Yb(e){"@babel/helpers - typeof";return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yb(e)}var jF=["viewBox","children"],kF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],iC=["points","pathLength"],_g={svg:jF,polygon:iC,polyline:iC},YS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Cf=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(z.isValidElement(t)&&(n=t.props),!dl(n))return null;var i={};return Object.keys(n).forEach(function(o){YS.includes(o)&&(i[o]=r||function(l){return n[o](n,l)})}),i},CF=function(t,r,n){return function(i){return t(r,n,i),null}},Ni=function(t,r,n){if(!dl(t)||Yb(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var l=t[o];YS.includes(o)&&typeof l=="function"&&(i||(i={}),i[o]=CF(l,r,n))}),i},zF=["children"],AF=["children"];function oC(e,t){if(e==null)return{};var r=NF(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qb(e){"@babel/helpers - typeof";return Qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qb(e)}var sC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ma=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},lC=null,Og=null,QS=function e(t){if(t===lC&&Array.isArray(Og))return Og;var r=[];return z.Children.forEach(t,function(n){Fe(n)||(pF.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Og=r,lC=t,r};function Fr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return Ma(i)}):n=[Ma(t)],QS(e).forEach(function(i){var o=pn(i,"type.displayName")||pn(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function sn(e,t){var r=Fr(e,t);return r&&r[0]}var cC=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!be(n)||n<=0||!be(i)||i<=0)},PF=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],_F=function(t){return t&&t.type&&So(t.type)&&PF.indexOf(t.type)>=0},RE=function(t){return t&&Qb(t)==="object"&&"clipDot"in t},OF=function(t,r,n,i){var o,l=(o=_g?.[i])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!We(t)&&(i&&l.includes(r)||kF.includes(r))||n&&YS.includes(r)},Te=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(z.isValidElement(t)&&(i=t.props),!dl(i))return null;var o={};return Object.keys(i).forEach(function(l){var u;OF((u=i)===null||u===void 0?void 0:u[l],l,r,n)&&(o[l]=i[l])}),o},Jb=function e(t,r){if(t===r)return!0;var n=z.Children.count(t);if(n!==z.Children.count(r))return!1;if(n===0)return!0;if(n===1)return uC(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=t[i],l=r[i];if(Array.isArray(o)||Array.isArray(l)){if(!e(o,l))return!1}else if(!uC(o,l))return!1}return!0},uC=function(t,r){if(Fe(t)&&Fe(r))return!0;if(!Fe(t)&&!Fe(r)){var n=t.props||{},i=n.children,o=oC(n,zF),l=r.props||{},u=l.children,d=oC(l,AF);return i&&u?zs(o,d)&&Jb(i,u):!i&&!u?zs(o,d):!1}return!1},dC=function(t,r){var n=[],i={};return QS(t).forEach(function(o,l){if(_F(o))n.push(o);else if(o){var u=Ma(o.type),d=r[u]||{},f=d.handler,v=d.once;if(f&&(!v||!i[u])){var h=f(o,u,l);n.push(h),i[u]=!0}}}),n},EF=function(t){var r=t&&t.type;return r&&sC[r]?sC[r]:null},TF=function(t,r){return QS(r).indexOf(t)},DF=["children","width","height","viewBox","className","style","title","desc"];function e0(){return e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e0.apply(this,arguments)}function RF(e,t){if(e==null)return{};var r=IF(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function t0(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,o=e.className,l=e.style,u=e.title,d=e.desc,f=RF(e,DF),v=i||{width:r,height:n,x:0,y:0},h=He("recharts-surface",o);return K.createElement("svg",e0({},Te(f,!0,"svg"),{className:h,width:r,height:n,style:l,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height)}),K.createElement("title",null,u),K.createElement("desc",null,d),t)}var MF=["children","className"];function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r0.apply(this,arguments)}function LF(e,t){if(e==null)return{};var r=BF(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ke=K.forwardRef(function(e,t){var r=e.children,n=e.className,i=LF(e,MF),o=He("recharts-layer",n);return K.createElement("g",r0({className:o},Te(i,!0),{ref:t}),r)}),Gn=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]},Eg,fC;function FF(){if(fC)return Eg;fC=1;function e(t,r,n){var i=-1,o=t.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var l=Array(o);++i<o;)l[i]=t[i+r];return l}return Eg=e,Eg}var Tg,pC;function WF(){if(pC)return Tg;pC=1;var e=FF();function t(r,n,i){var o=r.length;return i=i===void 0?o:i,!n&&i>=o?r:e(r,n,i)}return Tg=t,Tg}var Dg,hC;function IE(){if(hC)return Dg;hC=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,o="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+i+o+"]");function d(f){return u.test(f)}return Dg=d,Dg}var Rg,vC;function $F(){if(vC)return Rg;vC=1;function e(t){return t.split("")}return Rg=e,Rg}var Ig,mC;function UF(){if(mC)return Ig;mC=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,o="\\ufe0e\\ufe0f",l="["+e+"]",u="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",v="[^"+e+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",w=f+"?",x="["+o+"]?",y="(?:"+b+"(?:"+[v,h,m].join("|")+")"+x+w+")*",j=x+w+y,k="(?:"+[v+u+"?",u,h,m,l].join("|")+")",S=RegExp(d+"(?="+d+")|"+k+j,"g");function N(A){return A.match(S)||[]}return Ig=N,Ig}var Mg,gC;function HF(){if(gC)return Mg;gC=1;var e=$F(),t=IE(),r=UF();function n(i){return t(i)?r(i):e(i)}return Mg=n,Mg}var Lg,yC;function KF(){if(yC)return Lg;yC=1;var e=WF(),t=IE(),r=HF(),n=OE();function i(o){return function(l){l=n(l);var u=t(l)?r(l):void 0,d=u?u[0]:l.charAt(0),f=u?e(u,1).join(""):l.slice(1);return d[o]()+f}}return Lg=i,Lg}var Bg,xC;function GF(){if(xC)return Bg;xC=1;var e=KF(),t=e("toUpperCase");return Bg=t,Bg}var VF=GF();const Kp=pt(VF);function Ct(e){return function(){return e}}const ME=Math.cos,zf=Math.sin,Xn=Math.sqrt,Af=Math.PI,Gp=2*Af,n0=Math.PI,a0=2*n0,lo=1e-6,qF=a0-lo;function LE(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function ZF(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return LE;const r=10**t;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class XF{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?LE:ZF(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,o,l){this._append`C${+t},${+r},${+n},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,r,n,i,o){if(t=+t,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,d=n-t,f=i-r,v=l-t,h=u-r,m=v*v+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>lo)if(!(Math.abs(h*d-f*v)>lo)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let b=n-l,w=i-u,x=d*d+f*f,y=b*b+w*w,j=Math.sqrt(x),k=Math.sqrt(m),S=o*Math.tan((n0-Math.acos((x+m-y)/(2*j*k)))/2),N=S/k,A=S/j;Math.abs(N-1)>lo&&this._append`L${t+N*v},${r+N*h}`,this._append`A${o},${o},0,0,${+(h*b>v*w)},${this._x1=t+A*d},${this._y1=r+A*f}`}}arc(t,r,n,i,o,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),d=n*Math.sin(i),f=t+u,v=r+d,h=1^l,m=l?i-o:o-i;this._x1===null?this._append`M${f},${v}`:(Math.abs(this._x1-f)>lo||Math.abs(this._y1-v)>lo)&&this._append`L${f},${v}`,n&&(m<0&&(m=m%a0+a0),m>qF?this._append`A${n},${n},0,1,${h},${t-u},${r-d}A${n},${n},0,1,${h},${this._x1=f},${this._y1=v}`:m>lo&&this._append`A${n},${n},0,${+(m>=n0)},${h},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function JS(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new XF(t)}function e1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function BE(e){this._context=e}BE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Vp(e){return new BE(e)}function FE(e){return e[0]}function WE(e){return e[1]}function $E(e,t){var r=Ct(!0),n=null,i=Vp,o=null,l=JS(u);e=typeof e=="function"?e:e===void 0?FE:Ct(e),t=typeof t=="function"?t:t===void 0?WE:Ct(t);function u(d){var f,v=(d=e1(d)).length,h,m=!1,b;for(n==null&&(o=i(b=l())),f=0;f<=v;++f)!(f<v&&r(h=d[f],f,d))===m&&((m=!m)?o.lineStart():o.lineEnd()),m&&o.point(+e(h,f,d),+t(h,f,d));if(b)return o=null,b+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ct(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ct(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Ct(!!d),u):r},u.curve=function(d){return arguments.length?(i=d,n!=null&&(o=i(n)),u):i},u.context=function(d){return arguments.length?(d==null?n=o=null:o=i(n=d),u):n},u}function Kd(e,t,r){var n=null,i=Ct(!0),o=null,l=Vp,u=null,d=JS(f);e=typeof e=="function"?e:e===void 0?FE:Ct(+e),t=typeof t=="function"?t:Ct(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?WE:Ct(+r);function f(h){var m,b,w,x=(h=e1(h)).length,y,j=!1,k,S=new Array(x),N=new Array(x);for(o==null&&(u=l(k=d())),m=0;m<=x;++m){if(!(m<x&&i(y=h[m],m,h))===j)if(j=!j)b=m,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=m-1;w>=b;--w)u.point(S[w],N[w]);u.lineEnd(),u.areaEnd()}j&&(S[m]=+e(y,m,h),N[m]=+t(y,m,h),u.point(n?+n(y,m,h):S[m],r?+r(y,m,h):N[m]))}if(k)return u=null,k+""||null}function v(){return $E().defined(i).curve(l).context(o)}return f.x=function(h){return arguments.length?(e=typeof h=="function"?h:Ct(+h),n=null,f):e},f.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Ct(+h),f):e},f.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ct(+h),f):n},f.y=function(h){return arguments.length?(t=typeof h=="function"?h:Ct(+h),r=null,f):t},f.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Ct(+h),f):t},f.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ct(+h),f):r},f.lineX0=f.lineY0=function(){return v().x(e).y(t)},f.lineY1=function(){return v().x(e).y(r)},f.lineX1=function(){return v().x(n).y(t)},f.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Ct(!!h),f):i},f.curve=function(h){return arguments.length?(l=h,o!=null&&(u=l(o)),f):l},f.context=function(h){return arguments.length?(h==null?o=u=null:u=l(o=h),f):o},f}class UE{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function YF(e){return new UE(e,!0)}function QF(e){return new UE(e,!1)}const t1={draw(e,t){const r=Xn(t/Af);e.moveTo(r,0),e.arc(0,0,r,0,Gp)}},JF={draw(e,t){const r=Xn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},HE=Xn(1/3),eW=HE*2,tW={draw(e,t){const r=Xn(t/eW),n=r*HE;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},rW={draw(e,t){const r=Xn(t),n=-r/2;e.rect(n,n,r,r)}},nW=.8908130915292852,KE=zf(Af/10)/zf(7*Af/10),aW=zf(Gp/10)*KE,iW=-ME(Gp/10)*KE,oW={draw(e,t){const r=Xn(t*nW),n=aW*r,i=iW*r;e.moveTo(0,-r),e.lineTo(n,i);for(let o=1;o<5;++o){const l=Gp*o/5,u=ME(l),d=zf(l);e.lineTo(d*r,-u*r),e.lineTo(u*n-d*i,d*n+u*i)}e.closePath()}},Fg=Xn(3),sW={draw(e,t){const r=-Xn(t/(Fg*3));e.moveTo(0,r*2),e.lineTo(-Fg*r,-r),e.lineTo(Fg*r,-r),e.closePath()}},jn=-.5,kn=Xn(3)/2,i0=1/Xn(12),lW=(i0/2+1)*3,cW={draw(e,t){const r=Xn(t/lW),n=r/2,i=r*i0,o=n,l=r*i0+r,u=-o,d=l;e.moveTo(n,i),e.lineTo(o,l),e.lineTo(u,d),e.lineTo(jn*n-kn*i,kn*n+jn*i),e.lineTo(jn*o-kn*l,kn*o+jn*l),e.lineTo(jn*u-kn*d,kn*u+jn*d),e.lineTo(jn*n+kn*i,jn*i-kn*n),e.lineTo(jn*o+kn*l,jn*l-kn*o),e.lineTo(jn*u+kn*d,jn*d-kn*u),e.closePath()}};function uW(e,t){let r=null,n=JS(i);e=typeof e=="function"?e:Ct(e||t1),t=typeof t=="function"?t:Ct(t===void 0?64:+t);function i(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Ct(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Ct(+o),i):t},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function Nf(){}function Pf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function GE(e){this._context=e}GE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Pf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Pf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dW(e){return new GE(e)}function VE(e){this._context=e}VE.prototype={areaStart:Nf,areaEnd:Nf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Pf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fW(e){return new VE(e)}function qE(e){this._context=e}qE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Pf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pW(e){return new qE(e)}function ZE(e){this._context=e}ZE.prototype={areaStart:Nf,areaEnd:Nf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function hW(e){return new ZE(e)}function bC(e){return e<0?-1:1}function SC(e,t,r){var n=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(n||i<0&&-0),l=(r-e._y1)/(i||n<0&&-0),u=(o*i+l*n)/(n+i);return(bC(o)+bC(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function wC(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Wg(e,t,r){var n=e._x0,i=e._y0,o=e._x1,l=e._y1,u=(o-n)/3;e._context.bezierCurveTo(n+u,i+u*t,o-u,l-u*r,o,l)}function _f(e){this._context=e}_f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wg(this,this._t0,wC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Wg(this,wC(this,r=SC(this,e,t)),r);break;default:Wg(this,this._t0,r=SC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function XE(e){this._context=new YE(e)}(XE.prototype=Object.create(_f.prototype)).point=function(e,t){_f.prototype.point.call(this,t,e)};function YE(e){this._context=e}YE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,o){this._context.bezierCurveTo(t,e,n,r,o,i)}};function vW(e){return new _f(e)}function mW(e){return new XE(e)}function QE(e){this._context=e}QE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=jC(e),i=jC(t),o=0,l=1;l<r;++o,++l)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function jC(e){var t,r=e.length-1,n,i=new Array(r),o=new Array(r),l=new Array(r);for(i[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,l[t]-=n*l[t-1];for(i[r-1]=l[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(l[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function gW(e){return new QE(e)}function qp(e,t){this._context=e,this._t=t}qp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function yW(e){return new qp(e,.5)}function xW(e){return new qp(e,0)}function bW(e){return new qp(e,1)}function Es(e,t){if((l=e.length)>1)for(var r=1,n,i,o=e[t[0]],l,u=o.length;r<l;++r)for(i=o,o=e[t[r]],n=0;n<u;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function o0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function SW(e,t){return e[t]}function wW(e){const t=[];return t.key=e,t}function jW(){var e=Ct([]),t=o0,r=Es,n=SW;function i(o){var l=Array.from(e.apply(this,arguments),wW),u,d=l.length,f=-1,v;for(const h of o)for(u=0,++f;u<d;++u)(l[u][f]=[0,+n(h,l[u].key,f,o)]).data=h;for(u=0,v=e1(t(l));u<d;++u)l[v[u]].index=u;return r(l,v),l}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Ct(Array.from(o)),i):e},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:Ct(+o),i):n},i.order=function(o){return arguments.length?(t=o==null?o0:typeof o=="function"?o:Ct(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(r=o??Es,i):r},i}function kW(e,t){if((n=e.length)>0){for(var r,n,i=0,o=e[0].length,l;i<o;++i){for(l=r=0;r<n;++r)l+=e[r][i][1]||0;if(l)for(r=0;r<n;++r)e[r][i][1]/=l}Es(e,t)}}function CW(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,o=n.length;r<o;++r){for(var l=0,u=0;l<i;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}Es(e,t)}}function zW(e,t){if(!(!((l=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,o,l;n<o;++n){for(var u=0,d=0,f=0;u<l;++u){for(var v=e[t[u]],h=v[n][1]||0,m=v[n-1][1]||0,b=(h-m)/2,w=0;w<u;++w){var x=e[t[w]],y=x[n][1]||0,j=x[n-1][1]||0;b+=y-j}d+=h,f+=b*h}i[n-1][1]+=i[n-1][0]=r,d&&(r-=f/d)}i[n-1][1]+=i[n-1][0]=r,Es(e,t)}}function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}var AW=["type","size","sizeType"];function s0(){return s0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s0.apply(this,arguments)}function kC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kC(Object(r),!0).forEach(function(n){NW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NW(e,t,r){return t=PW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PW(e){var t=_W(e,"string");return Lc(t)=="symbol"?t:t+""}function _W(e,t){if(Lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OW(e,t){if(e==null)return{};var r=EW(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var JE={symbolCircle:t1,symbolCross:JF,symbolDiamond:tW,symbolSquare:rW,symbolStar:oW,symbolTriangle:sW,symbolWye:cW},TW=Math.PI/180,DW=function(t){var r="symbol".concat(Kp(t));return JE[r]||t1},RW=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*TW;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},IW=function(t,r){JE["symbol".concat(Kp(t))]=r},Zp=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,o=i===void 0?64:i,l=t.sizeType,u=l===void 0?"area":l,d=OW(t,AW),f=CC(CC({},d),{},{type:n,size:o,sizeType:u}),v=function(){var y=DW(n),j=uW().type(y).size(RW(o,u,n));return j()},h=f.className,m=f.cx,b=f.cy,w=Te(f,!0);return m===+m&&b===+b&&o===+o?K.createElement("path",s0({},w,{className:He("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(b,")"),d:v()})):null};Zp.registerSymbol=IW;function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}function l0(){return l0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l0.apply(this,arguments)}function zC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function MW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zC(Object(r),!0).forEach(function(n){Bc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tT(n.key),n)}}function FW(e,t,r){return t&&BW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WW(e,t,r){return t=Of(t),$W(e,eT()?Reflect.construct(t,r||[],Of(e).constructor):t.apply(e,r))}function $W(e,t){if(t&&(Ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UW(e)}function UW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eT=function(){return!!e})()}function Of(e){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Of(e)}function HW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c0(e,t)}function c0(e,t){return c0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},c0(e,t)}function Bc(e,t,r){return t=tT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tT(e){var t=KW(e,"string");return Ts(t)=="symbol"?t:t+""}function KW(e,t){if(Ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cn=32,r1=(function(e){function t(){return LW(this,t),WW(this,t,arguments)}return HW(t,e),FW(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=Cn/2,l=Cn/6,u=Cn/3,d=n.inactive?i:n.color;if(n.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Cn,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(o,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(o,`
            H`).concat(Cn,"M").concat(2*u,",").concat(o,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return K.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Cn/8,"h").concat(Cn,"v").concat(Cn*3/4,"h").concat(-Cn,"z"),className:"recharts-legend-icon"});if(K.isValidElement(n.legendIcon)){var f=MW({},n);return delete f.legendIcon,K.cloneElement(n.legendIcon,f)}return K.createElement(Zp,{fill:d,cx:o,cy:o,size:Cn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,l=i.iconSize,u=i.layout,d=i.formatter,f=i.inactiveColor,v={x:0,y:0,width:Cn,height:Cn},h={display:u==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(b,w){var x=b.formatter||d,y=He(Bc(Bc({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",b.inactive));if(b.type==="none")return null;var j=We(b.value)?null:b.value;Gn(!We(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=b.inactive?f:b.color;return K.createElement("li",l0({className:y,style:h,key:"legend-item-".concat(w)},Ni(n.props,b,w)),K.createElement(t0,{width:l,height:l,viewBox:v,style:m},n.renderIcon(b)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},x?x(j,b,w):j))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,l=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:o==="horizontal"?l:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(z.PureComponent);Bc(r1,"displayName","Legend");Bc(r1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var $g,AC;function GW(){if(AC)return $g;AC=1;var e=$p();function t(){this.__data__=new e,this.size=0}return $g=t,$g}var Ug,NC;function VW(){if(NC)return Ug;NC=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return Ug=e,Ug}var Hg,PC;function qW(){if(PC)return Hg;PC=1;function e(t){return this.__data__.get(t)}return Hg=e,Hg}var Kg,_C;function ZW(){if(_C)return Kg;_C=1;function e(t){return this.__data__.has(t)}return Kg=e,Kg}var Gg,OC;function XW(){if(OC)return Gg;OC=1;var e=$p(),t=VS(),r=qS(),n=200;function i(o,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<n-1)return d.push([o,l]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(o,l),this.size=u.size,this}return Gg=i,Gg}var Vg,EC;function rT(){if(EC)return Vg;EC=1;var e=$p(),t=GW(),r=VW(),n=qW(),i=ZW(),o=XW();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=t,l.prototype.delete=r,l.prototype.get=n,l.prototype.has=i,l.prototype.set=o,Vg=l,Vg}var qg,TC;function YW(){if(TC)return qg;TC=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return qg=t,qg}var Zg,DC;function QW(){if(DC)return Zg;DC=1;function e(t){return this.__data__.has(t)}return Zg=e,Zg}var Xg,RC;function nT(){if(RC)return Xg;RC=1;var e=qS(),t=YW(),r=QW();function n(i){var o=-1,l=i==null?0:i.length;for(this.__data__=new e;++o<l;)this.add(i[o])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,Xg=n,Xg}var Yg,IC;function aT(){if(IC)return Yg;IC=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return Yg=e,Yg}var Qg,MC;function iT(){if(MC)return Qg;MC=1;function e(t,r){return t.has(r)}return Qg=e,Qg}var Jg,LC;function oT(){if(LC)return Jg;LC=1;var e=nT(),t=aT(),r=iT(),n=1,i=2;function o(l,u,d,f,v,h){var m=d&n,b=l.length,w=u.length;if(b!=w&&!(m&&w>b))return!1;var x=h.get(l),y=h.get(u);if(x&&y)return x==u&&y==l;var j=-1,k=!0,S=d&i?new e:void 0;for(h.set(l,u),h.set(u,l);++j<b;){var N=l[j],A=u[j];if(f)var O=m?f(A,N,j,u,l,h):f(N,A,j,l,u,h);if(O!==void 0){if(O)continue;k=!1;break}if(S){if(!t(u,function(_,T){if(!r(S,T)&&(N===_||v(N,_,d,f,h)))return S.push(T)})){k=!1;break}}else if(!(N===A||v(N,A,d,f,h))){k=!1;break}}return h.delete(l),h.delete(u),k}return Jg=o,Jg}var ey,BC;function JW(){if(BC)return ey;BC=1;var e=pa(),t=e.Uint8Array;return ey=t,ey}var ty,FC;function e6(){if(FC)return ty;FC=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,o){n[++r]=[o,i]}),n}return ty=e,ty}var ry,WC;function n1(){if(WC)return ry;WC=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return ry=e,ry}var ny,$C;function t6(){if($C)return ny;$C=1;var e=wu(),t=JW(),r=GS(),n=oT(),i=e6(),o=n1(),l=1,u=2,d="[object Boolean]",f="[object Date]",v="[object Error]",h="[object Map]",m="[object Number]",b="[object RegExp]",w="[object Set]",x="[object String]",y="[object Symbol]",j="[object ArrayBuffer]",k="[object DataView]",S=e?e.prototype:void 0,N=S?S.valueOf:void 0;function A(O,_,T,E,D,I,L){switch(T){case k:if(O.byteLength!=_.byteLength||O.byteOffset!=_.byteOffset)return!1;O=O.buffer,_=_.buffer;case j:return!(O.byteLength!=_.byteLength||!I(new t(O),new t(_)));case d:case f:case m:return r(+O,+_);case v:return O.name==_.name&&O.message==_.message;case b:case x:return O==_+"";case h:var M=i;case w:var V=E&l;if(M||(M=o),O.size!=_.size&&!V)return!1;var H=L.get(O);if(H)return H==_;E|=u,L.set(O,_);var q=n(M(O),M(_),E,D,I,L);return L.delete(O),q;case y:if(N)return N.call(O)==N.call(_)}return!1}return ny=A,ny}var ay,UC;function sT(){if(UC)return ay;UC=1;function e(t,r){for(var n=-1,i=r.length,o=t.length;++n<i;)t[o+n]=r[n];return t}return ay=e,ay}var iy,HC;function r6(){if(HC)return iy;HC=1;var e=sT(),t=Xr();function r(n,i,o){var l=i(n);return t(n)?l:e(l,o(n))}return iy=r,iy}var oy,KC;function n6(){if(KC)return oy;KC=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,o=0,l=[];++n<i;){var u=t[n];r(u,n,t)&&(l[o++]=u)}return l}return oy=e,oy}var sy,GC;function a6(){if(GC)return sy;GC=1;function e(){return[]}return sy=e,sy}var ly,VC;function i6(){if(VC)return ly;VC=1;var e=n6(),t=a6(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(l){return l==null?[]:(l=Object(l),e(i(l),function(u){return n.call(l,u)}))}:t;return ly=o,ly}var cy,qC;function o6(){if(qC)return cy;qC=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return cy=e,cy}var uy,ZC;function s6(){if(ZC)return uy;ZC=1;var e=Ga(),t=Va(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return uy=n,uy}var dy,XC;function a1(){if(XC)return dy;XC=1;var e=s6(),t=Va(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=e((function(){return arguments})())?e:function(l){return t(l)&&n.call(l,"callee")&&!i.call(l,"callee")};return dy=o,dy}var kc={exports:{}},fy,YC;function l6(){if(YC)return fy;YC=1;function e(){return!1}return fy=e,fy}kc.exports;var QC;function lT(){return QC||(QC=1,(function(e,t){var r=pa(),n=l6(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,l=o&&o.exports===i,u=l?r.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||n;e.exports=f})(kc,kc.exports)),kc.exports}var py,JC;function i1(){if(JC)return py;JC=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var o=typeof n;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return py=r,py}var hy,ez;function o1(){if(ez)return hy;ez=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return hy=t,hy}var vy,tz;function c6(){if(tz)return vy;tz=1;var e=Ga(),t=o1(),r=Va(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",v="[object Number]",h="[object Object]",m="[object RegExp]",b="[object Set]",w="[object String]",x="[object WeakMap]",y="[object ArrayBuffer]",j="[object DataView]",k="[object Float32Array]",S="[object Float64Array]",N="[object Int8Array]",A="[object Int16Array]",O="[object Int32Array]",_="[object Uint8Array]",T="[object Uint8ClampedArray]",E="[object Uint16Array]",D="[object Uint32Array]",I={};I[k]=I[S]=I[N]=I[A]=I[O]=I[_]=I[T]=I[E]=I[D]=!0,I[n]=I[i]=I[y]=I[o]=I[j]=I[l]=I[u]=I[d]=I[f]=I[v]=I[h]=I[m]=I[b]=I[w]=I[x]=!1;function L(M){return r(M)&&t(M.length)&&!!I[e(M)]}return vy=L,vy}var my,rz;function cT(){if(rz)return my;rz=1;function e(t){return function(r){return t(r)}}return my=e,my}var Cc={exports:{}};Cc.exports;var nz;function u6(){return nz||(nz=1,(function(e,t){var r=NE(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,l=o&&r.process,u=(function(){try{var d=i&&i.require&&i.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(Cc,Cc.exports)),Cc.exports}var gy,az;function uT(){if(az)return gy;az=1;var e=c6(),t=cT(),r=u6(),n=r&&r.isTypedArray,i=n?t(n):e;return gy=i,gy}var yy,iz;function d6(){if(iz)return yy;iz=1;var e=o6(),t=a1(),r=Xr(),n=lT(),i=i1(),o=uT(),l=Object.prototype,u=l.hasOwnProperty;function d(f,v){var h=r(f),m=!h&&t(f),b=!h&&!m&&n(f),w=!h&&!m&&!b&&o(f),x=h||m||b||w,y=x?e(f.length,String):[],j=y.length;for(var k in f)(v||u.call(f,k))&&!(x&&(k=="length"||b&&(k=="offset"||k=="parent")||w&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||i(k,j)))&&y.push(k);return y}return yy=d,yy}var xy,oz;function f6(){if(oz)return xy;oz=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return xy=t,xy}var by,sz;function dT(){if(sz)return by;sz=1;function e(t,r){return function(n){return t(r(n))}}return by=e,by}var Sy,lz;function p6(){if(lz)return Sy;lz=1;var e=dT(),t=e(Object.keys,Object);return Sy=t,Sy}var wy,cz;function h6(){if(cz)return wy;cz=1;var e=f6(),t=p6(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!e(o))return t(o);var l=[];for(var u in Object(o))n.call(o,u)&&u!="constructor"&&l.push(u);return l}return wy=i,wy}var jy,uz;function ju(){if(uz)return jy;uz=1;var e=KS(),t=o1();function r(n){return n!=null&&t(n.length)&&!e(n)}return jy=r,jy}var ky,dz;function Xp(){if(dz)return ky;dz=1;var e=d6(),t=h6(),r=ju();function n(i){return r(i)?e(i):t(i)}return ky=n,ky}var Cy,fz;function v6(){if(fz)return Cy;fz=1;var e=r6(),t=i6(),r=Xp();function n(i){return e(i,r,t)}return Cy=n,Cy}var zy,pz;function m6(){if(pz)return zy;pz=1;var e=v6(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,l,u,d,f,v){var h=u&t,m=e(o),b=m.length,w=e(l),x=w.length;if(b!=x&&!h)return!1;for(var y=b;y--;){var j=m[y];if(!(h?j in l:n.call(l,j)))return!1}var k=v.get(o),S=v.get(l);if(k&&S)return k==l&&S==o;var N=!0;v.set(o,l),v.set(l,o);for(var A=h;++y<b;){j=m[y];var O=o[j],_=l[j];if(d)var T=h?d(_,O,j,l,o,v):d(O,_,j,o,l,v);if(!(T===void 0?O===_||f(O,_,u,d,v):T)){N=!1;break}A||(A=j=="constructor")}if(N&&!A){var E=o.constructor,D=l.constructor;E!=D&&"constructor"in o&&"constructor"in l&&!(typeof E=="function"&&E instanceof E&&typeof D=="function"&&D instanceof D)&&(N=!1)}return v.delete(o),v.delete(l),N}return zy=i,zy}var Ay,hz;function g6(){if(hz)return Ay;hz=1;var e=Oo(),t=pa(),r=e(t,"DataView");return Ay=r,Ay}var Ny,vz;function y6(){if(vz)return Ny;vz=1;var e=Oo(),t=pa(),r=e(t,"Promise");return Ny=r,Ny}var Py,mz;function fT(){if(mz)return Py;mz=1;var e=Oo(),t=pa(),r=e(t,"Set");return Py=r,Py}var _y,gz;function x6(){if(gz)return _y;gz=1;var e=Oo(),t=pa(),r=e(t,"WeakMap");return _y=r,_y}var Oy,yz;function b6(){if(yz)return Oy;yz=1;var e=g6(),t=VS(),r=y6(),n=fT(),i=x6(),o=Ga(),l=PE(),u="[object Map]",d="[object Object]",f="[object Promise]",v="[object Set]",h="[object WeakMap]",m="[object DataView]",b=l(e),w=l(t),x=l(r),y=l(n),j=l(i),k=o;return(e&&k(new e(new ArrayBuffer(1)))!=m||t&&k(new t)!=u||r&&k(r.resolve())!=f||n&&k(new n)!=v||i&&k(new i)!=h)&&(k=function(S){var N=o(S),A=N==d?S.constructor:void 0,O=A?l(A):"";if(O)switch(O){case b:return m;case w:return u;case x:return f;case y:return v;case j:return h}return N}),Oy=k,Oy}var Ey,xz;function S6(){if(xz)return Ey;xz=1;var e=rT(),t=oT(),r=t6(),n=m6(),i=b6(),o=Xr(),l=lT(),u=uT(),d=1,f="[object Arguments]",v="[object Array]",h="[object Object]",m=Object.prototype,b=m.hasOwnProperty;function w(x,y,j,k,S,N){var A=o(x),O=o(y),_=A?v:i(x),T=O?v:i(y);_=_==f?h:_,T=T==f?h:T;var E=_==h,D=T==h,I=_==T;if(I&&l(x)){if(!l(y))return!1;A=!0,E=!1}if(I&&!E)return N||(N=new e),A||u(x)?t(x,y,j,k,S,N):r(x,y,_,j,k,S,N);if(!(j&d)){var L=E&&b.call(x,"__wrapped__"),M=D&&b.call(y,"__wrapped__");if(L||M){var V=L?x.value():x,H=M?y.value():y;return N||(N=new e),S(V,H,j,k,N)}}return I?(N||(N=new e),n(x,y,j,k,S,N)):!1}return Ey=w,Ey}var Ty,bz;function s1(){if(bz)return Ty;bz=1;var e=S6(),t=Va();function r(n,i,o,l,u){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,o,l,r,u)}return Ty=r,Ty}var Dy,Sz;function w6(){if(Sz)return Dy;Sz=1;var e=rT(),t=s1(),r=1,n=2;function i(o,l,u,d){var f=u.length,v=f,h=!d;if(o==null)return!v;for(o=Object(o);f--;){var m=u[f];if(h&&m[2]?m[1]!==o[m[0]]:!(m[0]in o))return!1}for(;++f<v;){m=u[f];var b=m[0],w=o[b],x=m[1];if(h&&m[2]){if(w===void 0&&!(b in o))return!1}else{var y=new e;if(d)var j=d(w,x,b,o,l,y);if(!(j===void 0?t(x,w,r|n,d,y):j))return!1}}return!0}return Dy=i,Dy}var Ry,wz;function pT(){if(wz)return Ry;wz=1;var e=Di();function t(r){return r===r&&!e(r)}return Ry=t,Ry}var Iy,jz;function j6(){if(jz)return Iy;jz=1;var e=pT(),t=Xp();function r(n){for(var i=t(n),o=i.length;o--;){var l=i[o],u=n[l];i[o]=[l,u,e(u)]}return i}return Iy=r,Iy}var My,kz;function hT(){if(kz)return My;kz=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return My=e,My}var Ly,Cz;function k6(){if(Cz)return Ly;Cz=1;var e=w6(),t=j6(),r=hT();function n(i){var o=t(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(l){return l===i||e(l,i,o)}}return Ly=n,Ly}var By,zz;function C6(){if(zz)return By;zz=1;function e(t,r){return t!=null&&r in Object(t)}return By=e,By}var Fy,Az;function z6(){if(Az)return Fy;Az=1;var e=EE(),t=a1(),r=Xr(),n=i1(),i=o1(),o=Hp();function l(u,d,f){d=e(d,u);for(var v=-1,h=d.length,m=!1;++v<h;){var b=o(d[v]);if(!(m=u!=null&&f(u,b)))break;u=u[b]}return m||++v!=h?m:(h=u==null?0:u.length,!!h&&i(h)&&n(b,h)&&(r(u)||t(u)))}return Fy=l,Fy}var Wy,Nz;function A6(){if(Nz)return Wy;Nz=1;var e=C6(),t=z6();function r(n,i){return n!=null&&t(n,i,e)}return Wy=r,Wy}var $y,Pz;function N6(){if(Pz)return $y;Pz=1;var e=s1(),t=TE(),r=A6(),n=HS(),i=pT(),o=hT(),l=Hp(),u=1,d=2;function f(v,h){return n(v)&&i(h)?o(l(v),h):function(m){var b=t(m,v);return b===void 0&&b===h?r(m,v):e(h,b,u|d)}}return $y=f,$y}var Uy,_z;function pl(){if(_z)return Uy;_z=1;function e(t){return t}return Uy=e,Uy}var Hy,Oz;function P6(){if(Oz)return Hy;Oz=1;function e(t){return function(r){return r?.[t]}}return Hy=e,Hy}var Ky,Ez;function _6(){if(Ez)return Ky;Ez=1;var e=XS();function t(r){return function(n){return e(n,r)}}return Ky=t,Ky}var Gy,Tz;function O6(){if(Tz)return Gy;Tz=1;var e=P6(),t=_6(),r=HS(),n=Hp();function i(o){return r(o)?e(n(o)):t(o)}return Gy=i,Gy}var Vy,Dz;function ha(){if(Dz)return Vy;Dz=1;var e=k6(),t=N6(),r=pl(),n=Xr(),i=O6();function o(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?n(l)?t(l[0],l[1]):e(l):i(l)}return Vy=o,Vy}var qy,Rz;function vT(){if(Rz)return qy;Rz=1;function e(t,r,n,i){for(var o=t.length,l=n+(i?1:-1);i?l--:++l<o;)if(r(t[l],l,t))return l;return-1}return qy=e,qy}var Zy,Iz;function E6(){if(Iz)return Zy;Iz=1;function e(t){return t!==t}return Zy=e,Zy}var Xy,Mz;function T6(){if(Mz)return Xy;Mz=1;function e(t,r,n){for(var i=n-1,o=t.length;++i<o;)if(t[i]===r)return i;return-1}return Xy=e,Xy}var Yy,Lz;function D6(){if(Lz)return Yy;Lz=1;var e=vT(),t=E6(),r=T6();function n(i,o,l){return o===o?r(i,o,l):e(i,t,l)}return Yy=n,Yy}var Qy,Bz;function R6(){if(Bz)return Qy;Bz=1;var e=D6();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return Qy=t,Qy}var Jy,Fz;function I6(){if(Fz)return Jy;Fz=1;function e(t,r,n){for(var i=-1,o=t==null?0:t.length;++i<o;)if(n(r,t[i]))return!0;return!1}return Jy=e,Jy}var ex,Wz;function M6(){if(Wz)return ex;Wz=1;function e(){}return ex=e,ex}var tx,$z;function L6(){if($z)return tx;$z=1;var e=fT(),t=M6(),r=n1(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(o){return new e(o)}:t;return tx=i,tx}var rx,Uz;function B6(){if(Uz)return rx;Uz=1;var e=nT(),t=R6(),r=I6(),n=iT(),i=L6(),o=n1(),l=200;function u(d,f,v){var h=-1,m=t,b=d.length,w=!0,x=[],y=x;if(v)w=!1,m=r;else if(b>=l){var j=f?null:i(d);if(j)return o(j);w=!1,m=n,y=new e}else y=f?[]:x;e:for(;++h<b;){var k=d[h],S=f?f(k):k;if(k=v||k!==0?k:0,w&&S===S){for(var N=y.length;N--;)if(y[N]===S)continue e;f&&y.push(S),x.push(k)}else m(y,S,v)||(y!==x&&y.push(S),x.push(k))}return x}return rx=u,rx}var nx,Hz;function F6(){if(Hz)return nx;Hz=1;var e=ha(),t=B6();function r(n,i){return n&&n.length?t(n,e(i,2)):[]}return nx=r,nx}var W6=F6();const Kz=pt(W6);function mT(e,t,r){return t===!0?Kz(e,r):We(t)?Kz(e,t):e}function Ds(e){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}var $6=["ref"];function Gz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gz(Object(r),!0).forEach(function(n){Yp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yT(n.key),n)}}function H6(e,t,r){return t&&Vz(e.prototype,t),r&&Vz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function K6(e,t,r){return t=Ef(t),G6(e,gT()?Reflect.construct(t,r||[],Ef(e).constructor):t.apply(e,r))}function G6(e,t){if(t&&(Ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V6(e)}function V6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gT=function(){return!!e})()}function Ef(e){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ef(e)}function q6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u0(e,t)}function u0(e,t){return u0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u0(e,t)}function Yp(e,t,r){return t=yT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yT(e){var t=Z6(e,"string");return Ds(t)=="symbol"?t:t+""}function Z6(e,t){if(Ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function X6(e,t){if(e==null)return{};var r=Y6(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Y6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Q6(e){return e.value}function J6(e,t){if(K.isValidElement(e))return K.cloneElement(e,t);if(typeof e=="function")return K.createElement(e,t);t.ref;var r=X6(t,$6);return K.createElement(r1,r)}var qz=1,zt=(function(e){function t(){var r;U6(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=K6(this,t,[].concat(i)),Yp(r,"lastBoundingBox",{width:-1,height:-1}),r}return q6(t,e),H6(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>qz||Math.abs(i.height-this.lastBoundingBox.height)>qz)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Pa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,l=i.align,u=i.verticalAlign,d=i.margin,f=i.chartWidth,v=i.chartHeight,h,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(l==="center"&&o==="vertical"){var b=this.getBBoxSnapshot();h={left:((f||0)-b.width)/2}}else h=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var w=this.getBBoxSnapshot();m={top:((v||0)-w.height)/2}}else m=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Pa(Pa({},h),m)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,l=i.width,u=i.height,d=i.wrapperStyle,f=i.payloadUniqBy,v=i.payload,h=Pa(Pa({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return K.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(b){n.wrapperNode=b}},J6(o,Pa(Pa({},this.props),{},{payload:mT(v,f,Q6)})))}}],[{key:"getWithHeight",value:function(n,i){var o=Pa(Pa({},this.defaultProps),n.props),l=o.layout;return l==="vertical"&&be(n.props.height)?{height:n.props.height}:l==="horizontal"?{width:n.props.width||i}:null}}])})(z.PureComponent);Yp(zt,"displayName","Legend");Yp(zt,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ax,Zz;function e$(){if(Zz)return ax;Zz=1;var e=wu(),t=a1(),r=Xr(),n=e?e.isConcatSpreadable:void 0;function i(o){return r(o)||t(o)||!!(n&&o&&o[n])}return ax=i,ax}var ix,Xz;function xT(){if(Xz)return ix;Xz=1;var e=sT(),t=e$();function r(n,i,o,l,u){var d=-1,f=n.length;for(o||(o=t),u||(u=[]);++d<f;){var v=n[d];i>0&&o(v)?i>1?r(v,i-1,o,l,u):e(u,v):l||(u[u.length]=v)}return u}return ix=r,ix}var ox,Yz;function t$(){if(Yz)return ox;Yz=1;function e(t){return function(r,n,i){for(var o=-1,l=Object(r),u=i(r),d=u.length;d--;){var f=u[t?d:++o];if(n(l[f],f,l)===!1)break}return r}}return ox=e,ox}var sx,Qz;function r$(){if(Qz)return sx;Qz=1;var e=t$(),t=e();return sx=t,sx}var lx,Jz;function bT(){if(Jz)return lx;Jz=1;var e=r$(),t=Xp();function r(n,i){return n&&e(n,i,t)}return lx=r,lx}var cx,eA;function n$(){if(eA)return cx;eA=1;var e=ju();function t(r,n){return function(i,o){if(i==null)return i;if(!e(i))return r(i,o);for(var l=i.length,u=n?l:-1,d=Object(i);(n?u--:++u<l)&&o(d[u],u,d)!==!1;);return i}}return cx=t,cx}var ux,tA;function l1(){if(tA)return ux;tA=1;var e=bT(),t=n$(),r=t(e);return ux=r,ux}var dx,rA;function ST(){if(rA)return dx;rA=1;var e=l1(),t=ju();function r(n,i){var o=-1,l=t(n)?Array(n.length):[];return e(n,function(u,d,f){l[++o]=i(u,d,f)}),l}return dx=r,dx}var fx,nA;function a$(){if(nA)return fx;nA=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return fx=e,fx}var px,aA;function i$(){if(aA)return px;aA=1;var e=ul();function t(r,n){if(r!==n){var i=r!==void 0,o=r===null,l=r===r,u=e(r),d=n!==void 0,f=n===null,v=n===n,h=e(n);if(!f&&!h&&!u&&r>n||u&&d&&v&&!f&&!h||o&&d&&v||!i&&v||!l)return 1;if(!o&&!u&&!h&&r<n||h&&i&&l&&!o&&!u||f&&i&&l||!d&&l||!v)return-1}return 0}return px=t,px}var hx,iA;function o$(){if(iA)return hx;iA=1;var e=i$();function t(r,n,i){for(var o=-1,l=r.criteria,u=n.criteria,d=l.length,f=i.length;++o<d;){var v=e(l[o],u[o]);if(v){if(o>=f)return v;var h=i[o];return v*(h=="desc"?-1:1)}}return r.index-n.index}return hx=t,hx}var vx,oA;function s$(){if(oA)return vx;oA=1;var e=ZS(),t=XS(),r=ha(),n=ST(),i=a$(),o=cT(),l=o$(),u=pl(),d=Xr();function f(v,h,m){h.length?h=e(h,function(x){return d(x)?function(y){return t(y,x.length===1?x[0]:x)}:x}):h=[u];var b=-1;h=e(h,o(r));var w=n(v,function(x,y,j){var k=e(h,function(S){return S(x)});return{criteria:k,index:++b,value:x}});return i(w,function(x,y){return l(x,y,m)})}return vx=f,vx}var mx,sA;function l$(){if(sA)return mx;sA=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return mx=e,mx}var gx,lA;function c$(){if(lA)return gx;lA=1;var e=l$(),t=Math.max;function r(n,i,o){return i=t(i===void 0?n.length-1:i,0),function(){for(var l=arguments,u=-1,d=t(l.length-i,0),f=Array(d);++u<d;)f[u]=l[i+u];u=-1;for(var v=Array(i+1);++u<i;)v[u]=l[u];return v[i]=o(f),e(n,this,v)}}return gx=r,gx}var yx,cA;function u$(){if(cA)return yx;cA=1;function e(t){return function(){return t}}return yx=e,yx}var xx,uA;function wT(){if(uA)return xx;uA=1;var e=Oo(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return xx=t,xx}var bx,dA;function d$(){if(dA)return bx;dA=1;var e=u$(),t=wT(),r=pl(),n=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:r;return bx=n,bx}var Sx,fA;function f$(){if(fA)return Sx;fA=1;var e=800,t=16,r=Date.now;function n(i){var o=0,l=0;return function(){var u=r(),d=t-(u-l);if(l=u,d>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Sx=n,Sx}var wx,pA;function p$(){if(pA)return wx;pA=1;var e=d$(),t=f$(),r=t(e);return wx=r,wx}var jx,hA;function h$(){if(hA)return jx;hA=1;var e=pl(),t=c$(),r=p$();function n(i,o){return r(t(i,o,e),i+"")}return jx=n,jx}var kx,vA;function Qp(){if(vA)return kx;vA=1;var e=GS(),t=ju(),r=i1(),n=Di();function i(o,l,u){if(!n(u))return!1;var d=typeof l;return(d=="number"?t(u)&&r(l,u.length):d=="string"&&l in u)?e(u[l],o):!1}return kx=i,kx}var Cx,mA;function v$(){if(mA)return Cx;mA=1;var e=xT(),t=s$(),r=h$(),n=Qp(),i=r(function(o,l){if(o==null)return[];var u=l.length;return u>1&&n(o,l[0],l[1])?l=[]:u>2&&n(l[0],l[1],l[2])&&(l=[l[0]]),t(o,e(l,1),[])});return Cx=i,Cx}var m$=v$();const c1=pt(m$);function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function d0(){return d0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d0.apply(this,arguments)}function g$(e,t){return S$(e)||b$(e,t)||x$(e,t)||y$()}function y$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x$(e,t){if(e){if(typeof e=="string")return gA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gA(e,t)}}function gA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function S$(e){if(Array.isArray(e))return e}function yA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(r),!0).forEach(function(n){w$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w$(e,t,r){return t=j$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j$(e){var t=k$(e,"string");return Fc(t)=="symbol"?t:t+""}function k$(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C$(e){return Array.isArray(e)&&cr(e[0])&&cr(e[1])?e.join(" ~ "):e}var z$=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,o=i===void 0?{}:i,l=t.itemStyle,u=l===void 0?{}:l,d=t.labelStyle,f=d===void 0?{}:d,v=t.payload,h=t.formatter,m=t.itemSorter,b=t.wrapperClassName,w=t.labelClassName,x=t.label,y=t.labelFormatter,j=t.accessibilityLayer,k=j===void 0?!1:j,S=function(){if(v&&v.length){var L={padding:0,margin:0},M=(m?c1(v,m):v).map(function(V,H){if(V.type==="none")return null;var q=zx({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},u),X=V.formatter||h||C$,W=V.value,F=V.name,Y=W,$=F;if(X&&Y!=null&&$!=null){var B=X(W,F,V,H,v);if(Array.isArray(B)){var re=g$(B,2);Y=re[0],$=re[1]}else Y=B}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:q},cr($)?K.createElement("span",{className:"recharts-tooltip-item-name"},$):null,cr($)?K.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,K.createElement("span",{className:"recharts-tooltip-item-value"},Y),K.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:L},M)}return null},N=zx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),A=zx({margin:0},f),O=!Fe(x),_=O?x:"",T=He("recharts-default-tooltip",b),E=He("recharts-tooltip-label",w);O&&y&&v!==void 0&&v!==null&&(_=y(x,v));var D=k?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",d0({className:T,style:N},D),K.createElement("p",{className:E,style:A},K.isValidElement(_)?_:"".concat(_)),S())};function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function Gd(e,t,r){return t=A$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A$(e){var t=N$(e,"string");return Wc(t)=="symbol"?t:t+""}function N$(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cc="recharts-tooltip-wrapper",P$={visibility:"hidden"};function _$(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return He(cc,Gd(Gd(Gd(Gd({},"".concat(cc,"-right"),be(r)&&t&&be(t.x)&&r>=t.x),"".concat(cc,"-left"),be(r)&&t&&be(t.x)&&r<t.x),"".concat(cc,"-bottom"),be(n)&&t&&be(t.y)&&n>=t.y),"".concat(cc,"-top"),be(n)&&t&&be(t.y)&&n<t.y))}function xA(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,o=e.position,l=e.reverseDirection,u=e.tooltipDimension,d=e.viewBox,f=e.viewBoxDimension;if(o&&be(o[n]))return o[n];var v=r[n]-u-i,h=r[n]+i;if(t[n])return l[n]?v:h;if(l[n]){var m=v,b=d[n];return m<b?Math.max(h,d[n]):Math.max(v,d[n])}var w=h+u,x=d[n]+f;return w>x?Math.max(v,d[n]):Math.max(h,d[n])}function O$(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function E$(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,d=e.viewBox,f,v,h;return l.height>0&&l.width>0&&r?(v=xA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),h=xA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=O$({translateX:v,translateY:h,useTranslate3d:u})):f=P$,{cssProperties:f,cssClasses:_$({translateX:v,translateY:h,coordinate:r})}}function Rs(e){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function bA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(r),!0).forEach(function(n){p0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kT(n.key),n)}}function R$(e,t,r){return t&&D$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function I$(e,t,r){return t=Tf(t),M$(e,jT()?Reflect.construct(t,r||[],Tf(e).constructor):t.apply(e,r))}function M$(e,t){if(t&&(Rs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L$(e)}function L$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jT=function(){return!!e})()}function Tf(e){return Tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tf(e)}function B$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f0(e,t)}function f0(e,t){return f0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},f0(e,t)}function p0(e,t,r){return t=kT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kT(e){var t=F$(e,"string");return Rs(t)=="symbol"?t:t+""}function F$(e,t){if(Rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wA=1,W$=(function(e){function t(){var r;T$(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=I$(this,t,[].concat(i)),p0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),p0(r,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,f,v;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(v=r.props.coordinate)===null||v===void 0?void 0:v.y)!==null&&f!==void 0?f:0}})}}),r}return B$(t,e),R$(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>wA||Math.abs(n.height-this.state.lastBoundingBox.height)>wA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.children,v=i.coordinate,h=i.hasPayload,m=i.isAnimationActive,b=i.offset,w=i.position,x=i.reverseDirection,y=i.useTranslate3d,j=i.viewBox,k=i.wrapperStyle,S=E$({allowEscapeViewBox:l,coordinate:v,offsetTopLeft:b,position:w,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:j}),N=S.cssClasses,A=S.cssProperties,O=SA(SA({transition:m&&o?"transform ".concat(u,"ms ").concat(d):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&h?"visible":"hidden",position:"absolute",top:0,left:0},k);return K.createElement("div",{tabIndex:-1,className:N,style:O,ref:function(T){n.wrapperNode=T}},f)}}])})(z.PureComponent),$$=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},qa={isSsr:$$()};function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function jA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(r),!0).forEach(function(n){u1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zT(n.key),n)}}function K$(e,t,r){return t&&H$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function G$(e,t,r){return t=Df(t),V$(e,CT()?Reflect.construct(t,r||[],Df(e).constructor):t.apply(e,r))}function V$(e,t){if(t&&(Is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q$(e)}function q$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CT=function(){return!!e})()}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Df(e)}function Z$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h0(e,t)}function h0(e,t){return h0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},h0(e,t)}function u1(e,t,r){return t=zT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zT(e){var t=X$(e,"string");return Is(t)=="symbol"?t:t+""}function X$(e,t){if(Is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Y$(e){return e.dataKey}function Q$(e,t){return K.isValidElement(e)?K.cloneElement(e,t):typeof e=="function"?K.createElement(e,t):K.createElement(z$,t)}var st=(function(e){function t(){return U$(this,t),G$(this,t,arguments)}return Z$(t,e),K$(t,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.content,v=i.coordinate,h=i.filterNull,m=i.isAnimationActive,b=i.offset,w=i.payload,x=i.payloadUniqBy,y=i.position,j=i.reverseDirection,k=i.useTranslate3d,S=i.viewBox,N=i.wrapperStyle,A=w??[];h&&A.length&&(A=mT(w.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),x,Y$));var O=A.length>0;return K.createElement(W$,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:m,active:o,coordinate:v,hasPayload:O,offset:b,position:y,reverseDirection:j,useTranslate3d:k,viewBox:S,wrapperStyle:N},Q$(f,kA(kA({},this.props),{},{payload:A})))}}])})(z.PureComponent);u1(st,"displayName","Tooltip");u1(st,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!qa.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ax,CA;function J$(){if(CA)return Ax;CA=1;var e=pa(),t=function(){return e.Date.now()};return Ax=t,Ax}var Nx,zA;function e8(){if(zA)return Nx;zA=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return Nx=t,Nx}var Px,AA;function t8(){if(AA)return Px;AA=1;var e=e8(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return Px=r,Px}var _x,NA;function AT(){if(NA)return _x;NA=1;var e=t8(),t=Di(),r=ul(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(t(f)){var v=typeof f.valueOf=="function"?f.valueOf():f;f=t(v)?v+"":v}if(typeof f!="string")return f===0?f:+f;f=e(f);var h=o.test(f);return h||l.test(f)?u(f.slice(2),h?2:8):i.test(f)?n:+f}return _x=d,_x}var Ox,PA;function r8(){if(PA)return Ox;PA=1;var e=Di(),t=J$(),r=AT(),n="Expected a function",i=Math.max,o=Math.min;function l(u,d,f){var v,h,m,b,w,x,y=0,j=!1,k=!1,S=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,e(f)&&(j=!!f.leading,k="maxWait"in f,m=k?i(r(f.maxWait)||0,d):m,S="trailing"in f?!!f.trailing:S);function N(M){var V=v,H=h;return v=h=void 0,y=M,b=u.apply(H,V),b}function A(M){return y=M,w=setTimeout(T,d),j?N(M):b}function O(M){var V=M-x,H=M-y,q=d-V;return k?o(q,m-H):q}function _(M){var V=M-x,H=M-y;return x===void 0||V>=d||V<0||k&&H>=m}function T(){var M=t();if(_(M))return E(M);w=setTimeout(T,O(M))}function E(M){return w=void 0,S&&v?N(M):(v=h=void 0,b)}function D(){w!==void 0&&clearTimeout(w),y=0,v=x=h=w=void 0}function I(){return w===void 0?b:E(t())}function L(){var M=t(),V=_(M);if(v=arguments,h=this,x=M,V){if(w===void 0)return A(x);if(k)return clearTimeout(w),w=setTimeout(T,d),N(x)}return w===void 0&&(w=setTimeout(T,d)),b}return L.cancel=D,L.flush=I,L}return Ox=l,Ox}var Ex,_A;function n8(){if(_A)return Ex;_A=1;var e=r8(),t=Di(),r="Expected a function";function n(i,o,l){var u=!0,d=!0;if(typeof i!="function")throw new TypeError(r);return t(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),e(i,o,{leading:u,maxWait:o,trailing:d})}return Ex=n,Ex}var a8=n8();const NT=pt(a8);function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function OA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(r),!0).forEach(function(n){i8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i8(e,t,r){return t=o8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o8(e){var t=s8(e,"string");return $c(t)=="symbol"?t:t+""}function s8(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l8(e,t){return f8(e)||d8(e,t)||u8(e,t)||c8()}function c8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u8(e,t){if(e){if(typeof e=="string")return EA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EA(e,t)}}function EA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function f8(e){if(Array.isArray(e))return e}var Yt=z.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=e.width,l=o===void 0?"100%":o,u=e.height,d=u===void 0?"100%":u,f=e.minWidth,v=f===void 0?0:f,h=e.minHeight,m=e.maxHeight,b=e.children,w=e.debounce,x=w===void 0?0:w,y=e.id,j=e.className,k=e.onResize,S=e.style,N=S===void 0?{}:S,A=z.useRef(null),O=z.useRef();O.current=k,z.useImperativeHandle(t,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var _=z.useState({containerWidth:i.width,containerHeight:i.height}),T=l8(_,2),E=T[0],D=T[1],I=z.useCallback(function(M,V){D(function(H){var q=Math.round(M),X=Math.round(V);return H.containerWidth===q&&H.containerHeight===X?H:{containerWidth:q,containerHeight:X}})},[]);z.useEffect(function(){var M=function(F){var Y,$=F[0].contentRect,B=$.width,re=$.height;I(B,re),(Y=O.current)===null||Y===void 0||Y.call(O,B,re)};x>0&&(M=NT(M,x,{trailing:!0,leading:!1}));var V=new ResizeObserver(M),H=A.current.getBoundingClientRect(),q=H.width,X=H.height;return I(q,X),V.observe(A.current),function(){V.disconnect()}},[I,x]);var L=z.useMemo(function(){var M=E.containerWidth,V=E.containerHeight;if(M<0||V<0)return null;Gn(fo(l)||fo(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),Gn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var H=fo(l)?M:l,q=fo(d)?V:d;r&&r>0&&(H?q=H/r:q&&(H=q*r),m&&q>m&&(q=m)),Gn(H>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,q,l,d,v,h,r);var X=!Array.isArray(b)&&Ma(b.type).endsWith("Chart");return K.Children.map(b,function(W){return K.isValidElement(W)?z.cloneElement(W,Vd({width:H,height:q},X?{style:Vd({height:"100%",width:"100%",maxHeight:q,maxWidth:H},W.props.style)}:{})):W})},[r,b,d,m,h,v,E,l]);return K.createElement("div",{id:y?"".concat(y):void 0,className:He("recharts-responsive-container",j),style:Vd(Vd({},N),{},{width:l,height:d,minWidth:v,minHeight:h,maxHeight:m}),ref:A},L)}),hl=function(t){return null};hl.displayName="Cell";function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function TA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function v0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(r),!0).forEach(function(n){p8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p8(e,t,r){return t=h8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h8(e){var t=v8(e,"string");return Uc(t)=="symbol"?t:t+""}function v8(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var os={widthCache:{},cacheCount:0},m8=2e3,g8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},DA="recharts_measurement_span";function y8(e){var t=v0({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Pc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||qa.isSsr)return{width:0,height:0};var n=y8(r),i=JSON.stringify({text:t,copyStyle:n});if(os.widthCache[i])return os.widthCache[i];try{var o=document.getElementById(DA);o||(o=document.createElement("span"),o.setAttribute("id",DA),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var l=v0(v0({},g8),n);Object.assign(o.style,l),o.textContent="".concat(t);var u=o.getBoundingClientRect(),d={width:u.width,height:u.height};return os.widthCache[i]=d,++os.cacheCount>m8&&(os.cacheCount=0,os.widthCache={}),d}catch{return{width:0,height:0}}},x8=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function Rf(e,t){return j8(e)||w8(e,t)||S8(e,t)||b8()}function b8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S8(e,t){if(e){if(typeof e=="string")return RA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RA(e,t)}}function RA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function j8(e){if(Array.isArray(e))return e}function k8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z8(n.key),n)}}function C8(e,t,r){return t&&IA(e.prototype,t),r&&IA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function z8(e){var t=A8(e,"string");return Hc(t)=="symbol"?t:t+""}function A8(e,t){if(Hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var MA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,N8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,P8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,PT={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_8=Object.keys(PT),bs="NaN";function O8(e,t){return e*PT[t]}var qd=(function(){function e(t,r){k8(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!N8.test(r)&&(this.num=NaN,this.unit=""),_8.includes(r)&&(this.num=O8(t,r),this.unit="px")}return C8(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=P8.exec(r))!==null&&n!==void 0?n:[],o=Rf(i,3),l=o[1],u=o[2];return new e(parseFloat(l),u??"")}}])})();function _T(e){if(e.includes(bs))return bs;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=MA.exec(t))!==null&&r!==void 0?r:[],i=Rf(n,4),o=i[1],l=i[2],u=i[3],d=qd.parse(o??""),f=qd.parse(u??""),v=l==="*"?d.multiply(f):d.divide(f);if(v.isNaN())return bs;t=t.replace(MA,v.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,m=(h=LA.exec(t))!==null&&h!==void 0?h:[],b=Rf(m,4),w=b[1],x=b[2],y=b[3],j=qd.parse(w??""),k=qd.parse(y??""),S=x==="+"?j.add(k):j.subtract(k);if(S.isNaN())return bs;t=t.replace(LA,S.toString())}return t}var BA=/\(([^()]*)\)/;function E8(e){for(var t=e;t.includes("(");){var r=BA.exec(t),n=Rf(r,2),i=n[1];t=t.replace(BA,_T(i))}return t}function T8(e){var t=e.replace(/\s+/g,"");return t=E8(t),t=_T(t),t}function D8(e){try{return T8(e)}catch{return bs}}function Tx(e){var t=D8(e.slice(5,-1));return t===bs?"":t}var R8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],I8=["dx","dy","angle","className","breakAll"];function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m0.apply(this,arguments)}function FA(e,t){if(e==null)return{};var r=M8(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function M8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function WA(e,t){return W8(e)||F8(e,t)||B8(e,t)||L8()}function L8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B8(e,t){if(e){if(typeof e=="string")return $A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $A(e,t)}}function $A(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function W8(e){if(Array.isArray(e))return e}var OT=/[ \f\n\r\t\v\u2028\u2029]+/,ET=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var o=[];Fe(r)||(n?o=r.toString().split(""):o=r.toString().split(OT));var l=o.map(function(d){return{word:d,width:Pc(d,i).width}}),u=n?0:Pc("",i).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},$8=function(t,r,n,i,o){var l=t.maxLines,u=t.children,d=t.style,f=t.breakAll,v=be(l),h=u,m=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(q,X){var W=X.word,F=X.width,Y=q[q.length-1];if(Y&&(i==null||o||Y.width+F+n<Number(i)))Y.words.push(W),Y.width+=F+n;else{var $={words:[W],width:F};q.push($)}return q},[])},b=m(r),w=function(H){return H.reduce(function(q,X){return q.width>X.width?q:X})};if(!v)return b;for(var x="",y=function(H){var q=h.slice(0,H),X=ET({breakAll:f,style:d,children:q+x}).wordsWithComputedWidth,W=m(X),F=W.length>l||w(W).width>Number(i);return[F,W]},j=0,k=h.length-1,S=0,N;j<=k&&S<=h.length-1;){var A=Math.floor((j+k)/2),O=A-1,_=y(O),T=WA(_,2),E=T[0],D=T[1],I=y(A),L=WA(I,1),M=L[0];if(!E&&!M&&(j=A+1),E&&M&&(k=A-1),!E&&M){N=D;break}S++}return N||b},UA=function(t){var r=Fe(t)?[]:t.toString().split(OT);return[{words:r}]},U8=function(t){var r=t.width,n=t.scaleToFit,i=t.children,o=t.style,l=t.breakAll,u=t.maxLines;if((r||n)&&!qa.isSsr){var d,f,v=ET({breakAll:l,children:i,style:o});if(v){var h=v.wordsWithComputedWidth,m=v.spaceWidth;d=h,f=m}else return UA(i);return $8({breakAll:l,children:i,maxLines:u,style:o},d,f,r,n)}return UA(i)},HA="#808080",wo=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,o=i===void 0?0:i,l=t.lineHeight,u=l===void 0?"1em":l,d=t.capHeight,f=d===void 0?"0.71em":d,v=t.scaleToFit,h=v===void 0?!1:v,m=t.textAnchor,b=m===void 0?"start":m,w=t.verticalAnchor,x=w===void 0?"end":w,y=t.fill,j=y===void 0?HA:y,k=FA(t,R8),S=z.useMemo(function(){return U8({breakAll:k.breakAll,children:k.children,maxLines:k.maxLines,scaleToFit:h,style:k.style,width:k.width})},[k.breakAll,k.children,k.maxLines,h,k.style,k.width]),N=k.dx,A=k.dy,O=k.angle,_=k.className,T=k.breakAll,E=FA(k,I8);if(!cr(n)||!cr(o))return null;var D=n+(be(N)?N:0),I=o+(be(A)?A:0),L;switch(x){case"start":L=Tx("calc(".concat(f,")"));break;case"middle":L=Tx("calc(".concat((S.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:L=Tx("calc(".concat(S.length-1," * -").concat(u,")"));break}var M=[];if(h){var V=S[0].width,H=k.width;M.push("scale(".concat((be(H)?H/V:1)/V,")"))}return O&&M.push("rotate(".concat(O,", ").concat(D,", ").concat(I,")")),M.length&&(E.transform=M.join(" ")),K.createElement("text",m0({},Te(E,!0),{x:D,y:I,className:He("recharts-text",_),textAnchor:b,fill:j.includes("url")?HA:j}),S.map(function(q,X){var W=q.words.join(T?"":" ");return K.createElement("tspan",{x:D,dy:X===0?L:u,key:"".concat(W,"-").concat(X)},W)}))};function ki(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function H8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function d1(e){let t,r,n;e.length!==2?(t=ki,r=(u,d)=>ki(e(u),d),n=(u,d)=>e(u)-d):(t=e===ki||e===H8?e:K8,r=e,n=e);function i(u,d,f=0,v=u.length){if(f<v){if(t(d,d)!==0)return v;do{const h=f+v>>>1;r(u[h],d)<0?f=h+1:v=h}while(f<v)}return f}function o(u,d,f=0,v=u.length){if(f<v){if(t(d,d)!==0)return v;do{const h=f+v>>>1;r(u[h],d)<=0?f=h+1:v=h}while(f<v)}return f}function l(u,d,f=0,v=u.length){const h=i(u,d,f,v-1);return h>f&&n(u[h-1],d)>-n(u[h],d)?h-1:h}return{left:i,center:l,right:o}}function K8(){return 0}function TT(e){return e===null?NaN:+e}function*G8(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const V8=d1(ki),ku=V8.right;d1(TT).center;class KA extends Map{constructor(t,r=X8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(GA(this,t))}has(t){return super.has(GA(this,t))}set(t,r){return super.set(q8(this,t),r)}delete(t){return super.delete(Z8(this,t))}}function GA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function q8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Z8({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function X8(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Y8(e=ki){if(e===ki)return DT;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function DT(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Q8=Math.sqrt(50),J8=Math.sqrt(10),eU=Math.sqrt(2);function If(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),l=o>=Q8?10:o>=J8?5:o>=eU?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=r&&r<2?If(e,t,r*2):[u,d,f]}function g0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,o,l]=n?If(t,e,r):If(e,t,r);if(!(o>=i))return[];const u=o-i+1,d=new Array(u);if(n)if(l<0)for(let f=0;f<u;++f)d[f]=(o-f)/-l;else for(let f=0;f<u;++f)d[f]=(o-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(i+f)/-l;else for(let f=0;f<u;++f)d[f]=(i+f)*l;return d}function y0(e,t,r){return t=+t,e=+e,r=+r,If(e,t,r)[2]}function x0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?y0(t,e,r):y0(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function VA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function qA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function RT(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?DT:Y8(i);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,v=Math.log(d),h=.5*Math.exp(2*v/3),m=.5*Math.sqrt(v*h*(d-h)/d)*(f-d/2<0?-1:1),b=Math.max(r,Math.floor(t-f*h/d+m)),w=Math.min(n,Math.floor(t+(d-f)*h/d+m));RT(e,t,b,w,i)}const o=e[t];let l=r,u=n;for(uc(e,r,t),i(e[n],o)>0&&uc(e,r,n);l<u;){for(uc(e,l,u),++l,--u;i(e[l],o)<0;)++l;for(;i(e[u],o)>0;)--u}i(e[r],o)===0?uc(e,r,u):(++u,uc(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function uc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function tU(e,t,r){if(e=Float64Array.from(G8(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return qA(e);if(t>=1)return VA(e);var n,i=(n-1)*t,o=Math.floor(i),l=VA(RT(e,o).subarray(0,o+1)),u=qA(e.subarray(o+1));return l+(u-l)*(i-o)}}function rU(e,t,r=TT){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,o=Math.floor(i),l=+r(e[o],o,e),u=+r(e[o+1],o+1,e);return l+(u-l)*(i-o)}}function nU(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(i);++n<i;)o[n]=e+n*r;return o}function On(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Za(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const b0=Symbol("implicit");function f1(){var e=new KA,t=[],r=[],n=b0;function i(o){let l=e.get(o);if(l===void 0){if(n!==b0)return n;e.set(o,l=t.push(o)-1)}return r[l%r.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new KA;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return f1(t,r).unknown(n)},On.apply(i,arguments),i}function Kc(){var e=f1().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,o,l,u=!1,d=0,f=0,v=.5;delete e.unknown;function h(){var m=t().length,b=i<n,w=b?i:n,x=b?n:i;o=(x-w)/Math.max(1,m-d+f*2),u&&(o=Math.floor(o)),w+=(x-w-o*(m-d))*v,l=o*(1-d),u&&(w=Math.round(w),l=Math.round(l));var y=nU(m).map(function(j){return w+o*j});return r(b?y.reverse():y)}return e.domain=function(m){return arguments.length?(t(m),h()):t()},e.range=function(m){return arguments.length?([n,i]=m,n=+n,i=+i,h()):[n,i]},e.rangeRound=function(m){return[n,i]=m,n=+n,i=+i,u=!0,h()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(m){return arguments.length?(u=!!m,h()):u},e.padding=function(m){return arguments.length?(d=Math.min(1,f=+m),h()):d},e.paddingInner=function(m){return arguments.length?(d=Math.min(1,m),h()):d},e.paddingOuter=function(m){return arguments.length?(f=+m,h()):f},e.align=function(m){return arguments.length?(v=Math.max(0,Math.min(1,m)),h()):v},e.copy=function(){return Kc(t(),[n,i]).round(u).paddingInner(d).paddingOuter(f).align(v)},On.apply(h(),arguments)}function IT(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return IT(t())},e}function _c(){return IT(Kc.apply(null,arguments).paddingInner(1))}function p1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function MT(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Cu(){}var Gc=.7,Mf=1/Gc,As="\\s*([+-]?\\d+)\\s*",Vc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",la="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aU=/^#([0-9a-f]{3,8})$/,iU=new RegExp(`^rgb\\(${As},${As},${As}\\)$`),oU=new RegExp(`^rgb\\(${la},${la},${la}\\)$`),sU=new RegExp(`^rgba\\(${As},${As},${As},${Vc}\\)$`),lU=new RegExp(`^rgba\\(${la},${la},${la},${Vc}\\)$`),cU=new RegExp(`^hsl\\(${Vc},${la},${la}\\)$`),uU=new RegExp(`^hsla\\(${Vc},${la},${la},${Vc}\\)$`),ZA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};p1(Cu,qc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:XA,formatHex:XA,formatHex8:dU,formatHsl:fU,formatRgb:YA,toString:YA});function XA(){return this.rgb().formatHex()}function dU(){return this.rgb().formatHex8()}function fU(){return LT(this).formatHsl()}function YA(){return this.rgb().formatRgb()}function qc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=aU.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?QA(t):r===3?new Zr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Zd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Zd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=iU.exec(e))?new Zr(t[1],t[2],t[3],1):(t=oU.exec(e))?new Zr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=sU.exec(e))?Zd(t[1],t[2],t[3],t[4]):(t=lU.exec(e))?Zd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=cU.exec(e))?tN(t[1],t[2]/100,t[3]/100,1):(t=uU.exec(e))?tN(t[1],t[2]/100,t[3]/100,t[4]):ZA.hasOwnProperty(e)?QA(ZA[e]):e==="transparent"?new Zr(NaN,NaN,NaN,0):null}function QA(e){return new Zr(e>>16&255,e>>8&255,e&255,1)}function Zd(e,t,r,n){return n<=0&&(e=t=r=NaN),new Zr(e,t,r,n)}function pU(e){return e instanceof Cu||(e=qc(e)),e?(e=e.rgb(),new Zr(e.r,e.g,e.b,e.opacity)):new Zr}function S0(e,t,r,n){return arguments.length===1?pU(e):new Zr(e,t,r,n??1)}function Zr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}p1(Zr,S0,MT(Cu,{brighter(e){return e=e==null?Mf:Math.pow(Mf,e),new Zr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Gc:Math.pow(Gc,e),new Zr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Zr(xo(this.r),xo(this.g),xo(this.b),Lf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JA,formatHex:JA,formatHex8:hU,formatRgb:eN,toString:eN}));function JA(){return`#${po(this.r)}${po(this.g)}${po(this.b)}`}function hU(){return`#${po(this.r)}${po(this.g)}${po(this.b)}${po((isNaN(this.opacity)?1:this.opacity)*255)}`}function eN(){const e=Lf(this.opacity);return`${e===1?"rgb(":"rgba("}${xo(this.r)}, ${xo(this.g)}, ${xo(this.b)}${e===1?")":`, ${e})`}`}function Lf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function xo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function po(e){return e=xo(e),(e<16?"0":"")+e.toString(16)}function tN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Hn(e,t,r,n)}function LT(e){if(e instanceof Hn)return new Hn(e.h,e.s,e.l,e.opacity);if(e instanceof Cu||(e=qc(e)),!e)return new Hn;if(e instanceof Hn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),l=NaN,u=o-i,d=(o+i)/2;return u?(t===o?l=(r-n)/u+(r<n)*6:r===o?l=(n-t)/u+2:l=(t-r)/u+4,u/=d<.5?o+i:2-o-i,l*=60):u=d>0&&d<1?0:l,new Hn(l,u,d,e.opacity)}function vU(e,t,r,n){return arguments.length===1?LT(e):new Hn(e,t,r,n??1)}function Hn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}p1(Hn,vU,MT(Cu,{brighter(e){return e=e==null?Mf:Math.pow(Mf,e),new Hn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Gc:Math.pow(Gc,e),new Hn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Zr(Dx(e>=240?e-240:e+120,i,n),Dx(e,i,n),Dx(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Hn(rN(this.h),Xd(this.s),Xd(this.l),Lf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Lf(this.opacity);return`${e===1?"hsl(":"hsla("}${rN(this.h)}, ${Xd(this.s)*100}%, ${Xd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rN(e){return e=(e||0)%360,e<0?e+360:e}function Xd(e){return Math.max(0,Math.min(1,e||0))}function Dx(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const h1=e=>()=>e;function mU(e,t){return function(r){return e+r*t}}function gU(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function yU(e){return(e=+e)==1?BT:function(t,r){return r-t?gU(t,r,e):h1(isNaN(t)?r:t)}}function BT(e,t){var r=t-e;return r?mU(e,r):h1(isNaN(e)?t:e)}const nN=(function e(t){var r=yU(t);function n(i,o){var l=r((i=S0(i)).r,(o=S0(o)).r),u=r(i.g,o.g),d=r(i.b,o.b),f=BT(i.opacity,o.opacity);return function(v){return i.r=l(v),i.g=u(v),i.b=d(v),i.opacity=f(v),i+""}}return n.gamma=e,n})(1);function xU(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=e[i]*(1-o)+t[i]*o;return n}}function bU(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function SU(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),o=new Array(r),l;for(l=0;l<n;++l)i[l]=vl(e[l],t[l]);for(;l<r;++l)o[l]=t[l];return function(u){for(l=0;l<n;++l)o[l]=i[l](u);return o}}function wU(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Bf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function jU(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=vl(e[i],t[i]):n[i]=t[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var w0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rx=new RegExp(w0.source,"g");function kU(e){return function(){return e}}function CU(e){return function(t){return e(t)+""}}function zU(e,t){var r=w0.lastIndex=Rx.lastIndex=0,n,i,o,l=-1,u=[],d=[];for(e=e+"",t=t+"";(n=w0.exec(e))&&(i=Rx.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),u[l]?u[l]+=o:u[++l]=o),(n=n[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:Bf(n,i)})),r=Rx.lastIndex;return r<t.length&&(o=t.slice(r),u[l]?u[l]+=o:u[++l]=o),u.length<2?d[0]?CU(d[0].x):kU(t):(t=d.length,function(f){for(var v=0,h;v<t;++v)u[(h=d[v]).i]=h.x(f);return u.join("")})}function vl(e,t){var r=typeof t,n;return t==null||r==="boolean"?h1(t):(r==="number"?Bf:r==="string"?(n=qc(t))?(t=n,nN):zU:t instanceof qc?nN:t instanceof Date?wU:bU(t)?xU:Array.isArray(t)?SU:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?jU:Bf)(e,t)}function v1(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function AU(e,t){t===void 0&&(t=e,e=vl);for(var r=0,n=t.length-1,i=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(i,i=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return o[u](l-u)}}function NU(e){return function(){return e}}function Ff(e){return+e}var aN=[0,1];function Br(e){return e}function j0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:NU(isNaN(t)?NaN:.5)}function PU(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function _U(e,t,r){var n=e[0],i=e[1],o=t[0],l=t[1];return i<n?(n=j0(i,n),o=r(l,o)):(n=j0(n,i),o=r(o,l)),function(u){return o(n(u))}}function OU(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),o=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)i[l]=j0(e[l],e[l+1]),o[l]=r(t[l],t[l+1]);return function(u){var d=ku(e,u,1,n)-1;return o[d](i[d](u))}}function zu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Jp(){var e=aN,t=aN,r=vl,n,i,o,l=Br,u,d,f;function v(){var m=Math.min(e.length,t.length);return l!==Br&&(l=PU(e[0],e[m-1])),u=m>2?OU:_U,d=f=null,h}function h(m){return m==null||isNaN(m=+m)?o:(d||(d=u(e.map(n),t,r)))(n(l(m)))}return h.invert=function(m){return l(i((f||(f=u(t,e.map(n),Bf)))(m)))},h.domain=function(m){return arguments.length?(e=Array.from(m,Ff),v()):e.slice()},h.range=function(m){return arguments.length?(t=Array.from(m),v()):t.slice()},h.rangeRound=function(m){return t=Array.from(m),r=v1,v()},h.clamp=function(m){return arguments.length?(l=m?!0:Br,v()):l!==Br},h.interpolate=function(m){return arguments.length?(r=m,v()):r},h.unknown=function(m){return arguments.length?(o=m,h):o},function(m,b){return n=m,i=b,v()}}function m1(){return Jp()(Br,Br)}function EU(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Wf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ms(e){return e=Wf(Math.abs(e)),e?e[1]:NaN}function TU(e,t){return function(r,n){for(var i=r.length,o=[],l=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),o.push(r.substring(i-=u,i+u)),!((d+=u+1)>n));)u=e[l=(l+1)%e.length];return o.reverse().join(t)}}function DU(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var RU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zc(e){if(!(t=RU.exec(e)))throw new Error("invalid format: "+e);var t;return new g1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Zc.prototype=g1.prototype;function g1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}g1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function IU(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var FT;function MU(e,t){var r=Wf(e,t);if(!r)return e+"";var n=r[0],i=r[1],o=i-(FT=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=n.length;return o===l?n:o>l?n+new Array(o-l+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Wf(e,Math.max(0,t+o-1))[0]}function iN(e,t){var r=Wf(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const oN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:EU,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>iN(e*100,t),r:iN,s:MU,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function sN(e){return e}var lN=Array.prototype.map,cN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function LU(e){var t=e.grouping===void 0||e.thousands===void 0?sN:TU(lN.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?sN:DU(lN.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(h){h=Zc(h);var m=h.fill,b=h.align,w=h.sign,x=h.symbol,y=h.zero,j=h.width,k=h.comma,S=h.precision,N=h.trim,A=h.type;A==="n"?(k=!0,A="g"):oN[A]||(S===void 0&&(S=12),N=!0,A="g"),(y||m==="0"&&b==="=")&&(y=!0,m="0",b="=");var O=x==="$"?r:x==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",_=x==="$"?n:/[%p]/.test(A)?l:"",T=oN[A],E=/[defgprs%]/.test(A);S=S===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function D(I){var L=O,M=_,V,H,q;if(A==="c")M=T(I)+M,I="";else{I=+I;var X=I<0||1/I<0;if(I=isNaN(I)?d:T(Math.abs(I),S),N&&(I=IU(I)),X&&+I==0&&w!=="+"&&(X=!1),L=(X?w==="("?w:u:w==="-"||w==="("?"":w)+L,M=(A==="s"?cN[8+FT/3]:"")+M+(X&&w==="("?")":""),E){for(V=-1,H=I.length;++V<H;)if(q=I.charCodeAt(V),48>q||q>57){M=(q===46?i+I.slice(V+1):I.slice(V))+M,I=I.slice(0,V);break}}}k&&!y&&(I=t(I,1/0));var W=L.length+I.length+M.length,F=W<j?new Array(j-W+1).join(m):"";switch(k&&y&&(I=t(F+I,F.length?j-M.length:1/0),F=""),b){case"<":I=L+I+M+F;break;case"=":I=L+F+I+M;break;case"^":I=F.slice(0,W=F.length>>1)+L+I+M+F.slice(W);break;default:I=F+L+I+M;break}return o(I)}return D.toString=function(){return h+""},D}function v(h,m){var b=f((h=Zc(h),h.type="f",h)),w=Math.max(-8,Math.min(8,Math.floor(Ms(m)/3)))*3,x=Math.pow(10,-w),y=cN[8+w/3];return function(j){return b(x*j)+y}}return{format:f,formatPrefix:v}}var Yd,y1,WT;BU({thousands:",",grouping:[3],currency:["$",""]});function BU(e){return Yd=LU(e),y1=Yd.format,WT=Yd.formatPrefix,Yd}function FU(e){return Math.max(0,-Ms(Math.abs(e)))}function WU(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ms(t)/3)))*3-Ms(Math.abs(e)))}function $U(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ms(t)-Ms(e))+1}function $T(e,t,r,n){var i=x0(e,t,r),o;switch(n=Zc(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=WU(i,l))&&(n.precision=o),WT(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=$U(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=FU(i))&&(n.precision=o-(n.type==="%")*2);break}}return y1(n)}function Ii(e){var t=e.domain;return e.ticks=function(r){var n=t();return g0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return $T(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,o=n.length-1,l=n[i],u=n[o],d,f,v=10;for(u<l&&(f=l,l=u,u=f,f=i,i=o,o=f);v-- >0;){if(f=y0(l,u,r),f===d)return n[i]=l,n[o]=u,t(n);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function $f(){var e=m1();return e.copy=function(){return zu(e,$f())},On.apply(e,arguments),Ii(e)}function UT(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Ff),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return UT(e).unknown(t)},e=arguments.length?Array.from(e,Ff):[0,1],Ii(r)}function HT(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],o=e[n],l;return o<i&&(l=r,r=n,n=l,l=i,i=o,o=l),e[r]=t.floor(i),e[n]=t.ceil(o),e}function uN(e){return Math.log(e)}function dN(e){return Math.exp(e)}function UU(e){return-Math.log(-e)}function HU(e){return-Math.exp(-e)}function KU(e){return isFinite(e)?+("1e"+e):e<0?0:e}function GU(e){return e===10?KU:e===Math.E?Math.exp:t=>Math.pow(e,t)}function VU(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function fN(e){return(t,r)=>-e(-t,r)}function x1(e){const t=e(uN,dN),r=t.domain;let n=10,i,o;function l(){return i=VU(n),o=GU(n),r()[0]<0?(i=fN(i),o=fN(o),e(UU,HU)):e(uN,dN),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let f=d[0],v=d[d.length-1];const h=v<f;h&&([f,v]=[v,f]);let m=i(f),b=i(v),w,x;const y=u==null?10:+u;let j=[];if(!(n%1)&&b-m<y){if(m=Math.floor(m),b=Math.ceil(b),f>0){for(;m<=b;++m)for(w=1;w<n;++w)if(x=m<0?w/o(-m):w*o(m),!(x<f)){if(x>v)break;j.push(x)}}else for(;m<=b;++m)for(w=n-1;w>=1;--w)if(x=m>0?w/o(-m):w*o(m),!(x<f)){if(x>v)break;j.push(x)}j.length*2<y&&(j=g0(f,v,y))}else j=g0(m,b,Math.min(b-m,y)).map(o);return h?j.reverse():j},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Zc(d)).precision==null&&(d.trim=!0),d=y1(d)),u===1/0)return d;const f=Math.max(1,n*u/t.ticks().length);return v=>{let h=v/o(Math.round(i(v)));return h*n<n-.5&&(h*=n),h<=f?d(v):""}},t.nice=()=>r(HT(r(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),t}function KT(){const e=x1(Jp()).domain([1,10]);return e.copy=()=>zu(e,KT()).base(e.base()),On.apply(e,arguments),e}function pN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function hN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function b1(e){var t=1,r=e(pN(t),hN(t));return r.constant=function(n){return arguments.length?e(pN(t=+n),hN(t)):t},Ii(r)}function GT(){var e=b1(Jp());return e.copy=function(){return zu(e,GT()).constant(e.constant())},On.apply(e,arguments)}function vN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function qU(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ZU(e){return e<0?-e*e:e*e}function S1(e){var t=e(Br,Br),r=1;function n(){return r===1?e(Br,Br):r===.5?e(qU,ZU):e(vN(r),vN(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ii(t)}function w1(){var e=S1(Jp());return e.copy=function(){return zu(e,w1()).exponent(e.exponent())},On.apply(e,arguments),e}function XU(){return w1.apply(null,arguments).exponent(.5)}function mN(e){return Math.sign(e)*e*e}function YU(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function VT(){var e=m1(),t=[0,1],r=!1,n;function i(o){var l=YU(e(o));return isNaN(l)?n:r?Math.round(l):l}return i.invert=function(o){return e.invert(mN(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Ff)).map(mN)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return VT(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},On.apply(i,arguments),Ii(i)}function qT(){var e=[],t=[],r=[],n;function i(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=rU(e,l/u);return o}function o(l){return l==null||isNaN(l=+l)?n:t[ku(r,l)]}return o.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(ki),i()},o.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},o.unknown=function(l){return arguments.length?(n=l,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return qT().domain(e).range(t).unknown(n)},On.apply(o,arguments)}function ZT(){var e=0,t=1,r=1,n=[.5],i=[0,1],o;function l(d){return d!=null&&d<=d?i[ku(n,d,0,r)]:o}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},l.unknown=function(d){return arguments.length&&(o=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return ZT().domain([e,t]).range(i).unknown(o)},On.apply(Ii(l),arguments)}function XT(){var e=[.5],t=[0,1],r,n=1;function i(o){return o!=null&&o<=o?t[ku(e,o,0,n)]:r}return i.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return XT().domain(e).range(t).unknown(r)},On.apply(i,arguments)}const Ix=new Date,Mx=new Date;function ur(e,t,r,n){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const d=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return d;let f;do d.push(f=new Date(+o)),t(o,u),e(o);while(f<o&&o<l);return d},i.filter=o=>ur(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!o(l););else for(;--u>=0;)for(;t(l,1),!o(l););}),r&&(i.count=(o,l)=>(Ix.setTime(+o),Mx.setTime(+l),e(Ix),e(Mx),Math.floor(r(Ix,Mx))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?l=>n(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const Uf=ur(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Uf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ur(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Uf);Uf.range;const Da=1e3,Nn=Da*60,Ra=Nn*60,Ba=Ra*24,j1=Ba*7,gN=Ba*30,Lx=Ba*365,ho=ur(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Da)},(e,t)=>(t-e)/Da,e=>e.getUTCSeconds());ho.range;const k1=ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Da)},(e,t)=>{e.setTime(+e+t*Nn)},(e,t)=>(t-e)/Nn,e=>e.getMinutes());k1.range;const C1=ur(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Nn)},(e,t)=>(t-e)/Nn,e=>e.getUTCMinutes());C1.range;const z1=ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Da-e.getMinutes()*Nn)},(e,t)=>{e.setTime(+e+t*Ra)},(e,t)=>(t-e)/Ra,e=>e.getHours());z1.range;const A1=ur(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ra)},(e,t)=>(t-e)/Ra,e=>e.getUTCHours());A1.range;const Au=ur(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Nn)/Ba,e=>e.getDate()-1);Au.range;const eh=ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ba,e=>e.getUTCDate()-1);eh.range;const YT=ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ba,e=>Math.floor(e/Ba));YT.range;function Eo(e){return ur(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Nn)/j1)}const th=Eo(0),Hf=Eo(1),QU=Eo(2),JU=Eo(3),Ls=Eo(4),eH=Eo(5),tH=Eo(6);th.range;Hf.range;QU.range;JU.range;Ls.range;eH.range;tH.range;function To(e){return ur(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/j1)}const rh=To(0),Kf=To(1),rH=To(2),nH=To(3),Bs=To(4),aH=To(5),iH=To(6);rh.range;Kf.range;rH.range;nH.range;Bs.range;aH.range;iH.range;const N1=ur(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());N1.range;const P1=ur(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());P1.range;const Fa=ur(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Fa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ur(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Fa.range;const Wa=ur(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Wa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ur(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Wa.range;function QT(e,t,r,n,i,o){const l=[[ho,1,Da],[ho,5,5*Da],[ho,15,15*Da],[ho,30,30*Da],[o,1,Nn],[o,5,5*Nn],[o,15,15*Nn],[o,30,30*Nn],[i,1,Ra],[i,3,3*Ra],[i,6,6*Ra],[i,12,12*Ra],[n,1,Ba],[n,2,2*Ba],[r,1,j1],[t,1,gN],[t,3,3*gN],[e,1,Lx]];function u(f,v,h){const m=v<f;m&&([f,v]=[v,f]);const b=h&&typeof h.range=="function"?h:d(f,v,h),w=b?b.range(f,+v+1):[];return m?w.reverse():w}function d(f,v,h){const m=Math.abs(v-f)/h,b=d1(([,,y])=>y).right(l,m);if(b===l.length)return e.every(x0(f/Lx,v/Lx,h));if(b===0)return Uf.every(Math.max(x0(f,v,h),1));const[w,x]=l[m/l[b-1][2]<l[b][2]/m?b-1:b];return w.every(x)}return[u,d]}const[oH,sH]=QT(Wa,P1,rh,YT,A1,C1),[lH,cH]=QT(Fa,N1,th,Au,z1,k1);function Bx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Fx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function dc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function uH(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,o=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=fc(i),v=pc(i),h=fc(o),m=pc(o),b=fc(l),w=pc(l),x=fc(u),y=pc(u),j=fc(d),k=pc(d),S={a:X,A:W,b:F,B:Y,c:null,d:jN,e:jN,f:TH,g:UH,G:KH,H:_H,I:OH,j:EH,L:JT,m:DH,M:RH,p:$,q:B,Q:zN,s:AN,S:IH,u:MH,U:LH,V:BH,w:FH,W:WH,x:null,X:null,y:$H,Y:HH,Z:GH,"%":CN},N={a:re,A:le,b:pe,B:se,c:null,d:kN,e:kN,f:XH,g:oK,G:lK,H:VH,I:qH,j:ZH,L:tD,m:YH,M:QH,p:ne,q:ye,Q:zN,s:AN,S:JH,u:eK,U:tK,V:rK,w:nK,W:aK,x:null,X:null,y:iK,Y:sK,Z:cK,"%":CN},A={a:D,A:I,b:L,B:M,c:V,d:SN,e:SN,f:zH,g:bN,G:xN,H:wN,I:wN,j:wH,L:CH,m:SH,M:jH,p:E,q:bH,Q:NH,s:PH,S:kH,u:vH,U:mH,V:gH,w:hH,W:yH,x:H,X:q,y:bN,Y:xN,Z:xH,"%":AH};S.x=O(r,S),S.X=O(n,S),S.c=O(t,S),N.x=O(r,N),N.X=O(n,N),N.c=O(t,N);function O(ie,ve){return function(we){var ce=[],Ie=-1,Me=0,tt=ie.length,rt,Ye,Ut;for(we instanceof Date||(we=new Date(+we));++Ie<tt;)ie.charCodeAt(Ie)===37&&(ce.push(ie.slice(Me,Ie)),(Ye=yN[rt=ie.charAt(++Ie)])!=null?rt=ie.charAt(++Ie):Ye=rt==="e"?" ":"0",(Ut=ve[rt])&&(rt=Ut(we,Ye)),ce.push(rt),Me=Ie+1);return ce.push(ie.slice(Me,Ie)),ce.join("")}}function _(ie,ve){return function(we){var ce=dc(1900,void 0,1),Ie=T(ce,ie,we+="",0),Me,tt;if(Ie!=we.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(ve&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(Me=Fx(dc(ce.y,0,1)),tt=Me.getUTCDay(),Me=tt>4||tt===0?Kf.ceil(Me):Kf(Me),Me=eh.offset(Me,(ce.V-1)*7),ce.y=Me.getUTCFullYear(),ce.m=Me.getUTCMonth(),ce.d=Me.getUTCDate()+(ce.w+6)%7):(Me=Bx(dc(ce.y,0,1)),tt=Me.getDay(),Me=tt>4||tt===0?Hf.ceil(Me):Hf(Me),Me=Au.offset(Me,(ce.V-1)*7),ce.y=Me.getFullYear(),ce.m=Me.getMonth(),ce.d=Me.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),tt="Z"in ce?Fx(dc(ce.y,0,1)).getUTCDay():Bx(dc(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(tt+5)%7:ce.w+ce.U*7-(tt+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,Fx(ce)):Bx(ce)}}function T(ie,ve,we,ce){for(var Ie=0,Me=ve.length,tt=we.length,rt,Ye;Ie<Me;){if(ce>=tt)return-1;if(rt=ve.charCodeAt(Ie++),rt===37){if(rt=ve.charAt(Ie++),Ye=A[rt in yN?ve.charAt(Ie++):rt],!Ye||(ce=Ye(ie,we,ce))<0)return-1}else if(rt!=we.charCodeAt(ce++))return-1}return ce}function E(ie,ve,we){var ce=f.exec(ve.slice(we));return ce?(ie.p=v.get(ce[0].toLowerCase()),we+ce[0].length):-1}function D(ie,ve,we){var ce=b.exec(ve.slice(we));return ce?(ie.w=w.get(ce[0].toLowerCase()),we+ce[0].length):-1}function I(ie,ve,we){var ce=h.exec(ve.slice(we));return ce?(ie.w=m.get(ce[0].toLowerCase()),we+ce[0].length):-1}function L(ie,ve,we){var ce=j.exec(ve.slice(we));return ce?(ie.m=k.get(ce[0].toLowerCase()),we+ce[0].length):-1}function M(ie,ve,we){var ce=x.exec(ve.slice(we));return ce?(ie.m=y.get(ce[0].toLowerCase()),we+ce[0].length):-1}function V(ie,ve,we){return T(ie,t,ve,we)}function H(ie,ve,we){return T(ie,r,ve,we)}function q(ie,ve,we){return T(ie,n,ve,we)}function X(ie){return l[ie.getDay()]}function W(ie){return o[ie.getDay()]}function F(ie){return d[ie.getMonth()]}function Y(ie){return u[ie.getMonth()]}function $(ie){return i[+(ie.getHours()>=12)]}function B(ie){return 1+~~(ie.getMonth()/3)}function re(ie){return l[ie.getUTCDay()]}function le(ie){return o[ie.getUTCDay()]}function pe(ie){return d[ie.getUTCMonth()]}function se(ie){return u[ie.getUTCMonth()]}function ne(ie){return i[+(ie.getUTCHours()>=12)]}function ye(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var ve=O(ie+="",S);return ve.toString=function(){return ie},ve},parse:function(ie){var ve=_(ie+="",!1);return ve.toString=function(){return ie},ve},utcFormat:function(ie){var ve=O(ie+="",N);return ve.toString=function(){return ie},ve},utcParse:function(ie){var ve=_(ie+="",!0);return ve.toString=function(){return ie},ve}}}var yN={"-":"",_:" ",0:"0"},mr=/^\s*\d+/,dH=/^%/,fH=/[\\^$*+?|[\]().{}]/g;function lt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(t)+i:i)}function pH(e){return e.replace(fH,"\\$&")}function fc(e){return new RegExp("^(?:"+e.map(pH).join("|")+")","i")}function pc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function hH(e,t,r){var n=mr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function vH(e,t,r){var n=mr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function mH(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function gH(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function yH(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function xN(e,t,r){var n=mr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function bN(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function xH(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function bH(e,t,r){var n=mr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function SH(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function SN(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function wH(e,t,r){var n=mr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function wN(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function jH(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function kH(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function CH(e,t,r){var n=mr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function zH(e,t,r){var n=mr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function AH(e,t,r){var n=dH.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function NH(e,t,r){var n=mr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function PH(e,t,r){var n=mr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function jN(e,t){return lt(e.getDate(),t,2)}function _H(e,t){return lt(e.getHours(),t,2)}function OH(e,t){return lt(e.getHours()%12||12,t,2)}function EH(e,t){return lt(1+Au.count(Fa(e),e),t,3)}function JT(e,t){return lt(e.getMilliseconds(),t,3)}function TH(e,t){return JT(e,t)+"000"}function DH(e,t){return lt(e.getMonth()+1,t,2)}function RH(e,t){return lt(e.getMinutes(),t,2)}function IH(e,t){return lt(e.getSeconds(),t,2)}function MH(e){var t=e.getDay();return t===0?7:t}function LH(e,t){return lt(th.count(Fa(e)-1,e),t,2)}function eD(e){var t=e.getDay();return t>=4||t===0?Ls(e):Ls.ceil(e)}function BH(e,t){return e=eD(e),lt(Ls.count(Fa(e),e)+(Fa(e).getDay()===4),t,2)}function FH(e){return e.getDay()}function WH(e,t){return lt(Hf.count(Fa(e)-1,e),t,2)}function $H(e,t){return lt(e.getFullYear()%100,t,2)}function UH(e,t){return e=eD(e),lt(e.getFullYear()%100,t,2)}function HH(e,t){return lt(e.getFullYear()%1e4,t,4)}function KH(e,t){var r=e.getDay();return e=r>=4||r===0?Ls(e):Ls.ceil(e),lt(e.getFullYear()%1e4,t,4)}function GH(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+lt(t/60|0,"0",2)+lt(t%60,"0",2)}function kN(e,t){return lt(e.getUTCDate(),t,2)}function VH(e,t){return lt(e.getUTCHours(),t,2)}function qH(e,t){return lt(e.getUTCHours()%12||12,t,2)}function ZH(e,t){return lt(1+eh.count(Wa(e),e),t,3)}function tD(e,t){return lt(e.getUTCMilliseconds(),t,3)}function XH(e,t){return tD(e,t)+"000"}function YH(e,t){return lt(e.getUTCMonth()+1,t,2)}function QH(e,t){return lt(e.getUTCMinutes(),t,2)}function JH(e,t){return lt(e.getUTCSeconds(),t,2)}function eK(e){var t=e.getUTCDay();return t===0?7:t}function tK(e,t){return lt(rh.count(Wa(e)-1,e),t,2)}function rD(e){var t=e.getUTCDay();return t>=4||t===0?Bs(e):Bs.ceil(e)}function rK(e,t){return e=rD(e),lt(Bs.count(Wa(e),e)+(Wa(e).getUTCDay()===4),t,2)}function nK(e){return e.getUTCDay()}function aK(e,t){return lt(Kf.count(Wa(e)-1,e),t,2)}function iK(e,t){return lt(e.getUTCFullYear()%100,t,2)}function oK(e,t){return e=rD(e),lt(e.getUTCFullYear()%100,t,2)}function sK(e,t){return lt(e.getUTCFullYear()%1e4,t,4)}function lK(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Bs(e):Bs.ceil(e),lt(e.getUTCFullYear()%1e4,t,4)}function cK(){return"+0000"}function CN(){return"%"}function zN(e){return+e}function AN(e){return Math.floor(+e/1e3)}var ss,nD,aD;uK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function uK(e){return ss=uH(e),nD=ss.format,ss.parse,aD=ss.utcFormat,ss.utcParse,ss}function dK(e){return new Date(e)}function fK(e){return e instanceof Date?+e:+new Date(+e)}function _1(e,t,r,n,i,o,l,u,d,f){var v=m1(),h=v.invert,m=v.domain,b=f(".%L"),w=f(":%S"),x=f("%I:%M"),y=f("%I %p"),j=f("%a %d"),k=f("%b %d"),S=f("%B"),N=f("%Y");function A(O){return(d(O)<O?b:u(O)<O?w:l(O)<O?x:o(O)<O?y:n(O)<O?i(O)<O?j:k:r(O)<O?S:N)(O)}return v.invert=function(O){return new Date(h(O))},v.domain=function(O){return arguments.length?m(Array.from(O,fK)):m().map(dK)},v.ticks=function(O){var _=m();return e(_[0],_[_.length-1],O??10)},v.tickFormat=function(O,_){return _==null?A:f(_)},v.nice=function(O){var _=m();return(!O||typeof O.range!="function")&&(O=t(_[0],_[_.length-1],O??10)),O?m(HT(_,O)):v},v.copy=function(){return zu(v,_1(e,t,r,n,i,o,l,u,d,f))},v}function pK(){return On.apply(_1(lH,cH,Fa,N1,th,Au,z1,k1,ho,nD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hK(){return On.apply(_1(oH,sH,Wa,P1,rh,eh,A1,C1,ho,aD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nh(){var e=0,t=1,r,n,i,o,l=Br,u=!1,d;function f(h){return h==null||isNaN(h=+h)?d:l(i===0?.5:(h=(o(h)-r)*i,u?Math.max(0,Math.min(1,h)):h))}f.domain=function(h){return arguments.length?([e,t]=h,r=o(e=+e),n=o(t=+t),i=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(h){return arguments.length?(u=!!h,f):u},f.interpolator=function(h){return arguments.length?(l=h,f):l};function v(h){return function(m){var b,w;return arguments.length?([b,w]=m,l=h(b,w),f):[l(0),l(1)]}}return f.range=v(vl),f.rangeRound=v(v1),f.unknown=function(h){return arguments.length?(d=h,f):d},function(h){return o=h,r=h(e),n=h(t),i=r===n?0:1/(n-r),f}}function Mi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function iD(){var e=Ii(nh()(Br));return e.copy=function(){return Mi(e,iD())},Za.apply(e,arguments)}function oD(){var e=x1(nh()).domain([1,10]);return e.copy=function(){return Mi(e,oD()).base(e.base())},Za.apply(e,arguments)}function sD(){var e=b1(nh());return e.copy=function(){return Mi(e,sD()).constant(e.constant())},Za.apply(e,arguments)}function O1(){var e=S1(nh());return e.copy=function(){return Mi(e,O1()).exponent(e.exponent())},Za.apply(e,arguments)}function vK(){return O1.apply(null,arguments).exponent(.5)}function lD(){var e=[],t=Br;function r(n){if(n!=null&&!isNaN(n=+n))return t((ku(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ki),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>tU(e,o/n))},r.copy=function(){return lD(t).domain(e)},Za.apply(r,arguments)}function ah(){var e=0,t=.5,r=1,n=1,i,o,l,u,d,f=Br,v,h=!1,m;function b(x){return isNaN(x=+x)?m:(x=.5+((x=+v(x))-o)*(n*x<n*o?u:d),f(h?Math.max(0,Math.min(1,x)):x))}b.domain=function(x){return arguments.length?([e,t,r]=x,i=v(e=+e),o=v(t=+t),l=v(r=+r),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),n=o<i?-1:1,b):[e,t,r]},b.clamp=function(x){return arguments.length?(h=!!x,b):h},b.interpolator=function(x){return arguments.length?(f=x,b):f};function w(x){return function(y){var j,k,S;return arguments.length?([j,k,S]=y,f=AU(x,[j,k,S]),b):[f(0),f(.5),f(1)]}}return b.range=w(vl),b.rangeRound=w(v1),b.unknown=function(x){return arguments.length?(m=x,b):m},function(x){return v=x,i=x(e),o=x(t),l=x(r),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),n=o<i?-1:1,b}}function cD(){var e=Ii(ah()(Br));return e.copy=function(){return Mi(e,cD())},Za.apply(e,arguments)}function uD(){var e=x1(ah()).domain([.1,1,10]);return e.copy=function(){return Mi(e,uD()).base(e.base())},Za.apply(e,arguments)}function dD(){var e=b1(ah());return e.copy=function(){return Mi(e,dD()).constant(e.constant())},Za.apply(e,arguments)}function E1(){var e=S1(ah());return e.copy=function(){return Mi(e,E1()).exponent(e.exponent())},Za.apply(e,arguments)}function mK(){return E1.apply(null,arguments).exponent(.5)}const NN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Kc,scaleDiverging:cD,scaleDivergingLog:uD,scaleDivergingPow:E1,scaleDivergingSqrt:mK,scaleDivergingSymlog:dD,scaleIdentity:UT,scaleImplicit:b0,scaleLinear:$f,scaleLog:KT,scaleOrdinal:f1,scalePoint:_c,scalePow:w1,scaleQuantile:qT,scaleQuantize:ZT,scaleRadial:VT,scaleSequential:iD,scaleSequentialLog:oD,scaleSequentialPow:O1,scaleSequentialQuantile:lD,scaleSequentialSqrt:vK,scaleSequentialSymlog:sD,scaleSqrt:XU,scaleSymlog:GT,scaleThreshold:XT,scaleTime:pK,scaleUtc:hK,tickFormat:$T},Symbol.toStringTag,{value:"Module"}));var Wx,PN;function ih(){if(PN)return Wx;PN=1;var e=ul();function t(r,n,i){for(var o=-1,l=r.length;++o<l;){var u=r[o],d=n(u);if(d!=null&&(f===void 0?d===d&&!e(d):i(d,f)))var f=d,v=u}return v}return Wx=t,Wx}var $x,_N;function fD(){if(_N)return $x;_N=1;function e(t,r){return t>r}return $x=e,$x}var Ux,ON;function gK(){if(ON)return Ux;ON=1;var e=ih(),t=fD(),r=pl();function n(i){return i&&i.length?e(i,r,t):void 0}return Ux=n,Ux}var yK=gK();const bi=pt(yK);var Hx,EN;function pD(){if(EN)return Hx;EN=1;function e(t,r){return t<r}return Hx=e,Hx}var Kx,TN;function xK(){if(TN)return Kx;TN=1;var e=ih(),t=pD(),r=pl();function n(i){return i&&i.length?e(i,r,t):void 0}return Kx=n,Kx}var bK=xK();const oh=pt(bK);var Gx,DN;function SK(){if(DN)return Gx;DN=1;var e=ZS(),t=ha(),r=ST(),n=Xr();function i(o,l){var u=n(o)?e:r;return u(o,t(l,3))}return Gx=i,Gx}var Vx,RN;function wK(){if(RN)return Vx;RN=1;var e=xT(),t=SK();function r(n,i){return e(t(n,i),1)}return Vx=r,Vx}var jK=wK();const kK=pt(jK);var qx,IN;function CK(){if(IN)return qx;IN=1;var e=s1();function t(r,n){return e(r,n)}return qx=t,qx}var zK=CK();const Pi=pt(zK);var ml=1e9,AK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},D1,It=!0,Pn="[DecimalError] ",bo=Pn+"Invalid argument: ",T1=Pn+"Exponent out of range: ",gl=Math.floor,co=Math.pow,NK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,cn,hr=1e7,_t=7,hD=9007199254740991,Gf=gl(hD/_t),Ne={};Ne.absoluteValue=Ne.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ne.comparedTo=Ne.cmp=function(e){var t,r,n,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};Ne.decimalPlaces=Ne.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*_t;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ne.dividedBy=Ne.div=function(e){return La(this,new this.constructor(e))};Ne.dividedToIntegerBy=Ne.idiv=function(e){var t=this,r=t.constructor;return wt(La(t,new r(e),0,1),r.precision)};Ne.equals=Ne.eq=function(e){return!this.cmp(e)};Ne.exponent=function(){return rr(this)};Ne.greaterThan=Ne.gt=function(e){return this.cmp(e)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(e){return this.cmp(e)>=0};Ne.isInteger=Ne.isint=function(){return this.e>this.d.length-2};Ne.isNegative=Ne.isneg=function(){return this.s<0};Ne.isPositive=Ne.ispos=function(){return this.s>0};Ne.isZero=function(){return this.s===0};Ne.lessThan=Ne.lt=function(e){return this.cmp(e)<0};Ne.lessThanOrEqualTo=Ne.lte=function(e){return this.cmp(e)<1};Ne.logarithm=Ne.log=function(e){var t,r=this,n=r.constructor,i=n.precision,o=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(cn))throw Error(Pn+"NaN");if(r.s<1)throw Error(Pn+(r.s?"NaN":"-Infinity"));return r.eq(cn)?new n(0):(It=!1,t=La(Xc(r,o),Xc(e,o),o),It=!0,wt(t,i))};Ne.minus=Ne.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?gD(t,e):vD(t,(e.s=-e.s,e))};Ne.modulo=Ne.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Pn+"NaN");return r.s?(It=!1,t=La(r,e,0,1).times(e),It=!0,r.minus(t)):wt(new n(r),i)};Ne.naturalExponential=Ne.exp=function(){return mD(this)};Ne.naturalLogarithm=Ne.ln=function(){return Xc(this)};Ne.negated=Ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ne.plus=Ne.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vD(t,e):gD(t,(e.s=-e.s,e))};Ne.precision=Ne.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(bo+e);if(t=rr(i)+1,n=i.d.length-1,r=n*_t+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ne.squareRoot=Ne.sqrt=function(){var e,t,r,n,i,o,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Pn+"NaN")}for(e=rr(u),It=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=ia(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=gl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(i.toString()),r=d.precision,i=l=r+3;;)if(o=n,n=o.plus(La(u,o,l+2)).times(.5),ia(o.d).slice(0,l)===(t=ia(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(wt(o,r+1,0),o.times(o).eq(u)){n=o;break}}else if(t!="9999")break;l+=4}return It=!0,wt(n,r)};Ne.times=Ne.mul=function(e){var t,r,n,i,o,l,u,d,f,v=this,h=v.constructor,m=v.d,b=(e=new h(e)).d;if(!v.s||!e.s)return new h(0);for(e.s*=v.s,r=v.e+e.e,d=m.length,f=b.length,d<f&&(o=m,m=b,b=o,l=d,d=f,f=l),o=[],l=d+f,n=l;n--;)o.push(0);for(n=f;--n>=0;){for(t=0,i=d+n;i>n;)u=o[i]+b[n]*m[i-n-1]+t,o[i--]=u%hr|0,t=u/hr|0;o[i]=(o[i]+t)%hr|0}for(;!o[--l];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,It?wt(e,h.precision):e};Ne.toDecimalPlaces=Ne.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(da(e,0,ml),t===void 0?t=n.rounding:da(t,0,8),wt(r,e+rr(r)+1,t))};Ne.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=jo(n,!0):(da(e,0,ml),t===void 0?t=i.rounding:da(t,0,8),n=wt(new i(n),e+1,t),r=jo(n,!0,e+1)),r};Ne.toFixed=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?jo(i):(da(e,0,ml),t===void 0?t=o.rounding:da(t,0,8),n=wt(new o(i),e+rr(i)+1,t),r=jo(n.abs(),!1,e+rr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ne.toInteger=Ne.toint=function(){var e=this,t=e.constructor;return wt(new t(e),rr(e)+1,t.rounding)};Ne.toNumber=function(){return+this};Ne.toPower=Ne.pow=function(e){var t,r,n,i,o,l,u=this,d=u.constructor,f=12,v=+(e=new d(e));if(!e.s)return new d(cn);if(u=new d(u),!u.s){if(e.s<1)throw Error(Pn+"Infinity");return u}if(u.eq(cn))return u;if(n=d.precision,e.eq(cn))return wt(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,o=u.s,l){if((r=v<0?-v:v)<=hD){for(i=new d(cn),t=Math.ceil(n/_t+4),It=!1;r%2&&(i=i.times(u),LN(i.d,t)),r=gl(r/2),r!==0;)u=u.times(u),LN(u.d,t);return It=!0,e.s<0?new d(cn).div(i):wt(i,n)}}else if(o<0)throw Error(Pn+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,It=!1,i=e.times(Xc(u,n+f)),It=!0,i=mD(i),i.s=o,i};Ne.toPrecision=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?(r=rr(i),n=jo(i,r<=o.toExpNeg||r>=o.toExpPos)):(da(e,1,ml),t===void 0?t=o.rounding:da(t,0,8),i=wt(new o(i),e,t),r=rr(i),n=jo(i,e<=r||r<=o.toExpNeg,e)),n};Ne.toSignificantDigits=Ne.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(da(e,1,ml),t===void 0?t=n.rounding:da(t,0,8)),wt(new n(r),e,t)};Ne.toString=Ne.valueOf=Ne.val=Ne.toJSON=Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=rr(e),r=e.constructor;return jo(e,t<=r.toExpNeg||t>=r.toExpPos)};function vD(e,t){var r,n,i,o,l,u,d,f,v=e.constructor,h=v.precision;if(!e.s||!t.s)return t.s||(t=new v(e)),It?wt(t,h):t;if(d=e.d,f=t.d,l=e.e,i=t.e,d=d.slice(),o=l-i,o){for(o<0?(n=d,o=-o,u=f.length):(n=f,i=l,u=d.length),l=Math.ceil(h/_t),u=l>u?l+1:u+1,o>u&&(o=u,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(u=d.length,o=f.length,u-o<0&&(o=u,n=f,f=d,d=n),r=0;o;)r=(d[--o]=d[o]+f[o]+r)/hr|0,d[o]%=hr;for(r&&(d.unshift(r),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,It?wt(t,h):t}function da(e,t,r){if(e!==~~e||e<t||e>r)throw Error(bo+e)}function ia(e){var t,r,n,i=e.length-1,o="",l=e[0];if(i>0){for(o+=l,t=1;t<i;t++)n=e[t]+"",r=_t-n.length,r&&(o+=yi(r)),o+=n;l=e[t],n=l+"",r=_t-n.length,r&&(o+=yi(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var La=(function(){function e(n,i){var o,l=0,u=n.length;for(n=n.slice();u--;)o=n[u]*i+l,n[u]=o%hr|0,l=o/hr|0;return l&&n.unshift(l),n}function t(n,i,o,l){var u,d;if(o!=l)d=o>l?1:-1;else for(u=d=0;u<o;u++)if(n[u]!=i[u]){d=n[u]>i[u]?1:-1;break}return d}function r(n,i,o){for(var l=0;o--;)n[o]-=l,l=n[o]<i[o]?1:0,n[o]=l*hr+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,l){var u,d,f,v,h,m,b,w,x,y,j,k,S,N,A,O,_,T,E=n.constructor,D=n.s==i.s?1:-1,I=n.d,L=i.d;if(!n.s)return new E(n);if(!i.s)throw Error(Pn+"Division by zero");for(d=n.e-i.e,_=L.length,A=I.length,b=new E(D),w=b.d=[],f=0;L[f]==(I[f]||0);)++f;if(L[f]>(I[f]||0)&&--d,o==null?k=o=E.precision:l?k=o+(rr(n)-rr(i))+1:k=o,k<0)return new E(0);if(k=k/_t+2|0,f=0,_==1)for(v=0,L=L[0],k++;(f<A||v)&&k--;f++)S=v*hr+(I[f]||0),w[f]=S/L|0,v=S%L|0;else{for(v=hr/(L[0]+1)|0,v>1&&(L=e(L,v),I=e(I,v),_=L.length,A=I.length),N=_,x=I.slice(0,_),y=x.length;y<_;)x[y++]=0;T=L.slice(),T.unshift(0),O=L[0],L[1]>=hr/2&&++O;do v=0,u=t(L,x,_,y),u<0?(j=x[0],_!=y&&(j=j*hr+(x[1]||0)),v=j/O|0,v>1?(v>=hr&&(v=hr-1),h=e(L,v),m=h.length,y=x.length,u=t(h,x,m,y),u==1&&(v--,r(h,_<m?T:L,m))):(v==0&&(u=v=1),h=L.slice()),m=h.length,m<y&&h.unshift(0),r(x,h,y),u==-1&&(y=x.length,u=t(L,x,_,y),u<1&&(v++,r(x,_<y?T:L,y))),y=x.length):u===0&&(v++,x=[0]),w[f++]=v,u&&x[0]?x[y++]=I[N]||0:(x=[I[N]],y=1);while((N++<A||x[0]!==void 0)&&k--)}return w[0]||w.shift(),b.e=d,wt(b,l?o+rr(b)+1:o)}})();function mD(e,t){var r,n,i,o,l,u,d=0,f=0,v=e.constructor,h=v.precision;if(rr(e)>16)throw Error(T1+rr(e));if(!e.s)return new v(cn);for(It=!1,u=h,l=new v(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(n=Math.log(co(2,f))/Math.LN10*2+5|0,u+=n,r=i=o=new v(cn),v.precision=u;;){if(i=wt(i.times(e),u),r=r.times(++d),l=o.plus(La(i,r,u)),ia(l.d).slice(0,u)===ia(o.d).slice(0,u)){for(;f--;)o=wt(o.times(o),u);return v.precision=h,t==null?(It=!0,wt(o,h)):o}o=l}}function rr(e){for(var t=e.e*_t,r=e.d[0];r>=10;r/=10)t++;return t}function Zx(e,t,r){if(t>e.LN10.sd())throw It=!0,r&&(e.precision=r),Error(Pn+"LN10 precision limit exceeded");return wt(new e(e.LN10),t)}function yi(e){for(var t="";e--;)t+="0";return t}function Xc(e,t){var r,n,i,o,l,u,d,f,v,h=1,m=10,b=e,w=b.d,x=b.constructor,y=x.precision;if(b.s<1)throw Error(Pn+(b.s?"NaN":"-Infinity"));if(b.eq(cn))return new x(0);if(t==null?(It=!1,f=y):f=t,b.eq(10))return t==null&&(It=!0),Zx(x,f);if(f+=m,x.precision=f,r=ia(w),n=r.charAt(0),o=rr(b),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(e),r=ia(b.d),n=r.charAt(0),h++;o=rr(b),n>1?(b=new x("0."+r),o++):b=new x(n+"."+r.slice(1))}else return d=Zx(x,f+2,y).times(o+""),b=Xc(new x(n+"."+r.slice(1)),f-m).plus(d),x.precision=y,t==null?(It=!0,wt(b,y)):b;for(u=l=b=La(b.minus(cn),b.plus(cn),f),v=wt(b.times(b),f),i=3;;){if(l=wt(l.times(v),f),d=u.plus(La(l,new x(i),f)),ia(d.d).slice(0,f)===ia(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(Zx(x,f+2,y).times(o+""))),u=La(u,new x(h),f),x.precision=y,t==null?(It=!0,wt(u,y)):u;u=d,i+=2}}function MN(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=gl(r/_t),e.d=[],n=(r+1)%_t,r<0&&(n+=_t),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=_t;n<i;)e.d.push(+t.slice(n,n+=_t));t=t.slice(n),n=_t-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),It&&(e.e>Gf||e.e<-Gf))throw Error(T1+r)}else e.s=0,e.e=0,e.d=[0];return e}function wt(e,t,r){var n,i,o,l,u,d,f,v,h=e.d;for(l=1,o=h[0];o>=10;o/=10)l++;if(n=t-l,n<0)n+=_t,i=t,f=h[v=0];else{if(v=Math.ceil((n+1)/_t),o=h.length,v>=o)return e;for(f=o=h[v],l=1;o>=10;o/=10)l++;n%=_t,i=n-_t+l}if(r!==void 0&&(o=co(10,l-i-1),u=f/o%10|0,d=t<0||h[v+1]!==void 0||f%o,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?i>0?f/co(10,l-i):0:h[v-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return d?(o=rr(e),h.length=1,t=t-o-1,h[0]=co(10,(_t-t%_t)%_t),e.e=gl(-t/_t)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=v,o=1,v--):(h.length=v+1,o=co(10,_t-n),h[v]=i>0?(f/co(10,l-i)%co(10,i)|0)*o:0),d)for(;;)if(v==0){(h[0]+=o)==hr&&(h[0]=1,++e.e);break}else{if(h[v]+=o,h[v]!=hr)break;h[v--]=0,o=1}for(n=h.length;h[--n]===0;)h.pop();if(It&&(e.e>Gf||e.e<-Gf))throw Error(T1+rr(e));return e}function gD(e,t){var r,n,i,o,l,u,d,f,v,h,m=e.constructor,b=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),It?wt(t,b):t;if(d=e.d,h=t.d,n=t.e,f=e.e,d=d.slice(),l=f-n,l){for(v=l<0,v?(r=d,l=-l,u=h.length):(r=h,n=f,u=d.length),i=Math.max(Math.ceil(b/_t),u)+2,l>i&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for(i=d.length,u=h.length,v=i<u,v&&(u=i),i=0;i<u;i++)if(d[i]!=h[i]){v=d[i]<h[i];break}l=0}for(v&&(r=d,d=h,h=r,t.s=-t.s),u=d.length,i=h.length-u;i>0;--i)d[u++]=0;for(i=h.length;i>l;){if(d[--i]<h[i]){for(o=i;o&&d[--o]===0;)d[o]=hr-1;--d[o],d[i]+=hr}d[i]-=h[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,It?wt(t,b):t):new m(0)}function jo(e,t,r){var n,i=rr(e),o=ia(e.d),l=o.length;return t?(r&&(n=r-l)>0?o=o.charAt(0)+"."+o.slice(1)+yi(n):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+yi(-i-1)+o,r&&(n=r-l)>0&&(o+=yi(n))):i>=l?(o+=yi(i+1-l),r&&(n=r-i-1)>0&&(o=o+"."+yi(n))):((n=i+1)<l&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-l)>0&&(i+1===l&&(o+="."),o+=yi(n))),e.s<0?"-"+o:o}function LN(e,t){if(e.length>t)return e.length=t,!0}function yD(e){var t,r,n;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(bo+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return MN(l,o.toString())}else if(typeof o!="string")throw Error(bo+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,NK.test(o))MN(l,o);else throw Error(bo+o)}if(i.prototype=Ne,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=yD,i.config=i.set=PK,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function PK(e){if(!e||typeof e!="object")throw Error(Pn+"Object expected");var t,r,n,i=["precision",1,ml,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(gl(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(bo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(bo+r+": "+n);return this}var D1=yD(AK);cn=new D1(1);const yt=D1;function _K(e){return DK(e)||TK(e)||EK(e)||OK()}function OK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EK(e,t){if(e){if(typeof e=="string")return k0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k0(e,t)}}function TK(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function DK(e){if(Array.isArray(e))return k0(e)}function k0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var RK=function(t){return t},xD={},bD=function(t){return t===xD},BN=function(t){return function r(){return arguments.length===0||arguments.length===1&&bD(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},IK=function e(t,r){return t===1?r:BN(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var l=i.filter(function(u){return u!==xD}).length;return l>=t?r.apply(void 0,i):e(t-l,BN(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var v=i.map(function(h){return bD(h)?d.shift():h});return r.apply(void 0,_K(v).concat(d))}))})},sh=function(t){return IK(t.length,t)},C0=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},MK=sh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),LK=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return RK;var i=r.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce(function(u,d){return d(u)},o.apply(void 0,arguments))}},z0=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},SD=function(t){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r&&o.every(function(u,d){return u===r[d]})||(r=o,n=t.apply(void 0,o)),n}};function BK(e){var t;return e===0?t=1:t=Math.floor(new yt(e).abs().log(10).toNumber())+1,t}function FK(e,t,r){for(var n=new yt(e),i=0,o=[];n.lt(t)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var WK=sh(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),$K=sh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),UK=sh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const lh={rangeStep:FK,getDigitCount:BK,interpolateNumber:WK,uninterpolateNumber:$K,uninterpolateTruncation:UK};function A0(e){return GK(e)||KK(e)||wD(e)||HK()}function HK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KK(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function GK(e){if(Array.isArray(e))return N0(e)}function Yc(e,t){return ZK(e)||qK(e,t)||wD(e,t)||VK()}function VK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wD(e,t){if(e){if(typeof e=="string")return N0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N0(e,t)}}function N0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qK(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,o=void 0;try{for(var l=e[Symbol.iterator](),u;!(n=(u=l.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(d){i=!0,o=d}finally{try{!n&&l.return!=null&&l.return()}finally{if(i)throw o}}return r}}function ZK(e){if(Array.isArray(e))return e}function jD(e){var t=Yc(e,2),r=t[0],n=t[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function kD(e,t,r){if(e.lte(0))return new yt(0);var n=lh.getDigitCount(e.toNumber()),i=new yt(10).pow(n),o=e.div(i),l=n!==1?.05:.1,u=new yt(Math.ceil(o.div(l).toNumber())).add(r).mul(l),d=u.mul(i);return t?d:new yt(Math.ceil(d))}function XK(e,t,r){var n=1,i=new yt(e);if(!i.isint()&&r){var o=Math.abs(e);o<1?(n=new yt(10).pow(lh.getDigitCount(e)-1),i=new yt(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new yt(Math.floor(e)))}else e===0?i=new yt(Math.floor((t-1)/2)):r||(i=new yt(Math.floor(e)));var l=Math.floor((t-1)/2),u=LK(MK(function(d){return i.add(new yt(d-l).mul(n)).toNumber()}),C0);return u(0,t)}function CD(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new yt(0),tickMin:new yt(0),tickMax:new yt(0)};var o=kD(new yt(t).sub(e).div(r-1),n,i),l;e<=0&&t>=0?l=new yt(0):(l=new yt(e).add(t).div(2),l=l.sub(new yt(l).mod(o)));var u=Math.ceil(l.sub(e).div(o).toNumber()),d=Math.ceil(new yt(t).sub(l).div(o).toNumber()),f=u+d+1;return f>r?CD(e,t,r,n,i+1):(f<r&&(d=t>0?d+(r-f):d,u=t>0?u:u+(r-f)),{step:o,tickMin:l.sub(new yt(u).mul(o)),tickMax:l.add(new yt(d).mul(o))})}function YK(e){var t=Yc(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),u=jD([r,n]),d=Yc(u,2),f=d[0],v=d[1];if(f===-1/0||v===1/0){var h=v===1/0?[f].concat(A0(C0(0,i-1).map(function(){return 1/0}))):[].concat(A0(C0(0,i-1).map(function(){return-1/0})),[v]);return r>n?z0(h):h}if(f===v)return XK(f,i,o);var m=CD(f,v,l,o),b=m.step,w=m.tickMin,x=m.tickMax,y=lh.rangeStep(w,x.add(new yt(.1).mul(b)),b);return r>n?z0(y):y}function QK(e,t){var r=Yc(e,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=jD([n,i]),u=Yc(l,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[n,i];if(d===f)return[d];var v=Math.max(t,2),h=kD(new yt(f).sub(d).div(v-1),o,0),m=[].concat(A0(lh.rangeStep(new yt(d),new yt(f).sub(new yt(.99).mul(h)),h)),[f]);return n>i?z0(m):m}var JK=SD(YK),eG=SD(QK),tG="Invariant failed";function ko(e,t){throw new Error(tG)}var rG=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vf.apply(this,arguments)}function nG(e,t){return sG(e)||oG(e,t)||iG(e,t)||aG()}function aG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iG(e,t){if(e){if(typeof e=="string")return FN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FN(e,t)}}function FN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function sG(e){if(Array.isArray(e))return e}function lG(e,t){if(e==null)return{};var r=cG(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ND(n.key),n)}}function fG(e,t,r){return t&&dG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pG(e,t,r){return t=qf(t),hG(e,zD()?Reflect.construct(t,r||[],qf(e).constructor):t.apply(e,r))}function hG(e,t){if(t&&(Fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vG(e)}function vG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zD=function(){return!!e})()}function qf(e){return qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qf(e)}function mG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P0(e,t)}function P0(e,t){return P0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},P0(e,t)}function AD(e,t,r){return t=ND(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ND(e){var t=gG(e,"string");return Fs(t)=="symbol"?t:t+""}function gG(e,t){if(Fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yl=(function(e){function t(){return uG(this,t),pG(this,t,arguments)}return mG(t,e),fG(t,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,l=n.width,u=n.dataKey,d=n.data,f=n.dataPointFormatter,v=n.xAxis,h=n.yAxis,m=lG(n,rG),b=Te(m,!1);this.props.direction==="x"&&v.type!=="number"&&ko();var w=d.map(function(x){var y=f(x,u),j=y.x,k=y.y,S=y.value,N=y.errorVal;if(!N)return null;var A=[],O,_;if(Array.isArray(N)){var T=nG(N,2);O=T[0],_=T[1]}else O=_=N;if(o==="vertical"){var E=v.scale,D=k+i,I=D+l,L=D-l,M=E(S-O),V=E(S+_);A.push({x1:V,y1:I,x2:V,y2:L}),A.push({x1:M,y1:D,x2:V,y2:D}),A.push({x1:M,y1:I,x2:M,y2:L})}else if(o==="horizontal"){var H=h.scale,q=j+i,X=q-l,W=q+l,F=H(S-O),Y=H(S+_);A.push({x1:X,y1:Y,x2:W,y2:Y}),A.push({x1:q,y1:F,x2:q,y2:Y}),A.push({x1:X,y1:F,x2:W,y2:F})}return K.createElement(Ke,Vf({className:"recharts-errorBar",key:"bar-".concat(A.map(function($){return"".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))},b),A.map(function($){return K.createElement("line",Vf({},$,{key:"line-".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))}))});return K.createElement(Ke,{className:"recharts-errorBars"},w)}}])})(K.Component);AD(yl,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});AD(yl,"displayName","ErrorBar");function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function WN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function to(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(r),!0).forEach(function(n){yG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yG(e,t,r){return t=xG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xG(e){var t=bG(e,"string");return Qc(t)=="symbol"?t:t+""}function bG(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PD=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,l=sn(r,zt);if(!l)return null;var u=zt.defaultProps,d=u!==void 0?to(to({},u),l.props):{},f;return l.props&&l.props.payload?f=l.props&&l.props.payload:o==="children"?f=(n||[]).reduce(function(v,h){var m=h.item,b=h.props,w=b.sectors||b.data||[];return v.concat(w.map(function(x){return{type:l.props.iconType||m.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):f=(n||[]).map(function(v){var h=v.item,m=h.type.defaultProps,b=m!==void 0?to(to({},m),h.props):{},w=b.dataKey,x=b.name,y=b.legendType,j=b.hide;return{inactive:j,dataKey:w,type:d.iconType||y||"square",color:R1(h),value:x||w,payload:b}}),to(to(to({},d),zt.getWithHeight(l,i)),{},{payload:f,item:l})};function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}function $N(e){return kG(e)||jG(e)||wG(e)||SG()}function SG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wG(e,t){if(e){if(typeof e=="string")return _0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _0(e,t)}}function jG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kG(e){if(Array.isArray(e))return _0(e)}function _0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(r),!0).forEach(function(n){Ns(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ns(e,t,r){return t=CG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CG(e){var t=zG(e,"string");return Jc(t)=="symbol"?t:t+""}function zG(e,t){if(Jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ot(e,t,r){return Fe(e)||Fe(t)?r:cr(t)?pn(e,t,r):We(t)?t(e):r}function Oc(e,t,r,n){var i=kK(e,function(u){return Ot(u,t)});if(r==="number"){var o=i.filter(function(u){return be(u)||parseFloat(u)});return o.length?[oh(o),bi(o)]:[1/0,-1/0]}var l=n?i.filter(function(u){return!Fe(u)}):i;return l.map(function(u){return cr(u)||u instanceof Date?u:""})}var AG=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,l=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var d=o.range,f=0;f<u;f++){var v=f>0?i[f-1].coordinate:i[u-1].coordinate,h=i[f].coordinate,m=f>=u-1?i[0].coordinate:i[f+1].coordinate,b=void 0;if(Mr(h-v)!==Mr(m-h)){var w=[];if(Mr(m-h)===Mr(d[1]-d[0])){b=m;var x=h+d[1]-d[0];w[0]=Math.min(x,(x+v)/2),w[1]=Math.max(x,(x+v)/2)}else{b=v;var y=m+d[1]-d[0];w[0]=Math.min(h,(y+h)/2),w[1]=Math.max(h,(y+h)/2)}var j=[Math.min(h,(b+h)/2),Math.max(h,(b+h)/2)];if(t>j[0]&&t<=j[1]||t>=w[0]&&t<=w[1]){l=i[f].index;break}}else{var k=Math.min(v,m),S=Math.max(v,m);if(t>(k+h)/2&&t<=(S+h)/2){l=i[f].index;break}}}else for(var N=0;N<u;N++)if(N===0&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<u-1&&t>(n[N].coordinate+n[N-1].coordinate)/2&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N===u-1&&t>(n[N].coordinate+n[N-1].coordinate)/2){l=n[N].index;break}return l},R1=function(t){var r,n=t,i=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Vt(Vt({},t.type.defaultProps),t.props):t.props,l=o.stroke,u=o.fill,d;switch(i){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},NG=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var l={},u=Object.keys(o),d=0,f=u.length;d<f;d++)for(var v=o[u[d]].stackGroups,h=Object.keys(v),m=0,b=h.length;m<b;m++){var w=v[h[m]],x=w.items,y=w.cateAxisId,j=x.filter(function(_){return Ma(_.type).indexOf("Bar")>=0});if(j&&j.length){var k=j[0].type.defaultProps,S=k!==void 0?Vt(Vt({},k),j[0].props):j[0].props,N=S.barSize,A=S[y];l[A]||(l[A]=[]);var O=Fe(N)?r:N;l[A].push({item:j[0],stackList:j.slice(1),barSize:Fe(O)?void 0:Lr(O,n,0)})}}return l},PG=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,o=t.sizeList,l=o===void 0?[]:o,u=t.maxBarSize,d=l.length;if(d<1)return null;var f=Lr(r,i,0,!0),v,h=[];if(l[0].barSize===+l[0].barSize){var m=!1,b=i/d,w=l.reduce(function(N,A){return N+A.barSize||0},0);w+=(d-1)*f,w>=i&&(w-=(d-1)*f,f=0),w>=i&&b>0&&(m=!0,b*=.9,w=d*b);var x=(i-w)/2>>0,y={offset:x-f,size:0};v=l.reduce(function(N,A){var O={item:A.item,position:{offset:y.offset+y.size+f,size:m?b:A.barSize}},_=[].concat($N(N),[O]);return y=_[_.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(T){_.push({item:T,position:y})}),_},h)}else{var j=Lr(n,i,0,!0);i-2*j-(d-1)*f<=0&&(f=0);var k=(i-2*j-(d-1)*f)/d;k>1&&(k>>=0);var S=u===+u?Math.min(k,u):k;v=l.reduce(function(N,A,O){var _=[].concat($N(N),[{item:A.item,position:{offset:j+(k+f)*O+(k-S)/2,size:S}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(T){_.push({item:T,position:_[_.length-1].position})}),_},h)}return v},_G=function(t,r,n,i){var o=n.children,l=n.width,u=n.margin,d=l-(u.left||0)-(u.right||0),f=PD({children:o,legendWidth:d});if(f){var v=i||{},h=v.width,m=v.height,b=f.align,w=f.verticalAlign,x=f.layout;if((x==="vertical"||x==="horizontal"&&w==="middle")&&b!=="center"&&be(t[b]))return Vt(Vt({},t),{},Ns({},b,t[b]+(h||0)));if((x==="horizontal"||x==="vertical"&&b==="center")&&w!=="middle"&&be(t[w]))return Vt(Vt({},t),{},Ns({},w,t[w]+(m||0)))}return t},OG=function(t,r,n){return Fe(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},_D=function(t,r,n,i,o){var l=r.props.children,u=Fr(l,yl).filter(function(f){return OG(i,o,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return t.reduce(function(f,v){var h=Ot(v,n);if(Fe(h))return f;var m=Array.isArray(h)?[oh(h),bi(h)]:[h,h],b=d.reduce(function(w,x){var y=Ot(v,x,0),j=m[0]-Math.abs(Array.isArray(y)?y[0]:y),k=m[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(j,w[0]),Math.max(k,w[1])]},[1/0,-1/0]);return[Math.min(b[0],f[0]),Math.max(b[1],f[1])]},[1/0,-1/0])}return null},EG=function(t,r,n,i,o){var l=r.map(function(u){return _D(t,u,n,o,i)}).filter(function(u){return!Fe(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},OD=function(t,r,n,i,o){var l=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&_D(t,d,f,i)||Oc(t,f,n,o)});if(n==="number")return l.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,f){for(var v=0,h=f.length;v<h;v++)u[f[v]]||(u[f[v]]=!0,d.push(f[v]));return d},[])},ED=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},TD=function(t,r,n,i){if(i)return t.map(function(d){return d.coordinate});var o,l,u=t.map(function(d){return d.coordinate===r&&(o=!0),d.coordinate===n&&(l=!0),d.coordinate});return o||u.push(r),l||u.push(n),u},Ia=function(t,r,n){if(!t)return null;var i=t.scale,o=t.duplicateDomain,l=t.type,u=t.range,d=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&l==="category"&&i.bandwidth?i.bandwidth()/d:0;if(f=t.axisType==="angleAxis"&&u?.length>=2?Mr(u[0]-u[1])*2*f:f,r&&(t.ticks||t.niceTicks)){var v=(t.ticks||t.niceTicks).map(function(h){var m=o?o.indexOf(h):h;return{coordinate:i(m)+f,value:h,offset:f}});return v.filter(function(h){return!fl(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,m){return{coordinate:i(h)+f,value:h,index:m,offset:f}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(h){return{coordinate:i(h)+f,value:h,offset:f}}):i.domain().map(function(h,m){return{coordinate:i(h)+f,value:o?o[h]:h,index:m,offset:f}})},Xx=new WeakMap,Qd=function(t,r){if(typeof r!="function")return t;Xx.has(t)||Xx.set(t,new WeakMap);var n=Xx.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},DD=function(t,r,n){var i=t.scale,o=t.type,l=t.layout,u=t.axisType;if(i==="auto")return l==="radial"&&u==="radiusAxis"?{scale:Kc(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:$f(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:_c(),realScaleType:"point"}:o==="category"?{scale:Kc(),realScaleType:"band"}:{scale:$f(),realScaleType:"linear"};if(So(i)){var d="scale".concat(Kp(i));return{scale:(NN[d]||_c)(),realScaleType:NN[d]?d:"point"}}return We(i)?{scale:i}:{scale:_c(),realScaleType:"point"}},HN=1e-4,RD=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),o=Math.min(i[0],i[1])-HN,l=Math.max(i[0],i[1])+HN,u=t(r[0]),d=t(r[n-1]);(u<o||u>l||d<o||d>l)&&t.domain([r[0],r[n-1]])}},TG=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},DG=function(t,r){if(!r||r.length!==2||!be(r[0])||!be(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!be(t[0])||t[0]<n)&&(o[0]=n),(!be(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},RG=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var o=0,l=0,u=0;u<r;++u){var d=fl(t[u][n][1])?t[u][n][0]:t[u][n][1];d>=0?(t[u][n][0]=o,t[u][n][1]=o+d,o=t[u][n][1]):(t[u][n][0]=l,t[u][n][1]=l+d,l=t[u][n][1])}},IG=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var o=0,l=0;l<r;++l){var u=fl(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=o,t[l][n][1]=o+u,o=t[l][n][1]):(t[l][n][0]=0,t[l][n][1]=0)}},MG={sign:RG,expand:kW,none:Es,silhouette:CW,wiggle:zW,positive:IG},LG=function(t,r,n){var i=r.map(function(u){return u.props.dataKey}),o=MG[n],l=jW().keys(i).value(function(u,d){return+Ot(u,d,0)}).order(o0).offset(o);return l(t)},BG=function(t,r,n,i,o,l){if(!t)return null;var u=l?r.reverse():r,d={},f=u.reduce(function(h,m){var b,w=(b=m.type)!==null&&b!==void 0&&b.defaultProps?Vt(Vt({},m.type.defaultProps),m.props):m.props,x=w.stackId,y=w.hide;if(y)return h;var j=w[n],k=h[j]||{hasStack:!1,stackGroups:{}};if(cr(x)){var S=k.stackGroups[x]||{numericAxisId:n,cateAxisId:i,items:[]};S.items.push(m),k.hasStack=!0,k.stackGroups[x]=S}else k.stackGroups[Ri("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[m]};return Vt(Vt({},h),{},Ns({},j,k))},d),v={};return Object.keys(f).reduce(function(h,m){var b=f[m];if(b.hasStack){var w={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(x,y){var j=b.stackGroups[y];return Vt(Vt({},x),{},Ns({},y,{numericAxisId:n,cateAxisId:i,items:j.items,stackedData:LG(t,j.items,o)}))},w)}return Vt(Vt({},h),{},Ns({},m,b))},v)},ID=function(t,r){var n=r.realScaleType,i=r.type,o=r.tickCount,l=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(o&&i==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var f=t.domain();if(!f.length)return null;var v=JK(f,o,u);return t.domain([oh(v),bi(v)]),{niceTicks:v}}if(o&&i==="number"){var h=t.domain(),m=eG(h,o,u);return{niceTicks:m}}return null};function Ws(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,o=e.index,l=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Fe(i[t.dataKey])){var u=kf(r,"value",i[t.dataKey]);if(u)return u.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var d=Ot(i,Fe(l)?t.dataKey:l);return Fe(d)?null:t.scale(d)}var KN=function(t){var r=t.axis,n=t.ticks,i=t.offset,o=t.bandSize,l=t.entry,u=t.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var d=Ot(l,r.dataKey,r.domain[u]);return Fe(d)?null:r.scale(d)-o/2+i},FG=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},WG=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Vt(Vt({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(cr(o)){var l=r[o];if(l){var u=l.items.indexOf(t);return u>=0?l.stackedData[u]:null}}return null},$G=function(t){return t.reduce(function(r,n){return[oh(n.concat([r[0]]).filter(be)),bi(n.concat([r[1]]).filter(be))]},[1/0,-1/0])},MD=function(t,r,n){return Object.keys(t).reduce(function(i,o){var l=t[o],u=l.stackedData,d=u.reduce(function(f,v){var h=$G(v.slice(r,n+1));return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},GN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,O0=function(t,r,n){if(We(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(be(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(GN.test(t[0])){var o=+GN.exec(t[0])[1];i[0]=r[0]-o}else We(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(be(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(VN.test(t[1])){var l=+VN.exec(t[1])[1];i[1]=r[1]+l}else We(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Zf=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var o=c1(r,function(h){return h.coordinate}),l=1/0,u=1,d=o.length;u<d;u++){var f=o[u],v=o[u-1];l=Math.min((f.coordinate||0)-(v.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0},qN=function(t,r,n){return!t||!t.length||Pi(t,pn(n,"type.defaultProps.domain"))?r:t},LD=function(t,r){var n=t.type.defaultProps?Vt(Vt({},t.type.defaultProps),t.props):t.props,i=n.dataKey,o=n.name,l=n.unit,u=n.formatter,d=n.tooltipType,f=n.chartType,v=n.hide;return Vt(Vt({},Te(t,!1)),{},{dataKey:i,unit:l,formatter:u,name:o||i,color:R1(t),value:Ot(r,i),type:d,payload:r,chartType:f,hide:v})};function eu(e){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(n){BD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BD(e,t,r){return t=UG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UG(e){var t=HG(e,"string");return eu(t)=="symbol"?t:t+""}function HG(e,t){if(eu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KG(e,t){return ZG(e)||qG(e,t)||VG(e,t)||GG()}function GG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VG(e,t){if(e){if(typeof e=="string")return XN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XN(e,t)}}function XN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function ZG(e){if(Array.isArray(e))return e}var Xf=Math.PI/180,XG=function(t){return t*180/Math.PI},At=function(t,r,n,i){return{x:t+Math.cos(-Xf*i)*n,y:r+Math.sin(-Xf*i)*n}},FD=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},YG=function(t,r,n,i,o){var l=t.width,u=t.height,d=t.startAngle,f=t.endAngle,v=Lr(t.cx,l,l/2),h=Lr(t.cy,u,u/2),m=FD(l,u,n),b=Lr(t.innerRadius,m,0),w=Lr(t.outerRadius,m,m*.8),x=Object.keys(r);return x.reduce(function(y,j){var k=r[j],S=k.domain,N=k.reversed,A;if(Fe(k.range))i==="angleAxis"?A=[d,f]:i==="radiusAxis"&&(A=[b,w]),N&&(A=[A[1],A[0]]);else{A=k.range;var O=A,_=KG(O,2);d=_[0],f=_[1]}var T=DD(k,o),E=T.realScaleType,D=T.scale;D.domain(S).range(A),RD(D);var I=ID(D,Ea(Ea({},k),{},{realScaleType:E})),L=Ea(Ea(Ea({},k),I),{},{range:A,radius:w,realScaleType:E,scale:D,cx:v,cy:h,innerRadius:b,outerRadius:w,startAngle:d,endAngle:f});return Ea(Ea({},y),{},BD({},j,L))},{})},QG=function(t,r){var n=t.x,i=t.y,o=r.x,l=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-l,2))},JG=function(t,r){var n=t.x,i=t.y,o=r.cx,l=r.cy,u=QG({x:n,y:i},{x:o,y:l});if(u<=0)return{radius:u};var d=(n-o)/u,f=Math.acos(d);return i>l&&(f=2*Math.PI-f),{radius:u,angle:XG(f),angleInRadian:f}},e9=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),l=Math.min(i,o);return{startAngle:r-l*360,endAngle:n-l*360}},t9=function(t,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),l=Math.floor(i/360),u=Math.min(o,l);return t+u*360},YN=function(t,r){var n=t.x,i=t.y,o=JG({x:n,y:i},r),l=o.radius,u=o.angle,d=r.innerRadius,f=r.outerRadius;if(l<d||l>f)return!1;if(l===0)return!0;var v=e9(r),h=v.startAngle,m=v.endAngle,b=u,w;if(h<=m){for(;b>m;)b-=360;for(;b<h;)b+=360;w=b>=h&&b<=m}else{for(;b>h;)b-=360;for(;b<m;)b+=360;w=b>=m&&b<=h}return w?Ea(Ea({},r),{},{radius:l,angle:t9(b,r)}):null},WD=function(t){return!z.isValidElement(t)&&!We(t)&&typeof t!="boolean"?t.className:""};function tu(e){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}var r9=["offset"];function n9(e){return s9(e)||o9(e)||i9(e)||a9()}function a9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i9(e,t){if(e){if(typeof e=="string")return E0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E0(e,t)}}function o9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s9(e){if(Array.isArray(e))return E0(e)}function E0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l9(e,t){if(e==null)return{};var r=c9(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QN(Object(r),!0).forEach(function(n){u9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u9(e,t,r){return t=d9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d9(e){var t=f9(e,"string");return tu(t)=="symbol"?t:t+""}function f9(e,t){if(tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ru(){return ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ru.apply(this,arguments)}var p9=function(t){var r=t.value,n=t.formatter,i=Fe(t.children)?r:t.children;return We(n)?n(i):i},h9=function(t,r){var n=Mr(r-t),i=Math.min(Math.abs(r-t),360);return n*i},v9=function(t,r,n){var i=t.position,o=t.viewBox,l=t.offset,u=t.className,d=o,f=d.cx,v=d.cy,h=d.innerRadius,m=d.outerRadius,b=d.startAngle,w=d.endAngle,x=d.clockWise,y=(h+m)/2,j=h9(b,w),k=j>=0?1:-1,S,N;i==="insideStart"?(S=b+k*l,N=x):i==="insideEnd"?(S=w-k*l,N=!x):i==="end"&&(S=w+k*l,N=x),N=j<=0?N:!N;var A=At(f,v,y,S),O=At(f,v,y,S+(N?1:-1)*359),_="M".concat(A.x,",").concat(A.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(N?0:1,`,
    `).concat(O.x,",").concat(O.y),T=Fe(t.id)?Ri("recharts-radial-line-"):t.id;return K.createElement("text",ru({},n,{dominantBaseline:"central",className:He("recharts-radial-bar-label",u)}),K.createElement("defs",null,K.createElement("path",{id:T,d:_})),K.createElement("textPath",{xlinkHref:"#".concat(T)},r))},m9=function(t){var r=t.viewBox,n=t.offset,i=t.position,o=r,l=o.cx,u=o.cy,d=o.innerRadius,f=o.outerRadius,v=o.startAngle,h=o.endAngle,m=(v+h)/2;if(i==="outside"){var b=At(l,u,f+n,m),w=b.x,x=b.y;return{x:w,y:x,textAnchor:w>=l?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var y=(d+f)/2,j=At(l,u,y,m),k=j.x,S=j.y;return{x:k,y:S,textAnchor:"middle",verticalAnchor:"middle"}},g9=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,o=t.position,l=r,u=l.x,d=l.y,f=l.width,v=l.height,h=v>=0?1:-1,m=h*i,b=h>0?"end":"start",w=h>0?"start":"end",x=f>=0?1:-1,y=x*i,j=x>0?"end":"start",k=x>0?"start":"end";if(o==="top"){var S={x:u+f/2,y:d-h*i,textAnchor:"middle",verticalAnchor:b};return lr(lr({},S),n?{height:Math.max(d-n.y,0),width:f}:{})}if(o==="bottom"){var N={x:u+f/2,y:d+v+m,textAnchor:"middle",verticalAnchor:w};return lr(lr({},N),n?{height:Math.max(n.y+n.height-(d+v),0),width:f}:{})}if(o==="left"){var A={x:u-y,y:d+v/2,textAnchor:j,verticalAnchor:"middle"};return lr(lr({},A),n?{width:Math.max(A.x-n.x,0),height:v}:{})}if(o==="right"){var O={x:u+f+y,y:d+v/2,textAnchor:k,verticalAnchor:"middle"};return lr(lr({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:v}:{})}var _=n?{width:f,height:v}:{};return o==="insideLeft"?lr({x:u+y,y:d+v/2,textAnchor:k,verticalAnchor:"middle"},_):o==="insideRight"?lr({x:u+f-y,y:d+v/2,textAnchor:j,verticalAnchor:"middle"},_):o==="insideTop"?lr({x:u+f/2,y:d+m,textAnchor:"middle",verticalAnchor:w},_):o==="insideBottom"?lr({x:u+f/2,y:d+v-m,textAnchor:"middle",verticalAnchor:b},_):o==="insideTopLeft"?lr({x:u+y,y:d+m,textAnchor:k,verticalAnchor:w},_):o==="insideTopRight"?lr({x:u+f-y,y:d+m,textAnchor:j,verticalAnchor:w},_):o==="insideBottomLeft"?lr({x:u+y,y:d+v-m,textAnchor:k,verticalAnchor:b},_):o==="insideBottomRight"?lr({x:u+f-y,y:d+v-m,textAnchor:j,verticalAnchor:b},_):dl(o)&&(be(o.x)||fo(o.x))&&(be(o.y)||fo(o.y))?lr({x:u+Lr(o.x,f),y:d+Lr(o.y,v),textAnchor:"end",verticalAnchor:"end"},_):lr({x:u+f/2,y:d+v/2,textAnchor:"middle",verticalAnchor:"middle"},_)},y9=function(t){return"cx"in t&&be(t.cx)};function vr(e){var t=e.offset,r=t===void 0?5:t,n=l9(e,r9),i=lr({offset:r},n),o=i.viewBox,l=i.position,u=i.value,d=i.children,f=i.content,v=i.className,h=v===void 0?"":v,m=i.textBreakAll;if(!o||Fe(u)&&Fe(d)&&!z.isValidElement(f)&&!We(f))return null;if(z.isValidElement(f))return z.cloneElement(f,i);var b;if(We(f)){if(b=z.createElement(f,i),z.isValidElement(b))return b}else b=p9(i);var w=y9(o),x=Te(i,!0);if(w&&(l==="insideStart"||l==="insideEnd"||l==="end"))return v9(i,b,x);var y=w?m9(i):g9(i);return K.createElement(wo,ru({className:He("recharts-label",h)},x,y,{breakAll:m}),b)}vr.displayName="Label";var $D=function(t){var r=t.cx,n=t.cy,i=t.angle,o=t.startAngle,l=t.endAngle,u=t.r,d=t.radius,f=t.innerRadius,v=t.outerRadius,h=t.x,m=t.y,b=t.top,w=t.left,x=t.width,y=t.height,j=t.clockWise,k=t.labelViewBox;if(k)return k;if(be(x)&&be(y)){if(be(h)&&be(m))return{x:h,y:m,width:x,height:y};if(be(b)&&be(w))return{x:b,y:w,width:x,height:y}}return be(h)&&be(m)?{x:h,y:m,width:0,height:0}:be(r)&&be(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:l||i||0,innerRadius:f||0,outerRadius:v||d||u||0,clockWise:j}:t.viewBox?t.viewBox:{}},x9=function(t,r){return t?t===!0?K.createElement(vr,{key:"label-implicit",viewBox:r}):cr(t)?K.createElement(vr,{key:"label-implicit",viewBox:r,value:t}):z.isValidElement(t)?t.type===vr?z.cloneElement(t,{key:"label-implicit",viewBox:r}):K.createElement(vr,{key:"label-implicit",content:t,viewBox:r}):We(t)?K.createElement(vr,{key:"label-implicit",content:t,viewBox:r}):dl(t)?K.createElement(vr,ru({viewBox:r},t,{key:"label-implicit"})):null:null},b9=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,o=$D(t),l=Fr(i,vr).map(function(d,f){return z.cloneElement(d,{viewBox:r||o,key:"label-".concat(f)})});if(!n)return l;var u=x9(t.label,r||o);return[u].concat(n9(l))};vr.parseViewBox=$D;vr.renderCallByParent=b9;var Yx,JN;function S9(){if(JN)return Yx;JN=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return Yx=e,Yx}var w9=S9();const j9=pt(w9);function nu(e){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}var k9=["valueAccessor"],C9=["data","dataKey","clockWise","id","textBreakAll"];function z9(e){return _9(e)||P9(e)||N9(e)||A9()}function A9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N9(e,t){if(e){if(typeof e=="string")return T0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T0(e,t)}}function P9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _9(e){if(Array.isArray(e))return T0(e)}function T0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yf(){return Yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yf.apply(this,arguments)}function eP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(r),!0).forEach(function(n){O9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O9(e,t,r){return t=E9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E9(e){var t=T9(e,"string");return nu(t)=="symbol"?t:t+""}function T9(e,t){if(nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rP(e,t){if(e==null)return{};var r=D9(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var R9=function(t){return Array.isArray(t.value)?j9(t.value):t.value};function Vn(e){var t=e.valueAccessor,r=t===void 0?R9:t,n=rP(e,k9),i=n.data,o=n.dataKey,l=n.clockWise,u=n.id,d=n.textBreakAll,f=rP(n,C9);return!i||!i.length?null:K.createElement(Ke,{className:"recharts-label-list"},i.map(function(v,h){var m=Fe(o)?r(v,h):Ot(v&&v.payload,o),b=Fe(u)?{}:{id:"".concat(u,"-").concat(h)};return K.createElement(vr,Yf({},Te(v,!0),f,b,{parentViewBox:v.parentViewBox,value:m,textBreakAll:d,viewBox:vr.parseViewBox(Fe(l)?v:tP(tP({},v),{},{clockWise:l})),key:"label-".concat(h),index:h}))}))}Vn.displayName="LabelList";function I9(e,t){return e?e===!0?K.createElement(Vn,{key:"labelList-implicit",data:t}):K.isValidElement(e)||We(e)?K.createElement(Vn,{key:"labelList-implicit",data:t,content:e}):dl(e)?K.createElement(Vn,Yf({data:t},e,{key:"labelList-implicit"})):null:null}function M9(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Fr(n,Vn).map(function(l,u){return z.cloneElement(l,{data:t,key:"labelList-".concat(u)})});if(!r)return i;var o=I9(e.label,t);return[o].concat(z9(i))}Vn.renderCallByParent=M9;function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function D0(){return D0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D0.apply(this,arguments)}function nP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(r),!0).forEach(function(n){L9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L9(e,t,r){return t=B9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B9(e){var t=F9(e,"string");return au(t)=="symbol"?t:t+""}function F9(e,t){if(au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W9=function(t,r){var n=Mr(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Jd=function(t){var r=t.cx,n=t.cy,i=t.radius,o=t.angle,l=t.sign,u=t.isExternal,d=t.cornerRadius,f=t.cornerIsExternal,v=d*(u?1:-1)+i,h=Math.asin(d/v)/Xf,m=f?o:o+l*h,b=At(r,n,v,m),w=At(r,n,i,m),x=f?o-l*h:o,y=At(r,n,v*Math.cos(h*Xf),x);return{center:b,circleTangency:w,lineTangency:y,theta:h}},UD=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,o=t.outerRadius,l=t.startAngle,u=t.endAngle,d=W9(l,u),f=l+d,v=At(r,n,o,l),h=At(r,n,o,f),m="M ".concat(v.x,",").concat(v.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var b=At(r,n,i,l),w=At(r,n,i,f);m+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},$9=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,o=t.outerRadius,l=t.cornerRadius,u=t.forceCornerRadius,d=t.cornerIsExternal,f=t.startAngle,v=t.endAngle,h=Mr(v-f),m=Jd({cx:r,cy:n,radius:o,angle:f,sign:h,cornerRadius:l,cornerIsExternal:d}),b=m.circleTangency,w=m.lineTangency,x=m.theta,y=Jd({cx:r,cy:n,radius:o,angle:v,sign:-h,cornerRadius:l,cornerIsExternal:d}),j=y.circleTangency,k=y.lineTangency,S=y.theta,N=d?Math.abs(f-v):Math.abs(f-v)-x-S;if(N<0)return u?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):UD({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:f,endAngle:v});var A="M ".concat(w.x,",").concat(w.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
  `);if(i>0){var O=Jd({cx:r,cy:n,radius:i,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),_=O.circleTangency,T=O.lineTangency,E=O.theta,D=Jd({cx:r,cy:n,radius:i,angle:v,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),I=D.circleTangency,L=D.lineTangency,M=D.theta,V=d?Math.abs(f-v):Math.abs(f-v)-E-M;if(V<0&&l===0)return"".concat(A,"L").concat(r,",").concat(n,"Z");A+="L".concat(L.x,",").concat(L.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(V>180),",").concat(+(h>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,"Z")}else A+="L".concat(r,",").concat(n,"Z");return A},U9={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},HD=function(t){var r=aP(aP({},U9),t),n=r.cx,i=r.cy,o=r.innerRadius,l=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,v=r.startAngle,h=r.endAngle,m=r.className;if(l<o||v===h)return null;var b=He("recharts-sector",m),w=l-o,x=Lr(u,w,0,!0),y;return x>0&&Math.abs(v-h)<360?y=$9({cx:n,cy:i,innerRadius:o,outerRadius:l,cornerRadius:Math.min(x,w/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:v,endAngle:h}):y=UD({cx:n,cy:i,innerRadius:o,outerRadius:l,startAngle:v,endAngle:h}),K.createElement("path",D0({},Te(r,!0),{className:b,d:y,role:"img"}))};function iu(e){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R0.apply(this,arguments)}function iP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(r),!0).forEach(function(n){H9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H9(e,t,r){return t=K9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K9(e){var t=G9(e,"string");return iu(t)=="symbol"?t:t+""}function G9(e,t){if(iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sP={curveBasisClosed:fW,curveBasisOpen:pW,curveBasis:dW,curveBumpX:YF,curveBumpY:QF,curveLinearClosed:hW,curveLinear:Vp,curveMonotoneX:vW,curveMonotoneY:mW,curveNatural:gW,curveStep:yW,curveStepAfter:bW,curveStepBefore:xW},ef=function(t){return t.x===+t.x&&t.y===+t.y},hc=function(t){return t.x},vc=function(t){return t.y},V9=function(t,r){if(We(t))return t;var n="curve".concat(Kp(t));return(n==="curveMonotone"||n==="curveBump")&&r?sP["".concat(n).concat(r==="vertical"?"Y":"X")]:sP[n]||Vp},q9=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,o=i===void 0?[]:i,l=t.baseLine,u=t.layout,d=t.connectNulls,f=d===void 0?!1:d,v=V9(n,u),h=f?o.filter(function(x){return ef(x)}):o,m;if(Array.isArray(l)){var b=f?l.filter(function(x){return ef(x)}):l,w=h.map(function(x,y){return oP(oP({},x),{},{base:b[y]})});return u==="vertical"?m=Kd().y(vc).x1(hc).x0(function(x){return x.base.x}):m=Kd().x(hc).y1(vc).y0(function(x){return x.base.y}),m.defined(ef).curve(v),m(w)}return u==="vertical"&&be(l)?m=Kd().y(vc).x1(hc).x0(l):be(l)?m=Kd().x(hc).y1(vc).y0(l):m=$E().x(hc).y(vc),m.defined(ef).curve(v),m(h)},Ci=function(t){var r=t.className,n=t.points,i=t.path,o=t.pathRef;if((!n||!n.length)&&!i)return null;var l=n&&n.length?q9(t):i;return z.createElement("path",R0({},Te(t,!1),Cf(t),{className:He("recharts-curve",r),d:l,ref:o}))},Qx={exports:{}},Jx,lP;function Z9(){if(lP)return Jx;lP=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Jx=e,Jx}var eb,cP;function X9(){if(cP)return eb;cP=1;var e=Z9();function t(){}function r(){}return r.resetWarningCache=t,eb=function(){function n(l,u,d,f,v,h){if(h!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return o.PropTypes=o,o},eb}var uP;function Y9(){return uP||(uP=1,Qx.exports=X9()()),Qx.exports}var Q9=Y9();const ft=pt(Q9),{getOwnPropertyNames:J9,getOwnPropertySymbols:eV}=Object,{hasOwnProperty:tV}=Object.prototype;function tb(e,t){return function(n,i,o){return e(n,i,o)&&t(n,i,o)}}function tf(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);const{cache:o}=i,l=o.get(r),u=o.get(n);if(l&&u)return l===n&&u===r;o.set(r,n),o.set(n,r);const d=e(r,n,i);return o.delete(r),o.delete(n),d}}function rV(e){return e?.[Symbol.toStringTag]}function dP(e){return J9(e).concat(eV(e))}const nV=Object.hasOwn||((e,t)=>tV.call(e,t));function Do(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const aV="__v",iV="__o",oV="_owner",{getOwnPropertyDescriptor:fP,keys:pP}=Object;function sV(e,t){return e.byteLength===t.byteLength&&Qf(new Uint8Array(e),new Uint8Array(t))}function lV(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function cV(e,t){return e.byteLength===t.byteLength&&Qf(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function uV(e,t){return Do(e.getTime(),t.getTime())}function dV(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function fV(e,t){return e===t}function hP(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),o=e.entries();let l,u,d=0;for(;(l=o.next())&&!l.done;){const f=t.entries();let v=!1,h=0;for(;(u=f.next())&&!u.done;){if(i[h]){h++;continue}const m=l.value,b=u.value;if(r.equals(m[0],b[0],d,h,e,t,r)&&r.equals(m[1],b[1],m[0],b[0],e,t,r)){v=i[h]=!0;break}h++}if(!v)return!1;d++}return!0}const pV=Do;function hV(e,t,r){const n=pP(e);let i=n.length;if(pP(t).length!==i)return!1;for(;i-- >0;)if(!KD(e,t,r,n[i]))return!1;return!0}function mc(e,t,r){const n=dP(e);let i=n.length;if(dP(t).length!==i)return!1;let o,l,u;for(;i-- >0;)if(o=n[i],!KD(e,t,r,o)||(l=fP(e,o),u=fP(t,o),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function vV(e,t){return Do(e.valueOf(),t.valueOf())}function mV(e,t){return e.source===t.source&&e.flags===t.flags}function vP(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),o=e.values();let l,u;for(;(l=o.next())&&!l.done;){const d=t.values();let f=!1,v=0;for(;(u=d.next())&&!u.done;){if(!i[v]&&r.equals(l.value,u.value,l.value,u.value,e,t,r)){f=i[v]=!0;break}v++}if(!f)return!1}return!0}function Qf(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function gV(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function KD(e,t,r,n){return(n===oV||n===iV||n===aV)&&(e.$$typeof||t.$$typeof)?!0:nV(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const yV="[object ArrayBuffer]",xV="[object Arguments]",bV="[object Boolean]",SV="[object DataView]",wV="[object Date]",jV="[object Error]",kV="[object Map]",CV="[object Number]",zV="[object Object]",AV="[object RegExp]",NV="[object Set]",PV="[object String]",_V={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},OV="[object URL]",EV=Object.prototype.toString;function TV({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:l,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:f,areRegExpsEqual:v,areSetsEqual:h,areTypedArraysEqual:m,areUrlsEqual:b,unknownTagComparators:w}){return function(y,j,k){if(y===j)return!0;if(y==null||j==null)return!1;const S=typeof y;if(S!==typeof j)return!1;if(S!=="object")return S==="number"?u(y,j,k):S==="function"?o(y,j,k):!1;const N=y.constructor;if(N!==j.constructor)return!1;if(N===Object)return d(y,j,k);if(Array.isArray(y))return t(y,j,k);if(N===Date)return n(y,j,k);if(N===RegExp)return v(y,j,k);if(N===Map)return l(y,j,k);if(N===Set)return h(y,j,k);const A=EV.call(y);if(A===wV)return n(y,j,k);if(A===AV)return v(y,j,k);if(A===kV)return l(y,j,k);if(A===NV)return h(y,j,k);if(A===zV)return typeof y.then!="function"&&typeof j.then!="function"&&d(y,j,k);if(A===OV)return b(y,j,k);if(A===jV)return i(y,j,k);if(A===xV)return d(y,j,k);if(_V[A])return m(y,j,k);if(A===yV)return e(y,j,k);if(A===SV)return r(y,j,k);if(A===bV||A===CV||A===PV)return f(y,j,k);if(w){let O=w[A];if(!O){const _=rV(y);_&&(O=w[_])}if(O)return O(y,j,k)}return!1}}function DV({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:sV,areArraysEqual:r?mc:lV,areDataViewsEqual:cV,areDatesEqual:uV,areErrorsEqual:dV,areFunctionsEqual:fV,areMapsEqual:r?tb(hP,mc):hP,areNumbersEqual:pV,areObjectsEqual:r?mc:hV,arePrimitiveWrappersEqual:vV,areRegExpsEqual:mV,areSetsEqual:r?tb(vP,mc):vP,areTypedArraysEqual:r?tb(Qf,mc):Qf,areUrlsEqual:gV,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const i=tf(n.areArraysEqual),o=tf(n.areMapsEqual),l=tf(n.areObjectsEqual),u=tf(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:u})}return n}function RV(e){return function(t,r,n,i,o,l,u){return e(t,r,u)}}function IV({circular:e,comparator:t,createState:r,equals:n,strict:i}){if(r)return function(u,d){const{cache:f=e?new WeakMap:void 0,meta:v}=r();return t(u,d,{cache:f,equals:n,meta:v,strict:i})};if(e)return function(u,d){return t(u,d,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const o={cache:void 0,equals:n,meta:void 0,strict:i};return function(u,d){return t(u,d,o)}}const MV=Li();Li({strict:!0});Li({circular:!0});Li({circular:!0,strict:!0});Li({createInternalComparator:()=>Do});Li({strict:!0,createInternalComparator:()=>Do});Li({circular:!0,createInternalComparator:()=>Do});Li({circular:!0,createInternalComparator:()=>Do,strict:!0});function Li(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:i=!1}=e,o=DV(e),l=TV(o),u=r?r(l):RV(l);return IV({circular:t,comparator:l,createState:n,equals:u,strict:i})}function LV(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function mP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>t?(e(o),r=-1):LV(i)};requestAnimationFrame(n)}function I0(e){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I0(e)}function BV(e){return UV(e)||$V(e)||WV(e)||FV()}function FV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WV(e,t){if(e){if(typeof e=="string")return gP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gP(e,t)}}function gP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $V(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UV(e){if(Array.isArray(e))return e}function HV(){var e={},t=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,u=BV(l),d=u[0],f=u.slice(1);if(typeof d=="number"){mP(i.bind(null,f),d);return}i(d),mP(i.bind(null,f));return}I0(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}function yP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(r),!0).forEach(function(n){GD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GD(e,t,r){return t=KV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KV(e){var t=GV(e,"string");return ou(t)==="symbol"?t:String(t)}function GV(e,t){if(ou(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ou(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VV=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},qV=function(t){return t},ZV=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ec=function(t,r){return Object.keys(r).reduce(function(n,i){return xP(xP({},n),{},GD({},i,t(i,r[i])))},{})},bP=function(t,r,n){return t.map(function(i){return"".concat(ZV(i)," ").concat(r,"ms ").concat(n)}).join(",")};function XV(e,t){return JV(e)||QV(e,t)||VD(e,t)||YV()}function YV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function JV(e){if(Array.isArray(e))return e}function e7(e){return n7(e)||r7(e)||VD(e)||t7()}function t7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VD(e,t){if(e){if(typeof e=="string")return M0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M0(e,t)}}function r7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function n7(e){if(Array.isArray(e))return M0(e)}function M0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Jf=1e-4,qD=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},ZD=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},SP=function(t,r){return function(n){var i=qD(t,r);return ZD(i,n)}},a7=function(t,r){return function(n){var i=qD(t,r),o=[].concat(e7(i.map(function(l,u){return l*u}).slice(1)),[0]);return ZD(o,n)}},wP=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],o=r[1],l=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,l=1,u=1;break;case"ease":i=.25,o=.1,l=.25,u=1;break;case"ease-in":i=.42,o=0,l=1,u=1;break;case"ease-out":i=.42,o=0,l=.58,u=1;break;case"ease-in-out":i=0,o=0,l=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),v=XV(f,4);i=v[0],o=v[1],l=v[2],u=v[3]}}}var h=SP(i,l),m=SP(o,u),b=a7(i,l),w=function(j){return j>1?1:j<0?0:j},x=function(j){for(var k=j>1?1:j,S=k,N=0;N<8;++N){var A=h(S)-k,O=b(S);if(Math.abs(A-k)<Jf||O<Jf)return m(S);S=w(S-A/O)}return m(S)};return x.isStepper=!1,x},i7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,o=i===void 0?8:i,l=t.dt,u=l===void 0?17:l,d=function(v,h,m){var b=-(v-h)*n,w=m*o,x=m+(b-w)*u/1e3,y=m*u/1e3+v;return Math.abs(y-h)<Jf&&Math.abs(x)<Jf?[h,0]:[y,x]};return d.isStepper=!0,d.dt=u,d},o7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wP(i);case"spring":return i7();default:if(i.split("(")[0]==="cubic-bezier")return wP(i)}return typeof i=="function"?i:null};function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function jP(e){return c7(e)||l7(e)||XD(e)||s7()}function s7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c7(e){if(Array.isArray(e))return B0(e)}function kP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(r),!0).forEach(function(n){L0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L0(e,t,r){return t=u7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u7(e){var t=d7(e,"string");return su(t)==="symbol"?t:String(t)}function d7(e,t){if(su(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(su(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f7(e,t){return v7(e)||h7(e,t)||XD(e,t)||p7()}function p7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XD(e,t){if(e){if(typeof e=="string")return B0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B0(e,t)}}function B0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function v7(e){if(Array.isArray(e))return e}var ep=function(t,r,n){return t+(r-t)*n},F0=function(t){var r=t.from,n=t.to;return r!==n},m7=function e(t,r,n){var i=Ec(function(o,l){if(F0(l)){var u=t(l.from,l.to,l.velocity),d=f7(u,2),f=d[0],v=d[1];return br(br({},l),{},{from:f,velocity:v})}return l},r);return n<1?Ec(function(o,l){return F0(l)?br(br({},l),{},{velocity:ep(l.velocity,i[o].velocity,n),from:ep(l.from,i[o].from,n)}):l},r):e(t,i,n-1)};const g7=(function(e,t,r,n,i){var o=VV(e,t),l=o.reduce(function(y,j){return br(br({},y),{},L0({},j,[e[j],t[j]]))},{}),u=o.reduce(function(y,j){return br(br({},y),{},L0({},j,{from:e[j],velocity:0,to:t[j]}))},{}),d=-1,f,v,h=function(){return null},m=function(){return Ec(function(j,k){return k.from},u)},b=function(){return!Object.values(u).filter(F0).length},w=function(j){f||(f=j);var k=j-f,S=k/r.dt;u=m7(r,u,S),i(br(br(br({},e),t),m())),f=j,b()||(d=requestAnimationFrame(h))},x=function(j){v||(v=j);var k=(j-v)/n,S=Ec(function(A,O){return ep.apply(void 0,jP(O).concat([r(k)]))},l);if(i(br(br(br({},e),t),S)),k<1)d=requestAnimationFrame(h);else{var N=Ec(function(A,O){return ep.apply(void 0,jP(O).concat([r(1)]))},l);i(br(br(br({},e),t),N))}};return h=r.isStepper?w:x,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(d)}}});function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}var y7=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function x7(e,t){if(e==null)return{};var r=b7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b7(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function rb(e){return k7(e)||j7(e)||w7(e)||S7()}function S7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w7(e,t){if(e){if(typeof e=="string")return W0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W0(e,t)}}function j7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function k7(e){if(Array.isArray(e))return W0(e)}function W0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){zc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zc(e,t,r){return t=YD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YD(n.key),n)}}function A7(e,t,r){return t&&z7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YD(e){var t=N7(e,"string");return $s(t)==="symbol"?t:String(t)}function N7(e,t){if($s(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($s(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$0(e,t)}function $0(e,t){return $0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$0(e,t)}function _7(e){var t=O7();return function(){var n=tp(e),i;if(t){var o=tp(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return U0(this,i)}}function U0(e,t){if(t&&($s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H0(e)}function H0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O7(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tp(e){return tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tp(e)}var _n=(function(e){P7(r,e);var t=_7(r);function r(n,i){var o;C7(this,r),o=t.call(this,n,i);var l=o.props,u=l.isActive,d=l.attributeName,f=l.from,v=l.to,h=l.steps,m=l.children,b=l.duration;if(o.handleStyleChange=o.handleStyleChange.bind(H0(o)),o.changeStyle=o.changeStyle.bind(H0(o)),!u||b<=0)return o.state={style:{}},typeof m=="function"&&(o.state={style:v}),U0(o);if(h&&h.length)o.state={style:h[0].style};else if(f){if(typeof m=="function")return o.state={style:f},U0(o);o.state={style:d?zc({},d,f):f}}else o.state={style:{}};return o}return A7(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,l=i.canBegin;this.mounted=!0,!(!o||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,l=o.isActive,u=o.canBegin,d=o.attributeName,f=o.shouldReAnimate,v=o.to,h=o.from,m=this.state.style;if(u){if(!l){var b={style:d?zc({},d,v):v};this.state&&m&&(d&&m[d]!==v||!d&&m!==v)&&this.setState(b);return}if(!(MV(i.to,v)&&i.canBegin&&i.isActive)){var w=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=w||f?h:i.to;if(this.state&&m){var y={style:d?zc({},d,x):x};(d&&m[d]!==x||!d&&m!==x)&&this.setState(y)}this.runAnimation(Bn(Bn({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,l=i.from,u=i.to,d=i.duration,f=i.easing,v=i.begin,h=i.onAnimationEnd,m=i.onAnimationStart,b=g7(l,u,o7(f),d,this.changeStyle),w=function(){o.stopJSAnimation=b()};this.manager.start([m,v,w,d,h])}},{key:"runStepAnimation",value:function(i){var o=this,l=i.steps,u=i.begin,d=i.onAnimationStart,f=l[0],v=f.style,h=f.duration,m=h===void 0?0:h,b=function(x,y,j){if(j===0)return x;var k=y.duration,S=y.easing,N=S===void 0?"ease":S,A=y.style,O=y.properties,_=y.onAnimationEnd,T=j>0?l[j-1]:y,E=O||Object.keys(A);if(typeof N=="function"||N==="spring")return[].concat(rb(x),[o.runJSAnimation.bind(o,{from:T.style,to:A,duration:k,easing:N}),k]);var D=bP(E,k,N),I=Bn(Bn(Bn({},T.style),A),{},{transition:D});return[].concat(rb(x),[I,k,_]).filter(qV)};return this.manager.start([d].concat(rb(l.reduce(b,[v,Math.max(m,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=HV());var o=i.begin,l=i.duration,u=i.attributeName,d=i.to,f=i.easing,v=i.onAnimationStart,h=i.onAnimationEnd,m=i.steps,b=i.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof f=="function"||typeof b=="function"||f==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var x=u?zc({},u,d):d,y=bP(Object.keys(x),l,f);w.start([v,o,Bn(Bn({},x),{},{transition:y}),l,h])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var l=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=x7(i,y7),f=z.Children.count(o),v=this.state.style;if(typeof o=="function")return o(v);if(!u||f===0||l<=0)return o;var h=function(b){var w=b.props,x=w.style,y=x===void 0?{}:x,j=w.className,k=z.cloneElement(b,Bn(Bn({},d),{},{style:Bn(Bn({},y),v),className:j}));return k};return f===1?h(z.Children.only(o)):K.createElement("div",null,z.Children.map(o,function(m){return h(m)}))}}]),r})(z.PureComponent);_n.displayName="Animate";_n.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};_n.propTypes={from:ft.oneOfType([ft.object,ft.string]),to:ft.oneOfType([ft.object,ft.string]),attributeName:ft.string,duration:ft.number,begin:ft.number,easing:ft.oneOfType([ft.string,ft.func]),steps:ft.arrayOf(ft.shape({duration:ft.number.isRequired,style:ft.object.isRequired,easing:ft.oneOfType([ft.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ft.func]),properties:ft.arrayOf("string"),onAnimationEnd:ft.func})),children:ft.oneOfType([ft.node,ft.func]),isActive:ft.bool,canBegin:ft.bool,onAnimationEnd:ft.func,shouldReAnimate:ft.bool,onAnimationStart:ft.func,onAnimationReStart:ft.func};var Nu=sE();const E7=pt(Nu);function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rp.apply(this,arguments)}function T7(e,t){return M7(e)||I7(e,t)||R7(e,t)||D7()}function D7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R7(e,t){if(e){if(typeof e=="string")return zP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zP(e,t)}}function zP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function M7(e){if(Array.isArray(e))return e}function AP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(r),!0).forEach(function(n){L7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L7(e,t,r){return t=B7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B7(e){var t=F7(e,"string");return lu(t)=="symbol"?t:t+""}function F7(e,t){if(lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PP=function(t,r,n,i,o){var l=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,d=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,v;if(l>0&&o instanceof Array){for(var h=[0,0,0,0],m=0,b=4;m<b;m++)h[m]=o[m]>l?l:o[m];v="M".concat(t,",").concat(r+u*h[0]),h[0]>0&&(v+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(t+d*h[0],",").concat(r)),v+="L ".concat(t+n-d*h[1],",").concat(r),h[1]>0&&(v+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(r+u*h[1])),v+="L ".concat(t+n,",").concat(r+i-u*h[2]),h[2]>0&&(v+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(t+n-d*h[2],",").concat(r+i)),v+="L ".concat(t+d*h[3],",").concat(r+i),h[3]>0&&(v+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(r+i-u*h[3])),v+="Z"}else if(l>0&&o===+o&&o>0){var w=Math.min(l,o);v="M ".concat(t,",").concat(r+u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+d*w,",").concat(r,`
            L `).concat(t+n-d*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n,",").concat(r+u*w,`
            L `).concat(t+n,",").concat(r+i-u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n-d*w,",").concat(r+i,`
            L `).concat(t+d*w,",").concat(r+i,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t,",").concat(r+i-u*w," Z")}else v="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return v},W7=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,o=r.x,l=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(o,o+u),v=Math.max(o,o+u),h=Math.min(l,l+d),m=Math.max(l,l+d);return n>=f&&n<=v&&i>=h&&i<=m}return!1},$7={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},I1=function(t){var r=NP(NP({},$7),t),n=z.useRef(),i=z.useState(-1),o=T7(i,2),l=o[0],u=o[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&u(N)}catch{}},[]);var d=r.x,f=r.y,v=r.width,h=r.height,m=r.radius,b=r.className,w=r.animationEasing,x=r.animationDuration,y=r.animationBegin,j=r.isAnimationActive,k=r.isUpdateAnimationActive;if(d!==+d||f!==+f||v!==+v||h!==+h||v===0||h===0)return null;var S=He("recharts-rectangle",b);return k?K.createElement(_n,{canBegin:l>0,from:{width:v,height:h,x:d,y:f},to:{width:v,height:h,x:d,y:f},duration:x,animationEasing:w,isActive:k},function(N){var A=N.width,O=N.height,_=N.x,T=N.y;return K.createElement(_n,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,isActive:j,easing:w},K.createElement("path",rp({},Te(r,!0),{className:S,d:PP(_,T,A,O,m),ref:n})))}):K.createElement("path",rp({},Te(r,!0),{className:S,d:PP(d,f,v,h,m)}))},U7=["points","className","baseLinePoints","connectNulls"];function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ss.apply(this,arguments)}function H7(e,t){if(e==null)return{};var r=K7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function K7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _P(e){return Z7(e)||q7(e)||V7(e)||G7()}function G7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V7(e,t){if(e){if(typeof e=="string")return K0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K0(e,t)}}function q7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Z7(e){if(Array.isArray(e))return K0(e)}function K0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var OP=function(t){return t&&t.x===+t.x&&t.y===+t.y},X7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){OP(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),OP(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Tc=function(t,r){var n=X7(t);r&&(n=[n.reduce(function(o,l){return[].concat(_P(o),_P(l))},[])]);var i=n.map(function(o){return o.reduce(function(l,u,d){return"".concat(l).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Y7=function(t,r,n){var i=Tc(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Tc(r.reverse(),n).slice(1))},Q7=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,o=t.connectNulls,l=H7(t,U7);if(!r||!r.length)return null;var u=He("recharts-polygon",n);if(i&&i.length){var d=l.stroke&&l.stroke!=="none",f=Y7(r,i,o);return K.createElement("g",{className:u},K.createElement("path",Ss({},Te(l,!0),{fill:f.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:f})),d?K.createElement("path",Ss({},Te(l,!0),{fill:"none",d:Tc(r,o)})):null,d?K.createElement("path",Ss({},Te(l,!0),{fill:"none",d:Tc(i,o)})):null)}var v=Tc(r,o);return K.createElement("path",Ss({},Te(l,!0),{fill:v.slice(-1)==="Z"?l.fill:"none",className:u,d:v}))};function G0(){return G0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G0.apply(this,arguments)}var Pu=function(t){var r=t.cx,n=t.cy,i=t.r,o=t.className,l=He("recharts-dot",o);return r===+r&&n===+n&&i===+i?z.createElement("circle",G0({},Te(t,!1),Cf(t),{className:l,cx:r,cy:n,r:i})):null};function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}var J7=["x","y","top","left","width","height","className"];function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V0.apply(this,arguments)}function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){tq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tq(e,t,r){return t=rq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rq(e){var t=nq(e,"string");return cu(t)=="symbol"?t:t+""}function nq(e,t){if(cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aq(e,t){if(e==null)return{};var r=iq(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var oq=function(t,r,n,i,o,l){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(l,",").concat(r,"h").concat(n)},sq=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,o=i===void 0?0:i,l=t.top,u=l===void 0?0:l,d=t.left,f=d===void 0?0:d,v=t.width,h=v===void 0?0:v,m=t.height,b=m===void 0?0:m,w=t.className,x=aq(t,J7),y=eq({x:n,y:o,top:u,left:f,width:h,height:b},x);return!be(n)||!be(o)||!be(h)||!be(b)||!be(u)||!be(f)?null:K.createElement("path",V0({},Te(y,!0),{className:He("recharts-cross",w),d:oq(n,o,h,b,u,f)}))},nb,TP;function lq(){if(TP)return nb;TP=1;var e=ih(),t=fD(),r=ha();function n(i,o){return i&&i.length?e(i,r(o,2),t):void 0}return nb=n,nb}var cq=lq();const uq=pt(cq);var ab,DP;function dq(){if(DP)return ab;DP=1;var e=ih(),t=ha(),r=pD();function n(i,o){return i&&i.length?e(i,t(o,2),r):void 0}return ab=n,ab}var fq=dq();const pq=pt(fq);var hq=["cx","cy","angle","ticks","axisLine"],vq=["ticks","tick","angle","tickFormatter","stroke"];function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function Dc(){return Dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dc.apply(this,arguments)}function RP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(r),!0).forEach(function(n){ch(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IP(e,t){if(e==null)return{};var r=mq(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JD(n.key),n)}}function yq(e,t,r){return t&&MP(e.prototype,t),r&&MP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xq(e,t,r){return t=np(t),bq(e,QD()?Reflect.construct(t,r||[],np(e).constructor):t.apply(e,r))}function bq(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sq(e)}function Sq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QD=function(){return!!e})()}function np(e){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},np(e)}function wq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q0(e,t)}function q0(e,t){return q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},q0(e,t)}function ch(e,t,r){return t=JD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JD(e){var t=jq(e,"string");return Us(t)=="symbol"?t:t+""}function jq(e,t){if(Us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uh=(function(e){function t(){return gq(this,t),xq(this,t,arguments)}return wq(t,e),yq(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,o=this.props,l=o.angle,u=o.cx,d=o.cy;return At(u,d,i,l)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,o=n.cy,l=n.angle,u=n.ticks,d=uq(u,function(v){return v.coordinate||0}),f=pq(u,function(v){return v.coordinate||0});return{cx:i,cy:o,startAngle:l,endAngle:l,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,l=n.angle,u=n.ticks,d=n.axisLine,f=IP(n,hq),v=u.reduce(function(w,x){return[Math.min(w[0],x.coordinate),Math.max(w[1],x.coordinate)]},[1/0,-1/0]),h=At(i,o,v[0],l),m=At(i,o,v[1],l),b=ro(ro(ro({},Te(f,!1)),{},{fill:"none"},Te(d,!1)),{},{x1:h.x,y1:h.y,x2:m.x,y2:m.y});return K.createElement("line",Dc({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,l=i.tick,u=i.angle,d=i.tickFormatter,f=i.stroke,v=IP(i,vq),h=this.getTickTextAnchor(),m=Te(v,!1),b=Te(l,!1),w=o.map(function(x,y){var j=n.getTickValueCoord(x),k=ro(ro(ro(ro({textAnchor:h,transform:"rotate(".concat(90-u,", ").concat(j.x,", ").concat(j.y,")")},m),{},{stroke:"none",fill:f},b),{},{index:y},j),{},{payload:x});return K.createElement(Ke,Dc({className:He("recharts-polar-radius-axis-tick",WD(l)),key:"tick-".concat(x.coordinate)},Ni(n.props,x,y)),t.renderTickItem(l,k,d?d(x.value,y):x.value))});return K.createElement(Ke,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.axisLine,l=n.tick;return!i||!i.length?null:K.createElement(Ke,{className:He("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),l&&this.renderTicks(),vr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,o){var l;return K.isValidElement(n)?l=K.cloneElement(n,i):We(n)?l=n(i):l=K.createElement(wo,Dc({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),l}}])})(z.PureComponent);ch(uh,"displayName","PolarRadiusAxis");ch(uh,"axisType","radiusAxis");ch(uh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uo.apply(this,arguments)}function LP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function no(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(r),!0).forEach(function(n){dh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tR(n.key),n)}}function Cq(e,t,r){return t&&BP(e.prototype,t),r&&BP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zq(e,t,r){return t=ap(t),Aq(e,eR()?Reflect.construct(t,r||[],ap(e).constructor):t.apply(e,r))}function Aq(e,t){if(t&&(Hs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nq(e)}function Nq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eR=function(){return!!e})()}function ap(e){return ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ap(e)}function Pq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z0(e,t)}function Z0(e,t){return Z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Z0(e,t)}function dh(e,t,r){return t=tR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tR(e){var t=_q(e,"string");return Hs(t)=="symbol"?t:t+""}function _q(e,t){if(Hs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Oq=Math.PI/180,FP=1e-5,fh=(function(e){function t(){return kq(this,t),zq(this,t,arguments)}return Pq(t,e),Cq(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.cx,l=i.cy,u=i.radius,d=i.orientation,f=i.tickSize,v=f||8,h=At(o,l,u,n.coordinate),m=At(o,l,u+(d==="inner"?-1:1)*v,n.coordinate);return{x1:h.x,y1:h.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,o=Math.cos(-n.coordinate*Oq),l;return o>FP?l=i==="outer"?"start":"end":o<-FP?l=i==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,l=n.radius,u=n.axisLine,d=n.axisLineType,f=no(no({},Te(this.props,!1)),{},{fill:"none"},Te(u,!1));if(d==="circle")return K.createElement(Pu,uo({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:o,r:l}));var v=this.props.ticks,h=v.map(function(m){return At(i,o,l,m.coordinate)});return K.createElement(Q7,uo({className:"recharts-polar-angle-axis-line"},f,{points:h}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,l=i.tick,u=i.tickLine,d=i.tickFormatter,f=i.stroke,v=Te(this.props,!1),h=Te(l,!1),m=no(no({},v),{},{fill:"none"},Te(u,!1)),b=o.map(function(w,x){var y=n.getTickLineCoord(w),j=n.getTickTextAnchor(w),k=no(no(no({textAnchor:j},v),{},{stroke:"none",fill:f},h),{},{index:x,payload:w,x:y.x2,y:y.y2});return K.createElement(Ke,uo({className:He("recharts-polar-angle-axis-tick",WD(l)),key:"tick-".concat(w.coordinate)},Ni(n.props,w,x)),u&&K.createElement("line",uo({className:"recharts-polar-angle-axis-tick-line"},m,y)),l&&t.renderTickItem(l,k,d?d(w.value,x):w.value))});return K.createElement(Ke,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.radius,l=n.axisLine;return o<=0||!i||!i.length?null:K.createElement(Ke,{className:He("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,o){var l;return K.isValidElement(n)?l=K.cloneElement(n,i):We(n)?l=n(i):l=K.createElement(wo,uo({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),l}}])})(z.PureComponent);dh(fh,"displayName","PolarAngleAxis");dh(fh,"axisType","angleAxis");dh(fh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ib,WP;function Eq(){if(WP)return ib;WP=1;var e=dT(),t=e(Object.getPrototypeOf,Object);return ib=t,ib}var ob,$P;function Tq(){if($P)return ob;$P=1;var e=Ga(),t=Eq(),r=Va(),n="[object Object]",i=Function.prototype,o=Object.prototype,l=i.toString,u=o.hasOwnProperty,d=l.call(Object);function f(v){if(!r(v)||e(v)!=n)return!1;var h=t(v);if(h===null)return!0;var m=u.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&l.call(m)==d}return ob=f,ob}var Dq=Tq();const Rq=pt(Dq);var sb,UP;function Iq(){if(UP)return sb;UP=1;var e=Ga(),t=Va(),r="[object Boolean]";function n(i){return i===!0||i===!1||t(i)&&e(i)==r}return sb=n,sb}var Mq=Iq();const Lq=pt(Mq);function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ip.apply(this,arguments)}function Bq(e,t){return Uq(e)||$q(e,t)||Wq(e,t)||Fq()}function Fq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wq(e,t){if(e){if(typeof e=="string")return HP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HP(e,t)}}function HP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $q(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function Uq(e){if(Array.isArray(e))return e}function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(n){Hq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hq(e,t,r){return t=Kq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kq(e){var t=Gq(e,"string");return uu(t)=="symbol"?t:t+""}function Gq(e,t){if(uu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VP=function(t,r,n,i,o){var l=n-i,u;return u="M ".concat(t,",").concat(r),u+="L ".concat(t+n,",").concat(r),u+="L ".concat(t+n-l/2,",").concat(r+o),u+="L ".concat(t+n-l/2-i,",").concat(r+o),u+="L ".concat(t,",").concat(r," Z"),u},Vq={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qq=function(t){var r=GP(GP({},Vq),t),n=z.useRef(),i=z.useState(-1),o=Bq(i,2),l=o[0],u=o[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&u(S)}catch{}},[]);var d=r.x,f=r.y,v=r.upperWidth,h=r.lowerWidth,m=r.height,b=r.className,w=r.animationEasing,x=r.animationDuration,y=r.animationBegin,j=r.isUpdateAnimationActive;if(d!==+d||f!==+f||v!==+v||h!==+h||m!==+m||v===0&&h===0||m===0)return null;var k=He("recharts-trapezoid",b);return j?K.createElement(_n,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:m,x:d,y:f},to:{upperWidth:v,lowerWidth:h,height:m,x:d,y:f},duration:x,animationEasing:w,isActive:j},function(S){var N=S.upperWidth,A=S.lowerWidth,O=S.height,_=S.x,T=S.y;return K.createElement(_n,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,easing:w},K.createElement("path",ip({},Te(r,!0),{className:k,d:VP(_,T,N,A,O),ref:n})))}):K.createElement("g",null,K.createElement("path",ip({},Te(r,!0),{className:k,d:VP(d,f,v,h,m)})))},Zq=["option","shapeType","propTransformer","activeClassName","isActive"];function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function Xq(e,t){if(e==null)return{};var r=Yq(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function op(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qP(Object(r),!0).forEach(function(n){Qq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qq(e,t,r){return t=Jq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jq(e){var t=eZ(e,"string");return du(t)=="symbol"?t:t+""}function eZ(e,t){if(du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tZ(e,t){return op(op({},t),e)}function rZ(e,t){return e==="symbols"}function ZP(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return K.createElement(I1,r);case"trapezoid":return K.createElement(qq,r);case"sector":return K.createElement(HD,r);case"symbols":if(rZ(t))return K.createElement(Zp,r);break;default:return null}}function nZ(e){return z.isValidElement(e)?e.props:e}function sp(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?tZ:n,o=e.activeClassName,l=o===void 0?"recharts-active-shape":o,u=e.isActive,d=Xq(e,Zq),f;if(z.isValidElement(t))f=z.cloneElement(t,op(op({},d),nZ(t)));else if(We(t))f=t(d);else if(Rq(t)&&!Lq(t)){var v=i(t,d);f=K.createElement(ZP,{shapeType:r,elementProps:v})}else{var h=d;f=K.createElement(ZP,{shapeType:r,elementProps:h})}return u?K.createElement(Ke,{className:l},f):f}function ph(e,t){return t!=null&&"trapezoids"in e.props}function hh(e,t){return t!=null&&"sectors"in e.props}function fu(e,t){return t!=null&&"points"in e.props}function aZ(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&o}function iZ(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function oZ(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function sZ(e,t){var r;return ph(e,t)?r=aZ:hh(e,t)?r=iZ:fu(e,t)&&(r=oZ),r}function lZ(e,t){var r;return ph(e,t)?r="trapezoids":hh(e,t)?r="sectors":fu(e,t)&&(r="points"),r}function cZ(e,t){if(ph(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(hh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return fu(e,t)?t.payload:{}}function uZ(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=lZ(r,t),o=cZ(r,t),l=n.filter(function(d,f){var v=Pi(o,d),h=r.props[i].filter(function(w){var x=sZ(r,t);return x(w,t)}),m=r.props[i].indexOf(h[h.length-1]),b=f===m;return v&&b}),u=n.indexOf(l[l.length-1]);return u}var yf;function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}function ws(){return ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ws.apply(this,arguments)}function XP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(r),!0).forEach(function(n){An(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nR(n.key),n)}}function fZ(e,t,r){return t&&YP(e.prototype,t),r&&YP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pZ(e,t,r){return t=lp(t),hZ(e,rR()?Reflect.construct(t,r||[],lp(e).constructor):t.apply(e,r))}function hZ(e,t){if(t&&(Ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vZ(e)}function vZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rR=function(){return!!e})()}function lp(e){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lp(e)}function mZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X0(e,t)}function X0(e,t){return X0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},X0(e,t)}function An(e,t,r){return t=nR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nR(e){var t=gZ(e,"string");return Ks(t)=="symbol"?t:t+""}function gZ(e,t){if(Ks(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var va=(function(e){function t(r){var n;return dZ(this,t),n=pZ(this,t,[r]),An(n,"pieRef",null),An(n,"sectorRefs",[]),An(n,"id",Ri("recharts-pie-")),An(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),We(i)&&i()}),An(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),We(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return mZ(t,e),fZ(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.label,u=o.labelLine,d=o.dataKey,f=o.valueKey,v=Te(this.props,!1),h=Te(l,!1),m=Te(u,!1),b=l&&l.offsetRadius||20,w=n.map(function(x,y){var j=(x.startAngle+x.endAngle)/2,k=At(x.cx,x.cy,x.outerRadius+b,j),S=kt(kt(kt(kt({},v),x),{},{stroke:"none"},h),{},{index:y,textAnchor:t.getTextAnchor(k.x,x.cx)},k),N=kt(kt(kt(kt({},v),x),{},{fill:"none",stroke:x.fill},m),{},{index:y,points:[At(x.cx,x.cy,x.outerRadius,j),k]}),A=d;return Fe(d)&&Fe(f)?A="value":Fe(d)&&(A=f),K.createElement(Ke,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(y)},u&&t.renderLabelLineItem(u,N,"line"),t.renderLabelItem(l,S,Ot(x,A)))});return K.createElement(Ke,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(n){var i=this,o=this.props,l=o.activeShape,u=o.blendStroke,d=o.inactiveShape;return n.map(function(f,v){if(f?.startAngle===0&&f?.endAngle===0&&n.length!==1)return null;var h=i.isActiveIndex(v),m=d&&i.hasActiveIndex()?d:null,b=h?l:m,w=kt(kt({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return K.createElement(Ke,ws({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Ni(i.props,f,v),{key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(v)}),K.createElement(sp,ws({option:b,isActive:h,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,o=i.sectors,l=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,f=i.animationEasing,v=i.animationId,h=this.state,m=h.prevSectors,b=h.prevIsAnimationActive;return K.createElement(_n,{begin:u,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(v,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var x=w.t,y=[],j=o&&o[0],k=j.startAngle;return o.forEach(function(S,N){var A=m&&m[N],O=N>0?pn(S,"paddingAngle",0):0;if(A){var _=Wt(A.endAngle-A.startAngle,S.endAngle-S.startAngle),T=kt(kt({},S),{},{startAngle:k+O,endAngle:k+_(x)+O});y.push(T),k=T.endAngle}else{var E=S.endAngle,D=S.startAngle,I=Wt(0,E-D),L=I(x),M=kt(kt({},S),{},{startAngle:k+O,endAngle:k+L+O});y.push(M),k=M.endAngle}}),K.createElement(Ke,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var l=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,o=n.isAnimationActive,l=this.state.prevSectors;return o&&i&&i.length&&(!l||!Pi(l,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,o=i.hide,l=i.sectors,u=i.className,d=i.label,f=i.cx,v=i.cy,h=i.innerRadius,m=i.outerRadius,b=i.isAnimationActive,w=this.state.isAnimationFinished;if(o||!l||!l.length||!be(f)||!be(v)||!be(h)||!be(m))return null;var x=He("recharts-pie",u);return K.createElement(Ke,{tabIndex:this.props.rootTabIndex,className:x,ref:function(j){n.pieRef=j}},this.renderSectors(),d&&this.renderLabels(l),vr.renderCallByParent(this.props,null,!1),(!b||w)&&Vn.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,o){if(K.isValidElement(n))return K.cloneElement(n,i);if(We(n))return n(i);var l=He("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return K.createElement(Ci,ws({},i,{key:o,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(n,i,o){if(K.isValidElement(n))return K.cloneElement(n,i);var l=o;if(We(n)&&(l=n(i),K.isValidElement(l)))return l;var u=He("recharts-pie-label-text",typeof n!="boolean"&&!We(n)?n.className:"");return K.createElement(wo,ws({},i,{alignmentBaseline:"middle",className:u}),l)}}])})(z.PureComponent);yf=va;An(va,"displayName","Pie");An(va,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!qa.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});An(va,"parseDeltaAngle",function(e,t){var r=Mr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});An(va,"getRealPieData",function(e){var t=e.data,r=e.children,n=Te(e,!1),i=Fr(r,hl);return t&&t.length?t.map(function(o,l){return kt(kt(kt({payload:o},n),o),i&&i[l]&&i[l].props)}):i&&i.length?i.map(function(o){return kt(kt({},n),o.props)}):[]});An(va,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,o=t.height,l=FD(i,o),u=n+Lr(e.cx,i,i/2),d=r+Lr(e.cy,o,o/2),f=Lr(e.innerRadius,l,0),v=Lr(e.outerRadius,l,l*.8),h=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:u,cy:d,innerRadius:f,outerRadius:v,maxRadius:h}});An(va,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?kt(kt({},t.type.defaultProps),t.props):t.props,i=yf.getRealPieData(n);if(!i||!i.length)return null;var o=n.cornerRadius,l=n.startAngle,u=n.endAngle,d=n.paddingAngle,f=n.dataKey,v=n.nameKey,h=n.valueKey,m=n.tooltipType,b=Math.abs(n.minAngle),w=yf.parseCoordinateOfPie(n,r),x=yf.parseDeltaAngle(l,u),y=Math.abs(x),j=f;Fe(f)&&Fe(h)?(Gn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):Fe(f)&&(Gn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=h);var k=i.filter(function(T){return Ot(T,j,0)!==0}).length,S=(y>=360?k:k-1)*d,N=y-k*b-S,A=i.reduce(function(T,E){var D=Ot(E,j,0);return T+(be(D)?D:0)},0),O;if(A>0){var _;O=i.map(function(T,E){var D=Ot(T,j,0),I=Ot(T,v,E),L=(be(D)?D:0)/A,M;E?M=_.endAngle+Mr(x)*d*(D!==0?1:0):M=l;var V=M+Mr(x)*((D!==0?b:0)+L*N),H=(M+V)/2,q=(w.innerRadius+w.outerRadius)/2,X=[{name:I,value:D,payload:T,dataKey:j,type:m}],W=At(w.cx,w.cy,q,H);return _=kt(kt(kt({percent:L,cornerRadius:o,name:I,tooltipPayload:X,midAngle:H,middleRadius:q,tooltipPosition:W},T),w),{},{value:Ot(T,j),startAngle:M,endAngle:V,payload:T,paddingAngle:Mr(x)*d}),_})}return kt(kt({},w),{},{sectors:O,data:i})});var lb,QP;function yZ(){if(QP)return lb;QP=1;var e=Math.ceil,t=Math.max;function r(n,i,o,l){for(var u=-1,d=t(e((i-n)/(o||1)),0),f=Array(d);d--;)f[l?d:++u]=n,n+=o;return f}return lb=r,lb}var cb,JP;function aR(){if(JP)return cb;JP=1;var e=AT(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*r}return i===i?i:0}return cb=n,cb}var ub,e_;function xZ(){if(e_)return ub;e_=1;var e=yZ(),t=Qp(),r=aR();function n(i){return function(o,l,u){return u&&typeof u!="number"&&t(o,l,u)&&(l=u=void 0),o=r(o),l===void 0?(l=o,o=0):l=r(l),u=u===void 0?o<l?1:-1:r(u),e(o,l,u,i)}}return ub=n,ub}var db,t_;function bZ(){if(t_)return db;t_=1;var e=xZ(),t=e();return db=t,db}var SZ=bZ();const cp=pt(SZ);function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function r_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function n_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(r),!0).forEach(function(n){iR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iR(e,t,r){return t=wZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wZ(e){var t=jZ(e,"string");return pu(t)=="symbol"?t:t+""}function jZ(e,t){if(pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kZ=["Webkit","Moz","O","ms"],CZ=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=kZ.reduce(function(o,l){return n_(n_({},o),{},iR({},l+n,r))},{});return i[t]=r,i};function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},up.apply(this,arguments)}function a_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a_(Object(r),!0).forEach(function(n){on(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sR(n.key),n)}}function AZ(e,t,r){return t&&i_(e.prototype,t),r&&i_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function NZ(e,t,r){return t=dp(t),PZ(e,oR()?Reflect.construct(t,r||[],dp(e).constructor):t.apply(e,r))}function PZ(e,t){if(t&&(Gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Z(e)}function _Z(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oR=function(){return!!e})()}function dp(e){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dp(e)}function OZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y0(e,t)}function Y0(e,t){return Y0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Y0(e,t)}function on(e,t,r){return t=sR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sR(e){var t=EZ(e,"string");return Gs(t)=="symbol"?t:t+""}function EZ(e,t){if(Gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var TZ=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,o=t.x,l=t.width,u=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=_c().domain(cp(0,d)).range([o,o+l-u]),v=f.domain().map(function(h){return f(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:v}},o_=function(t){return t.changedTouches&&!!t.changedTouches.length},Vs=(function(e){function t(r){var n;return zZ(this,t),n=NZ(this,t,[r]),on(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),on(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),on(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,l=i.onDragEnd,u=i.startIndex;l?.({endIndex:o,startIndex:u})}),n.detachDragEndListener()}),on(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),on(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),on(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),on(n,"handleSlideDragStart",function(i){var o=o_(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return OZ(t,e),AZ(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,l=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,v=f.length-1,h=Math.min(i,o),m=Math.max(i,o),b=t.getIndexInRange(l,h),w=t.getIndexInRange(l,m);return{startIndex:b-b%d,endIndex:w===v?v:w-w%d}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,l=i.tickFormatter,u=i.dataKey,d=Ot(o[n],u,n);return We(l)?l(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,l=i.startX,u=i.endX,d=this.props,f=d.x,v=d.width,h=d.travellerWidth,m=d.startIndex,b=d.endIndex,w=d.onChange,x=n.pageX-o;x>0?x=Math.min(x,f+v-h-u,f+v-h-l):x<0&&(x=Math.max(x,f-l,f-u));var y=this.getIndex({startX:l+x,endX:u+x});(y.startIndex!==m||y.endIndex!==b)&&w&&w(y),this.setState({startX:l+x,endX:u+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=o_(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,l=i.movingTravellerId,u=i.endX,d=i.startX,f=this.state[l],v=this.props,h=v.x,m=v.width,b=v.travellerWidth,w=v.onChange,x=v.gap,y=v.data,j={startX:this.state.startX,endX:this.state.endX},k=n.pageX-o;k>0?k=Math.min(k,h+m-b-f):k<0&&(k=Math.max(k,h-f)),j[l]=f+k;var S=this.getIndex(j),N=S.startIndex,A=S.endIndex,O=function(){var T=y.length-1;return l==="startX"&&(u>d?N%x===0:A%x===0)||u<d&&A===T||l==="endX"&&(u>d?A%x===0:N%x===0)||u>d&&A===T};this.setState(on(on({},l,f+k),"brushMoveStartX",n.pageX),function(){w&&O()&&w(S)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,l=this.state,u=l.scaleValues,d=l.startX,f=l.endX,v=this.state[i],h=u.indexOf(v);if(h!==-1){var m=h+n;if(!(m===-1||m>=u.length)){var b=u[m];i==="startX"&&b>=f||i==="endX"&&b<=d||this.setState(on({},i,b),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,d=n.fill,f=n.stroke;return K.createElement("rect",{stroke:f,fill:d,x:i,y:o,width:l,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,d=n.data,f=n.children,v=n.padding,h=z.Children.only(f);return h?K.cloneElement(h,{x:i,y:o,width:l,height:u,margin:v,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,l,u=this,d=this.props,f=d.y,v=d.travellerWidth,h=d.height,m=d.traveller,b=d.ariaLabel,w=d.data,x=d.startIndex,y=d.endIndex,j=Math.max(n,this.props.x),k=fb(fb({},Te(this.props,!1)),{},{x:j,y:f,width:v,height:h}),S=b||"Min value: ".concat((o=w[x])===null||o===void 0?void 0:o.name,", Max value: ").concat((l=w[y])===null||l===void 0?void 0:l.name);return K.createElement(Ke,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),u.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,k))}},{key:"renderSlide",value:function(n,i){var o=this.props,l=o.y,u=o.height,d=o.stroke,f=o.travellerWidth,v=Math.min(n,i)+f,h=Math.max(Math.abs(i-n)-f,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:v,y:l,width:h,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,l=n.y,u=n.height,d=n.travellerWidth,f=n.stroke,v=this.state,h=v.startX,m=v.endX,b=5,w={pointerEvents:"none",fill:f};return K.createElement(Ke,{className:"recharts-brush-texts"},K.createElement(wo,up({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,m)-b,y:l+u/2},w),this.getTextOfTick(i)),K.createElement(wo,up({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,m)+d+b,y:l+u/2},w),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,l=n.children,u=n.x,d=n.y,f=n.width,v=n.height,h=n.alwaysShowText,m=this.state,b=m.startX,w=m.endX,x=m.isTextActive,y=m.isSlideMoving,j=m.isTravellerMoving,k=m.isTravellerFocused;if(!i||!i.length||!be(u)||!be(d)||!be(f)||!be(v)||f<=0||v<=0)return null;var S=He("recharts-brush",o),N=K.Children.count(l)===1,A=CZ("userSelect","none");return K.createElement(Ke,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(b,w),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(w,"endX"),(x||y||j||k||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,l=n.width,u=n.height,d=n.stroke,f=Math.floor(o+u/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:i,y:o,width:l,height:u,fill:d,stroke:"none"}),K.createElement("line",{x1:i+1,y1:f,x2:i+l-1,y2:f,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:i+1,y1:f+2,x2:i+l-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return K.isValidElement(n)?o=K.cloneElement(n,i):We(n)?o=n(i):o=t.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,l=n.width,u=n.x,d=n.travellerWidth,f=n.updateId,v=n.startIndex,h=n.endIndex;if(o!==i.prevData||f!==i.prevUpdateId)return fb({prevData:o,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l},o&&o.length?TZ({data:o,width:l,x:u,travellerWidth:d,startIndex:v,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||u!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([u,u+l-d]);var m=i.scale.domain().map(function(b){return i.scale(b)});return{prevData:o,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,l=0,u=o-1;u-l>1;){var d=Math.floor((l+u)/2);n[d]>i?u=d:l=d}return i>=n[u]?u:l}}])})(z.PureComponent);on(Vs,"displayName","Brush");on(Vs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var pb,s_;function DZ(){if(s_)return pb;s_=1;var e=l1();function t(r,n){var i;return e(r,function(o,l,u){return i=n(o,l,u),!i}),!!i}return pb=t,pb}var hb,l_;function RZ(){if(l_)return hb;l_=1;var e=aT(),t=ha(),r=DZ(),n=Xr(),i=Qp();function o(l,u,d){var f=n(l)?e:r;return d&&i(l,u,d)&&(u=void 0),f(l,t(u,3))}return hb=o,hb}var IZ=RZ();const MZ=pt(IZ);var ca=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},vb,c_;function LZ(){if(c_)return vb;c_=1;var e=wT();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return vb=t,vb}var mb,u_;function BZ(){if(u_)return mb;u_=1;var e=LZ(),t=bT(),r=ha();function n(i,o){var l={};return o=r(o,3),t(i,function(u,d,f){e(l,d,o(u,d,f))}),l}return mb=n,mb}var FZ=BZ();const WZ=pt(FZ);var gb,d_;function $Z(){if(d_)return gb;d_=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!r(t[n],n,t))return!1;return!0}return gb=e,gb}var yb,f_;function UZ(){if(f_)return yb;f_=1;var e=l1();function t(r,n){var i=!0;return e(r,function(o,l,u){return i=!!n(o,l,u),i}),i}return yb=t,yb}var xb,p_;function HZ(){if(p_)return xb;p_=1;var e=$Z(),t=UZ(),r=ha(),n=Xr(),i=Qp();function o(l,u,d){var f=n(l)?e:t;return d&&i(l,u,d)&&(u=void 0),f(l,r(u,3))}return xb=o,xb}var KZ=HZ();const lR=pt(KZ);var GZ=["x","y"];function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q0.apply(this,arguments)}function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(r),!0).forEach(function(n){VZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VZ(e,t,r){return t=qZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qZ(e){var t=ZZ(e,"string");return hu(t)=="symbol"?t:t+""}function ZZ(e,t){if(hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XZ(e,t){if(e==null)return{};var r=YZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QZ(e,t){var r=e.x,n=e.y,i=XZ(e,GZ),o="".concat(r),l=parseInt(o,10),u="".concat(n),d=parseInt(u,10),f="".concat(t.height||i.height),v=parseInt(f,10),h="".concat(t.width||i.width),m=parseInt(h,10);return gc(gc(gc(gc(gc({},t),i),l?{x:l}:{}),d?{y:d}:{}),{},{height:v,width:m,name:t.name,radius:t.radius})}function v_(e){return K.createElement(sp,Q0({shapeType:"rectangle",propTransformer:QZ,activeClassName:"recharts-active-bar"},e))}var JZ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var o=be(n)||yF(n);return o?t(n,i):(o||ko(),r)}},eX=["value","background"],cR;function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}function tX(e,t){if(e==null)return{};var r=rX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fp(){return fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fp.apply(this,arguments)}function m_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m_(Object(r),!0).forEach(function(n){Si(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dR(n.key),n)}}function aX(e,t,r){return t&&g_(e.prototype,t),r&&g_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iX(e,t,r){return t=pp(t),oX(e,uR()?Reflect.construct(t,r||[],pp(e).constructor):t.apply(e,r))}function oX(e,t){if(t&&(qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sX(e)}function sX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uR=function(){return!!e})()}function pp(e){return pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pp(e)}function lX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J0(e,t)}function J0(e,t){return J0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},J0(e,t)}function Si(e,t,r){return t=dR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dR(e){var t=cX(e,"string");return qs(t)=="symbol"?t:t+""}function cX(e,t){if(qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Re=(function(e){function t(){var r;nX(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=iX(this,t,[].concat(i)),Si(r,"state",{isAnimationFinished:!1}),Si(r,"id",Ri("recharts-bar-")),Si(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),Si(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return lX(t,e),aX(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,l=o.shape,u=o.dataKey,d=o.activeIndex,f=o.activeBar,v=Te(this.props,!1);return n&&n.map(function(h,m){var b=m===d,w=b?f:l,x=tr(tr(tr({},v),h),{},{isActive:b,option:w,index:m,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return K.createElement(Ke,fp({className:"recharts-bar-rectangle"},Ni(i.props,h,m),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(m)}),K.createElement(v_,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,l=i.layout,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,v=i.animationEasing,h=i.animationId,m=this.state.prevData;return K.createElement(_n,{begin:d,duration:f,isActive:u,easing:v,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var w=b.t,x=o.map(function(y,j){var k=m&&m[j];if(k){var S=Wt(k.x,y.x),N=Wt(k.y,y.y),A=Wt(k.width,y.width),O=Wt(k.height,y.height);return tr(tr({},y),{},{x:S(w),y:N(w),width:A(w),height:O(w)})}if(l==="horizontal"){var _=Wt(0,y.height),T=_(w);return tr(tr({},y),{},{y:y.y+y.height-T,height:T})}var E=Wt(0,y.width),D=E(w);return tr(tr({},y),{},{width:D})});return K.createElement(Ke,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,l=this.state.prevData;return o&&i&&i.length&&(!l||!Pi(l,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,l=i.dataKey,u=i.activeIndex,d=Te(this.props.background,!1);return o.map(function(f,v){f.value;var h=f.background,m=tX(f,eX);if(!h)return null;var b=tr(tr(tr(tr(tr({},m),{},{fill:"#eee"},h),d),Ni(n.props,f,v)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:l,index:v,className:"recharts-bar-background-rectangle"});return K.createElement(v_,fp({key:"background-bar-".concat(v),option:n.props.background,isActive:v===u},b))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.data,u=o.xAxis,d=o.yAxis,f=o.layout,v=o.children,h=Fr(v,yl);if(!h)return null;var m=f==="vertical"?l[0].height/2:l[0].width/2,b=function(y,j){var k=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:k,errorVal:Ot(y,j)}},w={clipPath:n?"url(#clipPath-".concat(i,")"):null};return K.createElement(Ke,w,h.map(function(x){return K.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,offset:m,dataPointFormatter:b})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,l=n.className,u=n.xAxis,d=n.yAxis,f=n.left,v=n.top,h=n.width,m=n.height,b=n.isAnimationActive,w=n.background,x=n.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,j=He("recharts-bar",l),k=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,N=k||S,A=Fe(x)?this.id:x;return K.createElement(Ke,{className:j},k||S?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(A)},K.createElement("rect",{x:k?f:f-h/2,y:S?v:v-m/2,width:k?h:h*2,height:S?m:m*2}))):null,K.createElement(Ke,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(A,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,A),(!b||y)&&Vn.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(z.PureComponent);cR=Re;Si(Re,"displayName","Bar");Si(Re,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!qa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Si(Re,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,o=e.xAxis,l=e.yAxis,u=e.xAxisTicks,d=e.yAxisTicks,f=e.stackedData,v=e.dataStartIndex,h=e.displayedData,m=e.offset,b=TG(n,r);if(!b)return null;var w=t.layout,x=r.type.defaultProps,y=x!==void 0?tr(tr({},x),r.props):r.props,j=y.dataKey,k=y.children,S=y.minPointSize,N=w==="horizontal"?l:o,A=f?N.scale.domain():null,O=FG({numericAxis:N}),_=Fr(k,hl),T=h.map(function(E,D){var I,L,M,V,H,q;f?I=DG(f[v+D],A):(I=Ot(E,j),Array.isArray(I)||(I=[O,I]));var X=JZ(S,cR.defaultProps.minPointSize)(I[1],D);if(w==="horizontal"){var W,F=[l.scale(I[0]),l.scale(I[1])],Y=F[0],$=F[1];L=KN({axis:o,ticks:u,bandSize:i,offset:b.offset,entry:E,index:D}),M=(W=$??Y)!==null&&W!==void 0?W:void 0,V=b.size;var B=Y-$;if(H=Number.isNaN(B)?0:B,q={x:L,y:l.y,width:V,height:l.height},Math.abs(X)>0&&Math.abs(H)<Math.abs(X)){var re=Mr(H||X)*(Math.abs(X)-Math.abs(H));M-=re,H+=re}}else{var le=[o.scale(I[0]),o.scale(I[1])],pe=le[0],se=le[1];if(L=pe,M=KN({axis:l,ticks:d,bandSize:i,offset:b.offset,entry:E,index:D}),V=se-pe,H=b.size,q={x:o.x,y:M,width:o.width,height:H},Math.abs(X)>0&&Math.abs(V)<Math.abs(X)){var ne=Mr(V||X)*(Math.abs(X)-Math.abs(V));V+=ne}}return tr(tr(tr({},E),{},{x:L,y:M,width:V,height:H,value:f?I:I[1],payload:E,background:q},_&&_[D]&&_[D].props),{},{tooltipPayload:[LD(r,E)],tooltipPosition:{x:L+V/2,y:M+H/2}})});return tr({data:T,layout:w},m)});function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function uX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fR(n.key),n)}}function dX(e,t,r){return t&&y_(e.prototype,t),r&&y_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function x_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(r),!0).forEach(function(n){vh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vh(e,t,r){return t=fR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fR(e){var t=fX(e,"string");return vu(t)=="symbol"?t:t+""}function fX(e,t){if(vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mh=function(t,r,n,i,o){var l=t.width,u=t.height,d=t.layout,f=t.children,v=Object.keys(r),h={left:n.left,leftMirror:n.left,right:l-n.right,rightMirror:l-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},m=!!sn(f,Re);return v.reduce(function(b,w){var x=r[w],y=x.orientation,j=x.domain,k=x.padding,S=k===void 0?{}:k,N=x.mirror,A=x.reversed,O="".concat(y).concat(N?"Mirror":""),_,T,E,D,I;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var L=j[1]-j[0],M=1/0,V=x.categoricalDomain.sort(wF);if(V.forEach(function(le,pe){pe>0&&(M=Math.min((le||0)-(V[pe-1]||0),M))}),Number.isFinite(M)){var H=M/L,q=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(_=H*q/2),x.padding==="no-gap"){var X=Lr(t.barCategoryGap,H*q),W=H*q/2;_=W-X-(W-X)/q*X}}}i==="xAxis"?T=[n.left+(S.left||0)+(_||0),n.left+n.width-(S.right||0)-(_||0)]:i==="yAxis"?T=d==="horizontal"?[n.top+n.height-(S.bottom||0),n.top+(S.top||0)]:[n.top+(S.top||0)+(_||0),n.top+n.height-(S.bottom||0)-(_||0)]:T=x.range,A&&(T=[T[1],T[0]]);var F=DD(x,o,m),Y=F.scale,$=F.realScaleType;Y.domain(j).range(T),RD(Y);var B=ID(Y,$n($n({},x),{},{realScaleType:$}));i==="xAxis"?(I=y==="top"&&!N||y==="bottom"&&N,E=n.left,D=h[O]-I*x.height):i==="yAxis"&&(I=y==="left"&&!N||y==="right"&&N,E=h[O]-I*x.width,D=n.top);var re=$n($n($n({},x),B),{},{realScaleType:$,x:E,y:D,scale:Y,width:i==="xAxis"?n.width:x.width,height:i==="yAxis"?n.height:x.height});return re.bandSize=Zf(re,B),!x.hide&&i==="xAxis"?h[O]+=(I?-1:1)*re.height:x.hide||(h[O]+=(I?-1:1)*re.width),$n($n({},b),{},vh({},w,re))},{})},pR=function(t,r){var n=t.x,i=t.y,o=r.x,l=r.y;return{x:Math.min(n,o),y:Math.min(i,l),width:Math.abs(o-n),height:Math.abs(l-i)}},pX=function(t){var r=t.x1,n=t.y1,i=t.x2,o=t.y2;return pR({x:r,y:n},{x:i,y:o})},hR=(function(){function e(t){uX(this,e),this.scale=t}return dX(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])})();vh(hR,"EPS",1e-4);var M1=function(t){var r=Object.keys(t).reduce(function(n,i){return $n($n({},n),{},vh({},i,hR.create(t[i])))},{});return $n($n({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.bandAware,u=o.position;return WZ(i,function(d,f){return r[f].apply(d,{bandAware:l,position:u})})},isInRange:function(i){return lR(i,function(o,l){return r[l].isInRange(o)})}})};function hX(e){return(e%180+180)%180}var vX=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=hX(i),l=o*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},bb,b_;function mX(){if(b_)return bb;b_=1;var e=ha(),t=ju(),r=Xp();function n(i){return function(o,l,u){var d=Object(o);if(!t(o)){var f=e(l,3);o=r(o),l=function(h){return f(d[h],h,d)}}var v=i(o,l,u);return v>-1?d[f?o[v]:v]:void 0}}return bb=n,bb}var Sb,S_;function gX(){if(S_)return Sb;S_=1;var e=aR();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return Sb=t,Sb}var wb,w_;function yX(){if(w_)return wb;w_=1;var e=vT(),t=ha(),r=gX(),n=Math.max;function i(o,l,u){var d=o==null?0:o.length;if(!d)return-1;var f=u==null?0:r(u);return f<0&&(f=n(d+f,0)),e(o,t(l,3),f)}return wb=i,wb}var jb,j_;function xX(){if(j_)return jb;j_=1;var e=mX(),t=yX(),r=e(t);return jb=r,jb}var bX=xX();const SX=pt(bX);var wX=_E();const jX=pt(wX);var kX=jX(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),L1=z.createContext(void 0),B1=z.createContext(void 0),vR=z.createContext(void 0),mR=z.createContext({}),gR=z.createContext(void 0),yR=z.createContext(0),xR=z.createContext(0),k_=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,l=t.clipPathId,u=t.children,d=t.width,f=t.height,v=kX(o);return K.createElement(L1.Provider,{value:n},K.createElement(B1.Provider,{value:i},K.createElement(mR.Provider,{value:o},K.createElement(vR.Provider,{value:v},K.createElement(gR.Provider,{value:l},K.createElement(yR.Provider,{value:f},K.createElement(xR.Provider,{value:d},u)))))))},CX=function(){return z.useContext(gR)},bR=function(t){var r=z.useContext(L1);r==null&&ko();var n=r[t];return n==null&&ko(),n},zX=function(){var t=z.useContext(L1);return xi(t)},AX=function(){var t=z.useContext(B1),r=SX(t,function(n){return lR(n.domain,Number.isFinite)});return r||xi(t)},SR=function(t){var r=z.useContext(B1);r==null&&ko();var n=r[t];return n==null&&ko(),n},NX=function(){var t=z.useContext(vR);return t},PX=function(){return z.useContext(mR)},F1=function(){return z.useContext(xR)},W1=function(){return z.useContext(yR)};function Zs(e){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(e)}function _X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jR(n.key),n)}}function EX(e,t,r){return t&&OX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TX(e,t,r){return t=hp(t),DX(e,wR()?Reflect.construct(t,r||[],hp(e).constructor):t.apply(e,r))}function DX(e,t){if(t&&(Zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RX(e)}function RX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wR=function(){return!!e})()}function hp(e){return hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hp(e)}function IX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eS(e,t)}function eS(e,t){return eS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eS(e,t)}function C_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function z_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(r),!0).forEach(function(n){$1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $1(e,t,r){return t=jR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jR(e){var t=MX(e,"string");return Zs(t)=="symbol"?t:t+""}function MX(e,t){if(Zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function LX(e,t){return $X(e)||WX(e,t)||FX(e,t)||BX()}function BX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FX(e,t){if(e){if(typeof e=="string")return A_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A_(e,t)}}function A_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function $X(e){if(Array.isArray(e))return e}function tS(){return tS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tS.apply(this,arguments)}var UX=function(t,r){var n;return K.isValidElement(t)?n=K.cloneElement(t,r):We(t)?n=t(r):n=K.createElement("line",tS({},r,{className:"recharts-reference-line-line"})),n},HX=function(t,r,n,i,o,l,u,d,f){var v=o.x,h=o.y,m=o.width,b=o.height;if(n){var w=f.y,x=t.y.apply(w,{position:l});if(ca(f,"discard")&&!t.y.isInRange(x))return null;var y=[{x:v+m,y:x},{x:v,y:x}];return d==="left"?y.reverse():y}if(r){var j=f.x,k=t.x.apply(j,{position:l});if(ca(f,"discard")&&!t.x.isInRange(k))return null;var S=[{x:k,y:h+b},{x:k,y:h}];return u==="top"?S.reverse():S}if(i){var N=f.segment,A=N.map(function(O){return t.apply(O,{position:l})});return ca(f,"discard")&&MZ(A,function(O){return!t.isInRange(O)})?null:A}return null};function KX(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,o=e.yAxisId,l=e.shape,u=e.className,d=e.alwaysShow,f=CX(),v=bR(i),h=SR(o),m=NX();if(!f||!m)return null;Gn(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=M1({x:v.scale,y:h.scale}),w=cr(t),x=cr(r),y=n&&n.length===2,j=HX(b,w,x,y,m,e.position,v.orientation,h.orientation,e);if(!j)return null;var k=LX(j,2),S=k[0],N=S.x,A=S.y,O=k[1],_=O.x,T=O.y,E=ca(e,"hidden")?"url(#".concat(f,")"):void 0,D=z_(z_({clipPath:E},Te(e,!0)),{},{x1:N,y1:A,x2:_,y2:T});return K.createElement(Ke,{className:He("recharts-reference-line",u)},UX(l,D),vr.renderCallByParent(e,pX({x1:N,y1:A,x2:_,y2:T})))}var gh=(function(e){function t(){return _X(this,t),TX(this,t,arguments)}return IX(t,e),EX(t,[{key:"render",value:function(){return K.createElement(KX,this.props)}}])})(K.Component);$1(gh,"displayName","ReferenceLine");$1(gh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function rS(){return rS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rS.apply(this,arguments)}function Xs(e){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xs(e)}function N_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function P_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(r),!0).forEach(function(n){yh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CR(n.key),n)}}function qX(e,t,r){return t&&VX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZX(e,t,r){return t=vp(t),XX(e,kR()?Reflect.construct(t,r||[],vp(e).constructor):t.apply(e,r))}function XX(e,t){if(t&&(Xs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YX(e)}function YX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kR=function(){return!!e})()}function vp(e){return vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vp(e)}function QX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nS(e,t)}function nS(e,t){return nS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nS(e,t)}function yh(e,t,r){return t=CR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CR(e){var t=JX(e,"string");return Xs(t)=="symbol"?t:t+""}function JX(e,t){if(Xs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eY=function(t){var r=t.x,n=t.y,i=t.xAxis,o=t.yAxis,l=M1({x:i.scale,y:o.scale}),u=l.apply({x:r,y:n},{bandAware:!0});return ca(t,"discard")&&!l.isInRange(u)?null:u},xh=(function(e){function t(){return GX(this,t),ZX(this,t,arguments)}return QX(t,e),qX(t,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,l=n.r,u=n.alwaysShow,d=n.clipPathId,f=cr(i),v=cr(o);if(Gn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!v)return null;var h=eY(this.props);if(!h)return null;var m=h.x,b=h.y,w=this.props,x=w.shape,y=w.className,j=ca(this.props,"hidden")?"url(#".concat(d,")"):void 0,k=P_(P_({clipPath:j},Te(this.props,!0)),{},{cx:m,cy:b});return K.createElement(Ke,{className:He("recharts-reference-dot",y)},t.renderDot(x,k),vr.renderCallByParent(this.props,{x:m-l,y:b-l,width:2*l,height:2*l}))}}])})(K.Component);yh(xh,"displayName","ReferenceDot");yh(xh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});yh(xh,"renderDot",function(e,t){var r;return K.isValidElement(e)?r=K.cloneElement(e,t):We(e)?r=e(t):r=K.createElement(Pu,rS({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function aS(){return aS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aS.apply(this,arguments)}function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function __(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function O_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?__(Object(r),!0).forEach(function(n){bh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):__(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AR(n.key),n)}}function nY(e,t,r){return t&&rY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aY(e,t,r){return t=mp(t),iY(e,zR()?Reflect.construct(t,r||[],mp(e).constructor):t.apply(e,r))}function iY(e,t){if(t&&(Ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oY(e)}function oY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zR=function(){return!!e})()}function mp(e){return mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mp(e)}function sY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iS(e,t)}function iS(e,t){return iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iS(e,t)}function bh(e,t,r){return t=AR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AR(e){var t=lY(e,"string");return Ys(t)=="symbol"?t:t+""}function lY(e,t){if(Ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cY=function(t,r,n,i,o){var l=o.x1,u=o.x2,d=o.y1,f=o.y2,v=o.xAxis,h=o.yAxis;if(!v||!h)return null;var m=M1({x:v.scale,y:h.scale}),b={x:t?m.x.apply(l,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(d,{position:"start"}):m.y.rangeMin},w={x:r?m.x.apply(u,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(f,{position:"end"}):m.y.rangeMax};return ca(o,"discard")&&(!m.isInRange(b)||!m.isInRange(w))?null:pR(b,w)},Sh=(function(e){function t(){return tY(this,t),aY(this,t,arguments)}return sY(t,e),nY(t,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,l=n.y1,u=n.y2,d=n.className,f=n.alwaysShow,v=n.clipPathId;Gn(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=cr(i),m=cr(o),b=cr(l),w=cr(u),x=this.props.shape;if(!h&&!m&&!b&&!w&&!x)return null;var y=cY(h,m,b,w,this.props);if(!y&&!x)return null;var j=ca(this.props,"hidden")?"url(#".concat(v,")"):void 0;return K.createElement(Ke,{className:He("recharts-reference-area",d)},t.renderRect(x,O_(O_({clipPath:j},Te(this.props,!0)),y)),vr.renderCallByParent(this.props,y))}}])})(K.Component);bh(Sh,"displayName","ReferenceArea");bh(Sh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});bh(Sh,"renderRect",function(e,t){var r;return K.isValidElement(e)?r=K.cloneElement(e,t):We(e)?r=e(t):r=K.createElement(I1,aS({},t,{className:"recharts-reference-area-rect"})),r});function NR(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function uY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return vX(n,r)}function dY(e,t,r){var n=r==="width",i=e.x,o=e.y,l=e.width,u=e.height;return t===1?{start:n?i:o,end:n?i+l:o+u}:{start:n?i+l:o+u,end:n?i:o}}function gp(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-i)<=0}function fY(e,t){return NR(e,t+1)}function pY(e,t,r,n,i){for(var o=(n||[]).slice(),l=t.start,u=t.end,d=0,f=1,v=l,h=function(){var w=n?.[d];if(w===void 0)return{v:NR(n,f)};var x=d,y,j=function(){return y===void 0&&(y=r(w,x)),y},k=w.coordinate,S=d===0||gp(e,k,j,v,u);S||(d=0,v=l,f+=1),S&&(v=k+e*(j()/2+i),d+=f)},m;f<=o.length;)if(m=h(),m)return m.v;return[]}function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function E_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E_(Object(r),!0).forEach(function(n){hY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hY(e,t,r){return t=vY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vY(e){var t=mY(e,"string");return mu(t)=="symbol"?t:t+""}function mY(e,t){if(mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gY(e,t,r,n,i){for(var o=(n||[]).slice(),l=o.length,u=t.start,d=t.end,f=function(m){var b=o[m],w,x=function(){return w===void 0&&(w=r(b,m)),w};if(m===l-1){var y=e*(b.coordinate+e*x()/2-d);o[m]=b=zr(zr({},b),{},{tickCoord:y>0?b.coordinate-y*e:b.coordinate})}else o[m]=b=zr(zr({},b),{},{tickCoord:b.coordinate});var j=gp(e,b.tickCoord,x,u,d);j&&(d=b.tickCoord-e*(x()/2+i),o[m]=zr(zr({},b),{},{isShow:!0}))},v=l-1;v>=0;v--)f(v);return o}function yY(e,t,r,n,i,o){var l=(n||[]).slice(),u=l.length,d=t.start,f=t.end;if(o){var v=n[u-1],h=r(v,u-1),m=e*(v.coordinate+e*h/2-f);l[u-1]=v=zr(zr({},v),{},{tickCoord:m>0?v.coordinate-m*e:v.coordinate});var b=gp(e,v.tickCoord,function(){return h},d,f);b&&(f=v.tickCoord-e*(h/2+i),l[u-1]=zr(zr({},v),{},{isShow:!0}))}for(var w=o?u-1:u,x=function(k){var S=l[k],N,A=function(){return N===void 0&&(N=r(S,k)),N};if(k===0){var O=e*(S.coordinate-e*A()/2-d);l[k]=S=zr(zr({},S),{},{tickCoord:O<0?S.coordinate-O*e:S.coordinate})}else l[k]=S=zr(zr({},S),{},{tickCoord:S.coordinate});var _=gp(e,S.tickCoord,A,d,f);_&&(d=S.tickCoord+e*(A()/2+i),l[k]=zr(zr({},S),{},{isShow:!0}))},y=0;y<w;y++)x(y);return l}function U1(e,t,r){var n=e.tick,i=e.ticks,o=e.viewBox,l=e.minTickGap,u=e.orientation,d=e.interval,f=e.tickFormatter,v=e.unit,h=e.angle;if(!i||!i.length||!n)return[];if(be(d)||qa.isSsr)return fY(i,typeof d=="number"&&be(d)?d:0);var m=[],b=u==="top"||u==="bottom"?"width":"height",w=v&&b==="width"?Pc(v,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(S,N){var A=We(f)?f(S.value,N):S.value;return b==="width"?uY(Pc(A,{fontSize:t,letterSpacing:r}),w,h):Pc(A,{fontSize:t,letterSpacing:r})[b]},y=i.length>=2?Mr(i[1].coordinate-i[0].coordinate):1,j=dY(o,y,b);return d==="equidistantPreserveStart"?pY(y,j,x,i,l):(d==="preserveStart"||d==="preserveStartEnd"?m=yY(y,j,x,i,l,d==="preserveStartEnd"):m=gY(y,j,x,i,l),m.filter(function(k){return k.isShow}))}var xY=["viewBox"],bY=["viewBox"],SY=["ticks"];function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}function js(){return js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},js.apply(this,arguments)}function T_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T_(Object(r),!0).forEach(function(n){H1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kb(e,t){if(e==null)return{};var r=wY(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_R(n.key),n)}}function kY(e,t,r){return t&&D_(e.prototype,t),r&&D_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function CY(e,t,r){return t=yp(t),zY(e,PR()?Reflect.construct(t,r||[],yp(e).constructor):t.apply(e,r))}function zY(e,t){if(t&&(Qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AY(e)}function AY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PR=function(){return!!e})()}function yp(e){return yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yp(e)}function NY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oS(e,t)}function oS(e,t){return oS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oS(e,t)}function H1(e,t,r){return t=_R(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _R(e){var t=PY(e,"string");return Qs(t)=="symbol"?t:t+""}function PY(e,t){if(Qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xl=(function(e){function t(r){var n;return jY(this,t),n=CY(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return NY(t,e),kY(t,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,l=kb(n,xY),u=this.props,d=u.viewBox,f=kb(u,bY);return!zs(o,d)||!zs(l,f)||!zs(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,l=i.y,u=i.width,d=i.height,f=i.orientation,v=i.tickSize,h=i.mirror,m=i.tickMargin,b,w,x,y,j,k,S=h?-1:1,N=n.tickSize||v,A=be(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":b=w=n.coordinate,y=l+ +!h*d,x=y-S*N,k=x-S*m,j=A;break;case"left":x=y=n.coordinate,w=o+ +!h*u,b=w-S*N,j=b-S*m,k=A;break;case"right":x=y=n.coordinate,w=o+ +h*u,b=w+S*N,j=b+S*m,k=A;break;default:b=w=n.coordinate,y=l+ +h*d,x=y+S*N,k=x+S*m,j=A;break}return{line:{x1:b,y1:x,x2:w,y2:y},tick:{x:j,y:k}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,l;switch(i){case"left":l=o?"start":"end";break;case"right":l=o?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,l="end";switch(i){case"left":case"right":l="middle";break;case"top":l=o?"start":"end";break;default:l=o?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,d=n.orientation,f=n.mirror,v=n.axisLine,h=or(or(or({},Te(this.props,!1)),Te(v,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var m=+(d==="top"&&!f||d==="bottom"&&f);h=or(or({},h),{},{x1:i,y1:o+m*u,x2:i+l,y2:o+m*u})}else{var b=+(d==="left"&&!f||d==="right"&&f);h=or(or({},h),{},{x1:i+b*l,y1:o,x2:i+b*l,y2:o+u})}return K.createElement("line",js({},h,{className:He("recharts-cartesian-axis-line",pn(v,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var l=this,u=this.props,d=u.tickLine,f=u.stroke,v=u.tick,h=u.tickFormatter,m=u.unit,b=U1(or(or({},this.props),{},{ticks:n}),i,o),w=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),y=Te(this.props,!1),j=Te(v,!1),k=or(or({},y),{},{fill:"none"},Te(d,!1)),S=b.map(function(N,A){var O=l.getTickLineCoord(N),_=O.line,T=O.tick,E=or(or(or(or({textAnchor:w,verticalAnchor:x},y),{},{stroke:"none",fill:f},j),T),{},{index:A,payload:N,visibleTicksCount:b.length,tickFormatter:h});return K.createElement(Ke,js({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Ni(l.props,N,A)),d&&K.createElement("line",js({},k,_,{className:He("recharts-cartesian-axis-tick-line",pn(d,"className"))})),v&&t.renderTickItem(v,E,"".concat(We(h)?h(N.value,A):N.value).concat(m||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,l=i.width,u=i.height,d=i.ticksGenerator,f=i.className,v=i.hide;if(v)return null;var h=this.props,m=h.ticks,b=kb(h,SY),w=m;return We(d)&&(w=m&&m.length>0?d(this.props):d(b)),l<=0||u<=0||!w||!w.length?null:K.createElement(Ke,{className:He("recharts-cartesian-axis",f),ref:function(y){n.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),vr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var l,u=He(i.className,"recharts-cartesian-axis-tick-value");return K.isValidElement(n)?l=K.cloneElement(n,or(or({},i),{},{className:u})):We(n)?l=n(or(or({},i),{},{className:u})):l=K.createElement(wo,js({},i,{className:"recharts-cartesian-axis-tick-value"}),o),l}}])})(z.Component);H1(xl,"displayName","CartesianAxis");H1(xl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _Y=["x1","y1","x2","y2","key"],OY=["offset"];function Co(e){"@babel/helpers - typeof";return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Co(e)}function R_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R_(Object(r),!0).forEach(function(n){EY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EY(e,t,r){return t=TY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TY(e){var t=DY(e,"string");return Co(t)=="symbol"?t:t+""}function DY(e,t){if(Co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vo(){return vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vo.apply(this,arguments)}function I_(e,t){if(e==null)return{};var r=RY(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var IY=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,o=t.y,l=t.width,u=t.height,d=t.ry;return K.createElement("rect",{x:i,y:o,ry:d,width:l,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function OR(e,t){var r;if(K.isValidElement(e))r=K.cloneElement(e,t);else if(We(e))r=e(t);else{var n=t.x1,i=t.y1,o=t.x2,l=t.y2,u=t.key,d=I_(t,_Y),f=Te(d,!1);f.offset;var v=I_(f,OY);r=K.createElement("line",vo({},v,{x1:n,y1:i,x2:o,y2:l,fill:"none",key:u}))}return r}function MY(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var l=o.map(function(u,d){var f=Ar(Ar({},e),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return OR(i,f)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function LY(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,o=e.verticalPoints;if(!i||!o||!o.length)return null;var l=o.map(function(u,d){var f=Ar(Ar({},e),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return OR(i,f)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function BY(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,o=e.width,l=e.height,u=e.horizontalPoints,d=e.horizontal,f=d===void 0?!0:d;if(!f||!t||!t.length)return null;var v=u.map(function(m){return Math.round(m+i-i)}).sort(function(m,b){return m-b});i!==v[0]&&v.unshift(0);var h=v.map(function(m,b){var w=!v[b+1],x=w?i+l-m:v[b+1]-m;if(x<=0)return null;var y=b%t.length;return K.createElement("rect",{key:"react-".concat(b),y:m,x:n,height:x,width:o,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function FY(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,o=e.x,l=e.y,u=e.width,d=e.height,f=e.verticalPoints;if(!r||!n||!n.length)return null;var v=f.map(function(m){return Math.round(m+o-o)}).sort(function(m,b){return m-b});o!==v[0]&&v.unshift(0);var h=v.map(function(m,b){var w=!v[b+1],x=w?o+u-m:v[b+1]-m;if(x<=0)return null;var y=b%n.length;return K.createElement("rect",{key:"react-".concat(b),x:m,y:l,width:x,height:d,stroke:"none",fill:n[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var WY=function(t,r){var n=t.xAxis,i=t.width,o=t.height,l=t.offset;return TD(U1(Ar(Ar(Ar({},xl.defaultProps),n),{},{ticks:Ia(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),l.left,l.left+l.width,r)},$Y=function(t,r){var n=t.yAxis,i=t.width,o=t.height,l=t.offset;return TD(U1(Ar(Ar(Ar({},xl.defaultProps),n),{},{ticks:Ia(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),l.top,l.top+l.height,r)},ls={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Kn(e){var t,r,n,i,o,l,u=F1(),d=W1(),f=PX(),v=Ar(Ar({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ls.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ls.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ls.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:ls.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:ls.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:ls.verticalFill,x:be(e.x)?e.x:f.left,y:be(e.y)?e.y:f.top,width:be(e.width)?e.width:f.width,height:be(e.height)?e.height:f.height}),h=v.x,m=v.y,b=v.width,w=v.height,x=v.syncWithTicks,y=v.horizontalValues,j=v.verticalValues,k=zX(),S=AX();if(!be(b)||b<=0||!be(w)||w<=0||!be(h)||h!==+h||!be(m)||m!==+m)return null;var N=v.verticalCoordinatesGenerator||WY,A=v.horizontalCoordinatesGenerator||$Y,O=v.horizontalPoints,_=v.verticalPoints;if((!O||!O.length)&&We(A)){var T=y&&y.length,E=A({yAxis:S?Ar(Ar({},S),{},{ticks:T?y:S.ticks}):void 0,width:u,height:d,offset:f},T?!0:x);Gn(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Co(E),"]")),Array.isArray(E)&&(O=E)}if((!_||!_.length)&&We(N)){var D=j&&j.length,I=N({xAxis:k?Ar(Ar({},k),{},{ticks:D?j:k.ticks}):void 0,width:u,height:d,offset:f},D?!0:x);Gn(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Co(I),"]")),Array.isArray(I)&&(_=I)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(IY,{fill:v.fill,fillOpacity:v.fillOpacity,x:v.x,y:v.y,width:v.width,height:v.height,ry:v.ry}),K.createElement(MY,vo({},v,{offset:f,horizontalPoints:O,xAxis:k,yAxis:S})),K.createElement(LY,vo({},v,{offset:f,verticalPoints:_,xAxis:k,yAxis:S})),K.createElement(BY,vo({},v,{horizontalPoints:O})),K.createElement(FY,vo({},v,{verticalPoints:_})))}Kn.displayName="CartesianGrid";var UY=["type","layout","connectNulls","ref"],HY=["key"];function Js(e){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(e)}function M_(e,t){if(e==null)return{};var r=KY(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rc.apply(this,arguments)}function L_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function an(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L_(Object(r),!0).forEach(function(n){Un(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cs(e){return ZY(e)||qY(e)||VY(e)||GY()}function GY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VY(e,t){if(e){if(typeof e=="string")return sS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sS(e,t)}}function qY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZY(e){if(Array.isArray(e))return sS(e)}function sS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TR(n.key),n)}}function YY(e,t,r){return t&&B_(e.prototype,t),r&&B_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QY(e,t,r){return t=xp(t),JY(e,ER()?Reflect.construct(t,r||[],xp(e).constructor):t.apply(e,r))}function JY(e,t){if(t&&(Js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eQ(e)}function eQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ER(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ER=function(){return!!e})()}function xp(e){return xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xp(e)}function tQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lS(e,t)}function lS(e,t){return lS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lS(e,t)}function Un(e,t,r){return t=TR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TR(e){var t=rQ(e,"string");return Js(t)=="symbol"?t:t+""}function rQ(e,t){if(Js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qr=(function(e){function t(){var r;XY(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=QY(this,t,[].concat(i)),Un(r,"state",{isAnimationFinished:!0,totalLength:0}),Un(r,"generateSimpleStrokeDasharray",function(l,u){return"".concat(u,"px ").concat(l-u,"px")}),Un(r,"getStrokeDasharray",function(l,u,d){var f=d.reduce(function(j,k){return j+k});if(!f)return r.generateSimpleStrokeDasharray(u,l);for(var v=Math.floor(l/f),h=l%f,m=u-l,b=[],w=0,x=0;w<d.length;x+=d[w],++w)if(x+d[w]>h){b=[].concat(cs(d.slice(0,w)),[h-x]);break}var y=b.length%2===0?[0,m]:[m];return[].concat(cs(t.repeat(d,v)),cs(b),y).map(function(j){return"".concat(j,"px")}).join(", ")}),Un(r,"id",Ri("recharts-line-")),Un(r,"pathRef",function(l){r.mainCurve=l}),Un(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Un(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return tQ(t,e),YY(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.points,u=o.xAxis,d=o.yAxis,f=o.layout,v=o.children,h=Fr(v,yl);if(!h)return null;var m=function(x,y){return{x:x.x,y:x.y,value:x.value,errorVal:Ot(x.payload,y)}},b={clipPath:n?"url(#clipPath-".concat(i,")"):null};return K.createElement(Ke,b,h.map(function(w){return K.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,dataPointFormatter:m})}))}},{key:"renderDots",value:function(n,i,o){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,f=u.points,v=u.dataKey,h=Te(this.props,!1),m=Te(d,!0),b=f.map(function(x,y){var j=an(an(an({key:"dot-".concat(y),r:3},h),m),{},{index:y,cx:x.x,cy:x.y,value:x.value,dataKey:v,payload:x.payload,points:f});return t.renderDotItem(d,j)}),w={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return K.createElement(Ke,Rc({className:"recharts-line-dots",key:"dots"},w),b)}},{key:"renderCurveStatically",value:function(n,i,o,l){var u=this.props,d=u.type,f=u.layout,v=u.connectNulls;u.ref;var h=M_(u,UY),m=an(an(an({},Te(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:n},l),{},{type:d,layout:f,connectNulls:v});return K.createElement(Ci,Rc({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var o=this,l=this.props,u=l.points,d=l.strokeDasharray,f=l.isAnimationActive,v=l.animationBegin,h=l.animationDuration,m=l.animationEasing,b=l.animationId,w=l.animateNewValues,x=l.width,y=l.height,j=this.state,k=j.prevPoints,S=j.totalLength;return K.createElement(_n,{begin:v,duration:h,isActive:f,easing:m,from:{t:0},to:{t:1},key:"line-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var A=N.t;if(k){var O=k.length/u.length,_=u.map(function(L,M){var V=Math.floor(M*O);if(k[V]){var H=k[V],q=Wt(H.x,L.x),X=Wt(H.y,L.y);return an(an({},L),{},{x:q(A),y:X(A)})}if(w){var W=Wt(x*2,L.x),F=Wt(y/2,L.y);return an(an({},L),{},{x:W(A),y:F(A)})}return an(an({},L),{},{x:L.x,y:L.y})});return o.renderCurveStatically(_,n,i)}var T=Wt(0,S),E=T(A),D;if(d){var I="".concat(d).split(/[,\s]+/gim).map(function(L){return parseFloat(L)});D=o.getStrokeDasharray(E,S,I)}else D=o.generateSimpleStrokeDasharray(S,E);return o.renderCurveStatically(u,n,i,{strokeDasharray:D})})}},{key:"renderCurve",value:function(n,i){var o=this.props,l=o.points,u=o.isAnimationActive,d=this.state,f=d.prevPoints,v=d.totalLength;return u&&l&&l.length&&(!f&&v>0||!Pi(f,l))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(l,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,l=i.dot,u=i.points,d=i.className,f=i.xAxis,v=i.yAxis,h=i.top,m=i.left,b=i.width,w=i.height,x=i.isAnimationActive,y=i.id;if(o||!u||!u.length)return null;var j=this.state.isAnimationFinished,k=u.length===1,S=He("recharts-line",d),N=f&&f.allowDataOverflow,A=v&&v.allowDataOverflow,O=N||A,_=Fe(y)?this.id:y,T=(n=Te(l,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=T.r,D=E===void 0?3:E,I=T.strokeWidth,L=I===void 0?2:I,M=RE(l)?l:{},V=M.clipDot,H=V===void 0?!0:V,q=D*2+L;return K.createElement(Ke,{className:S},N||A?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(_)},K.createElement("rect",{x:N?m:m-b/2,y:A?h:h-w/2,width:N?b:b*2,height:A?w:w*2})),!H&&K.createElement("clipPath",{id:"clipPath-dots-".concat(_)},K.createElement("rect",{x:m-q/2,y:h-q/2,width:b+q,height:w+q}))):null,!k&&this.renderCurve(O,_),this.renderErrorBar(O,_),(k||l)&&this.renderDots(O,H,_),(!x||j)&&Vn.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var o=n.length%2!==0?[].concat(cs(n),[0]):n,l=[],u=0;u<i;++u)l=[].concat(cs(l),cs(o));return l}},{key:"renderDotItem",value:function(n,i){var o;if(K.isValidElement(n))o=K.cloneElement(n,i);else if(We(n))o=n(i);else{var l=i.key,u=M_(i,HY),d=He("recharts-line-dot",typeof n!="boolean"?n.className:"");o=K.createElement(Pu,Rc({key:l},u,{className:d}))}return o}}])})(z.PureComponent);Un(qr,"displayName","Line");Un(qr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!qa.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Un(qr,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.dataKey,u=e.bandSize,d=e.displayedData,f=e.offset,v=t.layout,h=d.map(function(m,b){var w=Ot(m,l);return v==="horizontal"?{x:Ws({axis:r,ticks:i,bandSize:u,entry:m,index:b}),y:Fe(w)?null:n.scale(w),value:w,payload:m}:{x:Fe(w)?null:r.scale(w),y:Ws({axis:n,ticks:o,bandSize:u,entry:m,index:b}),value:w,payload:m}});return an({points:h,layout:v},f)});var nQ=["layout","type","stroke","connectNulls","isRange","ref"],aQ=["key"],DR;function el(e){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},el(e)}function RR(e,t){if(e==null)return{};var r=iQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mo.apply(this,arguments)}function F_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F_(Object(r),!0).forEach(function(n){oa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MR(n.key),n)}}function sQ(e,t,r){return t&&W_(e.prototype,t),r&&W_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lQ(e,t,r){return t=bp(t),cQ(e,IR()?Reflect.construct(t,r||[],bp(e).constructor):t.apply(e,r))}function cQ(e,t){if(t&&(el(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uQ(e)}function uQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IR=function(){return!!e})()}function bp(e){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bp(e)}function dQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cS(e,t)}function cS(e,t){return cS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cS(e,t)}function oa(e,t,r){return t=MR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MR(e){var t=fQ(e,"string");return el(t)=="symbol"?t:t+""}function fQ(e,t){if(el(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(el(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $a=(function(e){function t(){var r;oQ(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=lQ(this,t,[].concat(i)),oa(r,"state",{isAnimationFinished:!0}),oa(r,"id",Ri("recharts-area-")),oa(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),We(l)&&l()}),oa(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),We(l)&&l()}),r}return dQ(t,e),sQ(t,[{key:"renderDots",value:function(n,i,o){var l=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(l&&!u)return null;var d=this.props,f=d.dot,v=d.points,h=d.dataKey,m=Te(this.props,!1),b=Te(f,!0),w=v.map(function(y,j){var k=mi(mi(mi({key:"dot-".concat(j),r:3},m),b),{},{index:j,cx:y.x,cy:y.y,dataKey:h,value:y.value,payload:y.payload,points:v});return t.renderDotItem(f,k)}),x={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return K.createElement(Ke,mo({className:"recharts-area-dots"},x),w)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,o=i.baseLine,l=i.points,u=i.strokeWidth,d=l[0].x,f=l[l.length-1].x,v=n*Math.abs(d-f),h=bi(l.map(function(m){return m.y||0}));return be(o)&&typeof o=="number"?h=Math.max(o,h):o&&Array.isArray(o)&&o.length&&(h=Math.max(bi(o.map(function(m){return m.y||0})),h)),be(h)?K.createElement("rect",{x:d<f?d:d-v,y:0,width:v,height:Math.floor(h+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,o=i.baseLine,l=i.points,u=i.strokeWidth,d=l[0].y,f=l[l.length-1].y,v=n*Math.abs(d-f),h=bi(l.map(function(m){return m.x||0}));return be(o)&&typeof o=="number"?h=Math.max(o,h):o&&Array.isArray(o)&&o.length&&(h=Math.max(bi(o.map(function(m){return m.x||0})),h)),be(h)?K.createElement("rect",{x:0,y:d<f?d:d-v,width:h+(u?parseInt("".concat(u),10):1),height:Math.floor(v)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,o,l){var u=this.props,d=u.layout,f=u.type,v=u.stroke,h=u.connectNulls,m=u.isRange;u.ref;var b=RR(u,nQ);return K.createElement(Ke,{clipPath:o?"url(#clipPath-".concat(l,")"):null},K.createElement(Ci,mo({},Te(b,!0),{points:n,connectNulls:h,type:f,baseLine:i,layout:d,stroke:"none",className:"recharts-area-area"})),v!=="none"&&K.createElement(Ci,mo({},Te(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:h,fill:"none",points:n})),v!=="none"&&m&&K.createElement(Ci,mo({},Te(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:h,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var o=this,l=this.props,u=l.points,d=l.baseLine,f=l.isAnimationActive,v=l.animationBegin,h=l.animationDuration,m=l.animationEasing,b=l.animationId,w=this.state,x=w.prevPoints,y=w.prevBaseLine;return K.createElement(_n,{begin:v,duration:h,isActive:f,easing:m,from:{t:0},to:{t:1},key:"area-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var k=j.t;if(x){var S=x.length/u.length,N=u.map(function(T,E){var D=Math.floor(E*S);if(x[D]){var I=x[D],L=Wt(I.x,T.x),M=Wt(I.y,T.y);return mi(mi({},T),{},{x:L(k),y:M(k)})}return T}),A;if(be(d)&&typeof d=="number"){var O=Wt(y,d);A=O(k)}else if(Fe(d)||fl(d)){var _=Wt(y,0);A=_(k)}else A=d.map(function(T,E){var D=Math.floor(E*S);if(y[D]){var I=y[D],L=Wt(I.x,T.x),M=Wt(I.y,T.y);return mi(mi({},T),{},{x:L(k),y:M(k)})}return T});return o.renderAreaStatically(N,A,n,i)}return K.createElement(Ke,null,K.createElement("defs",null,K.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(k))),K.createElement(Ke,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(u,d,n,i)))})}},{key:"renderArea",value:function(n,i){var o=this.props,l=o.points,u=o.baseLine,d=o.isAnimationActive,f=this.state,v=f.prevPoints,h=f.prevBaseLine,m=f.totalLength;return d&&l&&l.length&&(!v&&m>0||!Pi(v,l)||!Pi(h,u))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(l,u,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,l=i.dot,u=i.points,d=i.className,f=i.top,v=i.left,h=i.xAxis,m=i.yAxis,b=i.width,w=i.height,x=i.isAnimationActive,y=i.id;if(o||!u||!u.length)return null;var j=this.state.isAnimationFinished,k=u.length===1,S=He("recharts-area",d),N=h&&h.allowDataOverflow,A=m&&m.allowDataOverflow,O=N||A,_=Fe(y)?this.id:y,T=(n=Te(l,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=T.r,D=E===void 0?3:E,I=T.strokeWidth,L=I===void 0?2:I,M=RE(l)?l:{},V=M.clipDot,H=V===void 0?!0:V,q=D*2+L;return K.createElement(Ke,{className:S},N||A?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(_)},K.createElement("rect",{x:N?v:v-b/2,y:A?f:f-w/2,width:N?b:b*2,height:A?w:w*2})),!H&&K.createElement("clipPath",{id:"clipPath-dots-".concat(_)},K.createElement("rect",{x:v-q/2,y:f-q/2,width:b+q,height:w+q}))):null,k?null:this.renderArea(O,_),(l||k)&&this.renderDots(O,H,_),(!x||j)&&Vn.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(z.PureComponent);DR=$a;oa($a,"displayName","Area");oa($a,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!qa.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});oa($a,"getBaseValue",function(e,t,r,n){var i=e.layout,o=e.baseValue,l=t.props.baseValue,u=l??o;if(be(u)&&typeof u=="number")return u;var d=i==="horizontal"?n:r,f=d.scale.domain();if(d.type==="number"){var v=Math.max(f[0],f[1]),h=Math.min(f[0],f[1]);return u==="dataMin"?h:u==="dataMax"||v<0?v:Math.max(Math.min(f[0],f[1]),0)}return u==="dataMin"?f[0]:u==="dataMax"?f[1]:f[0]});oa($a,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,u=e.bandSize,d=e.dataKey,f=e.stackedData,v=e.dataStartIndex,h=e.displayedData,m=e.offset,b=t.layout,w=f&&f.length,x=DR.getBaseValue(t,r,n,i),y=b==="horizontal",j=!1,k=h.map(function(N,A){var O;w?O=f[v+A]:(O=Ot(N,d),Array.isArray(O)?j=!0:O=[x,O]);var _=O[1]==null||w&&Ot(N,d)==null;return y?{x:Ws({axis:n,ticks:o,bandSize:u,entry:N,index:A}),y:_?null:i.scale(O[1]),value:O,payload:N}:{x:_?null:n.scale(O[1]),y:Ws({axis:i,ticks:l,bandSize:u,entry:N,index:A}),value:O,payload:N}}),S;return w||j?S=k.map(function(N){var A=Array.isArray(N.value)?N.value[0]:null;return y?{x:N.x,y:A!=null&&N.y!=null?i.scale(A):null}:{x:A!=null?n.scale(A):null,y:N.y}}):S=y?i.scale(x):n.scale(x),mi({points:k,baseLine:S,layout:b,isRange:j},m)});oa($a,"renderDotItem",function(e,t){var r;if(K.isValidElement(e))r=K.cloneElement(e,t);else if(We(e))r=e(t);else{var n=He("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,o=RR(t,aQ);r=K.createElement(Pu,mo({},o,{key:i,className:n}))}return r});function tl(e){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(e)}function pQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FR(n.key),n)}}function vQ(e,t,r){return t&&hQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mQ(e,t,r){return t=Sp(t),gQ(e,LR()?Reflect.construct(t,r||[],Sp(e).constructor):t.apply(e,r))}function gQ(e,t){if(t&&(tl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yQ(e)}function yQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LR=function(){return!!e})()}function Sp(e){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sp(e)}function xQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uS(e,t)}function uS(e,t){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uS(e,t)}function BR(e,t,r){return t=FR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FR(e){var t=bQ(e,"string");return tl(t)=="symbol"?t:t+""}function bQ(e,t){if(tl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bl=(function(e){function t(){return pQ(this,t),mQ(this,t,arguments)}return xQ(t,e),vQ(t,[{key:"render",value:function(){return null}}])})(z.Component);BR(bl,"displayName","ZAxis");BR(bl,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var SQ=["option","isActive"];function Ic(){return Ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ic.apply(this,arguments)}function wQ(e,t){if(e==null)return{};var r=jQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kQ(e){var t=e.option,r=e.isActive,n=wQ(e,SQ);return typeof t=="string"?z.createElement(sp,Ic({option:z.createElement(Zp,Ic({type:t},n)),isActive:r,shapeType:"symbols"},n)):z.createElement(sp,Ic({option:t,isActive:r,shapeType:"symbols"},n))}function rl(e){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(e)}function Mc(){return Mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mc.apply(this,arguments)}function $_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$_(Object(r),!0).forEach(function(n){wi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$R(n.key),n)}}function zQ(e,t,r){return t&&U_(e.prototype,t),r&&U_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function AQ(e,t,r){return t=wp(t),NQ(e,WR()?Reflect.construct(t,r||[],wp(e).constructor):t.apply(e,r))}function NQ(e,t){if(t&&(rl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PQ(e)}function PQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WR=function(){return!!e})()}function wp(e){return wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wp(e)}function _Q(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dS(e,t)}function dS(e,t){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dS(e,t)}function wi(e,t,r){return t=$R(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $R(e){var t=OQ(e,"string");return rl(t)=="symbol"?t:t+""}function OQ(e,t){if(rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _i=(function(e){function t(){var r;CQ(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=AQ(this,t,[].concat(i)),wi(r,"state",{isAnimationFinished:!1}),wi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),wi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),wi(r,"id",Ri("recharts-scatter-")),r}return _Q(t,e),zQ(t,[{key:"renderSymbolsStatically",value:function(n){var i=this,o=this.props,l=o.shape,u=o.activeShape,d=o.activeIndex,f=Te(this.props,!1);return n.map(function(v,h){var m=d===h,b=m?u:l,w=zn(zn({},f),v);return K.createElement(Ke,Mc({className:"recharts-scatter-symbol",key:"symbol-".concat(v?.cx,"-").concat(v?.cy,"-").concat(v?.size,"-").concat(h)},Ni(i.props,v,h),{role:"img"}),K.createElement(kQ,Mc({option:b,isActive:m,key:"symbol-".concat(h)},w)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,i=this.props,o=i.points,l=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,f=i.animationEasing,v=i.animationId,h=this.state.prevPoints;return K.createElement(_n,{begin:u,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var b=m.t,w=o.map(function(x,y){var j=h&&h[y];if(j){var k=Wt(j.cx,x.cx),S=Wt(j.cy,x.cy),N=Wt(j.size,x.size);return zn(zn({},x),{},{cx:k(b),cy:S(b),size:N(b)})}var A=Wt(0,x.size);return zn(zn({},x),{},{size:A(b)})});return K.createElement(Ke,null,n.renderSymbolsStatically(w))})}},{key:"renderSymbols",value:function(){var n=this.props,i=n.points,o=n.isAnimationActive,l=this.state.prevPoints;return o&&i&&i.length&&(!l||!Pi(l,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,u=i.yAxis,d=i.children,f=Fr(d,yl);return f?f.map(function(v,h){var m=v.props,b=m.direction,w=m.dataKey;return K.cloneElement(v,{key:"".concat(b,"-").concat(w,"-").concat(o[h]),data:o,xAxis:l,yAxis:u,layout:b==="x"?"vertical":"horizontal",dataPointFormatter:function(y,j){return{x:y.cx,y:y.cy,value:b==="x"?+y.node.x:+y.node.y,errorVal:Ot(y,j)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,i=n.points,o=n.line,l=n.lineType,u=n.lineJointType,d=Te(this.props,!1),f=Te(o,!1),v,h;if(l==="joint")v=i.map(function(S){return{x:S.cx,y:S.cy}});else if(l==="fitting"){var m=SF(i),b=m.xmin,w=m.xmax,x=m.a,y=m.b,j=function(N){return x*N+y};v=[{x:b,y:j(b)},{x:w,y:j(w)}]}var k=zn(zn(zn({},d),{},{fill:"none",stroke:d&&d.fill},f),{},{points:v});return K.isValidElement(o)?h=K.cloneElement(o,k):We(o)?h=o(k):h=K.createElement(Ci,Mc({},k,{type:u})),K.createElement(Ke,{className:"recharts-scatter-line",key:"recharts-scatter-line"},h)}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.points,l=n.line,u=n.className,d=n.xAxis,f=n.yAxis,v=n.left,h=n.top,m=n.width,b=n.height,w=n.id,x=n.isAnimationActive;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,j=He("recharts-scatter",u),k=d&&d.allowDataOverflow,S=f&&f.allowDataOverflow,N=k||S,A=Fe(w)?this.id:w;return K.createElement(Ke,{className:j,clipPath:N?"url(#clipPath-".concat(A,")"):null},k||S?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(A)},K.createElement("rect",{x:k?v:v-m/2,y:S?h:h-b/2,width:k?m:m*2,height:S?b:b*2}))):null,l&&this.renderLine(),this.renderErrorBar(),K.createElement(Ke,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!x||y)&&Vn.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}}])})(z.PureComponent);wi(_i,"displayName","Scatter");wi(_i,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!qa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});wi(_i,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,i=e.item,o=e.displayedData,l=e.xAxisTicks,u=e.yAxisTicks,d=e.offset,f=i.props.tooltipType,v=Fr(i.props.children,hl),h=Fe(t.dataKey)?i.props.dataKey:t.dataKey,m=Fe(r.dataKey)?i.props.dataKey:r.dataKey,b=n&&n.dataKey,w=n?n.range:bl.defaultProps.range,x=w&&w[0],y=t.scale.bandwidth?t.scale.bandwidth():0,j=r.scale.bandwidth?r.scale.bandwidth():0,k=o.map(function(S,N){var A=Ot(S,h),O=Ot(S,m),_=!Fe(b)&&Ot(S,b)||"-",T=[{name:Fe(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:A,payload:S,dataKey:h,type:f},{name:Fe(r.dataKey)?i.props.name:r.name||r.dataKey,unit:r.unit||"",value:O,payload:S,dataKey:m,type:f}];_!=="-"&&T.push({name:n.name||n.dataKey,unit:n.unit||"",value:_,payload:S,dataKey:b,type:f});var E=Ws({axis:t,ticks:l,bandSize:y,entry:S,index:N,dataKey:h}),D=Ws({axis:r,ticks:u,bandSize:j,entry:S,index:N,dataKey:m}),I=_!=="-"?n.scale(_):x,L=Math.sqrt(Math.max(I,0)/Math.PI);return zn(zn({},S),{},{cx:E,cy:D,x:E-L,y:D-L,xAxis:t,yAxis:r,zAxis:n,width:2*L,height:2*L,size:I,node:{x:A,y:O,z:_},tooltipPayload:T,tooltipPosition:{x:E,y:D},payload:S},v&&v[N]&&v[N].props)});return zn({points:k},d)});function nl(e){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}function EQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KR(n.key),n)}}function DQ(e,t,r){return t&&TQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RQ(e,t,r){return t=jp(t),IQ(e,UR()?Reflect.construct(t,r||[],jp(e).constructor):t.apply(e,r))}function IQ(e,t){if(t&&(nl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MQ(e)}function MQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UR=function(){return!!e})()}function jp(e){return jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jp(e)}function LQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fS(e,t)}function fS(e,t){return fS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fS(e,t)}function HR(e,t,r){return t=KR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KR(e){var t=BQ(e,"string");return nl(t)=="symbol"?t:t+""}function BQ(e,t){if(nl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function pS(){return pS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pS.apply(this,arguments)}function FQ(e){var t=e.xAxisId,r=F1(),n=W1(),i=bR(t);return i==null?null:z.createElement(xl,pS({},i,{className:He("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(l){return Ia(l,!0)}}))}var bt=(function(e){function t(){return EQ(this,t),RQ(this,t,arguments)}return LQ(t,e),DQ(t,[{key:"render",value:function(){return z.createElement(FQ,this.props)}}])})(z.Component);HR(bt,"displayName","XAxis");HR(bt,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function WQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qR(n.key),n)}}function UQ(e,t,r){return t&&$Q(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HQ(e,t,r){return t=kp(t),KQ(e,GR()?Reflect.construct(t,r||[],kp(e).constructor):t.apply(e,r))}function KQ(e,t){if(t&&(al(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GQ(e)}function GQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GR=function(){return!!e})()}function kp(e){return kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kp(e)}function VQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hS(e,t)}function hS(e,t){return hS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hS(e,t)}function VR(e,t,r){return t=qR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qR(e){var t=qQ(e,"string");return al(t)=="symbol"?t:t+""}function qQ(e,t){if(al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function vS(){return vS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vS.apply(this,arguments)}var ZQ=function(t){var r=t.yAxisId,n=F1(),i=W1(),o=SR(r);return o==null?null:z.createElement(xl,vS({},o,{className:He("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return Ia(u,!0)}}))},St=(function(e){function t(){return WQ(this,t),HQ(this,t,arguments)}return VQ(t,e),UQ(t,[{key:"render",value:function(){return z.createElement(ZQ,this.props)}}])})(z.Component);VR(St,"displayName","YAxis");VR(St,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function H_(e){return JQ(e)||QQ(e)||YQ(e)||XQ()}function XQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YQ(e,t){if(e){if(typeof e=="string")return mS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mS(e,t)}}function QQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JQ(e){if(Array.isArray(e))return mS(e)}function mS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gS=function(t,r,n,i,o){var l=Fr(t,gh),u=Fr(t,xh),d=[].concat(H_(l),H_(u)),f=Fr(t,Sh),v="".concat(i,"Id"),h=i[0],m=r;if(d.length&&(m=d.reduce(function(x,y){if(y.props[v]===n&&ca(y.props,"extendDomain")&&be(y.props[h])){var j=y.props[h];return[Math.min(x[0],j),Math.max(x[1],j)]}return x},m)),f.length){var b="".concat(h,"1"),w="".concat(h,"2");m=f.reduce(function(x,y){if(y.props[v]===n&&ca(y.props,"extendDomain")&&be(y.props[b])&&be(y.props[w])){var j=y.props[b],k=y.props[w];return[Math.min(x[0],j,k),Math.max(x[1],j,k)]}return x},m)}return o&&o.length&&(m=o.reduce(function(x,y){return be(y)?[Math.min(x[0],y),Math.max(x[1],y)]:x},m)),m},Cb={exports:{}},K_;function eJ(){return K_||(K_=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,f,v){this.fn=d,this.context=f,this.once=v||!1}function o(d,f,v,h,m){if(typeof v!="function")throw new TypeError("The listener must be a function");var b=new i(v,h||d,m),w=r?r+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],b]:d._events[w].push(b):(d._events[w]=b,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],v,h;if(this._eventsCount===0)return f;for(h in v=this._events)t.call(v,h)&&f.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(v)):f},u.prototype.listeners=function(f){var v=r?r+f:f,h=this._events[v];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,b=h.length,w=new Array(b);m<b;m++)w[m]=h[m].fn;return w},u.prototype.listenerCount=function(f){var v=r?r+f:f,h=this._events[v];return h?h.fn?1:h.length:0},u.prototype.emit=function(f,v,h,m,b,w){var x=r?r+f:f;if(!this._events[x])return!1;var y=this._events[x],j=arguments.length,k,S;if(y.fn){switch(y.once&&this.removeListener(f,y.fn,void 0,!0),j){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,v),!0;case 3:return y.fn.call(y.context,v,h),!0;case 4:return y.fn.call(y.context,v,h,m),!0;case 5:return y.fn.call(y.context,v,h,m,b),!0;case 6:return y.fn.call(y.context,v,h,m,b,w),!0}for(S=1,k=new Array(j-1);S<j;S++)k[S-1]=arguments[S];y.fn.apply(y.context,k)}else{var N=y.length,A;for(S=0;S<N;S++)switch(y[S].once&&this.removeListener(f,y[S].fn,void 0,!0),j){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,v);break;case 3:y[S].fn.call(y[S].context,v,h);break;case 4:y[S].fn.call(y[S].context,v,h,m);break;default:if(!k)for(A=1,k=new Array(j-1);A<j;A++)k[A-1]=arguments[A];y[S].fn.apply(y[S].context,k)}}return!0},u.prototype.on=function(f,v,h){return o(this,f,v,h,!1)},u.prototype.once=function(f,v,h){return o(this,f,v,h,!0)},u.prototype.removeListener=function(f,v,h,m){var b=r?r+f:f;if(!this._events[b])return this;if(!v)return l(this,b),this;var w=this._events[b];if(w.fn)w.fn===v&&(!m||w.once)&&(!h||w.context===h)&&l(this,b);else{for(var x=0,y=[],j=w.length;x<j;x++)(w[x].fn!==v||m&&!w[x].once||h&&w[x].context!==h)&&y.push(w[x]);y.length?this._events[b]=y.length===1?y[0]:y:l(this,b)}return this},u.prototype.removeAllListeners=function(f){var v;return f?(v=r?r+f:f,this._events[v]&&l(this,v)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(Cb)),Cb.exports}var tJ=eJ();const rJ=pt(tJ);var zb=new rJ,Ab="recharts.syncMouseEvents";function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function nJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZR(n.key),n)}}function iJ(e,t,r){return t&&aJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nb(e,t,r){return t=ZR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZR(e){var t=oJ(e,"string");return gu(t)=="symbol"?t:t+""}function oJ(e,t){if(gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sJ=(function(){function e(){nJ(this,e),Nb(this,"activeIndex",0),Nb(this,"coordinateList",[]),Nb(this,"layout","horizontal")}return iJ(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,l=r.container,u=l===void 0?null:l,d=r.layout,f=d===void 0?null:d,v=r.offset,h=v===void 0?null:v,m=r.mouseHandlerCallback,b=m===void 0?null:m;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,l=i.y,u=i.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,v=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=o+d+f,m=l+this.offset.top+u/2+v;this.mouseHandlerCallback({pageX:h,pageY:m})}}}])})();function lJ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],i=e?.[1];if(n&&i&&be(n)&&be(i))return!0}return!1}function cJ(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function XR(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,o=e.endAngle,l=At(t,r,n,i),u=At(t,r,n,o);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:i,endAngle:o}}function uJ(e,t,r){var n,i,o,l;if(e==="horizontal")n=t.x,o=n,i=r.top,l=r.top+r.height;else if(e==="vertical")i=t.y,l=i,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,d=t.cy,f=t.innerRadius,v=t.outerRadius,h=t.angle,m=At(u,d,f,h),b=At(u,d,v,h);n=m.x,i=m.y,o=b.x,l=b.y}else return XR(t);return[{x:n,y:i},{x:o,y:l}]}function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function G_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(r),!0).forEach(function(n){dJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dJ(e,t,r){return t=fJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fJ(e){var t=pJ(e,"string");return yu(t)=="symbol"?t:t+""}function pJ(e,t){if(yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hJ(e){var t,r,n=e.element,i=e.tooltipEventType,o=e.isActive,l=e.activeCoordinate,u=e.activePayload,d=e.offset,f=e.activeTooltipIndex,v=e.tooltipAxisBandSize,h=e.layout,m=e.chartName,b=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!b||!o||!l||m!=="ScatterChart"&&i!=="axis")return null;var w,x=Ci;if(m==="ScatterChart")w=l,x=sq;else if(m==="BarChart")w=cJ(h,l,d,v),x=I1;else if(h==="radial"){var y=XR(l),j=y.cx,k=y.cy,S=y.radius,N=y.startAngle,A=y.endAngle;w={cx:j,cy:k,startAngle:N,endAngle:A,innerRadius:S,outerRadius:S},x=HD}else w={points:uJ(h,l,d)},x=Ci;var O=rf(rf(rf(rf({stroke:"#ccc",pointerEvents:"none"},d),w),Te(b,!1)),{},{payload:u,payloadIndex:f,className:He("recharts-tooltip-cursor",b.className)});return z.isValidElement(b)?z.cloneElement(b,O):z.createElement(x,O)}var vJ=["item"],mJ=["children","className","width","height","style","compact","title","desc"];function il(e){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(e)}function ks(){return ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ks.apply(this,arguments)}function V_(e,t){return xJ(e)||yJ(e,t)||QR(e,t)||gJ()}function gJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function xJ(e){if(Array.isArray(e))return e}function q_(e,t){if(e==null)return{};var r=bJ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function SJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JR(n.key),n)}}function jJ(e,t,r){return t&&wJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kJ(e,t,r){return t=Cp(t),CJ(e,YR()?Reflect.construct(t,r||[],Cp(e).constructor):t.apply(e,r))}function CJ(e,t){if(t&&(il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zJ(e)}function zJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YR=function(){return!!e})()}function Cp(e){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cp(e)}function AJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yS(e,t)}function yS(e,t){return yS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yS(e,t)}function ol(e){return _J(e)||PJ(e)||QR(e)||NJ()}function NJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QR(e,t){if(e){if(typeof e=="string")return xS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xS(e,t)}}function PJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _J(e){if(Array.isArray(e))return xS(e)}function xS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(r),!0).forEach(function(n){$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $e(e,t,r){return t=JR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JR(e){var t=OJ(e,"string");return il(t)=="symbol"?t:t+""}function OJ(e,t){if(il(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EJ={xAxis:["bottom","top"],yAxis:["left","right"]},TJ={width:"100%",height:"100%"},eI={x:0,y:0};function nf(e){return e}var DJ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},RJ=function(t,r,n,i){var o=r.find(function(v){return v&&v.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var l=o.coordinate,u=i.radius;return fe(fe(fe({},i),At(i.cx,i.cy,u,l)),{},{angle:l,radius:u})}var d=o.coordinate,f=i.angle;return fe(fe(fe({},i),At(i.cx,i.cy,d,f)),{},{angle:f,radius:d})}return eI},wh=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,l=(n??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(ol(u),ol(f)):u},[]);return l.length>0?l:t&&t.length&&be(i)&&be(o)?t.slice(i,o+1):[]};function tI(e){return e==="number"?[0,"auto"]:void 0}var bS=function(t,r,n,i){var o=t.graphicalItems,l=t.tooltipAxis,u=wh(r,t);return n<0||!o||!o.length||n>=u.length?null:o.reduce(function(d,f){var v,h=(v=f.props.data)!==null&&v!==void 0?v:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(l.dataKey&&!l.allowDuplicatedCategory){var b=h===void 0?u:h;m=kf(b,l.dataKey,i)}else m=h&&h[n]||u[n];return m?[].concat(ol(d),[LD(f,m)]):d},[])},X_=function(t,r,n,i){var o=i||{x:t.chartX,y:t.chartY},l=DJ(o,n),u=t.orderedTooltipTicks,d=t.tooltipAxis,f=t.tooltipTicks,v=AG(l,u,f,d);if(v>=0&&f){var h=f[v]&&f[v].value,m=bS(t,r,v,h),b=RJ(n,u,v,o);return{activeTooltipIndex:v,activeLabel:h,activePayload:m,activeCoordinate:b}}return null},IJ=function(t,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,v=t.layout,h=t.children,m=t.stackOffset,b=ED(v,o);return n.reduce(function(w,x){var y,j=x.type.defaultProps!==void 0?fe(fe({},x.type.defaultProps),x.props):x.props,k=j.type,S=j.dataKey,N=j.allowDataOverflow,A=j.allowDuplicatedCategory,O=j.scale,_=j.ticks,T=j.includeHidden,E=j[l];if(w[E])return w;var D=wh(t.data,{graphicalItems:i.filter(function(B){var re,le=l in B.props?B.props[l]:(re=B.type.defaultProps)===null||re===void 0?void 0:re[l];return le===E}),dataStartIndex:d,dataEndIndex:f}),I=D.length,L,M,V;lJ(j.domain,N,k)&&(L=O0(j.domain,null,N),b&&(k==="number"||O!=="auto")&&(V=Oc(D,S,"category")));var H=tI(k);if(!L||L.length===0){var q,X=(q=j.domain)!==null&&q!==void 0?q:H;if(S){if(L=Oc(D,S,k),k==="category"&&b){var W=bF(L);A&&W?(M=L,L=cp(0,I)):A||(L=qN(X,L,x).reduce(function(B,re){return B.indexOf(re)>=0?B:[].concat(ol(B),[re])},[]))}else if(k==="category")A?L=L.filter(function(B){return B!==""&&!Fe(B)}):L=qN(X,L,x).reduce(function(B,re){return B.indexOf(re)>=0||re===""||Fe(re)?B:[].concat(ol(B),[re])},[]);else if(k==="number"){var F=EG(D,i.filter(function(B){var re,le,pe=l in B.props?B.props[l]:(re=B.type.defaultProps)===null||re===void 0?void 0:re[l],se="hide"in B.props?B.props.hide:(le=B.type.defaultProps)===null||le===void 0?void 0:le.hide;return pe===E&&(T||!se)}),S,o,v);F&&(L=F)}b&&(k==="number"||O!=="auto")&&(V=Oc(D,S,"category"))}else b?L=cp(0,I):u&&u[E]&&u[E].hasStack&&k==="number"?L=m==="expand"?[0,1]:MD(u[E].stackGroups,d,f):L=OD(D,i.filter(function(B){var re=l in B.props?B.props[l]:B.type.defaultProps[l],le="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return re===E&&(T||!le)}),k,v,!0);if(k==="number")L=gS(h,L,E,o,_),X&&(L=O0(X,L,N));else if(k==="category"&&X){var Y=X,$=L.every(function(B){return Y.indexOf(B)>=0});$&&(L=Y)}}return fe(fe({},w),{},$e({},E,fe(fe({},j),{},{axisType:o,domain:L,categoricalDomain:V,duplicateDomain:M,originalDomain:(y=j.domain)!==null&&y!==void 0?y:H,isCategorical:b,layout:v})))},{})},MJ=function(t,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,v=t.layout,h=t.children,m=wh(t.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),b=m.length,w=ED(v,o),x=-1;return n.reduce(function(y,j){var k=j.type.defaultProps!==void 0?fe(fe({},j.type.defaultProps),j.props):j.props,S=k[l],N=tI("number");if(!y[S]){x++;var A;return w?A=cp(0,b):u&&u[S]&&u[S].hasStack?(A=MD(u[S].stackGroups,d,f),A=gS(h,A,S,o)):(A=O0(N,OD(m,n.filter(function(O){var _,T,E=l in O.props?O.props[l]:(_=O.type.defaultProps)===null||_===void 0?void 0:_[l],D="hide"in O.props?O.props.hide:(T=O.type.defaultProps)===null||T===void 0?void 0:T.hide;return E===S&&!D}),"number",v),i.defaultProps.allowDataOverflow),A=gS(h,A,S,o)),fe(fe({},y),{},$e({},S,fe(fe({axisType:o},i.defaultProps),{},{hide:!0,orientation:pn(EJ,"".concat(o,".").concat(x%2),null),domain:A,originalDomain:N,isCategorical:w,layout:v})))}return y},{})},LJ=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,l=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,v=t.children,h="".concat(i,"Id"),m=Fr(v,o),b={};return m&&m.length?b=IJ(t,{axes:m,graphicalItems:l,axisType:i,axisIdKey:h,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):l&&l.length&&(b=MJ(t,{Axis:o,graphicalItems:l,axisType:i,axisIdKey:h,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),b},BJ=function(t){var r=xi(t),n=Ia(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:c1(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Zf(r,n)}},Y_=function(t){var r=t.children,n=t.defaultShowTooltip,i=sn(r,Vs),o=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(l=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!n}},FJ=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ma(r&&r.type);return n&&n.indexOf("Bar")>=0})},Q_=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},WJ=function(t,r){var n=t.props,i=t.graphicalItems,o=t.xAxisMap,l=o===void 0?{}:o,u=t.yAxisMap,d=u===void 0?{}:u,f=n.width,v=n.height,h=n.children,m=n.margin||{},b=sn(h,Vs),w=sn(h,zt),x=Object.keys(d).reduce(function(A,O){var _=d[O],T=_.orientation;return!_.mirror&&!_.hide?fe(fe({},A),{},$e({},T,A[T]+_.width)):A},{left:m.left||0,right:m.right||0}),y=Object.keys(l).reduce(function(A,O){var _=l[O],T=_.orientation;return!_.mirror&&!_.hide?fe(fe({},A),{},$e({},T,pn(A,"".concat(T))+_.height)):A},{top:m.top||0,bottom:m.bottom||0}),j=fe(fe({},y),x),k=j.bottom;b&&(j.bottom+=b.props.height||Vs.defaultProps.height),w&&r&&(j=_G(j,i,n,r));var S=f-j.left-j.right,N=v-j.top-j.bottom;return fe(fe({brushBottom:k},j),{},{width:Math.max(S,0),height:Math.max(N,0)})},$J=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},_u=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,o=i===void 0?"axis":i,l=t.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=t.axisComponents,f=t.legendContent,v=t.formatAxisMap,h=t.defaultProps,m=function(j,k){var S=k.graphicalItems,N=k.stackGroups,A=k.offset,O=k.updateId,_=k.dataStartIndex,T=k.dataEndIndex,E=j.barSize,D=j.layout,I=j.barGap,L=j.barCategoryGap,M=j.maxBarSize,V=Q_(D),H=V.numericAxisName,q=V.cateAxisName,X=FJ(S),W=[];return S.forEach(function(F,Y){var $=wh(j.data,{graphicalItems:[F],dataStartIndex:_,dataEndIndex:T}),B=F.type.defaultProps!==void 0?fe(fe({},F.type.defaultProps),F.props):F.props,re=B.dataKey,le=B.maxBarSize,pe=B["".concat(H,"Id")],se=B["".concat(q,"Id")],ne={},ye=d.reduce(function(Ht,nr){var Ge=k["".concat(nr.axisType,"Map")],qe=B["".concat(nr.axisType,"Id")];Ge&&Ge[qe]||nr.axisType==="zAxis"||ko();var ht=Ge[qe];return fe(fe({},Ht),{},$e($e({},nr.axisType,ht),"".concat(nr.axisType,"Ticks"),Ia(ht)))},ne),ie=ye[q],ve=ye["".concat(q,"Ticks")],we=N&&N[pe]&&N[pe].hasStack&&WG(F,N[pe].stackGroups),ce=Ma(F.type).indexOf("Bar")>=0,Ie=Zf(ie,ve),Me=[],tt=X&&NG({barSize:E,stackGroups:N,totalSize:$J(ye,q)});if(ce){var rt,Ye,Ut=Fe(le)?M:le,ct=(rt=(Ye=Zf(ie,ve,!0))!==null&&Ye!==void 0?Ye:Ut)!==null&&rt!==void 0?rt:0;Me=PG({barGap:I,barCategoryGap:L,bandSize:ct!==Ie?ct:Ie,sizeList:tt[se],maxBarSize:Ut}),ct!==Ie&&(Me=Me.map(function(Ht){return fe(fe({},Ht),{},{position:fe(fe({},Ht.position),{},{offset:Ht.position.offset-ct/2})})}))}var it=F&&F.type&&F.type.getComposedData;it&&W.push({props:fe(fe({},it(fe(fe({},ye),{},{displayedData:$,props:j,dataKey:re,item:F,bandSize:Ie,barPosition:Me,offset:A,stackedData:we,layout:D,dataStartIndex:_,dataEndIndex:T}))),{},$e($e($e({key:F.key||"item-".concat(Y)},H,ye[H]),q,ye[q]),"animationId",O)),childIndex:TF(F,j.children),item:F})}),W},b=function(j,k){var S=j.props,N=j.dataStartIndex,A=j.dataEndIndex,O=j.updateId;if(!cC({props:S}))return null;var _=S.children,T=S.layout,E=S.stackOffset,D=S.data,I=S.reverseStackOrder,L=Q_(T),M=L.numericAxisName,V=L.cateAxisName,H=Fr(_,n),q=BG(D,H,"".concat(M,"Id"),"".concat(V,"Id"),E,I),X=d.reduce(function(B,re){var le="".concat(re.axisType,"Map");return fe(fe({},B),{},$e({},le,LJ(S,fe(fe({},re),{},{graphicalItems:H,stackGroups:re.axisType===M&&q,dataStartIndex:N,dataEndIndex:A}))))},{}),W=WJ(fe(fe({},X),{},{props:S,graphicalItems:H}),k?.legendBBox);Object.keys(X).forEach(function(B){X[B]=v(S,X[B],W,B.replace("Map",""),r)});var F=X["".concat(V,"Map")],Y=BJ(F),$=m(S,fe(fe({},X),{},{dataStartIndex:N,dataEndIndex:A,updateId:O,graphicalItems:H,stackGroups:q,offset:W}));return fe(fe({formattedGraphicalItems:$,graphicalItems:H,offset:W,stackGroups:q},Y),X)},w=(function(y){function j(k){var S,N,A;return SJ(this,j),A=kJ(this,j,[k]),$e(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),$e(A,"accessibilityManager",new sJ),$e(A,"handleLegendBBoxUpdate",function(O){if(O){var _=A.state,T=_.dataStartIndex,E=_.dataEndIndex,D=_.updateId;A.setState(fe({legendBBox:O},b({props:A.props,dataStartIndex:T,dataEndIndex:E,updateId:D},fe(fe({},A.state),{},{legendBBox:O}))))}}),$e(A,"handleReceiveSyncEvent",function(O,_,T){if(A.props.syncId===O){if(T===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(_)}}),$e(A,"handleBrushChange",function(O){var _=O.startIndex,T=O.endIndex;if(_!==A.state.dataStartIndex||T!==A.state.dataEndIndex){var E=A.state.updateId;A.setState(function(){return fe({dataStartIndex:_,dataEndIndex:T},b({props:A.props,dataStartIndex:_,dataEndIndex:T,updateId:E},A.state))}),A.triggerSyncEvent({dataStartIndex:_,dataEndIndex:T})}}),$e(A,"handleMouseEnter",function(O){var _=A.getMouseInfo(O);if(_){var T=fe(fe({},_),{},{isTooltipActive:!0});A.setState(T),A.triggerSyncEvent(T);var E=A.props.onMouseEnter;We(E)&&E(T,O)}}),$e(A,"triggeredAfterMouseMove",function(O){var _=A.getMouseInfo(O),T=_?fe(fe({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(T),A.triggerSyncEvent(T);var E=A.props.onMouseMove;We(E)&&E(T,O)}),$e(A,"handleItemMouseEnter",function(O){A.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),$e(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),$e(A,"handleMouseMove",function(O){O.persist(),A.throttleTriggeredAfterMouseMove(O)}),$e(A,"handleMouseLeave",function(O){A.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};A.setState(_),A.triggerSyncEvent(_);var T=A.props.onMouseLeave;We(T)&&T(_,O)}),$e(A,"handleOuterEvent",function(O){var _=EF(O),T=pn(A.props,"".concat(_));if(_&&We(T)){var E,D;/.*touch.*/i.test(_)?D=A.getMouseInfo(O.changedTouches[0]):D=A.getMouseInfo(O),T((E=D)!==null&&E!==void 0?E:{},O)}}),$e(A,"handleClick",function(O){var _=A.getMouseInfo(O);if(_){var T=fe(fe({},_),{},{isTooltipActive:!0});A.setState(T),A.triggerSyncEvent(T);var E=A.props.onClick;We(E)&&E(T,O)}}),$e(A,"handleMouseDown",function(O){var _=A.props.onMouseDown;if(We(_)){var T=A.getMouseInfo(O);_(T,O)}}),$e(A,"handleMouseUp",function(O){var _=A.props.onMouseUp;if(We(_)){var T=A.getMouseInfo(O);_(T,O)}}),$e(A,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),$e(A,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&A.handleMouseDown(O.changedTouches[0])}),$e(A,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&A.handleMouseUp(O.changedTouches[0])}),$e(A,"handleDoubleClick",function(O){var _=A.props.onDoubleClick;if(We(_)){var T=A.getMouseInfo(O);_(T,O)}}),$e(A,"handleContextMenu",function(O){var _=A.props.onContextMenu;if(We(_)){var T=A.getMouseInfo(O);_(T,O)}}),$e(A,"triggerSyncEvent",function(O){A.props.syncId!==void 0&&zb.emit(Ab,A.props.syncId,O,A.eventEmitterSymbol)}),$e(A,"applySyncEvent",function(O){var _=A.props,T=_.layout,E=_.syncMethod,D=A.state.updateId,I=O.dataStartIndex,L=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)A.setState(fe({dataStartIndex:I,dataEndIndex:L},b({props:A.props,dataStartIndex:I,dataEndIndex:L,updateId:D},A.state)));else if(O.activeTooltipIndex!==void 0){var M=O.chartX,V=O.chartY,H=O.activeTooltipIndex,q=A.state,X=q.offset,W=q.tooltipTicks;if(!X)return;if(typeof E=="function")H=E(W,O);else if(E==="value"){H=-1;for(var F=0;F<W.length;F++)if(W[F].value===O.activeLabel){H=F;break}}var Y=fe(fe({},X),{},{x:X.left,y:X.top}),$=Math.min(M,Y.x+Y.width),B=Math.min(V,Y.y+Y.height),re=W[H]&&W[H].value,le=bS(A.state,A.props.data,H),pe=W[H]?{x:T==="horizontal"?W[H].coordinate:$,y:T==="horizontal"?B:W[H].coordinate}:eI;A.setState(fe(fe({},O),{},{activeLabel:re,activeCoordinate:pe,activePayload:le,activeTooltipIndex:H}))}else A.setState(O)}),$e(A,"renderCursor",function(O){var _,T=A.state,E=T.isTooltipActive,D=T.activeCoordinate,I=T.activePayload,L=T.offset,M=T.activeTooltipIndex,V=T.tooltipAxisBandSize,H=A.getTooltipEventType(),q=(_=O.props.active)!==null&&_!==void 0?_:E,X=A.props.layout,W=O.key||"_recharts-cursor";return K.createElement(hJ,{key:W,activeCoordinate:D,activePayload:I,activeTooltipIndex:M,chartName:r,element:O,isActive:q,layout:X,offset:L,tooltipAxisBandSize:V,tooltipEventType:H})}),$e(A,"renderPolarAxis",function(O,_,T){var E=pn(O,"type.axisType"),D=pn(A.state,"".concat(E,"Map")),I=O.type.defaultProps,L=I!==void 0?fe(fe({},I),O.props):O.props,M=D&&D[L["".concat(E,"Id")]];return z.cloneElement(O,fe(fe({},M),{},{className:He(E,M.className),key:O.key||"".concat(_,"-").concat(T),ticks:Ia(M,!0)}))}),$e(A,"renderPolarGrid",function(O){var _=O.props,T=_.radialLines,E=_.polarAngles,D=_.polarRadius,I=A.state,L=I.radiusAxisMap,M=I.angleAxisMap,V=xi(L),H=xi(M),q=H.cx,X=H.cy,W=H.innerRadius,F=H.outerRadius;return z.cloneElement(O,{polarAngles:Array.isArray(E)?E:Ia(H,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(D)?D:Ia(V,!0).map(function(Y){return Y.coordinate}),cx:q,cy:X,innerRadius:W,outerRadius:F,key:O.key||"polar-grid",radialLines:T})}),$e(A,"renderLegend",function(){var O=A.state.formattedGraphicalItems,_=A.props,T=_.children,E=_.width,D=_.height,I=A.props.margin||{},L=E-(I.left||0)-(I.right||0),M=PD({children:T,formattedGraphicalItems:O,legendWidth:L,legendContent:f});if(!M)return null;var V=M.item,H=q_(M,vJ);return z.cloneElement(V,fe(fe({},H),{},{chartWidth:E,chartHeight:D,margin:I,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),$e(A,"renderTooltip",function(){var O,_=A.props,T=_.children,E=_.accessibilityLayer,D=sn(T,st);if(!D)return null;var I=A.state,L=I.isTooltipActive,M=I.activeCoordinate,V=I.activePayload,H=I.activeLabel,q=I.offset,X=(O=D.props.active)!==null&&O!==void 0?O:L;return z.cloneElement(D,{viewBox:fe(fe({},q),{},{x:q.left,y:q.top}),active:X,label:H,payload:X?V:[],coordinate:M,accessibilityLayer:E})}),$e(A,"renderBrush",function(O){var _=A.props,T=_.margin,E=_.data,D=A.state,I=D.offset,L=D.dataStartIndex,M=D.dataEndIndex,V=D.updateId;return z.cloneElement(O,{key:O.key||"_recharts-brush",onChange:Qd(A.handleBrushChange,O.props.onChange),data:E,x:be(O.props.x)?O.props.x:I.left,y:be(O.props.y)?O.props.y:I.top+I.height+I.brushBottom-(T.bottom||0),width:be(O.props.width)?O.props.width:I.width,startIndex:L,endIndex:M,updateId:"brush-".concat(V)})}),$e(A,"renderReferenceElement",function(O,_,T){if(!O)return null;var E=A,D=E.clipPathId,I=A.state,L=I.xAxisMap,M=I.yAxisMap,V=I.offset,H=O.type.defaultProps||{},q=O.props,X=q.xAxisId,W=X===void 0?H.xAxisId:X,F=q.yAxisId,Y=F===void 0?H.yAxisId:F;return z.cloneElement(O,{key:O.key||"".concat(_,"-").concat(T),xAxis:L[W],yAxis:M[Y],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:D})}),$e(A,"renderActivePoints",function(O){var _=O.item,T=O.activePoint,E=O.basePoint,D=O.childIndex,I=O.isRange,L=[],M=_.props.key,V=_.item.type.defaultProps!==void 0?fe(fe({},_.item.type.defaultProps),_.item.props):_.item.props,H=V.activeDot,q=V.dataKey,X=fe(fe({index:D,dataKey:q,cx:T.x,cy:T.y,r:4,fill:R1(_.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Te(H,!1)),Cf(H));return L.push(j.renderActiveDot(H,X,"".concat(M,"-activePoint-").concat(D))),E?L.push(j.renderActiveDot(H,fe(fe({},X),{},{cx:E.x,cy:E.y}),"".concat(M,"-basePoint-").concat(D))):I&&L.push(null),L}),$e(A,"renderGraphicChild",function(O,_,T){var E=A.filterFormatItem(O,_,T);if(!E)return null;var D=A.getTooltipEventType(),I=A.state,L=I.isTooltipActive,M=I.tooltipAxis,V=I.activeTooltipIndex,H=I.activeLabel,q=A.props.children,X=sn(q,st),W=E.props,F=W.points,Y=W.isRange,$=W.baseLine,B=E.item.type.defaultProps!==void 0?fe(fe({},E.item.type.defaultProps),E.item.props):E.item.props,re=B.activeDot,le=B.hide,pe=B.activeBar,se=B.activeShape,ne=!!(!le&&L&&X&&(re||pe||se)),ye={};D!=="axis"&&X&&X.props.trigger==="click"?ye={onClick:Qd(A.handleItemMouseEnter,O.props.onClick)}:D!=="axis"&&(ye={onMouseLeave:Qd(A.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:Qd(A.handleItemMouseEnter,O.props.onMouseEnter)});var ie=z.cloneElement(O,fe(fe({},E.props),ye));function ve(nr){return typeof M.dataKey=="function"?M.dataKey(nr.payload):null}if(ne)if(V>=0){var we,ce;if(M.dataKey&&!M.allowDuplicatedCategory){var Ie=typeof M.dataKey=="function"?ve:"payload.".concat(M.dataKey.toString());we=kf(F,Ie,H),ce=Y&&$&&kf($,Ie,H)}else we=F?.[V],ce=Y&&$&&$[V];if(se||pe){var Me=O.props.activeIndex!==void 0?O.props.activeIndex:V;return[z.cloneElement(O,fe(fe(fe({},E.props),ye),{},{activeIndex:Me})),null,null]}if(!Fe(we))return[ie].concat(ol(A.renderActivePoints({item:E,activePoint:we,basePoint:ce,childIndex:V,isRange:Y})))}else{var tt,rt=(tt=A.getItemByXY(A.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:ie},Ye=rt.graphicalItem,Ut=Ye.item,ct=Ut===void 0?O:Ut,it=Ye.childIndex,Ht=fe(fe(fe({},E.props),ye),{},{activeIndex:it});return[z.cloneElement(ct,Ht),null,null]}return Y?[ie,null,null]:[ie,null]}),$e(A,"renderCustomized",function(O,_,T){return z.cloneElement(O,fe(fe({key:"recharts-customized-".concat(T)},A.props),A.state))}),$e(A,"renderMap",{CartesianGrid:{handler:nf,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:nf},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:nf},YAxis:{handler:nf},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((S=k.id)!==null&&S!==void 0?S:Ri("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=NT(A.triggeredAfterMouseMove,(N=k.throttleDelay)!==null&&N!==void 0?N:1e3/60),A.state={},A}return AJ(j,y),jJ(j,[{key:"componentDidMount",value:function(){var S,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,N=S.children,A=S.data,O=S.height,_=S.layout,T=sn(N,st);if(T){var E=T.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,I=bS(this.state,A,E,D),L=this.state.tooltipTicks[E].coordinate,M=(this.state.offset.top+O)/2,V=_==="horizontal",H=V?{x:L,y:M}:{y:L,x:M},q=this.state.formattedGraphicalItems.find(function(W){var F=W.item;return F.type.name==="Scatter"});q&&(H=fe(fe({},H),q.props.points[E].tooltipPosition),I=q.props.points[E].tooltipPayload);var X={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:D,activePayload:I,activeCoordinate:H};this.setState(X),this.renderCursor(T),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var A,O;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(S){Jb([sn(S.children,st)],[sn(this.props.children,st)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=sn(this.props.children,st);if(S&&typeof S.props.shared=="boolean"){var N=S.props.shared?"axis":"item";return u.indexOf(N)>=0?N:o}return o}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var N=this.container,A=N.getBoundingClientRect(),O=x8(A),_={chartX:Math.round(S.pageX-O.left),chartY:Math.round(S.pageY-O.top)},T=A.width/N.offsetWidth||1,E=this.inRange(_.chartX,_.chartY,T);if(!E)return null;var D=this.state,I=D.xAxisMap,L=D.yAxisMap,M=this.getTooltipEventType(),V=X_(this.state,this.props.data,this.props.layout,E);if(M!=="axis"&&I&&L){var H=xi(I).scale,q=xi(L).scale,X=H&&H.invert?H.invert(_.chartX):null,W=q&&q.invert?q.invert(_.chartY):null;return fe(fe({},_),{},{xValue:X,yValue:W},V)}return V?fe(fe({},_),V):null}},{key:"inRange",value:function(S,N){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,_=S/A,T=N/A;if(O==="horizontal"||O==="vertical"){var E=this.state.offset,D=_>=E.left&&_<=E.left+E.width&&T>=E.top&&T<=E.top+E.height;return D?{x:_,y:T}:null}var I=this.state,L=I.angleAxisMap,M=I.radiusAxisMap;if(L&&M){var V=xi(L);return YN({x:_,y:T},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,N=this.getTooltipEventType(),A=sn(S,st),O={};A&&N==="axis"&&(A.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=Cf(this.props,this.handleOuterEvent);return fe(fe({},_),O)}},{key:"addListener",value:function(){zb.on(Ab,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){zb.removeListener(Ab,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,N,A){for(var O=this.state.formattedGraphicalItems,_=0,T=O.length;_<T;_++){var E=O[_];if(E.item===S||E.props.key===S.key||N===Ma(E.item.type)&&A===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,N=this.state.offset,A=N.left,O=N.top,_=N.height,T=N.width;return K.createElement("defs",null,K.createElement("clipPath",{id:S},K.createElement("rect",{x:A,y:O,height:_,width:T})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(N,A){var O=V_(A,2),_=O[0],T=O[1];return fe(fe({},N),{},$e({},_,T.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(N,A){var O=V_(A,2),_=O[0],T=O[1];return fe(fe({},N),{},$e({},_,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[S])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(S){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[S])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(S){var N=this.state,A=N.formattedGraphicalItems,O=N.activeItem;if(A&&A.length)for(var _=0,T=A.length;_<T;_++){var E=A[_],D=E.props,I=E.item,L=I.type.defaultProps!==void 0?fe(fe({},I.type.defaultProps),I.props):I.props,M=Ma(I.type);if(M==="Bar"){var V=(D.data||[]).find(function(W){return W7(S,W)});if(V)return{graphicalItem:E,payload:V}}else if(M==="RadialBar"){var H=(D.data||[]).find(function(W){return YN(S,W)});if(H)return{graphicalItem:E,payload:H}}else if(ph(E,O)||hh(E,O)||fu(E,O)){var q=uZ({graphicalItem:E,activeTooltipItem:O,itemData:L.data}),X=L.activeIndex===void 0?q:L.activeIndex;return{graphicalItem:fe(fe({},E),{},{childIndex:X}),payload:fu(E,O)?L.data[q]:E.props.data[q]}}}return null}},{key:"render",value:function(){var S=this;if(!cC(this))return null;var N=this.props,A=N.children,O=N.className,_=N.width,T=N.height,E=N.style,D=N.compact,I=N.title,L=N.desc,M=q_(N,mJ),V=Te(M,!1);if(D)return K.createElement(k_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(t0,ks({},V,{width:_,height:T,title:I,desc:L}),this.renderClipPath(),dC(A,this.renderMap)));if(this.props.accessibilityLayer){var H,q;V.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,V.role=(q=this.props.role)!==null&&q!==void 0?q:"application",V.onKeyDown=function(W){S.accessibilityManager.keyboardEvent(W)},V.onFocus=function(){S.accessibilityManager.focus()}}var X=this.parseEventsOfWrapper();return K.createElement(k_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",ks({className:He("recharts-wrapper",O),style:fe({position:"relative",cursor:"default",width:_,height:T},E)},X,{ref:function(F){S.container=F}}),K.createElement(t0,ks({},V,{width:_,height:T,title:I,desc:L,style:TJ}),this.renderClipPath(),dC(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(z.Component);$e(w,"displayName",r),$e(w,"defaultProps",fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),$e(w,"getDerivedStateFromProps",function(y,j){var k=y.dataKey,S=y.data,N=y.children,A=y.width,O=y.height,_=y.layout,T=y.stackOffset,E=y.margin,D=j.dataStartIndex,I=j.dataEndIndex;if(j.updateId===void 0){var L=Y_(y);return fe(fe(fe({},L),{},{updateId:0},b(fe(fe({props:y},L),{},{updateId:0}),j)),{},{prevDataKey:k,prevData:S,prevWidth:A,prevHeight:O,prevLayout:_,prevStackOffset:T,prevMargin:E,prevChildren:N})}if(k!==j.prevDataKey||S!==j.prevData||A!==j.prevWidth||O!==j.prevHeight||_!==j.prevLayout||T!==j.prevStackOffset||!zs(E,j.prevMargin)){var M=Y_(y),V={chartX:j.chartX,chartY:j.chartY,isTooltipActive:j.isTooltipActive},H=fe(fe({},X_(j,S,_)),{},{updateId:j.updateId+1}),q=fe(fe(fe({},M),V),H);return fe(fe(fe({},q),b(fe({props:y},q),j)),{},{prevDataKey:k,prevData:S,prevWidth:A,prevHeight:O,prevLayout:_,prevStackOffset:T,prevMargin:E,prevChildren:N})}if(!Jb(N,j.prevChildren)){var X,W,F,Y,$=sn(N,Vs),B=$&&(X=(W=$.props)===null||W===void 0?void 0:W.startIndex)!==null&&X!==void 0?X:D,re=$&&(F=(Y=$.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&F!==void 0?F:I,le=B!==D||re!==I,pe=!Fe(S),se=pe&&!le?j.updateId:j.updateId+1;return fe(fe({updateId:se},b(fe(fe({props:y},j),{},{updateId:se,dataStartIndex:B,dataEndIndex:re}),j)),{},{prevChildren:N,dataStartIndex:B,dataEndIndex:re})}return null}),$e(w,"renderActiveDot",function(y,j,k){var S;return z.isValidElement(y)?S=z.cloneElement(y,j):We(y)?S=y(j):S=K.createElement(Pu,j),K.createElement(Ke,{className:"recharts-active-dot",key:k},S)});var x=z.forwardRef(function(j,k){return K.createElement(w,ks({},j,{ref:k}))});return x.displayName=w.displayName,x},rI=_u({chartName:"LineChart",GraphicalChild:qr,axisComponents:[{axisType:"xAxis",AxisComp:bt},{axisType:"yAxis",AxisComp:St}],formatAxisMap:mh}),Pr=_u({chartName:"BarChart",GraphicalChild:Re,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:bt},{axisType:"yAxis",AxisComp:St}],formatAxisMap:mh}),nI=_u({chartName:"PieChart",GraphicalChild:va,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:fh},{axisType:"radiusAxis",AxisComp:uh}],formatAxisMap:YG,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),aI=_u({chartName:"ScatterChart",GraphicalChild:_i,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:bt},{axisType:"yAxis",AxisComp:St},{axisType:"zAxis",AxisComp:bl}],formatAxisMap:mh}),UJ=_u({chartName:"AreaChart",GraphicalChild:$a,axisComponents:[{axisType:"xAxis",AxisComp:bt},{axisType:"yAxis",AxisComp:St}],formatAxisMap:mh});function J_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Sl(...e){return t=>{let r=!1;const n=e.map(i=>{const o=J_(i,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let i=0;i<n.length;i++){const o=n[i];typeof o=="function"?o():J_(e[i],null)}}}}function Mt(...e){return z.useCallback(Sl(...e),e)}function HJ(e,t){const r=z.createContext(t),n=o=>{const{children:l,...u}=o,d=z.useMemo(()=>u,Object.values(u));return a.jsx(r.Provider,{value:d,children:l})};n.displayName=e+"Provider";function i(o){const l=z.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,i]}function Ro(e,t=[]){let r=[];function n(o,l){const u=z.createContext(l),d=r.length;r=[...r,l];const f=h=>{const{scope:m,children:b,...w}=h,x=m?.[e]?.[d]||u,y=z.useMemo(()=>w,Object.values(w));return a.jsx(x.Provider,{value:y,children:b})};f.displayName=o+"Provider";function v(h,m){const b=m?.[e]?.[d]||u,w=z.useContext(b);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[f,v]}const i=()=>{const o=r.map(l=>z.createContext(l));return function(u){const d=u?.[e]||o;return z.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return i.scopeName=e,[n,KJ(i,...t)]}function KJ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=n.reduce((u,{useScope:d,scopeName:f})=>{const h=d(o)[`__scope${f}`];return{...u,...h}},{});return z.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}function Qe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}var _r=globalThis?.document?z.useLayoutEffect:()=>{},GJ=BS[" useInsertionEffect ".trim().toString()]||_r;function sl({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,o,l]=VJ({defaultProp:t,onChange:r}),u=e!==void 0,d=u?e:i;{const v=z.useRef(e!==void 0);z.useEffect(()=>{const h=v.current;h!==u&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=u},[u,n])}const f=z.useCallback(v=>{if(u){const h=qJ(v)?v(e):v;h!==e&&l.current?.(h)}else o(v)},[u,e,o,l]);return[d,f]}function VJ({defaultProp:e,onChange:t}){const[r,n]=z.useState(e),i=z.useRef(r),o=z.useRef(t);return GJ(()=>{o.current=t},[t]),z.useEffect(()=>{i.current!==r&&(o.current?.(r),i.current=r)},[r,i]),[r,n,o]}function qJ(e){return typeof e=="function"}function iI(e){const t=z.useRef({value:e,previous:e});return z.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function oI(e){const[t,r]=z.useState(void 0);return _r(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let l,u;if("borderBoxSize"in o){const d=o.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,u=f.blockSize}else l=e.offsetWidth,u=e.offsetHeight;r({width:l,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}function ZJ(e,t){return z.useReducer((r,n)=>t[r][n]??r,e)}var wl=e=>{const{present:t,children:r}=e,n=XJ(t),i=typeof r=="function"?r({present:n.isPresent}):z.Children.only(r),o=Mt(n.ref,YJ(i));return typeof r=="function"||n.isPresent?z.cloneElement(i,{ref:o}):null};wl.displayName="Presence";function XJ(e){const[t,r]=z.useState(),n=z.useRef(null),i=z.useRef(e),o=z.useRef("none"),l=e?"mounted":"unmounted",[u,d]=ZJ(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return z.useEffect(()=>{const f=af(n.current);o.current=u==="mounted"?f:"none"},[u]),_r(()=>{const f=n.current,v=i.current;if(v!==e){const m=o.current,b=af(f);e?d("MOUNT"):b==="none"||f?.display==="none"?d("UNMOUNT"):d(v&&m!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,d]),_r(()=>{if(t){let f;const v=t.ownerDocument.defaultView??window,h=b=>{const x=af(n.current).includes(CSS.escape(b.animationName));if(b.target===t&&x&&(d("ANIMATION_END"),!i.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",f=v.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=b=>{b.target===t&&(o.current=af(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{v.clearTimeout(f),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:z.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function af(e){return e?.animationName||"none"}function YJ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function QJ(e){const t=JJ(e),r=z.forwardRef((n,i)=>{const{children:o,...l}=n,u=z.Children.toArray(o),d=u.find(tee);if(d){const f=d.props.children,v=u.map(h=>h===d?z.Children.count(f)>1?z.Children.only(null):z.isValidElement(f)?f.props.children:null:h);return a.jsx(t,{...l,ref:i,children:z.isValidElement(f)?z.cloneElement(f,void 0,v):null})}return a.jsx(t,{...l,ref:i,children:o})});return r.displayName=`${e}.Slot`,r}function JJ(e){const t=z.forwardRef((r,n)=>{const{children:i,...o}=r;if(z.isValidElement(i)){const l=nee(i),u=ree(o,i.props);return i.type!==z.Fragment&&(u.ref=n?Sl(n,l):l),z.cloneElement(i,u)}return z.Children.count(i)>1?z.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eee=Symbol("radix.slottable");function tee(e){return z.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eee}function ree(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function nee(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var aee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Je=aee.reduce((e,t)=>{const r=QJ(`Primitive.${t}`),n=z.forwardRef((i,o)=>{const{asChild:l,...u}=i,d=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...u,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function iee(e,t){e&&Nu.flushSync(()=>e.dispatchEvent(t))}var jh="Checkbox",[oee]=Ro(jh),[see,K1]=oee(jh);function lee(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:i,disabled:o,form:l,name:u,onCheckedChange:d,required:f,value:v="on",internal_do_not_use_render:h}=e,[m,b]=sl({prop:r,defaultProp:i??!1,onChange:d,caller:jh}),[w,x]=z.useState(null),[y,j]=z.useState(null),k=z.useRef(!1),S=w?!!l||!!w.closest("form"):!0,N={checked:m,disabled:o,setChecked:b,control:w,setControl:x,name:u,form:l,value:v,hasConsumerStoppedPropagationRef:k,required:f,defaultChecked:zi(i)?!1:i,isFormControl:S,bubbleInput:y,setBubbleInput:j};return a.jsx(see,{scope:t,...N,children:cee(h)?h(N):n})}var sI="CheckboxTrigger",lI=z.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},i)=>{const{control:o,value:l,disabled:u,checked:d,required:f,setControl:v,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:b,bubbleInput:w}=K1(sI,e),x=Mt(i,v),y=z.useRef(d);return z.useEffect(()=>{const j=o?.form;if(j){const k=()=>h(y.current);return j.addEventListener("reset",k),()=>j.removeEventListener("reset",k)}},[o,h]),a.jsx(Je.button,{type:"button",role:"checkbox","aria-checked":zi(d)?"mixed":d,"aria-required":f,"data-state":hI(d),"data-disabled":u?"":void 0,disabled:u,value:l,...n,ref:x,onKeyDown:Qe(t,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:Qe(r,j=>{h(k=>zi(k)?!0:!k),w&&b&&(m.current=j.isPropagationStopped(),m.current||j.stopPropagation())})})});lI.displayName=sI;var cI=z.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:o,required:l,disabled:u,value:d,onCheckedChange:f,form:v,...h}=e;return a.jsx(lee,{__scopeCheckbox:r,checked:i,defaultChecked:o,disabled:u,required:l,onCheckedChange:f,name:n,form:v,value:d,internal_do_not_use_render:({isFormControl:m})=>a.jsxs(a.Fragment,{children:[a.jsx(lI,{...h,ref:t,__scopeCheckbox:r}),m&&a.jsx(pI,{__scopeCheckbox:r})]})})});cI.displayName=jh;var uI="CheckboxIndicator",dI=z.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,o=K1(uI,r);return a.jsx(wl,{present:n||zi(o.checked)||o.checked===!0,children:a.jsx(Je.span,{"data-state":hI(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});dI.displayName=uI;var fI="CheckboxBubbleInput",pI=z.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:l,required:u,disabled:d,name:f,value:v,form:h,bubbleInput:m,setBubbleInput:b}=K1(fI,e),w=Mt(r,b),x=iI(o),y=oI(n);z.useEffect(()=>{const k=m;if(!k)return;const S=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(S,"checked").set,O=!i.current;if(x!==o&&A){const _=new Event("click",{bubbles:O});k.indeterminate=zi(o),A.call(k,zi(o)?!1:o),k.dispatchEvent(_)}},[m,x,o,i]);const j=z.useRef(zi(o)?!1:o);return a.jsx(Je.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??j.current,required:u,disabled:d,name:f,value:v,form:h,...t,tabIndex:-1,ref:w,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});pI.displayName=fI;function cee(e){return typeof e=="function"}function zi(e){return e==="indeterminate"}function hI(e){return zi(e)?"indeterminate":e?"checked":"unchecked"}const uee=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},dee=(e,t)=>({classGroupId:e,validator:t}),vI=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),zp="-",eO=[],fee="arbitrary..",pee=e=>{const t=vee(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return hee(l);const u=l.split(zp),d=u[0]===""&&u.length>1?1:0;return mI(u,d,t)},getConflictingClassGroupIds:(l,u)=>{if(u){const d=n[l],f=r[l];return d?f?uee(f,d):d:f||eO}return r[l]||eO}}},mI=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const i=e[t],o=r.nextPart.get(i);if(o){const f=mI(e,t+1,o);if(f)return f}const l=r.validators;if(l===null)return;const u=t===0?e.join(zp):e.slice(t).join(zp),d=l.length;for(let f=0;f<d;f++){const v=l[f];if(v.validator(u))return v.classGroupId}},hee=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?fee+n:void 0})(),vee=e=>{const{theme:t,classGroups:r}=e;return mee(r,t)},mee=(e,t)=>{const r=vI();for(const n in e){const i=e[n];G1(i,r,n,t)}return r},G1=(e,t,r,n)=>{const i=e.length;for(let o=0;o<i;o++){const l=e[o];gee(l,t,r,n)}},gee=(e,t,r,n)=>{if(typeof e=="string"){yee(e,t,r);return}if(typeof e=="function"){xee(e,t,r,n);return}bee(e,t,r,n)},yee=(e,t,r)=>{const n=e===""?t:gI(t,e);n.classGroupId=r},xee=(e,t,r,n)=>{if(See(e)){G1(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(dee(r,e))},bee=(e,t,r,n)=>{const i=Object.entries(e),o=i.length;for(let l=0;l<o;l++){const[u,d]=i[l];G1(d,gI(t,u),r,n)}},gI=(e,t)=>{let r=e;const n=t.split(zp),i=n.length;for(let o=0;o<i;o++){const l=n[o];let u=r.nextPart.get(l);u||(u=vI(),r.nextPart.set(l,u)),r=u}return r},See=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,wee=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const i=(o,l)=>{r[o]=l,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(o){let l=r[o];if(l!==void 0)return l;if((l=n[o])!==void 0)return i(o,l),l},set(o,l){o in r?r[o]=l:i(o,l)}}},SS="!",tO=":",jee=[],rO=(e,t,r,n,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:i}),kee=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=i=>{const o=[];let l=0,u=0,d=0,f;const v=i.length;for(let x=0;x<v;x++){const y=i[x];if(l===0&&u===0){if(y===tO){o.push(i.slice(d,x)),d=x+1;continue}if(y==="/"){f=x;continue}}y==="["?l++:y==="]"?l--:y==="("?u++:y===")"&&u--}const h=o.length===0?i:i.slice(d);let m=h,b=!1;h.endsWith(SS)?(m=h.slice(0,-1),b=!0):h.startsWith(SS)&&(m=h.slice(1),b=!0);const w=f&&f>d?f-d:void 0;return rO(o,b,m,w)};if(t){const i=t+tO,o=n;n=l=>l.startsWith(i)?o(l.slice(i.length)):rO(jee,!1,l,void 0,!0)}if(r){const i=n;n=o=>r({className:o,parseClassName:i})}return n},Cee=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let i=[];for(let o=0;o<r.length;o++){const l=r[o],u=l[0]==="[",d=t.has(l);u||d?(i.length>0&&(i.sort(),n.push(...i),i=[]),n.push(l)):i.push(l)}return i.length>0&&(i.sort(),n.push(...i)),n}},zee=e=>({cache:wee(e.cacheSize),parseClassName:kee(e),sortModifiers:Cee(e),...pee(e)}),Aee=/\s+/,Nee=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:o}=t,l=[],u=e.trim().split(Aee);let d="";for(let f=u.length-1;f>=0;f-=1){const v=u[f],{isExternal:h,modifiers:m,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:x}=r(v);if(h){d=v+(d.length>0?" "+d:d);continue}let y=!!x,j=n(y?w.substring(0,x):w);if(!j){if(!y){d=v+(d.length>0?" "+d:d);continue}if(j=n(w),!j){d=v+(d.length>0?" "+d:d);continue}y=!1}const k=m.length===0?"":m.length===1?m[0]:o(m).join(":"),S=b?k+SS:k,N=S+j;if(l.indexOf(N)>-1)continue;l.push(N);const A=i(j,y);for(let O=0;O<A.length;++O){const _=A[O];l.push(S+_)}d=v+(d.length>0?" "+d:d)}return d},Pee=(...e)=>{let t=0,r,n,i="";for(;t<e.length;)(r=e[t++])&&(n=yI(r))&&(i&&(i+=" "),i+=n);return i},yI=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=yI(e[n]))&&(r&&(r+=" "),r+=t);return r},_ee=(e,...t)=>{let r,n,i,o;const l=d=>{const f=t.reduce((v,h)=>h(v),e());return r=zee(f),n=r.cache.get,i=r.cache.set,o=u,u(d)},u=d=>{const f=n(d);if(f)return f;const v=Nee(d,r);return i(d,v),v};return o=l,(...d)=>o(Pee(...d))},Oee=[],sr=e=>{const t=r=>r[e]||Oee;return t.isThemeGetter=!0,t},xI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,bI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Eee=/^\d+\/\d+$/,Tee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Dee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ree=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Iee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Mee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,us=e=>Eee.test(e),Ze=e=>!!e&&!Number.isNaN(Number(e)),vi=e=>!!e&&Number.isInteger(Number(e)),Pb=e=>e.endsWith("%")&&Ze(e.slice(0,-1)),_a=e=>Tee.test(e),Lee=()=>!0,Bee=e=>Dee.test(e)&&!Ree.test(e),SI=()=>!1,Fee=e=>Iee.test(e),Wee=e=>Mee.test(e),$ee=e=>!_e(e)&&!Oe(e),Uee=e=>jl(e,kI,SI),_e=e=>xI.test(e),ao=e=>jl(e,CI,Bee),_b=e=>jl(e,qee,Ze),nO=e=>jl(e,wI,SI),Hee=e=>jl(e,jI,Wee),of=e=>jl(e,zI,Fee),Oe=e=>bI.test(e),yc=e=>kl(e,CI),Kee=e=>kl(e,Zee),aO=e=>kl(e,wI),Gee=e=>kl(e,kI),Vee=e=>kl(e,jI),sf=e=>kl(e,zI,!0),jl=(e,t,r)=>{const n=xI.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},kl=(e,t,r=!1)=>{const n=bI.exec(e);return n?n[1]?t(n[1]):r:!1},wI=e=>e==="position"||e==="percentage",jI=e=>e==="image"||e==="url",kI=e=>e==="length"||e==="size"||e==="bg-size",CI=e=>e==="length",qee=e=>e==="number",Zee=e=>e==="family-name",zI=e=>e==="shadow",Xee=()=>{const e=sr("color"),t=sr("font"),r=sr("text"),n=sr("font-weight"),i=sr("tracking"),o=sr("leading"),l=sr("breakpoint"),u=sr("container"),d=sr("spacing"),f=sr("radius"),v=sr("shadow"),h=sr("inset-shadow"),m=sr("text-shadow"),b=sr("drop-shadow"),w=sr("blur"),x=sr("perspective"),y=sr("aspect"),j=sr("ease"),k=sr("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...N(),Oe,_e],O=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],T=()=>[Oe,_e,d],E=()=>[us,"full","auto",...T()],D=()=>[vi,"none","subgrid",Oe,_e],I=()=>["auto",{span:["full",vi,Oe,_e]},vi,Oe,_e],L=()=>[vi,"auto",Oe,_e],M=()=>["auto","min","max","fr",Oe,_e],V=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],H=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...T()],X=()=>[us,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],W=()=>[e,Oe,_e],F=()=>[...N(),aO,nO,{position:[Oe,_e]}],Y=()=>["no-repeat",{repeat:["","x","y","space","round"]}],$=()=>["auto","cover","contain",Gee,Uee,{size:[Oe,_e]}],B=()=>[Pb,yc,ao],re=()=>["","none","full",f,Oe,_e],le=()=>["",Ze,yc,ao],pe=()=>["solid","dashed","dotted","double"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>[Ze,Pb,aO,nO],ye=()=>["","none",w,Oe,_e],ie=()=>["none",Ze,Oe,_e],ve=()=>["none",Ze,Oe,_e],we=()=>[Ze,Oe,_e],ce=()=>[us,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[_a],breakpoint:[_a],color:[Lee],container:[_a],"drop-shadow":[_a],ease:["in","out","in-out"],font:[$ee],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[_a],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[_a],shadow:[_a],spacing:["px",Ze],text:[_a],"text-shadow":[_a],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",us,_e,Oe,y]}],container:["container"],columns:[{columns:[Ze,_e,Oe,u]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[vi,"auto",Oe,_e]}],basis:[{basis:[us,"full","auto",u,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ze,us,"auto","initial","none",_e]}],grow:[{grow:["",Ze,Oe,_e]}],shrink:[{shrink:["",Ze,Oe,_e]}],order:[{order:[vi,"first","last","none",Oe,_e]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":M()}],"auto-rows":[{"auto-rows":M()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...V(),"normal"]}],"justify-items":[{"justify-items":[...H(),"normal"]}],"justify-self":[{"justify-self":["auto",...H()]}],"align-content":[{content:["normal",...V()]}],"align-items":[{items:[...H(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...H(),{baseline:["","last"]}]}],"place-content":[{"place-content":V()}],"place-items":[{"place-items":[...H(),"baseline"]}],"place-self":[{"place-self":["auto",...H()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[u,"screen",...X()]}],"min-w":[{"min-w":[u,"screen","none",...X()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",r,yc,ao]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Oe,_b]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Pb,_e]}],"font-family":[{font:[Kee,_e,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Oe,_e]}],"line-clamp":[{"line-clamp":[Ze,"none",Oe,_b]}],leading:[{leading:[o,...T()]}],"list-image":[{"list-image":["none",Oe,_e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Oe,_e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ze,"from-font","auto",Oe,ao]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[Ze,"auto",Oe,_e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Oe,_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Oe,_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:F()}],"bg-repeat":[{bg:Y()}],"bg-size":[{bg:$()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},vi,Oe,_e],radial:["",Oe,_e],conic:[vi,Oe,_e]},Vee,Hee]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...pe(),"hidden","none"]}],"divide-style":[{divide:[...pe(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ze,Oe,_e]}],"outline-w":[{outline:["",Ze,yc,ao]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",v,sf,of]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",h,sf,of]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[Ze,ao]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",m,sf,of]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[Ze,Oe,_e]}],"mix-blend":[{"mix-blend":[...se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":se()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":ne()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":ne()}],"mask-image-t-to-pos":[{"mask-t-to":ne()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":ne()}],"mask-image-r-to-pos":[{"mask-r-to":ne()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":ne()}],"mask-image-b-to-pos":[{"mask-b-to":ne()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":ne()}],"mask-image-l-to-pos":[{"mask-l-to":ne()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":ne()}],"mask-image-x-to-pos":[{"mask-x-to":ne()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":ne()}],"mask-image-y-to-pos":[{"mask-y-to":ne()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[Oe,_e]}],"mask-image-radial-from-pos":[{"mask-radial-from":ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":ne()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[Ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":ne()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:F()}],"mask-repeat":[{mask:Y()}],"mask-size":[{mask:$()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Oe,_e]}],filter:[{filter:["","none",Oe,_e]}],blur:[{blur:ye()}],brightness:[{brightness:[Ze,Oe,_e]}],contrast:[{contrast:[Ze,Oe,_e]}],"drop-shadow":[{"drop-shadow":["","none",b,sf,of]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",Ze,Oe,_e]}],"hue-rotate":[{"hue-rotate":[Ze,Oe,_e]}],invert:[{invert:["",Ze,Oe,_e]}],saturate:[{saturate:[Ze,Oe,_e]}],sepia:[{sepia:["",Ze,Oe,_e]}],"backdrop-filter":[{"backdrop-filter":["","none",Oe,_e]}],"backdrop-blur":[{"backdrop-blur":ye()}],"backdrop-brightness":[{"backdrop-brightness":[Ze,Oe,_e]}],"backdrop-contrast":[{"backdrop-contrast":[Ze,Oe,_e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ze,Oe,_e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ze,Oe,_e]}],"backdrop-invert":[{"backdrop-invert":["",Ze,Oe,_e]}],"backdrop-opacity":[{"backdrop-opacity":[Ze,Oe,_e]}],"backdrop-saturate":[{"backdrop-saturate":[Ze,Oe,_e]}],"backdrop-sepia":[{"backdrop-sepia":["",Ze,Oe,_e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Oe,_e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ze,"initial",Oe,_e]}],ease:[{ease:["linear","initial",j,Oe,_e]}],delay:[{delay:[Ze,Oe,_e]}],animate:[{animate:["none",k,Oe,_e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Oe,_e]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:ie()}],"rotate-x":[{"rotate-x":ie()}],"rotate-y":[{"rotate-y":ie()}],"rotate-z":[{"rotate-z":ie()}],scale:[{scale:ve()}],"scale-x":[{"scale-x":ve()}],"scale-y":[{"scale-y":ve()}],"scale-z":[{"scale-z":ve()}],"scale-3d":["scale-3d"],skew:[{skew:we()}],"skew-x":[{"skew-x":we()}],"skew-y":[{"skew-y":we()}],transform:[{transform:[Oe,_e,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ce()}],"translate-x":[{"translate-x":ce()}],"translate-y":[{"translate-y":ce()}],"translate-z":[{"translate-z":ce()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Oe,_e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Oe,_e]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[Ze,yc,ao,_b]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Yee=_ee(Xee);function $t(...e){return Yee(He(e))}function iO({className:e,...t}){return a.jsx(cI,{"data-slot":"checkbox",className:$t("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(dI,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:a.jsx(Ka,{className:"size-3.5"})})})}function Qee({variable:e}){return a.jsxs("div",{style:{maxWidth:"320px",backgroundColor:"white",border:"1px solid var(--border-primary)",borderRadius:"var(--radius-lg)",boxShadow:"0 6px 16px rgba(0,0,0,0.2)",padding:"12px",fontSize:"var(--font-size-xs)",lineHeight:"1.4"},children:[a.jsx("div",{style:{fontFamily:"monospace",fontWeight:"var(--font-weight-semibold)",color:"var(--brand-primary)",marginBottom:"8px",fontSize:"var(--font-size-sm)"},children:e.variable}),e.definition&&a.jsxs("div",{style:{marginBottom:"8px"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",marginBottom:"4px"},children:"Definition"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-primary)",lineHeight:"1.5"},children:e.definition})]}),e.calculation&&a.jsxs("div",{style:{marginBottom:"8px"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",marginBottom:"4px"},children:"Calculation"}),a.jsx("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-xs)",backgroundColor:"var(--background-subtle)",padding:"6px",borderRadius:"var(--radius-md)",color:"var(--text-primary)",overflowX:"auto"},children:e.calculation})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr",gap:"8px 12px",fontSize:"var(--font-size-xs)",marginBottom:"8px"},children:[e.sourceTable&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{color:"var(--text-muted)",fontWeight:"var(--font-weight-medium)"},children:"Source Table:"}),a.jsx("div",{style:{color:"var(--text-primary)"},children:e.sourceTable})]}),a.jsx("div",{style:{color:"var(--text-muted)",fontWeight:"var(--font-weight-medium)"},children:"Planning Level:"}),a.jsx("div",{style:{color:"var(--text-primary)"},children:e.planningLevel}),e.lastUpdate&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{color:"var(--text-muted)",fontWeight:"var(--font-weight-medium)"},children:"Last Update:"}),a.jsx("div",{style:{color:"var(--text-primary)"},children:e.lastUpdate})]})]}),e.exampleValues&&e.exampleValues.length>0&&a.jsxs("div",{style:{paddingTop:"8px",borderTop:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",marginBottom:"4px"},children:"Example Values"}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:e.exampleValues.map((t,r)=>a.jsx("span",{style:{fontSize:"var(--font-size-xs)",backgroundColor:"var(--background-subtle)",padding:"2px 6px",borderRadius:"var(--radius-sm)",color:"var(--text-secondary)",fontFamily:"monospace"},children:t},r))})]})]})}function Jee({metricName:e,context:t,formula:r,secondaryFormulas:n,variables:i,derivationMethod:o,fallback:l,dataTimestamp:u,snapshotId:d,sourceSystem:f,position:v="top"}){const[h,m]=z.useState(null),[b,w]=z.useState({x:0,y:0}),x=(y,j)=>{m(y);const k=j.target.getBoundingClientRect();w({x:k.right+8,y:k.top})};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"absolute z-50",style:{maxWidth:"420px",backgroundColor:"white",border:"1px solid var(--border-subtle)",borderRadius:"var(--radius-lg)",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",padding:"16px",fontSize:"var(--font-size-xs)",lineHeight:"1.4"},children:[a.jsxs("div",{style:{marginBottom:"12px",paddingBottom:"12px",borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)",marginBottom:"4px"},children:e}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:t})]}),a.jsxs("div",{style:{marginBottom:"12px"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",marginBottom:"6px"},children:"Formula"}),a.jsx("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-xs)",backgroundColor:"var(--background-subtle)",padding:"8px",borderRadius:"var(--radius-md)",color:"var(--text-primary)",overflowX:"auto"},children:r}),n&&n.map((y,j)=>a.jsx("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-xs)",backgroundColor:"var(--background-subtle)",padding:"8px",borderRadius:"var(--radius-md)",color:"var(--text-primary)",marginTop:"4px",overflowX:"auto"},children:y},j))]}),a.jsxs("div",{style:{marginBottom:"12px"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",marginBottom:"6px"},children:"Variable Breakdown"}),a.jsxs("table",{style:{width:"100%",fontSize:"var(--font-size-xs)",borderCollapse:"collapse"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)",backgroundColor:"var(--background-subtle)"},children:[a.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontWeight:"var(--font-weight-medium)"},children:"Variable"}),a.jsx("th",{style:{padding:"6px 8px",textAlign:"right",fontWeight:"var(--font-weight-medium)"},children:"Value"}),a.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontWeight:"var(--font-weight-medium)"},children:"Unit"}),a.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontWeight:"var(--font-weight-medium)"},children:"Source"}),a.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontWeight:"var(--font-weight-medium)"},children:"Level"})]})}),a.jsx("tbody",{children:i.map((y,j)=>a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)",cursor:y.definition?"pointer":"default"},onMouseEnter:k=>y.definition&&x(y,k),onMouseLeave:()=>m(null),children:[a.jsx("td",{style:{padding:"6px 8px",fontFamily:"monospace",color:"var(--text-primary)",textDecoration:y.definition?"underline dotted":"none"},children:y.variable}),a.jsx("td",{style:{padding:"6px 8px",textAlign:"right",fontWeight:"var(--font-weight-medium)",color:"var(--text-primary)"},children:typeof y.value=="number"?y.value.toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2}):y.value}),a.jsx("td",{style:{padding:"6px 8px",color:"var(--text-secondary)"},children:y.unit}),a.jsx("td",{style:{padding:"6px 8px",color:"var(--text-secondary)"},children:y.source}),a.jsx("td",{style:{padding:"6px 8px",color:"var(--text-secondary)"},children:y.planningLevel})]},j))})]})]}),a.jsxs("div",{style:{marginBottom:"12px"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",marginBottom:"6px"},children:"Derivation Method"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-primary)",lineHeight:"1.5"},children:o}),l&&a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-warning)",marginTop:"4px",fontStyle:"italic"},children:["Fallback: ",l]})]}),a.jsx("div",{style:{paddingTop:"12px",borderTop:"1px solid var(--border-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:a.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap"},children:[a.jsxs("div",{children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"Timestamp: "}),u]}),a.jsxs("div",{children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"Snapshot: "}),d]}),a.jsxs("div",{children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"Source: "}),f]})]})})]}),h&&h.definition&&a.jsx("div",{style:{position:"fixed",left:`${b.x}px`,top:`${b.y}px`,zIndex:60},children:a.jsx(Qee,{variable:h})})]})}function xc({children:e,tooltipProps:t,isDerived:r=!1,isPlanned:n=!1}){const[i,o]=z.useState(!1),[l,u]=z.useState({x:0,y:0}),d=f=>{const v=f.currentTarget.getBoundingClientRect();u({x:v.left,y:v.bottom+8}),o(!0)};return a.jsxs("span",{style:{position:"relative",textDecoration:r?"underline dashed":n?"underline solid":"none",textUnderlineOffset:"2px",cursor:"help",display:"inline-flex",alignItems:"center",gap:"4px"},onMouseEnter:d,onMouseLeave:()=>o(!1),children:[e,r&&a.jsx(Qt,{size:12,style:{color:"var(--text-muted)"}}),i&&a.jsx("div",{style:{position:"fixed",left:`${l.x}px`,top:`${l.y}px`,zIndex:50},children:a.jsx(Jee,{...t})})]})}function ete({product:e,onClose:t}){const[r,n]=z.useState("overview"),i=[{name:e.productName,"SOLL Capacity":e.capSollProduct,"Forecast Space":e.forecastSpaceDemand,"Projected Space":e.projectedSpace}],o={metricName:"Derived Product SOLL Capacity",context:`${e.productName} @ ${e.store}`,formula:"Cap_soll(s,i) = Share_soll(s,i)  Cap_soll(s,PG)",variables:[{variable:"Cap_soll(s,PG)",value:e.capSollProductGroup,unit:"m",source:"Capacity Planning",planningLevel:"Product Group"},{variable:"Share_soll(s,i)",value:e.shareSoll,unit:"%",source:"Forecast Engine",planningLevel:"Product",definition:"Forecast-based share of product within product group",calculation:"Share_soll(s,i) = ForecastQty(s,i) /  ForecastQty(s,j  PG)",sourceTable:"forecast.product_shares",lastUpdate:e.dataTimestamp},{variable:"Result",value:e.capSollProduct,unit:"m",source:"Calculated",planningLevel:"Product"}],derivationMethod:"Product SOLL is derived proportionally from Product Group capacity based on forecast share.",dataTimestamp:e.dataTimestamp,snapshotId:e.snapshotId,sourceSystem:e.sourceSystem},l={metricName:"Space per Unit",context:`${e.productName}`,formula:"p_i = p_base(type)  m_thickness  m_presentation",variables:[{variable:"p_base",value:e.pBase,unit:"m",source:"Fixture Model",planningLevel:"Product Type",definition:"Base space requirement per unit based on fixture type",sourceTable:"master.fixture_types",lastUpdate:e.dataTimestamp},{variable:"m_thickness",value:e.mThickness,unit:"factor",source:"Product Attribute",planningLevel:"Product",definition:"Thickness modifier based on product dimensions",sourceTable:"master.products",lastUpdate:e.dataTimestamp},{variable:"m_presentation",value:e.mPresentation,unit:"factor",source:"Presentation Rule",planningLevel:"Store",definition:"Presentation modifier for store-specific display requirements",sourceTable:"config.presentation_rules",lastUpdate:e.dataTimestamp},{variable:"Result",value:e.spacePerUnit,unit:"m/unit",source:"Calculated",planningLevel:"Product"}],derivationMethod:"Space per unit is calculated from base fixture type and product-specific presentation modifiers.",dataTimestamp:e.dataTimestamp,snapshotId:e.snapshotId,sourceSystem:e.sourceSystem},u={metricName:"Forecast Space Demand",context:`${e.productName} @ ${e.store}`,formula:"SpaceNeed_fcst(s,i) = ForecastQty(s,i)  p_i",variables:[{variable:"ForecastQty(s,i)",value:e.forecastQty,unit:"units",source:"Forecast System",planningLevel:"Product",definition:"Forecasted sales quantity for product at store",calculation:"ForecastQty(s,i) =  ForecastSales(s,i,t)",sourceTable:"forecast.product_forecast",lastUpdate:e.dataTimestamp,exampleValues:["1240","1180","1350"]},{variable:"p_i",value:e.spacePerUnit,unit:"m/unit",source:"Parameter Model",planningLevel:"Product"},{variable:"Result",value:e.forecastSpaceDemand,unit:"m",source:"Calculated",planningLevel:"Product"}],derivationMethod:"Projected space requirement based on forecasted sales volume.",dataTimestamp:e.dataTimestamp,snapshotId:e.snapshotId,sourceSystem:e.sourceSystem},d={metricName:"Projected Space Usage",context:`${e.productName} @ ${e.store}`,formula:"ProjectedSpace(s,i) = (OnHand(s,i) + Inbound(s,i) + Reserved(s,i))  p_i",variables:[{variable:"OnHand",value:e.onHand,unit:"units",source:"Inventory",planningLevel:"Store",definition:"Current on-hand inventory at store",sourceTable:"inventory.stock_levels",lastUpdate:e.dataTimestamp},{variable:"Inbound",value:e.inbound,unit:"units",source:"Logistics",planningLevel:"Store",definition:"Inbound shipments in transit to store",sourceTable:"logistics.inbound_shipments",lastUpdate:e.dataTimestamp},{variable:"Reserved",value:e.reserved,unit:"units",source:"Simulation",planningLevel:"Store",definition:"Reserved allocation from simulation",sourceTable:"simulation.allocations",lastUpdate:e.dataTimestamp},{variable:"p_i",value:e.spacePerUnit,unit:"m/unit",source:"Parameter Model",planningLevel:"Product"},{variable:"Result",value:e.projectedSpace,unit:"m",source:"Calculated",planningLevel:"Product"}],derivationMethod:"Projected space usage based on current and inbound inventory plus reserved allocation.",dataTimestamp:e.dataTimestamp,snapshotId:e.snapshotId,sourceSystem:e.sourceSystem},f={metricName:"Capacity Deviation",context:`${e.productName} @ ${e.store}`,formula:"Deviation(s,i) = ProjectedSpace(s,i)  Cap_soll(s,i)",variables:[{variable:"ProjectedSpace(s,i)",value:e.projectedSpace,unit:"m",source:"Calculated",planningLevel:"Product"},{variable:"Cap_soll(s,i)",value:e.capSollProduct,unit:"m",source:"Derived",planningLevel:"Product"},{variable:"Deviation",value:e.deviation,unit:"m",source:"Calculated",planningLevel:"Product"}],derivationMethod:"Capacity risk is evaluated against derived product-level SOLL capacity.",secondaryFormulas:["Status Logic:","  Deviation  0  OK","  0 < Deviation  SoftZone  Warning","  Deviation > SoftZone  Capacity Violation"],dataTimestamp:e.dataTimestamp,snapshotId:e.snapshotId,sourceSystem:e.sourceSystem},v=()=>{switch(e.status){case"OK":return a.jsx(dn,{size:16,style:{color:"var(--status-success)"}});case"Warning":return a.jsx(Ft,{size:16,style:{color:"var(--status-warning)"}});case"Capacity Violation":return a.jsx(Ft,{size:16,style:{color:"var(--status-error)"}})}},h=()=>{switch(e.status){case"OK":return"var(--status-success)";case"Warning":return"var(--status-warning)";case"Capacity Violation":return"var(--status-error)"}};return a.jsxs("div",{style:{position:"fixed",top:0,right:0,width:"900px",height:"100vh",backgroundColor:"white",borderLeft:"1px solid var(--border-subtle)",zIndex:100,display:"flex",flexDirection:"column",boxShadow:"-4px 0 24px rgba(0,0,0,0.1)"},children:[a.jsxs("div",{style:{padding:"24px",borderBottom:"1px solid var(--border-subtle)",display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[a.jsxs("div",{children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[a.jsx("h2",{style:{margin:0,color:"var(--text-primary)"},children:e.productName}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",padding:"4px 8px",borderRadius:"var(--radius-sm)",backgroundColor:"var(--background-subtle)",color:"var(--text-muted)"},children:e.productNumber})]}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[e.brand,"  ",e.productGroup,"  ",e.store]})]}),a.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",color:"var(--text-muted)"},children:a.jsx(Et,{size:20})})]}),a.jsx("div",{style:{display:"flex",gap:"4px",padding:"0 24px",borderBottom:"1px solid var(--border-subtle)"},children:["overview","drivers","chart"].map(m=>a.jsx("button",{onClick:()=>n(m),style:{padding:"12px 16px",background:"none",border:"none",borderBottom:r===m?"2px solid var(--brand-primary)":"2px solid transparent",cursor:"pointer",color:r===m?"var(--brand-primary)":"var(--text-muted)",fontWeight:r===m?"var(--font-weight-semibold)":"var(--font-weight-regular)",textTransform:"capitalize"},children:m==="overview"?"Overview":m==="drivers"?"Input Drivers":"Visualization"},m))}),a.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:[r==="overview"&&a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"16px",color:"var(--text-primary)"},children:"Key Metrics"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:[a.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--background-subtle)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"SOLL Capacity"}),a.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"8px"},children:[a.jsx(xc,{tooltipProps:o,isDerived:!0,children:a.jsx("span",{style:{fontSize:"var(--font-size-2xl)",color:"var(--text-primary)"},children:e.capSollProduct.toFixed(2)})}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"m"})]}),a.jsx("div",{style:{marginTop:"8px",fontSize:"var(--font-size-xs)",padding:"4px 8px",backgroundColor:"var(--brand-primary-10)",color:"var(--brand-primary)",borderRadius:"var(--radius-sm)",display:"inline-block"},children:"Derived"})]}),a.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--background-subtle)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Projected Space"}),a.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"8px"},children:[a.jsx(xc,{tooltipProps:d,isDerived:!0,children:a.jsx("span",{style:{fontSize:"var(--font-size-2xl)",color:"var(--text-primary)"},children:e.projectedSpace.toFixed(2)})}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"m"})]})]}),a.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--background-subtle)",borderRadius:"var(--radius-lg)",border:`1px solid ${h()}`},children:[a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:["Capacity Deviation",v()]}),a.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"8px"},children:[a.jsx(xc,{tooltipProps:f,isDerived:!0,children:a.jsxs("span",{style:{fontSize:"var(--font-size-2xl)",color:h()},children:[e.deviation>0?"+":"",e.deviation.toFixed(2)]})}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"m"})]}),a.jsx("div",{style:{marginTop:"8px",fontSize:"var(--font-size-xs)",color:h(),fontWeight:"var(--font-weight-medium)"},children:e.status})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"16px",color:"var(--text-primary)"},children:"Space Parameters"}),a.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--background-subtle)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-subtle)"},children:[a.jsxs("div",{style:{marginBottom:"12px"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Space per Unit"}),a.jsx(xc,{tooltipProps:l,isDerived:!0,children:a.jsxs("span",{style:{fontSize:"var(--font-size-lg)",color:"var(--text-primary)"},children:[e.spacePerUnit.toFixed(4)," m/unit"]})})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",marginTop:"16px"},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Base Space"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:[e.pBase.toFixed(4)," m"]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Thickness Factor"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:e.mThickness.toFixed(2)})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Presentation Factor"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:e.mPresentation.toFixed(2)})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"16px",color:"var(--text-primary)"},children:"Forecast Information"}),a.jsx("div",{style:{padding:"16px",backgroundColor:"var(--background-subtle)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-subtle)"},children:a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Forecast Quantity"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",color:"var(--text-primary)"},children:[e.forecastQty.toLocaleString("de-DE")," units"]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Forecast Space Demand"}),a.jsx(xc,{tooltipProps:u,isDerived:!0,children:a.jsxs("span",{style:{fontSize:"var(--font-size-lg)",color:"var(--text-primary)"},children:[e.forecastSpaceDemand.toFixed(2)," m"]})})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Forecast Version"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--brand-primary)",padding:"4px 8px",backgroundColor:"var(--brand-primary-10)",borderRadius:"var(--radius-sm)",display:"inline-block"},children:e.forecastVersion})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Forecast Horizon"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:e.forecastHorizon})]})]})})]})]}),r==="drivers"&&a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"16px",color:"var(--text-primary)"},children:"Input Drivers"}),a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"var(--font-size-sm)"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"2px solid var(--border-subtle)",backgroundColor:"var(--background-subtle)"},children:[a.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"var(--font-weight-semibold)"},children:"Driver"}),a.jsx("th",{style:{padding:"12px",textAlign:"right",fontWeight:"var(--font-weight-semibold)"},children:"Value"}),a.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"var(--font-weight-semibold)"},children:"Unit"}),a.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"var(--font-weight-semibold)"},children:"Source"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{style:{padding:"12px",color:"var(--text-primary)"},children:"On Hand Inventory"}),a.jsx("td",{style:{padding:"12px",textAlign:"right",color:"var(--text-primary)"},children:e.onHand.toLocaleString("de-DE")}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"units"}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"Inventory System"})]}),a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{style:{padding:"12px",color:"var(--text-primary)"},children:"Inbound Shipments"}),a.jsx("td",{style:{padding:"12px",textAlign:"right",color:"var(--text-primary)"},children:e.inbound.toLocaleString("de-DE")}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"units"}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"Logistics System"})]}),a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{style:{padding:"12px",color:"var(--text-primary)"},children:"Reserved Allocation"}),a.jsx("td",{style:{padding:"12px",textAlign:"right",color:"var(--text-primary)"},children:e.reserved.toLocaleString("de-DE")}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"units"}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"Simulation Engine"})]}),a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)",backgroundColor:"var(--background-subtle)"},children:[a.jsx("td",{style:{padding:"12px",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:"Forecast Quantity"}),a.jsx("td",{style:{padding:"12px",textAlign:"right",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:e.forecastQty.toLocaleString("de-DE")}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"units"}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"Forecast System"})]}),a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{style:{padding:"12px",color:"var(--text-primary)"},children:"PG SOLL Capacity"}),a.jsx("td",{style:{padding:"12px",textAlign:"right",color:"var(--text-primary)"},children:e.capSollProductGroup.toFixed(2)}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"m"}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"Capacity Planning"})]}),a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{style:{padding:"12px",color:"var(--text-primary)"},children:"Forecast Share"}),a.jsx("td",{style:{padding:"12px",textAlign:"right",color:"var(--text-primary)"},children:(e.shareSoll*100).toFixed(2)}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"%"}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"Forecast Engine"})]})]})]})]}),r==="chart"&&a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"16px",color:"var(--text-primary)"},children:"Capacity Visualization"}),a.jsx("div",{style:{height:"400px",marginBottom:"24px"},children:a.jsx(Yt,{width:"100%",height:"100%",children:a.jsxs(Pr,{data:i,layout:"vertical",children:[a.jsx(bt,{type:"number"}),a.jsx(St,{type:"category",dataKey:"name",width:150}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(Re,{dataKey:"SOLL Capacity",fill:"var(--brand-primary)"}),a.jsx(Re,{dataKey:"Forecast Space",fill:"#10b981"}),a.jsx(Re,{dataKey:"Projected Space",fill:h()})]})})}),a.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--background-subtle)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-subtle)"},children:[a.jsx("h4",{style:{marginBottom:"12px",color:"var(--text-primary)"},children:"Capacity Breakdown"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"SOLL Capacity (Target)"}),a.jsxs("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:[e.capSollProduct.toFixed(2)," m"]})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"Projected Space (Inventory + Inbound + Reserved)"}),a.jsxs("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:[e.projectedSpace.toFixed(2)," m"]})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"Forecast Space (Based on Sales Forecast)"}),a.jsxs("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:[e.forecastSpaceDemand.toFixed(2)," m"]})]}),a.jsxs("div",{style:{paddingTop:"12px",marginTop:"12px",borderTop:"1px solid var(--border-subtle)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:"Deviation"}),a.jsxs("span",{style:{fontWeight:"var(--font-weight-semibold)",color:h()},children:[e.deviation>0?"+":"",e.deviation.toFixed(2)," m (",e.status,")"]})]})]})]})]})]})]})}const oO=[{productNumber:"SKU-5001",productName:'Premium Winter Jacket "Alpine Pro"',brand:"OutdoorGear",productGroup:"Winterbekleidung",purchaseArea:"Sport & Outdoor",store:"Filiale Zrich HB",cluster:"A",season:"HW 2025",capSollProductGroup:24,shareSoll:.18,capSollProduct:4.32,pBase:.012,mThickness:1.3,mPresentation:1.1,spacePerUnit:.0172,forecastQty:1240,forecastSpaceDemand:21.33,onHand:180,inbound:60,reserved:40,projectedSpace:4.82,deviation:.5,status:"Warning",dataTimestamp:"2025-12-17 14:30:00",snapshotId:"SNAP-2025-12-17-001",sourceSystem:"BLICK Allocation Engine",forecastVersion:"FCast-2025-W50",forecastHorizon:"Q1 2025 (12 weeks)"},{productNumber:"SKU-5002",productName:'Running Shoes "Velocity Max"',brand:"SportLine",productGroup:"Schuhe",purchaseArea:"Sport & Outdoor",store:"Filiale Zrich HB",cluster:"A",season:"SW 2025",capSollProductGroup:18.5,shareSoll:.22,capSollProduct:4.07,pBase:.008,mThickness:1.2,mPresentation:1.05,spacePerUnit:.01008,forecastQty:890,forecastSpaceDemand:8.97,onHand:220,inbound:80,reserved:100,projectedSpace:4.03,deviation:-.04,status:"OK",dataTimestamp:"2025-12-17 14:30:00",snapshotId:"SNAP-2025-12-17-001",sourceSystem:"BLICK Allocation Engine",forecastVersion:"FCast-2025-W50",forecastHorizon:"Q2 2025 (12 weeks)"},{productNumber:"SKU-5003",productName:'Yoga Mat "Premium Eco"',brand:"FitnessPro",productGroup:"Fitnessausrstung",purchaseArea:"Sport & Outdoor",store:"Filiale Bern Westside",cluster:"B",season:"NOS - Never out of Stock",capSollProductGroup:12,shareSoll:.15,capSollProduct:1.8,pBase:.005,mThickness:1.1,mPresentation:1,spacePerUnit:.0055,forecastQty:450,forecastSpaceDemand:2.48,onHand:120,inbound:30,reserved:50,projectedSpace:1.1,deviation:-.7,status:"OK",dataTimestamp:"2025-12-17 14:30:00",snapshotId:"SNAP-2025-12-17-001",sourceSystem:"BLICK Allocation Engine",forecastVersion:"FCast-2025-W50",forecastHorizon:"Ongoing (NOS)"},{productNumber:"SKU-5004",productName:'Ski Goggles "Vision HD"',brand:"SnowTech",productGroup:"Winterausrstung",purchaseArea:"Sport & Outdoor",store:"Filiale Zrich HB",cluster:"A",season:"HW 2025",capSollProductGroup:8.5,shareSoll:.25,capSollProduct:2.13,pBase:.004,mThickness:1,mPresentation:1.15,spacePerUnit:.0046,forecastQty:680,forecastSpaceDemand:3.13,onHand:320,inbound:150,reserved:80,projectedSpace:2.53,deviation:.4,status:"Warning",dataTimestamp:"2025-12-17 14:30:00",snapshotId:"SNAP-2025-12-17-001",sourceSystem:"BLICK Allocation Engine",forecastVersion:"FCast-2025-W50",forecastHorizon:"Q1 2025 (12 weeks)"},{productNumber:"SKU-5005",productName:'Camping Tent "Family XL"',brand:"OutdoorGear",productGroup:"Camping",purchaseArea:"Sport & Outdoor",store:"Filiale Basel St. Johann",cluster:"B",season:"SW 2025",capSollProductGroup:28,shareSoll:.12,capSollProduct:3.36,pBase:.025,mThickness:1.5,mPresentation:1.2,spacePerUnit:.045,forecastQty:180,forecastSpaceDemand:8.1,onHand:45,inbound:20,reserved:30,projectedSpace:4.28,deviation:.92,status:"Capacity Violation",dataTimestamp:"2025-12-17 14:30:00",snapshotId:"SNAP-2025-12-17-001",sourceSystem:"BLICK Allocation Engine",forecastVersion:"FCast-2025-W50",forecastHorizon:"Q2 2025 (12 weeks)"},{productNumber:"SKU-5006",productName:'Basketball "Pro League"',brand:"SportLine",productGroup:"Ballsport",purchaseArea:"Sport & Outdoor",store:"Filiale Genf Cornavin",cluster:"A",season:"NOS - Never out of Stock",capSollProductGroup:6,shareSoll:.2,capSollProduct:1.2,pBase:.003,mThickness:1,mPresentation:1,spacePerUnit:.003,forecastQty:560,forecastSpaceDemand:1.68,onHand:280,inbound:90,reserved:50,projectedSpace:1.26,deviation:.06,status:"Warning",dataTimestamp:"2025-12-17 14:30:00",snapshotId:"SNAP-2025-12-17-001",sourceSystem:"BLICK Allocation Engine",forecastVersion:"FCast-2025-W50",forecastHorizon:"Ongoing (NOS)"}],ds=[{id:"zh-hb-running-shoes-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"SP-RUN-001",product:"Running Shoes Pro",brand:"Nike",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:23,targetCapacity:24,forecastSuggestion:24,inventory:460},{id:"zh-hb-hiking-shoes-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"SP-HIK-002",product:"Hiking Boots",brand:"Salomon",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:28,targetCapacity:28,forecastSuggestion:28,inventory:560},{id:"zh-hb-casual-shoes-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"SP-CAS-003",product:"Casual Sneakers",brand:"Adidas",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:27,targetCapacity:28,forecastSuggestion:27,inventory:540},{id:"zh-hb-winter-jacket-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AP-WIN-004",product:"Winter Jacket",brand:"The North Face",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:45,actualCapacity:43,targetCapacity:42,forecastSuggestion:40,inventory:860},{id:"zh-hb-fleece-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AP-FLE-005",product:"Fleece Pullover",brand:"Patagonia",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:35,actualCapacity:34,targetCapacity:33,forecastSuggestion:32,inventory:680},{id:"zh-hb-pants-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AP-PAN-006",product:"Sport Pants",brand:"Under Armour",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:29,targetCapacity:28,forecastSuggestion:27,inventory:580},{id:"zh-hb-socks-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AC-SOC-007",product:"Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:15,actualCapacity:13,targetCapacity:14,forecastSuggestion:13,inventory:260},{id:"zh-hb-backpack-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AC-BAC-008",product:"Backpack",brand:"Deuter",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:17,targetCapacity:19,forecastSuggestion:18,inventory:340},{id:"zh-hb-gloves-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AC-GLO-009",product:"Winter Gloves",brand:"The North Face",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:10,actualCapacity:8,targetCapacity:9,forecastSuggestion:9,inventory:160},{id:"zh-hb-smartwatch-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"EL-SMA-010",product:"Smartwatch",brand:"Garmin",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:18,targetCapacity:19,forecastSuggestion:19,inventory:360},{id:"zh-hb-headphones-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"EL-HEA-011",product:"Headphones",brand:"Sony",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:15,actualCapacity:13,targetCapacity:13,forecastSuggestion:13,inventory:260},{id:"zh-hb-running-shoes-sw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"SP-RUN-001",product:"Running Shoes Pro",brand:"Nike",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"SW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:22,targetCapacity:23,forecastSuggestion:23,inventory:440},{id:"zh-hb-summer-shoes-sw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"SP-SUM-012",product:"Summer Sandals",brand:"Birkenstock",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"SW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:26,targetCapacity:27,forecastSuggestion:27,inventory:520},{id:"zh-hb-tshirt-sw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AP-TSH-013",product:"T-Shirt",brand:"Adidas",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"SW 2025",allocationType:"Initiale Allokation",totalCapacity:40,actualCapacity:38,targetCapacity:37,forecastSuggestion:36,inventory:760},{id:"zh-hb-shorts-sw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AP-SHO-014",product:"Shorts",brand:"Nike",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"SW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:28,targetCapacity:27,forecastSuggestion:26,inventory:560},{id:"zh-hb-sunglasses-sw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AC-SUN-015",product:"Sunglasses",brand:"Ray-Ban",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"SW 2025",allocationType:"Initiale Allokation",totalCapacity:12,actualCapacity:10,targetCapacity:11,forecastSuggestion:11,inventory:200},{id:"bs-sbb-running-shoes-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"SP-RUN-001",product:"Running Shoes Pro",brand:"Nike",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:17,targetCapacity:19,forecastSuggestion:19,inventory:340},{id:"bs-sbb-hiking-shoes-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"SP-HIK-002",product:"Hiking Boots",brand:"Salomon",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:21,targetCapacity:23,forecastSuggestion:24,inventory:420},{id:"bs-sbb-casual-shoes-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"SP-CAS-003",product:"Casual Sneakers",brand:"Adidas",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:20,targetCapacity:23,forecastSuggestion:24,inventory:400},{id:"bs-sbb-winter-jacket-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AP-WIN-004",product:"Winter Jacket",brand:"The North Face",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:35,actualCapacity:33,targetCapacity:32,forecastSuggestion:31,inventory:660},{id:"bs-sbb-fleece-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AP-FLE-005",product:"Fleece Pullover",brand:"Patagonia",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:28,targetCapacity:27,forecastSuggestion:26,inventory:560},{id:"bs-sbb-pants-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AP-PAN-006",product:"Sport Pants",brand:"Under Armour",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:23,targetCapacity:23,forecastSuggestion:22,inventory:460},{id:"bs-sbb-socks-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AC-SOC-007",product:"Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:12,actualCapacity:8,targetCapacity:10,forecastSuggestion:10,inventory:160},{id:"bs-sbb-backpack-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AC-BAC-008",product:"Backpack",brand:"Deuter",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:15,actualCapacity:10,targetCapacity:13,forecastSuggestion:12,inventory:200},{id:"bs-sbb-gloves-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AC-GLO-009",product:"Winter Gloves",brand:"The North Face",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:8,actualCapacity:4,targetCapacity:7,forecastSuggestion:6,inventory:80},{id:"bs-sbb-smartwatch-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"EL-SMA-010",product:"Smartwatch",brand:"Garmin",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:15,actualCapacity:12,targetCapacity:13,forecastSuggestion:14,inventory:240},{id:"bs-sbb-headphones-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"EL-HEA-011",product:"Headphones",brand:"Sony",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:10,actualCapacity:8,targetCapacity:9,forecastSuggestion:9,inventory:160},{id:"be-bhf-running-shoes-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"SP-RUN-001",product:"Running Shoes Pro",brand:"Nike",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:18,actualCapacity:14,targetCapacity:16,forecastSuggestion:17,inventory:280},{id:"be-bhf-hiking-shoes-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"SP-HIK-002",product:"Hiking Boots",brand:"Salomon",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:22,actualCapacity:18,targetCapacity:20,forecastSuggestion:21,inventory:360},{id:"be-bhf-casual-shoes-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"SP-CAS-003",product:"Casual Sneakers",brand:"Adidas",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:15,targetCapacity:18,forecastSuggestion:19,inventory:300},{id:"be-bhf-winter-jacket-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"AP-WIN-004",product:"Winter Jacket",brand:"The North Face",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:29,targetCapacity:28,forecastSuggestion:27,inventory:580},{id:"be-bhf-fleece-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"AP-FLE-005",product:"Fleece Pullover",brand:"Patagonia",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:24,targetCapacity:23,forecastSuggestion:22,inventory:480},{id:"be-bhf-pants-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"AP-PAN-006",product:"Sport Pants",brand:"Under Armour",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:19,targetCapacity:18,forecastSuggestion:18,inventory:380},{id:"be-bhf-socks-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"AC-SOC-007",product:"Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:8,actualCapacity:5,targetCapacity:7,forecastSuggestion:6,inventory:100},{id:"be-bhf-backpack-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"AC-BAC-008",product:"Backpack",brand:"Deuter",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:10,actualCapacity:6,targetCapacity:9,forecastSuggestion:8,inventory:120},{id:"be-bhf-gloves-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"AC-GLO-009",product:"Winter Gloves",brand:"The North Face",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:5,actualCapacity:2,targetCapacity:4,forecastSuggestion:3,inventory:40},{id:"be-bhf-smartwatch-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"EL-SMA-010",product:"Smartwatch",brand:"Garmin",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:12,actualCapacity:9,targetCapacity:10,forecastSuggestion:11,inventory:180},{id:"be-bhf-headphones-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"EL-HEA-011",product:"Headphones",brand:"Sony",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:8,actualCapacity:6,targetCapacity:7,forecastSuggestion:7,inventory:120},{id:"lu-running-shoes-hw25",store:"Luzern",cluster:"Regional",productNumber:"SP-RUN-001",product:"Running Shoes Pro",brand:"Nike",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:16,targetCapacity:18,forecastSuggestion:19,inventory:320},{id:"lu-hiking-shoes-hw25",store:"Luzern",cluster:"Regional",productNumber:"SP-HIK-002",product:"Hiking Boots",brand:"Salomon",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:20,targetCapacity:22,forecastSuggestion:23,inventory:400},{id:"lu-casual-shoes-hw25",store:"Luzern",cluster:"Regional",productNumber:"SP-CAS-003",product:"Casual Sneakers",brand:"Adidas",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:22,actualCapacity:17,targetCapacity:20,forecastSuggestion:21,inventory:340},{id:"lu-winter-jacket-hw25",store:"Luzern",cluster:"Regional",productNumber:"AP-WIN-004",product:"Winter Jacket",brand:"The North Face",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:32,actualCapacity:31,targetCapacity:30,forecastSuggestion:29,inventory:620},{id:"lu-fleece-hw25",store:"Luzern",cluster:"Regional",productNumber:"AP-FLE-005",product:"Fleece Pullover",brand:"Patagonia",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:28,actualCapacity:27,targetCapacity:26,forecastSuggestion:25,inventory:540},{id:"lu-pants-hw25",store:"Luzern",cluster:"Regional",productNumber:"AP-PAN-006",product:"Sport Pants",brand:"Under Armour",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:22,actualCapacity:21,targetCapacity:20,forecastSuggestion:20,inventory:420},{id:"lu-socks-hw25",store:"Luzern",cluster:"Regional",productNumber:"AC-SOC-007",product:"Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:10,actualCapacity:7,targetCapacity:9,forecastSuggestion:8,inventory:140},{id:"lu-backpack-hw25",store:"Luzern",cluster:"Regional",productNumber:"AC-BAC-008",product:"Backpack",brand:"Deuter",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:12,actualCapacity:8,targetCapacity:10,forecastSuggestion:10,inventory:160},{id:"lu-gloves-hw25",store:"Luzern",cluster:"Regional",productNumber:"AC-GLO-009",product:"Winter Gloves",brand:"The North Face",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:7,actualCapacity:4,targetCapacity:6,forecastSuggestion:5,inventory:80},{id:"lu-smartwatch-hw25",store:"Luzern",cluster:"Regional",productNumber:"EL-SMA-010",product:"Smartwatch",brand:"Garmin",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:10,actualCapacity:8,targetCapacity:9,forecastSuggestion:9,inventory:160},{id:"lu-headphones-hw25",store:"Luzern",cluster:"Regional",productNumber:"EL-HEA-011",product:"Headphones",brand:"Sony",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:8,actualCapacity:6,targetCapacity:7,forecastSuggestion:7,inventory:120},{id:"ge-running-shoes-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"SP-RUN-001",product:"Running Shoes Pro",brand:"Nike",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:28,actualCapacity:26,targetCapacity:27,forecastSuggestion:27,inventory:520},{id:"ge-hiking-shoes-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"SP-HIK-002",product:"Hiking Boots",brand:"Salomon",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:32,actualCapacity:30,targetCapacity:31,forecastSuggestion:30,inventory:600},{id:"ge-casual-shoes-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"SP-CAS-003",product:"Casual Sneakers",brand:"Adidas",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:35,actualCapacity:32,targetCapacity:33,forecastSuggestion:32,inventory:640},{id:"ge-winter-jacket-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"AP-WIN-004",product:"Winter Jacket",brand:"The North Face",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:50,actualCapacity:48,targetCapacity:47,forecastSuggestion:45,inventory:960},{id:"ge-fleece-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"AP-FLE-005",product:"Fleece Pullover",brand:"Patagonia",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:38,actualCapacity:36,targetCapacity:35,forecastSuggestion:34,inventory:720},{id:"ge-pants-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"AP-PAN-006",product:"Sport Pants",brand:"Under Armour",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:32,actualCapacity:30,targetCapacity:30,forecastSuggestion:29,inventory:600},{id:"ge-socks-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"AC-SOC-007",product:"Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:18,actualCapacity:15,targetCapacity:17,forecastSuggestion:16,inventory:300},{id:"ge-backpack-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"AC-BAC-008",product:"Backpack",brand:"Deuter",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:22,actualCapacity:19,targetCapacity:21,forecastSuggestion:20,inventory:380},{id:"ge-gloves-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"AC-GLO-009",product:"Winter Gloves",brand:"The North Face",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:12,actualCapacity:10,targetCapacity:11,forecastSuggestion:11,inventory:200},{id:"ge-smartwatch-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"EL-SMA-010",product:"Smartwatch",brand:"Garmin",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:22,actualCapacity:20,targetCapacity:21,forecastSuggestion:21,inventory:400},{id:"ge-headphones-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"EL-HEA-011",product:"Headphones",brand:"Sony",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:18,actualCapacity:16,targetCapacity:17,forecastSuggestion:17,inventory:320},{id:"zh-hb-basic-socks-nos",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AC-BAS-NOS-01",product:"Basic Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"NOS - Never out of Stock",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:18,targetCapacity:19,forecastSuggestion:19,inventory:360},{id:"bs-sbb-basic-socks-nos",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AC-BAS-NOS-01",product:"Basic Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"NOS - Never out of Stock",allocationType:"Initiale Allokation",totalCapacity:15,actualCapacity:13,targetCapacity:14,forecastSuggestion:14,inventory:260},{id:"zh-hb-basic-tshirt-nos",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AP-BAS-NOS-02",product:"Basic T-Shirt",brand:"Adidas",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"NOS - Never out of Stock",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:23,targetCapacity:24,forecastSuggestion:24,inventory:460},{id:"bs-sbb-basic-tshirt-nos",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AP-BAS-NOS-02",product:"Basic T-Shirt",brand:"Adidas",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"NOS - Never out of Stock",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:18,targetCapacity:19,forecastSuggestion:19,inventory:360}],tte={OK:"var(--status-success)",berbelegt:"var(--status-danger)",Unterbelegt:"var(--status-warning)"},Ob=e=>e<75?"#10b981":e<85?"#eab308":e<95?"#f97316":"#ef4444",lf=e=>e>10?"berbelegt":e<-20?"Unterbelegt":"OK";function rte({onNavigate:e}){const[t,r]=z.useState({}),[n,i]=z.useState(!1),[o,l]=z.useState(null),[u,d]=z.useState(!1),[f,v]=z.useState(null),[h,m]=z.useState(null),[b,w]=z.useState(!1),[x,y]=z.useState(""),[j,k]=z.useState(""),[S,N]=z.useState(""),[A,O]=z.useState(""),[_,T]=z.useState([]),[E,D]=z.useState(null),[I,L]=z.useState("Gesamt"),[M,V]=z.useState(""),[H,q]=z.useState(""),[X,W]=z.useState("Produktgruppe"),[F,Y]=z.useState(["HW 2025","SW 2025","HW 2026","SW 2026","NOS - Never out of Stock"]),[$,B]=z.useState("Initiale Allokation"),[re,le]=z.useState("m"),[pe,se]=z.useState("2025-01-01"),[ne,ye]=z.useState("2025-12-31"),[ie,ve]=z.useState(""),[we,ce]=z.useState(""),Ie=["HW 2025","SW 2025","HW 2026","SW 2026","NOS - Never out of Stock"],Me=z.useMemo(()=>Array.from(new Set(ds.map(ee=>ee.cluster))),[]),tt=z.useMemo(()=>Array.from(new Set(ds.map(ee=>ee.store))),[]),rt=z.useMemo(()=>Array.from(new Set(ds.map(ee=>ee.purchaseArea))),[]);z.useMemo(()=>{let ee=ds;return ie&&(ee=ee.filter(ke=>ke.purchaseArea===ie)),Array.from(new Set(ee.map(ke=>ke.productGroup)))},[ie]);const Ye=z.useMemo(()=>{let ee=ds;ie&&(ee=ee.filter(J=>J.purchaseArea===ie));const ke=new Map;ee.forEach(J=>{ke.has(J.productNumber)||ke.set(J.productNumber,J)});let ue=Array.from(ke.values());return x&&(ue=ue.filter(J=>J.productNumber.toLowerCase().includes(x.toLowerCase()))),j&&(ue=ue.filter(J=>J.product.toLowerCase().includes(j.toLowerCase()))),S&&(ue=ue.filter(J=>J.brand.toLowerCase().includes(S.toLowerCase()))),A&&(ue=ue.filter(J=>J.season===A)),ue},[ie,x,j,S,A]),Ut=z.useMemo(()=>F.length===0?[]:ds.filter(ke=>!(!F.includes(ke.season)||ke.allocationType!==$||I==="Cluster"&&M&&ke.cluster!==M||I==="Filiale"&&H&&ke.store!==H||ie&&ke.purchaseArea!==ie||we&&ke.productGroup!==we||X==="Produkt"&&_.length>0&&!_.includes(ke.productNumber))),[F,$,I,M,H,ie,we,_,X]),ct=z.useMemo(()=>{const ee=[];if(X==="Produkt"){const ke=new Map;Ut.forEach(ue=>{let J="";I==="Gesamt"?J=ue.productNumber:I==="Cluster"?J=`${ue.cluster}-${ue.productNumber}`:J=`${ue.store}-${ue.productNumber}`,ke.has(J)||ke.set(J,[]),ke.get(J).push(ue)}),ke.forEach((ue,J)=>{const de=ue.reduce((et,Ve)=>et+Ve.totalCapacity,0),U=ue.reduce((et,Ve)=>et+Ve.actualCapacity,0),he=ue.reduce((et,Ve)=>et+(t[Ve.id]??Ve.targetCapacity),0),je=ue.reduce((et,Ve)=>et+Ve.forecastSuggestion,0),vt=ue.reduce((et,Ve)=>et+Ve.inventory,0),Qr=de>0?U/de*100:0,Kt=de>0?he/de*100:0,Tt=U-he;ee.push({id:`agg-${J}`,level:`${ue[0].productNumber} - ${ue[0].product}`,evaluationLevel:I,cluster:ue[0].cluster,store:I==="Filiale"?ue[0].store:void 0,hierarchyLevel:"Produkt",category:ue[0].product,totalCapacity:de,actualCapacity:U,actualUtilization:Qr,targetCapacity:he,targetUtilization:Kt,forecastSuggestion:je,deviation:Tt,inventory:vt,status:lf(Tt)})})}else if(X==="Produktgruppe"){const ke=new Map;Ut.forEach(ue=>{let J="";I==="Gesamt"?J=ue.productGroup:I==="Cluster"?J=`${ue.cluster}-${ue.productGroup}`:J=`${ue.store}-${ue.productGroup}`,ke.has(J)||ke.set(J,[]),ke.get(J).push(ue)}),ke.forEach((ue,J)=>{const de=ue.reduce((Jr,Er)=>Jr+Er.totalCapacity,0),U=ue.reduce((Jr,Er)=>Jr+Er.actualCapacity,0),he=ue.reduce((Jr,Er)=>Jr+Er.targetCapacity,0),je=`agg-${J}`,vt=t[je]??he,Qr=ue.reduce((Jr,Er)=>Jr+Er.forecastSuggestion,0),Kt=ue.reduce((Jr,Er)=>Jr+Er.inventory,0),Tt=de>0?U/de*100:0,et=de>0?vt/de*100:0,Ve=U-vt;ee.push({id:je,level:ue[0].productGroup,evaluationLevel:I,cluster:ue[0].cluster,store:I==="Filiale"?ue[0].store:void 0,hierarchyLevel:"Produktgruppe",category:ue[0].productGroup,totalCapacity:de,actualCapacity:U,actualUtilization:Tt,targetCapacity:vt,targetUtilization:et,forecastSuggestion:Qr,deviation:Ve,inventory:Kt,status:lf(Ve)})})}else if(X==="Einkaufsbereich"){const ke=new Map;Ut.forEach(ue=>{let J="";I==="Gesamt"?J=ue.purchaseArea:I==="Cluster"?J=`${ue.cluster}-${ue.purchaseArea}`:J=`${ue.store}-${ue.purchaseArea}`,ke.has(J)||ke.set(J,[]),ke.get(J).push(ue)}),ke.forEach((ue,J)=>{const de=ue.reduce((et,Ve)=>et+Ve.totalCapacity,0),U=ue.reduce((et,Ve)=>et+Ve.actualCapacity,0),he=ue.reduce((et,Ve)=>et+(t[Ve.id]??Ve.targetCapacity),0),je=ue.reduce((et,Ve)=>et+Ve.forecastSuggestion,0),vt=ue.reduce((et,Ve)=>et+Ve.inventory,0),Qr=de>0?U/de*100:0,Kt=de>0?he/de*100:0,Tt=U-he;ee.push({id:`agg-${J}`,level:ue[0].purchaseArea,evaluationLevel:I,cluster:ue[0].cluster,store:I==="Filiale"?ue[0].store:void 0,hierarchyLevel:"Einkaufsbereich",category:ue[0].purchaseArea,totalCapacity:de,actualCapacity:U,actualUtilization:Qr,targetCapacity:he,targetUtilization:Kt,forecastSuggestion:je,deviation:Tt,inventory:vt,status:lf(Tt)})})}else{const ke=new Map;Ut.forEach(ue=>{let J="";I==="Gesamt"?J="BLICK Gesamt":I==="Cluster"?J=ue.cluster:J=ue.store,ke.has(J)||ke.set(J,[]),ke.get(J).push(ue)}),ke.forEach((ue,J)=>{const de=ue.reduce((et,Ve)=>et+Ve.totalCapacity,0),U=ue.reduce((et,Ve)=>et+Ve.actualCapacity,0),he=ue.reduce((et,Ve)=>et+(t[Ve.id]??Ve.targetCapacity),0),je=ue.reduce((et,Ve)=>et+Ve.forecastSuggestion,0),vt=ue.reduce((et,Ve)=>et+Ve.inventory,0),Qr=de>0?U/de*100:0,Kt=de>0?he/de*100:0,Tt=U-he;ee.push({id:`agg-${J}`,level:J,evaluationLevel:I,cluster:I!=="Gesamt"?ue[0].cluster:void 0,store:I==="Filiale"?ue[0].store:void 0,hierarchyLevel:"Unternehmen",category:"Alle Bereiche",totalCapacity:de,actualCapacity:U,actualUtilization:Qr,targetCapacity:he,targetUtilization:Kt,forecastSuggestion:je,deviation:Tt,inventory:vt,status:lf(Tt)})})}return ee},[Ut,X,I,t]),it=z.useMemo(()=>{const ee=ct.reduce((he,je)=>he+je.totalCapacity,0),ke=ct.reduce((he,je)=>he+je.actualCapacity,0),ue=ct.reduce((he,je)=>he+je.targetCapacity,0),J=ke-ue,de=ee>0?ke/ee*100:0,U=ee>0?ue/ee*100:0;return{totalCapacity:ee,actualUtilization:de,targetUtilization:U,deviation:J}},[ct]),Ht=z.useMemo(()=>ct.slice(0,10).map(ee=>({name:ee.level,SOLL:ee.targetCapacity,IST:ee.actualCapacity})),[ct]),nr=z.useMemo(()=>ct.slice(0,8).map(ee=>({level:ee.level,utilization:ee.actualUtilization,color:Ob(ee.actualUtilization)})),[ct]),Ge=(ee,ke)=>{r(ue=>({...ue,[ee]:ke})),i(!0)},qe=ee=>{const ke=ct.find(ue=>ue.id===ee);ke&&(Ge(ee,ke.forecastSuggestion),d(!1))},ht=()=>{m({message:"Prognose erfolgreich neu berechnet",type:"success"}),setTimeout(()=>m(null),3e3)},ut=()=>{const ee=ct.filter(ke=>ke.status==="berbelegt").length;ee>0?m({message:`berkapazitt in ${ee} Bereichen erkannt`,type:"warning"}):m({message:"Kapazittsplanung gespeichert",type:"success"}),setTimeout(()=>m(null),3e3),i(!1)},nt=()=>{r({}),i(!1)},gr=ee=>{v(ee),d(!0)},vn=ee=>{L(ee),V(""),q("")},Sr=ee=>{V(ee),q("")},Wr=ee=>{Y(ke=>ke.includes(ee)?ke.filter(ue=>ue!==ee):[...ke,ee])},mn=()=>{F.length===Ie.length?Y([]):Y([...Ie])},Or=ee=>{T(ke=>ke.includes(ee)?ke.filter(ue=>ue!==ee):[...ke,ee])},Yr=()=>{_.length===Ye.length?T([]):T(Ye.map(ee=>ee.productNumber))},Wi=()=>{w(!1)},ga=[{key:"level",label:"Ebene",sortable:!0,render:(ee,ke)=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("span",{children:ee}),X==="Produkt"&&ke.hierarchyLevel==="Produkt"&&a.jsx(Qt,{size:14,style:{color:"var(--brand-primary)",cursor:"pointer",opacity:.7},title:"Klicken fr Details"})]})},{key:"totalCapacity",label:"Gesamtkapazitt",align:"right",render:ee=>`${ee} m`},{key:"actualCapacity",label:"IST-Kapazitt",align:"right",render:ee=>`${ee} m`},{key:"actualUtilization",label:"IST-Auslastung",align:"right",render:ee=>a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:Ob(ee),color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[ee.toFixed(1),"%"]})},{key:"targetCapacity",label:"SOLL-Kapazitt",align:"right",render:(ee,ke)=>{const ue=ke.hierarchyLevel==="Produktgruppe",J=ee;return a.jsxs("div",{className:"flex items-center gap-2",style:{minWidth:"200px"},children:[a.jsx("input",{type:"range",min:0,max:ke.totalCapacity,step:5,value:J,onChange:de=>ue&&Ge(ke.id,Number(de.target.value)),disabled:!ue,className:"flex-1",style:{cursor:ue?"pointer":"not-allowed",opacity:ue?1:.5}}),a.jsx("input",{type:"number",value:J,onChange:de=>ue&&Ge(ke.id,Number(de.target.value)),disabled:!ue,className:"w-16 px-2 py-1 border rounded text-right",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:ue?"var(--surface-page)":"var(--surface-subtle)",cursor:ue?"text":"not-allowed",opacity:ue?1:.6}})]})}},{key:"targetUtilization",label:"SOLL-Auslastung",align:"right",render:ee=>`${ee.toFixed(1)}%`},{key:"forecastSuggestion",label:"Prognose-Vorschlag",align:"right",render:(ee,ke)=>a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsxs("span",{children:[ee," m"]}),a.jsx("button",{onClick:()=>gr(ke),className:"px-2 py-1 rounded",style:{backgroundColor:"var(--status-info)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Empfohlen"})]})},{key:"deviation",label:"Abweichung",align:"right",render:ee=>{const ke=ee;return a.jsxs("span",{style:{color:ke>0?"var(--status-danger)":"var(--status-success)"},children:[ke>0?"+":"",ke," m"]})}},{key:"inventory",label:"Bestand (in Stck)",align:"right",render:ee=>ee?ee.toLocaleString("de-CH"):"-"},{key:"status",label:"Status",render:ee=>a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:tte[ee],color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:ee})}];return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Kapazittsplanung"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Analyse, Steuerung und Optimierung der Flchenkapazitt je Filiale und Sortiment"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:ht,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Prognose neu berechnen"}),a.jsx("button",{onClick:ut,disabled:!n,className:"px-4 py-2 rounded-lg",style:{backgroundColor:n?"var(--button-primary-bg)":"var(--border-default)",color:"var(--button-primary-text)",height:"var(--height-button-md)",cursor:n?"pointer":"not-allowed",opacity:n?1:.5},children:"nderungen bernehmen"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:"Organisationsebene"}),a.jsxs("select",{value:I,onChange:ee=>vn(ee.target.value),className:"px-3 py-2 border rounded-lg min-w-[160px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"Gesamt",children:"Gesamt"}),a.jsx("option",{value:"Cluster",children:"Cluster"}),a.jsx("option",{value:"Filiale",children:"Filiale"})]})]}),I==="Cluster"&&a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:"Cluster"}),a.jsxs("select",{value:M,onChange:ee=>Sr(ee.target.value),className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"",children:"Alle Cluster"}),Me.map(ee=>a.jsx("option",{value:ee,children:ee},ee))]})]}),I==="Filiale"&&a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:"Filiale"}),a.jsxs("select",{value:H,onChange:ee=>q(ee.target.value),className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"",children:"Alle Filialen"}),tt.map(ee=>a.jsx("option",{value:ee,children:ee},ee))]})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:["Artikelhierarchieebene",X==="Produktgruppe"&&a.jsx("span",{style:{marginLeft:"var(--space-2)",color:"var(--status-success)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Planungsebene"})]}),a.jsxs("select",{value:X,onChange:ee=>W(ee.target.value),className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"Unternehmen",children:"Unternehmen"}),a.jsx("option",{value:"Einkaufsbereich",children:"Einkaufsbereich"}),a.jsx("option",{value:"Produktgruppe",children:"Produktgruppe"}),a.jsx("option",{value:"Produkt",children:"Produkt"})]})]}),(X==="Produktgruppe"||X==="Produkt")&&a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:"Einkaufsbereich"}),a.jsxs("select",{value:ie,onChange:ee=>{ve(ee.target.value),ce(""),T([])},className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"",children:"Alle Bereiche"}),rt.map(ee=>a.jsx("option",{value:ee,children:ee},ee))]})]}),X==="Produkt"&&a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:["Produkt (",_.length," ausgewhlt)"]}),a.jsxs("button",{onClick:()=>w(!0),className:"px-3 py-2 border rounded-lg min-w-[180px] flex items-center justify-between",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",textAlign:"left"},children:[a.jsx("span",{children:_.length>0?`${_.length} Produkte`:"Produkt auswhlen"}),a.jsx(fn,{size:16})]})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:["Saison (",F.length," ausgewhlt)"]}),a.jsx("div",{className:"relative",children:a.jsxs("select",{className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:F.length===0?"var(--status-danger)":"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},onChange:ee=>{ee.target.value==="ALL"?mn():ee.target.value&&Wr(ee.target.value),ee.target.value=""},value:"",children:[a.jsx("option",{value:"",disabled:!0,children:"Saison whlen..."}),a.jsx("option",{value:"ALL",children:F.length===Ie.length?" Alle abwhlen":" Alle auswhlen"}),Ie.map(ee=>a.jsxs("option",{value:ee,children:[F.includes(ee)?" ":" ",ee]},ee))]})})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:"Allokationstyp"}),a.jsxs("select",{value:$,onChange:ee=>B(ee.target.value),className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"Initiale Allokation",children:"Initiale Allokation"}),a.jsx("option",{value:"Nachschub",children:"Nachschub"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:"Einheit"}),a.jsxs("div",{className:"flex items-center gap-2 border rounded-lg p-1",style:{borderColor:"var(--border-input)"},children:[a.jsx("button",{onClick:()=>le("m"),className:"px-3 py-1 rounded",style:{backgroundColor:re==="m"?"var(--brand-primary)":"transparent",color:re==="m"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-sm)"},children:"m"}),a.jsx("button",{disabled:!0,className:"px-3 py-1 rounded",style:{backgroundColor:"transparent",color:"var(--text-muted)",fontSize:"var(--font-size-sm)",cursor:"not-allowed",opacity:.5},children:"Warentrger"})]})]})]}),F.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:F.map(ee=>a.jsxs("span",{className:"px-3 py-1 rounded-full flex items-center gap-2",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--status-info)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",border:"1px solid var(--border-info)"},children:[ee,a.jsx("button",{onClick:()=>Wr(ee),className:"hover:opacity-70",children:a.jsx(Et,{size:14})})]},ee))}),F.length===0&&a.jsxs("div",{className:"p-4 rounded-lg border flex items-start gap-3",style:{backgroundColor:"var(--surface-danger-subtle)",borderColor:"var(--status-danger)"},children:[a.jsx(Qt,{size:20,style:{color:"var(--status-danger)",flexShrink:0,marginTop:"2px"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-danger)",marginBottom:"4px"},children:"Keine Saison ausgewhlt"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Bitte whlen Sie mindestens eine Saison aus, um Kapazittsdaten anzuzeigen."})]})]}),I==="Filiale"&&H&&F.length>0&&a.jsxs("div",{className:"p-4 rounded-lg border flex items-center justify-between",style:{backgroundColor:"var(--surface-subtle-tint)",borderColor:"var(--brand-primary)"},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:a.jsx(Dp,{size:24})}),a.jsxs("div",{children:[a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"2px"},children:["Sortimentsverteilung fr ",H," analysieren"]}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Visualisieren Sie, wie Produktgruppen auf Warentrgern verteilt sind"})]})]}),a.jsx("button",{onClick:()=>e("storeLayout"),className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",height:"var(--height-button-md)",whiteSpace:"nowrap"},children:"Zur Analyse"})]}),F.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"Gesamtkapazitt"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:[it.totalCapacity," m"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"var(--space-1)"},children:"Maximal nutzbare Flche"})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"IST-Auslastung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:Ob(it.actualUtilization)},children:[it.actualUtilization.toFixed(1),"%"]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"SOLL-Auslastung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:[it.targetUtilization.toFixed(1),"%"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"var(--space-1)"},children:"prognosebasiert"})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"Abweichung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:it.deviation>0?"var(--status-danger)":"var(--status-success)"},children:[it.deviation>0?"+":"",it.deviation," m"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"var(--space-1)"},children:it.deviation>0?"berbelegung":"Reserve"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",style:{height:"260px"},children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"SOLL- vs. IST-Kapazitt"}),a.jsx("div",{style:{width:"100%",height:"190px",minHeight:"190px"},children:a.jsx(Yt,{width:"100%",height:"100%",minHeight:190,children:a.jsxs(Pr,{data:Ht,children:[a.jsx(bt,{dataKey:"name",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(Re,{dataKey:"SOLL",fill:"var(--brand-primary)",opacity:.6}),a.jsx(Re,{dataKey:"IST",fill:"var(--brand-accent)"})]})})})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-3)"},children:"Kapazittsauslastung"}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:nr.map((ee,ke)=>a.jsxs("div",{className:"p-3 rounded cursor-pointer hover:opacity-80 transition-opacity",style:{backgroundColor:ee.color,color:"var(--text-inverse)"},title:`${ee.level}: ${ee.utilization.toFixed(1)}%`,children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:ee.level.length>12?ee.level.substring(0,10)+"...":ee.level}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginTop:"var(--space-1)"},children:[ee.utilization.toFixed(1),"%"]})]},ke))}),a.jsxs("div",{className:"flex items-center gap-4 mt-4",style:{fontSize:"var(--font-size-xs)"},children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#10b981"}}),a.jsx("span",{children:"< 75%"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#eab308"}}),a.jsx("span",{children:"75-85%"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#f97316"}}),a.jsx("span",{children:"85-95%"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#ef4444"}}),a.jsx("span",{children:"> 95%"})]})]})]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-4)"},children:"Kapazittsdetails"}),X==="Produkt"&&ct.length>0&&a.jsxs("div",{style:{padding:"12px 16px",backgroundColor:"var(--brand-primary-10)",border:"1px solid var(--brand-primary-30)",borderRadius:"var(--radius-md)",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(Qt,{size:16,style:{color:"var(--brand-primary)",flexShrink:0}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:"Klicken Sie auf eine Produktzeile, um detaillierte Formeln und Explainability-Informationen anzuzeigen."})]}),ct.length===0?a.jsx("div",{className:"py-12 text-center",style:{color:"var(--text-muted)"},children:"Keine Daten fr die ausgewhlten Filter verfgbar."}):a.jsx(Nr,{columns:ga,data:ct,density:"comfortable",onRowClick:ee=>{if(X==="Produkt"&&ee.hierarchyLevel==="Produkt"){const ke=oO.find(ue=>ue.productName===ee.level||ue.productNumber===ee.id.split("-")[0]);D(ke||oO[0])}else l(ee.id)}})]})]}),b&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:()=>w(!1),style:{backgroundColor:"var(--bg-overlay)"},children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg",style:{width:"900px",maxHeight:"700px",boxShadow:"var(--shadow-lg)",display:"flex",flexDirection:"column"},onClick:ee=>ee.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Produkt auswhlen"}),a.jsx("button",{onClick:()=>w(!1),className:"p-1 rounded hover:bg-surface-tint",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Produktnummer"}),a.jsx("input",{type:"text",placeholder:"Suchen...",value:x,onChange:ee=>y(ee.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Produktbeschreibung"}),a.jsx("input",{type:"text",placeholder:"Suchen...",value:j,onChange:ee=>k(ee.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Marke"}),a.jsx("input",{type:"text",placeholder:"Suchen...",value:S,onChange:ee=>N(ee.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Saison"}),a.jsxs("select",{value:A,onChange:ee=>O(ee.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Saisons"}),Ie.map(ee=>a.jsx("option",{value:ee,children:ee},ee))]})]})]})]}),a.jsxs("div",{className:"p-4 overflow-auto flex-1",children:[a.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[a.jsx(iO,{checked:_.length===Ye.length&&Ye.length>0,onCheckedChange:Yr}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:["Alle auswhlen (",Ye.length," Produkte)"]})]}),a.jsxs("table",{className:"w-full",style:{fontSize:"var(--font-size-sm)"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"2px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"8px",width:"40px"}}),a.jsx("th",{style:{textAlign:"left",padding:"8px"},children:"Produktnummer"}),a.jsx("th",{style:{textAlign:"left",padding:"8px"},children:"Produktbeschreibung"}),a.jsx("th",{style:{textAlign:"left",padding:"8px"},children:"Marke"}),a.jsx("th",{style:{textAlign:"left",padding:"8px"},children:"Saison"})]})}),a.jsx("tbody",{children:Ye.map(ee=>a.jsxs("tr",{className:"hover:bg-surface-tint cursor-pointer",style:{borderBottom:"1px solid var(--border-subtle)"},onClick:()=>Or(ee.productNumber),children:[a.jsx("td",{style:{padding:"8px"},children:a.jsx(iO,{checked:_.includes(ee.productNumber),onCheckedChange:()=>Or(ee.productNumber)})}),a.jsx("td",{style:{padding:"8px"},children:ee.productNumber}),a.jsx("td",{style:{padding:"8px"},children:ee.product}),a.jsx("td",{style:{padding:"8px"},children:ee.brand}),a.jsx("td",{style:{padding:"8px"},children:ee.season})]},ee.productNumber))})]})]}),a.jsxs("div",{className:"p-4 border-t flex gap-3 justify-end",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>{T([]),w(!1)},className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsxs("button",{onClick:Wi,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:[_.length," Produkte bernehmen"]})]})]})}),u&&f&&a.jsxs("div",{className:"fixed inset-0 z-50 flex",onClick:()=>d(!1),children:[a.jsx("div",{className:"flex-1",style:{backgroundColor:"var(--bg-overlay)"}}),a.jsxs("div",{className:"bg-white shadow-lg overflow-y-auto",style:{width:"var(--drawer-width)",boxShadow:"var(--shadow-lg)"},onClick:ee=>ee.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b sticky top-0 bg-white",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Prognose-Herleitung"}),a.jsx("button",{onClick:()=>d(!1),className:"p-1 rounded hover:bg-surface-tint",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-3)"},children:f.level}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",style:{borderColor:"var(--border-subtle)"},children:[a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Absatzprognose"}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[Math.round(f.forecastSuggestion*1.2)," Einheiten"]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",style:{borderColor:"var(--border-subtle)"},children:[a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Zielreichweite"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"8 Wochen"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",style:{borderColor:"var(--border-subtle)"},children:[a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:" Bestandsmenge"}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[Math.round(f.forecastSuggestion*.8)," Einheiten"]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",style:{borderColor:"var(--border-subtle)"},children:[a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Flchenbedarf je Artikel"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"0.35 m"})]}),a.jsxs("div",{className:"flex justify-between items-center py-3 mt-4",style:{backgroundColor:"var(--surface-subtle-tint)",padding:"var(--space-3)",borderRadius:"var(--radius-md)"},children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)"},children:"Abgeleitete SOLL-Kapazitt"}),a.jsxs("span",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--brand-primary)"},children:[f.forecastSuggestion," m"]})]})]})]}),a.jsxs("div",{className:"p-4 rounded-lg flex items-start gap-3",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx(Qt,{size:20,style:{color:"var(--status-info)",flexShrink:0,marginTop:"2px"}}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:"Die Prognose basiert auf historischen Verkaufsdaten der letzten 12 Monate, saisonalen Trends und geplanten Marketingaktionen."})]})]}),a.jsxs("div",{className:"p-6 border-t sticky bottom-0 bg-white flex gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsx("button",{onClick:()=>qe(f.id),className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:"Prognosewert bernehmen"})]})]})]}),n&&a.jsxs("div",{className:"fixed bottom-0 left-0 right-0 flex items-center justify-end gap-3 px-6 border-t",style:{height:"64px",backgroundColor:"var(--surface-page)",borderColor:"var(--border-subtle)",zIndex:40},children:[a.jsx("button",{onClick:nt,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"nderungen verwerfen"}),a.jsx("button",{onClick:ut,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:"nderungen bernehmen"})]}),h&&a.jsxs("div",{className:"fixed bottom-20 right-6 px-6 py-3 rounded-lg shadow-lg flex items-center gap-3 animate-slide-up",style:{backgroundColor:h.type==="success"?"var(--status-success)":h.type==="warning"?"var(--status-warning)":"var(--status-danger)",color:"var(--text-inverse)",boxShadow:"var(--shadow-lg)",zIndex:100},children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:h.message}),a.jsx("button",{onClick:()=>m(null),className:"hover:opacity-70",children:a.jsx(Et,{size:18})})]}),E&&a.jsx(ete,{product:E,onClose:()=>D(null)})]})}const sO={berkapazitt:"#ef4444",Untererfllung:"#3b82f6",Ausgeglichen:"#10b981"},nte={berkapazitt:cl,Untererfllung:Lp,Ausgeglichen:$S},ate={info:{label:"Hinweis",color:"#3b82f6",icon:Qt},critical:{label:"Kritisch",color:"#f59e0b",icon:aa},blocking:{label:"Blockierend",color:"#ef4444",icon:aa}};function ite({articles:e,onBack:t,onAccept:r,onDiscard:n,onRelease:i}){const[o,l]=z.useState("planned"),[u,d]=z.useState(!1),[f,v]=z.useState(""),[h,m]=z.useState(""),b=e.length,w=Array.from(new Set(e.map(D=>D.season))),x=Array.from(new Set(e.map(D=>D.articleGroup))),y=z.useMemo(()=>{const D=e.map(I=>new Date(I.deliveryFrom));return new Date(Math.min(...D.map(I=>I.getTime())))},[e]),j=z.useMemo(()=>{const D=e.map(I=>new Date(I.deliveryTo));return new Date(Math.max(...D.map(I=>I.getTime())))},[e]),k=z.useMemo(()=>{const L=75+({planned:0,plus1week:-5,plus2weeks:-8,minus1week:10,split:-12,custom:f&&h?-6:0}[o]||0),M=80,V=L-M,H=Math.abs(V)>10?3:V>5?1:0;return{actualUtilization:L,targetUtilization:M,deviation:V,affectedStores:H}},[o,f,h]),S=z.useMemo(()=>[{category:"Shoes",soll:120,ist:135,status:"berkapazitt"},{category:"Apparel",soll:150,ist:145,status:"Ausgeglichen"},{category:"Accessories",soll:80,ist:65,status:"Untererfllung"},{category:"Electronics",soll:50,ist:48,status:"Ausgeglichen"}],[]),N=z.useMemo(()=>[{month:"Jan 25",berkapazitt:5,Ausgeglichen:20,Untererfllung:3},{month:"Feb 25",berkapazitt:8,Ausgeglichen:15,Untererfllung:5},{month:"Mr 25",berkapazitt:12,Ausgeglichen:10,Untererfllung:2},{month:"Apr 25",berkapazitt:3,Ausgeglichen:18,Untererfllung:4},{month:"Mai 25",berkapazitt:2,Ausgeglichen:22,Untererfllung:1}],[]),A=z.useMemo(()=>{const D=[];k.actualUtilization>90&&D.push({id:"1",message:`berkapazitt in ${k.affectedStores} Stores (> 90%)`,severity:"critical"}),k.deviation>15&&D.push({id:"2",message:"Kategorie Shoes berschreitet SOLL-Kapazitt um 12%",severity:"critical"});const I=e.filter(M=>M.capacityImpact==="Untererfllung").length;I>0&&D.push({id:"3",message:`Untererfllung in Kategorie Accessories (${I} Artikel)`,severity:"info"});const L=e.filter(M=>M.capacityImpact==="berkapazitt").length;return L>2&&D.push({id:"4",message:`Grenlauf-Konflikte: ${L} Artikel betroffen`,severity:"info"}),D},[k,e]),O=D=>{d(!0),l(D),setTimeout(()=>{d(!1)},800)},_=D=>D<80?"#10b981":D<=90?"#f59e0b":"#ef4444",E=(()=>{if(o==="custom"&&f&&h)return{from:new Date(f).toLocaleDateString("de-DE"),to:new Date(h).toLocaleDateString("de-DE")};const D=new Date(y),I=new Date(j);switch(o){case"plus1week":D.setDate(D.getDate()+7),I.setDate(I.getDate()+7);break;case"plus2weeks":D.setDate(D.getDate()+14),I.setDate(I.getDate()+14);break;case"minus1week":D.setDate(D.getDate()-7),I.setDate(I.getDate()-7);break}return{from:D.toLocaleDateString("de-DE"),to:I.toLocaleDateString("de-DE")}})();return a.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--surface-page)"},children:[a.jsx("div",{className:"px-6 py-4 border-b",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)"},children:a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Arbeitsvorrat  Simulation  Initiale Allokation"})}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("button",{onClick:t,className:"flex items-center gap-2 mb-4 hover:opacity-70",style:{color:"var(--text-secondary)",fontSize:"var(--font-size-sm)"},children:[a.jsx(WS,{size:16}),"Zurck zum Arbeitsvorrat"]}),a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Simulation  Initiale Allokation"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Bewertung der kapazitiven und zeitlichen Wirkung der ausgewhlten Artikel"})]}),a.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"grid grid-cols-5 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Anzahl Artikel"}),a.jsx("div",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:b})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Saisonen"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:w.join(", ")})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Artikelgruppen"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:x.join(", ")})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Ursprngliches Lieferfenster (Plan)"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)"},children:[y.toLocaleDateString("de-DE"),"  ",j.toLocaleDateString("de-DE")]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Szenario"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Initiale Allokation"})]})]})}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Liefertermin-Optionen"}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Liefertermin (Plan)"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)"},children:[y.toLocaleDateString("de-DE"),"  ",j.toLocaleDateString("de-DE")]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)",display:"block"},children:"Liefertermin-Option"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:o,onChange:D=>O(D.target.value),className:"px-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},disabled:u,children:[a.jsx("option",{value:"planned",children:"Geplantes Lieferfenster"}),a.jsx("option",{value:"plus1week",children:"+1 Woche"}),a.jsx("option",{value:"plus2weeks",children:"+2 Wochen"}),a.jsx("option",{value:"minus1week",children:"-1 Woche"}),a.jsx("option",{value:"custom",children:"Manuelle Eingabe"}),a.jsx("option",{value:"split",disabled:!0,children:"Aufteilen auf zwei Lieferfenster (bald verfgbar)"})]}),u&&a.jsx("div",{className:"absolute right-10 top-1/2 -translate-y-1/2",children:a.jsx(LL,{size:16,className:"animate-spin",style:{color:"var(--brand-primary)"}})})]}),o!=="planned"&&o!=="custom"&&a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-success)",marginTop:"var(--space-1)"},children:["Simuliert: ",E.from,"  ",E.to]}),o==="custom"&&a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"var(--space-1)"},children:"Liefertermin von"}),a.jsx("input",{type:"date",value:f,onChange:D=>{v(D.target.value),D.target.value&&h&&(d(!0),setTimeout(()=>d(!1),800))},className:"px-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"var(--space-1)"},children:"Liefertermin bis"}),a.jsx("input",{type:"date",value:h,onChange:D=>{m(D.target.value),D.target.value&&f&&(d(!0),setTimeout(()=>d(!1),800))},className:"px-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"}})]}),f&&h&&a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-success)"},children:["Simuliert: ",new Date(f).toLocaleDateString("de-DE"),"  ",new Date(h).toLocaleDateString("de-DE")]})]})]})]}),a.jsxs("div",{className:"mt-3 px-3 py-2 rounded flex items-center gap-2",style:{backgroundColor:"var(--surface-info-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:[a.jsx(Qt,{size:14}),"Terminnderungen wirken sich direkt auf Kapazitt und Simulation aus."]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"IST-Auslastung (nach Simulation)"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:_(k.actualUtilization)},children:[k.actualUtilization,"%"]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"SOLL-Auslastung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:[k.targetUtilization,"%"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Kapazittsplanung"})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Abweichung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:k.deviation>0?"#ef4444":k.deviation<-5?"#3b82f6":"#10b981"},children:[k.deviation>0?"+":"",k.deviation,"%"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:k.deviation>0?"berkapazitt":k.deviation<0?"Untererfllung":"Ausgeglichen"})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Betroffene Stores"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:k.affectedStores}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Stores auerhalb SOLL-Rahmen"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",minHeight:"320px"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Kapazittswirkung nach Simulation"}),a.jsx(Yt,{width:"100%",height:250,minHeight:250,children:a.jsxs(Pr,{data:S,children:[a.jsx(bt,{dataKey:"category",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"},label:{value:"m",angle:-90,position:"insideLeft"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(Re,{dataKey:"soll",name:"SOLL",fill:"var(--brand-primary)",opacity:.6}),a.jsx(Re,{dataKey:"ist",name:"IST",fill:"var(--brand-accent)"})]})})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",minHeight:"320px"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Kapazittsbelastung ber Zeit"}),a.jsx(Yt,{width:"100%",height:250,minHeight:250,children:a.jsxs(Pr,{data:N,children:[a.jsx(bt,{dataKey:"month",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(Re,{dataKey:"berkapazitt",stackId:"a",fill:"#ef4444"}),a.jsx(Re,{dataKey:"Ausgeglichen",stackId:"a",fill:"#10b981"}),a.jsx(Re,{dataKey:"Untererfllung",stackId:"a",fill:"#3b82f6"})]})})]})]}),A.length>0&&a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Aufflligkeiten aus der Simulation"}),a.jsx("div",{className:"space-y-2",children:A.map(D=>{const I=ate[D.severity],L=I.icon;return a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded",style:{backgroundColor:`${I.color}10`},children:[a.jsx(L,{size:18,style:{color:I.color,flexShrink:0,marginTop:"2px"}}),a.jsx("div",{className:"flex-1",children:a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:D.message})}),a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:I.color,color:"white",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:I.label})]},D.id)})}),a.jsx("div",{className:"mt-3 px-3 py-2 rounded",style:{backgroundColor:"var(--surface-info-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:"Hinweis: Nicht jede Aufflligkeit blockiert eine Freigabe."})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:["Artikelliste (",e.length,")"]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Artikelnummer"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Farbe"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Artikelbeschreibung"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Kapazittswirkung"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Liefertermin (Simulation)"})]})}),a.jsx("tbody",{children:e.map(D=>{const I=nte[D.capacityImpact];return a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{style:{padding:"12px 8px"},children:a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:D.articleNumber})}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:D.colorHex,borderColor:"var(--border-default)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:D.color})]})}),a.jsx("td",{style:{padding:"12px 8px",fontSize:"var(--font-size-sm)"},children:D.description}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full",style:{backgroundColor:`${sO[D.capacityImpact]}15`,color:sO[D.capacityImpact],fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",width:"fit-content"},children:[a.jsx(I,{size:14}),a.jsx("span",{children:D.capacityImpact})]})}),a.jsxs("td",{style:{padding:"12px 8px",fontSize:"var(--font-size-sm)"},children:[E.from,"  ",E.to]})]},D.id)})})]})})]}),a.jsx("div",{style:{height:"100px"}})]}),a.jsxs("div",{className:"sticky bottom-0 px-6 py-4 border-t flex items-center justify-end gap-3",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-subtle)",height:"72px"},children:[a.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Zurck zum Arbeitsvorrat"}),a.jsx("button",{onClick:n,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Simulation verwerfen"}),a.jsx("button",{onClick:()=>{o==="custom"&&f&&h?r(o,{from:f,to:h}):r(o)},className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:"Simulation bernehmen"}),a.jsx("button",{onClick:i,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",height:"var(--height-button-md)",boxShadow:"var(--shadow-sm)"},children:"Allokation freigeben"})]})]})}const bc=[{id:"1",articleNumber:"ART-20251001",color:"Schwarz",colorHex:"#000000",status:"Offen",description:"Running Schuhe Pro Trail Max mit Dmpfung",articleGroup:"Shoes",season:"Frhjahr/Sommer 2025",deliveryFrom:"2025-03-01",deliveryTo:"2025-03-15",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:2400,sizeCount:12,capacityNeed:"18 m / 3 Warentrger",capacityImpact:"berkapazitt",capacityImpactReason:["Hoher Flchenbedarf pro Einheit","Kategorie Shoes nahe SOLL-Grenze","Lieferpeak im Zeitraum MrzApril"],allocationDate:null,bookmarked:!1,simulationDate:null,initiallyAllocated:!1},{id:"2",articleNumber:"ART-20251002",color:"Blau",colorHex:"#2563eb",status:"In Planung",description:"Sport T-Shirt Performance Fit",articleGroup:"Apparel",season:"Frhjahr/Sommer 2025",deliveryFrom:"2025-02-15",deliveryTo:"2025-02-28",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:5600,sizeCount:5,capacityNeed:"12 m / 2 Warentrger",capacityImpact:"Ausgeglichen",capacityImpactReason:["Moderater Flchenbedarf","Kategorie Apparel mit ausreichender Kapazitt","Gleichmige Verteilung im Lieferzeitraum"],allocationDate:null,bookmarked:!1,simulationDate:null,initiallyAllocated:!1},{id:"3",articleNumber:"ART-20251003",color:"Rot",colorHex:"#dc2626",status:"Allokiert",description:"Winterjacke Premium Isolation",articleGroup:"Apparel",season:"Herbst/Winter 2025",deliveryFrom:"2025-09-01",deliveryTo:"2025-09-20",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:1200,sizeCount:6,capacityNeed:"25 m / 4 Warentrger",capacityImpact:"berkapazitt",capacityImpactReason:["Hoher Flchenbedarf pro Einheit","Saisonaler Peak in Herbst/Winter","Viele Artikel im selben Zeitfenster"],allocationDate:"2024-12-10",bookmarked:!1,simulationDate:null,initiallyAllocated:!0},{id:"4",articleNumber:"ART-20251004",color:"Grn",colorHex:"#16a34a",status:"Offen",description:"Fitness Hose Stretch Comfort",articleGroup:"Apparel",season:"NOS",deliveryFrom:"2025-01-10",deliveryTo:"2025-01-25",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:3200,sizeCount:8,capacityNeed:"15 m / 2 Warentrger",capacityImpact:"Ausgeglichen",capacityImpactReason:["Ausgeglichener Kapazittsbeitrag","NOS-Artikel mit gleichmiger Distribution","Keine zeitliche Verdichtung"],allocationDate:null,bookmarked:!1,simulationDate:null,initiallyAllocated:!1},{id:"5",articleNumber:"ART-20251005",color:"Wei",colorHex:"#ffffff",status:"In Planung",description:"Sneakers Urban Style Low",articleGroup:"Shoes",season:"Frhjahr/Sommer 2025",deliveryFrom:"2025-04-01",deliveryTo:"2025-04-15",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:1800,sizeCount:10,capacityNeed:"20 m / 3 Warentrger",capacityImpact:"berkapazitt",capacityImpactReason:["Hoher Flchenbedarf pro Einheit","Kategorie Shoes nahe SOLL-Grenze","berlappender Liefertermin mit anderen Shoes-Artikeln"],allocationDate:null,bookmarked:!1,simulationDate:null,initiallyAllocated:!1},{id:"6",articleNumber:"ART-20251006",color:"Grau",colorHex:"#6b7280",status:"Allokiert",description:"Smartwatch Fitness Tracker Pro",articleGroup:"Electronics",season:"NOS",deliveryFrom:"2025-02-01",deliveryTo:"2025-02-10",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:800,sizeCount:1,capacityNeed:"5 m / 1 Warentrger",capacityImpact:"Untererfllung",capacityImpactReason:["Geringer Kapazittsbeitrag","Kategorie Electronics mit freier SOLL-Kapazitt","Wenige Artikel im Lieferzeitraum"],allocationDate:"2024-11-20",bookmarked:!1,simulationDate:null,initiallyAllocated:!0},{id:"7",articleNumber:"ART-20251007",color:"Braun",colorHex:"#92400e",status:"Offen",description:"Leder Grtel Classic",articleGroup:"Accessories",season:"NOS",deliveryFrom:"2025-03-10",deliveryTo:"2025-03-20",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:1500,sizeCount:7,capacityNeed:"8 m / 1 Warentrger",capacityImpact:"Untererfllung",capacityImpactReason:["Geringer Kapazittsbeitrag","Kategorie Accessories mit freier SOLL-Kapazitt","Niedriger Flchenbedarf"],allocationDate:null,bookmarked:!1,simulationDate:null,initiallyAllocated:!1},{id:"8",articleNumber:"ART-20251008",color:"Navy",colorHex:"#1e3a8a",status:"In Planung",description:"Rucksack Outdoor Adventure 30L",articleGroup:"Accessories",season:"Frhjahr/Sommer 2025",deliveryFrom:"2025-05-01",deliveryTo:"2025-05-15",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:950,sizeCount:2,capacityNeed:"10 m / 2 Warentrger",capacityImpact:"Ausgeglichen",capacityImpactReason:["Moderater Flchenbedarf","Kategorie Accessories mit ausreichender Kapazitt","Sptes Lieferfenster mit wenig Konkurrenz"],allocationDate:null,bookmarked:!1,simulationDate:null,initiallyAllocated:!1}],fs={Offen:"var(--status-warning)","In Planung":"var(--status-info)",Allokiert:"var(--status-success)",Simuliert:"#8b5cf6"},ps={berkapazitt:"#ef4444",Untererfllung:"#3b82f6",Ausgeglichen:"#10b981"},ote={berkapazitt:cl,Untererfllung:Lp,Ausgeglichen:$S},lO=[{id:"RUN-2025-W50-001",type:"initial",startDate:"2025-12-16 09:30",status:"Abgeschlossen",articleCount:156},{id:"RUN-2025-W49-R12",type:"replenishment",startDate:"2025-12-10 14:15",status:"Abgeschlossen",articleCount:89},{id:"RUN-2025-W49-R11",type:"replenishment",startDate:"2025-12-09 10:00",status:"Abgeschlossen",articleCount:67},{id:"RUN-2025-W48-M03",type:"manual",startDate:"2025-12-05 16:45",status:"Abgeschlossen",articleCount:34},{id:"RUN-2025-W50-R13",type:"replenishment",startDate:"2025-12-15 11:20",status:"Luft",articleCount:45},{id:"RUN-2025-W51-R14",type:"replenishment",startDate:"2025-12-18 09:00",status:"Geplant",articleCount:52}];function ste({onNavigate:e}){const[t,r]=z.useState(bc),[n,i]=z.useState(!0);z.useEffect(()=>{(async()=>{i(!0);try{r(bc)}catch(he){console.error("Failed to load work data:",he),r(bc)}finally{i(!1)}})()},[]);const[o,l]=z.useState([]),[u,d]=z.useState(!1),[f,v]=z.useState(!1),[h,m]=z.useState([]),[b,w]=z.useState(!0),[x,y]=z.useState(!1),[j,k]=z.useState(null),[S,N]=z.useState("initial"),[A,O]=z.useState(!1),[_,T]=z.useState(null),[E,D]=z.useState(""),[I,L]=z.useState(""),[M,V]=z.useState([]),[H,q]=z.useState([]),[X,W]=z.useState([]),[F,Y]=z.useState(""),[$,B]=z.useState(""),[re,le]=z.useState(null),[pe,se]=z.useState(null),[ne,ye]=z.useState(null),[ie,ve]=z.useState("status"),[we,ce]=z.useState("status"),Ie=z.useMemo(()=>t.some(U=>U.status==="Simuliert"),[t]),Me=Array.from(new Set(bc.map(U=>U.articleGroup))),tt=Array.from(new Set(bc.map(U=>U.season))),rt=["berkapazitt","Untererfllung","Ausgeglichen"],Ye=U=>U.deliveryFromSimulation||U.deliveryFrom,Ut=U=>U.deliveryToSimulation||U.deliveryTo,ct=z.useMemo(()=>S==="initial"?t:t.filter(U=>U.initiallyAllocated),[t,S]),it=z.useMemo(()=>ct.filter(U=>{if(M.length>0&&!M.includes(U.articleGroup)||H.length>0&&!H.includes(U.season)||X.length>0&&!X.includes(U.capacityImpact))return!1;const he=Ye(U),je=Ut(U);return!(F&&he<F||$&&je>$||re&&U.status!==re||pe&&U.capacityImpact!==pe||ne&&he.substring(0,7)!==ne)}),[ct,M,H,X,F,$,re,pe,ne]),Ht=z.useMemo(()=>{const U={Offen:0,"In Planung":0,Allokiert:0,Simuliert:0};return it.forEach(he=>{U[he.status]++}),Object.entries(U).map(([he,je])=>({name:he,value:je})).filter(he=>he.value>0)},[it]),nr=z.useMemo(()=>{const U={berkapazitt:0,Untererfllung:0,Ausgeglichen:0};return it.forEach(he=>{U[he.capacityImpact]++}),Object.entries(U).map(([he,je])=>({name:he,value:je}))},[it]),Ge=z.useMemo(()=>{const U=new Map;return it.forEach(he=>{const je=Ye(he).substring(0,7);U.has(je)||U.set(je,{Offen:0,"In Planung":0,Allokiert:0,Simuliert:0});const vt=U.get(je);vt[he.status]++}),Array.from(U.entries()).sort((he,je)=>he[0].localeCompare(je[0])).map(([he,je])=>({month:new Date(he+"-01").toLocaleDateString("de-DE",{month:"short",year:"numeric"}),monthKey:he,...je}))},[it]),qe=z.useMemo(()=>{const U=new Map;return it.forEach(he=>{const je=Ye(he).substring(0,7);U.has(je)||U.set(je,{berkapazitt:0,Untererfllung:0,Ausgeglichen:0});const vt=U.get(je);vt[he.capacityImpact]++}),Array.from(U.entries()).sort((he,je)=>he[0].localeCompare(je[0])).map(([he,je])=>({month:new Date(he+"-01").toLocaleDateString("de-DE",{month:"short",year:"numeric"}),monthKey:he,...je}))},[it]),ht=z.useMemo(()=>t.filter(U=>U.bookmarked).length,[t]),ut=z.useMemo(()=>t.filter(U=>U.bookmarked&&U.capacityImpact==="berkapazitt").length,[t]),nt=U=>{r(he=>he.map(je=>je.id===U&&je.status!=="Allokiert"?{...je,bookmarked:!je.bookmarked}:je))},gr=()=>{r(U=>U.map(he=>o.includes(he.id)&&he.status!=="Allokiert"?{...he,bookmarked:!0}:he)),l([])},vn=()=>{const U=t.filter(he=>he.bookmarked);if(U.length===0){k({message:"Keine Artikel fr Allokation ausgewhlt",type:"error"}),setTimeout(()=>k(null),3e3);return}m(U),d(!0)},Sr=U=>{m(he=>he.filter(je=>je.id!==U))},Wr=()=>{h.length!==0&&(b?(d(!1),v(!0)):(r(U=>U.map(he=>h.find(je=>je.id===he.id)?{...he,status:"In Planung",bookmarked:!1,allocationDate:new Date().toISOString().split("T")[0]}:he)),k({message:"Allokation zur Verarbeitung eingeplant",type:"success"}),setTimeout(()=>k(null),3e3),d(!1),m([])))},mn=(U,he)=>{r(je=>je.map(vt=>{if(h.find(Kt=>Kt.id===vt.id)){let Kt,Tt;if(U==="custom"&&he)Kt=new Date(he.from),Tt=new Date(he.to);else switch(Kt=new Date(vt.deliveryFrom),Tt=new Date(vt.deliveryTo),U){case"plus1week":Kt.setDate(Kt.getDate()+7),Tt.setDate(Tt.getDate()+7);break;case"plus2weeks":Kt.setDate(Kt.getDate()+14),Tt.setDate(Tt.getDate()+14);break;case"minus1week":Kt.setDate(Kt.getDate()-7),Tt.setDate(Tt.getDate()-7);break}return{...vt,status:"Simuliert",deliveryFromSimulation:Kt.toISOString().split("T")[0],deliveryToSimulation:Tt.toISOString().split("T")[0],bookmarked:!1,simulationDate:new Date().toISOString().split("T")[0]}}return vt})),k({message:"Simulation erfolgreich bernommen",type:"success"}),setTimeout(()=>k(null),3e3),v(!1),m([])},Or=()=>{r(U=>U.map(he=>h.find(je=>je.id===he.id)?{...he,status:"In Planung",bookmarked:!1,allocationDate:new Date().toISOString().split("T")[0]}:he)),k({message:"Allokation zur Verarbeitung freigegeben",type:"success"}),setTimeout(()=>k(null),3e3),v(!1),m([])},Yr=U=>{const he=t.filter(je=>je.status==="Simuliert").map(je=>je.id);r(je=>je.map(vt=>he.includes(vt.id)?{...vt,status:"Offen",deliveryFromSimulation:null,deliveryToSimulation:null,simulationDate:null}:vt)),k({message:"Simulation verworfen",type:"success"}),setTimeout(()=>k(null),3e3)},Wi=U=>{switch(U){case"groups":V([]);break;case"seasons":q([]);break;case"capacity":W([]);break;case"delivery":Y(""),B("");break;case"status":le(null);break;case"capacityImpact":se(null);break;case"month":ye(null);break}},ga=U=>{S==="initial"?e("runs",{runId:lO[0].id}):O(!0)},ee=()=>{_&&(e("runs",{runId:_}),O(!1),T(null),D(""),L(""))},ke=z.useMemo(()=>lO.filter(U=>S==="initial"?U.type==="initial":S==="replenishment"?U.type==="replenishment":S==="manual"?U.type==="manual":!(E&&U.startDate<E||I&&U.startDate>I)),[S,E,I]),ue=[];M.length>0&&ue.push({type:"groups",label:`Gruppe: ${M.join(", ")}`}),H.length>0&&ue.push({type:"seasons",label:`Saison: ${H.join(", ")}`}),X.length>0&&ue.push({type:"capacity",label:`Kapazittswirkung: ${X.join(", ")}`}),(F||$)&&ue.push({type:"delivery",label:`Liefertermin: ${F} - ${$}`}),re&&ue.push({type:"status",label:`Status: ${re}`}),pe&&ue.push({type:"capacityImpact",label:`Kapazittswirkung: ${pe}`}),ne&&ue.push({type:"month",label:`Monat: ${ne}`});const J=[{key:"bookmarked",label:"Vormerken",align:"center",width:"80px",render:(U,he)=>a.jsx("input",{type:"checkbox",checked:U,disabled:he.status==="Allokiert",onChange:()=>nt(he.id),onClick:je=>je.stopPropagation(),className:"w-4 h-4 cursor-pointer",style:{accentColor:"var(--brand-primary)",opacity:he.status==="Allokiert"?.5:1}})},{key:"articleNumber",label:"Artikelnummer",sortable:!0,width:"140px",render:U=>a.jsx("code",{className:"cursor-pointer hover:underline",style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:U})},{key:"color",label:"Farbe",width:"120px",render:(U,he)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:he.colorHex,borderColor:"var(--border-default)"}}),a.jsx("span",{children:U})]})},{key:"status",label:"Status",width:"140px",render:(U,he)=>a.jsxs("div",{className:"group relative",children:[a.jsx("span",{className:"px-3 py-1 rounded-full cursor-help whitespace-nowrap inline-block",style:{backgroundColor:fs[U],color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:U}),U==="Simuliert"&&a.jsxs("div",{className:"absolute bottom-full left-0 mb-2 px-4 py-3 rounded-lg shadow-lg opacity-0 pointer-events-none group-hover:opacity-100 transition-opacity whitespace-nowrap z-50",style:{backgroundColor:"var(--text-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",boxShadow:"var(--shadow-lg)",minWidth:"280px"},children:["Fr diesen Artikel liegt ein bernommener Simulationsvorschlag vor.",a.jsx("br",{}),"Die Allokation wurde noch nicht freigegeben."]})]})},{key:"description",label:"Artikelbeschreibung",render:U=>a.jsx("div",{style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:U})},{key:"articleGroup",label:"Artikelgruppe",sortable:!0},{key:"season",label:"Saison"},{key:"deliveryFrom",label:"Liefertermin von (Plan)",render:U=>new Date(U).toLocaleDateString("de-DE")},{key:"deliveryTo",label:"Liefertermin bis (Plan)",render:U=>new Date(U).toLocaleDateString("de-DE")},{key:"deliveryFromSimulation",label:"Liefertermin von (Simulation)",render:(U,he)=>U?a.jsxs("div",{className:"group relative flex items-center gap-1",children:[a.jsx(Ud,{size:14,style:{color:"#8b5cf6"}}),a.jsx("span",{children:new Date(U).toLocaleDateString("de-DE")}),a.jsxs("div",{className:"absolute bottom-full left-0 mb-2 px-4 py-3 rounded-lg shadow-lg opacity-0 pointer-events-none group-hover:opacity-100 transition-opacity whitespace-nowrap z-50",style:{backgroundColor:"var(--text-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",boxShadow:"var(--shadow-lg)"},children:["Liefertermin aus letzter Simulation",a.jsx("br",{}),"Noch nicht produktiv freigegeben"]})]}):a.jsx("span",{style:{color:"var(--text-muted)"},children:"-"})},{key:"deliveryToSimulation",label:"Liefertermin bis (Simulation)",render:(U,he)=>U?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ud,{size:14,style:{color:"#8b5cf6"}}),a.jsx("span",{children:new Date(U).toLocaleDateString("de-DE")})]}):a.jsx("span",{style:{color:"var(--text-muted)"},children:"-"})},{key:"stockDC",label:"Bestand im VZ",align:"right"},{key:"sizeCount",label:"Anzahl Gren",align:"right"},{key:"capacityNeed",label:"Kapazittsbedarf",render:U=>a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:U})},{key:"capacityImpact",label:a.jsxs("div",{className:"flex items-center gap-1 group relative",children:[a.jsx("span",{children:"Kapazittswirkung"}),Ie&&a.jsxs(a.Fragment,{children:[a.jsx(Ud,{size:14,style:{color:"#8b5cf6"}}),a.jsxs("div",{className:"absolute bottom-full left-0 mb-2 px-4 py-3 rounded-lg shadow-lg opacity-0 pointer-events-none group-hover:opacity-100 transition-opacity whitespace-nowrap z-50",style:{backgroundColor:"var(--text-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",boxShadow:"var(--shadow-lg)"},children:["Kapazittswirkung basiert auf Simulationsvorschlgen,",a.jsx("br",{}),"sofern vorhanden"]})]})]}),sortable:!0,render:(U,he)=>{const je=ote[U];return a.jsxs("div",{className:"group relative",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full cursor-help",style:{backgroundColor:`${ps[U]}15`,color:ps[U],fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",width:"fit-content"},children:[a.jsx(je,{size:14}),a.jsx("span",{children:U})]}),a.jsxs("div",{className:"absolute bottom-full left-0 mb-2 px-4 py-3 rounded-lg shadow-lg opacity-0 pointer-events-none group-hover:opacity-100 transition-opacity whitespace-nowrap",style:{backgroundColor:"var(--text-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",boxShadow:"var(--shadow-lg)",zIndex:50,minWidth:"280px"},children:[a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:U==="berkapazitt"?"berkapazittsrisiko":U==="Untererfllung"?"Untererfllungsrisiko":"Ausgeglichene Kapazitt"}),a.jsx("ul",{style:{listStyle:"disc",paddingLeft:"16px",lineHeight:"1.5"},children:he.capacityImpactReason.map((vt,Qr)=>a.jsx("li",{children:vt},Qr))})]})]})}},{key:"allocationDate",label:"Allokationsdatum",render:U=>U?new Date(U).toLocaleDateString("de-DE"):"-"},{key:"id",label:"Allokationslauf",align:"center",width:"140px",render:(U,he)=>a.jsxs("button",{onClick:je=>{je.stopPropagation(),ga()},className:"group flex items-center justify-center gap-2 px-3 py-1.5 rounded-lg border transition-all",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-xs)"},title:"Allokationslauf ffnen",children:[a.jsx(mE,{size:14}),a.jsx("span",{children:"Lauf ffnen"})]})}],de=t.filter(U=>U.status==="Simuliert");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Arbeitsvorrat"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Verwalten Sie initiale Allokationen, simulieren Sie Verteilungen und geben Sie diese frei"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[de.length>0&&a.jsxs("button",{onClick:()=>Yr(),className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:[a.jsx(US,{size:16}),"Simulation verwerfen (",de.length,")"]}),de.length>0&&a.jsxs("button",{onClick:()=>e("allocationAnalysis"),className:"px-4 py-2 rounded-lg border flex items-center gap-2 hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:[a.jsx(Qt,{size:16}),"Allokationsanalyse"]}),a.jsx("button",{className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Plan & Vorschau"}),a.jsx("button",{onClick:vn,disabled:ht===0,className:"px-4 py-2 rounded-lg",style:{backgroundColor:ht>0?"var(--button-primary-bg)":"var(--border-default)",color:"var(--button-primary-text)",height:"var(--height-button-md)",cursor:ht>0?"pointer":"not-allowed",opacity:ht>0?1:.5},children:"Allokation durchfhren"})]})]}),a.jsxs("div",{className:"flex items-center gap-1 border rounded p-1",style:{borderColor:"var(--border-input)",width:"fit-content"},children:[a.jsx("button",{onClick:()=>N("initial"),className:"px-4 py-2 rounded",style:{backgroundColor:S==="initial"?"var(--brand-primary)":"transparent",color:S==="initial"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Erstallokation"}),a.jsx("button",{onClick:()=>N("replenishment"),className:"px-4 py-2 rounded",style:{backgroundColor:S==="replenishment"?"var(--brand-primary)":"transparent",color:S==="replenishment"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Nachschub"}),a.jsx("button",{onClick:()=>N("manual"),className:"px-4 py-2 rounded",style:{backgroundColor:S==="manual"?"var(--brand-primary)":"transparent",color:S==="manual"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Manuelle Einsteuerung"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsx("div",{className:"relative",children:a.jsxs("select",{multiple:!0,value:M,onChange:U=>{const he=Array.from(U.target.selectedOptions,je=>je.value);V(he)},className:"px-3 py-2 border rounded-lg min-w-[200px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},size:1,children:[a.jsx("option",{value:"",disabled:!0,children:"Artikelgruppe"}),Me.map(U=>a.jsx("option",{value:U,children:U},U))]})}),a.jsx("div",{className:"relative",children:a.jsxs("select",{multiple:!0,value:H,onChange:U=>{const he=Array.from(U.target.selectedOptions,je=>je.value);q(he)},className:"px-3 py-2 border rounded-lg min-w-[200px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},size:1,children:[a.jsx("option",{value:"",disabled:!0,children:"Saison"}),tt.map(U=>a.jsx("option",{value:U,children:U},U))]})}),a.jsx("div",{className:"relative",children:a.jsxs("select",{multiple:!0,value:X,onChange:U=>{const he=Array.from(U.target.selectedOptions,je=>je.value);W(he)},className:"px-3 py-2 border rounded-lg min-w-[200px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},size:1,children:[a.jsx("option",{value:"",disabled:!0,children:"Kapazittswirkung"}),rt.map(U=>a.jsx("option",{value:U,children:U},U))]})}),a.jsx("div",{className:"relative",children:a.jsxs("select",{value:re||"",onChange:U=>le(U.target.value||null),className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"",children:"Status (Alle)"}),a.jsx("option",{value:"Offen",children:"Offen"}),a.jsx("option",{value:"In Planung",children:"In Planung"}),a.jsx("option",{value:"Simuliert",children:"Simuliert"}),a.jsx("option",{value:"Allokiert",children:"Allokiert"})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"date",value:F,onChange:U=>Y(U.target.value),placeholder:"Von",className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"}}),a.jsx("span",{style:{color:"var(--text-muted)"},children:"bis"}),a.jsx("input",{type:"date",value:$,onChange:U=>B(U.target.value),placeholder:"Bis",className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"}})]})]}),ue.length>0&&a.jsx("div",{className:"flex flex-wrap items-center gap-2",children:ue.map((U,he)=>a.jsxs("span",{className:"px-3 py-1 rounded-full flex items-center gap-2",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:[U.label,a.jsx("button",{onClick:()=>Wi(U.type),className:"hover:opacity-70",children:a.jsx(Et,{size:14})})]},he))}),Ie&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded",style:{backgroundColor:"#8b5cf615",border:"1px solid #8b5cf630",fontSize:"var(--font-size-xs)",color:"#8b5cf6"},children:[a.jsx(Ud,{size:16}),a.jsx("span",{children:"Ansicht: Simulation  Diagramme und Kapazittswirkung basieren auf bernommenen Simulationswerten"})]}),a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsxs("div",{className:"col-span-3 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",minHeight:"280px"},children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)"},children:"Allokationsstatus"})}),a.jsxs("div",{className:"flex items-center gap-1 mb-3 border rounded p-1",style:{borderColor:"var(--border-input)",width:"fit-content"},children:[a.jsx("button",{onClick:()=>ve("status"),className:"px-2 py-1 rounded",style:{backgroundColor:ie==="status"?"var(--brand-primary)":"transparent",color:ie==="status"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Status"}),a.jsx("button",{onClick:()=>ve("capacity"),className:"px-2 py-1 rounded",style:{backgroundColor:ie==="capacity"?"var(--brand-primary)":"transparent",color:ie==="capacity"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Kapazitt"})]}),a.jsx(Yt,{width:"100%",height:180,minHeight:180,children:a.jsxs(nI,{children:[a.jsx(va,{data:ie==="status"?Ht:nr,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:55,label:({name:U,percent:he})=>`${U} ${(he*100).toFixed(0)}%`,onClick:U=>{ie==="status"?le(U.name):se(U.name)},style:{cursor:"pointer",fontSize:"var(--font-size-xs)"},children:(ie==="status"?Ht:nr).map((U,he)=>a.jsx(hl,{fill:ie==="status"?fs[U.name]:ps[U.name]},he))}),a.jsx(st,{})]})})]}),a.jsxs("div",{className:"col-span-9 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",minHeight:"280px"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)"},children:"Allokationen nach Monat"}),a.jsxs("div",{className:"flex items-center gap-1 border rounded p-1",style:{borderColor:"var(--border-input)"},children:[a.jsx("button",{onClick:()=>ce("status"),className:"px-2 py-1 rounded",style:{backgroundColor:we==="status"?"var(--brand-primary)":"transparent",color:we==="status"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Status"}),a.jsx("button",{onClick:()=>ce("capacity"),className:"px-2 py-1 rounded",style:{backgroundColor:we==="capacity"?"var(--brand-primary)":"transparent",color:we==="capacity"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Kapazitt"})]})]}),a.jsx(Yt,{width:"100%",height:210,minHeight:210,children:we==="status"?a.jsxs(Pr,{data:Ge,children:[a.jsx(bt,{dataKey:"month",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(Re,{dataKey:"Offen",stackId:"a",fill:fs.Offen,onClick:U=>{ye(U.monthKey),le("Offen")},style:{cursor:"pointer"}}),a.jsx(Re,{dataKey:"In Planung",stackId:"a",fill:fs["In Planung"],onClick:U=>{ye(U.monthKey),le("In Planung")},style:{cursor:"pointer"}}),a.jsx(Re,{dataKey:"Simuliert",stackId:"a",fill:fs.Simuliert,onClick:U=>{ye(U.monthKey),le("Simuliert")},style:{cursor:"pointer"}}),a.jsx(Re,{dataKey:"Allokiert",stackId:"a",fill:fs.Allokiert,onClick:U=>{ye(U.monthKey),le("Allokiert")},style:{cursor:"pointer"}})]}):a.jsxs(Pr,{data:qe,children:[a.jsx(bt,{dataKey:"month",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(Re,{dataKey:"berkapazitt",stackId:"a",fill:ps.berkapazitt,onClick:U=>{ye(U.monthKey),se("berkapazitt")},style:{cursor:"pointer"}}),a.jsx(Re,{dataKey:"Untererfllung",stackId:"a",fill:ps.Untererfllung,onClick:U=>{ye(U.monthKey),se("Untererfllung")},style:{cursor:"pointer"}}),a.jsx(Re,{dataKey:"Ausgeglichen",stackId:"a",fill:ps.Ausgeglichen,onClick:U=>{ye(U.monthKey),se("Ausgeglichen")},style:{cursor:"pointer"}})]})})]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[o.length," Artikel ausgewhlt"]}),ut>0&&a.jsxs("div",{className:"mt-2 flex items-center gap-2 px-3 py-2 rounded",style:{backgroundColor:"var(--surface-warning-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-warning)"},children:[a.jsx(Qt,{size:16}),a.jsx("span",{children:"Hinweis: Die Auswahl enthlt Artikel mit mglichem Kapazittsengpass."})]})]}),a.jsx("button",{onClick:gr,disabled:o.length===0,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)",opacity:o.length>0?1:.5,cursor:o.length>0?"pointer":"not-allowed"},children:"Allokation vormerken"})]}),a.jsx(Nr,{columns:J,data:it,density:"comfortable",selectable:!0,selectedRows:o,onSelectionChange:l})]}),u&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:()=>d(!1),children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-3xl max-h-[80vh] overflow-y-auto",style:{boxShadow:"var(--shadow-lg)"},onClick:U=>U.stopPropagation(),children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Allokation durchfhren"}),h.filter(U=>U.capacityImpact==="berkapazitt"||U.capacityImpact==="Untererfllung").length>0&&a.jsxs("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Kapazittszusammenfassung"}),a.jsxs("div",{className:"space-y-1",style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:[h.filter(U=>U.capacityImpact==="berkapazitt").length>0&&a.jsxs("div",{children:[" Anzahl Artikel mit berkapazittsrisiko: ",a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)"},children:h.filter(U=>U.capacityImpact==="berkapazitt").length})]}),h.filter(U=>U.capacityImpact==="Untererfllung").length>0&&a.jsxs("div",{children:[" Anzahl Artikel mit Untererfllungsrisiko: ",a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)"},children:h.filter(U=>U.capacityImpact==="Untererfllung").length})]})]}),a.jsx("div",{className:"mt-3 pt-3",style:{borderTop:"1px solid var(--border-info)",fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Die Kapazittswirkung basiert auf prognostischen Daten und wird in der Simulation konkretisiert."})]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:b,onChange:U=>w(U.target.checked),className:"w-4 h-4",style:{accentColor:"var(--brand-primary)"}}),a.jsxs("div",{children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Allokation simulieren"}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Bei Aktivierung werden keine realen Allokationen erzeugt."})]})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x,onChange:U=>y(U.target.checked),className:"w-4 h-4",style:{accentColor:"var(--brand-primary)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Hintergrundverarbeitung einplanen"})]}),x&&a.jsxs("div",{className:"ml-7 flex items-center gap-3",children:[a.jsx("input",{type:"date",className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)"}}),a.jsx("input",{type:"time",className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)"}})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-3)"},children:["Ausgewhlte Artikel (",h.length,")"]}),a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:h.map(U=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:U.colorHex}}),a.jsxs("div",{children:[a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:U.articleNumber}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"2px"},children:U.description})]})]}),a.jsx("button",{onClick:()=>Sr(U.id),className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:16,style:{color:"var(--text-muted)"}})})]},U.id))})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3",children:[a.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsx("button",{onClick:Wr,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:b?"Simulation starten":"Allokation starten"})]})]})}),f&&a.jsx(ite,{articles:h,onBack:()=>{v(!1)},onAccept:mn,onDiscard:()=>{v(!1),m([])},onRelease:Or}),A&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:()=>{O(!1),T(null),D(""),L("")},children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-3xl",style:{boxShadow:"var(--shadow-lg)"},onClick:U=>U.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Allokationslauf auswhlen"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Whlen Sie einen bestehenden Allokationslauf aus, um die Details anzuzeigen"})]}),a.jsx("button",{onClick:()=>{O(!1),T(null),D(""),L("")},className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-subtle)"},children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Datum von"}),a.jsx("input",{type:"date",value:E,onChange:U=>D(U.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Datum bis"}),a.jsx("input",{type:"date",value:I,onChange:U=>L(U.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",fontSize:"var(--font-size-sm)"}})]})]})}),a.jsxs("div",{className:"p-6",style:{maxHeight:"400px",overflowY:"auto"},children:[a.jsx("h4",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Letzte Allokationslufe"}),a.jsx("div",{className:"overflow-hidden rounded-lg border",style:{borderColor:"var(--border-default)"},children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)",backgroundColor:"var(--surface-alt)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"60px"}}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Lauf-ID"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Typ"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Startdatum"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Status"}),a.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Artikelanzahl"})]})}),a.jsx("tbody",{children:ke.map(U=>a.jsxs("tr",{onClick:()=>T(U.id),className:"cursor-pointer hover:bg-surface-tint transition-colors",style:{borderBottom:"1px solid var(--border-subtle)",backgroundColor:_===U.id?"var(--surface-info-subtle)":"transparent"},children:[a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("input",{type:"radio",checked:_===U.id,onChange:()=>T(U.id),className:"cursor-pointer",style:{accentColor:"var(--brand-primary)"}})}),a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:U.id})}),a.jsx("td",{style:{padding:"12px 16px",fontSize:"var(--font-size-sm)"},children:a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:U.type==="initial"?"var(--surface-info-subtle)":U.type==="replenishment"?"var(--surface-success-subtle)":"var(--surface-warning-subtle)",color:U.type==="initial"?"var(--status-info)":U.type==="replenishment"?"var(--status-success)":"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:U.type==="initial"?"Initial":U.type==="replenishment"?"Nachschub":"Manuell"})}),a.jsx("td",{style:{padding:"12px 16px",fontSize:"var(--font-size-sm)"},children:new Date(U.startDate).toLocaleString("de-DE")}),a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:U.status==="Abgeschlossen"?"var(--status-success)":U.status==="Luft"?"var(--status-info)":U.status==="Geplant"?"var(--status-warning)":"var(--status-danger)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:U.status})}),a.jsx("td",{style:{padding:"12px 16px",textAlign:"right",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:U.articleCount})]},U.id))})]})})]}),a.jsxs("div",{className:"p-6 border-t flex items-start justify-between",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",maxWidth:"450px"},children:[a.jsx(Qt,{size:14,style:{display:"inline",marginRight:"6px"}}),"Der ausgewhlte Allokationslauf wird schreibgeschtzt geffnet, sofern er bereits abgeschlossen ist."]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>{O(!1),T(null),D(""),L("")},className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsxs("button",{onClick:ee,disabled:!_,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{backgroundColor:_?"var(--brand-primary)":"var(--border-default)",color:"var(--text-inverse)",height:"var(--height-button-md)",opacity:_?1:.5,cursor:_?"pointer":"not-allowed"},children:[a.jsx(Rp,{size:18}),"Allokationslauf ffnen"]})]})]})]})}),j&&a.jsxs("div",{className:"fixed bottom-6 right-6 px-6 py-3 rounded-lg shadow-lg flex items-center gap-3 animate-slide-up",style:{backgroundColor:j.type==="success"?"var(--status-success)":"var(--status-danger)",color:"var(--text-inverse)",boxShadow:"var(--shadow-lg)",zIndex:100},children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:j.message}),a.jsx("button",{onClick:()=>k(null),className:"hover:opacity-70",children:a.jsx(Et,{size:18})})]})]})}const Eb=[{id:"RUN-2025-W50-001",type:"initial",status:"Abgeschlossen",startDate:"2025-12-16 09:30",endDate:"2025-12-16 11:45",articleCount:156,storeCount:12,user:"M. Weber"},{id:"RUN-2025-W50-002",type:"replenishment",status:"Abgeschlossen",startDate:"2025-12-15 14:20",endDate:"2025-12-15 15:30",articleCount:89,storeCount:10,user:"S. Mller"},{id:"RUN-2025-W50-003",type:"manual",status:"Mit Ausnahmen",startDate:"2025-12-14 10:15",endDate:"2025-12-14 12:00",articleCount:45,storeCount:8,user:"A. Schmidt"},{id:"RUN-2025-W49-001",type:"initial",status:"Abgeschlossen",startDate:"2025-12-09 08:00",endDate:"2025-12-09 10:30",articleCount:203,storeCount:12,user:"M. Weber"},{id:"RUN-2025-W49-002",type:"replenishment",status:"Abgeschlossen",startDate:"2025-12-08 13:45",endDate:"2025-12-08 14:50",articleCount:67,storeCount:9,user:"T. Fischer"},{id:"RUN-2025-W48-001",type:"manual",status:"Abgeschlossen",startDate:"2025-12-02 11:30",endDate:"2025-12-02 13:15",articleCount:34,storeCount:6,user:"S. Mller"},{id:"RUN-2025-W47-001",type:"initial",status:"Luft",startDate:"2025-11-25 09:00",articleCount:178,storeCount:12,user:"M. Weber",progress:65}],lte=[{id:"1",articleNumber:"ART-20251001",description:"Running Schuhe Pro Trail Max mit Dmpfung",color:"Schwarz",colorHex:"#000000",season:"Frhjahr/Sommer 2025",allocationFrom:"2025-03-01",allocationTo:"2025-03-15",storeCount:8,totalQuantity:240,capacityImpact:"berkapazitt",hasExceptions:!0,sizeCount:12,allocationDate:"2025-12-16"},{id:"2",articleNumber:"ART-20251002",description:"Sport T-Shirt Performance Fit",color:"Blau",colorHex:"#2563eb",season:"Frhjahr/Sommer 2025",allocationFrom:"2025-02-15",allocationTo:"2025-02-28",storeCount:12,totalQuantity:560,capacityImpact:"Ausgeglichen",hasExceptions:!1,sizeCount:5,allocationDate:"2025-12-16"},{id:"3",articleNumber:"ART-20251003",description:"Winterjacke Premium Isolation",color:"Rot",colorHex:"#dc2626",season:"Herbst/Winter 2025",allocationFrom:"2025-10-01",allocationTo:"2025-10-15",storeCount:10,totalQuantity:180,capacityImpact:"Untererfllung",hasExceptions:!1,sizeCount:6,allocationDate:"2025-12-16"}],hs=[{storeId:"ZH-001",storeName:"Zrich HB",storeDescription:"Hauptbahnhof Zrich",allocatedQuantity:45,demand:50,overUnder:-5,targetStock:60,currentStock:15,salesLast2Weeks:35},{storeId:"BE-001",storeName:"Bern",storeDescription:"Bern Innenstadt",allocatedQuantity:30,demand:28,overUnder:2,targetStock:40,currentStock:12,salesLast2Weeks:22},{storeId:"BS-001",storeName:"Basel",storeDescription:"Basel SBB",allocatedQuantity:38,demand:40,overUnder:-2,targetStock:50,currentStock:10,salesLast2Weeks:28},{storeId:"LU-001",storeName:"Luzern",storeDescription:"Luzern Bahnhofstrasse",allocatedQuantity:25,demand:22,overUnder:3,targetStock:35,currentStock:13,salesLast2Weeks:18},{storeId:"LS-001",storeName:"Lausanne",storeDescription:"Lausanne Gare",allocatedQuantity:32,demand:35,overUnder:-3,targetStock:45,currentStock:11,salesLast2Weeks:25}],Oa=[{size:"36",allocatedQuantity:15,demand:18,currentStock:5,targetStock:20},{size:"37",allocatedQuantity:18,demand:20,currentStock:6,targetStock:24},{size:"38",allocatedQuantity:25,demand:25,currentStock:8,targetStock:30},{size:"39",allocatedQuantity:30,demand:28,currentStock:10,targetStock:35},{size:"40",allocatedQuantity:28,demand:30,currentStock:9,targetStock:32},{size:"41",allocatedQuantity:25,demand:22,currentStock:7,targetStock:28},{size:"42",allocatedQuantity:22,demand:20,currentStock:6,targetStock:25},{size:"43",allocatedQuantity:18,demand:15,currentStock:5,targetStock:20},{size:"44",allocatedQuantity:15,demand:12,currentStock:4,targetStock:18},{size:"45",allocatedQuantity:12,demand:10,currentStock:3,targetStock:15},{size:"46",allocatedQuantity:10,demand:8,currentStock:2,targetStock:12},{size:"47",allocatedQuantity:8,demand:6,currentStock:2,targetStock:10}],cte={berkapazitt:cl,Untererfllung:Lp,Ausgeglichen:$S},ute={berkapazitt:"#ef4444",Untererfllung:"#3b82f6",Ausgeglichen:"#10b981"},cO={initial:"Initiale Allokation",replenishment:"Nachschub",manual:"Manuelle Einsteuerung"};function dte({onNavigate:e,runId:t}){const[r,n]=z.useState(Eb),[i,o]=z.useState(!0),[l,u]=z.useState(null),[d,f]=z.useState(!1),[v,h]=z.useState(null),[m,b]=z.useState("aggregated"),[w,x]=z.useState("absolute"),[y,j]=z.useState("all"),[k,S]=z.useState(""),[N,A]=z.useState(""),[O,_]=z.useState("all");z.useEffect(()=>{(async()=>{o(!0);try{const V=(await Bp.getRuns()).map(H=>({id:H.id,type:H.type||"initial",status:H.status==="completed"?"Abgeschlossen":H.status==="running"?"Luft":H.status==="with_exceptions"?"Mit Ausnahmen":"Geplant",startDate:H.startDate||new Date().toISOString(),endDate:H.endDate,progress:H.progress||0,articleCount:H.articleCount||0,storeCount:H.storeCount||0,user:H.user||"System"}));n(V)}catch(M){console.error("Failed to load runs:",M),n(Eb)}finally{o(!1)}})()},[]);const T=z.useMemo(()=>Array.from(new Set(r.map(L=>L.user))).sort(),[r]),E=z.useMemo(()=>r.filter(L=>{if(y!=="all"&&L.type!==y||O!=="all"&&L.user!==O)return!1;if(k){const M=new Date(L.startDate),V=new Date(k);if(M<V)return!1}if(N){const M=new Date(L.startDate),V=new Date(N);if(V.setHours(23,59,59,999),M>V)return!1}return!0}),[y,k,N,O]);if(!t){const L=[{key:"id",label:"Lauf-ID",sortable:!0,width:"160px",render:M=>a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:M})},{key:"type",label:"Typ",sortable:!0,width:"180px",render:M=>a.jsx("span",{className:"px-3 py-1 rounded-full inline-block",style:{backgroundColor:M==="initial"?"var(--surface-info-subtle)":M==="replenishment"?"var(--surface-success-subtle)":"var(--surface-warning-subtle)",color:M==="initial"?"var(--status-info)":M==="replenishment"?"var(--status-success)":"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:cO[M]})},{key:"status",label:"Status",sortable:!0,width:"150px",render:M=>a.jsx("span",{className:"px-3 py-1 rounded-full inline-block",style:{backgroundColor:M==="Abgeschlossen"?"var(--status-success)":M==="Luft"?"var(--status-info)":M==="Geplant"?"var(--status-warning)":"var(--status-danger)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:M})},{key:"startDate",label:"Startdatum",sortable:!0,render:M=>new Date(M).toLocaleString("de-DE")},{key:"endDate",label:"Enddatum",render:M=>M?new Date(M).toLocaleString("de-DE"):"-"},{key:"user",label:"Benutzer",sortable:!0},{key:"articleCount",label:"Anzahl Artikel",align:"right",sortable:!0,render:M=>a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)"},children:M})},{key:"storeCount",label:"Anzahl Filialen",align:"right",sortable:!0},{key:"actions",label:"Aktion",align:"center",width:"140px",render:(M,V)=>a.jsx("button",{onClick:H=>{H.stopPropagation(),e("runs",{runId:V.id})},className:"px-3 py-1.5 rounded-lg border hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-xs)"},children:"Details anzeigen"})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Allokationslufe"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"bersicht und Verwaltung aller Allokationslufe"})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(xE,{size:18,style:{color:"var(--text-muted)"}}),a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:"Filter"})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"filterType",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Allokationsprozess"}),a.jsxs("select",{id:"filterType",value:y,onChange:M=>j(M.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"all",children:"Alle Typen"}),a.jsx("option",{value:"initial",children:"Initiale Allokation"}),a.jsx("option",{value:"replenishment",children:"Nachschub"}),a.jsx("option",{value:"manual",children:"Manuelle Einsteuerung"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"filterDateFrom",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Datum von"}),a.jsx("input",{type:"date",id:"filterDateFrom",value:k,onChange:M=>S(M.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"filterDateTo",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Datum bis"}),a.jsx("input",{type:"date",id:"filterDateTo",value:N,onChange:M=>A(M.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"filterUser",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Benutzer"}),a.jsxs("select",{id:"filterUser",value:O,onChange:M=>_(M.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"all",children:"Alle Benutzer"}),T.map(M=>a.jsx("option",{value:M,children:M},M))]})]})]}),(y!=="all"||k||N||O!=="all")&&a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:()=>{j("all"),S(""),A(""),_("all")},className:"px-4 py-2 rounded-lg border hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:"Filter zurcksetzen"})})]}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[E.length," ",E.length===1?"Lauf":"Lufe"," gefunden"]}),a.jsx("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsx(Nr,{data:E,columns:L,onRowClick:M=>e("runs",{runId:M.id})})})]})}const D=Eb.find(L=>L.id===t);if(l){const L=hs.reduce((se,ne)=>se+ne.currentStock,0),M=hs.reduce((se,ne)=>se+ne.targetStock,0),V=hs.reduce((se,ne)=>se+ne.allocatedQuantity,0),H=hs.reduce((se,ne)=>se+ne.overUnder,0),q=hs.reduce((se,ne)=>se+ne.demand,0),W=[{name:"Filialbestand gesamt",value:L},{name:"Sollbestand gesamt",value:M},{name:"Allokationsmenge",value:V},{name:"ber-/Unterdeckung",value:H},{name:"Bedarf",value:q},{name:"VZ-Bestand",value:2400}],F=[{name:"Filialbestand gesamt",...Oa.reduce((se,ne)=>({...se,[ne.size]:ne.currentStock}),{})},{name:"Sollbestand gesamt",...Oa.reduce((se,ne)=>({...se,[ne.size]:ne.targetStock}),{})},{name:"Allokationsmenge",...Oa.reduce((se,ne)=>({...se,[ne.size]:ne.allocatedQuantity}),{})},{name:"ber-/Unterdeckung",...Oa.reduce((se,ne)=>({...se,[ne.size]:ne.allocatedQuantity-ne.demand}),{})},{name:"Bedarf",...Oa.reduce((se,ne)=>({...se,[ne.size]:ne.demand}),{})},{name:"VZ-Bestand",...Oa.reduce((se,ne)=>({...se,[ne.size]:200}),{})}],Y=w==="relative"?F.map(se=>{const ne=Oa.map(ve=>ve.size),ye=ne.reduce((ve,we)=>ve+(Number(se[we])||0),0);if(ye===0)return se;const ie={name:se.name};return ne.forEach(ve=>{ie[ve]=(Number(se[ve])||0)/ye*100}),ie}):F,$=W.map(se=>se.value),B=Math.min(...$),re=Math.max(...$),le=B<0?[Math.floor(B*1.1),Math.ceil(re*1.1)]:[0,Math.ceil(re*1.1)],pe=[{key:"storeName",label:"Filiale",sortable:!0,render:se=>a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:se})},{key:"storeDescription",label:"Filialbeschreibung"},{key:"allocatedQuantity",label:"Allokationsmenge",align:"right",sortable:!0,render:se=>a.jsx("button",{onClick:()=>{h({title:"Allokationsmenge",field:"allocatedQuantity"}),f(!0)},className:"hover:underline cursor-pointer",style:{fontWeight:"var(--font-weight-medium)",color:"var(--brand-primary)"},children:se})},{key:"demand",label:"Bedarf",align:"right",sortable:!0,render:se=>a.jsx("button",{onClick:()=>{h({title:"Bedarf",field:"demand"}),f(!0)},className:"hover:underline cursor-pointer",style:{fontWeight:"var(--font-weight-medium)",color:"var(--brand-primary)"},children:se})},{key:"overUnder",label:"ber-/Unterdeckung",align:"right",sortable:!0,render:se=>a.jsxs("button",{onClick:()=>{h({title:"ber-/Unterdeckung",field:"overUnder"}),f(!0)},className:"hover:underline cursor-pointer",style:{fontWeight:"var(--font-weight-medium)",color:se<0?"#ef4444":se>0?"#10b981":"inherit"},children:[se>0?"+":"",se]})},{key:"targetStock",label:"Sollbestand",align:"right",sortable:!0,render:se=>a.jsx("button",{onClick:()=>{h({title:"Sollbestand",field:"targetStock"}),f(!0)},className:"hover:underline cursor-pointer",style:{fontWeight:"var(--font-weight-medium)",color:"var(--brand-primary)"},children:se})},{key:"currentStock",label:"Filialbestand",align:"right",sortable:!0,render:se=>a.jsx("button",{onClick:()=>{h({title:"Filialbestand",field:"currentStock"}),f(!0)},className:"hover:underline cursor-pointer",style:{fontWeight:"var(--font-weight-medium)",color:"var(--brand-primary)"},children:se})},{key:"salesLast2Weeks",label:"Umsatz letzte 2 Wochen",align:"right",sortable:!0}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("button",{onClick:()=>u(null),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-surface-tint transition-colors",style:{color:"var(--text-muted)"},children:[a.jsx(WS,{size:20}),a.jsx("span",{children:"Zurck zum Allokationslauf"})]}),a.jsx("div",{children:a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Artikel  Allokationsdetails"})}),a.jsx("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Artikelnummer"}),a.jsx("code",{style:{fontSize:"var(--font-size-sm)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"4px 8px",borderRadius:"var(--radius-sm)"},children:l.articleNumber})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Artikelbeschreibung"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:l.description})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Farbe"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:l.colorHex,borderColor:"var(--border-default)"}}),a.jsx("span",{children:l.color})]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl Gren"}),a.jsx("div",{children:l.sizeCount})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Saison"}),a.jsx("div",{children:l.season})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Allokationsdatum"}),a.jsx("div",{children:new Date(l.allocationDate).toLocaleDateString("de-DE")})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Allokationszeitraum von"}),a.jsx("div",{children:new Date(l.allocationFrom).toLocaleDateString("de-DE")})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Allokationszeitraum bis"}),a.jsx("div",{children:new Date(l.allocationTo).toLocaleDateString("de-DE")})]})]})}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",minHeight:"500px"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Aggregierte Bestands- & Allokationskennzahlen"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"flex gap-2 p-1 rounded-lg",style:{backgroundColor:"var(--surface-alt)"},children:[a.jsx("button",{onClick:()=>b("aggregated"),className:"px-3 py-1.5 rounded transition-all",style:{backgroundColor:m==="aggregated"?"var(--brand-primary)":"transparent",color:m==="aggregated"?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Aggregiert"}),a.jsx("button",{onClick:()=>b("segmented"),className:"px-3 py-1.5 rounded transition-all",style:{backgroundColor:m==="segmented"?"var(--brand-primary)":"transparent",color:m==="segmented"?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Nach Gren segmentiert"})]}),m==="segmented"&&a.jsxs("div",{className:"flex gap-2 p-1 rounded-lg",style:{backgroundColor:"var(--surface-alt)"},children:[a.jsx("button",{onClick:()=>x("absolute"),className:"px-3 py-1.5 rounded transition-all",style:{backgroundColor:w==="absolute"?"var(--brand-primary)":"transparent",color:w==="absolute"?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Absolut"}),a.jsx("button",{onClick:()=>x("relative"),className:"px-3 py-1.5 rounded transition-all",style:{backgroundColor:w==="relative"?"var(--brand-primary)":"transparent",color:w==="relative"?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Relativ"})]})]})]}),a.jsx("div",{style:{width:"100%",height:"400px",minHeight:"400px"},children:a.jsx(Yt,{width:"100%",height:"100%",minHeight:400,children:m==="aggregated"?a.jsxs(Pr,{data:W,layout:"vertical",margin:{top:5,right:30,left:200,bottom:5},children:[a.jsx(Kn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(bt,{type:"number",domain:le,tickFormatter:se=>Math.round(se).toString()}),a.jsx(St,{type:"category",dataKey:"name",width:180}),a.jsx(st,{}),a.jsx(Re,{dataKey:"value",fill:"#2563eb"})]}):a.jsxs(Pr,{data:Y,layout:"vertical",margin:{top:5,right:30,left:200,bottom:5},children:[a.jsx(Kn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(bt,{type:"number",domain:w==="relative"?[0,100]:le,label:w==="relative"?{value:"%",position:"insideRight",offset:-10}:void 0,tickFormatter:se=>w==="relative"?`${Math.round(se)}%`:Math.round(se).toString()}),a.jsx(St,{type:"category",dataKey:"name",width:180}),a.jsx(st,{formatter:se=>w==="relative"?`${se.toFixed(2)}%`:se}),a.jsx(zt,{}),a.jsx(Re,{dataKey:"36",stackId:"a",fill:"#1e3a8a"}),a.jsx(Re,{dataKey:"37",stackId:"a",fill:"#1e40af"}),a.jsx(Re,{dataKey:"38",stackId:"a",fill:"#1d4ed8"}),a.jsx(Re,{dataKey:"39",stackId:"a",fill:"#2563eb"}),a.jsx(Re,{dataKey:"40",stackId:"a",fill:"#3b82f6"}),a.jsx(Re,{dataKey:"41",stackId:"a",fill:"#60a5fa"}),a.jsx(Re,{dataKey:"42",stackId:"a",fill:"#93c5fd"}),a.jsx(Re,{dataKey:"43",stackId:"a",fill:"#bfdbfe"}),a.jsx(Re,{dataKey:"44",stackId:"a",fill:"#dbeafe"}),a.jsx(Re,{dataKey:"45",stackId:"a",fill:"#eff6ff"}),a.jsx(Re,{dataKey:"46",stackId:"a",fill:"#f0f9ff"}),a.jsx(Re,{dataKey:"47",stackId:"a",fill:"#e0f2fe"})]})})})]}),a.jsxs("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"p-4 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:"Allokation je Filiale"})}),a.jsx(Nr,{data:hs,columns:pe,onRowClick:()=>{}})]}),d&&v&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:()=>f(!1),children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl",style:{boxShadow:"var(--shadow-lg)"},onClick:se=>se.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:["Grenverteilung  ",v.title]}),a.jsx("button",{onClick:()=>f(!1),className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"overflow-hidden rounded-lg border",style:{borderColor:"var(--border-default)"},children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)",backgroundColor:"var(--surface-alt)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Gre"}),a.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Allokationsmenge"}),a.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Bedarf"}),a.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Bestand"}),a.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Sollbestand"})]})}),a.jsx("tbody",{children:Oa.map((se,ne)=>a.jsxs("tr",{style:{borderBottom:ne<Oa.length-1?"1px solid var(--border-subtle)":"none"},children:[a.jsx("td",{style:{padding:"12px 16px",fontWeight:"var(--font-weight-medium)"},children:se.size}),a.jsx("td",{style:{textAlign:"right",padding:"12px 16px"},children:se.allocatedQuantity}),a.jsx("td",{style:{textAlign:"right",padding:"12px 16px"},children:se.demand}),a.jsx("td",{style:{textAlign:"right",padding:"12px 16px"},children:se.currentStock}),a.jsx("td",{style:{textAlign:"right",padding:"12px 16px"},children:se.targetStock})]},se.size))})]})})}),a.jsx("div",{className:"p-6 border-t flex justify-end",style:{borderColor:"var(--border-default)"},children:a.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)"},children:"Schlieen"})})]})})]})}const I=[{key:"articleNumber",label:"Artikelnummer",sortable:!0,width:"140px",render:L=>a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:L})},{key:"description",label:"Artikelbeschreibung",render:L=>a.jsx("div",{style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:L})},{key:"color",label:"Farbe",width:"120px",render:(L,M)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:M.colorHex,borderColor:"var(--border-default)"}}),a.jsx("span",{children:L})]})},{key:"season",label:"Saison"},{key:"allocationFrom",label:"Allokationszeitraum von",render:L=>new Date(L).toLocaleDateString("de-DE")},{key:"allocationTo",label:"Allokationszeitraum bis",render:L=>new Date(L).toLocaleDateString("de-DE")},{key:"storeCount",label:"Anzahl Filialen",align:"right",sortable:!0},{key:"totalQuantity",label:"Gesamtmenge allokiert",align:"right",sortable:!0,render:L=>a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)"},children:L})},{key:"capacityImpact",label:"Kapazittswirkung",align:"center",width:"160px",render:L=>{const M=cte[L];return a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(M,{size:18,style:{color:ute[L]}})})}},{key:"hasExceptions",label:"Exception-Status",align:"center",render:L=>L?a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Ausnahme"}):a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-xs)"},children:"-"})},{key:"id",label:"Aktion",align:"center",width:"140px",render:(L,M)=>a.jsx("button",{onClick:V=>{V.stopPropagation(),u(M)},className:"px-3 py-1.5 rounded-lg border hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-xs)"},children:"Details anzeigen"})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[a.jsx("button",{onClick:()=>e("runs"),className:"hover:underline",children:"Allokationslufe"}),a.jsx("span",{children:""}),a.jsx("span",{children:t})]}),a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Allokationslauf"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"bersicht aller Artikel und Ergebnisse dieses Allokationslaufs"})]}),D&&a.jsx("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Lauf-ID"}),a.jsx("code",{style:{fontSize:"var(--font-size-sm)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"4px 8px",borderRadius:"var(--radius-sm)"},children:D.id})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Typ"}),a.jsx("span",{className:"px-3 py-1 rounded-full inline-block",style:{backgroundColor:D.type==="initial"?"var(--surface-info-subtle)":D.type==="replenishment"?"var(--surface-success-subtle)":"var(--surface-warning-subtle)",color:D.type==="initial"?"var(--status-info)":D.type==="replenishment"?"var(--status-success)":"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:cO[D.type]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Status"}),a.jsx("span",{className:"px-3 py-1 rounded-full inline-block",style:{backgroundColor:D.status==="Abgeschlossen"?"var(--status-success)":D.status==="Luft"?"var(--status-info)":D.status==="Geplant"?"var(--status-warning)":"var(--status-danger)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:D.status})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Startdatum"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:new Date(D.startDate).toLocaleString("de-DE")})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl Artikel"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",fontSize:"var(--font-size-lg)"},children:D.articleCount})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl Filialen"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",fontSize:"var(--font-size-lg)"},children:D.storeCount})]})]})}),a.jsxs("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"p-4 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:"Allokierte Artikel"})}),a.jsx(Nr,{data:lte,columns:I,onRowClick:L=>u(L)})]})]})}const Tb={overcapacity:"berkapazitt",undercapacity:"Untererfllung SOLL-Kapazitt","delivery-conflict":"Liefertermin-Konflikt","lot-conflict":"LOT / Grenlauf-Konflikt","parameter-conflict":"Parameterkonflikt","manual-deviation":"Manuelle Abweichung"},io={info:{label:"Hinweis",color:"var(--status-info)",icon:Qt},critical:{label:"Kritisch",color:"var(--status-warning)",icon:Ft},blocking:{label:"Blockierend",color:"var(--status-danger)",icon:aa}},vs={new:{label:"Neu",color:"var(--status-info)"},"in-progress":{label:"In Bearbeitung",color:"var(--status-warning)"},accepted:{label:"Akzeptiert",color:"var(--brand-primary)"},resolved:{label:"Gelst",color:"var(--status-success)"}},fte=[{id:"EXC-001",type:"overcapacity",severity:"critical",status:"new",process:"initial",article:"ART-10245 - Running Shoes Elite",category:"Shoes  Running",cause:'SOLL-Kapazitt wird im Cluster "Urban Premium" um 23% berschritten',affectedLevel:"Store-Cluster: Urban Premium (3 Filialen)",impact:"+23% ber SOLL",source:"simulation",recommendedAction:"Liefertermin verschieben oder Artikel reduzieren",createdAt:"2025-12-16 09:45",season:"SS 2026",cluster:"Urban Premium",capacityDeviation:23,deliveryDate:"KW 12/2026"},{id:"EXC-002",type:"lot-conflict",severity:"blocking",status:"new",process:"initial",article:"ART-10892 - Casual Jacket Spring",category:"Apparel  Jackets",cause:"LOT-Zwang verletzt: Nur 4 von 6 Gren verfgbar",affectedLevel:"Produktgruppe: Casual Jackets",impact:"Prsentation nicht regelkonform",source:"planning",recommendedAction:"Artikel aus Lauf entfernen oder fehlende Gren beschaffen",createdAt:"2025-12-16 08:12",season:"SS 2026",deliveryDate:"KW 10/2026"},{id:"EXC-003",type:"delivery-conflict",severity:"critical",status:"in-progress",process:"replenishment",article:"ART-11234 - Summer Dress Collection",category:"Apparel  Dresses",cause:"Zeitliche Verdichtung: 3 Kollektionen in KW 15",affectedLevel:"Zeitfenster: KW 15/2026",impact:"Kapazittsberlastung +45%",source:"simulation",recommendedAction:"Liefertermin um 1 Woche verschieben",createdAt:"2025-12-15 14:30",season:"SS 2026",cluster:"Alle",capacityDeviation:45,deliveryDate:"KW 15/2026",assignedTo:"Maria Mller"},{id:"EXC-004",type:"undercapacity",severity:"info",status:"accepted",process:"initial",article:"Kategorie: Accessories",category:"Accessories",cause:"SOLL-Kapazitt wird nur zu 78% ausgelastet",affectedLevel:"Warengruppe: Accessories",impact:"-22% unter SOLL",source:"planning",recommendedAction:"Zustzliche Artikel einplanen oder Abweichung akzeptieren",createdAt:"2025-12-14 11:20",season:"SS 2026",capacityDeviation:-22},{id:"EXC-005",type:"parameter-conflict",severity:"blocking",status:"new",process:"initial",article:"ART-10567 - Premium Sneakers",category:"Shoes  Sneakers",cause:"Mindestprsentationsmenge (8 Stk.) > verfgbare Kapazitt (5 Stk.)",affectedLevel:"Artikel-Ebene",impact:"Allokation nicht mglich",source:"planning",recommendedAction:"Parameter prfen und anpassen",createdAt:"2025-12-16 10:05",season:"SS 2026"},{id:"EXC-006",type:"manual-deviation",severity:"info",status:"accepted",process:"initial",article:"ART-10123 - Special Edition",category:"Shoes  Limited",cause:"Bewusste berallokation fr Marketingaktion",affectedLevel:"Filiale: Zrich HB",impact:"+15% ber SOLL",source:"production",recommendedAction:"Keine Aktion erforderlich (akzeptiert)",createdAt:"2025-12-13 16:45",season:"SS 2026",capacityDeviation:15,assignedTo:"Andreas Schmidt"},{id:"EXC-007",type:"overcapacity",severity:"critical",status:"in-progress",process:"replenishment",article:"Kategorie: Electronics",category:"Electronics",cause:"Nachschub berschreitet verfgbare Lagerflche",affectedLevel:"Store-Cluster: Regional",impact:"+18% ber SOLL",source:"simulation",recommendedAction:"Mengereduktion oder zeitliche Staffelung",createdAt:"2025-12-15 09:30",season:"AW 2025",cluster:"Regional",capacityDeviation:18,assignedTo:"Julia Weber"},{id:"EXC-008",type:"delivery-conflict",severity:"info",status:"resolved",process:"initial",article:"ART-10889 - Winter Boots",category:"Shoes  Boots",cause:"Ursprnglicher Liefertermin zu spt",affectedLevel:"Zeitfenster: KW 40/2025",impact:"Verzgerung um 2 Wochen",source:"planning",recommendedAction:"Liefertermin angepasst",createdAt:"2025-12-10 08:00",season:"AW 2025",deliveryDate:"KW 38/2025"}];function pte({onNavigate:e}){const[t,r]=z.useState([]),[n,i]=z.useState(!0),[o,l]=z.useState({process:[],type:[],severity:[],status:[],season:[]}),[u,d]=z.useState("detail"),[f,v]=z.useState(""),[h,m]=z.useState(null),[b,w]=z.useState(!1),[x,y]=z.useState("");z.useEffect(()=>{(async()=>{i(!0);try{const E=(await Bp.getExceptions()).map(D=>({id:D.id,type:D.type||"overcapacity",severity:D.severity||"info",status:D.status==="ignored"?"accepted":D.status==="resolved"?"resolved":D.status==="in_progress"?"in-progress":"new",process:D.process||"initial",article:D.article||D.title||"",category:D.category||"",cause:D.cause||D.description||"",affectedLevel:"",impact:D.capacityDeviation?`${D.capacityDeviation>0?"+":""}${D.capacityDeviation}%`:"",source:D.source||"planning",recommendedAction:D.recommendedAction||"",createdAt:D.createdAt||new Date().toISOString(),season:D.season||"",cluster:D.cluster,capacityDeviation:D.capacityDeviation,assignedTo:D.assignedTo}));r(E)}catch(T){console.error("Failed to load exceptions:",T),r(fte)}finally{i(!1)}})()},[]);const j=z.useMemo(()=>t.filter(_=>!(o.process.length>0&&!o.process.includes(_.process)||o.type.length>0&&!o.type.includes(_.type)||o.severity.length>0&&!o.severity.includes(_.severity)||o.status.length>0&&!o.status.includes(_.status)||f&&!_.article.toLowerCase().includes(f.toLowerCase())&&!_.category.toLowerCase().includes(f.toLowerCase()))),[t,o,f]),k=z.useMemo(()=>{const _=j.reduce((T,E)=>{const D=E.type;return T[D]||(T[D]={type:D,count:0,critical:0,blocking:0,info:0,new:0,inProgress:0,accepted:0,resolved:0,categories:new Set}),T[D].count++,E.severity==="critical"&&T[D].critical++,E.severity==="blocking"&&T[D].blocking++,E.severity==="info"&&T[D].info++,E.status==="new"&&T[D].new++,E.status==="in-progress"&&T[D].inProgress++,E.status==="accepted"&&T[D].accepted++,E.status==="resolved"&&T[D].resolved++,T[D].categories.add(E.category),T},{});return Object.values(_)},[j]),S=z.useMemo(()=>{const _=j.length,T=j.filter(L=>L.severity==="critical"||L.severity==="blocking").length,E=j.filter(L=>L.status==="accepted").length,I=j.filter(L=>L.status==="resolved").length>0?2.5:0;return{total:_,criticalBlocking:T,accepted:E,avgDays:I}},[j]),N=()=>{h&&x.trim()&&(r(_=>_.map(T=>T.id===h.id?{...T,status:"accepted"}:T)),alert(`Abweichung akzeptiert: ${h.id}
Begrndung: ${x}`),w(!1),y(""),m(null))},A=_=>{r(T=>T.map(E=>E.id===_.id?{...E,status:"resolved"}:E)),alert(`Exception ${_.id} als gelst markiert`),m(null)},O=({severity:_})=>{const T=io[_],E=T.icon;return a.jsx(E,{size:16,style:{color:T.color}})};return a.jsxs("div",{className:"pb-20",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[a.jsx("span",{children:"Cockpit"}),a.jsx(un,{size:16}),a.jsx("span",{children:"Ausnahmen"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Exception-Cockpit"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)",maxWidth:"900px"},children:"Zentrale bersicht und Steuerung von kapazitiven, zeitlichen und allokationsbezogenen Ausnahmen entlang des gesamten Prozesses."})]}),a.jsxs("div",{className:"p-4 rounded-lg border mb-6",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 flex-wrap",children:[a.jsxs("div",{className:"relative flex-1 max-w-xs",children:[a.jsx(fn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{type:"text",placeholder:"Artikel oder Kategorie suchen...",value:f,onChange:_=>v(_.target.value),className:"pl-10 pr-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("select",{value:o.process[0]||"",onChange:_=>{l(T=>({...T,process:_.target.value?[_.target.value]:[]}))},className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)",minWidth:"150px"},children:[a.jsx("option",{value:"",children:"Prozess: Alle"}),a.jsx("option",{value:"initial",children:"Initiale Allokation"}),a.jsx("option",{value:"replenishment",children:"Nachschub"})]}),a.jsxs("select",{value:o.severity[0]||"",onChange:_=>{l(T=>({...T,severity:_.target.value?[_.target.value]:[]}))},className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)",minWidth:"150px"},children:[a.jsx("option",{value:"",children:"Severity: Alle"}),a.jsx("option",{value:"info",children:"Hinweis"}),a.jsx("option",{value:"critical",children:"Kritisch"}),a.jsx("option",{value:"blocking",children:"Blockierend"})]}),a.jsxs("select",{value:o.status[0]||"",onChange:_=>{l(T=>({...T,status:_.target.value?[_.target.value]:[]}))},className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)",minWidth:"150px"},children:[a.jsx("option",{value:"",children:"Status: Alle"}),a.jsx("option",{value:"new",children:"Neu"}),a.jsx("option",{value:"in-progress",children:"In Bearbeitung"}),a.jsx("option",{value:"accepted",children:"Akzeptiert"}),a.jsx("option",{value:"resolved",children:"Gelst"})]})]}),a.jsxs("div",{className:"flex items-center rounded-lg border overflow-hidden",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>d("aggregated"),className:"px-3 py-2",style:{backgroundColor:u==="aggregated"?"var(--brand-primary)":"var(--surface-page)",color:u==="aggregated"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",borderRight:"1px solid var(--border-default)"},children:"Aggregiert"}),a.jsx("button",{onClick:()=>d("detail"),className:"px-3 py-2",style:{backgroundColor:u==="detail"?"var(--brand-primary)":"var(--surface-page)",color:u==="detail"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-sm)"},children:"Detail"})]})]}),(o.process.length>0||o.severity.length>0||o.status.length>0||f)&&a.jsxs("div",{className:"flex items-center gap-2 flex-wrap pt-3 border-t",style:{borderColor:"var(--border-subtle)"},children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Aktive Filter:"}),o.process.map(_=>a.jsxs("span",{className:"px-2 py-1 rounded flex items-center gap-1",style:{backgroundColor:"var(--surface-info-subtle)",fontSize:"var(--font-size-xs)"},children:[_==="initial"?"Initial":"Nachschub",a.jsx("button",{onClick:()=>l(T=>({...T,process:T.process.filter(E=>E!==_)})),children:a.jsx(Et,{size:12})})]},_)),f&&a.jsxs("span",{className:"px-2 py-1 rounded flex items-center gap-1",style:{backgroundColor:"var(--surface-info-subtle)",fontSize:"var(--font-size-xs)"},children:['Suche: "',f,'"',a.jsx("button",{onClick:()=>v(""),children:a.jsx(Et,{size:12})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-6 mb-6",children:[a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"Offene Ausnahmen"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:S.total})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-danger-subtle)",borderColor:"var(--border-danger)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"Kritisch / Blockierend"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-danger)"},children:S.criticalBlocking})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"Akzeptierte Abweichungen"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:S.accepted})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:" Bearbeitungsdauer"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:[S.avgDays," ",a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-regular)",color:"var(--text-muted)"},children:"Tage"})]})]})]}),u==="detail"?a.jsx("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"80px"},children:"Severity"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"180px"},children:"Exception-Typ"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"200px"},children:"Artikel / Kategorie"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"120px"},children:"Prozess"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"250px"},children:"Ursache"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"150px"},children:"Auswirkung"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"100px"},children:"Quelle"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"120px"},children:"Status"}),a.jsx("th",{style:{textAlign:"center",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"100px"},children:"Aktionen"})]})}),a.jsx("tbody",{children:j.map(_=>a.jsxs("tr",{onClick:()=>m(_),style:{borderBottom:"1px solid var(--border-subtle)",cursor:"pointer"},className:"hover:bg-surface-tint transition-colors",children:[a.jsx("td",{style:{padding:"16px"},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(O,{severity:_.severity}),a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:`${io[_.severity].color}15`,color:io[_.severity].color,fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:io[_.severity].label})]})}),a.jsx("td",{style:{padding:"16px",fontSize:"var(--font-size-sm)"},children:Tb[_.type]}),a.jsx("td",{style:{padding:"16px"},children:a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:_.article}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:_.category})]})}),a.jsx("td",{style:{padding:"16px"},children:a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:_.process==="initial"?"var(--surface-info-subtle)":"var(--surface-success-subtle)",color:_.process==="initial"?"var(--status-info)":"var(--status-success)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:_.process==="initial"?"Initial":"Nachschub"})}),a.jsx("td",{style:{padding:"16px",fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:_.cause}),a.jsx("td",{style:{padding:"16px"},children:a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:_.capacityDeviation&&_.capacityDeviation>0?"var(--status-danger)":"var(--status-warning)"},children:_.impact})}),a.jsx("td",{style:{padding:"16px"},children:a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:_.source==="planning"?"Planung":_.source==="simulation"?"Simulation":"Produktiv"})}),a.jsx("td",{style:{padding:"16px"},children:a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:`${vs[_.status].color}15`,color:vs[_.status].color,fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:vs[_.status].label})}),a.jsx("td",{style:{padding:"16px",textAlign:"center"},children:a.jsx("button",{onClick:T=>{T.stopPropagation(),m(_)},className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(U4,{size:16,style:{color:"var(--brand-primary)"}})})})]},_.id))})]})})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(_=>a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:Tb[_.type]}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[_.categories.size," Kategorien betroffen"]})]}),a.jsx("div",{className:"px-3 py-1 rounded-full",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)"},children:_.count})]}),a.jsxs("div",{className:"space-y-3 pt-3 border-t",style:{borderColor:"var(--border-subtle)"},children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Severity"}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end",children:[_.blocking>0&&a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-danger-subtle)",color:"var(--status-danger)",fontSize:"var(--font-size-xs)"},children:[_.blocking," Blockierend"]}),_.critical>0&&a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-xs)"},children:[_.critical," Kritisch"]}),_.info>0&&a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--status-info)",fontSize:"var(--font-size-xs)"},children:[_.info," Hinweis"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Status"}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end",style:{fontSize:"var(--font-size-xs)"},children:[_.new>0&&a.jsxs("span",{style:{color:"var(--status-info)"},children:[_.new," Neu"]}),_.inProgress>0&&a.jsxs("span",{style:{color:"var(--status-warning)"},children:[_.inProgress," In Bearb."]}),_.accepted>0&&a.jsxs("span",{style:{color:"var(--brand-primary)"},children:[_.accepted," Akzept."]}),_.resolved>0&&a.jsxs("span",{style:{color:"var(--status-success)"},children:[_.resolved," Gelst"]})]})]})]}),a.jsx("button",{onClick:()=>{l(T=>({...T,type:[_.type]})),d("detail")},className:"mt-4 w-full px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:"Details anzeigen"})]},_.type))}),h&&a.jsxs("div",{className:"fixed inset-0 z-50 flex",onClick:()=>m(null),style:{backgroundColor:"var(--bg-overlay)"},children:[a.jsx("div",{className:"flex-1"}),a.jsxs("div",{className:"bg-white shadow-lg overflow-y-auto",style:{width:"600px",maxWidth:"100vw",boxShadow:"var(--shadow-lg)"},onClick:_=>_.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b sticky top-0 bg-white z-10",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Exception-ID"}),a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:h.id})]}),a.jsx("button",{onClick:()=>m(null),className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(O,{severity:h.severity}),a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:`${io[h.severity].color}15`,color:io[h.severity].color,fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:io[h.severity].label})]}),a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:`${vs[h.status].color}15`,color:vs[h.status].color,fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:vs[h.status].label})]})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"var(--space-3)"},children:"Kontext"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ip,{size:16,style:{color:"var(--text-muted)",marginTop:"2px"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Artikel / Kategorie"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:h.article}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:h.category})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(cl,{size:16,style:{color:"var(--text-muted)",marginTop:"2px"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Prozess"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:h.process==="initial"?"Initiale Allokation":"Nachschub"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(eL,{size:16,style:{color:"var(--text-muted)",marginTop:"2px"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Saison"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:h.season})]})]}),h.deliveryDate&&a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Os,{size:16,style:{color:"var(--text-muted)",marginTop:"2px"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Liefertermin"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:h.deliveryDate})]})]})]})]}),a.jsxs("div",{className:"border-t pt-6",style:{borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"var(--space-3)"},children:"Ursache & Details"}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-warning-subtle)",border:"1px solid var(--border-warning)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Beschreibung der Regelverletzung"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",lineHeight:"1.5"},children:h.cause})]}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Betroffene Ebene"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:h.affectedLevel})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Exception-Typ"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:Tb[h.type]})]})]}),h.type==="parameter-conflict"&&a.jsxs("button",{onClick:()=>{m(null),e("parameters")},className:"mt-3 w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(Mp,{size:16}),"Zur Parameterpflege"]})]}),h.capacityDeviation&&a.jsxs("div",{className:"border-t pt-6",style:{borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"var(--space-3)"},children:"Kapazittswirkung"}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:h.capacityDeviation>0?"var(--surface-danger-subtle)":"var(--surface-warning-subtle)",border:`1px solid ${h.capacityDeviation>0?"var(--border-danger)":"var(--border-warning)"}`},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Abweichung SOLL"}),a.jsxs("span",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",color:h.capacityDeviation>0?"var(--status-danger)":"var(--status-warning)"},children:[h.capacityDeviation>0?"+":"",h.capacityDeviation,"%"]})]})}),a.jsxs("div",{className:"mt-4 flex items-end gap-2 h-24",children:[a.jsx("div",{className:"flex-1 bg-surface-subtle-tint rounded-t",style:{height:"60%"},children:a.jsx("div",{className:"h-full flex items-end justify-center pb-2",children:a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"SOLL"})})}),a.jsx("div",{className:"flex-1 rounded-t",style:{height:"85%",backgroundColor:h.capacityDeviation>0?"var(--status-danger)":"var(--status-warning)"},children:a.jsx("div",{className:"h-full flex items-end justify-center pb-2",children:a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-inverse)"},children:"IST"})})})]})]}),a.jsxs("div",{className:"border-t pt-6",style:{borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"var(--space-3)"},children:"Handlungsempfehlungen"}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Qt,{size:16,style:{color:"var(--status-info)",marginTop:"2px"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Systemvorschlag"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:h.recommendedAction})]})]})})]}),a.jsxs("div",{className:"border-t pt-6 space-y-3",style:{borderColor:"var(--border-default)"},children:[a.jsxs("button",{onClick:()=>{m(null),e("capacity")},className:"w-full flex items-center justify-between px-4 py-3 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx("span",{children:"Zur Simulation springen"}),a.jsx(mE,{size:16})]}),a.jsxs("button",{onClick:()=>w(!0),className:"w-full flex items-center justify-between px-4 py-3 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)"},children:[a.jsx("span",{children:"Abweichung akzeptieren"}),a.jsx(dn,{size:16})]}),a.jsxs("button",{onClick:()=>A(h),className:"w-full flex items-center justify-between px-4 py-3 rounded-lg",style:{backgroundColor:"var(--status-success)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)"},children:[a.jsx("span",{children:"Ausnahme lsen"}),a.jsx(dn,{size:16})]})]}),a.jsx("div",{className:"border-t pt-6",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center justify-between",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[a.jsxs("span",{children:["Erstellt: ",h.createdAt]}),h.assignedTo&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(uB,{size:12}),h.assignedTo]})]})})]})]})]}),b&&h&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:()=>w(!1),children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md",style:{boxShadow:"var(--shadow-lg)"},onClick:_=>_.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Abweichung akzeptieren"})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:["Sie sind dabei, die Exception ",a.jsx("strong",{children:h.id})," als akzeptierte Abweichung zu kennzeichnen."]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",display:"block",marginBottom:"8px"},children:"Begrndung (Pflichtfeld)"}),a.jsx("textarea",{value:x,onChange:_=>y(_.target.value),placeholder:"Bitte geben Sie eine Begrndung fr die Akzeptanz ein...",rows:4,className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",resize:"vertical"}})]})]}),a.jsxs("div",{className:"p-6 border-t flex items-center justify-end gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>{w(!1),y("")},className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsx("button",{onClick:N,disabled:!x.trim(),className:"px-4 py-2 rounded-lg",style:{backgroundColor:x.trim()?"var(--brand-primary)":"var(--border-default)",color:"var(--text-inverse)",height:"var(--height-button-md)",opacity:x.trim()?1:.5,cursor:x.trim()?"pointer":"not-allowed"},children:"Akzeptieren"})]})]})})]})}const wS=[{id:"blick-retail",label:"BLICK Retail",level:"company",children:[{id:"division-bekleidung",label:"Einkaufsbereich Bekleidung",level:"division",children:[{id:"category-schuhe",label:"Warengruppe Schuhe",level:"category",children:[{id:"pg-running-shoes",label:"Running Shoes",level:"productGroup"},{id:"pg-casual-sneakers",label:"Casual Sneakers",level:"productGroup"},{id:"pg-boots",label:"Boots",level:"productGroup"}]},{id:"category-oberbekleidung",label:"Warengruppe Oberbekleidung",level:"category",children:[{id:"pg-outdoor-jackets",label:"Outdoor Jackets",level:"productGroup"},{id:"pg-blazers",label:"Blazers",level:"productGroup"},{id:"pg-coats",label:"Coats",level:"productGroup"}]},{id:"category-hosen",label:"Warengruppe Hosen",level:"category",children:[{id:"pg-jeans",label:"Jeans",level:"productGroup"},{id:"pg-chinos",label:"Chinos",level:"productGroup"},{id:"pg-sports-pants",label:"Sports Pants",level:"productGroup"}]}]},{id:"division-sport",label:"Einkaufsbereich Sport",level:"division",children:[{id:"category-outdoor",label:"Warengruppe Outdoor",level:"category",children:[{id:"pg-trekking",label:"Trekking Equipment",level:"productGroup"},{id:"pg-camping",label:"Camping",level:"productGroup"}]},{id:"category-fitness",label:"Warengruppe Fitness",level:"category",children:[{id:"pg-gym-equipment",label:"Gym Equipment",level:"productGroup"},{id:"pg-yoga",label:"Yoga",level:"productGroup"}]}]},{id:"division-accessories",label:"Einkaufsbereich Accessories",level:"division",children:[{id:"category-bags",label:"Warengruppe Taschen",level:"category",children:[{id:"pg-backpacks",label:"Backpacks",level:"productGroup"},{id:"pg-handbags",label:"Handbags",level:"productGroup"}]}]}]}];function AI({node:e,level:t=0,selectedIds:r,expandedIds:n,onToggleExpand:i,onToggleSelect:o}){const l=e.children&&e.children.length>0,u=n.has(e.id),d=r.has(e.id),f=v=>{switch(v){case"company":return"var(--text-muted)";case"division":return"var(--status-info)";case"category":return"var(--status-warning)";case"productGroup":return"var(--status-success)";default:return"var(--text-secondary)"}};return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 py-2 px-3 cursor-pointer hover:bg-surface-tint rounded transition-colors",style:{paddingLeft:`${t*24+12}px`},children:[a.jsx("div",{style:{width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:l?a.jsx("button",{onClick:v=>{v.stopPropagation(),i(e.id)},className:"p-0.5 hover:bg-surface-subtle-tint rounded",children:u?a.jsx(_o,{size:16,style:{color:"var(--text-muted)"}}):a.jsx(un,{size:16,style:{color:"var(--text-muted)"}})}):null}),a.jsx("div",{onClick:()=>o(e.id,e.label),className:"flex items-center justify-center w-5 h-5 rounded border",style:{borderColor:d?"var(--brand-primary)":"var(--border-default)",backgroundColor:d?"var(--brand-primary)":"transparent"},children:d&&a.jsx(Ka,{size:14,style:{color:"var(--text-inverse)"}})}),a.jsx("span",{onClick:()=>o(e.id,e.label),style:{fontSize:"var(--font-size-sm)",fontWeight:t===0?"var(--font-weight-semibold)":"var(--font-weight-regular)",flex:1},children:e.label}),a.jsxs("span",{className:"px-2 py-0.5 rounded text-xs",style:{backgroundColor:`${f(e.level)}15`,color:f(e.level),fontSize:"var(--font-size-xs)"},children:[e.level==="company"&&"Unternehmen",e.level==="division"&&"Einkaufsbereich",e.level==="category"&&"Warengruppe",e.level==="productGroup"&&"Produktgruppe"]})]}),l&&u&&a.jsx("div",{children:e.children.map(v=>a.jsx(AI,{node:v,level:t+1,selectedIds:r,expandedIds:n,onToggleExpand:i,onToggleSelect:o},v.id))})]})}function hte({isOpen:e,onClose:t,selectedNodes:r,onConfirm:n,title:i="Artikelhierarchie auswhlen",description:o="Whlen Sie die relevanten Artikelhierarchieebenen aus"}){const[l,u]=z.useState(()=>{const w=new Map;return r.forEach(x=>{const y=k=>{for(const S of k){if(S.id===x)return S;if(S.children){const N=y(S.children);if(N)return N}}return null},j=y(wS);j&&w.set(j.id,j.label)}),w}),[d,f]=z.useState(new Set(["blick-retail","division-bekleidung","division-sport","division-accessories"]));if(!e)return null;const v=w=>{f(x=>{const y=new Set(x);return y.has(w)?y.delete(w):y.add(w),y})},h=(w,x)=>{u(y=>{const j=new Map(y);return j.has(w)?j.delete(w):j.set(w,x),j})},m=()=>{n(Array.from(l.keys())),t()},b=()=>{u(new Map)};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:t,children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl max-h-[80vh] flex flex-col",style:{boxShadow:"var(--shadow-lg)"},onClick:w=>w.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b flex items-start justify-between",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:i}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:o})]}),a.jsx("button",{onClick:t,className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]}),a.jsxs("div",{className:"px-6 py-3 border-b flex items-center justify-between",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-subtle-tint)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:l.size===0?"Keine Auswahl":a.jsxs(a.Fragment,{children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)"},children:l.size})," ",l.size===1?"Ebene":"Ebenen"," ausgewhlt"]})}),l.size>0&&a.jsx("button",{onClick:b,className:"px-3 py-1 rounded text-sm hover:bg-surface-tint",style:{color:"var(--text-secondary)",fontSize:"var(--font-size-sm)"},children:"Alle abwhlen"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:wS.map(w=>a.jsx(AI,{node:w,selectedIds:new Set(l.keys()),expandedIds:d,onToggleExpand:v,onToggleSelect:h},w.id))}),l.size>0&&a.jsxs("div",{className:"px-6 py-3 border-t",style:{borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"Ausgewhlte Ebenen:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from(l.entries()).map(([w,x])=>a.jsxs("div",{className:"px-3 py-1 rounded-full flex items-center gap-2",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--text-primary)",fontSize:"var(--font-size-xs)"},children:[a.jsx("span",{children:x}),a.jsx("button",{onClick:()=>h(w,x),className:"hover:bg-surface-tint rounded-full p-0.5",children:a.jsx(Et,{size:12})})]},w))})]}),a.jsxs("div",{className:"p-6 border-t flex items-center justify-end gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsxs("button",{onClick:m,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:["Auswahl bernehmen (",l.size,")"]})]})]})})}const uO={full:"Vollstndig blockiert",initialOnly:"Nur Erstallokation blockiert",replenishmentOnly:"Nur Nachschub blockiert",presentationOnly:"Nur Prsentation blockiert",forecastIgnore:"Prognose ignorieren"},vte={full:"var(--status-error)",initialOnly:"var(--status-warning)",replenishmentOnly:"var(--status-warning)",presentationOnly:"var(--status-info)",forecastIgnore:"var(--text-muted)"},mte=[{id:"sb-1",storeId:"FL-001",storeName:"BLICK Zrich HB",cluster:"Urban Premium",planningLevel:"productGroup",productGroupId:"pg-running-shoes",productGroupName:"Running Shoes",blockingType:"replenishmentOnly",validFrom:"2025-01-01",validTo:null,source:"direct",status:"active",reason:"Umbaumanahmen Schuh-Abteilung"},{id:"sb-2",storeId:"FL-003",storeName:"BLICK Basel SBB",planningLevel:"productGroup",productGroupId:"pg-outdoor-jackets",productGroupName:"Outdoor Jackets",blockingType:"full",validFrom:"2025-02-01",validTo:"2025-03-31",source:"direct",status:"active",reason:"Temporre Schlieung Outdoor-Bereich"},{id:"sb-3",storeId:"FL-002",storeName:"BLICK Bern Zentrum",cluster:"Urban Premium",planningLevel:"category",productGroupId:"category-schuhe",productGroupName:"Warengruppe Schuhe",blockingType:"presentationOnly",validFrom:"2024-12-15",validTo:"2025-02-28",source:"inherited",inheritedFrom:"Cluster Urban Premium Policy",status:"active"},{id:"sb-4",storeId:"FL-005",storeName:"BLICK Lausanne Centre",cluster:"Urban Standard",planningLevel:"productGroup",productGroupId:"pg-jeans",productGroupName:"Jeans",blockingType:"initialOnly",validFrom:"2025-01-15",validTo:"2025-06-30",source:"direct",status:"active",reason:"berkapazitt, kein Platz fr Neuware"}];function gte({onAddStore:e}){const[t,r]=z.useState(mte),[n,i]=z.useState(""),[o,l]=z.useState(""),[u,d]=z.useState(""),[f,v]=z.useState(""),h=z.useMemo(()=>t.filter(b=>{if(n){const w=n.toLowerCase();if(!b.storeName.toLowerCase().includes(w)&&!b.productGroupName.toLowerCase().includes(w))return!1}return!(o&&b.storeId!==o||u&&b.blockingType!==u||f&&b.status!==f)}),[t,n,o,u,f]),m=b=>{switch(b){case"full":return a.jsx(V4,{size:16});case"initialOnly":return a.jsx(aa,{size:16});case"replenishmentOnly":return a.jsx(aa,{size:16});case"presentationOnly":return a.jsx(WL,{size:16});case"forecastIgnore":return a.jsx(aa,{size:16})}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 rounded-lg flex items-start gap-3",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx(aa,{size:20,style:{color:"var(--status-info)",flexShrink:0,marginTop:"2px"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:"Filialspezifische Einschrnkungen"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Definieren Sie Filialen- oder Cluster-spezifische Blockierungsregeln fr Produktgruppen. Diese Regeln verhindern Allokation, Nachschub oder Prsentation bestimmter Produktgruppen in ausgewhlten Filialen. Blockierungen werden in der Explainability-Ansicht als limitierende Faktoren angezeigt."})]})]}),a.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsxs("div",{className:"relative flex-1 max-w-xs",children:[a.jsx(fn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{type:"text",placeholder:"Filiale oder Produktgruppe suchen...",value:n,onChange:b=>i(b.target.value),className:"pl-10 pr-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("select",{value:u,onChange:b=>d(b.target.value),className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Blockierungstypen"}),Object.entries(uO).map(([b,w])=>a.jsx("option",{value:b,children:w},b))]}),a.jsxs("select",{value:f,onChange:b=>v(b.target.value),className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Status"}),a.jsx("option",{value:"active",children:"Aktiv"}),a.jsx("option",{value:"inactive",children:"Inaktiv"})]})]}),a.jsxs("button",{onClick:e,className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)",whiteSpace:"nowrap"},children:[a.jsx(ji,{size:16}),"Filiale hinzufgen"]})]})}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:"Blockierungsregeln"}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[h.length," ",h.length===1?"Regel":"Regeln"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"180px"},children:"Filiale / Cluster"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"120px"},children:"Planungsebene"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"180px"},children:"Produktgruppe"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"220px"},children:"Blockierungstyp"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"110px"},children:"Gltig von"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"110px"},children:"Gltig bis"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"150px"},children:"Herkunft"}),a.jsx("th",{style:{textAlign:"center",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"90px"},children:"Status"}),a.jsx("th",{style:{textAlign:"center",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"100px"},children:"Aktionen"})]})}),a.jsx("tbody",{children:h.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:9,style:{padding:"32px",textAlign:"center"},children:a.jsx("div",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Keine Blockierungsregeln gefunden"})})}):h.map(b=>a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)",borderLeft:b.blockingType==="full"?"3px solid var(--status-error)":b.blockingType==="initialOnly"||b.blockingType==="replenishmentOnly"?"3px solid var(--status-warning)":"none"},className:"hover:bg-surface-tint",children:[a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:b.storeName}),b.cluster&&a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"2px"},children:b.cluster})]})}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--status-success)15",color:"var(--status-success)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[b.planningLevel==="productGroup"&&"Produktgruppe",b.planningLevel==="category"&&"Warengruppe",b.planningLevel==="division"&&"Einkaufsbereich",b.planningLevel==="company"&&"Unternehmen"]})}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:b.productGroupName})}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{color:vte[b.blockingType]},children:m(b.blockingType)}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:uO[b.blockingType]}),b.reason&&a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"2px"},children:b.reason})]})]})}),a.jsx("td",{style:{padding:"12px 8px",fontSize:"var(--font-size-sm)"},children:new Date(b.validFrom).toLocaleDateString("de-DE")}),a.jsx("td",{style:{padding:"12px 8px",fontSize:"var(--font-size-sm)"},children:b.validTo?new Date(b.validTo).toLocaleDateString("de-DE"):a.jsx("span",{style:{color:"var(--text-muted)"},children:"Unbegrenzt"})}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{children:[a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:b.source==="direct"?"var(--status-success)15":"var(--status-info)15",color:b.source==="direct"?"var(--status-success)":"var(--status-info)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:b.source==="direct"?"Direkt":"Geerbt"}),b.inheritedFrom&&a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:["von ",b.inheritedFrom]})]})}),a.jsx("td",{style:{padding:"12px 8px",textAlign:"center"},children:a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:b.status==="active"?"var(--status-success)":"var(--border-default)",color:b.status==="active"?"var(--text-inverse)":"var(--text-muted)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:b.status==="active"?"Aktiv":"Inaktiv"})}),a.jsx("td",{style:{padding:"12px 8px",textAlign:"center"},children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{className:"p-1 hover:bg-surface-tint rounded",title:"Bearbeiten",children:a.jsx(yo,{size:16,style:{color:"var(--text-secondary)"}})}),a.jsx("button",{className:"p-1 hover:bg-surface-tint rounded",title:"Lschen",children:a.jsx(Cs,{size:16,style:{color:"var(--status-error)"}})})]})})]},b.id))})]})})]})]})}const Db=[{value:"company",label:"Unternehmen"},{value:"division",label:"Einkaufsbereich"},{value:"category",label:"Warengruppe"},{value:"productGroup",label:"Produktgruppe"},{value:"article",label:"Artikel"}],dO={direct:"var(--status-success)",inherited:"var(--status-info)",default:"var(--text-muted)"},fO=[{id:"1",name:"Flchenbedarf pro Einheit",description:"Durchschnittlicher Prsentationsflchenbedarf je Stck.",level:"productGroup",value:.035,unit:"m",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"capacity",articleHierarchyScope:["pg-running-shoes","pg-casual-sneakers"]},{id:"2",name:"Flchenbedarf pro Grenlauf",description:"Zustzlicher Flchenbedarf fr vollstndige Grenlufe (LOTs).",level:"category",value:1.8,unit:"m",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"capacity",articleHierarchyScope:["category-schuhe"]},{id:"3",name:"Max. Flchennutzung je Artikel",description:"Obergrenze fr Artikelanteil an Gesamtflche.",level:"productGroup",value:2.5,unit:"m",type:"number",source:"inherited",inheritedFrom:"Warengruppe Shoes",validFrom:"2025-01-01",validTo:null,hasOverride:!0,category:"capacity",articleHierarchyScope:["pg-outdoor-jackets"]},{id:"4",name:"Min. Flchenanteil je Kategorie",description:"Garantierter Mindestflchenanteil.",level:"category",value:15,unit:"%",type:"percentage",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"capacity",articleHierarchyScope:["category-oberbekleidung"]},{id:"5",name:"Mindestprsentationsmenge",description:"Mindestmenge, um Artikel prsentieren zu drfen.",level:"productGroup",value:3,unit:"Stck",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"presentation",articleHierarchyScope:["pg-running-shoes"]},{id:"6",name:"Mindestmenge je Gre",description:"Mindestanzahl pro Gre fr vollstndige Darstellung.",level:"category",value:2,unit:"Stck",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"presentation",articleHierarchyScope:["category-schuhe","category-oberbekleidung"]},{id:"7",name:"Prsentationspflicht",description:"Artikel muss prsentiert werden, auch bei knapper Kapazitt.",level:"article",value:!0,type:"boolean",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"presentation"},{id:"8",name:"LOT-Zwang",description:"Allokation nur bei vollstndigem Grenlauf erlaubt.",level:"productGroup",value:!0,type:"boolean",source:"inherited",inheritedFrom:"Warengruppe Apparel",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"presentation",articleHierarchyScope:["pg-casual-sneakers","pg-outdoor-jackets"]},{id:"9",name:"Prsentationsdauer",description:"Dauer, ber die Artikel Flche blockiert.",level:"productGroup",value:8,unit:"Wochen",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"time",articleHierarchyScope:["pg-running-shoes","pg-outdoor-jackets"]},{id:"10",name:"Zeitliche Verteilungslogik",description:"Art der zeitlichen Verteilung der Kapazitt.",level:"category",value:"Gleichmig",type:"enum",enumValues:["Gleichmig","Frontloaded","Backloaded"],source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"time",articleHierarchyScope:["category-schuhe"]},{id:"11",name:"Lieferfenster-Toleranz",description:"Spielraum fr Simulationen.",level:"company",value:2,unit:"Wochen (+/-)",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"time",articleHierarchyScope:["division-bekleidung"]},{id:"12",name:"Allokationsprioritt",description:"Reihenfolge bei Kapazittskonflikten.",level:"productGroup",value:7,unit:"Rang (1-10)",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"logic",priority:7,articleHierarchyScope:["pg-running-shoes"]},{id:"13",name:"Kapazittsgewichtung",description:"Wie stark Kapazitt den Algorithmus beeinflusst.",level:"category",value:60,unit:"%",type:"percentage",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"logic",articleHierarchyScope:["category-oberbekleidung"]},{id:"14",name:"Strategische Kategorie",description:"Kategorie wird bevorzugt behandelt.",level:"category",value:!0,type:"boolean",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"logic",articleHierarchyScope:["category-schuhe","category-oberbekleidung"]},{id:"15",name:"Forecast-Gewichtung",description:"Einfluss der Absatzprognose.",level:"category",value:40,unit:"%",type:"percentage",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"forecast",articleHierarchyScope:["category-schuhe"]},{id:"16",name:"KPI-Fokus",description:"Primrer KPI fr Optimierung.",level:"division",value:"Abverkauf",type:"enum",enumValues:["Abverkauf","Marge","Lagerumschlag","Flchenproduktivitt"],source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"forecast",articleHierarchyScope:["division-bekleidung"]},{id:"17",name:"Max. Override-Ebene",description:"Tiefste Ebene fr manuelle Overrides.",level:"company",value:"Artikel",type:"enum",enumValues:["Produktgruppe","Artikel","Keine Overrides"],source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"governance"},{id:"18",name:"Genehmigungspflicht bei Abweichung",description:"Override muss genehmigt werden.",level:"company",value:!0,type:"boolean",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"governance"},{id:"19",name:"Max. zulssige Kapazittsabweichung",description:"Grenze fr Simulation & Freigabe.",level:"company",value:15,unit:"%",type:"percentage",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"governance",articleHierarchyScope:["division-bekleidung"]}],pO=[{key:"capacity",label:"Kapazitt & Flche"},{key:"presentation",label:"Prsentationsregeln"},{key:"time",label:"Zeit- & Verdichtungsparameter"},{key:"logic",label:"Allokationslogik & Priorisierung"},{key:"forecast",label:"Prognose- & KPI-Gewichtung"},{key:"governance",label:"Governance & Einschrnkungen"},{key:"storeBlocking",label:"Filialspezifische Einschrnkungen"}],hO={direct:"Direkt gepflegt",inherited:"Geerbt",default:"Default-Systemwert"};function yte(){const[e,t]=z.useState("capacity"),[r,n]=z.useState(fO),[i,o]=z.useState(!0);z.useEffect(()=>{(async()=>{o(!0);try{const le=(await Bp.getParameters()).map(pe=>({id:pe.id,name:pe.name||pe.key||"",description:pe.description||"",level:pe.level||"company",value:pe.value,unit:pe.unit,type:pe.type||"number",enumValues:pe.enumValues,source:pe.source||"default",inheritedFrom:pe.inheritedFrom,validFrom:pe.validFrom||new Date().toISOString(),validTo:pe.validTo||null,hasOverride:pe.hasOverride||!1,category:pe.category||"capacity",priority:pe.priority,articleHierarchyScope:pe.articleHierarchyScope,planningLevel:pe.planningLevel}));n(le)}catch(re){console.error("Failed to load parameters:",re),n(fO)}finally{o(!1)}})()},[]);const[l,u]=z.useState(null),[d,f]=z.useState(!1),[v,h]=z.useState(null),[m,b]=z.useState(""),[w,x]=z.useState(""),[y,j]=z.useState(""),[k,S]=z.useState(""),[N,A]=z.useState(""),[O,_]=z.useState(!1),[T,E]=z.useState([]),[D,I]=z.useState(!1),[L,M]=z.useState([]),V=B=>{E(B),M(B)},H=()=>{I(!0)},q=B=>{I(!1)},X=z.useMemo(()=>r.filter(B=>!(B.category!==e||m&&B.level!==m||y&&!B.name.toLowerCase().includes(y.toLowerCase())||L.length>0&&B.articleHierarchyScope&&!L.some(le=>B.articleHierarchyScope?.includes(le))||w&&(w==="active"&&B.validTo!==null||w==="inactive"&&B.validTo===null||w==="overridden"&&!B.hasOverride||w==="inherited"&&B.source!=="inherited"))),[r,e,m,w,y,L]),W=(B,re)=>{n(le=>le.map(pe=>pe.id===B?{...pe,value:re}:pe))},F=B=>{u(B),f(!0)},Y=(B,re=wS)=>{for(const le of re){if(le.id===B)return le;if(le.children){const pe=Y(B,le.children);if(pe)return pe}}return null},$=B=>{if(v===B.id)switch(B.type){case"boolean":return a.jsxs("select",{value:B.value?"true":"false",onChange:re=>W(B.id,re.target.value==="true"),onBlur:()=>h(null),autoFocus:!0,className:"px-2 py-1 border rounded",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"true",children:"Ja"}),a.jsx("option",{value:"false",children:"Nein"})]});case"enum":return a.jsx("select",{value:B.value,onChange:re=>W(B.id,re.target.value),onBlur:()=>h(null),autoFocus:!0,className:"px-2 py-1 border rounded",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"},children:B.enumValues?.map(re=>a.jsx("option",{value:re,children:re},re))});case"number":case"percentage":return a.jsx("input",{type:"number",value:B.value,onChange:re=>W(B.id,parseFloat(re.target.value)),onBlur:()=>h(null),autoFocus:!0,step:B.type==="percentage"?1:.001,className:"px-2 py-1 border rounded w-24",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"}});default:return a.jsx("input",{type:"text",value:B.value,onChange:re=>W(B.id,re.target.value),onBlur:()=>h(null),autoFocus:!0,className:"px-2 py-1 border rounded",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"}})}return B.type==="boolean"?a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:B.value?"var(--status-success)":"var(--border-default)",color:B.value?"var(--text-inverse)":"var(--text-muted)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:B.value?"Ja":"Nein"}):a.jsxs("span",{style:{fontSize:"var(--font-size-sm)"},children:[B.value,B.unit&&` ${B.unit}`]})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[a.jsx("span",{children:"Einstellungen"}),a.jsx(un,{size:16}),a.jsx("span",{children:"Allokationsparameter"})]}),a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Allokationsparameter"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)",maxWidth:"800px"},children:"Zentrale Pflege steuerungsrelevanter Parameter fr Kapazitt, Prsentation, Zeitlogik und Allokationsalgorithmen. nderungen wirken hierarchisch und overridefhig."})]}),a.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsxs("div",{className:"relative flex-1 max-w-xs",children:[a.jsx(fn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{type:"text",placeholder:"Parameter suchen...",value:y,onChange:B=>j(B.target.value),className:"pl-10 pr-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("select",{value:m,onChange:B=>b(B.target.value),className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Ebenen"}),Db.map(B=>a.jsx("option",{value:B.value,children:B.label},B.value))]}),a.jsxs("select",{value:w,onChange:B=>x(B.target.value),className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Status"}),a.jsx("option",{value:"active",children:"Aktiv"}),a.jsx("option",{value:"inactive",children:"Inaktiv"}),a.jsx("option",{value:"overridden",children:"berschrieben"}),a.jsx("option",{value:"inherited",children:"Geerbt"})]}),a.jsxs("button",{onClick:()=>_(!0),className:"px-3 py-2 border rounded-lg flex items-center gap-2 whitespace-nowrap",style:{borderColor:L.length>0?"var(--brand-primary)":"var(--border-input)",height:"var(--height-input-md)",backgroundColor:L.length>0?"var(--surface-info-subtle)":"var(--surface-page)",fontSize:"var(--font-size-sm)",color:L.length>0?"var(--brand-primary)":"var(--text-secondary)"},children:[a.jsx(xE,{size:16}),a.jsx("span",{children:L.length===0?"Artikelhierarchie":`${L.length} Ebene${L.length!==1?"n":""}`}),L.length>0&&a.jsx(Et,{size:14,onClick:B=>{B.stopPropagation(),M([]),E([])},className:"hover:bg-surface-tint rounded-full p-0.5"})]}),a.jsx("input",{type:"date",placeholder:"Gltig von",value:k,onChange:B=>S(B.target.value),className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}}),a.jsx("input",{type:"date",placeholder:"Gltig bis",value:N,onChange:B=>A(B.target.value),className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("button",{className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)",whiteSpace:"nowrap"},children:[a.jsx(ji,{size:16}),"Neuen Parameter anlegen"]})]})}),a.jsx("div",{className:"sticky top-0 z-10 border-b",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsx("div",{className:"flex gap-1",children:pO.map(B=>a.jsx("button",{onClick:()=>t(B.key),className:"px-4 py-3 relative",style:{color:e===B.key?"var(--brand-primary)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:e===B.key?"var(--font-weight-semibold)":"var(--font-weight-medium)",backgroundColor:"transparent",borderBottom:e===B.key?"2px solid var(--brand-primary)":"none"},children:B.label},B.key))})}),e==="storeBlocking"?a.jsx(gte,{onAddStore:H}):a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:pO.find(B=>B.key===e)?.label}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[X.length," Parameter"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"200px"},children:"Parametername"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"120px"},children:"Ebene"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"180px"},children:"Artikelhierarchie"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"150px"},children:"Wert"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"180px"},children:"Herkunft"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"110px"},children:"Gltig von"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"110px"},children:"Gltig bis"}),a.jsx("th",{style:{textAlign:"center",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"80px"},children:"Override"}),a.jsx("th",{style:{textAlign:"center",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"100px"},children:"Aktionen"})]})}),a.jsx("tbody",{children:X.map(B=>a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},className:"hover:bg-surface-tint",children:[a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:B.name}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"2px"},children:B.description})]})}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:Db.find(re=>re.value===B.level)?.label})}),a.jsx("td",{style:{padding:"12px 8px"},children:B.articleHierarchyScope&&B.articleHierarchyScope.length>0?a.jsxs("div",{className:"flex flex-wrap gap-1",children:[B.articleHierarchyScope.slice(0,2).map(re=>{const le=Y(re);return le?a.jsx("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--text-primary)",fontSize:"var(--font-size-xs)",whiteSpace:"nowrap"},title:le.label,children:le.label.length>20?`${le.label.substring(0,20)}...`:le.label},re):null}),B.articleHierarchyScope.length>2&&a.jsxs("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:"var(--surface-subtle-tint)",color:"var(--text-muted)",fontSize:"var(--font-size-xs)"},children:["+",B.articleHierarchyScope.length-2]})]}):a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Alle"})}),a.jsx("td",{style:{padding:"12px 8px",cursor:"pointer"},onClick:()=>h(B.id),children:$(B)}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{children:[a.jsx("span",{className:"px-2 py-1 rounded inline-flex items-center gap-1",style:{backgroundColor:`${dO[B.source]}15`,color:dO[B.source],fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:hO[B.source]}),B.inheritedFrom&&a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:["von ",B.inheritedFrom]})]})}),a.jsx("td",{style:{padding:"12px 8px",fontSize:"var(--font-size-sm)"},children:new Date(B.validFrom).toLocaleDateString("de-DE")}),a.jsx("td",{style:{padding:"12px 8px",fontSize:"var(--font-size-sm)"},children:B.validTo?new Date(B.validTo).toLocaleDateString("de-DE"):a.jsx("span",{style:{color:"var(--text-muted)"},children:"Unbegrenzt"})}),a.jsx("td",{style:{padding:"12px 8px",textAlign:"center"},children:B.hasOverride&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--status-warning)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Override"})}),a.jsx("td",{style:{padding:"12px 8px",textAlign:"center"},children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:()=>h(B.id),className:"p-1 hover:bg-surface-tint rounded",title:"Bearbeiten",children:a.jsx(yo,{size:16,style:{color:"var(--text-secondary)"}})}),a.jsx("button",{onClick:()=>F(B),className:"p-1 hover:bg-surface-tint rounded",title:"Details anzeigen",children:a.jsx(K4,{size:16,style:{color:"var(--text-secondary)"}})})]})})]},B.id))})]})})]}),d&&l&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:()=>f(!1),children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-3xl max-h-[80vh] overflow-y-auto",style:{boxShadow:"var(--shadow-lg)"},onClick:B=>B.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b flex items-start justify-between sticky top-0 bg-white",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:l.name}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:l.description})]}),a.jsx("button",{onClick:()=>f(!1),className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Aktueller Wert"}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-subtle-tint)"},children:a.jsxs("div",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)"},children:[l.type==="boolean"?l.value?"Ja":"Nein":l.value,l.unit&&a.jsx("span",{style:{fontSize:"var(--font-size-md)",color:"var(--text-muted)",marginLeft:"4px"},children:l.unit})]})})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Vererbungsbaum"}),a.jsx("div",{className:"space-y-2",children:Db.map((B,re)=>a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg",style:{backgroundColor:B.value===l.level?"var(--surface-info-subtle)":"var(--surface-subtle-tint)",borderLeft:B.value===l.level?"3px solid var(--brand-primary)":"none",marginLeft:`${re*16}px`},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:B.label}),B.value===l.level&&a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Definiert hier"})]}),B.value===l.level&&a.jsx(Ka,{size:16,style:{color:"var(--brand-primary)",marginLeft:"auto"}})]},B.value))})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Herkunftsinformationen"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Quelle"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:hO[l.source]})]}),l.inheritedFrom&&a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Geerbt von"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:l.inheritedFrom})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Gltigkeitszeitraum"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Gltig von"}),a.jsx("input",{type:"date",value:l.validFrom,className:"px-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"}})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Gltig bis"}),a.jsx("input",{type:"date",value:l.validTo||"",placeholder:"Unbegrenzt",className:"px-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"}})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Override-Verwaltung"}),a.jsxs("div",{className:"p-4 rounded-lg flex items-center justify-between",style:{backgroundColor:l.hasOverride?"var(--surface-warning-subtle)":"var(--surface-subtle-tint)",border:l.hasOverride?"1px solid var(--border-warning)":"none"},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Override Status"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:l.hasOverride?"Parameter wird berschrieben":"Kein Override aktiv"})]}),a.jsx("button",{className:"px-4 py-2 rounded-lg border",style:{backgroundColor:l.hasOverride?"var(--button-danger-bg)":"var(--button-secondary-bg)",borderColor:l.hasOverride?"var(--button-danger-border)":"var(--button-secondary-border)",color:l.hasOverride?"var(--button-danger-text)":"var(--button-secondary-text)",height:"var(--height-button-md)"},children:l.hasOverride?"Override entfernen":"Override setzen"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(SE,{size:16}),"nderungshistorie"]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--surface-subtle-tint)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Aktuell"}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:new Date().toLocaleDateString("de-DE")})]}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)"},children:["Wert: ",l.type==="boolean"?l.value?"Ja":"Nein":l.value,l.unit&&` ${l.unit}`]})]}),a.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--surface-subtle-tint)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Version 1"}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"01.01.2025"})]}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Initiale Parameterdefinition"})]})]})]})]}),a.jsxs("div",{className:"p-6 border-t flex items-center justify-end gap-3 sticky bottom-0 bg-white",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Schlieen"}),a.jsx("button",{className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:"nderungen speichern"})]})]})}),a.jsx(Xb,{isOpen:D,onClose:()=>I(!1),title:"Filiale fr Blockierungsregel auswhlen",availableLocations:[],selectedLocations:[],onConfirm:q}),a.jsx(hte,{isOpen:O,onClose:()=>_(!1),selectedNodes:T,onConfirm:V,title:"Artikelhierarchie auswhlen",description:"Whlen Sie die Artikelhierarchieebenen aus, fr die Sie Parameter filtern mchten"})]})}const xte=[{month:"Jan",target:4500,actual:4200,over:0,under:300},{month:"Feb",target:4500,actual:4800,over:300,under:0},{month:"Mr",target:4800,actual:4600,over:0,under:200},{month:"Apr",target:5e3,actual:5300,over:300,under:0},{month:"Mai",target:5e3,actual:4700,over:0,under:300},{month:"Jun",target:4800,actual:4900,over:100,under:0},{month:"Jul",target:4500,actual:4400,over:0,under:100},{month:"Aug",target:4500,actual:4600,over:100,under:0},{month:"Sep",target:4800,actual:5100,over:300,under:0},{month:"Okt",target:5200,actual:5e3,over:0,under:200},{month:"Nov",target:5500,actual:5400,over:0,under:100},{month:"Dez",target:5500,actual:5600,over:100,under:0}],vO=[{category:"Schuhe",deviation:450,color:"#ef4444"},{category:"Oberbekleidung",deviation:-280,color:"#3b82f6"},{category:"Hosen",deviation:120,color:"#ef4444"},{category:"Accessoires",deviation:-150,color:"#3b82f6"},{category:"Sport Equipment",deviation:200,color:"#ef4444"},{category:"Unterwsche",deviation:-90,color:"#3b82f6"}],bte=[{month:"Jan",storeStock:2200,warehouseStock:3500,demand:4800},{month:"Feb",storeStock:2400,warehouseStock:3800,demand:5200},{month:"Mr",storeStock:2100,warehouseStock:3200,demand:4500},{month:"Apr",storeStock:2600,warehouseStock:4200,demand:5800},{month:"Mai",storeStock:2500,warehouseStock:4e3,demand:5500},{month:"Jun",storeStock:2300,warehouseStock:3700,demand:5e3}],Ste=[{month:"Jan",forecast:4500,allocated:4200,sales:3900},{month:"Feb",forecast:5e3,allocated:4800,sales:4500},{month:"Mr",forecast:4800,allocated:4600,sales:4300},{month:"Apr",forecast:5500,allocated:5300,sales:5e3},{month:"Mai",forecast:5200,allocated:4700,sales:4400},{month:"Jun",forecast:4900,allocated:4900,sales:4600}],Sc=[{size:"36",forecast:8,allocated:10,sales:9},{size:"37",forecast:12,allocated:13,sales:12},{size:"38",forecast:18,allocated:17,sales:18},{size:"39",forecast:22,allocated:20,sales:21},{size:"40",forecast:20,allocated:19,sales:20},{size:"41",forecast:15,allocated:14,sales:13},{size:"42",forecast:12,allocated:11,sales:10},{size:"43",forecast:10,allocated:9,sales:8},{size:"44",forecast:8,allocated:7,sales:7},{size:"45",forecast:6,allocated:5,sales:5},{size:"46",forecast:4,allocated:3,sales:3},{size:"47",forecast:3,allocated:2,sales:2}],wte=[{article:"Running Schuhe Pro",category:"Schuhe",season:"FS25",targetCapacity:450,actualCapacity:520,overCapacity:70,underCapacity:0,forecast:2400,allocated:2200,storeStock:850,warehouseStock:1350,demand:2100,sizeDeviation:8.5,exceptionCount:3},{article:"Winter Jacke Premium",category:"Oberbekleidung",season:"HW25",targetCapacity:380,actualCapacity:340,overCapacity:0,underCapacity:40,forecast:1800,allocated:1650,storeStock:620,warehouseStock:1030,demand:1750,sizeDeviation:12.3,exceptionCount:5},{article:"Sport T-Shirt Basic",category:"Oberbekleidung",season:"FS25",targetCapacity:280,actualCapacity:290,overCapacity:10,underCapacity:0,forecast:3200,allocated:3150,storeStock:1200,warehouseStock:1950,demand:3100,sizeDeviation:3.2,exceptionCount:0},{article:"Jeans Slim Fit",category:"Hosen",season:"FS25",targetCapacity:320,actualCapacity:350,overCapacity:30,underCapacity:0,forecast:1900,allocated:1850,storeStock:700,warehouseStock:1150,demand:1800,sizeDeviation:5.7,exceptionCount:2},{article:"Rucksack Urban",category:"Accessoires",season:"FS25",targetCapacity:180,actualCapacity:160,overCapacity:0,underCapacity:20,forecast:1200,allocated:1100,storeStock:420,warehouseStock:680,demand:1150,sizeDeviation:0,exceptionCount:1},{article:"Fuball",category:"Sport Equipment",season:"FS25",targetCapacity:220,actualCapacity:260,overCapacity:40,underCapacity:0,forecast:1500,allocated:1450,storeStock:550,warehouseStock:900,demand:1420,sizeDeviation:0,exceptionCount:0}];function jte({onNavigate:e}){const[t,r]=z.useState("all"),[n,i]=z.useState("all"),[o,l]=z.useState("all"),[u,d]=z.useState(""),[f,v]=z.useState(""),[h,m]=z.useState("absolute"),[b,w]=z.useState(null),x=z.useMemo(()=>wte.filter(A=>!(t!=="all"&&A.season!==t||o!=="all"&&A.category!==o)),[t,o]),y=z.useMemo(()=>{const A=x.reduce((M,V)=>M+V.targetCapacity,0),O=x.reduce((M,V)=>M+V.actualCapacity,0),_=x.reduce((M,V)=>M+V.overCapacity,0),T=x.reduce((M,V)=>M+V.underCapacity,0),E=x.reduce((M,V)=>M+V.forecast,0),D=x.reduce((M,V)=>M+V.allocated,0),I=A>0?O/A*100:0,L=E>0?D/E*100:0;return{targetCapacity:A,utilization:I,overCapacity:_,underCapacity:T,forecastCoverage:L}},[x]),j=z.useMemo(()=>{if(h==="absolute")return Sc;const A=Sc.reduce((T,E)=>T+E.forecast,0),O=Sc.reduce((T,E)=>T+E.allocated,0),_=Sc.reduce((T,E)=>T+E.sales,0);return Sc.map(T=>({size:T.size,forecast:T.forecast/A*100,allocated:T.allocated/O*100,sales:T.sales/_*100}))},[h]),k=()=>{alert("Export-Funktionalitt: CSV/Excel-Download wrde hier ausgefhrt")},S=()=>{alert("Ansicht speichern: Die aktuelle Filtereinstellung wrde gespeichert")},N=[{key:"article",label:"Artikel",sortable:!0,render:A=>a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:A})},{key:"category",label:"Kategorie",sortable:!0},{key:"season",label:"Saison",sortable:!0},{key:"targetCapacity",label:"SOLL-Kapazitt (m)",align:"right",sortable:!0},{key:"actualCapacity",label:"IST-Kapazitt (m)",align:"right",sortable:!0,render:(A,O)=>a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:O.overCapacity>0?"#ef4444":O.underCapacity>0?"#3b82f6":"inherit"},children:A})},{key:"overCapacity",label:"berdeckung (m)",align:"right",sortable:!0,render:A=>A>0?a.jsxs("span",{style:{color:"#ef4444",fontWeight:"var(--font-weight-medium)"},children:["+",A]}):"-"},{key:"underCapacity",label:"Unterdeckung (m)",align:"right",sortable:!0,render:A=>A>0?a.jsxs("span",{style:{color:"#3b82f6",fontWeight:"var(--font-weight-medium)"},children:["-",A]}):"-"},{key:"forecast",label:"Prognosemenge",align:"right",sortable:!0},{key:"allocated",label:"Allokierte Menge",align:"right",sortable:!0,render:A=>a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)"},children:A})},{key:"storeStock",label:"Filialbestand",align:"right",sortable:!0},{key:"warehouseStock",label:"VZ-Bestand",align:"right",sortable:!0},{key:"demand",label:"Bedarf",align:"right",sortable:!0},{key:"sizeDeviation",label:"Grenabweichung (%)",align:"right",sortable:!0,render:A=>A>0?`${A}%`:"-"},{key:"exceptionCount",label:"Exception-Anzahl",align:"right",sortable:!0,render:A=>A>0?a.jsx("span",{className:"px-2 py-1 rounded-full",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:A}):a.jsx("span",{style:{color:"var(--text-muted)"},children:"-"})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[a.jsx("span",{children:"Analytics"}),a.jsx("span",{children:""}),a.jsx("span",{children:"Allocation & Capacity"})]}),a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Allocation & Capacity Analytics"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Zentrale Analyse von Prognose, Kapazitt, Bedarf, Bestnden und Allokationsergebnissen ber Zeit, Artikelhierarchie und Stores."})]}),a.jsx("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 grid grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Zeitraum von"}),a.jsx("input",{type:"date",value:u,onChange:A=>d(A.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Zeitraum bis"}),a.jsx("input",{type:"date",value:f,onChange:A=>v(A.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Saison"}),a.jsxs("select",{value:t,onChange:A=>r(A.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"all",children:"Alle Saisons"}),a.jsx("option",{value:"FS25",children:"Frhjahr/Sommer 2025"}),a.jsx("option",{value:"HW25",children:"Herbst/Winter 2025"}),a.jsx("option",{value:"FS26",children:"Frhjahr/Sommer 2026"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Prozess"}),a.jsxs("select",{value:n,onChange:A=>i(A.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"all",children:"Alle Prozesse"}),a.jsx("option",{value:"initial",children:"Initiale Allokation"}),a.jsx("option",{value:"replenishment",children:"Nachschub"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Kategorie"}),a.jsxs("select",{value:o,onChange:A=>l(A.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"all",children:"Alle Kategorien"}),a.jsx("option",{value:"Schuhe",children:"Schuhe"}),a.jsx("option",{value:"Oberbekleidung",children:"Oberbekleidung"}),a.jsx("option",{value:"Hosen",children:"Hosen"}),a.jsx("option",{value:"Accessoires",children:"Accessoires"}),a.jsx("option",{value:"Sport Equipment",children:"Sport Equipment"})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:k,className:"px-4 py-2 rounded-lg border flex items-center gap-2 hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(Ta,{size:16}),"Export"]}),a.jsxs("button",{onClick:S,className:"px-4 py-2 rounded-lg border flex items-center gap-2 hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(Su,{size:16}),"Ansicht speichern"]})]})]})}),a.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"SOLL-Kapazitt"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)"},children:[y.targetCapacity.toLocaleString("de-DE")," m"]})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"IST-Kapazittsauslastung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:y.utilization>105?"#ef4444":y.utilization<95?"#3b82f6":"#10b981"},children:[y.utilization.toFixed(1),"%"]})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"berdeckung gesamt"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"#ef4444"},children:["+",y.overCapacity," m"]})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Unterdeckung gesamt"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"#3b82f6"},children:["-",y.underCapacity," m"]})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Prognoseabdeckung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)"},children:[y.forecastCoverage.toFixed(1),"%"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:"Allokiert vs. Forecast"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Kapazitt SOLL vs. IST ber Zeit"}),a.jsx(Yt,{width:"100%",height:300,minWidth:0,minHeight:0,children:a.jsxs(UJ,{data:xte,children:[a.jsx(Kn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(bt,{dataKey:"month",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx($a,{type:"monotone",dataKey:"over",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.3,name:"berkapazitt"}),a.jsx($a,{type:"monotone",dataKey:"under",stackId:"2",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3,name:"Untererfllung"}),a.jsx(qr,{type:"monotone",dataKey:"target",stroke:"#94a3b8",strokeDasharray:"5 5",strokeWidth:2,name:"SOLL",dot:!1}),a.jsx(qr,{type:"monotone",dataKey:"actual",stroke:"#2563eb",strokeWidth:2,name:"IST"})]})})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"ber-/Unterdeckung nach Kategorie"}),a.jsx(Yt,{width:"100%",height:300,minWidth:0,minHeight:0,children:a.jsxs(Pr,{data:vO,layout:"horizontal",children:[a.jsx(Kn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(bt,{type:"number",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{type:"category",dataKey:"category",width:120,style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(gh,{x:0,stroke:"#94a3b8",strokeWidth:2}),a.jsx(Re,{dataKey:"deviation",onClick:A=>w(A.category),cursor:"pointer",children:vO.map((A,O)=>a.jsx(Re,{fill:A.color},`cell-${O}`))})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Bestnde & Bedarf"}),a.jsx(Yt,{width:"100%",height:300,minWidth:0,minHeight:0,children:a.jsxs(Pr,{data:bte,children:[a.jsx(Kn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(bt,{dataKey:"month",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(Re,{dataKey:"storeStock",stackId:"a",fill:"#3b82f6",name:"Filialbestand"}),a.jsx(Re,{dataKey:"warehouseStock",stackId:"a",fill:"#60a5fa",name:"VZ-Bestand"}),a.jsx(qr,{type:"monotone",dataKey:"demand",stroke:"#ef4444",strokeWidth:2,name:"Bedarf"})]})})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Prognose vs. Allokation"}),a.jsx(Yt,{width:"100%",height:300,minWidth:0,minHeight:0,children:a.jsxs(Pr,{data:Ste,children:[a.jsx(Kn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(bt,{dataKey:"month",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(Re,{dataKey:"forecast",fill:"#94a3b8",name:"Prognose"}),a.jsx(Re,{dataKey:"allocated",fill:"#2563eb",name:"Allokiert"}),a.jsx(Re,{dataKey:"sales",fill:"#10b981",name:"Abverkauf"})]})})]})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:"Grenkurven"}),a.jsxs("div",{className:"flex gap-2 p-1 rounded-lg",style:{backgroundColor:"var(--surface-alt)"},children:[a.jsx("button",{onClick:()=>m("absolute"),className:"px-3 py-1.5 rounded transition-all",style:{backgroundColor:h==="absolute"?"var(--brand-primary)":"transparent",color:h==="absolute"?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Absolut"}),a.jsx("button",{onClick:()=>m("percentage"),className:"px-3 py-1.5 rounded transition-all",style:{backgroundColor:h==="percentage"?"var(--brand-primary)":"transparent",color:h==="percentage"?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Prozentual"})]})]}),a.jsx(Yt,{width:"100%",height:350,minWidth:0,minHeight:0,children:a.jsxs(rI,{data:j,children:[a.jsx(Kn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(bt,{dataKey:"size",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"},unit:h==="percentage"?"%":""}),a.jsx(st,{formatter:A=>h==="percentage"?`${A.toFixed(1)}%`:A}),a.jsx(zt,{}),a.jsx(qr,{type:"monotone",dataKey:"forecast",stroke:"#94a3b8",strokeWidth:2,name:"Prognose",dot:{r:4}}),a.jsx(qr,{type:"monotone",dataKey:"allocated",stroke:"#2563eb",strokeWidth:2,name:"Allokiert",dot:{r:4}}),a.jsx(qr,{type:"monotone",dataKey:"sales",stroke:"#10b981",strokeWidth:2,name:"Abverkauf",dot:{r:4}})]})})]}),a.jsxs("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"p-4 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:["Detailanalyse",b&&a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginLeft:"8px"},children:["(gefiltert nach: ",b,")"]})]})}),a.jsx(Nr,{data:b?x.filter(A=>A.category===b):x,columns:N,onRowClick:()=>{}})]})]})}function kte({onNavigate:e}){const[t,r]=z.useState(new Set([1,2,3,4,5,6,7])),n=o=>{const l=new Set(t);l.has(o)?l.delete(o):l.add(o),r(l)},i=[{id:1,title:"Auswahl der Empfnger",expanded:t.has(1),content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Auswahlmethode"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"Plandaten & Listung"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl ausgewhlter Filialen"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",fontSize:"var(--font-size-lg)"},children:"12 Filialen"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl Cluster"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"3 Cluster"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Ausschlsse"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"2 Filialen (nicht gelistet)"})]})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"8px"},children:"Angewendete Regeln"}),a.jsxs("ul",{className:"space-y-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Hd,{size:16,style:{color:"var(--status-success)",marginTop:"2px",flexShrink:0}}),a.jsx("span",{children:"Artikel ist in Filiale gelistet"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Hd,{size:16,style:{color:"var(--status-success)",marginTop:"2px",flexShrink:0}}),a.jsx("span",{children:"Filiale ist im Planliefertermin aktiv"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Hd,{size:16,style:{color:"var(--status-success)",marginTop:"2px",flexShrink:0}}),a.jsx("span",{children:"Transportbeziehung VZ  Filiale existiert"})]})]})]})]})},{id:2,title:"Ermittlung der Liefertermine",expanded:t.has(2),content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Basis"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"Lieferplan"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Planlieferzeit"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"3 Tage"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Ursprngliches Lieferfenster (Plan)"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"01.03.2025"}),a.jsx("span",{style:{color:"var(--text-muted)"},children:""}),a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"15.03.2025"})]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Simuliertes Lieferfenster"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--brand-primary)"},children:"05.03.2025"}),a.jsx("span",{style:{color:"var(--text-muted)"},children:""}),a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--brand-primary)"},children:"20.03.2025"})]})]})]}),a.jsxs("div",{className:"p-4 rounded-lg flex items-start gap-3",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--status-info)"},children:[a.jsx(Qt,{size:18,style:{color:"var(--status-info)",marginTop:"2px",flexShrink:0}}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:"Das Lieferfenster wurde im Rahmen der Simulation angepasst, um Kapazittsspitzen zu reduzieren."})]})]})},{id:3,title:"Ermittlung verfgbarer Mengen",expanded:t.has(3),content:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Quellen"}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"VZ-Bestand"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"2.400"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Bestellungen"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"1.800"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Lieferungen"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"650"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Externe Verfgbarkeit"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"0"})]})]}),a.jsx("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-subtle)"},children:a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Gesamt verfgbar"}),a.jsx("div",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-bold)"},children:"4.850"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Reserviert"}),a.jsx("div",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-bold)",color:"var(--status-warning)"},children:"320"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Verfgbar fr Allokation"}),a.jsx("div",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-bold)",color:"var(--status-success)"},children:"4.530"})]})]})})]})},{id:4,title:"Kapazittsannahmen",expanded:t.has(4),content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Kapazittsebene"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"Store & Kategorie"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"SOLL-Kapazitt"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"450 m"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Parameterbasis"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:'Produktgruppe "Sneaker"'})]})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"12px"},children:"Parameter"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Flchenbedarf je Einheit"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"0,08 m"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Prsentationsdauer"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"14 Tage"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"LOT-Gre"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"12 Paar"})]})]})]}),a.jsxs("div",{className:"p-3 rounded-lg flex items-start gap-2",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--status-info)"},children:[a.jsx(Qt,{size:16,style:{color:"var(--status-info)",marginTop:"2px",flexShrink:0}}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-primary)"},children:'Parameter wurden aus der Produktgruppe "Sneaker" bernommen'})]})]})},{id:5,title:"Allokationsalgorithmus",expanded:t.has(5),content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Algorithmus"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)"},children:"Kapazittsgesteuerte Allokation"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Ziel"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"Auffllung auf Sollbestand unter Bercksichtigung der Kapazitt"})]})]}),a.jsxs("div",{className:"p-6 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"16px"},children:"Allokationsablauf (vereinfacht)"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 p-4 rounded-lg text-center",style:{backgroundColor:"var(--surface-page)",border:"2px solid var(--brand-primary)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Schritt 1"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)"},children:"Verfgbarkeit prfen"})]}),a.jsx(un,{size:24,style:{color:"var(--text-muted)",margin:"0 12px"}}),a.jsxs("div",{className:"flex-1 p-4 rounded-lg text-center",style:{backgroundColor:"var(--surface-page)",border:"2px solid var(--brand-primary)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Schritt 2"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)"},children:"Bedarf ermitteln"})]}),a.jsx(un,{size:24,style:{color:"var(--text-muted)",margin:"0 12px"}}),a.jsxs("div",{className:"flex-1 p-4 rounded-lg text-center",style:{backgroundColor:"var(--surface-page)",border:"2px solid var(--brand-primary)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Schritt 3"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)"},children:"Kapazitt prfen"})]}),a.jsx(un,{size:24,style:{color:"var(--text-muted)",margin:"0 12px"}}),a.jsxs("div",{className:"flex-1 p-4 rounded-lg text-center",style:{backgroundColor:"var(--surface-page)",border:"2px solid var(--status-success)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Schritt 4"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--status-success)"},children:"Zuteilung"})]})]})]})]})},{id:6,title:"Krzungen & Konfliktauflsung",expanded:t.has(6),content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Notwendige Krzungen"}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:"var(--status-warning)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Ja"})})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Krzungsstrategie"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)"},children:"Proportional"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Betroffene Artikel"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"8 Artikel"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Betroffene Filialen"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"5 Filialen"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Krzungsmenge gesamt"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-danger)"},children:"240 Stck"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("span",{className:"px-4 py-2 rounded-lg inline-flex items-center gap-2",style:{backgroundColor:"var(--surface-success-subtle)",color:"var(--status-success)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",border:"1px solid var(--status-success)"},children:[a.jsx(Hd,{size:16}),"berkapazitt vermieden"]}),a.jsxs("span",{className:"px-4 py-2 rounded-lg inline-flex items-center gap-2",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",border:"1px solid var(--status-warning)"},children:[a.jsx(aa,{size:16}),"Unterdeckung akzeptiert"]})]})]})},{id:7,title:"Ergebnis der Allokation",expanded:t.has(7),content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"2px solid var(--brand-primary)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Allokierte Gesamtmenge"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"var(--brand-primary)"},children:"4.290"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"ber-/Unterdeckung"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"#3b82f6"},children:"-240"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl Ausnahmen"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"var(--status-warning)"},children:"3"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Kapazittswirkung"}),a.jsx("div",{className:"flex items-center gap-2 mt-2",children:a.jsx("span",{className:"px-3 py-1.5 rounded-lg",style:{backgroundColor:"var(--status-success)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Ausgeglichen"})})]})]}),a.jsx("div",{className:"pt-4",children:a.jsx("button",{onClick:()=>e("exceptions"),className:"px-6 py-3 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontWeight:"var(--font-weight-medium)",border:"none",cursor:"pointer"},children:"Ausnahmen anzeigen"})})]})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("button",{onClick:()=>e("work"),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-surface-tint transition-colors",style:{color:"var(--text-muted)"},children:[a.jsx(WS,{size:20}),a.jsx("span",{children:"Zurck zur Simulation"})]}),a.jsxs("div",{className:"flex items-center gap-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[a.jsx("span",{children:"Arbeitsvorrat"}),a.jsx("span",{children:""}),a.jsx("span",{children:"Simulation"}),a.jsx("span",{children:""}),a.jsx("span",{children:"Allokationsanalyse"})]}),a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Allokationsanalyse"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Detaillierte Erklrung, wie der Allokationsprozess zu diesem Ergebnis gekommen ist."})]}),a.jsx("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"grid grid-cols-5 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Szenario"}),a.jsx("span",{className:"px-3 py-1 rounded-full inline-block",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--status-info)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Initiale Allokation"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl Artikel"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",fontSize:"var(--font-size-lg)"},children:"24"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Lieferzeitraum (simuliert)"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"05.03.2025"}),a.jsx("span",{style:{color:"var(--text-muted)"},children:""}),a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"20.03.2025"})]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Kapazittsbasis"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"SOLL-Kapazitt"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Simulationszeitpunkt"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:new Date().toLocaleDateString("de-DE")})]})]})}),a.jsx("div",{className:"space-y-4",children:i.map(o=>a.jsxs("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("button",{onClick:()=>n(o.id),className:"w-full p-5 flex items-center justify-between hover:bg-surface-tint transition-colors",style:{textAlign:"left"},children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontWeight:"var(--font-weight-semibold)",fontSize:"var(--font-size-sm)"},children:o.id}),a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:o.title})]}),o.expanded?a.jsx(_o,{size:20,style:{color:"var(--text-muted)"}}):a.jsx(un,{size:20,style:{color:"var(--text-muted)"}})]}),o.expanded&&a.jsx("div",{className:"px-5 pb-5 border-t",style:{borderColor:"var(--border-subtle)"},children:a.jsx("div",{className:"pt-5",children:o.content})})]},o.id))})]})}function mO(e,[t,r]){return Math.min(r,Math.max(t,e))}function gO(e){const t=Cte(e),r=z.forwardRef((n,i)=>{const{children:o,...l}=n,u=z.Children.toArray(o),d=u.find(Ate);if(d){const f=d.props.children,v=u.map(h=>h===d?z.Children.count(f)>1?z.Children.only(null):z.isValidElement(f)?f.props.children:null:h);return a.jsx(t,{...l,ref:i,children:z.isValidElement(f)?z.cloneElement(f,void 0,v):null})}return a.jsx(t,{...l,ref:i,children:o})});return r.displayName=`${e}.Slot`,r}function Cte(e){const t=z.forwardRef((r,n)=>{const{children:i,...o}=r;if(z.isValidElement(i)){const l=Pte(i),u=Nte(o,i.props);return i.type!==z.Fragment&&(u.ref=n?Sl(n,l):l),z.cloneElement(i,u)}return z.Children.count(i)>1?z.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var zte=Symbol("radix.slottable");function Ate(e){return z.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===zte}function Nte(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function Pte(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function NI(e){const t=e+"CollectionProvider",[r,n]=Ro(t),[i,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=x=>{const{scope:y,children:j}=x,k=K.useRef(null),S=K.useRef(new Map).current;return a.jsx(i,{scope:y,itemMap:S,collectionRef:k,children:j})};l.displayName=t;const u=e+"CollectionSlot",d=gO(u),f=K.forwardRef((x,y)=>{const{scope:j,children:k}=x,S=o(u,j),N=Mt(y,S.collectionRef);return a.jsx(d,{ref:N,children:k})});f.displayName=u;const v=e+"CollectionItemSlot",h="data-radix-collection-item",m=gO(v),b=K.forwardRef((x,y)=>{const{scope:j,children:k,...S}=x,N=K.useRef(null),A=Mt(y,N),O=o(v,j);return K.useEffect(()=>(O.itemMap.set(N,{ref:N,...S}),()=>void O.itemMap.delete(N))),a.jsx(m,{[h]:"",ref:A,children:k})});b.displayName=v;function w(x){const y=o(e+"CollectionConsumer",x);return K.useCallback(()=>{const k=y.collectionRef.current;if(!k)return[];const S=Array.from(k.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((O,_)=>S.indexOf(O.ref.current)-S.indexOf(_.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:l,Slot:f,ItemSlot:b},w,n]}var _te=z.createContext(void 0);function V1(e){const t=z.useContext(_te);return e||t||"ltr"}function Oi(e){const t=z.useRef(e);return z.useEffect(()=>{t.current=e}),z.useMemo(()=>(...r)=>t.current?.(...r),[])}function Ote(e,t=globalThis?.document){const r=Oi(e);z.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Ete="DismissableLayer",jS="dismissableLayer.update",Tte="dismissableLayer.pointerDownOutside",Dte="dismissableLayer.focusOutside",yO,PI=z.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),q1=z.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:u,...d}=e,f=z.useContext(PI),[v,h]=z.useState(null),m=v?.ownerDocument??globalThis?.document,[,b]=z.useState({}),w=Mt(t,_=>h(_)),x=Array.from(f.layers),[y]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=x.indexOf(y),k=v?x.indexOf(v):-1,S=f.layersWithOutsidePointerEventsDisabled.size>0,N=k>=j,A=Mte(_=>{const T=_.target,E=[...f.branches].some(D=>D.contains(T));!N||E||(i?.(_),l?.(_),_.defaultPrevented||u?.())},m),O=Lte(_=>{const T=_.target;[...f.branches].some(D=>D.contains(T))||(o?.(_),l?.(_),_.defaultPrevented||u?.())},m);return Ote(_=>{k===f.layers.size-1&&(n?.(_),!_.defaultPrevented&&u&&(_.preventDefault(),u()))},m),z.useEffect(()=>{if(v)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(yO=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(v)),f.layers.add(v),xO(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=yO)}},[v,m,r,f]),z.useEffect(()=>()=>{v&&(f.layers.delete(v),f.layersWithOutsidePointerEventsDisabled.delete(v),xO())},[v,f]),z.useEffect(()=>{const _=()=>b({});return document.addEventListener(jS,_),()=>document.removeEventListener(jS,_)},[]),a.jsx(Je.div,{...d,ref:w,style:{pointerEvents:S?N?"auto":"none":void 0,...e.style},onFocusCapture:Qe(e.onFocusCapture,O.onFocusCapture),onBlurCapture:Qe(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Qe(e.onPointerDownCapture,A.onPointerDownCapture)})});q1.displayName=Ete;var Rte="DismissableLayerBranch",Ite=z.forwardRef((e,t)=>{const r=z.useContext(PI),n=z.useRef(null),i=Mt(t,n);return z.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),a.jsx(Je.div,{...e,ref:i})});Ite.displayName=Rte;function Mte(e,t=globalThis?.document){const r=Oi(e),n=z.useRef(!1),i=z.useRef(()=>{});return z.useEffect(()=>{const o=u=>{if(u.target&&!n.current){let d=function(){_I(Tte,r,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Lte(e,t=globalThis?.document){const r=Oi(e),n=z.useRef(!1);return z.useEffect(()=>{const i=o=>{o.target&&!n.current&&_I(Dte,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function xO(){const e=new CustomEvent(jS);document.dispatchEvent(e)}function _I(e,t,r,{discrete:n}){const i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?iee(i,o):i.dispatchEvent(o)}var Rb=0;function OI(){z.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??bO()),document.body.insertAdjacentElement("beforeend",e[1]??bO()),Rb++,()=>{Rb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Rb--}},[])}function bO(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ib="focusScope.autoFocusOnMount",Mb="focusScope.autoFocusOnUnmount",SO={bubbles:!1,cancelable:!0},Bte="FocusScope",Z1=z.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=e,[u,d]=z.useState(null),f=Oi(i),v=Oi(o),h=z.useRef(null),m=Mt(t,x=>d(x)),b=z.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;z.useEffect(()=>{if(n){let x=function(S){if(b.paused||!u)return;const N=S.target;u.contains(N)?h.current=N:gi(h.current,{select:!0})},y=function(S){if(b.paused||!u)return;const N=S.relatedTarget;N!==null&&(u.contains(N)||gi(h.current,{select:!0}))},j=function(S){if(document.activeElement===document.body)for(const A of S)A.removedNodes.length>0&&gi(u)};document.addEventListener("focusin",x),document.addEventListener("focusout",y);const k=new MutationObserver(j);return u&&k.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",y),k.disconnect()}}},[n,u,b.paused]),z.useEffect(()=>{if(u){jO.add(b);const x=document.activeElement;if(!u.contains(x)){const j=new CustomEvent(Ib,SO);u.addEventListener(Ib,f),u.dispatchEvent(j),j.defaultPrevented||(Fte(Kte(EI(u)),{select:!0}),document.activeElement===x&&gi(u))}return()=>{u.removeEventListener(Ib,f),setTimeout(()=>{const j=new CustomEvent(Mb,SO);u.addEventListener(Mb,v),u.dispatchEvent(j),j.defaultPrevented||gi(x??document.body,{select:!0}),u.removeEventListener(Mb,v),jO.remove(b)},0)}}},[u,f,v,b]);const w=z.useCallback(x=>{if(!r&&!n||b.paused)return;const y=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,j=document.activeElement;if(y&&j){const k=x.currentTarget,[S,N]=Wte(k);S&&N?!x.shiftKey&&j===N?(x.preventDefault(),r&&gi(S,{select:!0})):x.shiftKey&&j===S&&(x.preventDefault(),r&&gi(N,{select:!0})):j===k&&x.preventDefault()}},[r,n,b.paused]);return a.jsx(Je.div,{tabIndex:-1,...l,ref:m,onKeyDown:w})});Z1.displayName=Bte;function Fte(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(gi(n,{select:t}),document.activeElement!==r)return}function Wte(e){const t=EI(e),r=wO(t,e),n=wO(t.reverse(),e);return[r,n]}function EI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function wO(e,t){for(const r of e)if(!$te(r,{upTo:t}))return r}function $te(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ute(e){return e instanceof HTMLInputElement&&"select"in e}function gi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Ute(e)&&t&&e.select()}}var jO=Hte();function Hte(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=kO(e,t),e.unshift(t)},remove(t){e=kO(e,t),e[0]?.resume()}}}function kO(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Kte(e){return e.filter(t=>t.tagName!=="A")}var Gte=BS[" useId ".trim().toString()]||(()=>{}),Vte=0;function Ai(e){const[t,r]=z.useState(Gte());return _r(()=>{r(n=>n??String(Vte++))},[e]),e||(t?`radix-${t}`:"")}const qte=["top","right","bottom","left"],Ei=Math.min,ln=Math.max,Ap=Math.round,cf=Math.floor,ua=e=>({x:e,y:e}),Zte={left:"right",right:"left",bottom:"top",top:"bottom"},Xte={start:"end",end:"start"};function kS(e,t,r){return ln(e,Ei(t,r))}function Ua(e,t){return typeof e=="function"?e(t):e}function Ha(e){return e.split("-")[0]}function Cl(e){return e.split("-")[1]}function X1(e){return e==="x"?"y":"x"}function Y1(e){return e==="y"?"height":"width"}const Yte=new Set(["top","bottom"]);function sa(e){return Yte.has(Ha(e))?"y":"x"}function Q1(e){return X1(sa(e))}function Qte(e,t,r){r===void 0&&(r=!1);const n=Cl(e),i=Q1(e),o=Y1(i);let l=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Np(l)),[l,Np(l)]}function Jte(e){const t=Np(e);return[CS(e),t,CS(t)]}function CS(e){return e.replace(/start|end/g,t=>Xte[t])}const CO=["left","right"],zO=["right","left"],ere=["top","bottom"],tre=["bottom","top"];function rre(e,t,r){switch(e){case"top":case"bottom":return r?t?zO:CO:t?CO:zO;case"left":case"right":return t?ere:tre;default:return[]}}function nre(e,t,r,n){const i=Cl(e);let o=rre(Ha(e),r==="start",n);return i&&(o=o.map(l=>l+"-"+i),t&&(o=o.concat(o.map(CS)))),o}function Np(e){return e.replace(/left|right|bottom|top/g,t=>Zte[t])}function are(e){return{top:0,right:0,bottom:0,left:0,...e}}function TI(e){return typeof e!="number"?are(e):{top:e,right:e,bottom:e,left:e}}function Pp(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function AO(e,t,r){let{reference:n,floating:i}=e;const o=sa(t),l=Q1(t),u=Y1(l),d=Ha(t),f=o==="y",v=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,m=n[u]/2-i[u]/2;let b;switch(d){case"top":b={x:v,y:n.y-i.height};break;case"bottom":b={x:v,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:h};break;case"left":b={x:n.x-i.width,y:h};break;default:b={x:n.x,y:n.y}}switch(Cl(t)){case"start":b[l]-=m*(r&&f?-1:1);break;case"end":b[l]+=m*(r&&f?-1:1);break}return b}const ire=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:l}=r,u=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:v,y:h}=AO(f,n,d),m=n,b={},w=0;for(let x=0;x<u.length;x++){const{name:y,fn:j}=u[x],{x:k,y:S,data:N,reset:A}=await j({x:v,y:h,initialPlacement:n,placement:m,strategy:i,middlewareData:b,rects:f,platform:l,elements:{reference:e,floating:t}});v=k??v,h=S??h,b={...b,[y]:{...b[y],...N}},A&&w<=50&&(w++,typeof A=="object"&&(A.placement&&(m=A.placement),A.rects&&(f=A.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):A.rects),{x:v,y:h}=AO(f,m,d)),x=-1)}return{x:v,y:h,placement:m,strategy:i,middlewareData:b}};async function xu(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:l,elements:u,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:v="viewport",elementContext:h="floating",altBoundary:m=!1,padding:b=0}=Ua(t,e),w=TI(b),y=u[m?h==="floating"?"reference":"floating":h],j=Pp(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(y)))==null||r?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:v,strategy:d})),k=h==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),N=await(o.isElement==null?void 0:o.isElement(S))?await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},A=Pp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:k,offsetParent:S,strategy:d}):k);return{top:(j.top-A.top+w.top)/N.y,bottom:(A.bottom-j.bottom+w.bottom)/N.y,left:(j.left-A.left+w.left)/N.x,right:(A.right-j.right+w.right)/N.x}}const ore=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:l,elements:u,middlewareData:d}=t,{element:f,padding:v=0}=Ua(e,t)||{};if(f==null)return{};const h=TI(v),m={x:r,y:n},b=Q1(i),w=Y1(b),x=await l.getDimensions(f),y=b==="y",j=y?"top":"left",k=y?"bottom":"right",S=y?"clientHeight":"clientWidth",N=o.reference[w]+o.reference[b]-m[b]-o.floating[w],A=m[b]-o.reference[b],O=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let _=O?O[S]:0;(!_||!await(l.isElement==null?void 0:l.isElement(O)))&&(_=u.floating[S]||o.floating[w]);const T=N/2-A/2,E=_/2-x[w]/2-1,D=Ei(h[j],E),I=Ei(h[k],E),L=D,M=_-x[w]-I,V=_/2-x[w]/2+T,H=kS(L,V,M),q=!d.arrow&&Cl(i)!=null&&V!==H&&o.reference[w]/2-(V<L?D:I)-x[w]/2<0,X=q?V<L?V-L:V-M:0;return{[b]:m[b]+X,data:{[b]:H,centerOffset:V-H-X,...q&&{alignmentOffset:X}},reset:q}}}),sre=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:l,initialPlacement:u,platform:d,elements:f}=t,{mainAxis:v=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...y}=Ua(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const j=Ha(i),k=sa(u),S=Ha(u)===u,N=await(d.isRTL==null?void 0:d.isRTL(f.floating)),A=m||(S||!x?[Np(u)]:Jte(u)),O=w!=="none";!m&&O&&A.push(...nre(u,x,w,N));const _=[u,...A],T=await xu(t,y),E=[];let D=((n=o.flip)==null?void 0:n.overflows)||[];if(v&&E.push(T[j]),h){const V=Qte(i,l,N);E.push(T[V[0]],T[V[1]])}if(D=[...D,{placement:i,overflows:E}],!E.every(V=>V<=0)){var I,L;const V=(((I=o.flip)==null?void 0:I.index)||0)+1,H=_[V];if(H&&(!(h==="alignment"?k!==sa(H):!1)||D.every(W=>sa(W.placement)===k?W.overflows[0]>0:!0)))return{data:{index:V,overflows:D},reset:{placement:H}};let q=(L=D.filter(X=>X.overflows[0]<=0).sort((X,W)=>X.overflows[1]-W.overflows[1])[0])==null?void 0:L.placement;if(!q)switch(b){case"bestFit":{var M;const X=(M=D.filter(W=>{if(O){const F=sa(W.placement);return F===k||F==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(F=>F>0).reduce((F,Y)=>F+Y,0)]).sort((W,F)=>W[1]-F[1])[0])==null?void 0:M[0];X&&(q=X);break}case"initialPlacement":q=u;break}if(i!==q)return{reset:{placement:q}}}return{}}}};function NO(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function PO(e){return qte.some(t=>e[t]>=0)}const lre=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Ua(e,t);switch(n){case"referenceHidden":{const o=await xu(t,{...i,elementContext:"reference"}),l=NO(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:PO(l)}}}case"escaped":{const o=await xu(t,{...i,altBoundary:!0}),l=NO(o,r.floating);return{data:{escapedOffsets:l,escaped:PO(l)}}}default:return{}}}}},DI=new Set(["left","top"]);async function cre(e,t){const{placement:r,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=Ha(r),u=Cl(r),d=sa(r)==="y",f=DI.has(l)?-1:1,v=o&&d?-1:1,h=Ua(t,e);let{mainAxis:m,crossAxis:b,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return u&&typeof w=="number"&&(b=u==="end"?w*-1:w),d?{x:b*v,y:m*f}:{x:m*f,y:b*v}}const ure=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:l,middlewareData:u}=t,d=await cre(t,e);return l===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:o+d.y,data:{...d,placement:l}}}}},dre=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:y=>{let{x:j,y:k}=y;return{x:j,y:k}}},...d}=Ua(e,t),f={x:r,y:n},v=await xu(t,d),h=sa(Ha(i)),m=X1(h);let b=f[m],w=f[h];if(o){const y=m==="y"?"top":"left",j=m==="y"?"bottom":"right",k=b+v[y],S=b-v[j];b=kS(k,b,S)}if(l){const y=h==="y"?"top":"left",j=h==="y"?"bottom":"right",k=w+v[y],S=w-v[j];w=kS(k,w,S)}const x=u.fn({...t,[m]:b,[h]:w});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[m]:o,[h]:l}}}}}},fre=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:o,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=Ua(e,t),v={x:r,y:n},h=sa(i),m=X1(h);let b=v[m],w=v[h];const x=Ua(u,t),y=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(d){const S=m==="y"?"height":"width",N=o.reference[m]-o.floating[S]+y.mainAxis,A=o.reference[m]+o.reference[S]-y.mainAxis;b<N?b=N:b>A&&(b=A)}if(f){var j,k;const S=m==="y"?"width":"height",N=DI.has(Ha(i)),A=o.reference[h]-o.floating[S]+(N&&((j=l.offset)==null?void 0:j[h])||0)+(N?0:y.crossAxis),O=o.reference[h]+o.reference[S]+(N?0:((k=l.offset)==null?void 0:k[h])||0)-(N?y.crossAxis:0);w<A?w=A:w>O&&(w=O)}return{[m]:b,[h]:w}}}},pre=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:o,platform:l,elements:u}=t,{apply:d=()=>{},...f}=Ua(e,t),v=await xu(t,f),h=Ha(i),m=Cl(i),b=sa(i)==="y",{width:w,height:x}=o.floating;let y,j;h==="top"||h==="bottom"?(y=h,j=m===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(j=h,y=m==="end"?"top":"bottom");const k=x-v.top-v.bottom,S=w-v.left-v.right,N=Ei(x-v[y],k),A=Ei(w-v[j],S),O=!t.middlewareData.shift;let _=N,T=A;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=S),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=k),O&&!m){const D=ln(v.left,0),I=ln(v.right,0),L=ln(v.top,0),M=ln(v.bottom,0);b?T=w-2*(D!==0||I!==0?D+I:ln(v.left,v.right)):_=x-2*(L!==0||M!==0?L+M:ln(v.top,v.bottom))}await d({...t,availableWidth:T,availableHeight:_});const E=await l.getDimensions(u.floating);return w!==E.width||x!==E.height?{reset:{rects:!0}}:{}}}};function kh(){return typeof window<"u"}function zl(e){return RI(e)?(e.nodeName||"").toLowerCase():"#document"}function hn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ma(e){var t;return(t=(RI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function RI(e){return kh()?e instanceof Node||e instanceof hn(e).Node:!1}function qn(e){return kh()?e instanceof Element||e instanceof hn(e).Element:!1}function fa(e){return kh()?e instanceof HTMLElement||e instanceof hn(e).HTMLElement:!1}function _O(e){return!kh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof hn(e).ShadowRoot}const hre=new Set(["inline","contents"]);function Ou(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Zn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!hre.has(i)}const vre=new Set(["table","td","th"]);function mre(e){return vre.has(zl(e))}const gre=[":popover-open",":modal"];function Ch(e){return gre.some(t=>{try{return e.matches(t)}catch{return!1}})}const yre=["transform","translate","scale","rotate","perspective"],xre=["transform","translate","scale","rotate","perspective","filter"],bre=["paint","layout","strict","content"];function J1(e){const t=ew(),r=qn(e)?Zn(e):e;return yre.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||xre.some(n=>(r.willChange||"").includes(n))||bre.some(n=>(r.contain||"").includes(n))}function Sre(e){let t=Ti(e);for(;fa(t)&&!ll(t);){if(J1(t))return t;if(Ch(t))return null;t=Ti(t)}return null}function ew(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wre=new Set(["html","body","#document"]);function ll(e){return wre.has(zl(e))}function Zn(e){return hn(e).getComputedStyle(e)}function zh(e){return qn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ti(e){if(zl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||_O(e)&&e.host||ma(e);return _O(t)?t.host:t}function II(e){const t=Ti(e);return ll(t)?e.ownerDocument?e.ownerDocument.body:e.body:fa(t)&&Ou(t)?t:II(t)}function bu(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=II(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),l=hn(i);if(o){const u=zS(l);return t.concat(l,l.visualViewport||[],Ou(i)?i:[],u&&r?bu(u):[])}return t.concat(i,bu(i,[],r))}function zS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function MI(e){const t=Zn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=fa(e),o=i?e.offsetWidth:r,l=i?e.offsetHeight:n,u=Ap(r)!==o||Ap(n)!==l;return u&&(r=o,n=l),{width:r,height:n,$:u}}function tw(e){return qn(e)?e:e.contextElement}function Ps(e){const t=tw(e);if(!fa(t))return ua(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=MI(t);let l=(o?Ap(r.width):r.width)/n,u=(o?Ap(r.height):r.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const jre=ua(0);function LI(e){const t=hn(e);return!ew()||!t.visualViewport?jre:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function kre(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==hn(e)?!1:t}function zo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=tw(e);let l=ua(1);t&&(n?qn(n)&&(l=Ps(n)):l=Ps(e));const u=kre(o,r,n)?LI(o):ua(0);let d=(i.left+u.x)/l.x,f=(i.top+u.y)/l.y,v=i.width/l.x,h=i.height/l.y;if(o){const m=hn(o),b=n&&qn(n)?hn(n):n;let w=m,x=zS(w);for(;x&&n&&b!==w;){const y=Ps(x),j=x.getBoundingClientRect(),k=Zn(x),S=j.left+(x.clientLeft+parseFloat(k.paddingLeft))*y.x,N=j.top+(x.clientTop+parseFloat(k.paddingTop))*y.y;d*=y.x,f*=y.y,v*=y.x,h*=y.y,d+=S,f+=N,w=hn(x),x=zS(w)}}return Pp({width:v,height:h,x:d,y:f})}function Ah(e,t){const r=zh(e).scrollLeft;return t?t.left+r:zo(ma(e)).left+r}function BI(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Ah(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function Cre(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o=i==="fixed",l=ma(n),u=t?Ch(t.floating):!1;if(n===l||u&&o)return r;let d={scrollLeft:0,scrollTop:0},f=ua(1);const v=ua(0),h=fa(n);if((h||!h&&!o)&&((zl(n)!=="body"||Ou(l))&&(d=zh(n)),fa(n))){const b=zo(n);f=Ps(n),v.x=b.x+n.clientLeft,v.y=b.y+n.clientTop}const m=l&&!h&&!o?BI(l,d):ua(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-d.scrollLeft*f.x+v.x+m.x,y:r.y*f.y-d.scrollTop*f.y+v.y+m.y}}function zre(e){return Array.from(e.getClientRects())}function Are(e){const t=ma(e),r=zh(e),n=e.ownerDocument.body,i=ln(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=ln(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+Ah(e);const u=-r.scrollTop;return Zn(n).direction==="rtl"&&(l+=ln(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:l,y:u}}const OO=25;function Nre(e,t){const r=hn(e),n=ma(e),i=r.visualViewport;let o=n.clientWidth,l=n.clientHeight,u=0,d=0;if(i){o=i.width,l=i.height;const v=ew();(!v||v&&t==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}const f=Ah(n);if(f<=0){const v=n.ownerDocument,h=v.body,m=getComputedStyle(h),b=v.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,w=Math.abs(n.clientWidth-h.clientWidth-b);w<=OO&&(o-=w)}else f<=OO&&(o+=f);return{width:o,height:l,x:u,y:d}}const Pre=new Set(["absolute","fixed"]);function _re(e,t){const r=zo(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=fa(e)?Ps(e):ua(1),l=e.clientWidth*o.x,u=e.clientHeight*o.y,d=i*o.x,f=n*o.y;return{width:l,height:u,x:d,y:f}}function EO(e,t,r){let n;if(t==="viewport")n=Nre(e,r);else if(t==="document")n=Are(ma(e));else if(qn(t))n=_re(t,r);else{const i=LI(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Pp(n)}function FI(e,t){const r=Ti(e);return r===t||!qn(r)||ll(r)?!1:Zn(r).position==="fixed"||FI(r,t)}function Ore(e,t){const r=t.get(e);if(r)return r;let n=bu(e,[],!1).filter(u=>qn(u)&&zl(u)!=="body"),i=null;const o=Zn(e).position==="fixed";let l=o?Ti(e):e;for(;qn(l)&&!ll(l);){const u=Zn(l),d=J1(l);!d&&u.position==="fixed"&&(i=null),(o?!d&&!i:!d&&u.position==="static"&&!!i&&Pre.has(i.position)||Ou(l)&&!d&&FI(e,l))?n=n.filter(v=>v!==l):i=u,l=Ti(l)}return t.set(e,n),n}function Ere(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const l=[...r==="clippingAncestors"?Ch(t)?[]:Ore(t,this._c):[].concat(r),n],u=l[0],d=l.reduce((f,v)=>{const h=EO(t,v,i);return f.top=ln(h.top,f.top),f.right=Ei(h.right,f.right),f.bottom=Ei(h.bottom,f.bottom),f.left=ln(h.left,f.left),f},EO(t,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Tre(e){const{width:t,height:r}=MI(e);return{width:t,height:r}}function Dre(e,t,r){const n=fa(t),i=ma(t),o=r==="fixed",l=zo(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const d=ua(0);function f(){d.x=Ah(i)}if(n||!n&&!o)if((zl(t)!=="body"||Ou(i))&&(u=zh(t)),n){const b=zo(t,!0,o,t);d.x=b.x+t.clientLeft,d.y=b.y+t.clientTop}else i&&f();o&&!n&&i&&f();const v=i&&!n&&!o?BI(i,u):ua(0),h=l.left+u.scrollLeft-d.x-v.x,m=l.top+u.scrollTop-d.y-v.y;return{x:h,y:m,width:l.width,height:l.height}}function Lb(e){return Zn(e).position==="static"}function TO(e,t){if(!fa(e)||Zn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ma(e)===r&&(r=r.ownerDocument.body),r}function WI(e,t){const r=hn(e);if(Ch(e))return r;if(!fa(e)){let i=Ti(e);for(;i&&!ll(i);){if(qn(i)&&!Lb(i))return i;i=Ti(i)}return r}let n=TO(e,t);for(;n&&mre(n)&&Lb(n);)n=TO(n,t);return n&&ll(n)&&Lb(n)&&!J1(n)?r:n||Sre(e)||r}const Rre=async function(e){const t=this.getOffsetParent||WI,r=this.getDimensions,n=await r(e.floating);return{reference:Dre(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Ire(e){return Zn(e).direction==="rtl"}const Mre={convertOffsetParentRelativeRectToViewportRelativeRect:Cre,getDocumentElement:ma,getClippingRect:Ere,getOffsetParent:WI,getElementRects:Rre,getClientRects:zre,getDimensions:Tre,getScale:Ps,isElement:qn,isRTL:Ire};function $I(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Lre(e,t){let r=null,n;const i=ma(e);function o(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),o();const f=e.getBoundingClientRect(),{left:v,top:h,width:m,height:b}=f;if(u||t(),!m||!b)return;const w=cf(h),x=cf(i.clientWidth-(v+m)),y=cf(i.clientHeight-(h+b)),j=cf(v),S={rootMargin:-w+"px "+-x+"px "+-y+"px "+-j+"px",threshold:ln(0,Ei(1,d))||1};let N=!0;function A(O){const _=O[0].intersectionRatio;if(_!==d){if(!N)return l();_?l(!1,_):n=setTimeout(()=>{l(!1,1e-7)},1e3)}_===1&&!$I(f,e.getBoundingClientRect())&&l(),N=!1}try{r=new IntersectionObserver(A,{...S,root:i.ownerDocument})}catch{r=new IntersectionObserver(A,S)}r.observe(e)}return l(!0),o}function Bre(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,f=tw(e),v=i||o?[...f?bu(f):[],...bu(t)]:[];v.forEach(j=>{i&&j.addEventListener("scroll",r,{passive:!0}),o&&j.addEventListener("resize",r)});const h=f&&u?Lre(f,r):null;let m=-1,b=null;l&&(b=new ResizeObserver(j=>{let[k]=j;k&&k.target===f&&b&&(b.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=b)==null||S.observe(t)})),r()}),f&&!d&&b.observe(f),b.observe(t));let w,x=d?zo(e):null;d&&y();function y(){const j=zo(e);x&&!$I(x,j)&&r(),x=j,w=requestAnimationFrame(y)}return r(),()=>{var j;v.forEach(k=>{i&&k.removeEventListener("scroll",r),o&&k.removeEventListener("resize",r)}),h?.(),(j=b)==null||j.disconnect(),b=null,d&&cancelAnimationFrame(w)}}const Fre=ure,Wre=dre,$re=sre,Ure=pre,Hre=lre,DO=ore,Kre=fre,Gre=(e,t,r)=>{const n=new Map,i={platform:Mre,...r},o={...i.platform,_c:n};return ire(e,t,{...i,platform:o})};var Vre=typeof document<"u",qre=function(){},xf=Vre?z.useLayoutEffect:qre;function _p(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!_p(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const o=i[n];if(!(o==="_owner"&&e.$$typeof)&&!_p(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function UI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function RO(e,t){const r=UI(e);return Math.round(t*r)/r}function Bb(e){const t=z.useRef(e);return xf(()=>{t.current=e}),t}function Zre(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:d,open:f}=e,[v,h]=z.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,b]=z.useState(n);_p(m,n)||b(n);const[w,x]=z.useState(null),[y,j]=z.useState(null),k=z.useCallback(W=>{W!==O.current&&(O.current=W,x(W))},[]),S=z.useCallback(W=>{W!==_.current&&(_.current=W,j(W))},[]),N=o||w,A=l||y,O=z.useRef(null),_=z.useRef(null),T=z.useRef(v),E=d!=null,D=Bb(d),I=Bb(i),L=Bb(f),M=z.useCallback(()=>{if(!O.current||!_.current)return;const W={placement:t,strategy:r,middleware:m};I.current&&(W.platform=I.current),Gre(O.current,_.current,W).then(F=>{const Y={...F,isPositioned:L.current!==!1};V.current&&!_p(T.current,Y)&&(T.current=Y,Nu.flushSync(()=>{h(Y)}))})},[m,t,r,I,L]);xf(()=>{f===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(W=>({...W,isPositioned:!1})))},[f]);const V=z.useRef(!1);xf(()=>(V.current=!0,()=>{V.current=!1}),[]),xf(()=>{if(N&&(O.current=N),A&&(_.current=A),N&&A){if(D.current)return D.current(N,A,M);M()}},[N,A,M,D,E]);const H=z.useMemo(()=>({reference:O,floating:_,setReference:k,setFloating:S}),[k,S]),q=z.useMemo(()=>({reference:N,floating:A}),[N,A]),X=z.useMemo(()=>{const W={position:r,left:0,top:0};if(!q.floating)return W;const F=RO(q.floating,v.x),Y=RO(q.floating,v.y);return u?{...W,transform:"translate("+F+"px, "+Y+"px)",...UI(q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:Y}},[r,u,q.floating,v.x,v.y]);return z.useMemo(()=>({...v,update:M,refs:H,elements:q,floatingStyles:X}),[v,M,H,q,X])}const Xre=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?DO({element:n.current,padding:i}).fn(r):{}:n?DO({element:n,padding:i}).fn(r):{}}}},Yre=(e,t)=>({...Fre(e),options:[e,t]}),Qre=(e,t)=>({...Wre(e),options:[e,t]}),Jre=(e,t)=>({...Kre(e),options:[e,t]}),ene=(e,t)=>({...$re(e),options:[e,t]}),tne=(e,t)=>({...Ure(e),options:[e,t]}),rne=(e,t)=>({...Hre(e),options:[e,t]}),nne=(e,t)=>({...Xre(e),options:[e,t]});var ane="Arrow",HI=z.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...o}=e;return a.jsx(Je.svg,{...o,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});HI.displayName=ane;var ine=HI,rw="Popper",[KI,GI]=Ro(rw),[one,VI]=KI(rw),qI=e=>{const{__scopePopper:t,children:r}=e,[n,i]=z.useState(null);return a.jsx(one,{scope:t,anchor:n,onAnchorChange:i,children:r})};qI.displayName=rw;var ZI="PopperAnchor",XI=z.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,o=VI(ZI,r),l=z.useRef(null),u=Mt(t,l),d=z.useRef(null);return z.useEffect(()=>{const f=d.current;d.current=n?.current||l.current,f!==d.current&&o.onAnchorChange(d.current)}),n?null:a.jsx(Je.div,{...i,ref:u})});XI.displayName=ZI;var nw="PopperContent",[sne,lne]=KI(nw),YI=z.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:o="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:v=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:b="optimized",onPlaced:w,...x}=e,y=VI(nw,r),[j,k]=z.useState(null),S=Mt(t,ne=>k(ne)),[N,A]=z.useState(null),O=oI(N),_=O?.width??0,T=O?.height??0,E=n+(o!=="center"?"-"+o:""),D=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},I=Array.isArray(f)?f:[f],L=I.length>0,M={padding:D,boundary:I.filter(une),altBoundary:L},{refs:V,floatingStyles:H,placement:q,isPositioned:X,middlewareData:W}=Zre({strategy:"fixed",placement:E,whileElementsMounted:(...ne)=>Bre(...ne,{animationFrame:b==="always"}),elements:{reference:y.anchor},middleware:[Yre({mainAxis:i+T,alignmentAxis:l}),d&&Qre({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Jre():void 0,...M}),d&&ene({...M}),tne({...M,apply:({elements:ne,rects:ye,availableWidth:ie,availableHeight:ve})=>{const{width:we,height:ce}=ye.reference,Ie=ne.floating.style;Ie.setProperty("--radix-popper-available-width",`${ie}px`),Ie.setProperty("--radix-popper-available-height",`${ve}px`),Ie.setProperty("--radix-popper-anchor-width",`${we}px`),Ie.setProperty("--radix-popper-anchor-height",`${ce}px`)}}),N&&nne({element:N,padding:u}),dne({arrowWidth:_,arrowHeight:T}),m&&rne({strategy:"referenceHidden",...M})]}),[F,Y]=e3(q),$=Oi(w);_r(()=>{X&&$?.()},[X,$]);const B=W.arrow?.x,re=W.arrow?.y,le=W.arrow?.centerOffset!==0,[pe,se]=z.useState();return _r(()=>{j&&se(window.getComputedStyle(j).zIndex)},[j]),a.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:X?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pe,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(sne,{scope:r,placedSide:F,onArrowChange:A,arrowX:B,arrowY:re,shouldHideArrow:le,children:a.jsx(Je.div,{"data-side":F,"data-align":Y,...x,ref:S,style:{...x.style,animation:X?void 0:"none"}})})})});YI.displayName=nw;var QI="PopperArrow",cne={top:"bottom",right:"left",bottom:"top",left:"right"},JI=z.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,o=lne(QI,n),l=cne[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(ine,{...i,ref:r,style:{...i.style,display:"block"}})})});JI.displayName=QI;function une(e){return e!==null}var dne=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,l=i.arrow?.centerOffset!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[f,v]=e3(r),h={start:"0%",center:"50%",end:"100%"}[v],m=(i.arrow?.x??0)+u/2,b=(i.arrow?.y??0)+d/2;let w="",x="";return f==="bottom"?(w=l?h:`${m}px`,x=`${-d}px`):f==="top"?(w=l?h:`${m}px`,x=`${n.floating.height+d}px`):f==="right"?(w=`${-d}px`,x=l?h:`${b}px`):f==="left"&&(w=`${n.floating.width+d}px`,x=l?h:`${b}px`),{data:{x:w,y:x}}}});function e3(e){const[t,r="center"]=e.split("-");return[t,r]}var fne=qI,pne=XI,hne=YI,vne=JI,mne="Portal",aw=z.forwardRef((e,t)=>{const{container:r,...n}=e,[i,o]=z.useState(!1);_r(()=>o(!0),[]);const l=r||i&&globalThis?.document?.body;return l?E7.createPortal(a.jsx(Je.div,{...n,ref:t}),l):null});aw.displayName=mne;function gne(e){const t=yne(e),r=z.forwardRef((n,i)=>{const{children:o,...l}=n,u=z.Children.toArray(o),d=u.find(bne);if(d){const f=d.props.children,v=u.map(h=>h===d?z.Children.count(f)>1?z.Children.only(null):z.isValidElement(f)?f.props.children:null:h);return a.jsx(t,{...l,ref:i,children:z.isValidElement(f)?z.cloneElement(f,void 0,v):null})}return a.jsx(t,{...l,ref:i,children:o})});return r.displayName=`${e}.Slot`,r}function yne(e){const t=z.forwardRef((r,n)=>{const{children:i,...o}=r;if(z.isValidElement(i)){const l=wne(i),u=Sne(o,i.props);return i.type!==z.Fragment&&(u.ref=n?Sl(n,l):l),z.cloneElement(i,u)}return z.Children.count(i)>1?z.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xne=Symbol("radix.slottable");function bne(e){return z.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xne}function Sne(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function wne(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var t3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),jne="VisuallyHidden",kne=z.forwardRef((e,t)=>a.jsx(Je.span,{...e,ref:t,style:{...t3,...e.style}}));kne.displayName=jne;var Cne=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ms=new WeakMap,uf=new WeakMap,df={},Fb=0,r3=function(e){return e&&(e.host||r3(e.parentNode))},zne=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=r3(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Ane=function(e,t,r,n){var i=zne(t,Array.isArray(e)?e:[e]);df[r]||(df[r]=new WeakMap);var o=df[r],l=[],u=new Set,d=new Set(i),f=function(h){!h||u.has(h)||(u.add(h),f(h.parentNode))};i.forEach(f);var v=function(h){!h||d.has(h)||Array.prototype.forEach.call(h.children,function(m){if(u.has(m))v(m);else try{var b=m.getAttribute(n),w=b!==null&&b!=="false",x=(ms.get(m)||0)+1,y=(o.get(m)||0)+1;ms.set(m,x),o.set(m,y),l.push(m),x===1&&w&&uf.set(m,!0),y===1&&m.setAttribute(r,"true"),w||m.setAttribute(n,"true")}catch(j){console.error("aria-hidden: cannot operate on ",m,j)}})};return v(t),u.clear(),Fb++,function(){l.forEach(function(h){var m=ms.get(h)-1,b=o.get(h)-1;ms.set(h,m),o.set(h,b),m||(uf.has(h)||h.removeAttribute(n),uf.delete(h)),b||h.removeAttribute(r)}),Fb--,Fb||(ms=new WeakMap,ms=new WeakMap,uf=new WeakMap,df={})}},n3=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=Cne(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),Ane(n,i,r,"aria-hidden")):function(){return null}},na=function(){return na=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},na.apply(this,arguments)};function a3(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Nne(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var bf="right-scroll-bar-position",Sf="width-before-scroll-bar",Pne="with-scroll-bars-hidden",_ne="--removed-body-scroll-bar-size";function Wb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function One(e,t){var r=z.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var Ene=typeof window<"u"?z.useLayoutEffect:z.useEffect,IO=new WeakMap;function Tne(e,t){var r=One(null,function(n){return e.forEach(function(i){return Wb(i,n)})});return Ene(function(){var n=IO.get(r);if(n){var i=new Set(n),o=new Set(e),l=r.current;i.forEach(function(u){o.has(u)||Wb(u,null)}),o.forEach(function(u){i.has(u)||Wb(u,l)})}IO.set(r,e)},[e]),r}function Dne(e){return e}function Rne(e,t){t===void 0&&(t=Dne);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var l=t(o,n);return r.push(l),function(){r=r.filter(function(u){return u!==l})}},assignSyncMedium:function(o){for(n=!0;r.length;){var l=r;r=[],l.forEach(o)}r={push:function(u){return o(u)},filter:function(){return r}}},assignMedium:function(o){n=!0;var l=[];if(r.length){var u=r;r=[],u.forEach(o),l=r}var d=function(){var v=l;l=[],v.forEach(o)},f=function(){return Promise.resolve().then(d)};f(),r={push:function(v){l.push(v),f()},filter:function(v){return l=l.filter(v),r}}}};return i}function Ine(e){e===void 0&&(e={});var t=Rne(null);return t.options=na({async:!0,ssr:!1},e),t}var i3=function(e){var t=e.sideCar,r=a3(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return z.createElement(n,na({},r))};i3.isSideCarExport=!0;function Mne(e,t){return e.useMedium(t),i3}var o3=Ine(),$b=function(){},Nh=z.forwardRef(function(e,t){var r=z.useRef(null),n=z.useState({onScrollCapture:$b,onWheelCapture:$b,onTouchMoveCapture:$b}),i=n[0],o=n[1],l=e.forwardProps,u=e.children,d=e.className,f=e.removeScrollBar,v=e.enabled,h=e.shards,m=e.sideCar,b=e.noRelative,w=e.noIsolation,x=e.inert,y=e.allowPinchZoom,j=e.as,k=j===void 0?"div":j,S=e.gapMode,N=a3(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=m,O=Tne([r,t]),_=na(na({},N),i);return z.createElement(z.Fragment,null,v&&z.createElement(A,{sideCar:o3,removeScrollBar:f,shards:h,noRelative:b,noIsolation:w,inert:x,setCallbacks:o,allowPinchZoom:!!y,lockRef:r,gapMode:S}),l?z.cloneElement(z.Children.only(u),na(na({},_),{ref:O})):z.createElement(k,na({},_,{className:d,ref:O}),u))});Nh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nh.classNames={fullWidth:Sf,zeroRight:bf};var Lne=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Bne(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Lne();return t&&e.setAttribute("nonce",t),e}function Fne(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Wne(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var $ne=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Bne())&&(Fne(t,r),Wne(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Une=function(){var e=$ne();return function(t,r){z.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},s3=function(){var e=Une(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},Hne={left:0,top:0,right:0,gap:0},Ub=function(e){return parseInt(e||"",10)||0},Kne=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Ub(r),Ub(n),Ub(i)]},Gne=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Hne;var t=Kne(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Vne=s3(),_s="data-scroll-locked",qne=function(e,t,r,n){var i=e.left,o=e.top,l=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Pne,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(_s,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bf,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Sf,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(bf," .").concat(bf,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Sf," .").concat(Sf,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(_s,`] {
    `).concat(_ne,": ").concat(u,`px;
  }
`)},MO=function(){var e=parseInt(document.body.getAttribute(_s)||"0",10);return isFinite(e)?e:0},Zne=function(){z.useEffect(function(){return document.body.setAttribute(_s,(MO()+1).toString()),function(){var e=MO()-1;e<=0?document.body.removeAttribute(_s):document.body.setAttribute(_s,e.toString())}},[])},Xne=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;Zne();var o=z.useMemo(function(){return Gne(i)},[i]);return z.createElement(Vne,{styles:qne(o,!t,i,r?"":"!important")})},AS=!1;if(typeof window<"u")try{var ff=Object.defineProperty({},"passive",{get:function(){return AS=!0,!0}});window.addEventListener("test",ff,ff),window.removeEventListener("test",ff,ff)}catch{AS=!1}var gs=AS?{passive:!1}:!1,Yne=function(e){return e.tagName==="TEXTAREA"},l3=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Yne(e)&&r[t]==="visible")},Qne=function(e){return l3(e,"overflowY")},Jne=function(e){return l3(e,"overflowX")},LO=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=c3(e,n);if(i){var o=u3(e,n),l=o[1],u=o[2];if(l>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},eae=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},tae=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},c3=function(e,t){return e==="v"?Qne(t):Jne(t)},u3=function(e,t){return e==="v"?eae(t):tae(t)},rae=function(e,t){return e==="h"&&t==="rtl"?-1:1},nae=function(e,t,r,n,i){var o=rae(e,window.getComputedStyle(t).direction),l=o*n,u=r.target,d=t.contains(u),f=!1,v=l>0,h=0,m=0;do{if(!u)break;var b=u3(e,u),w=b[0],x=b[1],y=b[2],j=x-y-o*w;(w||j)&&c3(e,u)&&(h+=j,m+=w);var k=u.parentNode;u=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(v&&Math.abs(h)<1||!v&&Math.abs(m)<1)&&(f=!0),f},pf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},BO=function(e){return[e.deltaX,e.deltaY]},FO=function(e){return e&&"current"in e?e.current:e},aae=function(e,t){return e[0]===t[0]&&e[1]===t[1]},iae=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},oae=0,ys=[];function sae(e){var t=z.useRef([]),r=z.useRef([0,0]),n=z.useRef(),i=z.useState(oae++)[0],o=z.useState(s3)[0],l=z.useRef(e);z.useEffect(function(){l.current=e},[e]),z.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var x=Nne([e.lockRef.current],(e.shards||[]).map(FO),!0).filter(Boolean);return x.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=z.useCallback(function(x,y){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!l.current.allowPinchZoom;var j=pf(x),k=r.current,S="deltaX"in x?x.deltaX:k[0]-j[0],N="deltaY"in x?x.deltaY:k[1]-j[1],A,O=x.target,_=Math.abs(S)>Math.abs(N)?"h":"v";if("touches"in x&&_==="h"&&O.type==="range")return!1;var T=window.getSelection(),E=T&&T.anchorNode,D=E?E===O||E.contains(O):!1;if(D)return!1;var I=LO(_,O);if(!I)return!0;if(I?A=_:(A=_==="v"?"h":"v",I=LO(_,O)),!I)return!1;if(!n.current&&"changedTouches"in x&&(S||N)&&(n.current=A),!A)return!0;var L=n.current||A;return nae(L,y,x,L==="h"?S:N)},[]),d=z.useCallback(function(x){var y=x;if(!(!ys.length||ys[ys.length-1]!==o)){var j="deltaY"in y?BO(y):pf(y),k=t.current.filter(function(A){return A.name===y.type&&(A.target===y.target||y.target===A.shadowParent)&&aae(A.delta,j)})[0];if(k&&k.should){y.cancelable&&y.preventDefault();return}if(!k){var S=(l.current.shards||[]).map(FO).filter(Boolean).filter(function(A){return A.contains(y.target)}),N=S.length>0?u(y,S[0]):!l.current.noIsolation;N&&y.cancelable&&y.preventDefault()}}},[]),f=z.useCallback(function(x,y,j,k){var S={name:x,delta:y,target:j,should:k,shadowParent:lae(j)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(N){return N!==S})},1)},[]),v=z.useCallback(function(x){r.current=pf(x),n.current=void 0},[]),h=z.useCallback(function(x){f(x.type,BO(x),x.target,u(x,e.lockRef.current))},[]),m=z.useCallback(function(x){f(x.type,pf(x),x.target,u(x,e.lockRef.current))},[]);z.useEffect(function(){return ys.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",d,gs),document.addEventListener("touchmove",d,gs),document.addEventListener("touchstart",v,gs),function(){ys=ys.filter(function(x){return x!==o}),document.removeEventListener("wheel",d,gs),document.removeEventListener("touchmove",d,gs),document.removeEventListener("touchstart",v,gs)}},[]);var b=e.removeScrollBar,w=e.inert;return z.createElement(z.Fragment,null,w?z.createElement(o,{styles:iae(i)}):null,b?z.createElement(Xne,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function lae(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const cae=Mne(o3,sae);var iw=z.forwardRef(function(e,t){return z.createElement(Nh,na({},e,{ref:t,sideCar:cae}))});iw.classNames=Nh.classNames;var uae=[" ","Enter","ArrowUp","ArrowDown"],dae=[" ","Enter"],Ao="Select",[Ph,_h,fae]=NI(Ao),[Al]=Ro(Ao,[fae,GI]),Oh=GI(),[pae,Bi]=Al(Ao),[hae,vae]=Al(Ao),d3=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:o,value:l,defaultValue:u,onValueChange:d,dir:f,name:v,autoComplete:h,disabled:m,required:b,form:w}=e,x=Oh(t),[y,j]=z.useState(null),[k,S]=z.useState(null),[N,A]=z.useState(!1),O=V1(f),[_,T]=sl({prop:n,defaultProp:i??!1,onChange:o,caller:Ao}),[E,D]=sl({prop:l,defaultProp:u,onChange:d,caller:Ao}),I=z.useRef(null),L=y?w||!!y.closest("form"):!0,[M,V]=z.useState(new Set),H=Array.from(M).map(q=>q.props.value).join(";");return a.jsx(fne,{...x,children:a.jsxs(pae,{required:b,scope:t,trigger:y,onTriggerChange:j,valueNode:k,onValueNodeChange:S,valueNodeHasChildren:N,onValueNodeHasChildrenChange:A,contentId:Ai(),value:E,onValueChange:D,open:_,onOpenChange:T,dir:O,triggerPointerDownPosRef:I,disabled:m,children:[a.jsx(Ph.Provider,{scope:t,children:a.jsx(hae,{scope:e.__scopeSelect,onNativeOptionAdd:z.useCallback(q=>{V(X=>new Set(X).add(q))},[]),onNativeOptionRemove:z.useCallback(q=>{V(X=>{const W=new Set(X);return W.delete(q),W})},[]),children:r})}),L?a.jsxs(T3,{"aria-hidden":!0,required:b,tabIndex:-1,name:v,autoComplete:h,value:E,onChange:q=>D(q.target.value),disabled:m,form:w,children:[E===void 0?a.jsx("option",{value:""}):null,Array.from(M)]},H):null]})})};d3.displayName=Ao;var f3="SelectTrigger",p3=z.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,o=Oh(r),l=Bi(f3,r),u=l.disabled||n,d=Mt(t,l.onTriggerChange),f=_h(r),v=z.useRef("touch"),[h,m,b]=R3(x=>{const y=f().filter(S=>!S.disabled),j=y.find(S=>S.value===l.value),k=I3(y,x,j);k!==void 0&&l.onValueChange(k.value)}),w=x=>{u||(l.onOpenChange(!0),b()),x&&(l.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx(pne,{asChild:!0,...o,children:a.jsx(Je.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":D3(l.value)?"":void 0,...i,ref:d,onClick:Qe(i.onClick,x=>{x.currentTarget.focus(),v.current!=="mouse"&&w(x)}),onPointerDown:Qe(i.onPointerDown,x=>{v.current=x.pointerType;const y=x.target;y.hasPointerCapture(x.pointerId)&&y.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:Qe(i.onKeyDown,x=>{const y=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(y&&x.key===" ")&&uae.includes(x.key)&&(w(),x.preventDefault())})})})});p3.displayName=f3;var h3="SelectValue",v3=z.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:o,placeholder:l="",...u}=e,d=Bi(h3,r),{onValueNodeHasChildrenChange:f}=d,v=o!==void 0,h=Mt(t,d.onValueNodeChange);return _r(()=>{f(v)},[f,v]),a.jsx(Je.span,{...u,ref:h,style:{pointerEvents:"none"},children:D3(d.value)?a.jsx(a.Fragment,{children:l}):o})});v3.displayName=h3;var mae="SelectIcon",m3=z.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return a.jsx(Je.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});m3.displayName=mae;var gae="SelectPortal",g3=e=>a.jsx(aw,{asChild:!0,...e});g3.displayName=gae;var No="SelectContent",y3=z.forwardRef((e,t)=>{const r=Bi(No,e.__scopeSelect),[n,i]=z.useState();if(_r(()=>{i(new DocumentFragment)},[]),!r.open){const o=n;return o?Nu.createPortal(a.jsx(x3,{scope:e.__scopeSelect,children:a.jsx(Ph.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(b3,{...e,ref:t})});y3.displayName=No;var Wn=10,[x3,Fi]=Al(No),yae="SelectContentImpl",xae=gne("SelectContent.RemoveScroll"),b3=z.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:l,side:u,sideOffset:d,align:f,alignOffset:v,arrowPadding:h,collisionBoundary:m,collisionPadding:b,sticky:w,hideWhenDetached:x,avoidCollisions:y,...j}=e,k=Bi(No,r),[S,N]=z.useState(null),[A,O]=z.useState(null),_=Mt(t,ne=>N(ne)),[T,E]=z.useState(null),[D,I]=z.useState(null),L=_h(r),[M,V]=z.useState(!1),H=z.useRef(!1);z.useEffect(()=>{if(S)return n3(S)},[S]),OI();const q=z.useCallback(ne=>{const[ye,...ie]=L().map(ce=>ce.ref.current),[ve]=ie.slice(-1),we=document.activeElement;for(const ce of ne)if(ce===we||(ce?.scrollIntoView({block:"nearest"}),ce===ye&&A&&(A.scrollTop=0),ce===ve&&A&&(A.scrollTop=A.scrollHeight),ce?.focus(),document.activeElement!==we))return},[L,A]),X=z.useCallback(()=>q([T,S]),[q,T,S]);z.useEffect(()=>{M&&X()},[M,X]);const{onOpenChange:W,triggerPointerDownPosRef:F}=k;z.useEffect(()=>{if(S){let ne={x:0,y:0};const ye=ve=>{ne={x:Math.abs(Math.round(ve.pageX)-(F.current?.x??0)),y:Math.abs(Math.round(ve.pageY)-(F.current?.y??0))}},ie=ve=>{ne.x<=10&&ne.y<=10?ve.preventDefault():S.contains(ve.target)||W(!1),document.removeEventListener("pointermove",ye),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",ie,{capture:!0})}}},[S,W,F]),z.useEffect(()=>{const ne=()=>W(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[W]);const[Y,$]=R3(ne=>{const ye=L().filter(we=>!we.disabled),ie=ye.find(we=>we.ref.current===document.activeElement),ve=I3(ye,ne,ie);ve&&setTimeout(()=>ve.ref.current.focus())}),B=z.useCallback((ne,ye,ie)=>{const ve=!H.current&&!ie;(k.value!==void 0&&k.value===ye||ve)&&(E(ne),ve&&(H.current=!0))},[k.value]),re=z.useCallback(()=>S?.focus(),[S]),le=z.useCallback((ne,ye,ie)=>{const ve=!H.current&&!ie;(k.value!==void 0&&k.value===ye||ve)&&I(ne)},[k.value]),pe=n==="popper"?NS:S3,se=pe===NS?{side:u,sideOffset:d,align:f,alignOffset:v,arrowPadding:h,collisionBoundary:m,collisionPadding:b,sticky:w,hideWhenDetached:x,avoidCollisions:y}:{};return a.jsx(x3,{scope:r,content:S,viewport:A,onViewportChange:O,itemRefCallback:B,selectedItem:T,onItemLeave:re,itemTextRefCallback:le,focusSelectedItem:X,selectedItemText:D,position:n,isPositioned:M,searchRef:Y,children:a.jsx(iw,{as:xae,allowPinchZoom:!0,children:a.jsx(Z1,{asChild:!0,trapped:k.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:Qe(i,ne=>{k.trigger?.focus({preventScroll:!0}),ne.preventDefault()}),children:a.jsx(q1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:a.jsx(pe,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:ne=>ne.preventDefault(),...j,...se,onPlaced:()=>V(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:Qe(j.onKeyDown,ne=>{const ye=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!ye&&ne.key.length===1&&$(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let ve=L().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const we=ne.target,ce=ve.indexOf(we);ve=ve.slice(ce+1)}setTimeout(()=>q(ve)),ne.preventDefault()}})})})})})})});b3.displayName=yae;var bae="SelectItemAlignedPosition",S3=z.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,o=Bi(No,r),l=Fi(No,r),[u,d]=z.useState(null),[f,v]=z.useState(null),h=Mt(t,_=>v(_)),m=_h(r),b=z.useRef(!1),w=z.useRef(!0),{viewport:x,selectedItem:y,selectedItemText:j,focusSelectedItem:k}=l,S=z.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&f&&x&&y&&j){const _=o.trigger.getBoundingClientRect(),T=f.getBoundingClientRect(),E=o.valueNode.getBoundingClientRect(),D=j.getBoundingClientRect();if(o.dir!=="rtl"){const we=D.left-T.left,ce=E.left-we,Ie=_.left-ce,Me=_.width+Ie,tt=Math.max(Me,T.width),rt=window.innerWidth-Wn,Ye=mO(ce,[Wn,Math.max(Wn,rt-tt)]);u.style.minWidth=Me+"px",u.style.left=Ye+"px"}else{const we=T.right-D.right,ce=window.innerWidth-E.right-we,Ie=window.innerWidth-_.right-ce,Me=_.width+Ie,tt=Math.max(Me,T.width),rt=window.innerWidth-Wn,Ye=mO(ce,[Wn,Math.max(Wn,rt-tt)]);u.style.minWidth=Me+"px",u.style.right=Ye+"px"}const I=m(),L=window.innerHeight-Wn*2,M=x.scrollHeight,V=window.getComputedStyle(f),H=parseInt(V.borderTopWidth,10),q=parseInt(V.paddingTop,10),X=parseInt(V.borderBottomWidth,10),W=parseInt(V.paddingBottom,10),F=H+q+M+W+X,Y=Math.min(y.offsetHeight*5,F),$=window.getComputedStyle(x),B=parseInt($.paddingTop,10),re=parseInt($.paddingBottom,10),le=_.top+_.height/2-Wn,pe=L-le,se=y.offsetHeight/2,ne=y.offsetTop+se,ye=H+q+ne,ie=F-ye;if(ye<=le){const we=I.length>0&&y===I[I.length-1].ref.current;u.style.bottom="0px";const ce=f.clientHeight-x.offsetTop-x.offsetHeight,Ie=Math.max(pe,se+(we?re:0)+ce+X),Me=ye+Ie;u.style.height=Me+"px"}else{const we=I.length>0&&y===I[0].ref.current;u.style.top="0px";const Ie=Math.max(le,H+x.offsetTop+(we?B:0)+se)+ie;u.style.height=Ie+"px",x.scrollTop=ye-le+x.offsetTop}u.style.margin=`${Wn}px 0`,u.style.minHeight=Y+"px",u.style.maxHeight=L+"px",n?.(),requestAnimationFrame(()=>b.current=!0)}},[m,o.trigger,o.valueNode,u,f,x,y,j,o.dir,n]);_r(()=>S(),[S]);const[N,A]=z.useState();_r(()=>{f&&A(window.getComputedStyle(f).zIndex)},[f]);const O=z.useCallback(_=>{_&&w.current===!0&&(S(),k?.(),w.current=!1)},[S,k]);return a.jsx(wae,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:b,onScrollButtonChange:O,children:a.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:a.jsx(Je.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});S3.displayName=bae;var Sae="SelectPopperPosition",NS=z.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Wn,...o}=e,l=Oh(r);return a.jsx(hne,{...l,...o,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});NS.displayName=Sae;var[wae,ow]=Al(No,{}),PS="SelectViewport",w3=z.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,o=Fi(PS,r),l=ow(PS,r),u=Mt(t,o.onViewportChange),d=z.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Ph.Slot,{scope:r,children:a.jsx(Je.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Qe(i.onScroll,f=>{const v=f.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=l;if(m?.current&&h){const b=Math.abs(d.current-v.scrollTop);if(b>0){const w=window.innerHeight-Wn*2,x=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),j=Math.max(x,y);if(j<w){const k=j+b,S=Math.min(w,k),N=k-S;h.style.height=S+"px",h.style.bottom==="0px"&&(v.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}d.current=v.scrollTop})})})]})});w3.displayName=PS;var j3="SelectGroup",[jae,kae]=Al(j3),Cae=z.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Ai();return a.jsx(jae,{scope:r,id:i,children:a.jsx(Je.div,{role:"group","aria-labelledby":i,...n,ref:t})})});Cae.displayName=j3;var k3="SelectLabel",zae=z.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=kae(k3,r);return a.jsx(Je.div,{id:i.id,...n,ref:t})});zae.displayName=k3;var Op="SelectItem",[Aae,C3]=Al(Op),z3=z.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:o,...l}=e,u=Bi(Op,r),d=Fi(Op,r),f=u.value===n,[v,h]=z.useState(o??""),[m,b]=z.useState(!1),w=Mt(t,k=>d.itemRefCallback?.(k,n,i)),x=Ai(),y=z.useRef("touch"),j=()=>{i||(u.onValueChange(n),u.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Aae,{scope:r,value:n,disabled:i,textId:x,isSelected:f,onItemTextChange:z.useCallback(k=>{h(S=>S||(k?.textContent??"").trim())},[]),children:a.jsx(Ph.ItemSlot,{scope:r,value:n,disabled:i,textValue:v,children:a.jsx(Je.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":f&&m,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:w,onFocus:Qe(l.onFocus,()=>b(!0)),onBlur:Qe(l.onBlur,()=>b(!1)),onClick:Qe(l.onClick,()=>{y.current!=="mouse"&&j()}),onPointerUp:Qe(l.onPointerUp,()=>{y.current==="mouse"&&j()}),onPointerDown:Qe(l.onPointerDown,k=>{y.current=k.pointerType}),onPointerMove:Qe(l.onPointerMove,k=>{y.current=k.pointerType,i?d.onItemLeave?.():y.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Qe(l.onPointerLeave,k=>{k.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Qe(l.onKeyDown,k=>{d.searchRef?.current!==""&&k.key===" "||(dae.includes(k.key)&&j(),k.key===" "&&k.preventDefault())})})})})});z3.displayName=Op;var Ac="SelectItemText",A3=z.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...o}=e,l=Bi(Ac,r),u=Fi(Ac,r),d=C3(Ac,r),f=vae(Ac,r),[v,h]=z.useState(null),m=Mt(t,j=>h(j),d.onItemTextChange,j=>u.itemTextRefCallback?.(j,d.value,d.disabled)),b=v?.textContent,w=z.useMemo(()=>a.jsx("option",{value:d.value,disabled:d.disabled,children:b},d.value),[d.disabled,d.value,b]),{onNativeOptionAdd:x,onNativeOptionRemove:y}=f;return _r(()=>(x(w),()=>y(w)),[x,y,w]),a.jsxs(a.Fragment,{children:[a.jsx(Je.span,{id:d.textId,...o,ref:m}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Nu.createPortal(o.children,l.valueNode):null]})});A3.displayName=Ac;var N3="SelectItemIndicator",P3=z.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return C3(N3,r).isSelected?a.jsx(Je.span,{"aria-hidden":!0,...n,ref:t}):null});P3.displayName=N3;var _S="SelectScrollUpButton",_3=z.forwardRef((e,t)=>{const r=Fi(_S,e.__scopeSelect),n=ow(_S,e.__scopeSelect),[i,o]=z.useState(!1),l=Mt(t,n.onScrollButtonChange);return _r(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollTop>0;o(f)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?a.jsx(E3,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});_3.displayName=_S;var OS="SelectScrollDownButton",O3=z.forwardRef((e,t)=>{const r=Fi(OS,e.__scopeSelect),n=ow(OS,e.__scopeSelect),[i,o]=z.useState(!1),l=Mt(t,n.onScrollButtonChange);return _r(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollHeight-d.clientHeight,v=Math.ceil(d.scrollTop)<f;o(v)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?a.jsx(E3,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});O3.displayName=OS;var E3=z.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,o=Fi("SelectScrollButton",r),l=z.useRef(null),u=_h(r),d=z.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return z.useEffect(()=>()=>d(),[d]),_r(()=>{u().find(v=>v.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),a.jsx(Je.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Qe(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:Qe(i.onPointerMove,()=>{o.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:Qe(i.onPointerLeave,()=>{d()})})}),Nae="SelectSeparator",Pae=z.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Je.div,{"aria-hidden":!0,...n,ref:t})});Pae.displayName=Nae;var ES="SelectArrow",_ae=z.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Oh(r),o=Bi(ES,r),l=Fi(ES,r);return o.open&&l.position==="popper"?a.jsx(vne,{...i,...n,ref:t}):null});_ae.displayName=ES;var Oae="SelectBubbleInput",T3=z.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=z.useRef(null),o=Mt(n,i),l=iI(t);return z.useEffect(()=>{const u=i.current;if(!u)return;const d=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&v){const h=new Event("change",{bubbles:!0});v.call(u,t),u.dispatchEvent(h)}},[l,t]),a.jsx(Je.select,{...r,style:{...t3,...r.style},ref:o,defaultValue:t})});T3.displayName=Oae;function D3(e){return e===""||e===void 0}function R3(e){const t=Oi(e),r=z.useRef(""),n=z.useRef(0),i=z.useCallback(l=>{const u=r.current+l;t(u),(function d(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(u)},[t]),o=z.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return z.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,o]}function I3(e,t,r){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let l=Eae(e,Math.max(o,0));i.length===1&&(l=l.filter(f=>f!==r));const d=l.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==r?d:void 0}function Eae(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Tae=d3,Dae=p3,Rae=v3,Iae=m3,Mae=g3,Lae=y3,Bae=w3,Fae=z3,Wae=A3,$ae=P3,Uae=_3,Hae=O3;function TS({...e}){return a.jsx(Tae,{"data-slot":"select",...e})}function DS({...e}){return a.jsx(Rae,{"data-slot":"select-value",...e})}function RS({className:e,size:t="default",children:r,...n}){return a.jsxs(Dae,{"data-slot":"select-trigger","data-size":t,className:$t("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,a.jsx(Iae,{asChild:!0,children:a.jsx(_o,{className:"size-4 opacity-50"})})]})}function IS({className:e,children:t,position:r="popper",...n}){return a.jsx(Mae,{children:a.jsxs(Lae,{"data-slot":"select-content",className:$t("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(Kae,{}),a.jsx(Bae,{className:$t("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),a.jsx(Gae,{})]})})}function go({className:e,children:t,...r}){return a.jsxs(Fae,{"data-slot":"select-item",className:$t("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx($ae,{children:a.jsx(Ka,{className:"size-4"})})}),a.jsx(Wae,{children:t})]})}function Kae({className:e,...t}){return a.jsx(Uae,{"data-slot":"select-scroll-up-button",className:$t("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(fE,{className:"size-4"})})}function Gae({className:e,...t}){return a.jsx(Hae,{"data-slot":"select-scroll-down-button",className:$t("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(_o,{className:"size-4"})})}var Vae=Symbol.for("react.lazy"),Ep=BS[" use ".trim().toString()];function qae(e){return typeof e=="object"&&e!==null&&"then"in e}function M3(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Vae&&"_payload"in e&&qae(e._payload)}function Zae(e){const t=Xae(e),r=z.forwardRef((n,i)=>{let{children:o,...l}=n;M3(o)&&typeof Ep=="function"&&(o=Ep(o._payload));const u=z.Children.toArray(o),d=u.find(Qae);if(d){const f=d.props.children,v=u.map(h=>h===d?z.Children.count(f)>1?z.Children.only(null):z.isValidElement(f)?f.props.children:null:h);return a.jsx(t,{...l,ref:i,children:z.isValidElement(f)?z.cloneElement(f,void 0,v):null})}return a.jsx(t,{...l,ref:i,children:o})});return r.displayName=`${e}.Slot`,r}var L3=Zae("Slot");function Xae(e){const t=z.forwardRef((r,n)=>{let{children:i,...o}=r;if(M3(i)&&typeof Ep=="function"&&(i=Ep(i._payload)),z.isValidElement(i)){const l=eie(i),u=Jae(o,i.props);return i.type!==z.Fragment&&(u.ref=n?Sl(n,l):l),z.cloneElement(i,u)}return z.Children.count(i)>1?z.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Yae=Symbol("radix.slottable");function Qae(e){return z.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Yae}function Jae(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function eie(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const WO=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,$O=He,B3=(e,t)=>r=>{var n;if(t?.variants==null)return $O(e,r?.class,r?.className);const{variants:i,defaultVariants:o}=t,l=Object.keys(i).map(f=>{const v=r?.[f],h=o?.[f];if(v===null)return null;const m=WO(v)||WO(h);return i[f][m]}),u=r&&Object.entries(r).reduce((f,v)=>{let[h,m]=v;return m===void 0||(f[h]=m),f},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,v)=>{let{class:h,className:m,...b}=v;return Object.entries(b).every(w=>{let[x,y]=w;return Array.isArray(y)?y.includes({...o,...u}[x]):{...o,...u}[x]===y})?[...f,h,m]:f},[]);return $O(e,l,d,r?.class,r?.className)},tie=B3("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Fn({className:e,variant:t,size:r,asChild:n=!1,...i}){const o=n?L3:"button";return a.jsx(o,{"data-slot":"button",className:$t(tie({variant:t,size:r,className:e})),...i})}const rie=B3("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function F3({className:e,variant:t,asChild:r=!1,...n}){const i=r?L3:"span";return a.jsx(i,{"data-slot":"badge",className:$t(rie({variant:t}),e),...n})}function nie(e){const t=aie(e),r=z.forwardRef((n,i)=>{const{children:o,...l}=n,u=z.Children.toArray(o),d=u.find(oie);if(d){const f=d.props.children,v=u.map(h=>h===d?z.Children.count(f)>1?z.Children.only(null):z.isValidElement(f)?f.props.children:null:h);return a.jsx(t,{...l,ref:i,children:z.isValidElement(f)?z.cloneElement(f,void 0,v):null})}return a.jsx(t,{...l,ref:i,children:o})});return r.displayName=`${e}.Slot`,r}function aie(e){const t=z.forwardRef((r,n)=>{const{children:i,...o}=r;if(z.isValidElement(i)){const l=lie(i),u=sie(o,i.props);return i.type!==z.Fragment&&(u.ref=n?Sl(n,l):l),z.cloneElement(i,u)}return z.Children.count(i)>1?z.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var iie=Symbol("radix.slottable");function oie(e){return z.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===iie}function sie(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function lie(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Eh="Dialog",[W3]=Ro(Eh),[cie,Yn]=W3(Eh),$3=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,u=z.useRef(null),d=z.useRef(null),[f,v]=sl({prop:n,defaultProp:i??!1,onChange:o,caller:Eh});return a.jsx(cie,{scope:t,triggerRef:u,contentRef:d,contentId:Ai(),titleId:Ai(),descriptionId:Ai(),open:f,onOpenChange:v,onOpenToggle:z.useCallback(()=>v(h=>!h),[v]),modal:l,children:r})};$3.displayName=Eh;var U3="DialogTrigger",uie=z.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Yn(U3,r),o=Mt(t,i.triggerRef);return a.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":cw(i.open),...n,ref:o,onClick:Qe(e.onClick,i.onOpenToggle)})});uie.displayName=U3;var sw="DialogPortal",[die,H3]=W3(sw,{forceMount:void 0}),K3=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,o=Yn(sw,t);return a.jsx(die,{scope:t,forceMount:r,children:z.Children.map(n,l=>a.jsx(wl,{present:r||o.open,children:a.jsx(aw,{asChild:!0,container:i,children:l})}))})};K3.displayName=sw;var Tp="DialogOverlay",G3=z.forwardRef((e,t)=>{const r=H3(Tp,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,o=Yn(Tp,e.__scopeDialog);return o.modal?a.jsx(wl,{present:n||o.open,children:a.jsx(pie,{...i,ref:t})}):null});G3.displayName=Tp;var fie=nie("DialogOverlay.RemoveScroll"),pie=z.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Yn(Tp,r);return a.jsx(iw,{as:fie,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(Je.div,{"data-state":cw(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Po="DialogContent",V3=z.forwardRef((e,t)=>{const r=H3(Po,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,o=Yn(Po,e.__scopeDialog);return a.jsx(wl,{present:n||o.open,children:o.modal?a.jsx(hie,{...i,ref:t}):a.jsx(vie,{...i,ref:t})})});V3.displayName=Po;var hie=z.forwardRef((e,t)=>{const r=Yn(Po,e.__scopeDialog),n=z.useRef(null),i=Mt(t,r.contentRef,n);return z.useEffect(()=>{const o=n.current;if(o)return n3(o)},[]),a.jsx(q3,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Qe(e.onCloseAutoFocus,o=>{o.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Qe(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&o.preventDefault()}),onFocusOutside:Qe(e.onFocusOutside,o=>o.preventDefault())})}),vie=z.forwardRef((e,t)=>{const r=Yn(Po,e.__scopeDialog),n=z.useRef(!1),i=z.useRef(!1);return a.jsx(q3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;r.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),q3=z.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,...l}=e,u=Yn(Po,r),d=z.useRef(null),f=Mt(t,d);return OI(),a.jsxs(a.Fragment,{children:[a.jsx(Z1,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:a.jsx(q1,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":cw(u.open),...l,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(mie,{titleId:u.titleId}),a.jsx(yie,{contentRef:d,descriptionId:u.descriptionId})]})]})}),lw="DialogTitle",Z3=z.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Yn(lw,r);return a.jsx(Je.h2,{id:i.titleId,...n,ref:t})});Z3.displayName=lw;var X3="DialogDescription",Y3=z.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Yn(X3,r);return a.jsx(Je.p,{id:i.descriptionId,...n,ref:t})});Y3.displayName=X3;var Q3="DialogClose",J3=z.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Yn(Q3,r);return a.jsx(Je.button,{type:"button",...n,ref:t,onClick:Qe(e.onClick,()=>i.onOpenChange(!1))})});J3.displayName=Q3;function cw(e){return e?"open":"closed"}var e5="DialogTitleWarning",[Koe,t5]=HJ(e5,{contentName:Po,titleName:lw,docsSlug:"dialog"}),mie=({titleId:e})=>{const t=t5(e5),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return z.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},gie="DialogDescriptionWarning",yie=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${t5(gie).contentName}}.`;return z.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},xie=$3,bie=K3,r5=G3,Sie=V3,wie=Z3,jie=Y3,kie=J3;function UO({...e}){return a.jsx(xie,{"data-slot":"dialog",...e})}function Cie({...e}){return a.jsx(bie,{"data-slot":"dialog-portal",...e})}const n5=z.forwardRef(({className:e,...t},r)=>a.jsx(r5,{ref:r,"data-slot":"dialog-overlay",className:$t("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));n5.displayName=r5.displayName;function HO({className:e,children:t,...r}){return a.jsxs(Cie,{"data-slot":"dialog-portal",children:[a.jsx(n5,{}),a.jsxs(Sie,{"data-slot":"dialog-content",className:$t("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,a.jsxs(kie,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(Et,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function KO({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-header",className:$t("flex flex-col gap-2 text-center sm:text-left",e),...t})}function GO({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-footer",className:$t("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function VO({className:e,...t}){return a.jsx(wie,{"data-slot":"dialog-title",className:$t("text-lg leading-none font-semibold",e),...t})}function qO({className:e,...t}){return a.jsx(jie,{"data-slot":"dialog-description",className:$t("text-muted-foreground text-sm",e),...t})}var Hb="rovingFocusGroup.onEntryFocus",zie={bubbles:!1,cancelable:!0},Eu="RovingFocusGroup",[MS,a5,Aie]=NI(Eu),[Nie,i5]=Ro(Eu,[Aie]),[Pie,_ie]=Nie(Eu),o5=z.forwardRef((e,t)=>a.jsx(MS.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(MS.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Oie,{...e,ref:t})})}));o5.displayName=Eu;var Oie=z.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:v=!1,...h}=e,m=z.useRef(null),b=Mt(t,m),w=V1(o),[x,y]=sl({prop:l,defaultProp:u??null,onChange:d,caller:Eu}),[j,k]=z.useState(!1),S=Oi(f),N=a5(r),A=z.useRef(!1),[O,_]=z.useState(0);return z.useEffect(()=>{const T=m.current;if(T)return T.addEventListener(Hb,S),()=>T.removeEventListener(Hb,S)},[S]),a.jsx(Pie,{scope:r,orientation:n,dir:w,loop:i,currentTabStopId:x,onItemFocus:z.useCallback(T=>y(T),[y]),onItemShiftTab:z.useCallback(()=>k(!0),[]),onFocusableItemAdd:z.useCallback(()=>_(T=>T+1),[]),onFocusableItemRemove:z.useCallback(()=>_(T=>T-1),[]),children:a.jsx(Je.div,{tabIndex:j||O===0?-1:0,"data-orientation":n,...h,ref:b,style:{outline:"none",...e.style},onMouseDown:Qe(e.onMouseDown,()=>{A.current=!0}),onFocus:Qe(e.onFocus,T=>{const E=!A.current;if(T.target===T.currentTarget&&E&&!j){const D=new CustomEvent(Hb,zie);if(T.currentTarget.dispatchEvent(D),!D.defaultPrevented){const I=N().filter(q=>q.focusable),L=I.find(q=>q.active),M=I.find(q=>q.id===x),H=[L,M,...I].filter(Boolean).map(q=>q.ref.current);c5(H,v)}}A.current=!1}),onBlur:Qe(e.onBlur,()=>k(!1))})})}),s5="RovingFocusGroupItem",l5=z.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:o,children:l,...u}=e,d=Ai(),f=o||d,v=_ie(s5,r),h=v.currentTabStopId===f,m=a5(r),{onFocusableItemAdd:b,onFocusableItemRemove:w,currentTabStopId:x}=v;return z.useEffect(()=>{if(n)return b(),()=>w()},[n,b,w]),a.jsx(MS.ItemSlot,{scope:r,id:f,focusable:n,active:i,children:a.jsx(Je.span,{tabIndex:h?0:-1,"data-orientation":v.orientation,...u,ref:t,onMouseDown:Qe(e.onMouseDown,y=>{n?v.onItemFocus(f):y.preventDefault()}),onFocus:Qe(e.onFocus,()=>v.onItemFocus(f)),onKeyDown:Qe(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){v.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const j=Die(y,v.orientation,v.dir);if(j!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let S=m().filter(N=>N.focusable).map(N=>N.ref.current);if(j==="last")S.reverse();else if(j==="prev"||j==="next"){j==="prev"&&S.reverse();const N=S.indexOf(y.currentTarget);S=v.loop?Rie(S,N+1):S.slice(N+1)}setTimeout(()=>c5(S))}}),children:typeof l=="function"?l({isCurrentTabStop:h,hasTabStop:x!=null}):l})})});l5.displayName=s5;var Eie={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Tie(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Die(e,t,r){const n=Tie(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Eie[n]}function c5(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Rie(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Iie=o5,Mie=l5,Th="Tabs",[Lie]=Ro(Th,[i5]),u5=i5(),[Bie,uw]=Lie(Th),d5=z.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:o,orientation:l="horizontal",dir:u,activationMode:d="automatic",...f}=e,v=V1(u),[h,m]=sl({prop:n,onChange:i,defaultProp:o??"",caller:Th});return a.jsx(Bie,{scope:r,baseId:Ai(),value:h,onValueChange:m,orientation:l,dir:v,activationMode:d,children:a.jsx(Je.div,{dir:v,"data-orientation":l,...f,ref:t})})});d5.displayName=Th;var f5="TabsList",p5=z.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,o=uw(f5,r),l=u5(r);return a.jsx(Iie,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:n,children:a.jsx(Je.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})});p5.displayName=f5;var h5="TabsTrigger",v5=z.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...o}=e,l=uw(h5,r),u=u5(r),d=y5(l.baseId,n),f=x5(l.baseId,n),v=n===l.value;return a.jsx(Mie,{asChild:!0,...u,focusable:!i,active:v,children:a.jsx(Je.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":f,"data-state":v?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...o,ref:t,onMouseDown:Qe(e.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?l.onValueChange(n):h.preventDefault()}),onKeyDown:Qe(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&l.onValueChange(n)}),onFocus:Qe(e.onFocus,()=>{const h=l.activationMode!=="manual";!v&&!i&&h&&l.onValueChange(n)})})})});v5.displayName=h5;var m5="TabsContent",g5=z.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:o,...l}=e,u=uw(m5,r),d=y5(u.baseId,n),f=x5(u.baseId,n),v=n===u.value,h=z.useRef(v);return z.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(wl,{present:i||v,children:({present:m})=>a.jsx(Je.div,{"data-state":v?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!m,id:f,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&o})})});g5.displayName=m5;function y5(e,t){return`${e}-trigger-${t}`}function x5(e,t){return`${e}-content-${t}`}var Fie=d5,Wie=p5,$ie=v5,Uie=g5;function Hie({className:e,...t}){return a.jsx(Fie,{"data-slot":"tabs",className:$t("flex flex-col gap-2",e),...t})}function Kie({className:e,...t}){return a.jsx(Wie,{"data-slot":"tabs-list",className:$t("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function ZO({className:e,...t}){return a.jsx($ie,{"data-slot":"tabs-trigger",className:$t("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function XO({className:e,...t}){return a.jsx(Uie,{"data-slot":"tabs-content",className:$t("flex-1 outline-none",e),...t})}function Gie({...e}){return a.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...e})}function Vie({className:e,...t}){return a.jsx("ol",{"data-slot":"breadcrumb-list",className:$t("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",e),...t})}function YO({className:e,...t}){return a.jsx("li",{"data-slot":"breadcrumb-item",className:$t("inline-flex items-center gap-1.5",e),...t})}function qie({className:e,...t}){return a.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:$t("text-foreground font-normal",e),...t})}function Zie({children:e,className:t,...r}){return a.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:$t("[&>svg]:size-3.5",t),...r,children:e??a.jsx(un,{})})}const Rr={Schuhe:"#2563eb",Taschen:"#10b981",Accessoires:"#f59e0b",Mode:"#8b5cf6",Schmuck:"#ec4899",Seasonal:"#06b6d4",Promotion:"#f97316","Core Range":"#6366f1"};function Xie({store:e,placedFixtures:t}){const[r,n]=z.useState(null),[i,o]=z.useState(null),[l,u]=z.useState("product-groups"),d=t.map(j=>{if(j.productGroupDistribution)return j;const k=[],S=j.assignedCategory||"Mode",N=Rr[S]||"#2563eb";return S==="Mode"?k.push({productGroup:"Schuhe",area:j.capacity*.6,percentage:60,color:Rr.Schuhe,targetPercentage:55,deviation:5},{productGroup:"Accessoires",area:j.capacity*.4,percentage:40,color:Rr.Accessoires,targetPercentage:45,deviation:-5}):S==="Accessoires"?k.push({productGroup:"Taschen",area:j.capacity*.5,percentage:50,color:Rr.Taschen,targetPercentage:50,deviation:0},{productGroup:"Accessoires",area:j.capacity*.3,percentage:30,color:Rr.Accessoires,targetPercentage:30,deviation:0},{productGroup:"Schmuck",area:j.capacity*.2,percentage:20,color:Rr.Schmuck,targetPercentage:20,deviation:0}):S==="Seasonal"?k.push({productGroup:"Seasonal",area:j.capacity*.7,percentage:70,color:Rr.Seasonal,targetPercentage:60,deviation:10},{productGroup:"Promotion",area:j.capacity*.3,percentage:30,color:Rr.Promotion,targetPercentage:40,deviation:-10}):S==="Core Range"?k.push({productGroup:"Schuhe",area:j.capacity*.35,percentage:35,color:Rr.Schuhe,targetPercentage:30,deviation:5},{productGroup:"Mode",area:j.capacity*.35,percentage:35,color:Rr.Mode,targetPercentage:40,deviation:-5},{productGroup:"Taschen",area:j.capacity*.3,percentage:30,color:Rr.Taschen,targetPercentage:30,deviation:0}):S==="Schmuck"?k.push({productGroup:"Schmuck",area:j.capacity*.8,percentage:80,color:Rr.Schmuck,targetPercentage:75,deviation:5},{productGroup:"Accessoires",area:j.capacity*.2,percentage:20,color:Rr.Accessoires,targetPercentage:25,deviation:-5}):S==="Promotion"?k.push({productGroup:"Promotion",area:j.capacity*.6,percentage:60,color:Rr.Promotion,targetPercentage:50,deviation:10},{productGroup:"Seasonal",area:j.capacity*.4,percentage:40,color:Rr.Seasonal,targetPercentage:50,deviation:-10}):k.push({productGroup:S,area:j.capacity*1,percentage:100,color:N,targetPercentage:100,deviation:0}),{...j,productGroupDistribution:k}}),f=d.reduce((j,k)=>(k.productGroupDistribution?.forEach(S=>{const N=j.find(A=>A.productGroup===S.productGroup);N?N.area+=S.area:j.push({productGroup:S.productGroup,area:S.area,percentage:0,color:S.color,targetPercentage:S.targetPercentage,deviation:0})}),j),[]),v=f.reduce((j,k)=>j+k.area,0);f.forEach(j=>{j.percentage=v>0?j.area/v*100:0});const h=d.map(j=>{const k=j.productGroupDistribution?.reduce((A,O)=>A+Math.abs(O.deviation||0),0)||0,S=Math.max(...j.productGroupDistribution?.map(A=>Math.abs(A.deviation||0))||[0]),N={name:`${j.fixtureType} ${j.id.substring(0,6)}`,fixtureId:j.id,deviation:S,totalDeviation:k};return j.productGroupDistribution?.forEach(A=>{N[A.productGroup]=A.percentage}),N}).filter(j=>j.deviation>=5).sort((j,k)=>k.deviation-j.deviation).slice(0,10),m=d.reduce((j,k)=>j+k.capacity,0),w=(e.layout?.usableArea||0)-m,x=h.length,y=r?d.find(j=>j.id===r):null;return a.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[a.jsx("div",{className:"p-4 rounded-lg border mb-6",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)"},children:a.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[a.jsxs("div",{className:"flex-1 min-w-[300px]",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Filiale"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:e.name})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Zeitraum"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"KW 50-52, 2024"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Planungsebene"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Produktgruppe"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Datenbasis"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Prognose + Allokation"})]})]}),a.jsx("div",{className:"mt-3 p-2 rounded",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Die Verteilung basiert auf der aktuellen SOLL-Kapazitt und Prognose."})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Belegte Flche"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:[m.toFixed(1)," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Freie Flche"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:w<0?"var(--status-danger)":w<10?"var(--status-warning)":"var(--status-success)"},children:[w.toFixed(1)," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"ber-/Unterdeckung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:Math.abs(w)>10?"var(--status-warning)":"var(--status-success)"},children:[w>0?"+":"",w.toFixed(1)," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Warentrger m. Konflikt"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:x>0?"var(--status-warning)":"var(--status-success)"},children:x})]})]}),a.jsx("div",{className:"flex gap-2 ml-auto",children:a.jsxs(TS,{value:l,onValueChange:j=>u(j),children:[a.jsx(RS,{className:"w-[200px]",children:a.jsx(DS,{})}),a.jsxs(IS,{children:[a.jsx(go,{value:"aggregated",children:"Aggregiert"}),a.jsx(go,{value:"product-groups",children:"Nach Produktgruppen"}),a.jsx(go,{value:"hierarchy",children:"Nach Hierarchieebene"})]})]})})]})}),a.jsxs("div",{className:"flex-1 flex gap-6 min-h-0",children:[a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsxs("div",{className:"relative rounded-lg border flex-1 mb-6 overflow-auto",style:{backgroundColor:"#ffffff",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",minHeight:`${(e.layout?.height||500)+60}px`},children:[a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"linear-gradient(var(--border-subtle) 1px, transparent 1px), linear-gradient(90deg, var(--border-subtle) 1px, transparent 1px)",backgroundSize:"20px 20px"}}),a.jsxs("div",{className:"absolute border-2",style:{left:"20px",top:"20px",width:`${e.layout?.width||700}px`,height:`${(e.layout?.height||500)+20}px`,borderColor:"var(--text-primary)",borderStyle:"solid"},children:[e.layout?.aisles.map((j,k)=>a.jsx("div",{className:"absolute",style:{left:`${j.x}px`,top:`${j.y}px`,width:`${j.width}px`,height:`${j.height}px`,backgroundColor:"#e5e5e5",opacity:.5}},k)),e.layout?.zones.map((j,k)=>a.jsxs("div",{className:"absolute flex items-center justify-center",style:{left:`${j.x}px`,top:`${j.y}px`,width:`${j.width}px`,height:`${j.height}px`,backgroundColor:j.type==="emergency"?"#fee2e2":j.type==="cashier"?"#dbeafe":j.type==="window"?"#fef3c7":"#e0e7ff",border:j.type==="emergency"?"2px solid var(--status-danger)":"1px solid var(--border-default)",borderRadius:"var(--radius-sm)",fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[j.type==="emergency"&&a.jsx("span",{style:{fontSize:"20px"},children:""}),j.type==="cashier"&&a.jsx("span",{style:{fontSize:"20px"},children:""}),j.type==="window"&&a.jsx("span",{style:{fontSize:"20px"},children:""}),j.type==="storage"&&a.jsx("span",{style:{fontSize:"20px"},children:""})]},`zone-${k}`)),d.map(j=>{const k=i===j.id,S=r===j.id;return a.jsxs("div",{className:"absolute cursor-pointer border-2 transition-all overflow-hidden",style:{left:`${j.x}px`,top:`${j.y}px`,width:`${j.rotation%180===90?j.height:j.width}px`,height:`${j.rotation%180===90?j.width:j.height}px`,borderColor:S?"var(--brand-primary)":k?"var(--status-warning)":"var(--border-default)",borderRadius:"var(--radius-sm)",borderWidth:S?"3px":"2px",boxShadow:k?"var(--shadow-md)":void 0},onClick:()=>n(j.id),onMouseEnter:()=>o(j.id),onMouseLeave:()=>o(null),children:[l==="product-groups"&&j.productGroupDistribution&&a.jsx("div",{className:"h-full flex",children:j.productGroupDistribution.map((N,A)=>a.jsx("div",{style:{flex:N.percentage,backgroundColor:N.color,opacity:.7},title:`${N.productGroup}: ${N.percentage.toFixed(0)}%`},A))}),l==="aggregated"&&a.jsx("div",{className:"h-full",style:{backgroundColor:"var(--surface-subtle-tint)"}}),a.jsxs("div",{className:"absolute top-0 right-0 px-1.5 py-0.5 rounded-bl",style:{backgroundColor:"rgba(0, 0, 0, 0.7)",fontSize:"var(--font-size-xs)",color:"white",lineHeight:"1.2"},children:[a.jsx("div",{children:"IST: 100%"}),a.jsx("div",{style:{opacity:.8},children:"SOLL: 100%"})]}),h.some(N=>N.fixtureId===j.id)&&a.jsx("div",{className:"absolute top-0 left-0 p-1",style:{color:"var(--status-warning)"},children:a.jsx(aa,{size:14})})]},j.id)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",height:"350px"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Flchenanteile nach Produktgruppe"}),a.jsx("div",{style:{width:"100%",height:"280px"},children:a.jsx(Yt,{width:"100%",height:280,minWidth:0,minHeight:0,children:a.jsxs(nI,{children:[a.jsx(va,{data:f,cx:"50%",cy:"50%",labelLine:!1,label:j=>`${j.productGroup}: ${j.percentage.toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"area",nameKey:"productGroup",children:f.map((j,k)=>a.jsx(hl,{fill:j.color},`cell-${k}`))}),a.jsx(st,{formatter:j=>`${j.toFixed(1)} m`}),a.jsx(zt,{})]})})})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",height:"350px"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Warentrgersegmentierung"}),a.jsx("div",{style:{width:"100%",height:"280px"},children:a.jsx(Yt,{width:"100%",height:280,minWidth:0,minHeight:0,children:a.jsxs(Pr,{data:h,layout:"vertical",children:[a.jsx(Kn,{strokeDasharray:"3 3"}),a.jsx(bt,{type:"number",domain:[0,100],ticks:[0,10,20,30,40,50,60,70,80,90,100],label:{value:"%",position:"insideRight"}}),a.jsx(St,{dataKey:"name",type:"category",width:120,style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{formatter:j=>`${j.toFixed(1)}%`}),a.jsx(zt,{}),f.map(j=>a.jsx(Re,{dataKey:j.productGroup,stackId:"a",fill:j.color},j.productGroup))]})})})]})]}),a.jsxs("div",{className:"rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)"},children:[a.jsx("div",{className:"p-4 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)"},children:"Sortimentsverteilung (Warentrger)"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{backgroundColor:"var(--surface-alt)",borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Warentrger"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Zone"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Kapazitt (m)"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Belegte Flche (m)"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Hauptproduktgruppe"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Offene Flche (m)"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Status"})]})}),a.jsx("tbody",{children:d.map((j,k)=>{const S=j.productGroupDistribution?.[0],N=j.productGroupDistribution?.reduce((_,T)=>_+T.area,0)||0,A=j.capacity-N;let O;return A===0?O="success":A<0?O="danger":O="warning",a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)",backgroundColor:i===j.id?"var(--surface-subtle-tint)":void 0,cursor:"pointer"},onClick:()=>o(j.id),onMouseEnter:()=>o(j.id),onMouseLeave:()=>o(null),children:[a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:j.fixtureType}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:"Verkaufsflche"}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:j.capacity.toFixed(1)}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:N.toFixed(1)}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:S?.productGroup||"-"}),a.jsxs("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:[A>0?"+":"",A.toFixed(1)]}),a.jsx("td",{className:"p-3",children:a.jsx(F3,{variant:O==="success"?"default":"secondary",style:{backgroundColor:O==="danger"?"var(--status-danger)":O==="warning"?"var(--status-warning)":"var(--status-success)",color:"white"},children:O==="success"?"OK":O==="warning"?"Warnung":"Konflikt"})})]},k)})})]})})]}),a.jsxs("div",{className:"mt-4 p-3 rounded-lg border flex items-start gap-3",style:{backgroundColor:"var(--surface-subtle-tint)",borderColor:"var(--border-default)"},children:[a.jsx(aa,{size:20,style:{color:"var(--brand-primary)",flexShrink:0,marginTop:"2px"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"2px"},children:"Bezug zur Kapazittsplanung"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Diese Analyse erklrt, wie sich die gewhlte Artikelhierarchie auf die belegte Flche verteilt. Anpassungen erfolgen ber: SOLL-Kapazitt, Prognose, Allokationsparameter"})]})]})]}),y&&a.jsxs("div",{className:"w-[350px] rounded-lg border p-4 overflow-y-auto",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",maxHeight:"calc(100vh - 300px)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)"},children:"Warentrger  Sortimentsverteilung"}),a.jsx(Fn,{variant:"ghost",size:"sm",onClick:()=>n(null),children:a.jsx(Et,{size:16})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)",textTransform:"uppercase",color:"var(--text-muted)"},children:"Kapazitt"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Kapazitt gesamt"}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[y.capacity.toFixed(1)," m"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Belegte Flche"}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[y.capacity.toFixed(1)," m"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Freie Flche"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"0.0 m"})]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)",textTransform:"uppercase",color:"var(--text-muted)"},children:"Verteilung"}),a.jsx("div",{className:"border rounded",style:{borderColor:"var(--border-default)"},children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{backgroundColor:"var(--surface-alt)",borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{className:"text-left p-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Produktgruppe"}),a.jsx("th",{className:"text-right p-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Flche"}),a.jsx("th",{className:"text-right p-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"IST"}),a.jsx("th",{className:"text-right p-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"SOLL"}),a.jsx("th",{className:"text-right p-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:""})]})}),a.jsx("tbody",{children:y.productGroupDistribution?.map((j,k)=>a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{className:"p-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"2px",backgroundColor:j.color}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:j.productGroup})]})}),a.jsxs("td",{className:"text-right p-2",style:{fontSize:"var(--font-size-sm)"},children:[j.area.toFixed(1)," m"]}),a.jsxs("td",{className:"text-right p-2",style:{fontSize:"var(--font-size-sm)"},children:[j.percentage.toFixed(0),"%"]}),a.jsxs("td",{className:"text-right p-2",style:{fontSize:"var(--font-size-sm)"},children:[j.targetPercentage?.toFixed(0),"%"]}),a.jsxs("td",{className:"text-right p-2",style:{fontSize:"var(--font-size-sm)",color:Math.abs(j.deviation||0)>5?"var(--status-danger)":"var(--status-success)"},children:[(j.deviation||0)>0?"+":"",j.deviation?.toFixed(0),"%"]})]},k))})]})})]}),a.jsxs("div",{children:[a.jsx("h4",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)",textTransform:"uppercase",color:"var(--text-muted)"},children:"Bewertung"}),a.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:h.some(j=>j.fixtureId===y.id)?"rgba(251, 191, 36, 0.1)":"rgba(34, 197, 94, 0.1)",border:`1px solid ${h.some(j=>j.fixtureId===y.id)?"var(--status-warning)":"var(--status-success)"}`},children:[a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)"},children:["Status: ",h.some(j=>j.fixtureId===y.id)?"Abweichung vorhanden":"OK"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Abweichungen wirken sich auf die Allokationskrzungen aus."})]})]})]})]})]})}const Kb=[{id:"F001",name:"BLICK Zrich Hauptbahnhof",city:"Zrich",region:"Zrich",hasLayout:!0,layout:{width:700,height:500,totalArea:180,usableArea:150,aisles:[{x:0,y:200,width:700,height:80,orientation:"horizontal"},{x:150,y:0,width:60,height:520,orientation:"vertical"},{x:490,y:0,width:60,height:520,orientation:"vertical"}],zones:[{type:"emergency",x:660,y:210,width:40,height:80},{type:"cashier",x:0,y:420,width:140,height:100},{type:"window",x:0,y:0,width:140,height:60},{type:"storage",x:560,y:420,width:140,height:100}]}},{id:"F002",name:"BLICK Basel Marktplatz",city:"Basel",region:"Basel-Stadt",hasLayout:!0,layout:{width:600,height:450,totalArea:145,usableArea:120,aisles:[{x:0,y:150,width:600,height:70,orientation:"horizontal"},{x:280,y:0,width:70,height:470,orientation:"vertical"}],zones:[{type:"emergency",x:560,y:155,width:40,height:60},{type:"cashier",x:0,y:360,width:120,height:110},{type:"window",x:0,y:0,width:270,height:50},{type:"storage",x:480,y:360,width:120,height:110}]}},{id:"F003",name:"BLICK Bern Waisenhausplatz",city:"Bern",region:"Bern",hasLayout:!1,layout:{width:550,height:400,totalArea:125,usableArea:105,aisles:[{x:0,y:130,width:550,height:60,orientation:"horizontal"},{x:0,y:270,width:550,height:60,orientation:"horizontal"}],zones:[{type:"emergency",x:510,y:170,width:40,height:60},{type:"cashier",x:0,y:340,width:150,height:80},{type:"window",x:0,y:0,width:200,height:50}]}},{id:"F004",name:"BLICK Luzern Pilatusstrasse",city:"Luzern",region:"Luzern",hasLayout:!0,layout:{width:800,height:520,totalArea:210,usableArea:175,aisles:[{x:0,y:170,width:800,height:70,orientation:"horizontal"},{x:0,y:340,width:800,height:70,orientation:"horizontal"},{x:200,y:0,width:70,height:540,orientation:"vertical"},{x:530,y:0,width:70,height:540,orientation:"vertical"}],zones:[{type:"emergency",x:760,y:220,width:40,height:80},{type:"cashier",x:0,y:420,width:190,height:120},{type:"window",x:0,y:0,width:190,height:70},{type:"storage",x:610,y:420,width:190,height:120}]}},{id:"F005",name:"BLICK St. Gallen Marktgasse",city:"St. Gallen",region:"St. Gallen",hasLayout:!1,layout:{width:650,height:480,totalArea:160,usableArea:135,aisles:[{x:0,y:200,width:650,height:80,orientation:"horizontal"},{x:285,y:0,width:80,height:500,orientation:"vertical"}],zones:[{type:"emergency",x:610,y:210,width:40,height:70},{type:"cashier",x:0,y:390,width:140,height:110},{type:"window",x:0,y:0,width:275,height:60},{type:"storage",x:510,y:390,width:140,height:110}]}}],QO=[{id:"gondola",type:"Gondel",icon:"",capacity:4.8,preferredCategory:"Mode"},{id:"wallshelf",type:"Wandregal",icon:"",capacity:3.2,preferredCategory:"Accessoires"},{id:"table",type:"Tisch",icon:"",capacity:2.4,preferredCategory:"Promotion"},{id:"actionarea",type:"Aktionsflche",icon:"",capacity:6,preferredCategory:"Seasonal"},{id:"backwall",type:"Rckwand",icon:"",capacity:8,preferredCategory:"Core Range"},{id:"hookwall",type:"Hakenwand",icon:"",capacity:5.6,preferredCategory:"Schmuck"},{id:"checkout",type:"Kassenmodul",icon:"",capacity:1.2}],Yie=[{id:"aisle",type:"Gang",icon:"",isFixed:!0},{id:"emergency",type:"Notausgang",icon:"",isFixed:!0},{id:"cashier",type:"Kasse",icon:"",isFixed:!0},{id:"window",type:"Schaufenster",icon:"",isFixed:!0},{id:"storage",type:"Lagerzugang",icon:"",isFixed:!0}];function Qie({onNavigate:e}){const[t,r]=z.useState(Kb[0].id),[n,i]=z.useState(!1),[o,l]=z.useState(!1),[u,d]=z.useState([]),[f,v]=z.useState(null),[h,m]=z.useState(null),[b,w]=z.useState(null),[x,y]=z.useState({x:0,y:0}),[j,k]=z.useState(!1),S=Kb.find(F=>F.id===t),N=F=>{r(F),d([]),v(null),k(!1)},O=(()=>{const F=u.reduce((Y,$)=>Y+$.capacity,0);return{totalArea:S?.layout?.totalArea||0,usableArea:S?.layout?.usableArea||0,occupiedArea:F,freeArea:S?.layout?.usableArea?S.layout.usableArea-F:0,capacityImpact:F-120}})(),_=()=>O.freeArea<0?"var(--status-danger)":O.freeArea<10?"var(--status-warning)":"var(--status-success)",T=F=>{m(F),w(null)},E=(F,Y)=>{if(!u.find(pe=>pe.id===Y))return;const B=F.target.getBoundingClientRect(),re=F.clientX-B.left,le=F.clientY-B.top;y({x:re,y:le}),w(Y),m(null),F.dataTransfer&&(F.dataTransfer.effectAllowed="move")},D=F=>{F.preventDefault(),F.dataTransfer&&(F.dataTransfer.dropEffect=b?"move":"copy")},I=F=>{F.preventDefault();const Y=F.currentTarget.getBoundingClientRect(),$=S?.layout;if(!$)return;const B=F.clientX-Y.left-20-(b?x.x:40),re=F.clientY-Y.top-20-(b?x.y:20);if(b){const le=u.find(ne=>ne.id===b);if(!le)return;const pe=$.width-le.width,se=$.height-le.height;d(u.map(ne=>ne.id===b?{...ne,x:Math.max(0,Math.min(B,pe)),y:Math.max(0,Math.min(re,se))}:ne)),w(null),k(!0)}else if(h){const le=QO.find(ye=>ye.type===h);if(!le)return;const pe=$.width-100,se=$.height-40,ne={id:Date.now().toString(),fixtureType:h,x:Math.max(0,Math.min(B,pe)),y:Math.max(0,Math.min(re,se)),width:100,height:40,rotation:0,capacity:le.capacity,assignedCategory:le.preferredCategory};d([...u,ne]),m(null),k(!0)}},L=F=>{d(u.map(Y=>Y.id===F?{...Y,rotation:(Y.rotation+90)%360}:Y)),k(!0)},M=F=>{d(u.filter(Y=>Y.id!==F)),v(null),k(!0)},V=()=>{k(!1),alert("Layout erfolgreich gespeichert!")},H=()=>{k(!1),alert("nderungen verworfen")},q=()=>{l(!0)},X=()=>{if(!S?.layout)return;const F=S.layout,Y=8,$=[];let B=1;const re=(Ge,qe,ht,ut)=>{for(const nt of F.aisles)if(!(Ge+ht<=nt.x||Ge>=nt.x+nt.width||qe+ut<=nt.y||qe>=nt.y+nt.height))return!0;for(const nt of F.zones)if(!(Ge+ht<=nt.x||Ge>=nt.x+nt.width||qe+ut<=nt.y||qe>=nt.y+nt.height))return!0;return!1},le=(Ge,qe,ht,ut)=>{for(const nt of $)if(!(Ge+ht+Y<=nt.x||Ge>=nt.x+nt.width+Y||qe+ut+Y<=nt.y||qe>=nt.y+nt.height+Y))return!0;return!1},pe=(Ge,qe,ht,ut)=>!(Ge<0||qe<0||Ge+ht>F.width||qe+ut>F.height||re(Ge,qe,ht,ut)||le(Ge,qe,ht,ut)),se=(Ge,qe)=>{const ht=[{startX:0,startY:0,rotation:0,scanAxis:"x",maxScan:F.width-Ge,checkWidth:Ge,checkHeight:qe},{startX:0,startY:F.height-qe,rotation:0,scanAxis:"x",maxScan:F.width-Ge,checkWidth:Ge,checkHeight:qe},{startX:0,startY:0,rotation:90,scanAxis:"y",maxScan:F.height-Ge,checkWidth:qe,checkHeight:Ge},{startX:F.width-qe,startY:0,rotation:90,scanAxis:"y",maxScan:F.height-Ge,checkWidth:qe,checkHeight:Ge}];for(const ut of ht)if(!(ut.maxScan<0))for(let gr=0;gr<=ut.maxScan;gr+=20){const vn=ut.scanAxis==="x"?gr:ut.startX,Sr=ut.scanAxis==="y"?gr:ut.startY;if(pe(vn,Sr,ut.checkWidth,ut.checkHeight))return{x:vn,y:Sr,rotation:ut.rotation}}return null},ne=(Ge,qe,ht,ut,nt,gr=100)=>{const Sr=F.height-ht,Wr=F.width-qe;for(let mn=0;mn<=Sr;mn+=15)for(let Or=0;Or<=Wr;Or+=15){if($.length>=gr)return;pe(Or,mn,qe,ht)&&$.push({id:`ki${B++}`,fixtureType:Ge,x:Or,y:mn,width:qe,height:ht,rotation:0,capacity:ut,assignedCategory:nt})}},ye=180,ie=40,ve=8;for(let Ge=0;Ge<4;Ge++){const qe=se(ye,ie);qe&&$.push({id:`ki${B++}`,fixtureType:"Rckwand",x:qe.x,y:qe.y,width:ye,height:ie,rotation:qe.rotation,capacity:ve,assignedCategory:"Core Range"})}ne("Gondel",100,40,4.8,"Mode",15),ne("Wandregal",100,30,3.2,"Accessoires",10),ne("Aktionsflche",100,80,6,"Seasonal",5),ne("Tisch",70,70,2.4,"Promotion",8),ne("Hakenwand",90,30,5.6,"Schmuck",6),ne("Wandregal",60,30,2,"Accessoires",10),d($),l(!1),k(!0)},W=u.reduce((F,Y)=>{const $=F.find(B=>B.type===Y.fixtureType);return $?($.count++,$.area+=Y.capacity):F.push({type:Y.fixtureType,count:1,area:Y.capacity,capacity:Y.capacity,category:Y.assignedCategory||"-"}),F},[]);return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"mb-4",children:a.jsx(Gie,{children:a.jsxs(Vie,{children:[a.jsx(YO,{children:a.jsx("button",{onClick:()=>e("capacity"),style:{color:"var(--text-link-secondary)"},className:"hover:underline",children:"Kapazitt"})}),a.jsx(Zie,{}),a.jsx(YO,{children:a.jsx(qie,{children:"Filiallayout & Warentrger"})})]})})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Filiallayout & Warentrger"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Visualisierung und Planung der Verkaufsflche auf Basis von Warentrgern und Kapazittswirkung"})]}),a.jsxs(Hie,{defaultValue:"layout",className:"flex-1 flex flex-col min-h-0",children:[a.jsxs(Kie,{style:{width:"fit-content",marginBottom:"var(--space-6)"},children:[a.jsx(ZO,{value:"layout",children:"Layout & Warentrger"}),a.jsx(ZO,{value:"analysis",children:"Sortimentsverteilung (Analyse)"})]}),a.jsxs(XO,{value:"layout",className:"flex-1 flex flex-col min-h-0 mt-0",children:[a.jsx("div",{className:"p-4 rounded-lg border mb-6",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)"},children:a.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[a.jsxs("div",{className:"flex-1 min-w-[250px]",children:[a.jsx("label",{htmlFor:"store-select",className:"block mb-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Filiale auswhlen"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(TS,{value:t,onValueChange:N,children:[a.jsx(RS,{className:"w-full",children:a.jsx(DS,{})}),a.jsx(IS,{children:Kb.map(F=>a.jsx(go,{value:F.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(dE,{size:16}),a.jsxs("span",{children:[F.id," - ",F.name]})]})},F.id))})]}),S&&a.jsx(F3,{variant:S.hasLayout?"default":"secondary",children:S.hasLayout?"Layout vorhanden":"Neu"})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Gesamtflche"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:[O.totalArea," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Nutzbare Flche"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:[O.usableArea," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Belegte Flche"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:[O.occupiedArea.toFixed(1)," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Freie Flche"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:_()},children:[O.freeArea.toFixed(1)," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Kapazittswirkung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:O.capacityImpact>=0?"var(--status-success)":"var(--status-danger)"},children:[O.capacityImpact>0?"+":"",O.capacityImpact.toFixed(1)," m"]})]})]}),a.jsxs("div",{className:"flex gap-2 ml-auto",children:[a.jsxs(Fn,{variant:"outline",onClick:()=>i(!0),children:[a.jsx(xs,{size:16}),"Import Grundriss"]}),a.jsxs(Fn,{variant:"outline",onClick:q,children:[a.jsx(Nc,{size:16}),"KI-Vorschlag"]}),j&&a.jsxs(a.Fragment,{children:[a.jsxs(Fn,{variant:"outline",onClick:H,children:[a.jsx(US,{size:16}),"Verwerfen"]}),a.jsxs(Fn,{onClick:V,children:[a.jsx(Su,{size:16}),"Speichern"]})]})]})]})}),a.jsxs("div",{className:"flex-1 flex gap-6 min-h-0",children:[a.jsxs("div",{className:"w-[280px] rounded-lg border p-4 overflow-y-auto",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)"},children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Warentrger"}),a.jsx("div",{className:"space-y-2",children:QO.map(F=>a.jsxs("div",{draggable:!0,onDragStart:()=>T(F.type),className:"p-3 rounded border cursor-move transition-all",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-subtle)",borderRadius:"var(--radius-md)"},onMouseEnter:Y=>{Y.currentTarget.style.borderColor="var(--brand-primary)",Y.currentTarget.style.boxShadow="var(--shadow-sm)"},onMouseLeave:Y=>{Y.currentTarget.style.borderColor="var(--border-subtle)",Y.currentTarget.style.boxShadow="none"},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{style:{fontSize:"18px"},children:F.icon}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:F.type})]}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:["Kapazitt: ",F.capacity," m"]}),F.preferredCategory&&a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:["Bevorzugt: ",F.preferredCategory]})]},F.id))})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Zonen (fixe Elemente)"}),a.jsx("div",{className:"space-y-2",children:Yie.map(F=>a.jsx("div",{className:"p-3 rounded border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-subtle)",borderRadius:"var(--radius-md)",opacity:.6},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontSize:"18px"},children:F.icon}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:F.type})]})},F.id))})]})]}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsxs("div",{className:"relative rounded-lg border flex-1 mb-6 overflow-auto",style:{backgroundColor:"#ffffff",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",minHeight:`${(S?.layout?.height||500)+60}px`},onDragOver:D,onDrop:I,children:[a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"linear-gradient(var(--border-subtle) 1px, transparent 1px), linear-gradient(90deg, var(--border-subtle) 1px, transparent 1px)",backgroundSize:"20px 20px"}}),a.jsxs("div",{className:"absolute border-2",style:{left:"20px",top:"20px",width:`${S?.layout?.width||700}px`,height:`${(S?.layout?.height||500)+20}px`,borderColor:"var(--text-primary)",borderStyle:"solid"},children:[S?.layout?.aisles.map((F,Y)=>a.jsx("div",{className:"absolute",style:{left:`${F.x}px`,top:`${F.y}px`,width:`${F.width}px`,height:`${F.height}px`,backgroundColor:"#e5e5e5",opacity:.5}},Y)),S?.layout?.zones.map((F,Y)=>a.jsxs("div",{className:"absolute flex items-center justify-center",style:{left:`${F.x}px`,top:`${F.y}px`,width:`${F.width}px`,height:`${F.height}px`,backgroundColor:F.type==="emergency"?"#fee2e2":F.type==="cashier"?"#dbeafe":F.type==="window"?"#fef3c7":"#e0e7ff",border:F.type==="emergency"?"2px solid var(--status-danger)":"1px solid var(--border-default)",borderRadius:"var(--radius-sm)",fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[F.type==="emergency"&&a.jsx("span",{style:{fontSize:"20px"},children:""}),F.type==="cashier"&&a.jsx("span",{style:{fontSize:"20px"},children:""}),F.type==="window"&&a.jsx("span",{style:{fontSize:"20px"},children:""}),F.type==="storage"&&a.jsx("span",{style:{fontSize:"20px"},children:""})]},`zone-${Y}`)),u.map(F=>a.jsx("div",{className:"absolute cursor-pointer border-2 transition-all",style:{left:`${F.x}px`,top:`${F.y}px`,width:`${F.rotation%180===90?F.height:F.width}px`,height:`${F.rotation%180===90?F.width:F.height}px`,backgroundColor:"var(--surface-subtle-tint)",borderColor:f===F.id?"var(--brand-primary)":"var(--border-default)",borderRadius:"var(--radius-sm)",borderWidth:f===F.id?"3px":"2px"},onClick:()=>v(F.id),draggable:!0,onDragStart:Y=>E(Y,F.id),children:a.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:F.fixtureType}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[F.capacity," m"]})]})},F.id))]}),u.length===0&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)",pointerEvents:"none"},children:"Ziehen Sie Warentrger aus der linken Palette auf die Flche"}),f&&a.jsx("div",{className:"absolute bottom-4 right-4 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-md)",minWidth:"200px"},children:(()=>{const F=u.find(Y=>Y.id===f);return F?a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Eigenschaften"}),a.jsxs("div",{className:"space-y-2 mb-3",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Typ"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:F.fixtureType})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Kapazitt"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)"},children:[F.capacity," m"]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Warengruppe"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:F.assignedCategory||"-"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Fn,{variant:"outline",size:"sm",onClick:()=>L(F.id),children:a.jsx(QL,{size:14})}),a.jsx(Fn,{variant:"outline",size:"sm",onClick:()=>M(F.id),children:a.jsx(Cs,{size:14})})]})]}):null})()})]}),a.jsxs("div",{className:"rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)"},children:[a.jsx("div",{className:"p-4 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)"},children:"Warentrgerbersicht"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{backgroundColor:"var(--surface-alt)",borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Warentrger-Typ"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Anzahl"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Belegte Flche (m)"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Kapazitt (m)"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Zugeordnete Warengruppe"})]})}),a.jsx("tbody",{children:W.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"text-center p-6",style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Keine Warentrger platziert"})}):W.map((F,Y)=>a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:F.type}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:F.count}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:F.area.toFixed(1)}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:F.capacity.toFixed(1)}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:F.category})]},Y))})]})})]}),a.jsxs("div",{className:"mt-4 p-3 rounded-lg border flex items-start gap-3",style:{backgroundColor:"var(--surface-subtle-tint)",borderColor:"var(--brand-primary)"},children:[a.jsx(Qt,{size:20,style:{color:"var(--brand-primary)",flexShrink:0,marginTop:"2px"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"2px"},children:"Integration mit Kapazittsplanung"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Dieses Layout bestimmt die IST-Kapazitt der Filiale und fliet direkt in Simulation, Allokation und Prognose ein."})]})]})]})]}),a.jsx(UO,{open:n,onOpenChange:i,children:a.jsxs(HO,{children:[a.jsxs(KO,{children:[a.jsx(VO,{children:"Grundriss importieren"}),a.jsx(qO,{children:"Laden Sie einen Grundriss hoch, um das Layout automatisch zu erkennen"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Dateiformat whlen"}),a.jsxs(TS,{children:[a.jsx(RS,{children:a.jsx(DS,{placeholder:"Format auswhlen"})}),a.jsxs(IS,{children:[a.jsx(go,{value:"cad",children:"CAD (DWG / DXF)"}),a.jsx(go,{value:"pdf",children:"PDF"}),a.jsx(go,{value:"image",children:"Bild (PNG / JPG)"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Mastab"}),a.jsx("input",{type:"text",placeholder:"z.B. 1:100",className:"w-full p-2 rounded border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer",style:{borderColor:"var(--border-default)"},children:[a.jsx(xs,{size:32,style:{margin:"0 auto",color:"var(--text-muted)",marginBottom:"var(--space-2)"}}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Datei hier ablegen oder klicken zum Hochladen"})]})]}),a.jsxs(GO,{children:[a.jsx(Fn,{variant:"outline",onClick:()=>i(!1),children:"Abbrechen"}),a.jsx(Fn,{onClick:()=>i(!1),children:"Grundriss bernehmen"})]})]})}),a.jsx(UO,{open:o,onOpenChange:l,children:a.jsxs(HO,{children:[a.jsxs(KO,{children:[a.jsx(VO,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Nc,{size:20,style:{color:"var(--brand-primary)"}}),"KI-Vorschlag generieren"]})}),a.jsx(qO,{children:"Das System analysiert Ihre Filiale und erstellt einen optimierten Layout-Vorschlag"})]}),a.jsx("div",{className:"py-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Analysefaktoren:"}),a.jsxs("ul",{className:"space-y-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"var(--brand-primary)"}}),"Filialgre und Geometrie"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"var(--brand-primary)"}}),"Fixe Zonen (Kasse, Notausgnge, etc.)"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"var(--brand-primary)"}}),"Umsatzklasse und Kundenfrequenz"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"var(--brand-primary)"}}),"Warengruppenstruktur"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"var(--brand-primary)"}}),"Best Practices aus hnlichen Filialen"]})]}),a.jsx("div",{className:"p-3 rounded-lg mt-4",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Der KI-Vorschlag dient als Ausgangspunkt. Sie knnen jeden Warentrger individuell anpassen."})]})}),a.jsxs(GO,{children:[a.jsx(Fn,{variant:"outline",onClick:()=>l(!1),children:"Abbrechen"}),a.jsxs(Fn,{onClick:X,children:[a.jsx(Nc,{size:16}),"Vorschlag erzeugen"]})]})]})})]}),a.jsx(XO,{value:"analysis",className:"flex-1 flex flex-col min-h-0 mt-0",children:S&&a.jsx(Xie,{store:S,placedFixtures:u})})]})]})}const JO={draft:{label:"Entwurf",color:"#94a3b8",bgColor:"#f1f5f9",icon:yE},simulated:{label:"Simuliert",color:"#2563eb",bgColor:"#dbeafe",icon:Dp},validated:{label:"Validiert",color:"#7c3aed",bgColor:"#ede9fe",icon:dn},approved:{label:"Freigegeben",color:"#10b981",bgColor:"#d1fae5",icon:dn},transferred:{label:"Zur Umsetzung bertragen",color:"#059669",bgColor:"#d1fae5",icon:kE}},Gb=[{id:"var-001",name:"Basisvariante  Standard",status:"transferred",capacityDeviation:120,criticalExceptions:0,lastSimulation:"2025-01-10 14:30",overCapacity:450,underCapacity:330,forecastCoverage:94.5,storeCount:42,articleCount:1250,validationResults:{recipientDetermination:!0,deliveryDates:!0,availability:!0,capacityAssumptions:!0,blockingExceptions:!0}},{id:"var-002",name:"Optimierte Verteilung  A-Stores",status:"approved",capacityDeviation:85,criticalExceptions:2,lastSimulation:"2025-01-12 09:15",overCapacity:380,underCapacity:295,forecastCoverage:96.2,storeCount:42,articleCount:1250,validationResults:{recipientDetermination:!0,deliveryDates:!0,availability:!0,capacityAssumptions:!0,blockingExceptions:!0}},{id:"var-003",name:"Gleichverteilung  Regional",status:"validated",capacityDeviation:210,criticalExceptions:5,lastSimulation:"2025-01-13 16:45",overCapacity:520,underCapacity:310,forecastCoverage:92.8,storeCount:42,articleCount:1250,validationResults:{recipientDetermination:!0,deliveryDates:!0,availability:!0,capacityAssumptions:!1,blockingExceptions:!0}},{id:"var-004",name:"Test  Konservative Allokation",status:"simulated",capacityDeviation:95,criticalExceptions:1,lastSimulation:"2025-01-14 11:20",overCapacity:320,underCapacity:225,forecastCoverage:89.5,storeCount:42,articleCount:1250},{id:"var-005",name:"Entwurf  Saisonbereinigt",status:"draft",capacityDeviation:0,criticalExceptions:0,lastSimulation:"",overCapacity:0,underCapacity:0,forecastCoverage:0,storeCount:42,articleCount:1250}],Jie=[{category:"Schuhe",variant1:450,variant2:380,variant3:520},{category:"Oberbekleidung",variant1:-280,variant2:-350,variant3:-200},{category:"Hosen",variant1:120,variant2:95,variant3:210},{category:"Accessoires",variant1:-150,variant2:-120,variant3:-180}],eoe=[{week:"KW 1",forecast:4500,variant1:4200,variant2:4350,variant3:4100},{week:"KW 2",forecast:5e3,variant1:4800,variant2:4900,variant3:4600},{week:"KW 3",forecast:4800,variant1:4600,variant2:4700,variant3:4450},{week:"KW 4",forecast:5500,variant1:5300,variant2:5400,variant3:5100}];function toe({onNavigate:e}){const[t,r]=z.useState("fs25-initial"),[n,i]=z.useState(Gb[1]),[o,l]=z.useState("overview"),[u,d]=z.useState(!1),[f,v]=z.useState(!1),[h,m]=z.useState(!1),[b,w]=z.useState(""),[x,y]=z.useState("immediate"),[j,k]=z.useState(""),[S,N]=z.useState(""),A=()=>{m(!0),setTimeout(()=>{m(!1),d(!0)},2e3)},O=()=>{if(!b.trim()){alert("Bitte geben Sie eine Begrndung ein.");return}if(n){const H={...n,status:"approved"};i(H),w(""),alert("Variante erfolgreich freigegeben")}},_=()=>{if(x==="scheduled"&&(!j||!S)){alert("Bitte whlen Sie Datum und Uhrzeit fr die geplante Ausfhrung.");return}if(n){const H={...n,status:"transferred"};i(H),v(!1),alert("Allokationslauf wurde erfolgreich erzeugt")}},T=()=>{alert("Neue Variante wird erstellt (basierend auf aktueller Variante)")},E=n?.status==="simulated",D=n?.status==="validated",I=n?.status==="approved",L=n?.status==="transferred",M=n?JO[n.status]:null,V=M?.icon;return a.jsxs("div",{className:"flex h-screen",style:{backgroundColor:"var(--surface-base)"},children:[a.jsx("div",{className:"flex-shrink-0 border-r overflow-y-auto",style:{width:"300px",backgroundColor:"var(--surface-alt)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Szenario"}),a.jsxs("select",{value:t,onChange:H=>r(H.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"fs25-initial",children:"FS25  Erstallokation"}),a.jsx("option",{value:"hw25-initial",children:"HW25  Erstallokation"}),a.jsx("option",{value:"fs25-replenishment",children:"FS25  Nachschub"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",marginBottom:"12px",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em"},children:["Varianten (",Gb.length,")"]}),a.jsx("div",{className:"space-y-2",children:Gb.map(H=>{const q=JO[H.status],X=q.icon,W=n?.id===H.id;return a.jsxs("button",{onClick:()=>i(H),className:"w-full text-left p-3 rounded-lg border transition-all",style:{backgroundColor:W?"var(--surface-page)":"transparent",borderColor:W?"var(--brand-primary)":"var(--border-subtle)",borderWidth:W?"2px":"1px"},children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",flex:1},children:H.name}),a.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 rounded-full",style:{backgroundColor:q.bgColor,color:q.color,fontSize:"var(--font-size-xs)",whiteSpace:"nowrap"},children:[a.jsx(X,{size:12}),a.jsx("span",{children:q.label})]})]}),H.status!=="draft"&&a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between",style:{fontSize:"var(--font-size-xs)"},children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"ber-/Unterdeckung:"}),a.jsxs("span",{style:{fontWeight:"var(--font-weight-medium)",color:H.capacityDeviation>0?"#ef4444":"#10b981"},children:[H.capacityDeviation>0?"+":"",H.capacityDeviation," m"]})]}),a.jsxs("div",{className:"flex items-center justify-between",style:{fontSize:"var(--font-size-xs)"},children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"Kritische Ausnahmen:"}),a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)",color:H.criticalExceptions>0?"#ef4444":"var(--text-primary)"},children:H.criticalExceptions})]}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:[a.jsx(Os,{size:10,className:"inline mr-1"}),H.lastSimulation]})]}),H.status==="draft"&&a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",fontStyle:"italic"},children:"Noch nicht simuliert"})]},H.id)})})]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6 flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Szenario- & Variantenmanagement"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Vergleichen, validieren und freigeben Sie Allokationsvarianten fr verschiedene Szenarien."})]}),a.jsx("button",{onClick:()=>e("scenarioManagement"),className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",whiteSpace:"nowrap"},children:"Erweiterte Ansicht "})]}),!n&&a.jsxs("div",{className:"p-12 text-center rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx(yE,{size:48,style:{color:"var(--text-muted)",margin:"0 auto 16px"}}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Whlen Sie eine Variante aus, um Details anzuzeigen"})]}),n&&n.status!=="draft"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"berdeckung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"#ef4444"},children:["+",n.overCapacity," m"]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Unterdeckung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"#3b82f6"},children:["-",n.underCapacity," m"]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Prognoseabdeckung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)"},children:[n.forecastCoverage.toFixed(1),"%"]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Kritische Ausnahmen"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:n.criticalExceptions>0?"#ef4444":"#10b981"},children:n.criticalExceptions})]})]}),a.jsx("div",{className:"flex gap-1 mb-4 border-b",style:{borderColor:"var(--border-default)"},children:[{key:"overview",label:"bersicht"},{key:"capacity",label:"Kapazitt"},{key:"forecast",label:"Prognose"},{key:"exceptions",label:"Ausnahmen"}].map(H=>a.jsx("button",{onClick:()=>l(H.key),className:"px-4 py-2 transition-colors",style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:o===H.key?"var(--brand-primary)":"var(--text-muted)",borderBottom:o===H.key?"2px solid var(--brand-primary)":"2px solid transparent"},children:H.label},H.key))}),a.jsxs("div",{children:[o==="overview"&&a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Varianten-Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Variantenname"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:n.name})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Status"}),a.jsxs("div",{className:"flex items-center gap-2",children:[V&&a.jsx(V,{size:16,style:{color:M?.color}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:M?.label})]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Filialen"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fB,{size:16,style:{color:"var(--text-muted)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:n.storeCount})]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Artikel"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ip,{size:16,style:{color:"var(--text-muted)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:n.articleCount.toLocaleString("de-DE")})]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Letzte Simulation"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Os,{size:16,style:{color:"var(--text-muted)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:n.lastSimulation})]})]})]})]})}),o==="capacity"&&a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Kapazittsabweichung nach Kategorie"}),a.jsx(Yt,{width:"100%",height:350,minWidth:0,minHeight:0,children:a.jsxs(Pr,{data:Jie,children:[a.jsx(Kn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(bt,{dataKey:"category",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(Re,{dataKey:"variant1",fill:"#2563eb",name:"Basisvariante"}),a.jsx(Re,{dataKey:"variant2",fill:"#7c3aed",name:"Optimierte Verteilung"}),a.jsx(Re,{dataKey:"variant3",fill:"#10b981",name:"Gleichverteilung"})]})})]}),o==="forecast"&&a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Prognose vs. Allokation"}),a.jsx(Yt,{width:"100%",height:350,minWidth:0,minHeight:0,children:a.jsxs(rI,{data:eoe,children:[a.jsx(Kn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(bt,{dataKey:"week",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(qr,{type:"monotone",dataKey:"forecast",stroke:"#94a3b8",strokeWidth:2,strokeDasharray:"5 5",name:"Prognose"}),a.jsx(qr,{type:"monotone",dataKey:"variant1",stroke:"#2563eb",strokeWidth:2,name:"Basisvariante"}),a.jsx(qr,{type:"monotone",dataKey:"variant2",stroke:"#7c3aed",strokeWidth:2,name:"Optimierte Verteilung"}),a.jsx(qr,{type:"monotone",dataKey:"variant3",stroke:"#10b981",strokeWidth:2,name:"Gleichverteilung"})]})})]}),o==="exceptions"&&a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Ausnahmen & Risiken"}),n.criticalExceptions>0?a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"p-4 rounded-lg border-l-4 cursor-pointer hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},onClick:()=>alert("Navigation zum Exception-Cockpit (read-only)"),children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ft,{size:20,style:{color:"var(--status-warning)"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Kapazittsberschreitung bei Store Z-001"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:"Kategorie: Schuhe | berschreitung: +35 m"})]})]})})}),a.jsx("div",{className:"p-4 rounded-lg border-l-4 cursor-pointer hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},onClick:()=>alert("Navigation zum Exception-Cockpit (read-only)"),children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ft,{size:20,style:{color:"var(--status-warning)"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Fehlende Grenverteilung bei Artikel A-4532"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:"Kategorie: Hosen | Betroffene Filialen: 12"})]})]})})})]}):a.jsxs("div",{className:"p-6 text-center rounded-lg",style:{backgroundColor:"var(--surface-success-subtle)",color:"var(--status-success)"},children:[a.jsx(dn,{size:32,className:"mx-auto mb-2"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)"},children:"Keine kritischen Ausnahmen"})]})]})]})]}),n&&n.status==="draft"&&a.jsxs("div",{className:"p-8 text-center rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx(Dp,{size:48,style:{color:"var(--text-muted)",margin:"0 auto 16px"}}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)",marginBottom:"16px"},children:"Diese Variante wurde noch nicht simuliert"}),a.jsx("button",{className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},onClick:()=>alert("Simulation starten (nicht implementiert)"),children:"Simulation starten"})]})]})}),a.jsx("div",{className:"flex-shrink-0 border-l overflow-y-auto",style:{width:"320px",backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"p-4",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Entscheidung & bergabe"}),!n&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Whlen Sie eine Variante aus"})}),n&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:M?.bgColor,borderColor:M?.color},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[V&&a.jsx(V,{size:20,style:{color:M?.color}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:M?.color},children:M?.label})]}),a.jsxs("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[n.status==="simulated"&&"Simulation abgeschlossen  Validierung erforderlich",n.status==="validated"&&"Alle Systemprfungen bestanden",n.status==="approved"&&"Variante ist zur Umsetzung freigegeben",n.status==="transferred"&&"Variante wurde als Allokationslauf bertragen",n.status==="draft"&&"Variante ist im Entwurfsstadium"]})]}),E&&a.jsxs("div",{children:[a.jsx("button",{onClick:A,disabled:h,className:"w-full px-4 py-3 rounded-lg transition-colors",style:{backgroundColor:h?"var(--button-secondary-bg)":"var(--brand-primary)",color:h?"var(--text-muted)":"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:h?"Validierung luft...":"Validierung starten"}),h&&a.jsx("div",{className:"mt-2 text-center",children:a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Systemprfungen werden durchgefhrt..."})})]}),D&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Begrndung der Freigabe *"}),a.jsx("textarea",{value:b,onChange:H=>w(H.target.value),rows:4,placeholder:"Bitte geben Sie eine Begrndung fr die Freigabe ein...",className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)",resize:"vertical"}})]}),a.jsx("button",{onClick:O,disabled:!b.trim(),className:"w-full px-4 py-3 rounded-lg transition-colors",style:{backgroundColor:b.trim()?"var(--brand-primary)":"var(--button-secondary-bg)",color:b.trim()?"var(--text-inverse)":"var(--text-muted)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Variante freigeben"})]}),I&&a.jsx("div",{children:a.jsxs("button",{onClick:()=>v(!0),className:"w-full px-4 py-3 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(gf,{size:16,className:"inline mr-2"}),"In Allokationslauf berfhren"]})}),L&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(kE,{size:16,style:{color:"var(--text-muted)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Variante gesperrt"})]}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Diese Variante ist unvernderlich und wurde einem Allokationslauf zugeordnet."})]}),a.jsxs("button",{onClick:T,className:"w-full px-4 py-2 rounded-lg border transition-colors hover:bg-surface-tint",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(jf,{size:16,className:"inline mr-2"}),"Neue Variante erstellen"]})]}),n.validationResults&&n.status!=="simulated"&&a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",marginBottom:"12px"},children:"Validierungsergebnisse"}),a.jsx("div",{className:"space-y-2",children:Object.entries(n.validationResults).map(([H,q])=>{const X={recipientDetermination:"Empfngerermittlung",deliveryDates:"Liefertermine",availability:"Verfgbarkeit",capacityAssumptions:"Kapazittsannahmen",blockingExceptions:"Blockierende Ausnahmen"};return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:X[H]}),q?a.jsx(dn,{size:16,style:{color:"#10b981"}}):a.jsx(Ft,{size:16,style:{color:"#ef4444"}})]},H)})})]})]})]})}),u&&n&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:()=>d(!1),children:a.jsxs("div",{className:"rounded-lg shadow-xl max-w-lg w-full mx-4",style:{backgroundColor:"var(--surface-page)",maxHeight:"90vh",overflow:"auto"},onClick:H=>H.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Validierungsbericht"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"space-y-4",children:n.validationResults&&Object.entries(n.validationResults).map(([H,q])=>{const X={recipientDetermination:"Empfngerermittlung",deliveryDates:"Liefertermine",availability:"Verfgbarkeit",capacityAssumptions:"Kapazittsannahmen",blockingExceptions:"Blockierende Ausnahmen"};return a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg",style:{backgroundColor:q?"var(--surface-success-subtle)":"var(--surface-error-subtle)"},children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:X[H]}),q?a.jsx(dn,{size:20,style:{color:"#10b981"}}):a.jsx(Ft,{size:20,style:{color:"#ef4444"}})]},H)})}),Object.values(n.validationResults||{}).every(Boolean)?a.jsxs("div",{className:"mt-6 p-4 rounded-lg",style:{backgroundColor:"var(--surface-success-subtle)",color:"var(--status-success)"},children:[a.jsx(dn,{size:20,className:"inline mr-2"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Alle Prfungen erfolgreich bestanden"})]}):a.jsxs("div",{className:"mt-6 p-4 rounded-lg",style:{backgroundColor:"var(--surface-error-subtle)",color:"var(--status-error)"},children:[a.jsx(Ft,{size:20,className:"inline mr-2"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Einige Prfungen sind fehlgeschlagen"})]})]}),a.jsxs("div",{className:"p-6 border-t flex gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:"Schlieen"}),Object.values(n.validationResults||{}).every(Boolean)?a.jsx("button",{onClick:()=>{const H={...n,status:"validated"};i(H),d(!1)},className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Variante als validiert markieren"}):a.jsx("button",{onClick:()=>{d(!1),alert("Zurck zur Simulation (nicht implementiert)")},className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Zur Simulation"})]})]})}),f&&n&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:()=>v(!1),children:a.jsxs("div",{className:"rounded-lg shadow-xl max-w-2xl w-full mx-4",style:{backgroundColor:"var(--surface-page)",maxHeight:"90vh",overflow:"auto"},onClick:H=>H.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Allokationslauf erzeugen"})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"12px"},children:"Snapshot (Read-Only)"}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-default)"},children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Szenario"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"FS25  Erstallokation"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Variante"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:n.name})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Simulation-ID"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:["SIM-",n.id]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Lieferzeitraum"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"KW 05-08 2025"})]})]})})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"12px"},children:"Ausfhrung"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border cursor-pointer hover:bg-surface-tint transition-colors",style:{borderColor:x==="immediate"?"var(--brand-primary)":"var(--border-default)",backgroundColor:x==="immediate"?"var(--surface-tint)":"transparent"},children:[a.jsx("input",{type:"radio",name:"transfer-type",value:"immediate",checked:x==="immediate",onChange:H=>y(H.target.value),style:{accentColor:"var(--brand-primary)"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Sofort starten"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Der Allokationslauf wird unmittelbar nach Besttigung ausgefhrt"})]})]}),a.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border cursor-pointer hover:bg-surface-tint transition-colors",style:{borderColor:x==="scheduled"?"var(--brand-primary)":"var(--border-default)",backgroundColor:x==="scheduled"?"var(--surface-tint)":"transparent"},children:[a.jsx("input",{type:"radio",name:"transfer-type",value:"scheduled",checked:x==="scheduled",onChange:H=>y(H.target.value),style:{accentColor:"var(--brand-primary)"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Geplant starten"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Der Allokationslauf startet zum angegebenen Zeitpunkt"}),x==="scheduled"&&a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Datum"}),a.jsx("input",{type:"date",value:j,onChange:H=>k(H.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Uhrzeit"}),a.jsx("input",{type:"time",value:S,onChange:H=>N(H.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"}})]})]})]})]})]})]}),a.jsx("div",{className:"p-4 rounded-lg border-l-4",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ft,{size:20,style:{color:"var(--status-warning)",flexShrink:0}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"4px"},children:"Wichtiger Hinweis"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Die Variante wird als unvernderlicher Snapshot fr den Allokationslauf bernommen. Nach der bertragung knnen keine nderungen mehr vorgenommen werden."})]})]})})]}),a.jsxs("div",{className:"p-6 border-t flex gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>v(!1),className:"flex-1 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:"Abbrechen"}),a.jsx("button",{onClick:_,className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Lauf erzeugen"})]})]})})]})}function wf({formula:e,inputs:t,result:r,explanation:n}){const[i,o]=z.useState(!1);return a.jsxs("div",{className:"relative inline-block",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[a.jsx(Qt,{size:16,style:{color:"var(--status-info)",cursor:"help"}}),i&&a.jsxs("div",{className:"absolute z-50 rounded-lg shadow-lg p-4",style:{backgroundColor:"var(--surface-page)",border:"1px solid var(--border-default)",boxShadow:"var(--shadow-lg)",minWidth:"320px",maxWidth:"450px",bottom:"100%",left:"50%",transform:"translateX(-50%)",marginBottom:"8px"},children:[a.jsx("div",{className:"mb-3 p-3 rounded",style:{backgroundColor:"var(--surface-subtle)",fontFamily:"monospace",fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:e}),t.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"Eingabewerte:"}),a.jsx("div",{className:"space-y-2",children:t.map((l,u)=>a.jsxs("div",{className:"flex items-start justify-between gap-3",style:{fontSize:"var(--font-size-xs)"},children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{style:{fontFamily:"monospace",color:"var(--brand-primary)",fontWeight:"var(--font-weight-medium)"},children:l.symbol}),l.description&&a.jsx("div",{style:{color:"var(--text-muted)",marginTop:"2px"},children:l.description}),a.jsxs("div",{style:{color:"var(--text-secondary)",fontSize:"var(--font-size-2xs)",marginTop:"2px"},children:["Quelle: ",l.source]})]}),a.jsxs("div",{style:{fontFamily:"monospace",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)",whiteSpace:"nowrap"},children:["= ",l.value]})]},u))})]}),r!==void 0&&a.jsxs("div",{className:"p-2 rounded flex items-center justify-between",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-info)"},children:"Ergebnis:"}),a.jsx("span",{style:{fontFamily:"monospace",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-info)"},children:r})]}),n&&a.jsx("div",{className:"mt-3 pt-3",style:{borderTop:"1px solid var(--border-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:n}),a.jsx("div",{style:{position:"absolute",bottom:"-6px",left:"50%",width:"12px",height:"12px",backgroundColor:"var(--surface-page)",border:"1px solid var(--border-default)",borderTop:"none",borderLeft:"none",transform:"translateX(-50%) rotate(45deg)"}})]})]})}const eE={success:"var(--status-success)",warning:"var(--status-warning)",critical:"var(--status-danger)",neutral:"var(--text-secondary)"};function Rt({title:e,value:t,unit:r,delta:n,deltaLabel:i,state:o="neutral",formula:l,formulaInputs:u,onClick:d}){const f=n!==void 0,v=n&&n>0,h=n&&n<0;return a.jsxs("div",{className:"p-4 rounded-lg border transition-all",style:{backgroundColor:"var(--surface-page)",borderColor:o!=="neutral"?eE[o]:"var(--border-default)",cursor:d?"pointer":"default",borderWidth:o!=="neutral"?"2px":"1px"},onClick:d,children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-muted)"},children:e}),l&&u&&a.jsx(wf,{formula:l,inputs:u,result:`${t}${r?" "+r:""}`})]}),a.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:o!=="neutral"?eE[o]:"var(--text-primary)"},children:t}),r&&a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:r})]}),f&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"px-2 py-1 rounded-full flex items-center gap-1",style:{backgroundColor:h?"var(--surface-danger-subtle)":v?"var(--surface-success-subtle)":"var(--surface-subtle)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[v&&a.jsx(cl,{size:12,style:{color:"var(--status-success)"}}),h&&a.jsx(Lp,{size:12,style:{color:"var(--status-danger)"}}),n===0&&a.jsx(UL,{size:12,style:{color:"var(--text-muted)"}}),a.jsxs("span",{style:{color:h?"var(--status-danger)":v?"var(--status-success)":"var(--text-muted)"},children:[v?"+":"",n,"%"]})]}),i&&a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:i})]})]})}const tE=[{id:"var-1",name:"Standard HW 2025",status:"Validated",allocationType:"Initial Allocation",season:"HW 2025",owner:"M. Weber",lastSimulation:"2025-01-10 14:23",hasFallback:!1,kpis:{supplyCoverage:92.5,capacityRisk:"green",forecastFulfillment:88.3}},{id:"var-2",name:"Optimiert - Hohe Prognosegewichtung",status:"Simulated",allocationType:"Initial Allocation",season:"HW 2025",owner:"M. Weber",lastSimulation:"2025-01-12 09:45",hasFallback:!0,kpis:{supplyCoverage:85.6,capacityRisk:"yellow",forecastFulfillment:95.2}},{id:"var-3",name:"Test - MinMax Fairness",status:"Draft",allocationType:"Initial Allocation",season:"HW 2025",owner:"M. Weber",hasFallback:!1,kpis:{supplyCoverage:0,capacityRisk:"green",forecastFulfillment:0}},{id:"var-4",name:"SW 2025 - Baseline",status:"Released",allocationType:"Initial Allocation",season:"SW 2025",owner:"A. Mller",lastSimulation:"2025-01-05 16:12",hasFallback:!1,kpis:{supplyCoverage:94.1,capacityRisk:"green",forecastFulfillment:91.7}},{id:"var-rep-1",name:"NOS Nachschub - Standard",status:"Validated",allocationType:"Replenishment",season:"NOS",owner:"K. Schmidt",lastSimulation:"2025-01-15 08:30",hasFallback:!1,kpis:{supplyCoverage:89.2,capacityRisk:"green",forecastFulfillment:87.3}},{id:"var-rep-2",name:"Nachschub - Hohe Service Level Priority",status:"Simulated",allocationType:"Replenishment",season:"NOS",owner:"K. Schmidt",lastSimulation:"2025-01-16 11:20",hasFallback:!0,kpis:{supplyCoverage:84.8,capacityRisk:"yellow",forecastFulfillment:92.1}},{id:"var-rep-3",name:"Nachschub - Test Substitution",status:"Draft",allocationType:"Replenishment",season:"NOS",owner:"K. Schmidt",hasFallback:!0,kpis:{supplyCoverage:0,capacityRisk:"green",forecastFulfillment:0}}],Vb={Draft:{color:"var(--text-muted)",bg:"var(--surface-subtle)",icon:yo},Simulated:{color:"var(--status-info)",bg:"var(--surface-info-subtle)",icon:Os},Validated:{color:"var(--status-success)",bg:"var(--surface-success-subtle)",icon:dn},Released:{color:"var(--brand-primary)",bg:"var(--surface-subtle-tint)",icon:CE}};function roe({onNavigateToSimulation:e,onNavigateToExplainability:t,onNavigateToAllocationRun:r}){const[n,i]=z.useState("Initial Allocation"),[o,l]=z.useState(""),[u,d]=z.useState(""),[f,v]=z.useState(tE[1]),[h,m]=z.useState(1),[b,w]=z.useState(null),[x,y]=z.useState({recipientStrategy:"Plan Data",availabilitySources:{dcStock:!0,purchaseOrders:!0,deliveries:!0,external:!1},deliveryDateLogic:"Delivery Schedule",useForecast:!0,forecastSource:"Statistical Forecast v2.3",forecastWeight:60,forecastInfluencesSpace:!0,spaceDemandPlanningLevel:"Product Group",capacityUnit:"m",capacityPlanningLevel:"Product Group",capacityIsHardLimit:!1,softZonePercentage:10,softZonePenaltyWeight:.5,rationingStrategy:"Proportional",topPerformerDefinition:"Top 20% Sales",minFillPercentage:80,fairnessFactor:.8,allowFallback:!0,fallbackStrategy:"Core/NOS substitution",minFillProfile:"Core",fallbackThreshold:75,enforcePackSize:!0,packSize:6,sizeCurveActive:!0,minSizesPerStore:3,repairMode:"Best Effort"}),j=tE.filter(S=>!(S.allocationType!==n||u&&S.status!==u||o&&!S.name.toLowerCase().includes(o.toLowerCase()))),k=S=>{y(N=>({...N,...S}))};return a.jsxs("div",{className:"h-full flex",children:[a.jsx("div",{className:"overflow-y-auto border-r",style:{width:"25%",minWidth:"300px",backgroundColor:"var(--surface-subtle)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:"Varianten"}),a.jsx("button",{className:"p-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:a.jsx(ji,{size:18})})]}),a.jsx("div",{className:"flex gap-1 mb-4 p-1 rounded-lg",style:{backgroundColor:"var(--surface-page)"},children:["Initial Allocation","Replenishment","Manual Allocation"].map(S=>a.jsx("button",{onClick:()=>i(S),className:"flex-1 px-2 py-1 rounded text-center",style:{backgroundColor:n===S?"var(--brand-primary)":"transparent",color:n===S?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-xs)",fontWeight:n===S?"var(--font-weight-semibold)":"var(--font-weight-normal)"},children:S==="Initial Allocation"?"Initial":S==="Replenishment"?"Nachschub":"Manuell"},S))}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx(fn,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),a.jsx("input",{type:"text",placeholder:"Variante suchen...",value:o,onChange:S=>l(S.target.value),className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"}})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("select",{value:u,onChange:S=>d(S.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"",children:"Alle Status"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Simulated",children:"Simulated"}),a.jsx("option",{value:"Validated",children:"Validated"}),a.jsx("option",{value:"Released",children:"Released"})]})}),a.jsx("div",{className:"space-y-2",children:j.map(S=>{const N=S.id===f.id,A=Vb[S.status],O=A.icon;return a.jsxs("div",{onClick:()=>v(S),className:"relative p-3 rounded-lg cursor-pointer transition-all",style:{backgroundColor:N?"var(--surface-page)":"transparent",border:N?"2px solid var(--brand-primary)":"1px solid var(--border-subtle)"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"4px"},children:S.name}),a.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full",style:{backgroundColor:A.bg,color:A.color,fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(O,{size:12}),S.status]})]}),a.jsx("button",{onClick:_=>{_.stopPropagation(),w(b===S.id?null:S.id)},className:"p-1 rounded hover:bg-surface-tint",children:a.jsx(vE,{size:16,style:{color:"var(--text-muted)"}})})]}),a.jsxs("div",{className:"space-y-2 mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Supply Coverage"}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:S.kpis.supplyCoverage>90?"var(--status-success)":"var(--status-warning)"},children:S.kpis.supplyCoverage>0?`${S.kpis.supplyCoverage}%`:"-"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Capacity Risk"}),a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:S.kpis.capacityRisk==="green"?"var(--status-success)":S.kpis.capacityRisk==="yellow"?"var(--status-warning)":"var(--status-danger)"}})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Forecast Fulfillment"}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:S.kpis.forecastFulfillment>90?"var(--status-success)":"var(--status-warning)"},children:S.kpis.forecastFulfillment>0?`${S.kpis.forecastFulfillment}%`:"-"})]})]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:S.hasFallback&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-2xs)",fontWeight:"var(--font-weight-medium)"},children:"Fallback"})}),S.lastSimulation&&a.jsxs("div",{className:"mt-2 pt-2",style:{borderTop:"1px solid var(--border-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:["Simulation: ",S.lastSimulation]}),b===S.id&&a.jsxs("div",{className:"absolute right-3 top-12 z-10 rounded-lg shadow-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",boxShadow:"var(--shadow-lg)",minWidth:"180px"},onClick:_=>_.stopPropagation(),children:[a.jsxs("button",{className:"w-full px-4 py-2 text-left flex items-center gap-2 hover:bg-surface-tint",children:[a.jsx(jf,{size:16}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Duplizieren"})]}),a.jsxs("button",{className:"w-full px-4 py-2 text-left flex items-center gap-2 hover:bg-surface-tint",children:[a.jsx(yo,{size:16}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Umbenennen"})]}),a.jsxs("button",{className:"w-full px-4 py-2 text-left flex items-center gap-2 hover:bg-surface-tint",children:[a.jsx(F4,{size:16}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Archivieren"})]}),a.jsxs("button",{className:"w-full px-4 py-2 text-left flex items-center gap-2 hover:bg-surface-tint",children:[a.jsx(Ta,{size:16}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Export JSON"})]})]})]},S.id)})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto",style:{width:"50%"},children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("input",{type:"text",value:f.name,onChange:()=>{},readOnly:!0,className:"text-2xl font-semibold mb-2 bg-transparent border-b-2 border-transparent hover:border-border-input focus:border-brand-primary outline-none",style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"}}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full",style:{backgroundColor:Vb[f.status].bg,color:Vb[f.status].color,fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:f.status}),f.lastSimulation&&a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:["Simulation: ",f.lastSimulation]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>e?.(f.id,f.allocationType),className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(cl,{size:16}),"Simulation ffnen"]}),a.jsxs("button",{onClick:()=>t?.(f.id,f.allocationType),className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(Qt,{size:16}),"Explainability"]}),a.jsxs("button",{className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(jf,{size:16}),"Duplizieren"]})]})]})}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(Rt,{title:"Supply Coverage",value:f.kpis.supplyCoverage,unit:"%",delta:-2.3,deltaLabel:"vs baseline",state:f.kpis.supplyCoverage>90?"success":"warning",formula:"Coverage = (Supply / Demand)  100%",formulaInputs:[{symbol:"Supply",value:24365,source:"Verfgbarkeitsberechnung"},{symbol:"Demand",value:28456,source:"Bedarfsberechnung"}]}),a.jsx(Rt,{title:"Forecast Fulfillment",value:f.kpis.forecastFulfillment,unit:"%",delta:5.8,deltaLabel:"vs baseline",state:f.kpis.forecastFulfillment>90?"success":"warning",formula:"FF = (Allocated / Forecast)  100%",formulaInputs:[{symbol:"Allocated",value:24365,source:"Allokationsergebnis"},{symbol:"Forecast",value:25600,source:"Prognosesystem"}]}),a.jsx(Rt,{title:"Capacity Utilization",value:82.4,unit:"%",delta:1.2,deltaLabel:"vs baseline",state:"success",formula:"CU = ( Space_Used /  Space_Available)  100%",formulaInputs:[{symbol:"Space_Used",value:8240,source:"Flchenberechnung",description:"Genutzte Flche"},{symbol:"Space_Available",value:1e4,source:"Kapazittsplanung",description:"Verfgbare Flche"}]}),a.jsx(Rt,{title:"Exception Count",value:32,delta:-15.8,deltaLabel:"vs baseline",state:"success"})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(Rt,{title:"Stores in Fallback",value:18,state:"warning"}),a.jsx(Rt,{title:"Undercoverage Units",value:4336,state:"warning"}),a.jsx(Rt,{title:"Overcapacity",value:145,unit:"m",state:"neutral"}),a.jsx(Rt,{title:"MinFill Fulfillment",value:85.2,unit:"%",state:"warning",formula:"MF = (Stores_Above_MinFill / Total_Stores)  100%",formulaInputs:[{symbol:"Stores_Above_MinFill",value:213,source:"Rationierungsberechnung"},{symbol:"Total_Stores",value:245,source:"Empfngerbestimmung"}]})]}),a.jsxs("div",{className:"border rounded-lg",style:{borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"flex border-b overflow-x-auto",style:{borderColor:"var(--border-default)"},children:[{id:1,label:"Empfnger & Daten"},{id:2,label:"Prognose & Raumbedarf"},{id:3,label:"Kapazitt"},{id:4,label:"Rationierung"},{id:5,label:"Fallback & MinFill"},{id:6,label:"LOT/Gre/Pack"}].map(S=>a.jsx("button",{onClick:()=>m(S.id),className:"px-4 py-3 border-b-2 whitespace-nowrap",style:{borderColor:h===S.id?"var(--brand-primary)":"transparent",color:h===S.id?"var(--brand-primary)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:h===S.id?"var(--font-weight-semibold)":"var(--font-weight-normal)"},children:S.label},S.id))}),a.jsxs("div",{className:"p-6",children:[h===1&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Empfnger & Datenquellen"}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"flex",alignItems:"center",gap:"var(--space-2)"},children:["Empfngerstrategie",a.jsx(wf,{formula:"Recipients = f(Strategy, Season, Exclusions)",inputs:[{symbol:"Strategy",value:x.recipientStrategy,source:"Variantenkonfiguration"},{symbol:"Season",value:f.season,source:"Variantenkonfiguration"}],explanation:"Die Empfngerstrategie bestimmt, welche Filialen fr die Allokation in Frage kommen."})]}),a.jsxs("select",{value:x.recipientStrategy,onChange:S=>k({recipientStrategy:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Plan Data",children:"Planungsdaten"}),a.jsx("option",{value:"Manual Selection",children:"Manuelle Auswahl"}),a.jsx("option",{value:"Listing",children:"Listung"}),a.jsx("option",{value:"Transport Relations",children:"Transportrelationen"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Verfgbarkeitsquellen"}),a.jsx("div",{className:"space-y-2",children:Object.entries({dcStock:"DC-Bestnde",purchaseOrders:"Bestellungen",deliveries:"Lieferungen",external:"Externe Quellen"}).map(([S,N])=>a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x.availabilitySources[S],onChange:A=>k({availabilitySources:{...x.availabilitySources,[S]:A.target.checked}}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:N})]},S))})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Lieferterminlogik"}),a.jsxs("select",{value:x.deliveryDateLogic,onChange:S=>k({deliveryDateLogic:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Delivery Schedule",children:"Lieferplan"}),a.jsx("option",{value:"Planned Lead Time",children:"Geplante Vorlaufzeit"})]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-subtle)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Vorschau"}),a.jsxs("div",{className:"space-y-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Empfngerfilialen:"}),a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:"245"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Ausgeschlossene Filialen:"}),a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:"12"})]}),a.jsx("button",{className:"mt-2 text-brand-primary hover:underline",style:{fontSize:"var(--font-size-sm)"},children:"Filialliste anzeigen "})]})]})]}),h===2&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Prognose & Raumbedarf"}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x.useForecast,onChange:S=>k({useForecast:S.target.checked}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Prognose verwenden"})]}),x.useForecast&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Prognosequelle"}),a.jsxs("select",{value:x.forecastSource,onChange:S=>k({forecastSource:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Statistical Forecast v2.3",children:"Statistical Forecast v2.3"}),a.jsx("option",{value:"ML Forecast v1.0",children:"ML Forecast v1.0"}),a.jsx("option",{value:"Manual Forecast",children:"Manuelle Prognose"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"flex",alignItems:"center",gap:"var(--space-2)"},children:["Prognosegewichtung: ",x.forecastWeight,"%",a.jsx(wf,{formula:"D = Plan  (1 - w) + Forecast  w",inputs:[{symbol:"Plan",value:150,source:"Planungsdaten"},{symbol:"Forecast",value:120,source:x.forecastSource},{symbol:"w",value:x.forecastWeight/100,source:"Slider"}],result:150*(1-x.forecastWeight/100)+120*(x.forecastWeight/100),explanation:"Der Bedarf wird als gewichteter Durchschnitt zwischen Plan und Prognose berechnet."})]}),a.jsx("input",{type:"range",min:0,max:100,step:5,value:x.forecastWeight,onChange:S=>k({forecastWeight:Number(S.target.value)}),className:"w-full"}),a.jsxs("div",{className:"flex justify-between mt-1",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[a.jsx("span",{children:"0% (Nur Plan)"}),a.jsx("span",{children:"50%"}),a.jsx("span",{children:"100% (Nur Prognose)"})]})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x.forecastInfluencesSpace,onChange:S=>k({forecastInfluencesSpace:S.target.checked}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Prognose beeinflusst Raumbedarf"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Planungsebene fr Raumbedarf"}),a.jsxs("select",{value:x.spaceDemandPlanningLevel,onChange:S=>k({spaceDemandPlanningLevel:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Company",children:"Unternehmen"}),a.jsx("option",{value:"Buying Group",children:"Einkaufsbereich"}),a.jsx("option",{value:"Product Group",children:"Produktgruppe"}),a.jsx("option",{value:"Product",children:"Produkt"})]})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-info)",marginBottom:"var(--space-2)"},children:"Raumbedarf-Formel"}),a.jsxs("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:["SpaceDemand",a.jsx("sub",{children:"h"})," =  (Forecast",a.jsx("sub",{children:"i"}),"  p",a.jsx("sub",{children:"i"}),")"]}),a.jsx("div",{className:"mt-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:"Der Raumbedarf wird durch Summierung der prognostizierten Mengen multipliziert mit dem Flchenbedarf je Artikel berechnet."})]})]}),h===3&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Kapazitt & Restriktionen"}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Kapazittseinheit"}),a.jsx("div",{className:"flex gap-2",children:["m","Fixtures"].map(S=>a.jsx("button",{onClick:()=>k({capacityUnit:S}),className:"px-4 py-2 rounded-lg border",style:{backgroundColor:x.capacityUnit===S?"var(--brand-primary)":"var(--surface-page)",borderColor:x.capacityUnit===S?"var(--brand-primary)":"var(--border-input)",color:x.capacityUnit===S?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-sm)"},children:S},S))})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Kapazitts-Planungsebene"}),a.jsxs("select",{value:x.capacityPlanningLevel,onChange:S=>k({capacityPlanningLevel:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Company",children:"Unternehmen"}),a.jsx("option",{value:"Buying Group",children:"Einkaufsbereich"}),a.jsx("option",{value:"Product Group",children:"Produktgruppe"})]})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x.capacityIsHardLimit,onChange:S=>k({capacityIsHardLimit:S.target.checked}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Kapazitt ist harte Grenze"})]}),!x.capacityIsHardLimit&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:["Soft Zone: +",x.softZonePercentage,"%"]}),a.jsx("input",{type:"range",min:0,max:20,step:1,value:x.softZonePercentage,onChange:S=>k({softZonePercentage:Number(S.target.value)}),className:"w-full"})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:["Penalty Weight: ",x.softZonePenaltyWeight]}),a.jsx("input",{type:"range",min:0,max:1,step:.1,value:x.softZonePenaltyWeight,onChange:S=>k({softZonePenaltyWeight:Number(S.target.value)}),className:"w-full"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-subtle)",fontFamily:"monospace",fontSize:"var(--font-size-sm)"},children:["Free",a.jsx("sub",{children:"s,h"})," = max(0, Cap",a.jsx("sub",{children:"soll,s,h"}),"  Occ",a.jsx("sub",{children:"ist,s,h"}),")"]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-subtle)",fontFamily:"monospace",fontSize:"var(--font-size-sm)"},children:[" (p",a.jsx("sub",{children:"i"}),"  x",a.jsx("sub",{children:"i,s"}),")  Free",a.jsx("sub",{children:"s,h"})]})]})]}),h===4&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Rationierung & Fairness"}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Rationierungsstrategie"}),a.jsxs("select",{value:x.rationingStrategy,onChange:S=>k({rationingStrategy:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Proportional",children:"Proportional"}),a.jsx("option",{value:"Top Performer First",children:"Top Performer zuerst"}),a.jsx("option",{value:"Min-Max Fairness",children:"Min-Max Fairness"}),a.jsx("option",{value:"Presentation Stock First",children:"Prsentationsbestand zuerst"})]})]}),x.rationingStrategy==="Top Performer First"&&a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Top Performer Definition"}),a.jsxs("select",{value:x.topPerformerDefinition,onChange:S=>k({topPerformerDefinition:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Top 20% Sales",children:"Top 20% Umsatz"}),a.jsx("option",{value:"Top 30% Sales",children:"Top 30% Umsatz"}),a.jsx("option",{value:"A-Stores",children:"A-Filialen"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:["MinFill-Prozentsatz: ",x.minFillPercentage,"%"]}),a.jsx("input",{type:"range",min:50,max:100,step:5,value:x.minFillPercentage,onChange:S=>k({minFillPercentage:Number(S.target.value)}),className:"w-full"})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"flex",alignItems:"center",gap:"var(--space-2)"},children:["Fairness-Faktor : ",x.fairnessFactor,a.jsx(wf,{formula:"Fairness =   Equal_Distribution + (1 - )  Performance_Weight",inputs:[{symbol:"",value:x.fairnessFactor,source:"Slider"},{symbol:"Equal_Distribution",value:"1.0",source:"Gleichverteilung"},{symbol:"Performance_Weight",value:"0.85",source:"Performance-Gewichtung"}],explanation:"Ein hherer Fairness-Faktor fhrt zu gleichmigerer Verteilung, ein niedrigerer zu strkerer Performance-Gewichtung."})]}),a.jsx("input",{type:"range",min:0,max:1,step:.1,value:x.fairnessFactor,onChange:S=>k({fairnessFactor:Number(S.target.value)}),className:"w-full"}),a.jsxs("div",{className:"flex justify-between mt-1",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[a.jsx("span",{children:"0 (Performance)"}),a.jsx("span",{children:"0.5"}),a.jsx("span",{children:"1 (Gleichverteilung)"})]})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-info)",marginBottom:"var(--space-2)"},children:"Zielfunktion"}),a.jsxs("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:["max  (w",a.jsx("sub",{children:"i,s"}),"  x",a.jsx("sub",{children:"i,s"}),")    Underfill    Overcap"]})]})]}),h===5&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Fallback & MinFill"}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x.allowFallback,onChange:S=>k({allowFallback:S.target.checked}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Fallback erlauben"})]}),x.allowFallback&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Fallback-Strategie"}),a.jsxs("select",{value:x.fallbackStrategy,onChange:S=>k({fallbackStrategy:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Core/NOS substitution",children:"Core/NOS Substitution"}),a.jsx("option",{value:"Fairness redistribution",children:"Fairness Redistribution"}),a.jsx("option",{value:"Rule-based replacement",children:"Regelbasierte Ersetzung"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:["Fallback-Schwelle: ",x.fallbackThreshold,"%"]}),a.jsx("input",{type:"range",min:50,max:100,step:5,value:x.fallbackThreshold,onChange:S=>k({fallbackThreshold:Number(S.target.value)}),className:"w-full"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"MinFill-Profil"}),a.jsxs("select",{value:x.minFillProfile,onChange:S=>k({minFillProfile:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Core",children:"Core"}),a.jsx("option",{value:"Premium",children:"Premium"}),a.jsx("option",{value:"Small Store",children:"Small Store"})]})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-warning-subtle)",border:"1px solid var(--status-warning)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-warning)",marginBottom:"var(--space-2)"},children:"Fallback-Trigger"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:["Fallback wird aktiviert wenn:",a.jsxs("ul",{className:"mt-2 ml-4 space-y-1",children:[a.jsx("li",{children:" Supply < Demand UND SpaceDemand > Capacity"}),a.jsxs("li",{children:[" ODER ForecastFulfillment < ",x.fallbackThreshold,"%"]})]})]})]})]}),h===6&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"LOT / Gre / Pack"}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x.enforcePackSize,onChange:S=>k({enforcePackSize:S.target.checked}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Packgre erzwingen"})]}),x.enforcePackSize&&a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Packgre"}),a.jsx("input",{type:"number",min:1,value:x.packSize,onChange:S=>k({packSize:Number(S.target.value)}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:"Aus Artikelparameter"})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x.sizeCurveActive,onChange:S=>k({sizeCurveActive:S.target.checked}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Grenkurve aktiv"})]}),x.sizeCurveActive&&a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Min. Gren pro Filiale"}),a.jsx("input",{type:"number",min:1,max:10,value:x.minSizesPerStore,onChange:S=>k({minSizesPerStore:Number(S.target.value)}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Reparatur-Modus"}),a.jsxs("select",{value:x.repairMode,onChange:S=>k({repairMode:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Strict",children:"Strict (Ablehnen bei Verletzung)"}),a.jsx("option",{value:"Best Effort",children:"Best Effort (Bestmglich reparieren)"})]})]})]})]})]})]})}),a.jsx("div",{className:"overflow-y-auto border-l",style:{width:"25%",minWidth:"300px",backgroundColor:"var(--surface-subtle)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Vergleich"}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block",color:"var(--text-muted)"},children:"Baseline-Variante"}),a.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Standard HW 2025"}),a.jsx("option",{children:"SW 2025 - Baseline"})]})]}),a.jsx("div",{className:"mt-4 space-y-2",children:[{label:"Supply",value:"85.6%",delta:-6.9,baseline:"92.5%"},{label:"Forecast",value:"95.2%",delta:6.9,baseline:"88.3%"},{label:"Capacity",value:"82.4%",delta:1.2,baseline:"81.2%"}].map(S=>a.jsxs("div",{className:"p-2 rounded",style:{backgroundColor:"var(--surface-page)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:S.label}),a.jsxs("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:S.delta>0?"var(--status-success)":"var(--status-danger)"},children:[S.delta>0?"+":"",S.delta,"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)"},children:S.value}),a.jsxs("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:["vs ",S.baseline]})]})]},S.label))})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Validierung"}),a.jsx("div",{className:"space-y-2",children:[{label:"Empfnger gltig",status:!0},{label:"Liefertermine gltig",status:!0},{label:"Kapazitts-Snapshot vorhanden",status:!0},{label:"Parameter vollstndig",status:!0},{label:"Keine blockierenden Ausnahmen",status:!1}].map((S,N)=>a.jsxs("div",{className:"flex items-center gap-2",children:[S.status?a.jsx(dn,{size:16,style:{color:"var(--status-success)"}}):a.jsx(Ft,{size:16,style:{color:"var(--status-warning)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:S.status?"var(--text-primary)":"var(--status-warning)"},children:S.label})]},N))}),a.jsx("button",{className:"w-full mt-4 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Validieren"})]}),f.status==="Validated"&&a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Freigabe"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block",color:"var(--text-muted)"},children:"Kommentar (Pflichtfeld)"}),a.jsx("textarea",{placeholder:"Freigabekommentar...",rows:3,className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)",resize:"vertical"}})]}),a.jsx("button",{className:"w-full px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Variante freigeben"})]})]}),f.status==="Released"&&a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Allokations-Run"}),a.jsxs("button",{onClick:()=>r?.(f.id),className:"w-full px-4 py-2 rounded-lg flex items-center justify-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(CE,{size:18}),"Zu Allokations-Run bertragen"]})]})]})})]})}const Ir=[{id:"1",store:"Zrich HB",cluster:"Urban Premium",product:"Running Shoes Pro",productGroup:"Shoes",demand:150,allocated:127,forecast:120,spaceDemand:52.5,spaceAvailable:70,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"2",store:"Basel SBB",cluster:"Urban Standard",product:"Running Shoes Pro",productGroup:"Shoes",demand:120,allocated:102,forecast:95,spaceDemand:42,spaceAvailable:50,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"3",store:"Genf",cluster:"Urban Premium",product:"Running Shoes Pro",productGroup:"Shoes",demand:165,allocated:140,forecast:135,spaceDemand:57.8,spaceAvailable:80,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"4",store:"Bern Bahnhof",cluster:"Regional",product:"Running Shoes Pro",productGroup:"Shoes",demand:85,allocated:48,forecast:70,spaceDemand:35,spaceAvailable:25,inFallback:!0,rationingApplied:!0,minFillMet:!1,exception:"Capacity Limit"},{id:"5",store:"Luzern",cluster:"Regional",product:"Running Shoes Pro",productGroup:"Shoes",demand:95,allocated:81,forecast:80,spaceDemand:33.3,spaceAvailable:45,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"6",store:"Zrich HB",cluster:"Urban Premium",product:"Winter Jacket",productGroup:"Apparel",demand:200,allocated:170,forecast:165,spaceDemand:85,spaceAvailable:95,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"7",store:"Basel SBB",cluster:"Urban Standard",product:"Winter Jacket",productGroup:"Apparel",demand:160,allocated:136,forecast:130,spaceDemand:68,spaceAvailable:75,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"8",store:"Genf",cluster:"Urban Premium",product:"Winter Jacket",productGroup:"Apparel",demand:220,allocated:187,forecast:180,spaceDemand:93.5,spaceAvailable:105,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"9",store:"Bern Bahnhof",cluster:"Regional",product:"Winter Jacket",productGroup:"Apparel",demand:110,allocated:65,forecast:90,spaceDemand:55,spaceAvailable:40,inFallback:!0,rationingApplied:!0,minFillMet:!1,exception:"Capacity Limit"},{id:"10",store:"Luzern",cluster:"Regional",product:"Winter Jacket",productGroup:"Apparel",demand:125,allocated:106,forecast:100,spaceDemand:50,spaceAvailable:60,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"11",store:"St. Gallen",cluster:"Regional",product:"Hiking Boots",productGroup:"Shoes",demand:75,allocated:42,forecast:60,spaceDemand:31.5,spaceAvailable:22,inFallback:!0,rationingApplied:!0,minFillMet:!1,exception:"Capacity Limit"},{id:"12",store:"Lausanne",cluster:"Urban Standard",product:"Hiking Boots",productGroup:"Shoes",demand:105,allocated:89,forecast:85,spaceDemand:42,spaceAvailable:55,inFallback:!1,rationingApplied:!0,minFillMet:!0}];function noe({variantName:e,onBack:t,onSaveVariant:r,onNavigateToExplainability:n}){const[i,o]=z.useState("completed"),[l,u]=z.useState("overview"),[d,f]=z.useState(""),[v,h]=z.useState(""),m=Ir.reduce((E,D)=>E+D.demand,0),b=Ir.reduce((E,D)=>E+D.allocated,0),w=Ir.reduce((E,D)=>E+D.forecast,0),x=b/m*100,y=b/w*100,j=Ir.filter(E=>E.inFallback).length,k=Ir.filter(E=>E.minFillMet).length/Ir.length*100,S=Ir.filter(E=>E.exception).length,N=Object.entries(Ir.reduce((E,D)=>(E[D.cluster]||(E[D.cluster]={demand:0,allocated:0,forecast:0}),E[D.cluster].demand+=D.demand,E[D.cluster].allocated+=D.allocated,E[D.cluster].forecast+=D.forecast,E),{})).map(([E,D])=>({cluster:E,demand:D.demand,allocated:D.allocated,forecast:D.forecast,coverage:D.allocated/D.demand*100})),A=Object.entries(Ir.reduce((E,D)=>(E[D.productGroup]||(E[D.productGroup]={demand:0,allocated:0}),E[D.productGroup].demand+=D.demand,E[D.productGroup].allocated+=D.allocated,E),{})).map(([E,D])=>({productGroup:E,demand:D.demand,allocated:D.allocated,coverage:D.allocated/D.demand*100})),O=Ir.map(E=>({spaceDemand:E.spaceDemand,spaceAvailable:E.spaceAvailable,allocated:E.allocated,store:E.store,inFallback:E.inFallback})),_=Ir.filter(E=>!(d&&E.cluster!==d||v&&E.productGroup!==v)),T=[{key:"store",label:"Filiale",sortable:!0},{key:"cluster",label:"Cluster",sortable:!0},{key:"product",label:"Produkt",sortable:!0},{key:"productGroup",label:"Produktgruppe",sortable:!0},{key:"demand",label:"Bedarf",align:"right",sortable:!0,render:E=>E.toLocaleString("de-CH")},{key:"allocated",label:"Allokiert",align:"right",sortable:!0,render:(E,D)=>{const I=E/D.demand*100;return a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsx("span",{children:E.toLocaleString("de-CH")}),a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:I>=90?"var(--surface-success-subtle)":I>=75?"var(--surface-warning-subtle)":"var(--surface-danger-subtle)",color:I>=90?"var(--status-success)":I>=75?"var(--status-warning)":"var(--status-danger)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[I.toFixed(0),"%"]})]})}},{key:"forecast",label:"Prognose",align:"right",sortable:!0,render:E=>E.toLocaleString("de-CH")},{key:"spaceDemand",label:"Raumbedarf",align:"right",sortable:!0,render:E=>`${E.toFixed(1)} m`},{key:"spaceAvailable",label:"Kapazitt",align:"right",sortable:!0,render:(E,D)=>{const I=D.spaceDemand/E*100;return a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsxs("span",{children:[E.toFixed(1)," m"]}),I>100&&a.jsx(Ft,{size:16,style:{color:"var(--status-danger)"}})]})}},{key:"inFallback",label:"Status",render:(E,D)=>a.jsxs("div",{className:"flex flex-wrap gap-1",children:[E&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Fallback"}),D.rationingApplied&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--status-info)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Rationiert"}),!D.minFillMet&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-danger-subtle)",color:"var(--status-danger)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"MinFill "}),D.exception&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-danger-subtle)",color:"var(--status-danger)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:D.exception})]})}];return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-tint",children:a.jsx(uE,{size:20})}),a.jsxs("div",{children:[a.jsxs("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"4px"},children:["Simulationsanalyse: ",e]}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Analysiere die Allokationsergebnisse und speichere die Variante"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[i==="completed"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:n,className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(gE,{size:16}),"Explainability"]}),a.jsxs("button",{className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(Ta,{size:16}),"Export"]}),a.jsxs("button",{onClick:r,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(Su,{size:16}),"Variante speichern"]})]}),i==="idle"&&a.jsxs("button",{onClick:()=>o("running"),className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(gf,{size:16}),"Simulation starten"]})]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[i==="completed"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6 p-4 rounded-lg border flex items-start gap-3",style:{backgroundColor:S>0?"var(--surface-warning-subtle)":"var(--surface-success-subtle)",borderColor:S>0?"var(--status-warning)":"var(--status-success)"},children:[S>0?a.jsx(Ft,{size:24,style:{color:"var(--status-warning)",flexShrink:0}}):a.jsx(dn,{size:24,style:{color:"var(--status-success)",flexShrink:0}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"4px",color:S>0?"var(--status-warning)":"var(--status-success)"},children:S>0?"Simulation mit Warnungen abgeschlossen":"Simulation erfolgreich abgeschlossen"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:S>0?`${S} Ausnahmen erkannt - Fallback in ${j} Filialen aktiv`:"Alle Allokationen erfolgreich berechnet"})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(Rt,{title:"Supply Coverage",value:x.toFixed(1),unit:"%",delta:-6.9,deltaLabel:"vs baseline",state:x>=90?"success":"warning",formula:"Coverage = (Allocated / Demand)  100%",formulaInputs:[{symbol:"Allocated",value:b,source:"Simulation"},{symbol:"Demand",value:m,source:"Bedarfsberechnung"}]}),a.jsx(Rt,{title:"Forecast Fulfillment",value:y.toFixed(1),unit:"%",delta:6.9,deltaLabel:"vs baseline",state:y>=90?"success":"warning",formula:"FF = (Allocated / Forecast)  100%",formulaInputs:[{symbol:"Allocated",value:b,source:"Simulation"},{symbol:"Forecast",value:w,source:"Prognosesystem"}]}),a.jsx(Rt,{title:"Stores in Fallback",value:j,state:j>0?"warning":"success"}),a.jsx(Rt,{title:"MinFill Fulfillment",value:k.toFixed(1),unit:"%",state:k>=90?"success":"warning",formula:"MF = (Stores_MinFill_Met / Total_Stores)  100%",formulaInputs:[{symbol:"Stores_MinFill_Met",value:Ir.filter(E=>E.minFillMet).length,source:"Simulation"},{symbol:"Total_Stores",value:Ir.length,source:"Simulation"}]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(Rt,{title:"Exception Count",value:S,state:S<5?"success":"warning"}),a.jsx(Rt,{title:"Total Demand",value:m.toLocaleString("de-CH"),unit:"Einheiten",state:"neutral"}),a.jsx(Rt,{title:"Total Allocated",value:b.toLocaleString("de-CH"),unit:"Einheiten",state:"neutral"}),a.jsx(Rt,{title:"Undercoverage",value:(m-b).toLocaleString("de-CH"),unit:"Einheiten",state:"warning"})]}),a.jsxs("div",{className:"border rounded-lg mb-6",style:{borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"flex border-b",style:{borderColor:"var(--border-default)"},children:[{id:"overview",label:"bersicht"},{id:"details",label:"Details"},{id:"exceptions",label:`Ausnahmen (${S})`},{id:"fallback",label:`Fallback (${j})`}].map(E=>a.jsx("button",{onClick:()=>u(E.id),className:"px-4 py-3 border-b-2",style:{borderColor:l===E.id?"var(--brand-primary)":"transparent",color:l===E.id?"var(--brand-primary)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:l===E.id?"var(--font-weight-semibold)":"var(--font-weight-normal)"},children:E.label},E.id))}),a.jsxs("div",{className:"p-6",children:[l==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Coverage nach Cluster"}),a.jsx("div",{style:{width:"100%",height:"300px",minHeight:"300px"},children:a.jsx(Yt,{width:"100%",height:"100%",minHeight:300,children:a.jsxs(Pr,{data:N,children:[a.jsx(bt,{dataKey:"cluster",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(Re,{dataKey:"demand",fill:"var(--text-muted)",name:"Bedarf",opacity:.4}),a.jsx(Re,{dataKey:"allocated",fill:"var(--brand-primary)",name:"Allokiert"}),a.jsx(Re,{dataKey:"forecast",fill:"var(--brand-accent)",name:"Prognose",opacity:.6})]})})})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Coverage nach Produktgruppe"}),a.jsx("div",{style:{width:"100%",height:"300px",minHeight:"300px"},children:a.jsx(Yt,{width:"100%",height:"100%",minHeight:300,children:a.jsxs(Pr,{data:A,layout:"vertical",children:[a.jsx(bt,{type:"number",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{dataKey:"productGroup",type:"category",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(Re,{dataKey:"demand",fill:"var(--text-muted)",name:"Bedarf",opacity:.4}),a.jsx(Re,{dataKey:"allocated",fill:"var(--brand-primary)",name:"Allokiert"})]})})})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Kapazittsanalyse (Raumbedarf vs. Verfgbare Kapazitt)"}),a.jsx("div",{style:{width:"100%",height:"350px",minHeight:"350px"},children:a.jsx(Yt,{width:"100%",height:"100%",minHeight:350,children:a.jsxs(aI,{children:[a.jsx(bt,{dataKey:"spaceDemand",name:"Raumbedarf",unit:" m",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{dataKey:"spaceAvailable",name:"Verfgbare Kapazitt",unit:" m",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(bl,{dataKey:"allocated",range:[50,400]}),a.jsx(st,{cursor:{strokeDasharray:"3 3"}}),a.jsx(zt,{}),a.jsx(_i,{name:"Ohne Fallback",data:O.filter(E=>!E.inFallback),fill:"var(--brand-primary)"}),a.jsx(_i,{name:"Mit Fallback",data:O.filter(E=>E.inFallback),fill:"var(--status-warning)"})]})})}),a.jsxs("div",{className:"mt-3 p-3 rounded-lg flex items-start gap-2",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx(Qt,{size:16,style:{color:"var(--status-info)",flexShrink:0,marginTop:"2px"}}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:"Punkte oberhalb der Diagonalen haben ausreichend Kapazitt. Punkte unterhalb der Diagonalen sind kapazittslimitiert und zeigen Fallback-Kandidaten."})]})]})]}),l==="details"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex gap-3 mb-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("select",{value:d,onChange:E=>f(E.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Cluster"}),a.jsx("option",{value:"Urban Premium",children:"Urban Premium"}),a.jsx("option",{value:"Urban Standard",children:"Urban Standard"}),a.jsx("option",{value:"Regional",children:"Regional"})]})}),a.jsx("div",{className:"flex-1",children:a.jsxs("select",{value:v,onChange:E=>h(E.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Produktgruppen"}),a.jsx("option",{value:"Shoes",children:"Shoes"}),a.jsx("option",{value:"Apparel",children:"Apparel"}),a.jsx("option",{value:"Accessories",children:"Accessories"})]})})]}),a.jsx(Nr,{columns:T,data:_,density:"comfortable"})]}),l==="exceptions"&&a.jsx("div",{children:a.jsx(Nr,{columns:T,data:Ir.filter(E=>E.exception),density:"comfortable"})}),l==="fallback"&&a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-warning)",marginBottom:"var(--space-2)"},children:"Fallback-Strategie: Core/NOS Substitution"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:["In ",j," Filialen konnte die geplante Produktgruppe aufgrund von Kapazittsengpssen nicht vollstndig allokiert werden. Stattdessen wurden effizientere Core/NOS-Artikel als Ersatz zugeteilt."]}),a.jsxs("div",{className:"mt-3 p-3 rounded",style:{backgroundColor:"var(--surface-page)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Effizienz-Verbesserung:"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-success)"},children:"+12.5%"})]})]}),a.jsx(Nr,{columns:T,data:Ir.filter(E=>E.inFallback),density:"comfortable"})]})]})]})]}),i==="running"&&a.jsx("div",{className:"flex items-center justify-center",style:{minHeight:"400px"},children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 rounded-full animate-spin mx-auto mb-4",style:{borderColor:"var(--border-default)",borderTopColor:"var(--brand-primary)"}}),a.jsx("div",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"8px"},children:"Simulation luft..."}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Berechne Allokation fr 245 Filialen"})]})}),i==="idle"&&a.jsx("div",{className:"flex items-center justify-center",style:{minHeight:"400px"},children:a.jsxs("div",{className:"text-center",children:[a.jsx(gf,{size:48,style:{color:"var(--brand-primary)",margin:"0 auto 16px"}}),a.jsx("div",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"8px"},children:"Bereit zur Simulation"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginBottom:"24px"},children:'Klicken Sie auf "Simulation starten" um die Allokation zu berechnen'}),a.jsxs("button",{onClick:()=>o("running"),className:"px-6 py-3 rounded-lg flex items-center gap-2 mx-auto",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(gf,{size:20}),"Simulation starten"]})]})})]})]})}const qb=[{id:"sku-1",sku:"RUN-PRO-001",articleColor:"Running Shoes Pro - Black",productGroup:"Shoes",season:"NOS",priorityScore:92.5,forecastDemand:1450,replenishmentNeed:1280,dcSupply:1100,allocated:1085,shortage:195,capacityLimitedStores:3,stockoutRiskStores:8,substitutionUsed:0,packSizeRepairs:12,sizeCurveRepairs:5,status:"shortage",packSize:6,spacePerUnit:.35},{id:"sku-2",sku:"JAC-WIN-045",articleColor:"Winter Jacket - Navy",productGroup:"Apparel",season:"HW 2025",priorityScore:88.3,forecastDemand:2100,replenishmentNeed:1850,dcSupply:1950,allocated:1835,shortage:15,capacityLimitedStores:5,stockoutRiskStores:2,substitutionUsed:0,packSizeRepairs:8,sizeCurveRepairs:3,status:"ok",packSize:4,spacePerUnit:.5},{id:"sku-3",sku:"HIK-BOO-023",articleColor:"Hiking Boots - Brown",productGroup:"Shoes",season:"NOS",priorityScore:85.7,forecastDemand:980,replenishmentNeed:820,dcSupply:550,allocated:545,shortage:275,capacityLimitedStores:2,stockoutRiskStores:15,substitutionUsed:6,packSizeRepairs:10,sizeCurveRepairs:8,status:"substitution_active",packSize:6,spacePerUnit:.42},{id:"sku-4",sku:"TRA-PAN-067",articleColor:"Training Pants - Black",productGroup:"Apparel",season:"NOS",priorityScore:91.2,forecastDemand:1680,replenishmentNeed:1420,dcSupply:1450,allocated:1410,shortage:10,capacityLimitedStores:1,stockoutRiskStores:3,substitutionUsed:0,packSizeRepairs:6,sizeCurveRepairs:2,status:"ok",packSize:8,spacePerUnit:.28},{id:"sku-5",sku:"CAP-BAS-012",articleColor:"Baseball Cap - Various",productGroup:"Accessories",season:"NOS",priorityScore:78.4,forecastDemand:1200,replenishmentNeed:1050,dcSupply:1100,allocated:1040,shortage:10,capacityLimitedStores:0,stockoutRiskStores:1,substitutionUsed:0,packSizeRepairs:4,sizeCurveRepairs:0,status:"ok",packSize:12,spacePerUnit:.15},{id:"sku-6",sku:"SOC-SHI-089",articleColor:"Soccer Shirt - Red",productGroup:"Apparel",season:"SW 2025",priorityScore:82.6,forecastDemand:1340,replenishmentNeed:1180,dcSupply:980,allocated:965,shortage:215,capacityLimitedStores:4,stockoutRiskStores:11,substitutionUsed:3,packSizeRepairs:7,sizeCurveRepairs:6,status:"shortage",packSize:6,spacePerUnit:.32}],hf=[{id:"alloc-1",storeId:"S001",storeName:"Zrich HB",cluster:"Urban Premium",sku:"RUN-PRO-001",listingAllowed:!0,forecastSales:85,avgDailyForecast:3.04,onHand:12,inbound:6,targetServiceLevel:95,presentationMin:6,replenishmentNeed:67,capacityFree:25.5,capacityMaxUnits:72,allocationProposed:67,allocationFinal:66,coverage:98.5,expectedDOS:27.6,limitingFactor:"pack",substitutionUsed:!1,exceptionsCount:1,sizes:[{size:"38",targetShare:.1,onHand:1,allocated:6,repairDelta:0},{size:"39",targetShare:.15,onHand:2,allocated:10,repairDelta:0},{size:"40",targetShare:.2,onHand:3,allocated:13,repairDelta:1},{size:"41",targetShare:.25,onHand:3,allocated:17,repairDelta:1},{size:"42",targetShare:.2,onHand:2,allocated:13,repairDelta:0},{size:"43",targetShare:.1,onHand:1,allocated:7,repairDelta:1}]},{id:"alloc-2",storeId:"S002",storeName:"Basel SBB",cluster:"Urban Standard",sku:"RUN-PRO-001",listingAllowed:!0,forecastSales:68,avgDailyForecast:2.43,onHand:8,inbound:0,targetServiceLevel:92,presentationMin:5,replenishmentNeed:60,capacityFree:18.2,capacityMaxUnits:52,allocationProposed:52,allocationFinal:54,coverage:90,expectedDOS:25.5,limitingFactor:"capacity",substitutionUsed:!1,exceptionsCount:1,sizes:[{size:"38",targetShare:.1,onHand:1,allocated:5,repairDelta:0},{size:"39",targetShare:.15,onHand:1,allocated:8,repairDelta:0},{size:"40",targetShare:.2,onHand:2,allocated:11,repairDelta:0},{size:"41",targetShare:.25,onHand:2,allocated:14,repairDelta:1},{size:"42",targetShare:.2,onHand:1,allocated:11,repairDelta:0},{size:"43",targetShare:.1,onHand:1,allocated:5,repairDelta:0}]},{id:"alloc-3",storeId:"S003",storeName:"Genf",cluster:"Urban Premium",sku:"RUN-PRO-001",listingAllowed:!0,forecastSales:92,avgDailyForecast:3.29,onHand:15,inbound:12,targetServiceLevel:95,presentationMin:6,replenishmentNeed:65,capacityFree:28,capacityMaxUnits:80,allocationProposed:65,allocationFinal:66,coverage:101.5,expectedDOS:28.3,limitingFactor:"pack",substitutionUsed:!1,exceptionsCount:0,sizes:[{size:"38",targetShare:.1,onHand:2,allocated:7,repairDelta:1},{size:"39",targetShare:.15,onHand:2,allocated:10,repairDelta:0},{size:"40",targetShare:.2,onHand:3,allocated:13,repairDelta:0},{size:"41",targetShare:.25,onHand:4,allocated:17,repairDelta:1},{size:"42",targetShare:.2,onHand:2,allocated:13,repairDelta:0},{size:"43",targetShare:.1,onHand:2,allocated:6,repairDelta:0}]},{id:"alloc-4",storeId:"S004",storeName:"Bern Bahnhof",cluster:"Regional",sku:"RUN-PRO-001",listingAllowed:!0,forecastSales:48,avgDailyForecast:1.71,onHand:3,inbound:0,targetServiceLevel:88,presentationMin:4,replenishmentNeed:45,capacityFree:10.5,capacityMaxUnits:30,allocationProposed:30,allocationFinal:30,coverage:66.7,expectedDOS:19.3,limitingFactor:"capacity",substitutionUsed:!1,exceptionsCount:2,sizes:[{size:"38",targetShare:.1,onHand:0,allocated:3,repairDelta:0},{size:"39",targetShare:.15,onHand:1,allocated:5,repairDelta:1},{size:"40",targetShare:.2,onHand:1,allocated:6,repairDelta:0},{size:"41",targetShare:.25,onHand:1,allocated:8,repairDelta:1},{size:"42",targetShare:.2,onHand:0,allocated:6,repairDelta:0},{size:"43",targetShare:.1,onHand:0,allocated:2,repairDelta:-1}]},{id:"alloc-5",storeId:"S005",storeName:"Luzern",cluster:"Regional",sku:"RUN-PRO-001",listingAllowed:!0,forecastSales:56,avgDailyForecast:2,onHand:5,inbound:6,targetServiceLevel:90,presentationMin:4,replenishmentNeed:45,capacityFree:15.8,capacityMaxUnits:45,allocationProposed:45,allocationFinal:42,coverage:93.3,expectedDOS:26.5,limitingFactor:"pack",substitutionUsed:!1,exceptionsCount:0,sizes:[{size:"38",targetShare:.1,onHand:1,allocated:4,repairDelta:0},{size:"39",targetShare:.15,onHand:1,allocated:6,repairDelta:0},{size:"40",targetShare:.2,onHand:1,allocated:8,repairDelta:0},{size:"41",targetShare:.25,onHand:1,allocated:11,repairDelta:1},{size:"42",targetShare:.2,onHand:1,allocated:8,repairDelta:0},{size:"43",targetShare:.1,onHand:0,allocated:5,repairDelta:1}]},{id:"alloc-6",storeId:"S006",storeName:"St. Gallen",cluster:"Regional",sku:"HIK-BOO-023",listingAllowed:!0,forecastSales:42,avgDailyForecast:1.5,onHand:2,inbound:0,targetServiceLevel:85,presentationMin:3,replenishmentNeed:37,capacityFree:8.4,capacityMaxUnits:20,allocationProposed:20,allocationFinal:18,coverage:48.6,expectedDOS:13.3,limitingFactor:"supply",substitutionUsed:!0,exceptionsCount:2,sizes:[{size:"39",targetShare:.12,onHand:0,allocated:2,repairDelta:0},{size:"40",targetShare:.18,onHand:1,allocated:3,repairDelta:0},{size:"41",targetShare:.25,onHand:1,allocated:5,repairDelta:1},{size:"42",targetShare:.22,onHand:0,allocated:4,repairDelta:0},{size:"43",targetShare:.15,onHand:0,allocated:3,repairDelta:1},{size:"44",targetShare:.08,onHand:0,allocated:1,repairDelta:0}]}],aoe={serviceLevelFulfillment:87.3,stockoutRiskStores:12,capacityUtilizationImpact:78.5,supplyCoverageDC:84.8,substitutionActivated:6,repairsApplied:{pack:47,size:24},totalAllocated:6880,horizon:{from:"2025-01-20",to:"2025-02-16",weeks:4}};function ioe({variantName:e,onBack:t,onSaveVariant:r,onNavigateToExplainability:n}){const[i,o]=z.useState("completed"),[l,u]=z.useState("overview"),[d,f]=z.useState(""),v=aoe,h=qb.map(y=>({sku:y.articleColor.split(" - ")[0],need:y.replenishmentNeed,allocated:y.allocated,coverage:y.allocated/y.replenishmentNeed*100})),m=hf.map(y=>({expectedDOS:y.expectedDOS,coverage:y.coverage,allocated:y.allocationFinal,store:y.storeName,stockoutRisk:y.expectedDOS<14})),b=hf.filter(y=>!(d&&y.sku!==d)),w=[{key:"storeName",label:"Filiale",sortable:!0},{key:"cluster",label:"Cluster",sortable:!0},{key:"forecastSales",label:"Forecast (4W)",align:"right",sortable:!0,render:y=>y.toLocaleString("de-CH")},{key:"avgDailyForecast",label:" Daily",align:"right",sortable:!0,render:y=>y.toFixed(2)},{key:"onHand",label:"On-Hand",align:"right",sortable:!0},{key:"replenishmentNeed",label:"Need",align:"right",sortable:!0},{key:"allocationFinal",label:"Allocated",align:"right",sortable:!0,render:(y,j)=>a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsx("span",{children:y}),a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:j.coverage>=90?"var(--surface-success-subtle)":j.coverage>=75?"var(--surface-warning-subtle)":"var(--surface-danger-subtle)",color:j.coverage>=90?"var(--status-success)":j.coverage>=75?"var(--status-warning)":"var(--status-danger)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[j.coverage.toFixed(0),"%"]})]})},{key:"expectedDOS",label:"Expected DOS",align:"right",sortable:!0,render:y=>{const j=y;return a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsxs("span",{children:[j.toFixed(1)," Tage"]}),j<14&&a.jsx(Ft,{size:16,style:{color:"var(--status-danger)"}})]})}},{key:"limitingFactor",label:"Limit",render:y=>y?a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:y}):null},{key:"substitutionUsed",label:"Status",render:(y,j)=>a.jsxs("div",{className:"flex flex-wrap gap-1",children:[y&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Substitution"}),j.expectedDOS<14&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-danger-subtle)",color:"var(--status-danger)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Stockout Risk"})]})}],x=[{key:"articleColor",label:"Artikel",sortable:!0},{key:"productGroup",label:"Produktgruppe",sortable:!0},{key:"priorityScore",label:"Priority Score",align:"right",sortable:!0,render:y=>y.toFixed(1)},{key:"forecastDemand",label:"Forecast Demand",align:"right",sortable:!0,render:y=>y.toLocaleString("de-CH")},{key:"replenishmentNeed",label:"Need",align:"right",sortable:!0,render:y=>y.toLocaleString("de-CH")},{key:"dcSupply",label:"DC Supply",align:"right",sortable:!0,render:y=>y.toLocaleString("de-CH")},{key:"allocated",label:"Allocated",align:"right",sortable:!0,render:(y,j)=>{const k=y/j.replenishmentNeed*100;return a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsx("span",{children:y.toLocaleString("de-CH")}),a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:k>=90?"var(--surface-success-subtle)":k>=75?"var(--surface-warning-subtle)":"var(--surface-danger-subtle)",color:k>=90?"var(--status-success)":k>=75?"var(--status-warning)":"var(--status-danger)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[k.toFixed(0),"%"]})]})}},{key:"shortage",label:"Shortage",align:"right",sortable:!0,render:y=>y>0?a.jsx("span",{style:{color:"var(--status-danger)",fontWeight:"var(--font-weight-semibold)"},children:y.toLocaleString("de-CH")}):"-"},{key:"stockoutRiskStores",label:"Stockout Risk",align:"right",sortable:!0,render:y=>y>0?a.jsx("span",{style:{color:"var(--status-danger)",fontWeight:"var(--font-weight-semibold)"},children:y}):"-"},{key:"status",label:"Status",render:y=>{const k={ok:{bg:"var(--surface-success-subtle)",color:"var(--status-success)",label:"OK"},shortage:{bg:"var(--surface-danger-subtle)",color:"var(--status-danger)",label:"Shortage"},capacity_limited:{bg:"var(--surface-warning-subtle)",color:"var(--status-warning)",label:"Cap Limited"},substitution_active:{bg:"var(--surface-warning-subtle)",color:"var(--status-warning)",label:"Substitution"},repaired:{bg:"var(--surface-info-subtle)",color:"var(--status-info)",label:"Repaired"}}[y];return a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:k.bg,color:k.color,fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:k.label})}}];return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-tint",children:a.jsx(uE,{size:20})}),a.jsxs("div",{children:[a.jsxs("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"4px"},children:["Replenishment Simulation: ",e]}),a.jsxs("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:["Horizon: ",v.horizon.weeks," Wochen (",v.horizon.from," - ",v.horizon.to,")"]})]})]}),a.jsx("div",{className:"flex items-center gap-3",children:i==="completed"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:n,className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(gE,{size:16}),"Explainability"]}),a.jsxs("button",{className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(Ta,{size:16}),"Export"]}),a.jsxs("button",{onClick:r,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(Su,{size:16}),"Variante speichern"]})]})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i==="completed"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6 p-4 rounded-lg border flex items-start gap-3",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},children:[a.jsx(Ft,{size:24,style:{color:"var(--status-warning)",flexShrink:0}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"4px",color:"var(--status-warning)"},children:"Simulation mit Warnungen abgeschlossen"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:`${v.stockoutRiskStores} Filialen mit Stockout-Risiko - Substitution in ${v.substitutionActivated} Filialen aktiv`})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(Rt,{title:"Service Level Fulfillment",value:v.serviceLevelFulfillment,unit:"%",delta:-7.7,deltaLabel:"vs target 95%",state:"warning",formula:"SLF =  min(1, Coverage_{i,s})  Weight_{i,s} /  Weight_{i,s}",formulaInputs:[{symbol:"Coverage_{i,s}",value:.873,source:"Allokation",description:"Allocated / Need"},{symbol:"Weight_{i,s}",value:12500,source:"Umsatzdaten",description:"Gewichtungsfaktor"}]}),a.jsx(Rt,{title:"Stockout Risk Stores",value:v.stockoutRiskStores,delta:-3,deltaLabel:"vs baseline",state:"warning",formula:"StockoutRisk = stores where DOS < ThresholdDays",formulaInputs:[{symbol:"DOS_{i,s}",value:6.5,source:"DOS-Berechnung",description:"(OnHand + Allocated) / AvgDaily"},{symbol:"ThresholdDays",value:14,source:"Parameter",description:"Kritische Schwelle"}]}),a.jsx(Rt,{title:"Capacity Utilization Impact",value:v.capacityUtilizationImpact,unit:"%",delta:2.1,deltaLabel:"vs current",state:"success"}),a.jsx(Rt,{title:"Supply Coverage DC",value:v.supplyCoverageDC,unit:"%",delta:-6.2,deltaLabel:"vs need",state:"warning"})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(Rt,{title:"Substitution Activated",value:v.substitutionActivated,state:"warning"}),a.jsx(Rt,{title:"Pack Repairs",value:v.repairsApplied.pack,state:"neutral"}),a.jsx(Rt,{title:"Size Curve Repairs",value:v.repairsApplied.size,state:"neutral"}),a.jsx(Rt,{title:"Total Allocated",value:v.totalAllocated.toLocaleString("de-CH"),unit:"Einheiten",state:"neutral"})]}),a.jsxs("div",{className:"border rounded-lg mb-6",style:{borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"flex border-b",style:{borderColor:"var(--border-default)"},children:[{id:"overview",label:"bersicht"},{id:"details",label:"Store Details"},{id:"stockout",label:`Stockout Risk (${v.stockoutRiskStores})`},{id:"substitution",label:`Substitution (${v.substitutionActivated})`}].map(y=>a.jsx("button",{onClick:()=>u(y.id),className:"px-4 py-3 border-b-2",style:{borderColor:l===y.id?"var(--brand-primary)":"transparent",color:l===y.id?"var(--brand-primary)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:l===y.id?"var(--font-weight-semibold)":"var(--font-weight-normal)"},children:y.label},y.id))}),a.jsxs("div",{className:"p-6",children:[l==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Coverage nach SKU"}),a.jsx("div",{style:{width:"100%",height:"300px",minHeight:"300px"},children:a.jsx(Yt,{width:"100%",height:"100%",minHeight:300,children:a.jsxs(Pr,{data:h,children:[a.jsx(bt,{dataKey:"sku",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(Re,{dataKey:"need",fill:"var(--text-muted)",name:"Need",opacity:.4}),a.jsx(Re,{dataKey:"allocated",fill:"var(--brand-primary)",name:"Allocated"})]})})})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Days of Supply vs. Coverage"}),a.jsx("div",{style:{width:"100%",height:"350px",minHeight:"350px"},children:a.jsx(Yt,{width:"100%",height:"100%",minHeight:350,children:a.jsxs(aI,{children:[a.jsx(bt,{dataKey:"expectedDOS",name:"Expected DOS",unit:" Tage",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{dataKey:"coverage",name:"Coverage",unit:"%",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(bl,{dataKey:"allocated",range:[50,400]}),a.jsx(st,{cursor:{strokeDasharray:"3 3"}}),a.jsx(zt,{}),a.jsx(_i,{name:"Ohne Stockout Risk",data:m.filter(y=>!y.stockoutRisk),fill:"var(--brand-primary)"}),a.jsx(_i,{name:"Mit Stockout Risk",data:m.filter(y=>y.stockoutRisk),fill:"var(--status-danger)"})]})})}),a.jsxs("div",{className:"mt-3 p-3 rounded-lg flex items-start gap-2",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx(Qt,{size:16,style:{color:"var(--status-info)",flexShrink:0,marginTop:"2px"}}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:"Punkte mit DOS < 14 Tage (rote Punkte) haben hohes Stockout-Risiko innerhalb der nchsten 2 Wochen."})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"SKU Overview"}),a.jsx(Nr,{columns:x,data:qb,density:"comfortable"})]})]}),l==="details"&&a.jsxs("div",{children:[a.jsx("div",{className:"mb-4",children:a.jsxs("select",{value:d,onChange:y=>f(y.target.value),className:"px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle SKUs"}),qb.map(y=>a.jsx("option",{value:y.sku,children:y.articleColor},y.id))]})}),a.jsx(Nr,{columns:w,data:b,density:"comfortable"})]}),l==="stockout"&&a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-danger-subtle)",borderColor:"var(--status-danger)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-danger)",marginBottom:"var(--space-2)"},children:"Stockout Risk Analysis"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:[v.stockoutRiskStores," Filialen haben einen erwarteten Days of Supply (DOS) unter 14 Tagen. Diese Filialen knnten innerhalb der nchsten 2 Wochen leerlaufen."]})]}),a.jsx(Nr,{columns:w,data:hf.filter(y=>y.expectedDOS<14),density:"comfortable"})]}),l==="substitution"&&a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-warning)",marginBottom:"var(--space-2)"},children:"Substitution Strategy: Within Product Group"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:["In ",v.substitutionActivated," Filialen wurde Substitution aktiviert aufgrund von kritischem Stockout-Risiko oder MinFill-Unterschreitung. Ersatz-SKUs wurden nach Efficiency (Forecast/SpaceDemand) ausgewhlt."]}),a.jsxs("div",{className:"mt-3 p-3 rounded",style:{backgroundColor:"var(--surface-page)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Effizienz-Verbesserung:"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-success)"},children:"+8.5%"})]})]}),a.jsx(Nr,{columns:w,data:hf.filter(y=>y.substitutionUsed),density:"comfortable"})]})]})]})]})})]})}const ooe=[{id:"step-1",step:1,title:"Scope & Eligibility",status:"OK",summary:"Zeitfenster und SKU-Scope definiert",what:"Der Scope des Replenishment-Laufs wurde festgelegt: Zeitfenster, betroffene SKUs, Filialen und Produktgruppen.",inputs:[{label:"Zeitfenster",value:"4 Wochen (20.01-16.02.2025)",source:"Variantenkonfiguration"},{label:"SKU-Anzahl",value:"1.247",source:"Produktstamm"},{label:"Filialscope",value:"245 Filialen",source:"Filialstamm"},{label:"Produktgruppen",value:"12 aktiv",source:"Hierarchie"}],output:"Scope: 1.247 SKUs  245 Filialen  4 Wochen",explanation:"Der Replenishment-Lauf arbeitet mit einem 4-Wochen-Horizont und umfasst alle aktiven SKUs in den definierten Produktgruppen fr alle belieferbaren Filialen."},{id:"step-2",step:2,title:"Recipient Determination",status:"OK",summary:"245 Filialen qualifiziert fr Belieferung",what:"Filialen wurden auf Basis von Listung, Transportrelationen und Liefersperren gefiltert.",inputs:[{label:"Gesamtfilialen",value:"258",source:"Filialstamm"},{label:"Listungskriterium aktiv",value:"Ja",source:"Variantenkonfiguration"},{label:"Ausgeschlossen",value:"13",source:"Filterung"}],output:"245 Filialen qualifiziert",explanation:"13 Filialen wurden ausgeschlossen: 5 wegen fehlender Listung, 4 wegen Liefersperre, 4 wegen blockierter Transportrelation."},{id:"step-3",step:3,title:"Forecast & Demand Signals",status:"OK",summary:"Absatzprognose und Recent Sales geladen",what:"Die Absatzprognose wurde fr den Horizont geladen und mit aktuellen Verkaufsdaten (Last 2 Weeks) abgeglichen.",inputs:[{label:"Prognosequelle",value:"Statistical Forecast v2.3",source:"Prognosesystem"},{label:"Prognose-Horizont",value:"4 Wochen",source:"Variantenkonfiguration"},{label:"Recent Sales Period",value:"14 Tage",source:"Systemparameter"},{label:"Gesamt Forecast Demand",value:"8.750 Einheiten",source:"Prognoseberechnung"}],formula:"ForecastDemand_{i,s} = _t ForecastSales_{i,s,t}",formulaInputs:[{symbol:"ForecastSales_{i,s,t}",value:"Variable",source:"Prognosesystem",description:"Prognose pro Tag/Woche"},{symbol:"t",value:"1-4 Wochen",source:"Zeitfenster",description:"Zeitbucket im Horizont"}],output:"Forecast fr 8.750 Einheiten ber 4 Wochen",explanation:"Die Prognose bercksichtigt saisonale Trends, aktuelle Verkaufsdaten und Lagerbestnde. Recent Sales der letzten 14 Tage wurden als Plausibilittscheck verwendet."},{id:"step-4",step:4,title:"Replenishment Need Calculation",status:"OK",summary:"Nachschubsbedarf: 7.600 Einheiten",what:"Der Nachschubsbedarf wurde berechnet als Ziellagerbestand minus aktuellem Bestand und Zulufen.",inputs:[{label:"Forecast Demand (Horizont)",value:"8.750 Einheiten",source:"Schritt 3"},{label:"Safety Stock",value:"620 Einheiten",source:"Sicherheitsbestand-Berechnung"},{label:"Presentation Min",value:"980 Einheiten",source:"Parameter"},{label:"On-Hand gesamt",value:"1.850 Einheiten",source:"Bestandssnapshot"},{label:"Inbound gesamt",value:"900 Einheiten",source:"Zulaufsdaten"}],formula:"Need_{i,s} = max(0, (ForecastDemand_{i,s} + Safety_{i,s} + Min_{i,s})  (OnHand_{i,s} + Inbound_{i,s}))",formulaInputs:[{symbol:"ForecastDemand_{i,s}",value:85,source:"Schritt 3",description:"Prognose fr Horizont"},{symbol:"Safety_{i,s}",value:8,source:"Sicherheitsbestandsberechnung",description:"z    LeadTime"},{symbol:"Min_{i,s}",value:6,source:"Prsentationsparameter",description:"Mindestprsentation"},{symbol:"OnHand_{i,s}",value:12,source:"Bestandssnapshot",description:"Aktueller Bestand"},{symbol:"Inbound_{i,s}",value:6,source:"Zulaufsdaten",description:"Zulufe im Horizont"}],output:"Replenishment Need: 7.600 Einheiten",explanation:"Der Nachschubsbedarf wurde so berechnet, dass der Ziellagerbestand (Forecast + Safety + MinPrsentation) erreicht wird, abzglich bereits vorhandenem Bestand und Zulufen. Safety Stock wurde mit Service Level 95% berechnet."},{id:"step-5",step:5,title:"Service Level Targeting",status:"WARN",summary:"Service Level Target: 95%, Erreicht: 87.3%",what:"Service Level Ziele wurden definiert und mit der erwarteten Coverage verglichen.",inputs:[{label:"Target Service Level ()",value:"95%",source:"Variantenkonfiguration"},{label:"Berechnete Coverage",value:"87.3%",source:"Allokationsberechnung"},{label:"Gewichtung",value:"Nach Umsatz",source:"Variantenkonfiguration"}],formula:"ServiceLevelFulfillment =  min(1, Coverage_{i,s})  Weight_{i,s} /  Weight_{i,s}",formulaInputs:[{symbol:"Coverage_{i,s}",value:.985,source:"Allokation",description:"Allocated / Need"},{symbol:"Weight_{i,s}",value:12500,source:"Umsatzdaten",description:"Gewichtungsfaktor (Umsatz)"}],output:"Service Level Fulfillment: 87.3%",limitingFactor:"Service Level Target von 95% nicht erreicht (Delta: -7.7%)",explanation:"Das Service Level Ziel von 95% konnte aufgrund von Supply-Engpssen nicht erreicht werden. Die erreichten 87.3% bedeuten, dass 87.3% der gewichteten Bedarfsmenge gedeckt werden kann.",warnings:["Service Level Target nicht erreicht","12 Filialen mit Stockout-Risiko","Kritische SKUs: RUN-PRO-001, HIK-BOO-023"]},{id:"step-6",step:6,title:"DC Supply Determination",status:"WARN",summary:"Verfgbarkeit DC: 7.130 Einheiten (93.8% des Bedarfs)",what:"Die verfgbare Menge im DC wurde aus Bestand, Bestellungen und Lieferungen ermittelt.",inputs:[{label:"DC On-Hand",value:"5.850 Einheiten",source:"DC Snapshot"},{label:"DC Inbound (besttigt)",value:"1.200 Einheiten",source:"Einkaufssystem"},{label:"DC Reservierungen",value:"-80 Einheiten",source:"Reservierungssystem"},{label:"Externe Quellen",value:"160 Einheiten",source:"Externe Lieferanten"}],formula:"Available_{i,DC} = OnHand_{i,DC} + Inbound_{i,DC}  Reservations_{i,DC} + External_i",formulaInputs:[{symbol:"OnHand_{i,DC}",value:5850,source:"DC Snapshot",description:"DC-Bestand"},{symbol:"Inbound_{i,DC}",value:1200,source:"Einkaufssystem",description:"Besttigte Bestellungen"},{symbol:"Reservations_{i,DC}",value:80,source:"Reservierungssystem",description:"Reservierte Mengen"},{symbol:"External_i",value:160,source:"Externe Lieferanten",description:"Externe Zulieferung"}],output:"DC Supply: 7.130 Einheiten",limitingFactor:"Supply deckt nur 93.8% des Bedarfs (Shortage: 470 Einheiten)",explanation:"Die DC-Verfgbarkeit reicht nicht aus, um den gesamten Nachschubsbedarf zu decken. Es besteht eine Unterdeckung von 470 Einheiten, die durch Rationierung verteilt werden muss.",warnings:["Supply Shortage: 470 Einheiten","Kritische SKUs mit <80% Coverage: 3","Rationierung erforderlich"]},{id:"step-7",step:7,title:"Capacity Snapshot & Space Constraints",status:"OK",summary:"Kapazittsdaten fr 245 Filialen  12 Warengruppen",what:"Die verfgbare Kapazitt wurde pro Filiale und Produktgruppe ermittelt und als Constraint hinterlegt.",inputs:[{label:"Kapazittseinheit",value:"m",source:"Variantenkonfiguration"},{label:"Planungsebene",value:"Produktgruppe",source:"Variantenkonfiguration"},{label:"Snapshot-Datum",value:"17.01.2025",source:"Kapazittsplanung"},{label:" Freie Kapazitt",value:"18.4 m pro Filiale",source:"Kapazittsberechnung"}],formula:"Free_{s,h,t} = max(0, CapSoll_{s,h,t}  OccIst_{s,h,t})",formulaInputs:[{symbol:"CapSoll_{s,h,t}",value:"450 m",source:"Kapazittsplanung",description:"SOLL-Kapazitt"},{symbol:"OccIst_{s,h,t}",value:"380 m",source:"Bestandssnapshot",description:"IST-Belegung inkl. Zulufe"}],output:"Freie Kapazitt erfasst, Constraint aktiv",explanation:"Die freie Kapazitt wurde als Differenz zwischen SOLL und IST berechnet. Die IST-Belegung bercksichtigt aktuellen Bestand, Reservierungen und eingehende Lieferungen innerhalb des Horizonts."},{id:"step-8",step:8,title:"Priority Scoring (w_i,s)",status:"OK",summary:"Prioritts-Scores berechnet fr SKU-Filial-Kombinationen",what:"Fr jede SKU-Filial-Kombination wurde ein Prioritts-Score berechnet, der Urgency, Sales Velocity, Service Level Gap und Overstock Risk kombiniert.",inputs:[{label:"Gewicht: Stockout Urgency (a)",value:"0.35",source:"Variantenkonfiguration"},{label:"Gewicht: Sales Velocity (b)",value:"0.25",source:"Variantenkonfiguration"},{label:"Gewicht: Service Level Gap (c)",value:"0.30",source:"Variantenkonfiguration"},{label:"Gewicht: Overstock Risk (e)",value:"-0.10",source:"Variantenkonfiguration"}],formula:"w_{i,s} = a  StockoutUrgency_{i,s} + b  SalesVelocity_{i,s} + c  ServiceLevelGap_{i,s}  e  OverstockRisk_{i,s}",formulaInputs:[{symbol:"StockoutUrgency_{i,s}",value:.82,source:"DOS-Berechnung",description:"max(0, Threshold  DOS)"},{symbol:"SalesVelocity_{i,s}",value:.75,source:"Recent Sales",description:"Normalisierte Verkaufsgeschwindigkeit"},{symbol:"ServiceLevelGap_{i,s}",value:.12,source:"Coverage-Berechnung",description:"max(0, Target  Coverage_pre)"},{symbol:"OverstockRisk_{i,s}",value:.05,source:"WOS-Berechnung",description:"Weeks of Supply > Threshold"}],output:"Priority Scores berechnet (: 82.5, Range: 45-95)",explanation:"Der Priority Score kombiniert verschiedene Faktoren: Stockout Urgency (basierend auf Days of Supply), Sales Velocity (Recent Sales), Service Level Gap (Target vs. aktuelle Coverage) und Overstock Risk (Weeks of Supply). Hhere Scores fhren zu bevorzugter Allokation."},{id:"step-9",step:9,title:"Allocation Core Solver",status:"OK",summary:"Min-Cost Flow Solver erfolgreich ausgefhrt",what:"Die Allokation wurde mit einem Min-Cost Flow Algorithmus berechnet unter Bercksichtigung von Supply-, Demand- und Capacity-Constraints.",inputs:[{label:"Solver-Typ",value:"Min-Cost Flow",source:"Variantenkonfiguration"},{label:"Decision Variables",value:"1.247 SKUs  245 Stores",source:"Berechnung"},{label:"Underfill Penalty ",value:"10.0",source:"Variantenkonfiguration"},{label:"Overcap Penalty ",value:"5.0",source:"Variantenkonfiguration"}],formula:"max _{i,s} w_{i,s}  x_{i,s}    _{i,s} Underfill_{i,s}    _{s,h} OvercapSlack_{s,h}",formulaInputs:[{symbol:"w_{i,s}",value:92.5,source:"Schritt 8",description:"Priority Score"},{symbol:"x_{i,s}",value:"Variable",source:"Solver",description:"Allokierte Menge (Entscheidungsvariable)"},{symbol:"Underfill_{i,s}",value:"max(0, Need - x)",source:"Solver",description:"Nicht gedeckter Bedarf"},{symbol:"",value:10,source:"Penalty Parameter",description:"Underfill Penalty"},{symbol:"",value:5,source:"Penalty Parameter",description:"Overcapacity Penalty"}],output:"Allokation berechnet: 6.880 Einheiten verteilt",explanation:"Der Min-Cost Flow Solver maximiert die gewichtete Summe der Allokationen unter Einhaltung von Supply-, Demand- und Capacity-Constraints. Underfill wird mit Penalty  bestraft, Overcapacity mit ."},{id:"step-10",step:10,title:"Rationing under Shortage",status:"WARN",summary:"Proportionale Rationierung angewendet (Supply: 93.8% des Bedarfs)",what:"Aufgrund der Supply-Unterdeckung wurde eine proportionale Rationierung durchgefhrt mit iterativer Kapazitts-Clipping.",inputs:[{label:"Rationierungsstrategie",value:"Proportional",source:"Variantenkonfiguration"},{label:"Gesamtbedarf",value:"7.600 Einheiten",source:"Schritt 4"},{label:"Verfgbar",value:"7.130 Einheiten",source:"Schritt 6"},{label:"Redistribution Iterationen",value:"3",source:"Algorithmus"}],formula:"x_{i,s} = min(Need_{i,s}, CapMaxUnits_{i,s}, Need_{i,s}  Available_i / _s Need_{i,s})",formulaInputs:[{symbol:"Need_{i,s}",value:67,source:"Schritt 4",description:"Nachschubsbedarf"},{symbol:"CapMaxUnits_{i,s}",value:72,source:"Kapazittsberechnung",description:"floor(Free / p_i)"},{symbol:"Available_i",value:1100,source:"Schritt 6",description:"DC-Verfgbarkeit fr SKU"},{symbol:"_s Need_{i,s}",value:1280,source:"Aggregation",description:"Gesamtbedarf fr SKU"}],output:"Rationierung abgeschlossen, 3 Iterationen bentigt",limitingFactor:"Supply-Shortage fhrt zu durchschnittlich 93.8% Coverage",explanation:"Bei proportionaler Rationierung erhlt jede Filiale einen Anteil proportional zu ihrem Bedarf. Nach Clipping an Kapazittsgrenzen wird die frei gewordene Menge in weiteren Iterationen auf nicht-kapazittsbeschrnkte Filialen umverteilt.",warnings:["Supply-Shortage: 470 Einheiten","Redistribution: 3 Iterationen","32 Filialen an Kapazittsgrenze geclippt"]},{id:"step-11",step:11,title:"Stockout Prevention (MinFill)",status:"WARN",summary:"MinFill erfllt fr 233/245 Filialen",what:"Sicherstellung der Mindestprsentation, um Leerregale zu vermeiden. Bei Nichterreichbarkeit wird Substitution vorbereitet.",inputs:[{label:"MinFill-Profil",value:"Core",source:"Variantenkonfiguration"},{label:"Presentation Min ()",value:"4.8 Einheiten",source:"Parameter"},{label:"Filialen unter MinFill",value:"12",source:"Validierung"}],formula:"x_{i,s} >= Min_{i,s} (soft constraint with penalty)",formulaInputs:[{symbol:"x_{i,s}",value:30,source:"Allokation",description:"Allokierte Menge"},{symbol:"Min_{i,s}",value:4,source:"Prsentationsparameter",description:"Mindestprsentation"}],output:"MinFill erfllt: 95.1% (233/245 Filialen)",limitingFactor:"12 Filialen unter MinFill-Schwelle  Substitution erforderlich",explanation:"Die Mindestprsentation wurde als Soft Constraint behandelt. Fr 12 Filialen konnte die MinFill-Schwelle aufgrund von Supply- oder Kapazittsengpssen nicht erreicht werden. Diese Filialen sind Kandidaten fr Substitution.",warnings:["12 Filialen unter MinFill","Stockout-Risiko fr diese Filialen: Hoch","Substitution wird in Schritt 12 geprft"]},{id:"step-12",step:12,title:"Substitution / Fallback",status:"WARN",summary:"6 Filialen mit aktiver Substitution",what:"In Filialen mit kritischem Stockout-Risiko oder MinFill-Unterschreitung wurde Substitution mit alternativen SKUs durchgefhrt.",inputs:[{label:"Substitutionsstrategie",value:"Within Product Group",source:"Variantenkonfiguration"},{label:"Trigger",value:"MinFill Gap > 50% OR DOS < 7 Tage",source:"Regel"},{label:"Betroffene Filialen",value:"6",source:"Schritt 11"},{label:"Substitute SKUs verwendet",value:"3",source:"Substitutionslogik"}],formula:"Efficiency_g = Forecast_g / SpaceDemand_g, SubFill_s = min(FreeCapacity_{s,h}, RemainingMinFillGap_s)",formulaInputs:[{symbol:"Forecast_g",value:425,source:"Prognosesystem",description:"Prognose fr Ersatz-SKU"},{symbol:"SpaceDemand_g",value:148.75,source:"p_i  Forecast_g",description:"Raumbedarf fr Ersatz-SKU"},{symbol:"FreeCapacity_{s,h}",value:8.4,source:"Kapazitt nach Primr-Allokation",description:"Freie Kapazitt"},{symbol:"RemainingMinFillGap_s",value:2,source:"MinFill - Allocated",description:"Verbleibende MinFill-Lcke"}],output:"Substitution in 6 Filialen durchgefhrt, +48 Einheiten allokiert",limitingFactor:"Substitution aktiv aufgrund Stockout-Risiko",explanation:"Fr 6 Filialen mit kritischem Stockout-Risiko wurden alternative SKUs aus der gleichen Produktgruppe allokiert. Die Auswahl erfolgte nach Efficiency (Forecast/SpaceDemand) und Verfgbarkeit. Die Substitution verbessert die Service-Level-Erfllung um 1.2%.",warnings:["Substitution aktiv in 6 Filialen","Primr-SKU HIK-BOO-023  Substitute: RUN-PRO-001 (Basic)","Effizienz-Verbesserung: +8.5%"]},{id:"step-13",step:13,title:"Pack/LOT Repair",status:"OK",summary:"47 Pack-Reparaturen durchgefhrt",what:"Allokationsmengen wurden auf volle Packgren gerundet (Best Effort Mode).",inputs:[{label:"Pack Enforcement",value:"Best Effort",source:"Variantenkonfiguration"},{label:"Reparaturen erforderlich",value:"47",source:"Validierung"},{label:"Aufrundungen",value:"32",source:"Reparatur"},{label:"Abrundungen",value:"15",source:"Reparatur"}],formula:"x_{i,s} = c_i  y_{i,s}, wobei y_{i,s} = round(x_{i,s}_proposed / c_i)",formulaInputs:[{symbol:"c_i",value:6,source:"Artikelparameter",description:"Packgre"},{symbol:"x_{i,s}_proposed",value:67,source:"Solver",description:"Vorgeschlagene Menge"},{symbol:"y_{i,s}",value:11,source:"round(67/6)",description:"Anzahl Packs"},{symbol:"x_{i,s}",value:66,source:"6  11",description:"Finale Menge"}],output:"Pack-Reparaturen: +156 Einheiten (Aufrundung), -85 Einheiten (Abrundung)",explanation:"Im Best Effort Mode wurden Mengen auf die nchste volle Packgre gerundet. Bei Kapazittskonflikten wurde abgerundet. Netto-nderung: +71 Einheiten durch Aufrundungen."},{id:"step-14",step:14,title:"Size Curve Repair",status:"OK",summary:"24 Size Curve Reparaturen durchgefhrt",what:"Grenverteilungen wurden an Zielkurven angepasst unter Einhaltung von Mindestgren und Kapazittsgrenzen.",inputs:[{label:"Size Curve Active",value:"Ja",source:"Variantenkonfiguration"},{label:"Min Sizes per Store",value:"3",source:"Variantenkonfiguration"},{label:"Reparaturen",value:"24",source:"Validierung"}],formula:"x_{i,s,k}  share_k  x_{i,s}, mit Constraints: min 1 in core sizes, capacity limits",formulaInputs:[{symbol:"share_k",value:.25,source:"Grenkurve",description:"Ziel-Anteil fr Gre k"},{symbol:"x_{i,s}",value:66,source:"Schritt 13",description:"Gesamt-Allokation"},{symbol:"x_{i,s,k}",value:17,source:"Reparatur",description:"Allokation fr Gre k"}],output:"Size Curves angepasst, Min-Gren-Constraint erfllt",explanation:"Die Grenverteilung wurde an die Zielkurve angepasst. In allen Stores wurden mindestens 3 Gren allokiert. Kleinere Abweichungen von der Zielkurve wurden akzeptiert, um Pack-Constraints zu erfllen."},{id:"step-15",step:15,title:"Finalization & Exceptions",status:"WARN",summary:"Allokation abgeschlossen: 6.880 Einheiten, 18 Exceptions",what:"Die finale Allokation wurde validiert und Exceptions wurden fr kritische Situationen erzeugt.",inputs:[{label:"Finale Allokation",value:"6.880 Einheiten",source:"Schritt 14"},{label:"Service Level erreicht",value:"87.3%",source:"KPI-Berechnung"},{label:"Exceptions erzeugt",value:"18",source:"Validierung"},{label:"Stockout Risk Stores",value:"12",source:"DOS-Berechnung"}],formula:"ServiceLevelFulfillment = (Allocated / Need)  100%",formulaInputs:[{symbol:"Allocated",value:6880,source:"Finale Allokation",description:"Allokierte Gesamtmenge"},{symbol:"Need",value:7600,source:"Schritt 4",description:"Nachschubsbedarf"}],output:"Replenishment Run abgeschlossen: 90.5% Coverage",limitingFactor:"Service Level Target nicht erreicht (87.3% vs. 95%)",explanation:"Der Replenishment-Lauf wurde erfolgreich abgeschlossen. Aufgrund von Supply-Engpssen konnten 90.5% des Nachschubsbedarfs gedeckt werden. 18 Exceptions wurden fr manuelle Nachbearbeitung erzeugt: 12 fr Stockout-Risiko, 6 fr Substitutions-Review.",warnings:["Service Level Target nicht erreicht: 87.3% (Ziel: 95%)","12 Filialen mit Stockout-Risiko (DOS < 14 Tage)","6 Filialen mit aktiver Substitution","18 Exceptions zur manuellen Prfung"]}],soe=[{id:"step-1",step:1,title:"Empfngerbestimmung",status:"OK",summary:"245 Filialen aus Planungsdaten ermittelt",what:"Basierend auf der Planungsstrategie wurden alle Filialen ermittelt, die fr diese Allokation in Frage kommen.",inputs:[{label:"Planungsstrategie",value:"Planungsdaten",source:"Variantenkonfiguration"},{label:"Saison",value:"HW 2025",source:"Variantenkonfiguration"},{label:"Ausschlusskriterien",value:"3 aktiv",source:"Systemkonfiguration"}],output:"245 Filialen qualifiziert, 12 ausgeschlossen",explanation:"Die Filialen wurden anhand der Planungsdaten fr die Saison HW 2025 ermittelt. Ausgeschlossen wurden Filialen ohne aktive Listung, geschlossene Filialen und Filialen mit blockierten Transportrelationen.",warnings:["3 Filialen haben temporre Liefersperren"]},{id:"step-2",step:2,title:"Lieferterminauswahl",status:"OK",summary:"Liefertermine aus Lieferplan ermittelt",what:"Fr jede Filiale wurde der optimale Liefertermin basierend auf dem Lieferplan und der Vorlaufzeit bestimmt.",inputs:[{label:"Lieferplanlogik",value:"Lieferplan",source:"Variantenkonfiguration"},{label:"Standardvorlaufzeit",value:"14 Tage",source:"Systemparameter"},{label:"Frhester Termin",value:"15.01.2025",source:"Zeitfenster"}],output:" Liefertermin: 22.01.2025",explanation:"Der Liefertermin wurde fr jede Filiale individuell aus dem hinterlegten Lieferplan bernommen. Bei fehlenden Eintrgen wurde die Standardvorlaufzeit verwendet."},{id:"step-3",step:3,title:"Bedarfsberechnung",status:"OK",summary:"Bedarf fr 1.247 Produkt-Filialen-Kombinationen berechnet",what:"Der Bedarf wurde auf Basis von Plan, Bestand und Zulauf berechnet, optional gewichtet mit der Absatzprognose.",inputs:[{label:"Prognosegewicht",value:"60%",source:"Variantenkonfiguration"},{label:"Planungsdaten",value:"1.247 Zeilen",source:"Planungssystem"},{label:"Bestandsdaten",value:"Snapshot 10.01.2025",source:"Warenwirtschaft"}],formula:"D_{i,s} = max(0, T_{i,s} - (B_{i,s} + I_{i,s}))  (1 - w) + F_{i,s}  w",formulaInputs:[{symbol:"T_{i,s}",value:150,source:"Planungsdaten",description:"Geplante Menge"},{symbol:"B_{i,s}",value:45,source:"Bestandssnapshot",description:"Aktueller Bestand"},{symbol:"I_{i,s}",value:20,source:"Zulaufsdaten",description:"Zulufe"},{symbol:"F_{i,s}",value:120,source:"Prognosesystem",description:"Absatzprognose"},{symbol:"w",value:"0.6",source:"Variantenparameter",description:"Prognosegewicht"}],output:"Gesamtbedarf: 28.456 Einheiten",explanation:"Der Bedarf wurde als gewichteter Durchschnitt zwischen planbasiertem Bedarf und prognosebasiertem Bedarf berechnet. Das Prognosegewicht von 60% fhrt zu einer strkeren Bercksichtigung der Absatzprognose.",warnings:["128 Artikel ohne Prognose  nur Plan verwendet"]},{id:"step-4",step:4,title:"Verfgbarkeitsermittlung",status:"WARN",summary:"Verfgbarkeit: 24.120 Einheiten (84.8% des Bedarfs)",what:"Die verfgbare Menge wurde aus DC-Bestnden, Bestellungen und Lieferungen ermittelt.",inputs:[{label:"DC-Bestnde",value:"18.450 Einheiten",source:"DC Snapshot"},{label:"Bestellungen",value:"5.200 Einheiten",source:"Einkaufssystem"},{label:"Lieferungen",value:"470 Einheiten",source:"Logistiksystem"}],formula:"Supply = DC_{stock} + PO_{confirmed} + Delivery_{planned}",formulaInputs:[{symbol:"DC_{stock}",value:18450,source:"DC Snapshot 10.01.2025",description:"DC-Bestand"},{symbol:"PO_{confirmed}",value:5200,source:"Einkaufssystem",description:"Besttigte Bestellungen"},{symbol:"Delivery_{planned}",value:470,source:"Logistiksystem",description:"Geplante Lieferungen"}],output:"Verfgbar: 24.120 Einheiten",limitingFactor:"Verfgbarkeit ist limitierend (84.8% des Bedarfs)",explanation:"Die Gesamtverfgbarkeit deckt 84.8% des errechneten Bedarfs. Es besteht eine Unterdeckung von 4.336 Einheiten, die durch Rationierung verteilt werden muss.",warnings:["Unterdeckung: 4.336 Einheiten","Rationierung erforderlich"]},{id:"step-5",step:5,title:"Kapazittssnapshot",status:"OK",summary:"Kapazittsdaten fr 245 Filialen geladen",what:"Die verfgbare Kapazitt pro Filiale und Produktgruppe wurde aus dem Kapazittsplanungssystem bernommen.",inputs:[{label:"Kapazittseinheit",value:"m",source:"Variantenkonfiguration"},{label:"Planungsebene",value:"Produktgruppe",source:"Variantenkonfiguration"},{label:"Snapshot-Datum",value:"10.01.2025",source:"Kapazittsplanung"}],formula:"Free_{s,h} = max(0, Cap_{soll,s,h} - Occ_{ist,s,h})",formulaInputs:[{symbol:"Cap_{soll,s,h}",value:"450 m",source:"Kapazittsplanung",description:"SOLL-Kapazitt"},{symbol:"Occ_{ist,s,h}",value:"380 m",source:"Bestandssnapshot",description:"IST-Belegung"}],output:" Freie Kapazitt: 68.4 m pro Filiale",explanation:"Die freie Kapazitt wurde als Differenz zwischen SOLL-Kapazitt und IST-Belegung berechnet. Die IST-Belegung setzt sich zusammen aus aktuellem Bestand, Reservierungen und eingehenden Lieferungen."},{id:"step-6",step:6,title:"Optimierung / Heuristik",status:"OK",summary:"Allokation mit Proportional-Strategie berechnet",what:"Die verfgbare Menge wurde auf Basis der gewhlten Strategie auf die Filialen verteilt.",inputs:[{label:"Strategie",value:"Proportional",source:"Variantenkonfiguration"},{label:"Fairness-Faktor ",value:"0.8",source:"Variantenkonfiguration"},{label:"Supply",value:"24.120 Einheiten",source:"Schritt 4"},{label:"Demand",value:"28.456 Einheiten",source:"Schritt 3"}],formula:"x_{i,s} = min(D_{i,s}, Supply  (D_{i,s} /  D_{i,s}))",formulaInputs:[{symbol:"D_{i,s}",value:150,source:"Bedarfsberechnung",description:"Bedarf Artikel i, Filiale s"},{symbol:"Supply",value:24120,source:"Verfgbarkeit",description:"Gesamtverfgbarkeit"},{symbol:" D_{i,s}",value:28456,source:"Bedarfsberechnung",description:"Gesamtbedarf"}],output:"Allokation fr 1.247 Zeilen berechnet",explanation:"Bei der proportionalen Strategie erhlt jede Filiale einen Anteil entsprechend ihrem Bedarf. Die Summe aller Allokationen entspricht der verfgbaren Menge."},{id:"step-7",step:7,title:"Rationierung",status:"WARN",summary:"187 Filialen betroffen, MinFill: 85.2%",what:"Aufgrund der Unterdeckung musste eine Rationierung durchgefhrt werden. MinFill-Regeln wurden angewendet.",inputs:[{label:"MinFill-Profil",value:"Core",source:"Variantenkonfiguration"},{label:"MinFill-Prozentsatz",value:"80%",source:"Variantenkonfiguration"},{label:"Rationierte Menge",value:"4.336 Einheiten",source:"Schritt 4"}],output:"MinFill-Erfllung: 85.2%",limitingFactor:"MinFill-Ziel von 90% nicht erreicht",explanation:"Die Rationierung wurde so durchgefhrt, dass mglichst viele Filialen mindestens 80% ihrer Bedarfsmenge erhalten. Filialen mit sehr geringem Bedarf wurden priorisiert, um Prsentationsbestnde sicherzustellen.",warnings:["32 Filialen unter MinFill-Schwelle","MinFill-Ziel 90% nicht erreicht (ist: 85.2%)"]},{id:"step-8",step:8,title:"Fallback",status:"WARN",summary:"18 Filialen in Fallback-Modus",what:"Fr Filialen, die weder aus Verfgbarkeit noch aus Kapazitt beliefert werden konnten, wurde ein Fallback aktiviert.",inputs:[{label:"Fallback-Strategie",value:"Core/NOS Substitution",source:"Variantenkonfiguration"},{label:"Trigger",value:"Supply < Demand AND Space > Capacity",source:"Variantenkonfiguration"},{label:"Betroffene Filialen",value:"18",source:"Schritt 7"}],output:"18 Filialen mit Ersatzartikeln",limitingFactor:"Fallback aktiv aufgrund Kapazittsengpass",explanation:"In 18 Filialen konnte die geplante Produktgruppe aufgrund von Kapazittsengpssen nicht vollstndig allokiert werden. Stattdessen wurden effizientere Core/NOS-Artikel als Ersatz zugeteilt.",warnings:["Fallback aktiv in 18 Filialen",'Ersatz: Produktgruppe "Shoes"  "Basic Shoes"',"Effizienz-Verbesserung: +12.5%"]},{id:"step-9",step:9,title:"Nachbearbeitung (LOT/Gre)",status:"OK",summary:"Packgren und Grenkurven angewendet",what:"Die berechneten Allokationsmengen wurden auf Packgren gerundet und Grenkurven wurden angewendet.",inputs:[{label:"Pack-Gre erzwingen",value:"Ja",source:"Variantenkonfiguration"},{label:"Grenkurve aktiv",value:"Ja",source:"Variantenkonfiguration"},{label:"Min. Gren pro Filiale",value:"3",source:"Variantenkonfiguration"},{label:"Reparatur-Modus",value:"Best Effort",source:"Variantenkonfiguration"}],output:"Mengen angepasst: +245 Einheiten (Aufrundung)",explanation:"Die berechneten Mengen wurden auf volle Packgren aufgerundet. Grenkurven wurden angewendet, um sicherzustellen, dass jede Filiale mindestens 3 Gren erhlt."},{id:"step-10",step:10,title:"Endergebnis",status:"OK",summary:"Allokation abgeschlossen: 24.365 Einheiten verteilt",what:"Die finale Allokation wurde erstellt und validiert.",inputs:[{label:"Allokierte Menge",value:"24.365 Einheiten",source:"Schritt 9"},{label:"Filialen beliefert",value:"245",source:"Schritt 1"},{label:"Artikel-Filiale Zeilen",value:"1.247",source:"Berechnung"}],formula:"Coverage = (Supply / Demand)  100%",formulaInputs:[{symbol:"Supply",value:24365,source:"Finale Allokation",description:"Allokierte Menge"},{symbol:"Demand",value:28456,source:"Bedarfsberechnung",description:"Gesamtbedarf"}],output:"Coverage: 85.6%",explanation:"Die Allokation wurde erfolgreich abgeschlossen. Aufgrund der Unterdeckung konnten 85.6% des Bedarfs gedeckt werden. 18 Filialen befinden sich im Fallback-Modus."}],rE={OK:{icon:Ka,color:"var(--status-success)",bgColor:"var(--surface-success-subtle)",label:"OK"},WARN:{icon:Ft,color:"var(--status-warning)",bgColor:"var(--surface-warning-subtle)",label:"Warnung"},FAIL:{icon:pE,color:"var(--status-danger)",bgColor:"var(--surface-danger-subtle)",label:"Fehler"}};function loe({allocationType:e="Initial Allocation"}={}){const t=e==="Replenishment"?ooe:soe,[r,n]=z.useState(t[0]),i=rE[r.status],o=i.icon;return a.jsxs("div",{className:"h-full flex gap-6",children:[a.jsxs("div",{className:"overflow-y-auto p-6",style:{width:"350px",backgroundColor:"var(--surface-subtle)",borderRight:"1px solid var(--border-default)"},children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Entscheidungspfad"}),a.jsx("div",{className:"space-y-2",children:t.map((l,u)=>{const d=l.id===r.id,f=rE[l.status],v=f.icon;return a.jsxs("div",{className:"relative",children:[u<t.length-1&&a.jsx("div",{style:{position:"absolute",left:"19px",top:"40px",width:"2px",height:"calc(100% + 8px)",backgroundColor:"var(--border-default)"}}),a.jsxs("button",{onClick:()=>n(l),className:"w-full p-3 rounded-lg flex items-start gap-3 text-left transition-all",style:{backgroundColor:d?"var(--surface-page)":"transparent",border:d?"2px solid var(--brand-primary)":"1px solid transparent"},children:[a.jsx("div",{className:"flex-shrink-0 rounded-full flex items-center justify-center",style:{width:"40px",height:"40px",backgroundColor:f.bgColor,border:`2px solid ${f.color}`,position:"relative",zIndex:1},children:a.jsx(v,{size:20,style:{color:f.color}})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"2px"},children:["Schritt ",l.step]}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)",marginBottom:"4px"},children:l.title}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:l.summary})]}),d&&a.jsx(un,{size:20,style:{color:"var(--brand-primary)"}})]})]},l.id)})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[a.jsx("div",{className:"flex-shrink-0 rounded-full flex items-center justify-center",style:{width:"60px",height:"60px",backgroundColor:i.bgColor,border:`3px solid ${i.color}`},children:a.jsx(o,{size:32,style:{color:i.color}})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:["Schritt ",r.step," von ",t.length]}),a.jsx("h1",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:r.title}),a.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full",style:{backgroundColor:i.bgColor,color:i.color,fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(o,{size:16}),i.label]})]})]}),r.warnings&&r.warnings.length>0&&a.jsxs("div",{className:"mb-6 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-warning)"},children:[a.jsx(Ft,{size:18}),"Warnungen"]}),a.jsx("ul",{className:"space-y-1",style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:r.warnings.map((l,u)=>a.jsxs("li",{children:[" ",l]},u))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Was wurde berechnet?"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)",lineHeight:1.6},children:r.what})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Eingabewerte"}),a.jsx("div",{className:"space-y-3",children:r.inputs.map((l,u)=>a.jsxs("div",{className:"flex items-start justify-between p-3 rounded-lg",style:{backgroundColor:"var(--surface-subtle)"},children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"2px"},children:l.label}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:["Quelle: ",l.source]})]}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:l.value})]},u))})]}),r.formula&&r.formulaInputs&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Formel"}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-subtle)",fontFamily:"monospace",fontSize:"var(--font-size-md)",color:"var(--text-primary)"},children:r.formula}),a.jsx("div",{className:"mt-4 space-y-2",children:r.formulaInputs.map((l,u)=>a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg",style:{backgroundColor:"var(--surface-page)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-sm)",color:"var(--brand-primary)",fontWeight:"var(--font-weight-semibold)",minWidth:"80px"},children:l.symbol}),a.jsxs("div",{className:"flex-1",children:[l.description&&a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)",marginBottom:"2px"},children:l.description}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:["Quelle: ",l.source]})]}),a.jsxs("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:["= ",l.value]})]},u))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Ergebnis"}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-info-subtle)",border:"2px solid var(--status-info)"},children:a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-info)"},children:r.output})})]}),r.limitingFactor&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Limitierender Faktor"}),a.jsxs("div",{className:"p-4 rounded-lg flex items-start gap-3",style:{backgroundColor:"var(--surface-warning-subtle)",border:"1px solid var(--status-warning)"},children:[a.jsx(Qt,{size:20,style:{color:"var(--status-warning)",flexShrink:0,marginTop:"2px"}}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:r.limitingFactor})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Erklrung (Warum?)"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)",lineHeight:1.6},children:r.explanation})]})]})]})}const oo=[{id:"ZH-001",name:"Zrich HB",description:"Hauptbahnhof",address:"Bahnhofstrasse 1, 8001 Zrich",country:"Schweiz",size:850},{id:"BS-001",name:"Basel SBB",description:"Bahnhof",address:"Centralbahnplatz 1, 4051 Basel",country:"Schweiz",size:720},{id:"BE-001",name:"Bern Westside",description:"Shopping-Center",address:"Riedbachstrasse 100, 3027 Bern",country:"Schweiz",size:650},{id:"GE-001",name:"Genve Cornavin",description:"Bahnhof",address:"Place de Cornavin, 1201 Genve",country:"Schweiz",size:780},{id:"LU-001",name:"Luzern Bahnhof",description:"Bahnhof",address:"Bahnhofplatz 1, 6003 Luzern",country:"Schweiz",size:580},{id:"SG-001",name:"St. Gallen",description:"Innenstadt",address:"Multergasse 25, 9000 St. Gallen",country:"Schweiz",size:620},{id:"WI-001",name:"Winterthur",description:"Altstadt",address:"Marktgasse 68, 8400 Winterthur",country:"Schweiz",size:540}];function coe({onAddCluster:e}){const[t,r]=z.useState([{id:"cluster-1",name:"Cluster A - Grostdte",stores:[oo[0],oo[1],oo[3]],color:"#2563eb",isExpanded:!0},{id:"cluster-2",name:"Cluster B - Mittelstdte",stores:[oo[2],oo[4]],color:"#10b981",isExpanded:!0},{id:"cluster-3",name:"Cluster C - Kleinstdte",stores:[oo[5],oo[6]],color:"#f59e0b",isExpanded:!0},{id:"unassigned",name:"Nicht zugeordnet",stores:[],color:"#6b7280",isExpanded:!0}]),[n,i]=z.useState(null),[o,l]=z.useState(null),u=w=>{r(x=>x.map(y=>y.id===w?{...y,isExpanded:!y.isExpanded}:y))},d=(w,x)=>{i({store:w,sourceClusterId:x})},f=()=>{i(null),l(null)},v=(w,x)=>{w.preventDefault(),l(x)},h=()=>{l(null)},m=(w,x)=>{if(w.preventDefault(),!n)return;const{store:y,sourceClusterId:j}=n;if(j===x){i(null),l(null);return}r(k=>k.map(N=>N.id===j?{...N,stores:N.stores.filter(A=>A.id!==y.id)}:N).map(N=>N.id===x?{...N,stores:[...N.stores,y]}:N)),i(null),l(null)},b=w=>{w!=="unassigned"&&r(x=>{const y=x.find(k=>k.id===w);return!y||!x.find(k=>k.id==="unassigned")?x:x.filter(k=>k.id!==w).map(k=>k.id==="unassigned"?{...k,stores:[...k.stores,...y.stores]}:k)})};return a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)"},children:"Cluster-Zuordnung"}),a.jsxs("button",{onClick:e,className:"px-3 py-1.5 rounded-lg border flex items-center gap-2 transition-colors",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",borderColor:"var(--brand-primary)",fontSize:"var(--font-size-sm)"},children:[a.jsx(ji,{size:14}),"Neuen Cluster anlegen"]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)"},children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{style:{position:"sticky",top:0,backgroundColor:"var(--surface-alt)",zIndex:10},children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",width:"40px"}}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",width:"250px"},children:"Cluster / Filiale"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Beschreibung"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Adresse"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Land"}),a.jsx("th",{className:"text-right p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Gre (m)"}),a.jsx("th",{className:"text-right p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",width:"50px"}})]})}),a.jsx("tbody",{children:t.map(w=>a.jsx(uoe,{cluster:w,isExpanded:w.isExpanded,isDragOver:o===w.id,onToggle:()=>u(w.id),onDragStart:d,onDragEnd:f,onDragOver:v,onDragLeave:h,onDrop:m,onDelete:()=>b(w.id)},w.id))})]})})]})}function uoe({cluster:e,isExpanded:t,isDragOver:r,onToggle:n,onDragStart:i,onDragEnd:o,onDragOver:l,onDragLeave:u,onDrop:d,onDelete:f}){return a.jsxs(a.Fragment,{children:[a.jsxs("tr",{onDragOver:v=>l(v,e.id),onDragLeave:u,onDrop:v=>d(v,e.id),style:{backgroundColor:r?`${e.color}20`:`${e.color}15`,borderLeft:`4px solid ${e.color}`,borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{className:"p-3",children:a.jsx("button",{onClick:n,className:"p-1 rounded hover:bg-black/5 transition-colors",children:t?a.jsx(_o,{size:16}):a.jsx(un,{size:16})})}),a.jsx("td",{className:"p-3",colSpan:5,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:e.color},children:e.name}),a.jsxs("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:`${e.color}25`,color:e.color,fontSize:"var(--font-size-xs)"},children:[e.stores.length," ",e.stores.length===1?"Filiale":"Filialen"]})]})}),a.jsx("td",{className:"p-3 text-right",children:e.id!=="unassigned"&&a.jsx("button",{onClick:f,className:"p-1 rounded opacity-50 hover:opacity-100 transition-opacity",style:{color:"var(--status-danger)"},children:a.jsx(Cs,{size:14})})})]}),t&&e.stores.map(v=>a.jsxs("tr",{draggable:!0,onDragStart:()=>i(v,e.id),onDragEnd:o,className:"group cursor-move hover:bg-black/5",style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{className:"p-3"}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(NL,{size:14,style:{color:"var(--text-muted)"},className:"opacity-0 group-hover:opacity-100 transition-opacity"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:v.id}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:v.name})]})}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:v.description}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:v.address}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:v.country}),a.jsx("td",{className:"p-3 text-right",style:{fontSize:"var(--font-size-sm)"},children:v.size}),a.jsx("td",{className:"p-3"})]},v.id)),t&&e.stores.length===0&&a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{className:"p-3"}),a.jsx("td",{className:"p-6 text-center",colSpan:6,style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:e.id==="unassigned"?"Alle Filialen sind zugeordnet":"Ziehen Sie Filialen hierher, um sie diesem Cluster zuzuweisen"})]})]})}function doe({onClose:e,onConfirm:t}){const[r,n]=z.useState(""),[i,o]=z.useState(""),[l,u]=z.useState(""),[d,f]=z.useState([]),h=[{id:"ZH-001",name:"Zrich HB",address:"Bahnhofstrasse 1, 8001 Zrich",country:"Schweiz",size:850},{id:"BS-001",name:"Basel SBB",address:"Centralbahnplatz 1, 4051 Basel",country:"Schweiz",size:720},{id:"BE-001",name:"Bern Westside",address:"Riedbachstrasse 100, 3027 Bern",country:"Schweiz",size:650},{id:"GE-001",name:"Genve Cornavin",address:"Place de Cornavin, 1201 Genve",country:"Schweiz",size:780},{id:"LU-001",name:"Luzern Bahnhof",address:"Bahnhofplatz 1, 6003 Luzern",country:"Schweiz",size:580}].filter(b=>b.id.toLowerCase().includes(r.toLowerCase())&&b.name.toLowerCase().includes(i.toLowerCase())&&b.country.toLowerCase().includes(l.toLowerCase())),m=b=>{f(w=>w.includes(b)?w.filter(x=>x!==b):[...w,b])};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:e,children:a.jsxs("div",{className:"rounded-lg border shadow-xl",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",width:"90%",maxWidth:"800px",maxHeight:"80vh",display:"flex",flexDirection:"column"},onClick:b=>b.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-default)"},children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Filialen auswhlen"}),a.jsx("button",{onClick:e,className:"p-1 rounded",style:{color:"var(--text-muted)"},children:a.jsx(Et,{size:20})})]}),a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsx("input",{type:"text",placeholder:"Filial-ID",value:r,onChange:b=>n(b.target.value),className:"px-3 py-2 rounded-lg border",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}}),a.jsx("input",{type:"text",placeholder:"Name",value:i,onChange:b=>o(b.target.value),className:"px-3 py-2 rounded-lg border",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}}),a.jsx("input",{type:"text",placeholder:"Land",value:l,onChange:b=>u(b.target.value),className:"px-3 py-2 rounded-lg border",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{className:"text-left pb-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",width:"40px"},children:a.jsx("input",{type:"checkbox",checked:d.length===h.length&&h.length>0,onChange:()=>{d.length===h.length?f([]):f(h.map(b=>b.id))}})}),a.jsx("th",{className:"text-left pb-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Filial-ID"}),a.jsx("th",{className:"text-left pb-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Name"}),a.jsx("th",{className:"text-left pb-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Adresse"}),a.jsx("th",{className:"text-left pb-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Land"}),a.jsx("th",{className:"text-right pb-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Gre (m)"})]})}),a.jsx("tbody",{children:h.map(b=>a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{className:"py-3",children:a.jsx("input",{type:"checkbox",checked:d.includes(b.id),onChange:()=>m(b.id)})}),a.jsx("td",{className:"py-3",style:{fontSize:"var(--font-size-sm)"},children:b.id}),a.jsx("td",{className:"py-3",style:{fontSize:"var(--font-size-sm)"},children:b.name}),a.jsx("td",{className:"py-3",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:b.address}),a.jsx("td",{className:"py-3",style:{fontSize:"var(--font-size-sm)"},children:b.country}),a.jsx("td",{className:"py-3 text-right",style:{fontSize:"var(--font-size-sm)"},children:b.size})]},b.id))})]})}),a.jsxs("div",{className:"flex items-center justify-between p-6 border-t",style:{borderColor:"var(--border-default)"},children:[a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[d.length," Filialen ausgewhlt"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"},children:"Abbrechen"}),a.jsx("button",{onClick:()=>t(d),className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)"},children:"Besttigen"})]})]})]})})}function foe({onClose:e,onCalculate:t}){const[r,n]=z.useState(["Region","Umsatz (jhrlich)","Verkaufsflche (m)"]),[i,o]=z.useState(3),[l,u]=z.useState(7),d=["Region","Land","Umsatz (jhrlich)","Umsatz (rollierend)","Verkaufsflche (m)","Sortimentstiefe","Umsatz je m","Abverkaufsrate","Kapazittsauslastung","Kundensegmente","Preisniveau","Logistikdistanz"],f=v=>{n(h=>h.includes(v)?h.filter(m=>m!==v):[...h,v])};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:e,children:a.jsxs("div",{className:"rounded-lg border shadow-xl",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",width:"600px",maxHeight:"80vh",display:"flex",flexDirection:"column"},onClick:v=>v.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-default)"},children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Attribute auswhlen"}),a.jsx("button",{onClick:e,className:"p-1 rounded",style:{color:"var(--text-muted)"},children:a.jsx(Et,{size:20})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginBottom:"var(--space-4)"},children:"Diese Attribute werden fr den systemgesttzten Clustervorschlag verwendet."}),a.jsx("div",{className:"space-y-2 mb-6",children:d.map(v=>a.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border cursor-pointer",style:{borderColor:r.includes(v)?"var(--brand-primary)":"var(--border-subtle)",backgroundColor:r.includes(v)?"var(--surface-subtle-tint)":"transparent"},children:[a.jsx("input",{type:"checkbox",checked:r.includes(v),onChange:()=>f(v)}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:v})]},v))}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",marginBottom:"var(--space-2)",display:"block"},children:["Minimale Clusteranzahl: ",i]}),a.jsx("input",{type:"range",min:"2",max:"10",value:i,onChange:v=>o(Number(v.target.value)),className:"w-full"})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",marginBottom:"var(--space-2)",display:"block"},children:["Maximale Clusteranzahl: ",l]}),a.jsx("input",{type:"range",min:"2",max:"15",value:l,onChange:v=>u(Number(v.target.value)),className:"w-full"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-6 border-t",style:{borderColor:"var(--border-default)"},children:[a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[r.length," Attribute ausgewhlt"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"},children:"Abbrechen"}),a.jsxs("button",{onClick:()=>t(r,i,l),disabled:r.length===0,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{backgroundColor:r.length>0?"var(--brand-primary)":"var(--surface-subtle)",color:r.length>0?"var(--text-inverse)":"var(--text-muted)",fontSize:"var(--font-size-sm)",cursor:r.length>0?"pointer":"not-allowed"},children:[a.jsx(Nc,{size:16}),"Vorschlag berechnen"]})]})]})]})})}const nE=[{id:"cs-001",name:"Standard Cluster 2025",description:"Hauptcluster fr Allokation HW/SW 2025",clusterCount:5,storeCount:48,type:"Hybrid",status:"Active",lastModified:"2025-01-15T10:30:00",owner:"John Doe",createdAt:"2024-11-20T09:00:00"},{id:"cs-002",name:"Umsatz-basiert Q1 2025",description:"Systemvorschlag basierend auf Umsatz und Flche",clusterCount:6,storeCount:48,type:"System-generated",status:"Active",lastModified:"2025-01-12T14:20:00",owner:"Jane Smith",createdAt:"2025-01-10T11:00:00"},{id:"cs-003",name:"Regionale Cluster CH",description:"Manuelle Gruppierung nach Regionen",clusterCount:4,storeCount:35,type:"Manual",status:"Draft",lastModified:"2025-01-08T16:45:00",owner:"John Doe",createdAt:"2025-01-05T10:30:00"},{id:"cs-004",name:"Pilot Cluster Winter 2024",description:"Test-Setup fr Winter-Saison",clusterCount:3,storeCount:20,type:"Manual",status:"Archived",lastModified:"2024-12-15T10:00:00",owner:"Jane Smith",createdAt:"2024-11-01T09:00:00"},{id:"cs-005",name:"Kapazitts-optimiert",description:"Systemvorschlag mit Fokus auf Verkaufsflchenoptimierung",clusterCount:7,storeCount:48,type:"System-generated",status:"Draft",lastModified:"2025-01-14T09:15:00",owner:"John Doe",createdAt:"2025-01-13T08:00:00"}],vf=e=>{switch(e){case"Active":return"var(--status-success)";case"Draft":return"var(--status-warning)";case"Archived":return"var(--text-muted)";default:return"var(--text-secondary)"}},mf=e=>{switch(e){case"Manual":return"var(--brand-primary)";case"System-generated":return"var(--status-info)";case"Hybrid":return"#ec4899";default:return"var(--text-secondary)"}},aE=e=>{const t=new Date(e),n=Math.abs(new Date().getTime()-t.getTime()),i=Math.floor(n/(1e3*60*60*24));if(i===0){const o=Math.floor(n/36e5);return o===0?`vor ${Math.floor(n/6e4)} Min.`:`vor ${o} Std.`}return i===1?"gestern":i<7?`vor ${i} Tagen`:t.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})};function poe({onNavigate:e}){const[t,r]=z.useState(""),[n,i]=z.useState("All"),[o,l]=z.useState(nE[0]),[u,d]=z.useState(null),[f,v]=z.useState(!1),[h,m]=z.useState(!1),[b,w]=z.useState(""),[x,y]=z.useState(""),j=z.useMemo(()=>nE.filter(k=>{const S=k.name.toLowerCase().includes(t.toLowerCase())||k.description.toLowerCase().includes(t.toLowerCase()),N=n==="All"||k.status===n;return S&&N}),[t,n]);return a.jsxs("div",{className:"flex h-full gap-6",children:[a.jsxs("div",{className:"flex flex-col border-r",style:{width:"25%",minWidth:"320px",backgroundColor:"var(--surface-alt)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",padding:"var(--space-4)"},children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Cluster Sets"}),a.jsxs("button",{className:"px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},onMouseEnter:k=>k.currentTarget.style.opacity="0.9",onMouseLeave:k=>k.currentTarget.style.opacity="1",children:[a.jsx(ji,{size:16}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Neu"})]})]}),a.jsxs("div",{className:"relative mb-3",children:[a.jsx(fn,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),a.jsx("input",{type:"text",placeholder:"Cluster-Set suchen...",value:t,onChange:k=>r(k.target.value),className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]}),a.jsx("div",{className:"flex gap-2",children:["All","Active","Draft","Archived"].map(k=>a.jsx("button",{onClick:()=>i(k),className:"px-3 py-1.5 rounded-lg transition-colors",style:{backgroundColor:n===k?"var(--brand-primary)":"var(--surface-subtle)",color:n===k?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-xs)",border:"1px solid",borderColor:n===k?"var(--brand-primary)":"var(--border-subtle)"},children:k==="All"?"Alle":k},k))})]}),a.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:j.map(k=>a.jsxs("div",{onClick:()=>l(k),className:"w-full p-4 rounded-lg border transition-all text-left relative group cursor-pointer",style:{backgroundColor:o?.id===k.id?"var(--surface-subtle-tint)":"var(--surface-page)",borderColor:o?.id===k.id?"var(--brand-primary)":"var(--border-subtle)",borderWidth:o?.id===k.id?"2px":"1px"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"4px"},children:k.name}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",lineHeight:"1.4"},children:k.description})]}),a.jsx("button",{onClick:S=>{S.stopPropagation(),d(u===k.id?null:k.id)},className:"p-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",style:{backgroundColor:"var(--surface-subtle)",color:"var(--text-secondary)"},children:a.jsx(vE,{size:14})})]}),a.jsx("div",{className:"flex items-center gap-2 mb-2",children:a.jsxs("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[k.clusterCount," Cluster  ",k.storeCount," Filialen"]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:`${mf(k.type)}15`,color:mf(k.type),fontSize:"var(--font-size-xs)"},children:k.type}),a.jsx("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:`${vf(k.status)}15`,color:vf(k.status),fontSize:"var(--font-size-xs)"},children:k.status})]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"8px"},children:aE(k.lastModified)}),u===k.id&&a.jsx("div",{className:"absolute right-2 top-12 z-10 rounded-lg border shadow-lg py-1",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",minWidth:"150px"},onClick:S=>S.stopPropagation(),children:["Duplizieren","Umbenennen","Archivieren","Exportieren"].map(S=>a.jsx("button",{className:"w-full px-3 py-2 text-left transition-colors",style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},onMouseEnter:N=>N.currentTarget.style.backgroundColor="var(--surface-subtle)",onMouseLeave:N=>N.currentTarget.style.backgroundColor="transparent",children:S},S))})]},k.id))})]}),a.jsx("div",{className:"flex-1 flex flex-col",style:{backgroundColor:"var(--surface-alt)",borderRadius:"var(--radius-lg)",padding:"var(--space-6)"},children:o?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6 pb-6 border-b",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("input",{type:"text",value:b||o.name,onChange:k=>w(k.target.value),className:"text-2xl font-semibold mb-2 bg-transparent border-0 focus:outline-none w-full",style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"}}),a.jsx("textarea",{value:x||o.description,onChange:k=>y(k.target.value),placeholder:"Beschreibung hinzufgen...",className:"w-full bg-transparent border-0 focus:outline-none resize-none",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",minHeight:"40px"}})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"px-4 py-2 rounded-lg border transition-colors",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"},children:"Abbrechen"}),a.jsx("button",{className:"px-4 py-2 rounded-lg transition-colors",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)"},children:"Speichern"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Erstellt:"}),a.jsxs("span",{style:{fontSize:"var(--font-size-xs)"},children:[aE(o.createdAt)," von ",o.owner]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Typ:"}),a.jsx("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:`${mf(o.type)}15`,color:mf(o.type),fontSize:"var(--font-size-xs)"},children:o.type})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Status:"}),a.jsx("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:`${vf(o.status)}15`,color:vf(o.status),fontSize:"var(--font-size-xs)"},children:o.status})]})]})]}),a.jsxs("div",{className:"flex gap-3 mb-6",children:[a.jsxs("button",{onClick:()=>v(!0),className:"px-4 py-2 rounded-lg border flex items-center gap-2 transition-colors",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"},onMouseEnter:k=>k.currentTarget.style.borderColor="var(--brand-primary)",onMouseLeave:k=>k.currentTarget.style.borderColor="var(--border-default)",children:[a.jsx(dE,{size:16}),"Filialen auswhlen"]}),a.jsxs("button",{onClick:()=>m(!0),className:"px-4 py-2 rounded-lg border flex items-center gap-2 transition-colors",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"},onMouseEnter:k=>k.currentTarget.style.borderColor="var(--brand-primary)",onMouseLeave:k=>k.currentTarget.style.borderColor="var(--border-default)",children:[a.jsx(Nc,{size:16}),"Attribute auswhlen"]})]}),a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsx(coe,{onAddCluster:()=>console.log("Add new cluster")})})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center",style:{color:"var(--text-muted)"},children:a.jsx("p",{children:"Whlen Sie ein Cluster-Set aus der Liste"})})}),f&&a.jsx(doe,{onClose:()=>v(!1),onConfirm:k=>{console.log("Selected stores:",k),v(!1)}}),h&&a.jsx(foe,{onClose:()=>m(!1),onCalculate:(k,S,N)=>{console.log("Calculate with:",k,S,N),m(!1)}})]})}const hoe="http://localhost:3002/api";async function xt(e,t={}){try{const r=await fetch(`${hoe}${e}`,{...t,headers:{"Content-Type":"application/json",...t.headers}}),n=await r.json();return r.ok?n:{success:!1,error:n.error||"Request failed"}}catch(r){return console.error("API Error:",r),{success:!1,error:r.message||"Network error"}}}async function voe(){return xt("/kpis")}async function moe(){return xt("/stores")}async function goe(e){return xt(`/stores/${e}`)}async function yoe(e){const t=new URLSearchParams;e?.product_group&&t.append("product_group",e.product_group),e?.season&&t.append("season",e.season),e?.brand&&t.append("brand",e.brand);const r=t.toString();return xt(`/articles${r?`?${r}`:""}`)}async function xoe(e){const t=new URLSearchParams;e?.type&&t.append("type",e.type),e?.status&&t.append("status",e.status),e?.user_name&&t.append("user_name",e.user_name);const r=t.toString();return xt(`/runs${r?`?${r}`:""}`)}async function boe(e){return xt(`/runs/${e}`)}async function Soe(e){return xt("/runs",{method:"POST",body:JSON.stringify(e)})}async function woe(e,t){return xt(`/runs/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function joe(e){return xt(`/runs/${e}`,{method:"DELETE"})}async function koe(e){const t=new URLSearchParams;e?.status&&t.append("status",e.status),e?.allocation_type&&t.append("allocation_type",e.allocation_type);const r=t.toString();return xt(`/scenarios${r?`?${r}`:""}`)}async function Coe(e){return xt(`/scenarios/${e}`)}async function zoe(e){return xt("/scenarios",{method:"POST",body:JSON.stringify(e)})}async function Aoe(e,t){return xt(`/scenarios/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function Noe(e){return xt(`/scenarios/${e}`,{method:"DELETE"})}async function Poe(e){const t=new URLSearchParams;e?.status&&t.append("status",e.status),e?.severity&&t.append("severity",e.severity),e?.type&&t.append("type",e.type);const r=t.toString();return xt(`/exceptions${r?`?${r}`:""}`)}async function _oe(e){return xt("/exceptions",{method:"POST",body:JSON.stringify(e)})}async function Ooe(e,t){return xt(`/exceptions/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function Eoe(e){const t=new URLSearchParams;e?.status&&t.append("status",e.status),e?.priority&&t.append("priority",e.priority),e?.assigned_to&&t.append("assigned_to",e.assigned_to);const r=t.toString();return xt(`/tasks${r?`?${r}`:""}`)}async function Toe(e){return xt("/tasks",{method:"POST",body:JSON.stringify(e)})}async function Doe(e,t){return xt(`/tasks/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function Roe(e){return xt(`/tasks/${e}`,{method:"DELETE"})}async function Ioe(e){const t=e?`?category=${e}`:"";return xt(`/parameters${t}`)}async function Moe(e,t,r){return xt(`/parameters/${e}`,{method:"PUT",body:JSON.stringify({value:t,updated_by:r})})}async function Loe(){return xt("/data-manager/config")}async function Boe(e,t){return xt(`/data-manager/config/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function Foe(e){return xt(`/data-manager/logs/${e}`)}async function Woe(e,t,r){return xt(`/data-manager/import/${e}`,{method:"POST",headers:r?{"X-API-Key":r}:{},body:JSON.stringify({data:t})})}async function $oe(e,t,r){const i=new URLSearchParams(t).toString();return xt(`/data-manager/export/${e}${i?`?${i}`:""}`,{headers:r?{"X-API-Key":r}:{}})}const wc={kpis:{fetch:voe},stores:{fetch:moe,fetchOne:goe},articles:{fetch:yoe},runs:{fetch:xoe,fetchOne:boe,create:Soe,update:woe,delete:joe},scenarios:{fetch:koe,fetchOne:Coe,create:zoe,update:Aoe,delete:Noe},exceptions:{fetch:Poe,create:_oe,update:Ooe},tasks:{fetch:Eoe,create:Toe,update:Doe,delete:Roe},parameters:{fetch:Ioe,update:Moe},dataManager:{fetchConfigs:Loe,updateConfig:Boe,fetchLogs:Foe,import:Woe,export:$oe}},iE={stores:{name:"Filialen",description:"Stammdaten der Verkaufsstellen"},articles:{name:"Artikel",description:"Produktstammdaten"},allocation_runs:{name:"Allocation Runs",description:"Allokationslufe und deren Status"},scenarios:{name:"Szenarien",description:"Planungsszenarien und Simulationen"},exceptions:{name:"Exceptions",description:"Ausnahmen und Warnungen"},tasks:{name:"Tasks",description:"Aufgaben und Workflows"}},oE={master:{bg:"var(--status-info)",label:"Stammdaten"},transaction:{bg:"var(--status-success)",label:"Bewegungsdaten"}},jc=[{id:"1",entity_name:"stores",data_category:"master",inbound_enabled:!0,outbound_enabled:!1,api_key:null,webhook_url:null,sync_interval_minutes:null,last_sync_at:null},{id:"2",entity_name:"articles",data_category:"master",inbound_enabled:!0,outbound_enabled:!1,api_key:null,webhook_url:null,sync_interval_minutes:null,last_sync_at:null},{id:"3",entity_name:"allocation_runs",data_category:"transaction",inbound_enabled:!0,outbound_enabled:!0,api_key:null,webhook_url:null,sync_interval_minutes:60,last_sync_at:"2025-01-07T10:00:00Z"},{id:"4",entity_name:"scenarios",data_category:"transaction",inbound_enabled:!0,outbound_enabled:!0,api_key:null,webhook_url:null,sync_interval_minutes:null,last_sync_at:null},{id:"5",entity_name:"exceptions",data_category:"transaction",inbound_enabled:!0,outbound_enabled:!0,api_key:null,webhook_url:null,sync_interval_minutes:30,last_sync_at:"2025-01-07T11:30:00Z"},{id:"6",entity_name:"tasks",data_category:"transaction",inbound_enabled:!0,outbound_enabled:!0,api_key:null,webhook_url:null,sync_interval_minutes:null,last_sync_at:null}];function Uoe({onNavigate:e}){const[t,r]=z.useState(jc),[n,i]=z.useState(null),[o,l]=z.useState([]),[u,d]=z.useState(!0),[f,v]=z.useState(!1),[h,m]=z.useState({}),[b,w]=z.useState("config"),[x,y]=z.useState(""),[j,k]=z.useState(null);z.useEffect(()=>{S()},[]),z.useEffect(()=>{if(n){N(n);const E=t.find(D=>D.entity_name===n);E&&m({inbound_enabled:E.inbound_enabled,outbound_enabled:E.outbound_enabled,api_key:E.api_key,webhook_url:E.webhook_url,sync_interval_minutes:E.sync_interval_minutes})}},[n,t]);const S=async()=>{d(!0);try{const E=await wc.dataManager.fetchConfigs();E.success&&E.data&&E.data.length>0?(r(E.data),n||i(E.data[0].entity_name)):(r(jc),n||i(jc[0].entity_name))}catch(E){console.error("Failed to load configs:",E),r(jc),n||i(jc[0].entity_name)}d(!1)},N=async E=>{const D=await wc.dataManager.fetchLogs(E);D.success&&D.data&&l(D.data)},A=async()=>{if(!n)return;v(!0),(await wc.dataManager.updateConfig(n,h)).success&&await S(),v(!1)},O=async()=>{if(!(!n||!x))try{const E=JSON.parse(x),D=t.find(L=>L.entity_name===n),I=await wc.dataManager.import(n,Array.isArray(E)?E:[E],D?.api_key||void 0);I.success&&I.data&&(k(I.data),await N(n))}catch(E){k({processed:0,failed:1,errors:["Invalid JSON: "+E.message]})}},_=async()=>{if(!n)return;const E=t.find(I=>I.entity_name===n),D=await wc.dataManager.export(n,{},E?.api_key||void 0);if(D.success&&D.data){const I=new Blob([JSON.stringify(D.data,null,2)],{type:"application/json"}),L=URL.createObjectURL(I),M=document.createElement("a");M.href=L,M.download=`${n}_export_${new Date().toISOString().split("T")[0]}.json`,M.click(),URL.revokeObjectURL(L)}},T=t.find(E=>E.entity_name===n);return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:[a.jsx(hE,{className:"inline mr-2",size:24}),"Datenmanager"]}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Konfigurieren Sie die Schnittstellen fr Stamm- und Bewegungsdaten"})]}),a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsx("div",{className:"col-span-3",children:a.jsxs("div",{style:{background:"var(--surface-raised)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-default)"},children:[a.jsx("div",{style:{padding:"var(--space-4)",borderBottom:"1px solid var(--border-default)"},children:a.jsx("h2",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)"},children:"Entitten"})}),a.jsx("div",{className:"p-2",children:t.map(E=>a.jsxs("button",{onClick:()=>i(E.entity_name),className:"w-full text-left p-3 rounded-lg mb-1 transition-colors",style:{background:n===E.entity_name?"var(--brand-primary-light)":"transparent",border:n===E.entity_name?"1px solid var(--brand-primary)":"1px solid transparent"},children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:iE[E.entity_name]?.name||E.entity_name}),a.jsx("span",{className:"text-xs px-2 py-0.5 rounded",style:{background:oE[E.data_category].bg,color:"white"},children:oE[E.data_category].label})]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"2px"},children:iE[E.entity_name]?.description}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[E.inbound_enabled&&a.jsxs("span",{className:"flex items-center text-xs",style:{color:"var(--status-success)"},children:[a.jsx(Ta,{size:12,className:"mr-1"})," Inbound"]}),E.outbound_enabled&&a.jsxs("span",{className:"flex items-center text-xs",style:{color:"var(--status-info)"},children:[a.jsx(xs,{size:12,className:"mr-1"})," Outbound"]})]})]},E.entity_name))})]})}),a.jsx("div",{className:"col-span-9",children:T&&a.jsxs("div",{style:{background:"var(--surface-raised)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-default)"},children:[a.jsx("div",{style:{borderBottom:"1px solid var(--border-default)",padding:"var(--space-2) var(--space-4)"},children:a.jsx("div",{className:"flex gap-2",children:["config","logs","import","export"].map(E=>a.jsxs("button",{onClick:()=>w(E),className:"px-4 py-2 rounded-lg transition-colors",style:{background:b===E?"var(--brand-primary)":"transparent",color:b===E?"white":"var(--text-primary)"},children:[E==="config"&&a.jsxs(a.Fragment,{children:[a.jsx(Mp,{size:16,className:"inline mr-2"}),"Konfiguration"]}),E==="logs"&&a.jsxs(a.Fragment,{children:[a.jsx(SE,{size:16,className:"inline mr-2"}),"Sync-Protokoll"]}),E==="import"&&a.jsxs(a.Fragment,{children:[a.jsx(Ta,{size:16,className:"inline mr-2"}),"Import"]}),E==="export"&&a.jsxs(a.Fragment,{children:[a.jsx(xs,{size:16,className:"inline mr-2"}),"Export"]})]},E))})}),a.jsxs("div",{className:"p-6",children:[b==="config"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{style:{padding:"var(--space-4)",background:"var(--surface-page)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-default)"},children:[a.jsxs("h3",{className:"flex items-center gap-2 mb-4",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(Ta,{size:18,style:{color:"var(--status-success)"}}),"Inbound (Eingehend)"]}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-3)"},children:T.data_category==="master"?"Stammdaten knnen nur von externen Systemen eingespielt werden":"Daten von externen Systemen empfangen"}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h.inbound_enabled||!1,onChange:E=>m({...h,inbound_enabled:E.target.checked}),className:"w-4 h-4"}),a.jsx("span",{children:"Inbound aktiviert"})]})]}),a.jsxs("div",{style:{padding:"var(--space-4)",background:"var(--surface-page)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-default)"},children:[a.jsxs("h3",{className:"flex items-center gap-2 mb-4",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(xs,{size:18,style:{color:"var(--status-info)"}}),"Outbound (Ausgehend)"]}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-3)"},children:T.data_category==="master"?"Stammdaten knnen nicht nach auen bertragen werden":"Daten an externe Systeme senden"}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h.outbound_enabled||!1,onChange:E=>m({...h,outbound_enabled:E.target.checked}),disabled:T.data_category==="master",className:"w-4 h-4"}),a.jsx("span",{style:{color:T.data_category==="master"?"var(--text-muted)":"inherit"},children:"Outbound aktiviert"})]}),T.data_category==="master"&&a.jsxs("div",{className:"mt-2 text-xs flex items-center gap-1",style:{color:"var(--status-warning)"},children:[a.jsx(Ft,{size:12}),"Fr Stammdaten nicht verfgbar"]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 mb-2",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(DL,{size:16}),"API-Schlssel"]}),a.jsx("input",{type:"text",value:h.api_key||"",onChange:E=>m({...h,api_key:E.target.value||null}),placeholder:"Optional: Authentifizierungsschlssel fr API-Zugriffe",className:"w-full px-3 py-2 rounded-lg",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"}})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 mb-2",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(hB,{size:16}),"Webhook URL"]}),a.jsx("input",{type:"url",value:h.webhook_url||"",onChange:E=>m({...h,webhook_url:E.target.value||null}),placeholder:"https://example.com/webhook",className:"w-full px-3 py-2 rounded-lg",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"},disabled:!h.outbound_enabled}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"var(--space-1)"},children:"Wird bei nderungen an dieser Entitt aufgerufen (nur bei aktiviertem Outbound)"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 mb-2",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(Jk,{size:16}),"Sync-Intervall (Minuten)"]}),a.jsx("input",{type:"number",value:h.sync_interval_minutes||"",onChange:E=>m({...h,sync_interval_minutes:E.target.value?parseInt(E.target.value):null}),placeholder:"Optional: Automatisches Sync-Intervall",className:"w-full px-3 py-2 rounded-lg",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"},min:1})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",style:{borderTop:"1px solid var(--border-default)"},children:[a.jsxs("button",{onClick:()=>{const E=t.find(D=>D.entity_name===n);E&&m({inbound_enabled:E.inbound_enabled,outbound_enabled:E.outbound_enabled,api_key:E.api_key,webhook_url:E.webhook_url,sync_interval_minutes:E.sync_interval_minutes})},className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{border:"1px solid var(--border-default)"},children:[a.jsx(US,{size:16}),"Zurcksetzen"]}),a.jsxs("button",{onClick:A,disabled:f,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{background:"var(--brand-primary)",color:"white"},children:[a.jsx(Su,{size:16}),f?"Speichern...":"Speichern"]})]})]}),b==="logs"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{style:{fontWeight:"var(--font-weight-medium)"},children:"Synchronisations-Protokoll"}),a.jsxs("button",{onClick:()=>N(n),className:"px-3 py-1 rounded flex items-center gap-1 text-sm",style:{border:"1px solid var(--border-default)"},children:[a.jsx(Jk,{size:14}),"Aktualisieren"]})]}),o.length===0?a.jsxs("div",{className:"text-center py-8",style:{color:"var(--text-muted)"},children:[a.jsx(Os,{size:32,className:"mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"Keine Sync-Eintrge vorhanden"})]}):a.jsx("div",{className:"space-y-2",children:o.map(E=>a.jsxs("div",{className:"p-3 rounded-lg flex items-center justify-between",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[E.status==="success"&&a.jsx(dn,{size:18,style:{color:"var(--status-success)"}}),E.status==="failed"&&a.jsx(pE,{size:18,style:{color:"var(--status-danger)"}}),E.status==="partial"&&a.jsx(Ft,{size:18,style:{color:"var(--status-warning)"}}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:E.direction==="inbound"?"Import":"Export"}),a.jsx("span",{className:"text-xs px-2 py-0.5 rounded",style:{background:E.status==="success"?"var(--status-success)":E.status==="failed"?"var(--status-danger)":"var(--status-warning)",color:"white"},children:E.status})]}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[E.records_processed," verarbeitet, ",E.records_failed," fehlgeschlagen"]}),E.error_message&&a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--status-danger)"},children:E.error_message})]})]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:new Date(E.started_at).toLocaleString("de-CH")})]},E.id))})]}),b==="import"&&a.jsxs("div",{children:[a.jsxs("h3",{className:"mb-4",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(SL,{size:18,className:"inline mr-2"}),"Daten importieren"]}),T.inbound_enabled?a.jsxs(a.Fragment,{children:[a.jsx("textarea",{value:x,onChange:E=>y(E.target.value),placeholder:'JSON-Daten hier einfgen, z.B.:\\n[\\n  { "id": "...", "name": "..." }\\n]',className:"w-full h-64 p-3 rounded-lg font-mono text-sm",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"}}),j&&a.jsxs("div",{className:"mt-4 p-4 rounded-lg",style:{background:j.failed>0?"var(--status-danger-light)":"var(--status-success-light)",border:`1px solid ${j.failed>0?"var(--status-danger)":"var(--status-success)"}`},children:[a.jsxs("p",{style:{fontWeight:"var(--font-weight-medium)"},children:["Import abgeschlossen: ",j.processed," erfolgreich, ",j.failed," fehlgeschlagen"]}),j.errors.length>0&&a.jsx("ul",{className:"mt-2 text-sm",children:j.errors.map((E,D)=>a.jsx("li",{style:{color:"var(--status-danger)"},children:E},D))})]}),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsxs("button",{onClick:O,disabled:!x,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{background:"var(--brand-primary)",color:"white",opacity:x?1:.5},children:[a.jsx(Ta,{size:16}),"Importieren"]})})]}):a.jsxs("div",{className:"text-center py-8",style:{color:"var(--text-muted)"},children:[a.jsx(Ft,{size:32,className:"mx-auto mb-2",style:{color:"var(--status-warning)"}}),a.jsx("p",{children:"Inbound ist fr diese Entitt deaktiviert"}),a.jsx("p",{className:"text-sm",children:"Aktivieren Sie Inbound in der Konfiguration"})]})]}),b==="export"&&a.jsxs("div",{children:[a.jsxs("h3",{className:"mb-4",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(xs,{size:18,className:"inline mr-2"}),"Daten exportieren"]}),T.data_category==="master"||!T.outbound_enabled?a.jsxs("div",{className:"text-center py-8",style:{color:"var(--text-muted)"},children:[a.jsx(Ft,{size:32,className:"mx-auto mb-2",style:{color:"var(--status-warning)"}}),a.jsx("p",{children:T.data_category==="master"?"Stammdaten knnen nicht exportiert werden":"Outbound ist fr diese Entitt deaktiviert"})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(zL,{size:48,className:"mx-auto mb-4",style:{color:"var(--brand-primary)"}}),a.jsx("p",{className:"mb-4",children:"Exportieren Sie alle Daten dieser Entitt als JSON-Datei"}),a.jsxs("button",{onClick:_,className:"px-6 py-3 rounded-lg flex items-center gap-2 mx-auto",style:{background:"var(--brand-primary)",color:"white"},children:[a.jsx(Ta,{size:20}),"JSON exportieren"]})]})]})]}),T.last_sync_at&&a.jsx("div",{className:"px-6 py-3",style:{background:"var(--surface-page)",borderTop:"1px solid var(--border-default)"},children:a.jsxs("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[a.jsx(Os,{size:12,className:"inline mr-1"}),"Letzte Synchronisation: ",new Date(T.last_sync_at).toLocaleString("de-CH")]})})]})})]})]})}function Hoe(){const[e,t]=z.useState("home"),[r,n]=z.useState(null),[i,o]=z.useState(null),[l,u]=z.useState(""),[d,f]=z.useState("Initial Allocation"),v=(m,b)=>{t(m),m==="runs"&&n(b?.runId||null),b?.variantId&&o(b.variantId),b?.variantName&&u(b.variantName),b?.allocationType&&f(b.allocationType)},h=()=>{switch(e){case"home":return a.jsx(e2,{onNavigate:v});case"settings":return a.jsx(OB,{onNavigate:v});case"parameters":return a.jsx(yte,{});case"capacity":return a.jsx(rte,{onNavigate:v});case"work":return a.jsx(ste,{onNavigate:v});case"runs":return a.jsx(dte,{onNavigate:v,runId:r});case"scenarios":return a.jsx(toe,{onNavigate:v});case"scenarioManagement":return a.jsx(roe,{onNavigateToSimulation:(m,b)=>{v(b==="Replenishment"?"replenishmentSimulation":"simulationAnalysis",{variantId:m,variantName:"Optimiert - Hohe Prognosegewichtung",allocationType:b})},onNavigateToExplainability:(m,b)=>v("explainability",{variantId:m,allocationType:b}),onNavigateToAllocationRun:m=>v("runs",{variantId:m})});case"simulationAnalysis":return a.jsx(noe,{variantName:l||"Optimiert - Hohe Prognosegewichtung",onBack:()=>v("scenarioManagement"),onSaveVariant:()=>{v("scenarioManagement")},onNavigateToExplainability:()=>v("explainability",{allocationType:"Initial Allocation"})});case"replenishmentSimulation":return a.jsx(ioe,{variantName:l||"NOS Nachschub - Standard",onBack:()=>v("scenarioManagement"),onSaveVariant:()=>{v("scenarioManagement")},onNavigateToExplainability:()=>v("explainability",{allocationType:"Replenishment"})});case"explainability":return a.jsx(loe,{allocationType:d});case"exceptions":return a.jsx(pte,{onNavigate:v});case"analytics":return a.jsx(jte,{onNavigate:v});case"allocationAnalysis":return a.jsx(kte,{onNavigate:v});case"storeLayout":return a.jsx(Qie,{onNavigate:v});case"cluster":return a.jsx(poe,{onNavigate:v});case"dataManager":return a.jsx(Uoe,{onNavigate:v});default:return a.jsx(e2,{onNavigate:v})}};return a.jsx(xB,{currentScreen:e,onNavigate:v,children:h()})}w4.createRoot(document.getElementById("root")).render(a.jsx(T4,{children:a.jsx(Hoe,{})}));
