function A5(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dv={exports:{}},Ac={},Rv={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s2;function z5(){if(s2)return it;s2=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function v(W){return W===null||typeof W!="object"?null:(W=m&&W[m]||W["@@iterator"],typeof W=="function"?W:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function y(W,X,se){this.props=W,this.context=X,this.refs=b,this.updater=se||x}y.prototype.isReactComponent={},y.prototype.setState=function(W,X){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,X,"setState")},y.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function j(){}j.prototype=y.prototype;function A(W,X,se){this.props=W,this.context=X,this.refs=b,this.updater=se||x}var S=A.prototype=new j;S.constructor=A,w(S,y.prototype),S.isPureReactComponent=!0;var N=Array.isArray,z=Object.prototype.hasOwnProperty,O={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function E(W,X,se){var de,ge={},xe=null,ne=null;if(X!=null)for(de in X.ref!==void 0&&(ne=X.ref),X.key!==void 0&&(xe=""+X.key),X)z.call(X,de)&&!_.hasOwnProperty(de)&&(ge[de]=X[de]);var ie=arguments.length-2;if(ie===1)ge.children=se;else if(1<ie){for(var ce=Array(ie),fe=0;fe<ie;fe++)ce[fe]=arguments[fe+2];ge.children=ce}if(W&&W.defaultProps)for(de in ie=W.defaultProps,ie)ge[de]===void 0&&(ge[de]=ie[de]);return{$$typeof:e,type:W,key:xe,ref:ne,props:ge,_owner:O.current}}function T(W,X){return{$$typeof:e,type:W.type,key:X,ref:W.ref,props:W.props,_owner:W._owner}}function B(W){return typeof W=="object"&&W!==null&&W.$$typeof===e}function R(W){var X={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(se){return X[se]})}var F=/\/+/g;function K(W,X){return typeof W=="object"&&W!==null&&W.key!=null?R(""+W.key):X.toString(36)}function H(W,X,se,de,ge){var xe=typeof W;(xe==="undefined"||xe==="boolean")&&(W=null);var ne=!1;if(W===null)ne=!0;else switch(xe){case"string":case"number":ne=!0;break;case"object":switch(W.$$typeof){case e:case t:ne=!0}}if(ne)return ne=W,ge=ge(ne),W=de===""?"."+K(ne,0):de,N(ge)?(se="",W!=null&&(se=W.replace(F,"$&/")+"/"),H(ge,X,se,"",function(fe){return fe})):ge!=null&&(B(ge)&&(ge=T(ge,se+(!ge.key||ne&&ne.key===ge.key?"":(""+ge.key).replace(F,"$&/")+"/")+W)),X.push(ge)),1;if(ne=0,de=de===""?".":de+":",N(W))for(var ie=0;ie<W.length;ie++){xe=W[ie];var ce=de+K(xe,ie);ne+=H(xe,X,se,ce,ge)}else if(ce=v(W),typeof ce=="function")for(W=ce.call(W),ie=0;!(xe=W.next()).done;)xe=xe.value,ce=de+K(xe,ie++),ne+=H(xe,X,se,ce,ge);else if(xe==="object")throw X=String(W),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ne}function M(W,X,se){if(W==null)return W;var de=[],ge=0;return H(W,de,"","",function(xe){return X.call(se,xe,ge++)}),de}function $(W){if(W._status===-1){var X=W._result;X=X(),X.then(function(se){(W._status===0||W._status===-1)&&(W._status=1,W._result=se)},function(se){(W._status===0||W._status===-1)&&(W._status=2,W._result=se)}),W._status===-1&&(W._status=0,W._result=X)}if(W._status===1)return W._result.default;throw W._result}var U={current:null},I={transition:null},Q={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:I,ReactCurrentOwner:O};function L(){throw Error("act(...) is not supported in production builds of React.")}return it.Children={map:M,forEach:function(W,X,se){M(W,function(){X.apply(this,arguments)},se)},count:function(W){var X=0;return M(W,function(){X++}),X},toArray:function(W){return M(W,function(X){return X})||[]},only:function(W){if(!B(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},it.Component=y,it.Fragment=r,it.Profiler=i,it.PureComponent=A,it.StrictMode=n,it.Suspense=d,it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,it.act=L,it.cloneElement=function(W,X,se){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var de=w({},W.props),ge=W.key,xe=W.ref,ne=W._owner;if(X!=null){if(X.ref!==void 0&&(xe=X.ref,ne=O.current),X.key!==void 0&&(ge=""+X.key),W.type&&W.type.defaultProps)var ie=W.type.defaultProps;for(ce in X)z.call(X,ce)&&!_.hasOwnProperty(ce)&&(de[ce]=X[ce]===void 0&&ie!==void 0?ie[ce]:X[ce])}var ce=arguments.length-2;if(ce===1)de.children=se;else if(1<ce){ie=Array(ce);for(var fe=0;fe<ce;fe++)ie[fe]=arguments[fe+2];de.children=ie}return{$$typeof:e,type:W.type,key:ge,ref:xe,props:de,_owner:ne}},it.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:o,_context:W},W.Consumer=W},it.createElement=E,it.createFactory=function(W){var X=E.bind(null,W);return X.type=W,X},it.createRef=function(){return{current:null}},it.forwardRef=function(W){return{$$typeof:u,render:W}},it.isValidElement=B,it.lazy=function(W){return{$$typeof:h,_payload:{_status:-1,_result:W},_init:$}},it.memo=function(W,X){return{$$typeof:f,type:W,compare:X===void 0?null:X}},it.startTransition=function(W){var X=I.transition;I.transition={};try{W()}finally{I.transition=X}},it.unstable_act=L,it.useCallback=function(W,X){return U.current.useCallback(W,X)},it.useContext=function(W){return U.current.useContext(W)},it.useDebugValue=function(){},it.useDeferredValue=function(W){return U.current.useDeferredValue(W)},it.useEffect=function(W,X){return U.current.useEffect(W,X)},it.useId=function(){return U.current.useId()},it.useImperativeHandle=function(W,X,se){return U.current.useImperativeHandle(W,X,se)},it.useInsertionEffect=function(W,X){return U.current.useInsertionEffect(W,X)},it.useLayoutEffect=function(W,X){return U.current.useLayoutEffect(W,X)},it.useMemo=function(W,X){return U.current.useMemo(W,X)},it.useReducer=function(W,X,se){return U.current.useReducer(W,X,se)},it.useRef=function(W){return U.current.useRef(W)},it.useState=function(W){return U.current.useState(W)},it.useSyncExternalStore=function(W,X,se){return U.current.useSyncExternalStore(W,X,se)},it.useTransition=function(){return U.current.useTransition()},it.version="18.3.1",it}var l2;function i1(){return l2||(l2=1,Rv.exports=z5()),Rv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c2;function N5(){if(c2)return Ac;c2=1;var e=i1(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var h,m={},v=null,x=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(x=d.ref);for(h in d)n.call(d,h)&&!o.hasOwnProperty(h)&&(m[h]=d[h]);if(u&&u.defaultProps)for(h in d=u.defaultProps,d)m[h]===void 0&&(m[h]=d[h]);return{$$typeof:t,type:u,key:v,ref:x,props:m,_owner:i.current}}return Ac.Fragment=r,Ac.jsx=l,Ac.jsxs=l,Ac}var u2;function P5(){return u2||(u2=1,Dv.exports=N5()),Dv.exports}var a=P5(),cf={},Iv={exports:{}},un={},Mv={exports:{}},Lv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2;function O5(){return d2||(d2=1,(function(e){function t(I,Q){var L=I.length;I.push(Q);e:for(;0<L;){var W=L-1>>>1,X=I[W];if(0<i(X,Q))I[W]=Q,I[L]=X,L=W;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var Q=I[0],L=I.pop();if(L!==Q){I[0]=L;e:for(var W=0,X=I.length,se=X>>>1;W<se;){var de=2*(W+1)-1,ge=I[de],xe=de+1,ne=I[xe];if(0>i(ge,L))xe<X&&0>i(ne,ge)?(I[W]=ne,I[xe]=L,W=xe):(I[W]=ge,I[de]=L,W=de);else if(xe<X&&0>i(ne,L))I[W]=ne,I[xe]=L,W=xe;else break e}}return Q}function i(I,Q){var L=I.sortIndex-Q.sortIndex;return L!==0?L:I.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],h=1,m=null,v=3,x=!1,w=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(I){for(var Q=r(f);Q!==null;){if(Q.callback===null)n(f);else if(Q.startTime<=I)n(f),Q.sortIndex=Q.expirationTime,t(d,Q);else break;Q=r(f)}}function N(I){if(b=!1,S(I),!w)if(r(d)!==null)w=!0,$(z);else{var Q=r(f);Q!==null&&U(N,Q.startTime-I)}}function z(I,Q){w=!1,b&&(b=!1,j(E),E=-1),x=!0;var L=v;try{for(S(Q),m=r(d);m!==null&&(!(m.expirationTime>Q)||I&&!R());){var W=m.callback;if(typeof W=="function"){m.callback=null,v=m.priorityLevel;var X=W(m.expirationTime<=Q);Q=e.unstable_now(),typeof X=="function"?m.callback=X:m===r(d)&&n(d),S(Q)}else n(d);m=r(d)}if(m!==null)var se=!0;else{var de=r(f);de!==null&&U(N,de.startTime-Q),se=!1}return se}finally{m=null,v=L,x=!1}}var O=!1,_=null,E=-1,T=5,B=-1;function R(){return!(e.unstable_now()-B<T)}function F(){if(_!==null){var I=e.unstable_now();B=I;var Q=!0;try{Q=_(!0,I)}finally{Q?K():(O=!1,_=null)}}else O=!1}var K;if(typeof A=="function")K=function(){A(F)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,M=H.port2;H.port1.onmessage=F,K=function(){M.postMessage(null)}}else K=function(){y(F,0)};function $(I){_=I,O||(O=!0,K())}function U(I,Q){E=y(function(){I(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){w||x||(w=!0,$(z))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(I){switch(v){case 1:case 2:case 3:var Q=3;break;default:Q=v}var L=v;v=Q;try{return I()}finally{v=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,Q){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var L=v;v=I;try{return Q()}finally{v=L}},e.unstable_scheduleCallback=function(I,Q,L){var W=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?W+L:W):L=W,I){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=L+X,I={id:h++,callback:Q,priorityLevel:I,startTime:L,expirationTime:X,sortIndex:-1},L>W?(I.sortIndex=L,t(f,I),r(d)===null&&I===r(f)&&(b?(j(E),E=-1):b=!0,U(N,L-W))):(I.sortIndex=X,t(d,I),w||x||(w=!0,$(z))),I},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(I){var Q=v;return function(){var L=v;v=Q;try{return I.apply(this,arguments)}finally{v=L}}}})(Lv)),Lv}var f2;function _5(){return f2||(f2=1,Mv.exports=O5()),Mv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p2;function T5(){if(p2)return un;p2=1;var e=i1(),t=_5();function r(s){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+s,p=1;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(s,c){l(s,c),l(s+"Capture",c)}function l(s,c){for(i[s]=c,s=0;s<c.length;s++)n.add(c[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function v(s){return d.call(m,s)?!0:d.call(h,s)?!1:f.test(s)?m[s]=!0:(h[s]=!0,!1)}function x(s,c,p,g){if(p!==null&&p.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return g?!1:p!==null?!p.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function w(s,c,p,g){if(c===null||typeof c>"u"||x(s,c,p,g))return!0;if(g)return!1;if(p!==null)switch(p.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function b(s,c,p,g,C,P,D){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=g,this.attributeNamespace=C,this.mustUseProperty=p,this.propertyName=s,this.type=c,this.sanitizeURL=P,this.removeEmptyString=D}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){y[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var c=s[0];y[c]=new b(c,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){y[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){y[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){y[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){y[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){y[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){y[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){y[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function A(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var c=s.replace(j,A);y[c]=new b(c,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var c=s.replace(j,A);y[c]=new b(c,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var c=s.replace(j,A);y[c]=new b(c,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){y[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),y.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){y[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function S(s,c,p,g){var C=y.hasOwnProperty(c)?y[c]:null;(C!==null?C.type!==0:g||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(w(c,p,C,g)&&(p=null),g||C===null?v(c)&&(p===null?s.removeAttribute(c):s.setAttribute(c,""+p)):C.mustUseProperty?s[C.propertyName]=p===null?C.type===3?!1:"":p:(c=C.attributeName,g=C.attributeNamespace,p===null?s.removeAttribute(c):(C=C.type,p=C===3||C===4&&p===!0?"":""+p,g?s.setAttributeNS(g,c,p):s.setAttribute(c,p))))}var N=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),O=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),R=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),I=Symbol.iterator;function Q(s){return s===null||typeof s!="object"?null:(s=I&&s[I]||s["@@iterator"],typeof s=="function"?s:null)}var L=Object.assign,W;function X(s){if(W===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);W=c&&c[1]||""}return`
`+W+s}var se=!1;function de(s,c){if(!s||se)return"";se=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ue){var g=ue}Reflect.construct(s,[],c)}else{try{c.call()}catch(ue){g=ue}s.call(c.prototype)}else{try{throw Error()}catch(ue){g=ue}s()}}catch(ue){if(ue&&g&&typeof ue.stack=="string"){for(var C=ue.stack.split(`
`),P=g.stack.split(`
`),D=C.length-1,G=P.length-1;1<=D&&0<=G&&C[D]!==P[G];)G--;for(;1<=D&&0<=G;D--,G--)if(C[D]!==P[G]){if(D!==1||G!==1)do if(D--,G--,0>G||C[D]!==P[G]){var J=`
`+C[D].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=D&&0<=G);break}}}finally{se=!1,Error.prepareStackTrace=p}return(s=s?s.displayName||s.name:"")?X(s):""}function ge(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=de(s.type,!1),s;case 11:return s=de(s.type.render,!1),s;case 1:return s=de(s.type,!0),s;default:return""}}function xe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case O:return"Portal";case T:return"Profiler";case E:return"StrictMode";case K:return"Suspense";case H:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case R:return(s.displayName||"Context")+".Consumer";case B:return(s._context.displayName||"Context")+".Provider";case F:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return c=s.displayName||null,c!==null?c:xe(s.type)||"Memo";case $:c=s._payload,s=s._init;try{return xe(s(c))}catch{}}return null}function ne(s){var c=s.type;switch(s.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=c.render,s=s.displayName||s.name||"",c.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(c);case 8:return c===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function ie(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ce(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function fe(s){var c=ce(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,c),g=""+s[c];if(!s.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var C=p.get,P=p.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return C.call(this)},set:function(D){g=""+D,P.call(this,D)}}),Object.defineProperty(s,c,{enumerable:p.enumerable}),{getValue:function(){return g},setValue:function(D){g=""+D},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function q(s){s._valueTracker||(s._valueTracker=fe(s))}function ee(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var p=c.getValue(),g="";return s&&(g=ce(s)?s.checked?"true":"false":s.value),s=g,s!==p?(c.setValue(s),!0):!1}function Oe(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function je(s,c){var p=c.checked;return L({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??s._wrapperState.initialChecked})}function st(s,c){var p=c.defaultValue==null?"":c.defaultValue,g=c.checked!=null?c.checked:c.defaultChecked;p=ie(c.value!=null?c.value:p),s._wrapperState={initialChecked:g,initialValue:p,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Qe(s,c){c=c.checked,c!=null&&S(s,"checked",c,!1)}function bt(s,c){Qe(s,c);var p=ie(c.value),g=c.type;if(p!=null)g==="number"?(p===0&&s.value===""||s.value!=p)&&(s.value=""+p):s.value!==""+p&&(s.value=""+p);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}c.hasOwnProperty("value")?rr(s,c.type,p):c.hasOwnProperty("defaultValue")&&rr(s,c.type,ie(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(s.defaultChecked=!!c.defaultChecked)}function Kt(s,c,p){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var g=c.type;if(!(g!=="submit"&&g!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+s._wrapperState.initialValue,p||c===s.value||(s.value=c),s.defaultValue=c}p=s.name,p!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,p!==""&&(s.name=p)}function rr(s,c,p){(c!=="number"||Oe(s.ownerDocument)!==s)&&(p==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+p&&(s.defaultValue=""+p))}var ft=Array.isArray;function xt(s,c,p,g){if(s=s.options,c){c={};for(var C=0;C<p.length;C++)c["$"+p[C]]=!0;for(p=0;p<s.length;p++)C=c.hasOwnProperty("$"+s[p].value),s[p].selected!==C&&(s[p].selected=C),C&&g&&(s[p].defaultSelected=!0)}else{for(p=""+ie(p),c=null,C=0;C<s.length;C++){if(s[C].value===p){s[C].selected=!0,g&&(s[C].defaultSelected=!0);return}c!==null||s[C].disabled||(c=s[C])}c!==null&&(c.selected=!0)}}function Ft(s,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return L({},c,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ut(s,c){var p=c.value;if(p==null){if(p=c.children,c=c.defaultValue,p!=null){if(c!=null)throw Error(r(92));if(ft(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),p=c}s._wrapperState={initialValue:ie(p)}}function Me(s,c){var p=ie(c.value),g=ie(c.defaultValue);p!=null&&(p=""+p,p!==s.value&&(s.value=p),c.defaultValue==null&&s.defaultValue!==p&&(s.defaultValue=p)),g!=null&&(s.defaultValue=""+g)}function Ze(s){var c=s.textContent;c===s._wrapperState.initialValue&&c!==""&&c!==null&&(s.value=c)}function Et(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(s,c){return s==null||s==="http://www.w3.org/1999/xhtml"?Et(c):s==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var tt,cr=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,p,g,C){MSApp.execUnsafeLocalFunction(function(){return s(c,p,g,C)})}:s})(function(s,c){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=c;else{for(tt=tt||document.createElement("div"),tt.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=tt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;c.firstChild;)s.appendChild(c.firstChild)}});function Nr(s,c){if(c){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=c;return}}s.textContent=c}var mt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ir=["Webkit","ms","Moz","O"];Object.keys(mt).forEach(function(s){Ir.forEach(function(c){c=c+s.charAt(0).toUpperCase()+s.substring(1),mt[c]=mt[s]})});function Pr(s,c,p){return c==null||typeof c=="boolean"||c===""?"":p||typeof c!="number"||c===0||mt.hasOwnProperty(s)&&mt[s]?(""+c).trim():c+"px"}function Or(s,c){s=s.style;for(var p in c)if(c.hasOwnProperty(p)){var g=p.indexOf("--")===0,C=Pr(p,c[p],g);p==="float"&&(p="cssFloat"),g?s.setProperty(p,C):s[p]=C}}var ot=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mn(s,c){if(c){if(ot[s]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function Gn(s,c){if(s.indexOf("-")===-1)return typeof c.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ae=null;function Ce(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var me=null,te=null,pe=null;function Ne(s){if(s=dc(s)){if(typeof me!="function")throw Error(r(280));var c=s.stateNode;c&&(c=wd(c),me(s.stateNode,s.type,c))}}function rt(s){te?pe?pe.push(s):pe=[s]:te=s}function nt(){if(te){var s=te,c=pe;if(pe=te=null,Ne(s),c)for(s=0;s<c.length;s++)Ne(c[s])}}function Z(s,c){return s(c)}function Se(){}var _e=!1;function pt(s,c,p){if(_e)return s(c,p);_e=!0;try{return Z(s,c,p)}finally{_e=!1,(te!==null||pe!==null)&&(Se(),nt())}}function Je(s,c){var p=s.stateNode;if(p===null)return null;var g=wd(p);if(g===null)return null;p=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var Ue=!1;if(u)try{var Pt={};Object.defineProperty(Pt,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",Pt,Pt),window.removeEventListener("test",Pt,Pt)}catch{Ue=!1}function vn(s,c,p,g,C,P,D,G,J){var ue=Array.prototype.slice.call(arguments,3);try{c.apply(p,ue)}catch(ye){this.onError(ye)}}var so=!1,lo=null,hi=!1,Vl=null,Qh={onError:function(s){so=!0,lo=s}};function Jh(s,c,p,g,C,P,D,G,J){so=!1,lo=null,vn.apply(Qh,arguments)}function Zr(s,c,p,g,C,P,D,G,J){if(Jh.apply(this,arguments),so){if(so){var ue=lo;so=!1,lo=null}else throw Error(r(198));hi||(hi=!0,Vl=ue)}}function Y(s){var c=s,p=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(p=c.return),s=c.return;while(s)}return c.tag===3?p:null}function ze(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function Be(s){if(Y(s)!==s)throw Error(r(188))}function Vt(s){var c=s.alternate;if(!c){if(c=Y(s),c===null)throw Error(r(188));return c!==s?null:s}for(var p=s,g=c;;){var C=p.return;if(C===null)break;var P=C.alternate;if(P===null){if(g=C.return,g!==null){p=g;continue}break}if(C.child===P.child){for(P=C.child;P;){if(P===p)return Be(C),s;if(P===g)return Be(C),c;P=P.sibling}throw Error(r(188))}if(p.return!==g.return)p=C,g=P;else{for(var D=!1,G=C.child;G;){if(G===p){D=!0,p=C,g=P;break}if(G===g){D=!0,g=C,p=P;break}G=G.sibling}if(!D){for(G=P.child;G;){if(G===p){D=!0,p=P,g=C;break}if(G===g){D=!0,g=P,p=C;break}G=G.sibling}if(!D)throw Error(r(189))}}if(p.alternate!==g)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?s:c}function Mr(s){return s=Vt(s),s!==null?gn(s):null}function gn(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var c=gn(s);if(c!==null)return c;s=s.sibling}return null}var Dw=t.unstable_scheduleCallback,Rw=t.unstable_cancelCallback,M4=t.unstable_shouldYield,L4=t.unstable_requestPaint,ir=t.unstable_now,B4=t.unstable_getCurrentPriorityLevel,em=t.unstable_ImmediatePriority,Iw=t.unstable_UserBlockingPriority,rd=t.unstable_NormalPriority,F4=t.unstable_LowPriority,Mw=t.unstable_IdlePriority,nd=null,ma=null;function W4(s){if(ma&&typeof ma.onCommitFiberRoot=="function")try{ma.onCommitFiberRoot(nd,s,void 0,(s.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:H4,$4=Math.log,U4=Math.LN2;function H4(s){return s>>>=0,s===0?32:31-($4(s)/U4|0)|0}var ad=64,id=4194304;function Gl(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function od(s,c){var p=s.pendingLanes;if(p===0)return 0;var g=0,C=s.suspendedLanes,P=s.pingedLanes,D=p&268435455;if(D!==0){var G=D&~C;G!==0?g=Gl(G):(P&=D,P!==0&&(g=Gl(P)))}else D=p&~C,D!==0?g=Gl(D):P!==0&&(g=Gl(P));if(g===0)return 0;if(c!==0&&c!==g&&(c&C)===0&&(C=g&-g,P=c&-c,C>=P||C===16&&(P&4194240)!==0))return c;if((g&4)!==0&&(g|=p&16),c=s.entangledLanes,c!==0)for(s=s.entanglements,c&=g;0<c;)p=31-qn(c),C=1<<p,g|=s[p],c&=~C;return g}function K4(s,c){switch(s){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V4(s,c){for(var p=s.suspendedLanes,g=s.pingedLanes,C=s.expirationTimes,P=s.pendingLanes;0<P;){var D=31-qn(P),G=1<<D,J=C[D];J===-1?((G&p)===0||(G&g)!==0)&&(C[D]=K4(G,c)):J<=c&&(s.expiredLanes|=G),P&=~G}}function tm(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Lw(){var s=ad;return ad<<=1,(ad&4194240)===0&&(ad=64),s}function rm(s){for(var c=[],p=0;31>p;p++)c.push(s);return c}function ql(s,c,p){s.pendingLanes|=c,c!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,c=31-qn(c),s[c]=p}function G4(s,c){var p=s.pendingLanes&~c;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=c,s.mutableReadLanes&=c,s.entangledLanes&=c,c=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<p;){var C=31-qn(p),P=1<<C;c[C]=0,g[C]=-1,s[C]=-1,p&=~P}}function nm(s,c){var p=s.entangledLanes|=c;for(s=s.entanglements;p;){var g=31-qn(p),C=1<<g;C&c|s[g]&c&&(s[g]|=c),p&=~C}}var kt=0;function Bw(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Fw,am,Ww,$w,Uw,im=!1,sd=[],mi=null,vi=null,gi=null,Zl=new Map,Xl=new Map,yi=[],q4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hw(s,c){switch(s){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":Zl.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(c.pointerId)}}function Yl(s,c,p,g,C,P){return s===null||s.nativeEvent!==P?(s={blockedOn:c,domEventName:p,eventSystemFlags:g,nativeEvent:P,targetContainers:[C]},c!==null&&(c=dc(c),c!==null&&am(c)),s):(s.eventSystemFlags|=g,c=s.targetContainers,C!==null&&c.indexOf(C)===-1&&c.push(C),s)}function Z4(s,c,p,g,C){switch(c){case"focusin":return mi=Yl(mi,s,c,p,g,C),!0;case"dragenter":return vi=Yl(vi,s,c,p,g,C),!0;case"mouseover":return gi=Yl(gi,s,c,p,g,C),!0;case"pointerover":var P=C.pointerId;return Zl.set(P,Yl(Zl.get(P)||null,s,c,p,g,C)),!0;case"gotpointercapture":return P=C.pointerId,Xl.set(P,Yl(Xl.get(P)||null,s,c,p,g,C)),!0}return!1}function Kw(s){var c=co(s.target);if(c!==null){var p=Y(c);if(p!==null){if(c=p.tag,c===13){if(c=ze(p),c!==null){s.blockedOn=c,Uw(s.priority,function(){Ww(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ld(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var p=sm(s.domEventName,s.eventSystemFlags,c[0],s.nativeEvent);if(p===null){p=s.nativeEvent;var g=new p.constructor(p.type,p);ae=g,p.target.dispatchEvent(g),ae=null}else return c=dc(p),c!==null&&am(c),s.blockedOn=p,!1;c.shift()}return!0}function Vw(s,c,p){ld(s)&&p.delete(c)}function X4(){im=!1,mi!==null&&ld(mi)&&(mi=null),vi!==null&&ld(vi)&&(vi=null),gi!==null&&ld(gi)&&(gi=null),Zl.forEach(Vw),Xl.forEach(Vw)}function Ql(s,c){s.blockedOn===c&&(s.blockedOn=null,im||(im=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,X4)))}function Jl(s){function c(C){return Ql(C,s)}if(0<sd.length){Ql(sd[0],s);for(var p=1;p<sd.length;p++){var g=sd[p];g.blockedOn===s&&(g.blockedOn=null)}}for(mi!==null&&Ql(mi,s),vi!==null&&Ql(vi,s),gi!==null&&Ql(gi,s),Zl.forEach(c),Xl.forEach(c),p=0;p<yi.length;p++)g=yi[p],g.blockedOn===s&&(g.blockedOn=null);for(;0<yi.length&&(p=yi[0],p.blockedOn===null);)Kw(p),p.blockedOn===null&&yi.shift()}var rs=N.ReactCurrentBatchConfig,cd=!0;function Y4(s,c,p,g){var C=kt,P=rs.transition;rs.transition=null;try{kt=1,om(s,c,p,g)}finally{kt=C,rs.transition=P}}function Q4(s,c,p,g){var C=kt,P=rs.transition;rs.transition=null;try{kt=4,om(s,c,p,g)}finally{kt=C,rs.transition=P}}function om(s,c,p,g){if(cd){var C=sm(s,c,p,g);if(C===null)km(s,c,g,ud,p),Hw(s,g);else if(Z4(C,s,c,p,g))g.stopPropagation();else if(Hw(s,g),c&4&&-1<q4.indexOf(s)){for(;C!==null;){var P=dc(C);if(P!==null&&Fw(P),P=sm(s,c,p,g),P===null&&km(s,c,g,ud,p),P===C)break;C=P}C!==null&&g.stopPropagation()}else km(s,c,g,null,p)}}var ud=null;function sm(s,c,p,g){if(ud=null,s=Ce(g),s=co(s),s!==null)if(c=Y(s),c===null)s=null;else if(p=c.tag,p===13){if(s=ze(c),s!==null)return s;s=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null);return ud=s,null}function Gw(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(B4()){case em:return 1;case Iw:return 4;case rd:case F4:return 16;case Mw:return 536870912;default:return 16}default:return 16}}var xi=null,lm=null,dd=null;function qw(){if(dd)return dd;var s,c=lm,p=c.length,g,C="value"in xi?xi.value:xi.textContent,P=C.length;for(s=0;s<p&&c[s]===C[s];s++);var D=p-s;for(g=1;g<=D&&c[p-g]===C[P-g];g++);return dd=C.slice(s,1<g?1-g:void 0)}function fd(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function pd(){return!0}function Zw(){return!1}function yn(s){function c(p,g,C,P,D){this._reactName=p,this._targetInst=C,this.type=g,this.nativeEvent=P,this.target=D,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(p=s[G],this[G]=p?p(P):P[G]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?pd:Zw,this.isPropagationStopped=Zw,this}return L(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),c}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cm=yn(ns),ec=L({},ns,{view:0,detail:0}),J4=yn(ec),um,dm,tc,hd=L({},ec,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pm,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==tc&&(tc&&s.type==="mousemove"?(um=s.screenX-tc.screenX,dm=s.screenY-tc.screenY):dm=um=0,tc=s),um)},movementY:function(s){return"movementY"in s?s.movementY:dm}}),Xw=yn(hd),eM=L({},hd,{dataTransfer:0}),tM=yn(eM),rM=L({},ec,{relatedTarget:0}),fm=yn(rM),nM=L({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),aM=yn(nM),iM=L({},ns,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),oM=yn(iM),sM=L({},ns,{data:0}),Yw=yn(sM),lM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dM(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=uM[s])?!!c[s]:!1}function pm(){return dM}var fM=L({},ec,{key:function(s){if(s.key){var c=lM[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=fd(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?cM[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pm,charCode:function(s){return s.type==="keypress"?fd(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?fd(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),pM=yn(fM),hM=L({},hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qw=yn(hM),mM=L({},ec,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pm}),vM=yn(mM),gM=L({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),yM=yn(gM),xM=L({},hd,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),bM=yn(xM),SM=[9,13,27,32],hm=u&&"CompositionEvent"in window,rc=null;u&&"documentMode"in document&&(rc=document.documentMode);var wM=u&&"TextEvent"in window&&!rc,Jw=u&&(!hm||rc&&8<rc&&11>=rc),ej=" ",tj=!1;function rj(s,c){switch(s){case"keyup":return SM.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nj(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var as=!1;function jM(s,c){switch(s){case"compositionend":return nj(c);case"keypress":return c.which!==32?null:(tj=!0,ej);case"textInput":return s=c.data,s===ej&&tj?null:s;default:return null}}function kM(s,c){if(as)return s==="compositionend"||!hm&&rj(s,c)?(s=qw(),dd=lm=xi=null,as=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Jw&&c.locale!=="ko"?null:c.data;default:return null}}var CM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aj(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!CM[s.type]:c==="textarea"}function ij(s,c,p,g){rt(g),c=xd(c,"onChange"),0<c.length&&(p=new cm("onChange","change",null,p,g),s.push({event:p,listeners:c}))}var nc=null,ac=null;function AM(s){jj(s,0)}function md(s){var c=cs(s);if(ee(c))return s}function zM(s,c){if(s==="change")return c}var oj=!1;if(u){var mm;if(u){var vm="oninput"in document;if(!vm){var sj=document.createElement("div");sj.setAttribute("oninput","return;"),vm=typeof sj.oninput=="function"}mm=vm}else mm=!1;oj=mm&&(!document.documentMode||9<document.documentMode)}function lj(){nc&&(nc.detachEvent("onpropertychange",cj),ac=nc=null)}function cj(s){if(s.propertyName==="value"&&md(ac)){var c=[];ij(c,ac,s,Ce(s)),pt(AM,c)}}function NM(s,c,p){s==="focusin"?(lj(),nc=c,ac=p,nc.attachEvent("onpropertychange",cj)):s==="focusout"&&lj()}function PM(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return md(ac)}function OM(s,c){if(s==="click")return md(c)}function _M(s,c){if(s==="input"||s==="change")return md(c)}function TM(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var Zn=typeof Object.is=="function"?Object.is:TM;function ic(s,c){if(Zn(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var p=Object.keys(s),g=Object.keys(c);if(p.length!==g.length)return!1;for(g=0;g<p.length;g++){var C=p[g];if(!d.call(c,C)||!Zn(s[C],c[C]))return!1}return!0}function uj(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function dj(s,c){var p=uj(s);s=0;for(var g;p;){if(p.nodeType===3){if(g=s+p.textContent.length,s<=c&&g>=c)return{node:p,offset:c-s};s=g}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=uj(p)}}function fj(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?fj(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function pj(){for(var s=window,c=Oe();c instanceof s.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)s=c.contentWindow;else break;c=Oe(s.document)}return c}function gm(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}function EM(s){var c=pj(),p=s.focusedElem,g=s.selectionRange;if(c!==p&&p&&p.ownerDocument&&fj(p.ownerDocument.documentElement,p)){if(g!==null&&gm(p)){if(c=g.start,s=g.end,s===void 0&&(s=c),"selectionStart"in p)p.selectionStart=c,p.selectionEnd=Math.min(s,p.value.length);else if(s=(c=p.ownerDocument||document)&&c.defaultView||window,s.getSelection){s=s.getSelection();var C=p.textContent.length,P=Math.min(g.start,C);g=g.end===void 0?P:Math.min(g.end,C),!s.extend&&P>g&&(C=g,g=P,P=C),C=dj(p,P);var D=dj(p,g);C&&D&&(s.rangeCount!==1||s.anchorNode!==C.node||s.anchorOffset!==C.offset||s.focusNode!==D.node||s.focusOffset!==D.offset)&&(c=c.createRange(),c.setStart(C.node,C.offset),s.removeAllRanges(),P>g?(s.addRange(c),s.extend(D.node,D.offset)):(c.setEnd(D.node,D.offset),s.addRange(c)))}}for(c=[],s=p;s=s.parentNode;)s.nodeType===1&&c.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<c.length;p++)s=c[p],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var DM=u&&"documentMode"in document&&11>=document.documentMode,is=null,ym=null,oc=null,xm=!1;function hj(s,c,p){var g=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;xm||is==null||is!==Oe(g)||(g=is,"selectionStart"in g&&gm(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),oc&&ic(oc,g)||(oc=g,g=xd(ym,"onSelect"),0<g.length&&(c=new cm("onSelect","select",null,c,p),s.push({event:c,listeners:g}),c.target=is)))}function vd(s,c){var p={};return p[s.toLowerCase()]=c.toLowerCase(),p["Webkit"+s]="webkit"+c,p["Moz"+s]="moz"+c,p}var os={animationend:vd("Animation","AnimationEnd"),animationiteration:vd("Animation","AnimationIteration"),animationstart:vd("Animation","AnimationStart"),transitionend:vd("Transition","TransitionEnd")},bm={},mj={};u&&(mj=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function gd(s){if(bm[s])return bm[s];if(!os[s])return s;var c=os[s],p;for(p in c)if(c.hasOwnProperty(p)&&p in mj)return bm[s]=c[p];return s}var vj=gd("animationend"),gj=gd("animationiteration"),yj=gd("animationstart"),xj=gd("transitionend"),bj=new Map,Sj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(s,c){bj.set(s,c),o(c,[s])}for(var Sm=0;Sm<Sj.length;Sm++){var wm=Sj[Sm],RM=wm.toLowerCase(),IM=wm[0].toUpperCase()+wm.slice(1);bi(RM,"on"+IM)}bi(vj,"onAnimationEnd"),bi(gj,"onAnimationIteration"),bi(yj,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(xj,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MM=new Set("cancel close invalid load scroll toggle".split(" ").concat(sc));function wj(s,c,p){var g=s.type||"unknown-event";s.currentTarget=p,Zr(g,c,void 0,s),s.currentTarget=null}function jj(s,c){c=(c&4)!==0;for(var p=0;p<s.length;p++){var g=s[p],C=g.event;g=g.listeners;e:{var P=void 0;if(c)for(var D=g.length-1;0<=D;D--){var G=g[D],J=G.instance,ue=G.currentTarget;if(G=G.listener,J!==P&&C.isPropagationStopped())break e;wj(C,G,ue),P=J}else for(D=0;D<g.length;D++){if(G=g[D],J=G.instance,ue=G.currentTarget,G=G.listener,J!==P&&C.isPropagationStopped())break e;wj(C,G,ue),P=J}}}if(hi)throw s=Vl,hi=!1,Vl=null,s}function Wt(s,c){var p=c[Om];p===void 0&&(p=c[Om]=new Set);var g=s+"__bubble";p.has(g)||(kj(c,s,2,!1),p.add(g))}function jm(s,c,p){var g=0;c&&(g|=4),kj(p,s,g,c)}var yd="_reactListening"+Math.random().toString(36).slice(2);function lc(s){if(!s[yd]){s[yd]=!0,n.forEach(function(p){p!=="selectionchange"&&(MM.has(p)||jm(p,!1,s),jm(p,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[yd]||(c[yd]=!0,jm("selectionchange",!1,c))}}function kj(s,c,p,g){switch(Gw(c)){case 1:var C=Y4;break;case 4:C=Q4;break;default:C=om}p=C.bind(null,c,p,s),C=void 0,!Ue||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(C=!0),g?C!==void 0?s.addEventListener(c,p,{capture:!0,passive:C}):s.addEventListener(c,p,!0):C!==void 0?s.addEventListener(c,p,{passive:C}):s.addEventListener(c,p,!1)}function km(s,c,p,g,C){var P=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var D=g.tag;if(D===3||D===4){var G=g.stateNode.containerInfo;if(G===C||G.nodeType===8&&G.parentNode===C)break;if(D===4)for(D=g.return;D!==null;){var J=D.tag;if((J===3||J===4)&&(J=D.stateNode.containerInfo,J===C||J.nodeType===8&&J.parentNode===C))return;D=D.return}for(;G!==null;){if(D=co(G),D===null)return;if(J=D.tag,J===5||J===6){g=P=D;continue e}G=G.parentNode}}g=g.return}pt(function(){var ue=P,ye=Ce(p),be=[];e:{var ve=bj.get(s);if(ve!==void 0){var Pe=cm,De=s;switch(s){case"keypress":if(fd(p)===0)break e;case"keydown":case"keyup":Pe=pM;break;case"focusin":De="focus",Pe=fm;break;case"focusout":De="blur",Pe=fm;break;case"beforeblur":case"afterblur":Pe=fm;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Xw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=tM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=vM;break;case vj:case gj:case yj:Pe=aM;break;case xj:Pe=yM;break;case"scroll":Pe=J4;break;case"wheel":Pe=bM;break;case"copy":case"cut":case"paste":Pe=oM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=Qw}var Le=(c&4)!==0,or=!Le&&s==="scroll",oe=Le?ve!==null?ve+"Capture":null:ve;Le=[];for(var re=ue,le;re!==null;){le=re;var ke=le.stateNode;if(le.tag===5&&ke!==null&&(le=ke,oe!==null&&(ke=Je(re,oe),ke!=null&&Le.push(cc(re,ke,le)))),or)break;re=re.return}0<Le.length&&(ve=new Pe(ve,De,null,p,ye),be.push({event:ve,listeners:Le}))}}if((c&7)===0){e:{if(ve=s==="mouseover"||s==="pointerover",Pe=s==="mouseout"||s==="pointerout",ve&&p!==ae&&(De=p.relatedTarget||p.fromElement)&&(co(De)||De[Da]))break e;if((Pe||ve)&&(ve=ye.window===ye?ye:(ve=ye.ownerDocument)?ve.defaultView||ve.parentWindow:window,Pe?(De=p.relatedTarget||p.toElement,Pe=ue,De=De?co(De):null,De!==null&&(or=Y(De),De!==or||De.tag!==5&&De.tag!==6)&&(De=null)):(Pe=null,De=ue),Pe!==De)){if(Le=Xw,ke="onMouseLeave",oe="onMouseEnter",re="mouse",(s==="pointerout"||s==="pointerover")&&(Le=Qw,ke="onPointerLeave",oe="onPointerEnter",re="pointer"),or=Pe==null?ve:cs(Pe),le=De==null?ve:cs(De),ve=new Le(ke,re+"leave",Pe,p,ye),ve.target=or,ve.relatedTarget=le,ke=null,co(ye)===ue&&(Le=new Le(oe,re+"enter",De,p,ye),Le.target=le,Le.relatedTarget=or,ke=Le),or=ke,Pe&&De)t:{for(Le=Pe,oe=De,re=0,le=Le;le;le=ss(le))re++;for(le=0,ke=oe;ke;ke=ss(ke))le++;for(;0<re-le;)Le=ss(Le),re--;for(;0<le-re;)oe=ss(oe),le--;for(;re--;){if(Le===oe||oe!==null&&Le===oe.alternate)break t;Le=ss(Le),oe=ss(oe)}Le=null}else Le=null;Pe!==null&&Cj(be,ve,Pe,Le,!1),De!==null&&or!==null&&Cj(be,or,De,Le,!0)}}e:{if(ve=ue?cs(ue):window,Pe=ve.nodeName&&ve.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&ve.type==="file")var We=zM;else if(aj(ve))if(oj)We=_M;else{We=PM;var He=NM}else(Pe=ve.nodeName)&&Pe.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(We=OM);if(We&&(We=We(s,ue))){ij(be,We,p,ye);break e}He&&He(s,ve,ue),s==="focusout"&&(He=ve._wrapperState)&&He.controlled&&ve.type==="number"&&rr(ve,"number",ve.value)}switch(He=ue?cs(ue):window,s){case"focusin":(aj(He)||He.contentEditable==="true")&&(is=He,ym=ue,oc=null);break;case"focusout":oc=ym=is=null;break;case"mousedown":xm=!0;break;case"contextmenu":case"mouseup":case"dragend":xm=!1,hj(be,p,ye);break;case"selectionchange":if(DM)break;case"keydown":case"keyup":hj(be,p,ye)}var Ke;if(hm)e:{switch(s){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else as?rj(s,p)&&(Xe="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(Xe="onCompositionStart");Xe&&(Jw&&p.locale!=="ko"&&(as||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&as&&(Ke=qw()):(xi=ye,lm="value"in xi?xi.value:xi.textContent,as=!0)),He=xd(ue,Xe),0<He.length&&(Xe=new Yw(Xe,s,null,p,ye),be.push({event:Xe,listeners:He}),Ke?Xe.data=Ke:(Ke=nj(p),Ke!==null&&(Xe.data=Ke)))),(Ke=wM?jM(s,p):kM(s,p))&&(ue=xd(ue,"onBeforeInput"),0<ue.length&&(ye=new Yw("onBeforeInput","beforeinput",null,p,ye),be.push({event:ye,listeners:ue}),ye.data=Ke))}jj(be,c)})}function cc(s,c,p){return{instance:s,listener:c,currentTarget:p}}function xd(s,c){for(var p=c+"Capture",g=[];s!==null;){var C=s,P=C.stateNode;C.tag===5&&P!==null&&(C=P,P=Je(s,p),P!=null&&g.unshift(cc(s,P,C)),P=Je(s,c),P!=null&&g.push(cc(s,P,C))),s=s.return}return g}function ss(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Cj(s,c,p,g,C){for(var P=c._reactName,D=[];p!==null&&p!==g;){var G=p,J=G.alternate,ue=G.stateNode;if(J!==null&&J===g)break;G.tag===5&&ue!==null&&(G=ue,C?(J=Je(p,P),J!=null&&D.unshift(cc(p,J,G))):C||(J=Je(p,P),J!=null&&D.push(cc(p,J,G)))),p=p.return}D.length!==0&&s.push({event:c,listeners:D})}var LM=/\r\n?/g,BM=/\u0000|\uFFFD/g;function Aj(s){return(typeof s=="string"?s:""+s).replace(LM,`
`).replace(BM,"")}function bd(s,c,p){if(c=Aj(c),Aj(s)!==c&&p)throw Error(r(425))}function Sd(){}var Cm=null,Am=null;function zm(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Nm=typeof setTimeout=="function"?setTimeout:void 0,FM=typeof clearTimeout=="function"?clearTimeout:void 0,zj=typeof Promise=="function"?Promise:void 0,WM=typeof queueMicrotask=="function"?queueMicrotask:typeof zj<"u"?function(s){return zj.resolve(null).then(s).catch($M)}:Nm;function $M(s){setTimeout(function(){throw s})}function Pm(s,c){var p=c,g=0;do{var C=p.nextSibling;if(s.removeChild(p),C&&C.nodeType===8)if(p=C.data,p==="/$"){if(g===0){s.removeChild(C),Jl(c);return}g--}else p!=="$"&&p!=="$?"&&p!=="$!"||g++;p=C}while(p);Jl(c)}function Si(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return s}function Nj(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return s;c--}else p==="/$"&&c++}s=s.previousSibling}return null}var ls=Math.random().toString(36).slice(2),va="__reactFiber$"+ls,uc="__reactProps$"+ls,Da="__reactContainer$"+ls,Om="__reactEvents$"+ls,UM="__reactListeners$"+ls,HM="__reactHandles$"+ls;function co(s){var c=s[va];if(c)return c;for(var p=s.parentNode;p;){if(c=p[Da]||p[va]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(s=Nj(s);s!==null;){if(p=s[va])return p;s=Nj(s)}return c}s=p,p=s.parentNode}return null}function dc(s){return s=s[va]||s[Da],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function cs(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function wd(s){return s[uc]||null}var _m=[],us=-1;function wi(s){return{current:s}}function $t(s){0>us||(s.current=_m[us],_m[us]=null,us--)}function Dt(s,c){us++,_m[us]=s.current,s.current=c}var ji={},Lr=wi(ji),an=wi(!1),uo=ji;function ds(s,c){var p=s.type.contextTypes;if(!p)return ji;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===c)return g.__reactInternalMemoizedMaskedChildContext;var C={},P;for(P in p)C[P]=c[P];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=c,s.__reactInternalMemoizedMaskedChildContext=C),C}function on(s){return s=s.childContextTypes,s!=null}function jd(){$t(an),$t(Lr)}function Pj(s,c,p){if(Lr.current!==ji)throw Error(r(168));Dt(Lr,c),Dt(an,p)}function Oj(s,c,p){var g=s.stateNode;if(c=c.childContextTypes,typeof g.getChildContext!="function")return p;g=g.getChildContext();for(var C in g)if(!(C in c))throw Error(r(108,ne(s)||"Unknown",C));return L({},p,g)}function kd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ji,uo=Lr.current,Dt(Lr,s),Dt(an,an.current),!0}function _j(s,c,p){var g=s.stateNode;if(!g)throw Error(r(169));p?(s=Oj(s,c,uo),g.__reactInternalMemoizedMergedChildContext=s,$t(an),$t(Lr),Dt(Lr,s)):$t(an),Dt(an,p)}var Ra=null,Cd=!1,Tm=!1;function Tj(s){Ra===null?Ra=[s]:Ra.push(s)}function KM(s){Cd=!0,Tj(s)}function ki(){if(!Tm&&Ra!==null){Tm=!0;var s=0,c=kt;try{var p=Ra;for(kt=1;s<p.length;s++){var g=p[s];do g=g(!0);while(g!==null)}Ra=null,Cd=!1}catch(C){throw Ra!==null&&(Ra=Ra.slice(s+1)),Dw(em,ki),C}finally{kt=c,Tm=!1}}return null}var fs=[],ps=0,Ad=null,zd=0,Pn=[],On=0,fo=null,Ia=1,Ma="";function po(s,c){fs[ps++]=zd,fs[ps++]=Ad,Ad=s,zd=c}function Ej(s,c,p){Pn[On++]=Ia,Pn[On++]=Ma,Pn[On++]=fo,fo=s;var g=Ia;s=Ma;var C=32-qn(g)-1;g&=~(1<<C),p+=1;var P=32-qn(c)+C;if(30<P){var D=C-C%5;P=(g&(1<<D)-1).toString(32),g>>=D,C-=D,Ia=1<<32-qn(c)+C|p<<C|g,Ma=P+s}else Ia=1<<P|p<<C|g,Ma=s}function Em(s){s.return!==null&&(po(s,1),Ej(s,1,0))}function Dm(s){for(;s===Ad;)Ad=fs[--ps],fs[ps]=null,zd=fs[--ps],fs[ps]=null;for(;s===fo;)fo=Pn[--On],Pn[On]=null,Ma=Pn[--On],Pn[On]=null,Ia=Pn[--On],Pn[On]=null}var xn=null,bn=null,Gt=!1,Xn=null;function Dj(s,c){var p=Dn(5,null,null,0);p.elementType="DELETED",p.stateNode=c,p.return=s,c=s.deletions,c===null?(s.deletions=[p],s.flags|=16):c.push(p)}function Rj(s,c){switch(s.tag){case 5:var p=s.type;return c=c.nodeType!==1||p.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(s.stateNode=c,xn=s,bn=Si(c.firstChild),!0):!1;case 6:return c=s.pendingProps===""||c.nodeType!==3?null:c,c!==null?(s.stateNode=c,xn=s,bn=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(p=fo!==null?{id:Ia,overflow:Ma}:null,s.memoizedState={dehydrated:c,treeContext:p,retryLane:1073741824},p=Dn(18,null,null,0),p.stateNode=c,p.return=s,s.child=p,xn=s,bn=null,!0):!1;default:return!1}}function Rm(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Im(s){if(Gt){var c=bn;if(c){var p=c;if(!Rj(s,c)){if(Rm(s))throw Error(r(418));c=Si(p.nextSibling);var g=xn;c&&Rj(s,c)?Dj(g,p):(s.flags=s.flags&-4097|2,Gt=!1,xn=s)}}else{if(Rm(s))throw Error(r(418));s.flags=s.flags&-4097|2,Gt=!1,xn=s}}}function Ij(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;xn=s}function Nd(s){if(s!==xn)return!1;if(!Gt)return Ij(s),Gt=!0,!1;var c;if((c=s.tag!==3)&&!(c=s.tag!==5)&&(c=s.type,c=c!=="head"&&c!=="body"&&!zm(s.type,s.memoizedProps)),c&&(c=bn)){if(Rm(s))throw Mj(),Error(r(418));for(;c;)Dj(s,c),c=Si(c.nextSibling)}if(Ij(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,c=0;s;){if(s.nodeType===8){var p=s.data;if(p==="/$"){if(c===0){bn=Si(s.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++}s=s.nextSibling}bn=null}}else bn=xn?Si(s.stateNode.nextSibling):null;return!0}function Mj(){for(var s=bn;s;)s=Si(s.nextSibling)}function hs(){bn=xn=null,Gt=!1}function Mm(s){Xn===null?Xn=[s]:Xn.push(s)}var VM=N.ReactCurrentBatchConfig;function fc(s,c,p){if(s=p.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(r(309));var g=p.stateNode}if(!g)throw Error(r(147,s));var C=g,P=""+s;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===P?c.ref:(c=function(D){var G=C.refs;D===null?delete G[P]:G[P]=D},c._stringRef=P,c)}if(typeof s!="string")throw Error(r(284));if(!p._owner)throw Error(r(290,s))}return s}function Pd(s,c){throw s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s))}function Lj(s){var c=s._init;return c(s._payload)}function Bj(s){function c(oe,re){if(s){var le=oe.deletions;le===null?(oe.deletions=[re],oe.flags|=16):le.push(re)}}function p(oe,re){if(!s)return null;for(;re!==null;)c(oe,re),re=re.sibling;return null}function g(oe,re){for(oe=new Map;re!==null;)re.key!==null?oe.set(re.key,re):oe.set(re.index,re),re=re.sibling;return oe}function C(oe,re){return oe=Ti(oe,re),oe.index=0,oe.sibling=null,oe}function P(oe,re,le){return oe.index=le,s?(le=oe.alternate,le!==null?(le=le.index,le<re?(oe.flags|=2,re):le):(oe.flags|=2,re)):(oe.flags|=1048576,re)}function D(oe){return s&&oe.alternate===null&&(oe.flags|=2),oe}function G(oe,re,le,ke){return re===null||re.tag!==6?(re=Nv(le,oe.mode,ke),re.return=oe,re):(re=C(re,le),re.return=oe,re)}function J(oe,re,le,ke){var We=le.type;return We===_?ye(oe,re,le.props.children,ke,le.key):re!==null&&(re.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===$&&Lj(We)===re.type)?(ke=C(re,le.props),ke.ref=fc(oe,re,le),ke.return=oe,ke):(ke=Jd(le.type,le.key,le.props,null,oe.mode,ke),ke.ref=fc(oe,re,le),ke.return=oe,ke)}function ue(oe,re,le,ke){return re===null||re.tag!==4||re.stateNode.containerInfo!==le.containerInfo||re.stateNode.implementation!==le.implementation?(re=Pv(le,oe.mode,ke),re.return=oe,re):(re=C(re,le.children||[]),re.return=oe,re)}function ye(oe,re,le,ke,We){return re===null||re.tag!==7?(re=So(le,oe.mode,ke,We),re.return=oe,re):(re=C(re,le),re.return=oe,re)}function be(oe,re,le){if(typeof re=="string"&&re!==""||typeof re=="number")return re=Nv(""+re,oe.mode,le),re.return=oe,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case z:return le=Jd(re.type,re.key,re.props,null,oe.mode,le),le.ref=fc(oe,null,re),le.return=oe,le;case O:return re=Pv(re,oe.mode,le),re.return=oe,re;case $:var ke=re._init;return be(oe,ke(re._payload),le)}if(ft(re)||Q(re))return re=So(re,oe.mode,le,null),re.return=oe,re;Pd(oe,re)}return null}function ve(oe,re,le,ke){var We=re!==null?re.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return We!==null?null:G(oe,re,""+le,ke);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case z:return le.key===We?J(oe,re,le,ke):null;case O:return le.key===We?ue(oe,re,le,ke):null;case $:return We=le._init,ve(oe,re,We(le._payload),ke)}if(ft(le)||Q(le))return We!==null?null:ye(oe,re,le,ke,null);Pd(oe,le)}return null}function Pe(oe,re,le,ke,We){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return oe=oe.get(le)||null,G(re,oe,""+ke,We);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case z:return oe=oe.get(ke.key===null?le:ke.key)||null,J(re,oe,ke,We);case O:return oe=oe.get(ke.key===null?le:ke.key)||null,ue(re,oe,ke,We);case $:var He=ke._init;return Pe(oe,re,le,He(ke._payload),We)}if(ft(ke)||Q(ke))return oe=oe.get(le)||null,ye(re,oe,ke,We,null);Pd(re,ke)}return null}function De(oe,re,le,ke){for(var We=null,He=null,Ke=re,Xe=re=0,kr=null;Ke!==null&&Xe<le.length;Xe++){Ke.index>Xe?(kr=Ke,Ke=null):kr=Ke.sibling;var vt=ve(oe,Ke,le[Xe],ke);if(vt===null){Ke===null&&(Ke=kr);break}s&&Ke&&vt.alternate===null&&c(oe,Ke),re=P(vt,re,Xe),He===null?We=vt:He.sibling=vt,He=vt,Ke=kr}if(Xe===le.length)return p(oe,Ke),Gt&&po(oe,Xe),We;if(Ke===null){for(;Xe<le.length;Xe++)Ke=be(oe,le[Xe],ke),Ke!==null&&(re=P(Ke,re,Xe),He===null?We=Ke:He.sibling=Ke,He=Ke);return Gt&&po(oe,Xe),We}for(Ke=g(oe,Ke);Xe<le.length;Xe++)kr=Pe(Ke,oe,Xe,le[Xe],ke),kr!==null&&(s&&kr.alternate!==null&&Ke.delete(kr.key===null?Xe:kr.key),re=P(kr,re,Xe),He===null?We=kr:He.sibling=kr,He=kr);return s&&Ke.forEach(function(Ei){return c(oe,Ei)}),Gt&&po(oe,Xe),We}function Le(oe,re,le,ke){var We=Q(le);if(typeof We!="function")throw Error(r(150));if(le=We.call(le),le==null)throw Error(r(151));for(var He=We=null,Ke=re,Xe=re=0,kr=null,vt=le.next();Ke!==null&&!vt.done;Xe++,vt=le.next()){Ke.index>Xe?(kr=Ke,Ke=null):kr=Ke.sibling;var Ei=ve(oe,Ke,vt.value,ke);if(Ei===null){Ke===null&&(Ke=kr);break}s&&Ke&&Ei.alternate===null&&c(oe,Ke),re=P(Ei,re,Xe),He===null?We=Ei:He.sibling=Ei,He=Ei,Ke=kr}if(vt.done)return p(oe,Ke),Gt&&po(oe,Xe),We;if(Ke===null){for(;!vt.done;Xe++,vt=le.next())vt=be(oe,vt.value,ke),vt!==null&&(re=P(vt,re,Xe),He===null?We=vt:He.sibling=vt,He=vt);return Gt&&po(oe,Xe),We}for(Ke=g(oe,Ke);!vt.done;Xe++,vt=le.next())vt=Pe(Ke,oe,Xe,vt.value,ke),vt!==null&&(s&&vt.alternate!==null&&Ke.delete(vt.key===null?Xe:vt.key),re=P(vt,re,Xe),He===null?We=vt:He.sibling=vt,He=vt);return s&&Ke.forEach(function(C5){return c(oe,C5)}),Gt&&po(oe,Xe),We}function or(oe,re,le,ke){if(typeof le=="object"&&le!==null&&le.type===_&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case z:e:{for(var We=le.key,He=re;He!==null;){if(He.key===We){if(We=le.type,We===_){if(He.tag===7){p(oe,He.sibling),re=C(He,le.props.children),re.return=oe,oe=re;break e}}else if(He.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===$&&Lj(We)===He.type){p(oe,He.sibling),re=C(He,le.props),re.ref=fc(oe,He,le),re.return=oe,oe=re;break e}p(oe,He);break}else c(oe,He);He=He.sibling}le.type===_?(re=So(le.props.children,oe.mode,ke,le.key),re.return=oe,oe=re):(ke=Jd(le.type,le.key,le.props,null,oe.mode,ke),ke.ref=fc(oe,re,le),ke.return=oe,oe=ke)}return D(oe);case O:e:{for(He=le.key;re!==null;){if(re.key===He)if(re.tag===4&&re.stateNode.containerInfo===le.containerInfo&&re.stateNode.implementation===le.implementation){p(oe,re.sibling),re=C(re,le.children||[]),re.return=oe,oe=re;break e}else{p(oe,re);break}else c(oe,re);re=re.sibling}re=Pv(le,oe.mode,ke),re.return=oe,oe=re}return D(oe);case $:return He=le._init,or(oe,re,He(le._payload),ke)}if(ft(le))return De(oe,re,le,ke);if(Q(le))return Le(oe,re,le,ke);Pd(oe,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,re!==null&&re.tag===6?(p(oe,re.sibling),re=C(re,le),re.return=oe,oe=re):(p(oe,re),re=Nv(le,oe.mode,ke),re.return=oe,oe=re),D(oe)):p(oe,re)}return or}var ms=Bj(!0),Fj=Bj(!1),Od=wi(null),_d=null,vs=null,Lm=null;function Bm(){Lm=vs=_d=null}function Fm(s){var c=Od.current;$t(Od),s._currentValue=c}function Wm(s,c,p){for(;s!==null;){var g=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),s===p)break;s=s.return}}function gs(s,c){_d=s,Lm=vs=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&c)!==0&&(sn=!0),s.firstContext=null)}function _n(s){var c=s._currentValue;if(Lm!==s)if(s={context:s,memoizedValue:c,next:null},vs===null){if(_d===null)throw Error(r(308));vs=s,_d.dependencies={lanes:0,firstContext:s}}else vs=vs.next=s;return c}var ho=null;function $m(s){ho===null?ho=[s]:ho.push(s)}function Wj(s,c,p,g){var C=c.interleaved;return C===null?(p.next=p,$m(c)):(p.next=C.next,C.next=p),c.interleaved=p,La(s,g)}function La(s,c){s.lanes|=c;var p=s.alternate;for(p!==null&&(p.lanes|=c),p=s,s=s.return;s!==null;)s.childLanes|=c,p=s.alternate,p!==null&&(p.childLanes|=c),p=s,s=s.return;return p.tag===3?p.stateNode:null}var Ci=!1;function Um(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $j(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ba(s,c){return{eventTime:s,lane:c,tag:0,payload:null,callback:null,next:null}}function Ai(s,c,p){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(ht&2)!==0){var C=g.pending;return C===null?c.next=c:(c.next=C.next,C.next=c),g.pending=c,La(s,p)}return C=g.interleaved,C===null?(c.next=c,$m(g)):(c.next=C.next,C.next=c),g.interleaved=c,La(s,p)}function Td(s,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194240)!==0)){var g=c.lanes;g&=s.pendingLanes,p|=g,c.lanes=p,nm(s,p)}}function Uj(s,c){var p=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,p===g)){var C=null,P=null;if(p=p.firstBaseUpdate,p!==null){do{var D={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};P===null?C=P=D:P=P.next=D,p=p.next}while(p!==null);P===null?C=P=c:P=P.next=c}else C=P=c;p={baseState:g.baseState,firstBaseUpdate:C,lastBaseUpdate:P,shared:g.shared,effects:g.effects},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=c:s.next=c,p.lastBaseUpdate=c}function Ed(s,c,p,g){var C=s.updateQueue;Ci=!1;var P=C.firstBaseUpdate,D=C.lastBaseUpdate,G=C.shared.pending;if(G!==null){C.shared.pending=null;var J=G,ue=J.next;J.next=null,D===null?P=ue:D.next=ue,D=J;var ye=s.alternate;ye!==null&&(ye=ye.updateQueue,G=ye.lastBaseUpdate,G!==D&&(G===null?ye.firstBaseUpdate=ue:G.next=ue,ye.lastBaseUpdate=J))}if(P!==null){var be=C.baseState;D=0,ye=ue=J=null,G=P;do{var ve=G.lane,Pe=G.eventTime;if((g&ve)===ve){ye!==null&&(ye=ye.next={eventTime:Pe,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});e:{var De=s,Le=G;switch(ve=c,Pe=p,Le.tag){case 1:if(De=Le.payload,typeof De=="function"){be=De.call(Pe,be,ve);break e}be=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Le.payload,ve=typeof De=="function"?De.call(Pe,be,ve):De,ve==null)break e;be=L({},be,ve);break e;case 2:Ci=!0}}G.callback!==null&&G.lane!==0&&(s.flags|=64,ve=C.effects,ve===null?C.effects=[G]:ve.push(G))}else Pe={eventTime:Pe,lane:ve,tag:G.tag,payload:G.payload,callback:G.callback,next:null},ye===null?(ue=ye=Pe,J=be):ye=ye.next=Pe,D|=ve;if(G=G.next,G===null){if(G=C.shared.pending,G===null)break;ve=G,G=ve.next,ve.next=null,C.lastBaseUpdate=ve,C.shared.pending=null}}while(!0);if(ye===null&&(J=be),C.baseState=J,C.firstBaseUpdate=ue,C.lastBaseUpdate=ye,c=C.shared.interleaved,c!==null){C=c;do D|=C.lane,C=C.next;while(C!==c)}else P===null&&(C.shared.lanes=0);go|=D,s.lanes=D,s.memoizedState=be}}function Hj(s,c,p){if(s=c.effects,c.effects=null,s!==null)for(c=0;c<s.length;c++){var g=s[c],C=g.callback;if(C!==null){if(g.callback=null,g=p,typeof C!="function")throw Error(r(191,C));C.call(g)}}}var pc={},ga=wi(pc),hc=wi(pc),mc=wi(pc);function mo(s){if(s===pc)throw Error(r(174));return s}function Hm(s,c){switch(Dt(mc,c),Dt(hc,s),Dt(ga,pc),s=c.nodeType,s){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:lt(null,"");break;default:s=s===8?c.parentNode:c,c=s.namespaceURI||null,s=s.tagName,c=lt(c,s)}$t(ga),Dt(ga,c)}function ys(){$t(ga),$t(hc),$t(mc)}function Kj(s){mo(mc.current);var c=mo(ga.current),p=lt(c,s.type);c!==p&&(Dt(hc,s),Dt(ga,p))}function Km(s){hc.current===s&&($t(ga),$t(hc))}var Qt=wi(0);function Dd(s){for(var c=s;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Vm=[];function Gm(){for(var s=0;s<Vm.length;s++)Vm[s]._workInProgressVersionPrimary=null;Vm.length=0}var Rd=N.ReactCurrentDispatcher,qm=N.ReactCurrentBatchConfig,vo=0,Jt=null,hr=null,wr=null,Id=!1,vc=!1,gc=0,GM=0;function Br(){throw Error(r(321))}function Zm(s,c){if(c===null)return!1;for(var p=0;p<c.length&&p<s.length;p++)if(!Zn(s[p],c[p]))return!1;return!0}function Xm(s,c,p,g,C,P){if(vo=P,Jt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Rd.current=s===null||s.memoizedState===null?YM:QM,s=p(g,C),vc){P=0;do{if(vc=!1,gc=0,25<=P)throw Error(r(301));P+=1,wr=hr=null,c.updateQueue=null,Rd.current=JM,s=p(g,C)}while(vc)}if(Rd.current=Bd,c=hr!==null&&hr.next!==null,vo=0,wr=hr=Jt=null,Id=!1,c)throw Error(r(300));return s}function Ym(){var s=gc!==0;return gc=0,s}function ya(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?Jt.memoizedState=wr=s:wr=wr.next=s,wr}function Tn(){if(hr===null){var s=Jt.alternate;s=s!==null?s.memoizedState:null}else s=hr.next;var c=wr===null?Jt.memoizedState:wr.next;if(c!==null)wr=c,hr=s;else{if(s===null)throw Error(r(310));hr=s,s={memoizedState:hr.memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},wr===null?Jt.memoizedState=wr=s:wr=wr.next=s}return wr}function yc(s,c){return typeof c=="function"?c(s):c}function Qm(s){var c=Tn(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=s;var g=hr,C=g.baseQueue,P=p.pending;if(P!==null){if(C!==null){var D=C.next;C.next=P.next,P.next=D}g.baseQueue=C=P,p.pending=null}if(C!==null){P=C.next,g=g.baseState;var G=D=null,J=null,ue=P;do{var ye=ue.lane;if((vo&ye)===ye)J!==null&&(J=J.next={lane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),g=ue.hasEagerState?ue.eagerState:s(g,ue.action);else{var be={lane:ye,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null};J===null?(G=J=be,D=g):J=J.next=be,Jt.lanes|=ye,go|=ye}ue=ue.next}while(ue!==null&&ue!==P);J===null?D=g:J.next=G,Zn(g,c.memoizedState)||(sn=!0),c.memoizedState=g,c.baseState=D,c.baseQueue=J,p.lastRenderedState=g}if(s=p.interleaved,s!==null){C=s;do P=C.lane,Jt.lanes|=P,go|=P,C=C.next;while(C!==s)}else C===null&&(p.lanes=0);return[c.memoizedState,p.dispatch]}function Jm(s){var c=Tn(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=s;var g=p.dispatch,C=p.pending,P=c.memoizedState;if(C!==null){p.pending=null;var D=C=C.next;do P=s(P,D.action),D=D.next;while(D!==C);Zn(P,c.memoizedState)||(sn=!0),c.memoizedState=P,c.baseQueue===null&&(c.baseState=P),p.lastRenderedState=P}return[P,g]}function Vj(){}function Gj(s,c){var p=Jt,g=Tn(),C=c(),P=!Zn(g.memoizedState,C);if(P&&(g.memoizedState=C,sn=!0),g=g.queue,ev(Xj.bind(null,p,g,s),[s]),g.getSnapshot!==c||P||wr!==null&&wr.memoizedState.tag&1){if(p.flags|=2048,xc(9,Zj.bind(null,p,g,C,c),void 0,null),jr===null)throw Error(r(349));(vo&30)!==0||qj(p,c,C)}return C}function qj(s,c,p){s.flags|=16384,s={getSnapshot:c,value:p},c=Jt.updateQueue,c===null?(c={lastEffect:null,stores:null},Jt.updateQueue=c,c.stores=[s]):(p=c.stores,p===null?c.stores=[s]:p.push(s))}function Zj(s,c,p,g){c.value=p,c.getSnapshot=g,Yj(c)&&Qj(s)}function Xj(s,c,p){return p(function(){Yj(c)&&Qj(s)})}function Yj(s){var c=s.getSnapshot;s=s.value;try{var p=c();return!Zn(s,p)}catch{return!0}}function Qj(s){var c=La(s,1);c!==null&&ea(c,s,1,-1)}function Jj(s){var c=ya();return typeof s=="function"&&(s=s()),c.memoizedState=c.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yc,lastRenderedState:s},c.queue=s,s=s.dispatch=XM.bind(null,Jt,s),[c.memoizedState,s]}function xc(s,c,p,g){return s={tag:s,create:c,destroy:p,deps:g,next:null},c=Jt.updateQueue,c===null?(c={lastEffect:null,stores:null},Jt.updateQueue=c,c.lastEffect=s.next=s):(p=c.lastEffect,p===null?c.lastEffect=s.next=s:(g=p.next,p.next=s,s.next=g,c.lastEffect=s)),s}function ek(){return Tn().memoizedState}function Md(s,c,p,g){var C=ya();Jt.flags|=s,C.memoizedState=xc(1|c,p,void 0,g===void 0?null:g)}function Ld(s,c,p,g){var C=Tn();g=g===void 0?null:g;var P=void 0;if(hr!==null){var D=hr.memoizedState;if(P=D.destroy,g!==null&&Zm(g,D.deps)){C.memoizedState=xc(c,p,P,g);return}}Jt.flags|=s,C.memoizedState=xc(1|c,p,P,g)}function tk(s,c){return Md(8390656,8,s,c)}function ev(s,c){return Ld(2048,8,s,c)}function rk(s,c){return Ld(4,2,s,c)}function nk(s,c){return Ld(4,4,s,c)}function ak(s,c){if(typeof c=="function")return s=s(),c(s),function(){c(null)};if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function ik(s,c,p){return p=p!=null?p.concat([s]):null,Ld(4,4,ak.bind(null,c,s),p)}function tv(){}function ok(s,c){var p=Tn();c=c===void 0?null:c;var g=p.memoizedState;return g!==null&&c!==null&&Zm(c,g[1])?g[0]:(p.memoizedState=[s,c],s)}function sk(s,c){var p=Tn();c=c===void 0?null:c;var g=p.memoizedState;return g!==null&&c!==null&&Zm(c,g[1])?g[0]:(s=s(),p.memoizedState=[s,c],s)}function lk(s,c,p){return(vo&21)===0?(s.baseState&&(s.baseState=!1,sn=!0),s.memoizedState=p):(Zn(p,c)||(p=Lw(),Jt.lanes|=p,go|=p,s.baseState=!0),c)}function qM(s,c){var p=kt;kt=p!==0&&4>p?p:4,s(!0);var g=qm.transition;qm.transition={};try{s(!1),c()}finally{kt=p,qm.transition=g}}function ck(){return Tn().memoizedState}function ZM(s,c,p){var g=Oi(s);if(p={lane:g,action:p,hasEagerState:!1,eagerState:null,next:null},uk(s))dk(c,p);else if(p=Wj(s,c,p,g),p!==null){var C=Yr();ea(p,s,g,C),fk(p,c,g)}}function XM(s,c,p){var g=Oi(s),C={lane:g,action:p,hasEagerState:!1,eagerState:null,next:null};if(uk(s))dk(c,C);else{var P=s.alternate;if(s.lanes===0&&(P===null||P.lanes===0)&&(P=c.lastRenderedReducer,P!==null))try{var D=c.lastRenderedState,G=P(D,p);if(C.hasEagerState=!0,C.eagerState=G,Zn(G,D)){var J=c.interleaved;J===null?(C.next=C,$m(c)):(C.next=J.next,J.next=C),c.interleaved=C;return}}catch{}finally{}p=Wj(s,c,C,g),p!==null&&(C=Yr(),ea(p,s,g,C),fk(p,c,g))}}function uk(s){var c=s.alternate;return s===Jt||c!==null&&c===Jt}function dk(s,c){vc=Id=!0;var p=s.pending;p===null?c.next=c:(c.next=p.next,p.next=c),s.pending=c}function fk(s,c,p){if((p&4194240)!==0){var g=c.lanes;g&=s.pendingLanes,p|=g,c.lanes=p,nm(s,p)}}var Bd={readContext:_n,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useInsertionEffect:Br,useLayoutEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useMutableSource:Br,useSyncExternalStore:Br,useId:Br,unstable_isNewReconciler:!1},YM={readContext:_n,useCallback:function(s,c){return ya().memoizedState=[s,c===void 0?null:c],s},useContext:_n,useEffect:tk,useImperativeHandle:function(s,c,p){return p=p!=null?p.concat([s]):null,Md(4194308,4,ak.bind(null,c,s),p)},useLayoutEffect:function(s,c){return Md(4194308,4,s,c)},useInsertionEffect:function(s,c){return Md(4,2,s,c)},useMemo:function(s,c){var p=ya();return c=c===void 0?null:c,s=s(),p.memoizedState=[s,c],s},useReducer:function(s,c,p){var g=ya();return c=p!==void 0?p(c):c,g.memoizedState=g.baseState=c,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:c},g.queue=s,s=s.dispatch=ZM.bind(null,Jt,s),[g.memoizedState,s]},useRef:function(s){var c=ya();return s={current:s},c.memoizedState=s},useState:Jj,useDebugValue:tv,useDeferredValue:function(s){return ya().memoizedState=s},useTransition:function(){var s=Jj(!1),c=s[0];return s=qM.bind(null,s[1]),ya().memoizedState=s,[c,s]},useMutableSource:function(){},useSyncExternalStore:function(s,c,p){var g=Jt,C=ya();if(Gt){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),jr===null)throw Error(r(349));(vo&30)!==0||qj(g,c,p)}C.memoizedState=p;var P={value:p,getSnapshot:c};return C.queue=P,tk(Xj.bind(null,g,P,s),[s]),g.flags|=2048,xc(9,Zj.bind(null,g,P,p,c),void 0,null),p},useId:function(){var s=ya(),c=jr.identifierPrefix;if(Gt){var p=Ma,g=Ia;p=(g&~(1<<32-qn(g)-1)).toString(32)+p,c=":"+c+"R"+p,p=gc++,0<p&&(c+="H"+p.toString(32)),c+=":"}else p=GM++,c=":"+c+"r"+p.toString(32)+":";return s.memoizedState=c},unstable_isNewReconciler:!1},QM={readContext:_n,useCallback:ok,useContext:_n,useEffect:ev,useImperativeHandle:ik,useInsertionEffect:rk,useLayoutEffect:nk,useMemo:sk,useReducer:Qm,useRef:ek,useState:function(){return Qm(yc)},useDebugValue:tv,useDeferredValue:function(s){var c=Tn();return lk(c,hr.memoizedState,s)},useTransition:function(){var s=Qm(yc)[0],c=Tn().memoizedState;return[s,c]},useMutableSource:Vj,useSyncExternalStore:Gj,useId:ck,unstable_isNewReconciler:!1},JM={readContext:_n,useCallback:ok,useContext:_n,useEffect:ev,useImperativeHandle:ik,useInsertionEffect:rk,useLayoutEffect:nk,useMemo:sk,useReducer:Jm,useRef:ek,useState:function(){return Jm(yc)},useDebugValue:tv,useDeferredValue:function(s){var c=Tn();return hr===null?c.memoizedState=s:lk(c,hr.memoizedState,s)},useTransition:function(){var s=Jm(yc)[0],c=Tn().memoizedState;return[s,c]},useMutableSource:Vj,useSyncExternalStore:Gj,useId:ck,unstable_isNewReconciler:!1};function Yn(s,c){if(s&&s.defaultProps){c=L({},c),s=s.defaultProps;for(var p in s)c[p]===void 0&&(c[p]=s[p]);return c}return c}function rv(s,c,p,g){c=s.memoizedState,p=p(g,c),p=p==null?c:L({},c,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var Fd={isMounted:function(s){return(s=s._reactInternals)?Y(s)===s:!1},enqueueSetState:function(s,c,p){s=s._reactInternals;var g=Yr(),C=Oi(s),P=Ba(g,C);P.payload=c,p!=null&&(P.callback=p),c=Ai(s,P,C),c!==null&&(ea(c,s,C,g),Td(c,s,C))},enqueueReplaceState:function(s,c,p){s=s._reactInternals;var g=Yr(),C=Oi(s),P=Ba(g,C);P.tag=1,P.payload=c,p!=null&&(P.callback=p),c=Ai(s,P,C),c!==null&&(ea(c,s,C,g),Td(c,s,C))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var p=Yr(),g=Oi(s),C=Ba(p,g);C.tag=2,c!=null&&(C.callback=c),c=Ai(s,C,g),c!==null&&(ea(c,s,g,p),Td(c,s,g))}};function pk(s,c,p,g,C,P,D){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,P,D):c.prototype&&c.prototype.isPureReactComponent?!ic(p,g)||!ic(C,P):!0}function hk(s,c,p){var g=!1,C=ji,P=c.contextType;return typeof P=="object"&&P!==null?P=_n(P):(C=on(c)?uo:Lr.current,g=c.contextTypes,P=(g=g!=null)?ds(s,C):ji),c=new c(p,P),s.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Fd,s.stateNode=c,c._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=C,s.__reactInternalMemoizedMaskedChildContext=P),c}function mk(s,c,p,g){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,g),c.state!==s&&Fd.enqueueReplaceState(c,c.state,null)}function nv(s,c,p,g){var C=s.stateNode;C.props=p,C.state=s.memoizedState,C.refs={},Um(s);var P=c.contextType;typeof P=="object"&&P!==null?C.context=_n(P):(P=on(c)?uo:Lr.current,C.context=ds(s,P)),C.state=s.memoizedState,P=c.getDerivedStateFromProps,typeof P=="function"&&(rv(s,c,P,p),C.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(c=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),c!==C.state&&Fd.enqueueReplaceState(C,C.state,null),Ed(s,p,C,g),C.state=s.memoizedState),typeof C.componentDidMount=="function"&&(s.flags|=4194308)}function xs(s,c){try{var p="",g=c;do p+=ge(g),g=g.return;while(g);var C=p}catch(P){C=`
Error generating stack: `+P.message+`
`+P.stack}return{value:s,source:c,stack:C,digest:null}}function av(s,c,p){return{value:s,source:null,stack:p??null,digest:c??null}}function iv(s,c){try{console.error(c.value)}catch(p){setTimeout(function(){throw p})}}var e5=typeof WeakMap=="function"?WeakMap:Map;function vk(s,c,p){p=Ba(-1,p),p.tag=3,p.payload={element:null};var g=c.value;return p.callback=function(){Gd||(Gd=!0,bv=g),iv(s,c)},p}function gk(s,c,p){p=Ba(-1,p),p.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var C=c.value;p.payload=function(){return g(C)},p.callback=function(){iv(s,c)}}var P=s.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(p.callback=function(){iv(s,c),typeof g!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})}),p}function yk(s,c,p){var g=s.pingCache;if(g===null){g=s.pingCache=new e5;var C=new Set;g.set(c,C)}else C=g.get(c),C===void 0&&(C=new Set,g.set(c,C));C.has(p)||(C.add(p),s=h5.bind(null,s,c,p),c.then(s,s))}function xk(s){do{var c;if((c=s.tag===13)&&(c=s.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return s;s=s.return}while(s!==null);return null}function bk(s,c,p,g,C){return(s.mode&1)===0?(s===c?s.flags|=65536:(s.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(c=Ba(-1,1),c.tag=2,Ai(p,c,1))),p.lanes|=1),s):(s.flags|=65536,s.lanes=C,s)}var t5=N.ReactCurrentOwner,sn=!1;function Xr(s,c,p,g){c.child=s===null?Fj(c,null,p,g):ms(c,s.child,p,g)}function Sk(s,c,p,g,C){p=p.render;var P=c.ref;return gs(c,C),g=Xm(s,c,p,g,P,C),p=Ym(),s!==null&&!sn?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~C,Fa(s,c,C)):(Gt&&p&&Em(c),c.flags|=1,Xr(s,c,g,C),c.child)}function wk(s,c,p,g,C){if(s===null){var P=p.type;return typeof P=="function"&&!zv(P)&&P.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(c.tag=15,c.type=P,jk(s,c,P,g,C)):(s=Jd(p.type,null,g,c,c.mode,C),s.ref=c.ref,s.return=c,c.child=s)}if(P=s.child,(s.lanes&C)===0){var D=P.memoizedProps;if(p=p.compare,p=p!==null?p:ic,p(D,g)&&s.ref===c.ref)return Fa(s,c,C)}return c.flags|=1,s=Ti(P,g),s.ref=c.ref,s.return=c,c.child=s}function jk(s,c,p,g,C){if(s!==null){var P=s.memoizedProps;if(ic(P,g)&&s.ref===c.ref)if(sn=!1,c.pendingProps=g=P,(s.lanes&C)!==0)(s.flags&131072)!==0&&(sn=!0);else return c.lanes=s.lanes,Fa(s,c,C)}return ov(s,c,p,g,C)}function kk(s,c,p){var g=c.pendingProps,C=g.children,P=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dt(Ss,Sn),Sn|=p;else{if((p&1073741824)===0)return s=P!==null?P.baseLanes|p:p,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:s,cachePool:null,transitions:null},c.updateQueue=null,Dt(Ss,Sn),Sn|=s,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=P!==null?P.baseLanes:p,Dt(Ss,Sn),Sn|=g}else P!==null?(g=P.baseLanes|p,c.memoizedState=null):g=p,Dt(Ss,Sn),Sn|=g;return Xr(s,c,C,p),c.child}function Ck(s,c){var p=c.ref;(s===null&&p!==null||s!==null&&s.ref!==p)&&(c.flags|=512,c.flags|=2097152)}function ov(s,c,p,g,C){var P=on(p)?uo:Lr.current;return P=ds(c,P),gs(c,C),p=Xm(s,c,p,g,P,C),g=Ym(),s!==null&&!sn?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~C,Fa(s,c,C)):(Gt&&g&&Em(c),c.flags|=1,Xr(s,c,p,C),c.child)}function Ak(s,c,p,g,C){if(on(p)){var P=!0;kd(c)}else P=!1;if(gs(c,C),c.stateNode===null)$d(s,c),hk(c,p,g),nv(c,p,g,C),g=!0;else if(s===null){var D=c.stateNode,G=c.memoizedProps;D.props=G;var J=D.context,ue=p.contextType;typeof ue=="object"&&ue!==null?ue=_n(ue):(ue=on(p)?uo:Lr.current,ue=ds(c,ue));var ye=p.getDerivedStateFromProps,be=typeof ye=="function"||typeof D.getSnapshotBeforeUpdate=="function";be||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(G!==g||J!==ue)&&mk(c,D,g,ue),Ci=!1;var ve=c.memoizedState;D.state=ve,Ed(c,g,D,C),J=c.memoizedState,G!==g||ve!==J||an.current||Ci?(typeof ye=="function"&&(rv(c,p,ye,g),J=c.memoizedState),(G=Ci||pk(c,p,G,g,ve,J,ue))?(be||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(c.flags|=4194308)):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=J),D.props=g,D.state=J,D.context=ue,g=G):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{D=c.stateNode,$j(s,c),G=c.memoizedProps,ue=c.type===c.elementType?G:Yn(c.type,G),D.props=ue,be=c.pendingProps,ve=D.context,J=p.contextType,typeof J=="object"&&J!==null?J=_n(J):(J=on(p)?uo:Lr.current,J=ds(c,J));var Pe=p.getDerivedStateFromProps;(ye=typeof Pe=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(G!==be||ve!==J)&&mk(c,D,g,J),Ci=!1,ve=c.memoizedState,D.state=ve,Ed(c,g,D,C);var De=c.memoizedState;G!==be||ve!==De||an.current||Ci?(typeof Pe=="function"&&(rv(c,p,Pe,g),De=c.memoizedState),(ue=Ci||pk(c,p,ue,g,ve,De,J)||!1)?(ye||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(g,De,J),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(g,De,J)),typeof D.componentDidUpdate=="function"&&(c.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof D.componentDidUpdate!="function"||G===s.memoizedProps&&ve===s.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||G===s.memoizedProps&&ve===s.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=De),D.props=g,D.state=De,D.context=J,g=ue):(typeof D.componentDidUpdate!="function"||G===s.memoizedProps&&ve===s.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||G===s.memoizedProps&&ve===s.memoizedState||(c.flags|=1024),g=!1)}return sv(s,c,p,g,P,C)}function sv(s,c,p,g,C,P){Ck(s,c);var D=(c.flags&128)!==0;if(!g&&!D)return C&&_j(c,p,!1),Fa(s,c,P);g=c.stateNode,t5.current=c;var G=D&&typeof p.getDerivedStateFromError!="function"?null:g.render();return c.flags|=1,s!==null&&D?(c.child=ms(c,s.child,null,P),c.child=ms(c,null,G,P)):Xr(s,c,G,P),c.memoizedState=g.state,C&&_j(c,p,!0),c.child}function zk(s){var c=s.stateNode;c.pendingContext?Pj(s,c.pendingContext,c.pendingContext!==c.context):c.context&&Pj(s,c.context,!1),Hm(s,c.containerInfo)}function Nk(s,c,p,g,C){return hs(),Mm(C),c.flags|=256,Xr(s,c,p,g),c.child}var lv={dehydrated:null,treeContext:null,retryLane:0};function cv(s){return{baseLanes:s,cachePool:null,transitions:null}}function Pk(s,c,p){var g=c.pendingProps,C=Qt.current,P=!1,D=(c.flags&128)!==0,G;if((G=D)||(G=s!==null&&s.memoizedState===null?!1:(C&2)!==0),G?(P=!0,c.flags&=-129):(s===null||s.memoizedState!==null)&&(C|=1),Dt(Qt,C&1),s===null)return Im(c),s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((c.mode&1)===0?c.lanes=1:s.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(D=g.children,s=g.fallback,P?(g=c.mode,P=c.child,D={mode:"hidden",children:D},(g&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=D):P=ef(D,g,0,null),s=So(s,g,p,null),P.return=c,s.return=c,P.sibling=s,c.child=P,c.child.memoizedState=cv(p),c.memoizedState=lv,s):uv(c,D));if(C=s.memoizedState,C!==null&&(G=C.dehydrated,G!==null))return r5(s,c,D,g,G,C,p);if(P){P=g.fallback,D=c.mode,C=s.child,G=C.sibling;var J={mode:"hidden",children:g.children};return(D&1)===0&&c.child!==C?(g=c.child,g.childLanes=0,g.pendingProps=J,c.deletions=null):(g=Ti(C,J),g.subtreeFlags=C.subtreeFlags&14680064),G!==null?P=Ti(G,P):(P=So(P,D,p,null),P.flags|=2),P.return=c,g.return=c,g.sibling=P,c.child=g,g=P,P=c.child,D=s.child.memoizedState,D=D===null?cv(p):{baseLanes:D.baseLanes|p,cachePool:null,transitions:D.transitions},P.memoizedState=D,P.childLanes=s.childLanes&~p,c.memoizedState=lv,g}return P=s.child,s=P.sibling,g=Ti(P,{mode:"visible",children:g.children}),(c.mode&1)===0&&(g.lanes=p),g.return=c,g.sibling=null,s!==null&&(p=c.deletions,p===null?(c.deletions=[s],c.flags|=16):p.push(s)),c.child=g,c.memoizedState=null,g}function uv(s,c){return c=ef({mode:"visible",children:c},s.mode,0,null),c.return=s,s.child=c}function Wd(s,c,p,g){return g!==null&&Mm(g),ms(c,s.child,null,p),s=uv(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function r5(s,c,p,g,C,P,D){if(p)return c.flags&256?(c.flags&=-257,g=av(Error(r(422))),Wd(s,c,D,g)):c.memoizedState!==null?(c.child=s.child,c.flags|=128,null):(P=g.fallback,C=c.mode,g=ef({mode:"visible",children:g.children},C,0,null),P=So(P,C,D,null),P.flags|=2,g.return=c,P.return=c,g.sibling=P,c.child=g,(c.mode&1)!==0&&ms(c,s.child,null,D),c.child.memoizedState=cv(D),c.memoizedState=lv,P);if((c.mode&1)===0)return Wd(s,c,D,null);if(C.data==="$!"){if(g=C.nextSibling&&C.nextSibling.dataset,g)var G=g.dgst;return g=G,P=Error(r(419)),g=av(P,g,void 0),Wd(s,c,D,g)}if(G=(D&s.childLanes)!==0,sn||G){if(g=jr,g!==null){switch(D&-D){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(g.suspendedLanes|D))!==0?0:C,C!==0&&C!==P.retryLane&&(P.retryLane=C,La(s,C),ea(g,s,C,-1))}return Av(),g=av(Error(r(421))),Wd(s,c,D,g)}return C.data==="$?"?(c.flags|=128,c.child=s.child,c=m5.bind(null,s),C._reactRetry=c,null):(s=P.treeContext,bn=Si(C.nextSibling),xn=c,Gt=!0,Xn=null,s!==null&&(Pn[On++]=Ia,Pn[On++]=Ma,Pn[On++]=fo,Ia=s.id,Ma=s.overflow,fo=c),c=uv(c,g.children),c.flags|=4096,c)}function Ok(s,c,p){s.lanes|=c;var g=s.alternate;g!==null&&(g.lanes|=c),Wm(s.return,c,p)}function dv(s,c,p,g,C){var P=s.memoizedState;P===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:p,tailMode:C}:(P.isBackwards=c,P.rendering=null,P.renderingStartTime=0,P.last=g,P.tail=p,P.tailMode=C)}function _k(s,c,p){var g=c.pendingProps,C=g.revealOrder,P=g.tail;if(Xr(s,c,g.children,p),g=Qt.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Ok(s,p,c);else if(s.tag===19)Ok(s,p,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(Dt(Qt,g),(c.mode&1)===0)c.memoizedState=null;else switch(C){case"forwards":for(p=c.child,C=null;p!==null;)s=p.alternate,s!==null&&Dd(s)===null&&(C=p),p=p.sibling;p=C,p===null?(C=c.child,c.child=null):(C=p.sibling,p.sibling=null),dv(c,!1,C,p,P);break;case"backwards":for(p=null,C=c.child,c.child=null;C!==null;){if(s=C.alternate,s!==null&&Dd(s)===null){c.child=C;break}s=C.sibling,C.sibling=p,p=C,C=s}dv(c,!0,p,null,P);break;case"together":dv(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function $d(s,c){(c.mode&1)===0&&s!==null&&(s.alternate=null,c.alternate=null,c.flags|=2)}function Fa(s,c,p){if(s!==null&&(c.dependencies=s.dependencies),go|=c.lanes,(p&c.childLanes)===0)return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,p=Ti(s,s.pendingProps),c.child=p,p.return=c;s.sibling!==null;)s=s.sibling,p=p.sibling=Ti(s,s.pendingProps),p.return=c;p.sibling=null}return c.child}function n5(s,c,p){switch(c.tag){case 3:zk(c),hs();break;case 5:Kj(c);break;case 1:on(c.type)&&kd(c);break;case 4:Hm(c,c.stateNode.containerInfo);break;case 10:var g=c.type._context,C=c.memoizedProps.value;Dt(Od,g._currentValue),g._currentValue=C;break;case 13:if(g=c.memoizedState,g!==null)return g.dehydrated!==null?(Dt(Qt,Qt.current&1),c.flags|=128,null):(p&c.child.childLanes)!==0?Pk(s,c,p):(Dt(Qt,Qt.current&1),s=Fa(s,c,p),s!==null?s.sibling:null);Dt(Qt,Qt.current&1);break;case 19:if(g=(p&c.childLanes)!==0,(s.flags&128)!==0){if(g)return _k(s,c,p);c.flags|=128}if(C=c.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Dt(Qt,Qt.current),g)break;return null;case 22:case 23:return c.lanes=0,kk(s,c,p)}return Fa(s,c,p)}var Tk,fv,Ek,Dk;Tk=function(s,c){for(var p=c.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},fv=function(){},Ek=function(s,c,p,g){var C=s.memoizedProps;if(C!==g){s=c.stateNode,mo(ga.current);var P=null;switch(p){case"input":C=je(s,C),g=je(s,g),P=[];break;case"select":C=L({},C,{value:void 0}),g=L({},g,{value:void 0}),P=[];break;case"textarea":C=Ft(s,C),g=Ft(s,g),P=[];break;default:typeof C.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=Sd)}mn(p,g);var D;p=null;for(ue in C)if(!g.hasOwnProperty(ue)&&C.hasOwnProperty(ue)&&C[ue]!=null)if(ue==="style"){var G=C[ue];for(D in G)G.hasOwnProperty(D)&&(p||(p={}),p[D]="")}else ue!=="dangerouslySetInnerHTML"&&ue!=="children"&&ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&ue!=="autoFocus"&&(i.hasOwnProperty(ue)?P||(P=[]):(P=P||[]).push(ue,null));for(ue in g){var J=g[ue];if(G=C?.[ue],g.hasOwnProperty(ue)&&J!==G&&(J!=null||G!=null))if(ue==="style")if(G){for(D in G)!G.hasOwnProperty(D)||J&&J.hasOwnProperty(D)||(p||(p={}),p[D]="");for(D in J)J.hasOwnProperty(D)&&G[D]!==J[D]&&(p||(p={}),p[D]=J[D])}else p||(P||(P=[]),P.push(ue,p)),p=J;else ue==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,G=G?G.__html:void 0,J!=null&&G!==J&&(P=P||[]).push(ue,J)):ue==="children"?typeof J!="string"&&typeof J!="number"||(P=P||[]).push(ue,""+J):ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&(i.hasOwnProperty(ue)?(J!=null&&ue==="onScroll"&&Wt("scroll",s),P||G===J||(P=[])):(P=P||[]).push(ue,J))}p&&(P=P||[]).push("style",p);var ue=P;(c.updateQueue=ue)&&(c.flags|=4)}},Dk=function(s,c,p,g){p!==g&&(c.flags|=4)};function bc(s,c){if(!Gt)switch(s.tailMode){case"hidden":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var g=null;p!==null;)p.alternate!==null&&(g=p),p=p.sibling;g===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Fr(s){var c=s.alternate!==null&&s.alternate.child===s.child,p=0,g=0;if(c)for(var C=s.child;C!==null;)p|=C.lanes|C.childLanes,g|=C.subtreeFlags&14680064,g|=C.flags&14680064,C.return=s,C=C.sibling;else for(C=s.child;C!==null;)p|=C.lanes|C.childLanes,g|=C.subtreeFlags,g|=C.flags,C.return=s,C=C.sibling;return s.subtreeFlags|=g,s.childLanes=p,c}function a5(s,c,p){var g=c.pendingProps;switch(Dm(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fr(c),null;case 1:return on(c.type)&&jd(),Fr(c),null;case 3:return g=c.stateNode,ys(),$t(an),$t(Lr),Gm(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(Nd(c)?c.flags|=4:s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Xn!==null&&(jv(Xn),Xn=null))),fv(s,c),Fr(c),null;case 5:Km(c);var C=mo(mc.current);if(p=c.type,s!==null&&c.stateNode!=null)Ek(s,c,p,g,C),s.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!g){if(c.stateNode===null)throw Error(r(166));return Fr(c),null}if(s=mo(ga.current),Nd(c)){g=c.stateNode,p=c.type;var P=c.memoizedProps;switch(g[va]=c,g[uc]=P,s=(c.mode&1)!==0,p){case"dialog":Wt("cancel",g),Wt("close",g);break;case"iframe":case"object":case"embed":Wt("load",g);break;case"video":case"audio":for(C=0;C<sc.length;C++)Wt(sc[C],g);break;case"source":Wt("error",g);break;case"img":case"image":case"link":Wt("error",g),Wt("load",g);break;case"details":Wt("toggle",g);break;case"input":st(g,P),Wt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!P.multiple},Wt("invalid",g);break;case"textarea":ut(g,P),Wt("invalid",g)}mn(p,P),C=null;for(var D in P)if(P.hasOwnProperty(D)){var G=P[D];D==="children"?typeof G=="string"?g.textContent!==G&&(P.suppressHydrationWarning!==!0&&bd(g.textContent,G,s),C=["children",G]):typeof G=="number"&&g.textContent!==""+G&&(P.suppressHydrationWarning!==!0&&bd(g.textContent,G,s),C=["children",""+G]):i.hasOwnProperty(D)&&G!=null&&D==="onScroll"&&Wt("scroll",g)}switch(p){case"input":q(g),Kt(g,P,!0);break;case"textarea":q(g),Ze(g);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(g.onclick=Sd)}g=C,c.updateQueue=g,g!==null&&(c.flags|=4)}else{D=C.nodeType===9?C:C.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Et(p)),s==="http://www.w3.org/1999/xhtml"?p==="script"?(s=D.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=D.createElement(p,{is:g.is}):(s=D.createElement(p),p==="select"&&(D=s,g.multiple?D.multiple=!0:g.size&&(D.size=g.size))):s=D.createElementNS(s,p),s[va]=c,s[uc]=g,Tk(s,c,!1,!1),c.stateNode=s;e:{switch(D=Gn(p,g),p){case"dialog":Wt("cancel",s),Wt("close",s),C=g;break;case"iframe":case"object":case"embed":Wt("load",s),C=g;break;case"video":case"audio":for(C=0;C<sc.length;C++)Wt(sc[C],s);C=g;break;case"source":Wt("error",s),C=g;break;case"img":case"image":case"link":Wt("error",s),Wt("load",s),C=g;break;case"details":Wt("toggle",s),C=g;break;case"input":st(s,g),C=je(s,g),Wt("invalid",s);break;case"option":C=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},C=L({},g,{value:void 0}),Wt("invalid",s);break;case"textarea":ut(s,g),C=Ft(s,g),Wt("invalid",s);break;default:C=g}mn(p,C),G=C;for(P in G)if(G.hasOwnProperty(P)){var J=G[P];P==="style"?Or(s,J):P==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&cr(s,J)):P==="children"?typeof J=="string"?(p!=="textarea"||J!=="")&&Nr(s,J):typeof J=="number"&&Nr(s,""+J):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(i.hasOwnProperty(P)?J!=null&&P==="onScroll"&&Wt("scroll",s):J!=null&&S(s,P,J,D))}switch(p){case"input":q(s),Kt(s,g,!1);break;case"textarea":q(s),Ze(s);break;case"option":g.value!=null&&s.setAttribute("value",""+ie(g.value));break;case"select":s.multiple=!!g.multiple,P=g.value,P!=null?xt(s,!!g.multiple,P,!1):g.defaultValue!=null&&xt(s,!!g.multiple,g.defaultValue,!0);break;default:typeof C.onClick=="function"&&(s.onclick=Sd)}switch(p){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Fr(c),null;case 6:if(s&&c.stateNode!=null)Dk(s,c,s.memoizedProps,g);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(p=mo(mc.current),mo(ga.current),Nd(c)){if(g=c.stateNode,p=c.memoizedProps,g[va]=c,(P=g.nodeValue!==p)&&(s=xn,s!==null))switch(s.tag){case 3:bd(g.nodeValue,p,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&bd(g.nodeValue,p,(s.mode&1)!==0)}P&&(c.flags|=4)}else g=(p.nodeType===9?p:p.ownerDocument).createTextNode(g),g[va]=c,c.stateNode=g}return Fr(c),null;case 13:if($t(Qt),g=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Gt&&bn!==null&&(c.mode&1)!==0&&(c.flags&128)===0)Mj(),hs(),c.flags|=98560,P=!1;else if(P=Nd(c),g!==null&&g.dehydrated!==null){if(s===null){if(!P)throw Error(r(318));if(P=c.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(r(317));P[va]=c}else hs(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Fr(c),P=!1}else Xn!==null&&(jv(Xn),Xn=null),P=!0;if(!P)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=p,c):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(c.child.flags|=8192,(c.mode&1)!==0&&(s===null||(Qt.current&1)!==0?mr===0&&(mr=3):Av())),c.updateQueue!==null&&(c.flags|=4),Fr(c),null);case 4:return ys(),fv(s,c),s===null&&lc(c.stateNode.containerInfo),Fr(c),null;case 10:return Fm(c.type._context),Fr(c),null;case 17:return on(c.type)&&jd(),Fr(c),null;case 19:if($t(Qt),P=c.memoizedState,P===null)return Fr(c),null;if(g=(c.flags&128)!==0,D=P.rendering,D===null)if(g)bc(P,!1);else{if(mr!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(D=Dd(s),D!==null){for(c.flags|=128,bc(P,!1),g=D.updateQueue,g!==null&&(c.updateQueue=g,c.flags|=4),c.subtreeFlags=0,g=p,p=c.child;p!==null;)P=p,s=g,P.flags&=14680066,D=P.alternate,D===null?(P.childLanes=0,P.lanes=s,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=D.childLanes,P.lanes=D.lanes,P.child=D.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=D.memoizedProps,P.memoizedState=D.memoizedState,P.updateQueue=D.updateQueue,P.type=D.type,s=D.dependencies,P.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),p=p.sibling;return Dt(Qt,Qt.current&1|2),c.child}s=s.sibling}P.tail!==null&&ir()>ws&&(c.flags|=128,g=!0,bc(P,!1),c.lanes=4194304)}else{if(!g)if(s=Dd(D),s!==null){if(c.flags|=128,g=!0,p=s.updateQueue,p!==null&&(c.updateQueue=p,c.flags|=4),bc(P,!0),P.tail===null&&P.tailMode==="hidden"&&!D.alternate&&!Gt)return Fr(c),null}else 2*ir()-P.renderingStartTime>ws&&p!==1073741824&&(c.flags|=128,g=!0,bc(P,!1),c.lanes=4194304);P.isBackwards?(D.sibling=c.child,c.child=D):(p=P.last,p!==null?p.sibling=D:c.child=D,P.last=D)}return P.tail!==null?(c=P.tail,P.rendering=c,P.tail=c.sibling,P.renderingStartTime=ir(),c.sibling=null,p=Qt.current,Dt(Qt,g?p&1|2:p&1),c):(Fr(c),null);case 22:case 23:return Cv(),g=c.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(c.flags|=8192),g&&(c.mode&1)!==0?(Sn&1073741824)!==0&&(Fr(c),c.subtreeFlags&6&&(c.flags|=8192)):Fr(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function i5(s,c){switch(Dm(c),c.tag){case 1:return on(c.type)&&jd(),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return ys(),$t(an),$t(Lr),Gm(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 5:return Km(c),null;case 13:if($t(Qt),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));hs()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return $t(Qt),null;case 4:return ys(),null;case 10:return Fm(c.type._context),null;case 22:case 23:return Cv(),null;case 24:return null;default:return null}}var Ud=!1,Wr=!1,o5=typeof WeakSet=="function"?WeakSet:Set,Te=null;function bs(s,c){var p=s.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(g){nr(s,c,g)}else p.current=null}function pv(s,c,p){try{p()}catch(g){nr(s,c,g)}}var Rk=!1;function s5(s,c){if(Cm=cd,s=pj(),gm(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var g=p.getSelection&&p.getSelection();if(g&&g.rangeCount!==0){p=g.anchorNode;var C=g.anchorOffset,P=g.focusNode;g=g.focusOffset;try{p.nodeType,P.nodeType}catch{p=null;break e}var D=0,G=-1,J=-1,ue=0,ye=0,be=s,ve=null;t:for(;;){for(var Pe;be!==p||C!==0&&be.nodeType!==3||(G=D+C),be!==P||g!==0&&be.nodeType!==3||(J=D+g),be.nodeType===3&&(D+=be.nodeValue.length),(Pe=be.firstChild)!==null;)ve=be,be=Pe;for(;;){if(be===s)break t;if(ve===p&&++ue===C&&(G=D),ve===P&&++ye===g&&(J=D),(Pe=be.nextSibling)!==null)break;be=ve,ve=be.parentNode}be=Pe}p=G===-1||J===-1?null:{start:G,end:J}}else p=null}p=p||{start:0,end:0}}else p=null;for(Am={focusedElem:s,selectionRange:p},cd=!1,Te=c;Te!==null;)if(c=Te,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,Te=s;else for(;Te!==null;){c=Te;try{var De=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(De!==null){var Le=De.memoizedProps,or=De.memoizedState,oe=c.stateNode,re=oe.getSnapshotBeforeUpdate(c.elementType===c.type?Le:Yn(c.type,Le),or);oe.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var le=c.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ke){nr(c,c.return,ke)}if(s=c.sibling,s!==null){s.return=c.return,Te=s;break}Te=c.return}return De=Rk,Rk=!1,De}function Sc(s,c,p){var g=c.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var C=g=g.next;do{if((C.tag&s)===s){var P=C.destroy;C.destroy=void 0,P!==void 0&&pv(c,p,P)}C=C.next}while(C!==g)}}function Hd(s,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&s)===s){var g=p.create;p.destroy=g()}p=p.next}while(p!==c)}}function hv(s){var c=s.ref;if(c!==null){var p=s.stateNode;switch(s.tag){case 5:s=p;break;default:s=p}typeof c=="function"?c(s):c.current=s}}function Ik(s){var c=s.alternate;c!==null&&(s.alternate=null,Ik(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&(delete c[va],delete c[uc],delete c[Om],delete c[UM],delete c[HM])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Mk(s){return s.tag===5||s.tag===3||s.tag===4}function Lk(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Mk(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function mv(s,c,p){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?p.nodeType===8?p.parentNode.insertBefore(s,c):p.insertBefore(s,c):(p.nodeType===8?(c=p.parentNode,c.insertBefore(s,p)):(c=p,c.appendChild(s)),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=Sd));else if(g!==4&&(s=s.child,s!==null))for(mv(s,c,p),s=s.sibling;s!==null;)mv(s,c,p),s=s.sibling}function vv(s,c,p){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?p.insertBefore(s,c):p.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(vv(s,c,p),s=s.sibling;s!==null;)vv(s,c,p),s=s.sibling}var _r=null,Qn=!1;function zi(s,c,p){for(p=p.child;p!==null;)Bk(s,c,p),p=p.sibling}function Bk(s,c,p){if(ma&&typeof ma.onCommitFiberUnmount=="function")try{ma.onCommitFiberUnmount(nd,p)}catch{}switch(p.tag){case 5:Wr||bs(p,c);case 6:var g=_r,C=Qn;_r=null,zi(s,c,p),_r=g,Qn=C,_r!==null&&(Qn?(s=_r,p=p.stateNode,s.nodeType===8?s.parentNode.removeChild(p):s.removeChild(p)):_r.removeChild(p.stateNode));break;case 18:_r!==null&&(Qn?(s=_r,p=p.stateNode,s.nodeType===8?Pm(s.parentNode,p):s.nodeType===1&&Pm(s,p),Jl(s)):Pm(_r,p.stateNode));break;case 4:g=_r,C=Qn,_r=p.stateNode.containerInfo,Qn=!0,zi(s,c,p),_r=g,Qn=C;break;case 0:case 11:case 14:case 15:if(!Wr&&(g=p.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){C=g=g.next;do{var P=C,D=P.destroy;P=P.tag,D!==void 0&&((P&2)!==0||(P&4)!==0)&&pv(p,c,D),C=C.next}while(C!==g)}zi(s,c,p);break;case 1:if(!Wr&&(bs(p,c),g=p.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=p.memoizedProps,g.state=p.memoizedState,g.componentWillUnmount()}catch(G){nr(p,c,G)}zi(s,c,p);break;case 21:zi(s,c,p);break;case 22:p.mode&1?(Wr=(g=Wr)||p.memoizedState!==null,zi(s,c,p),Wr=g):zi(s,c,p);break;default:zi(s,c,p)}}function Fk(s){var c=s.updateQueue;if(c!==null){s.updateQueue=null;var p=s.stateNode;p===null&&(p=s.stateNode=new o5),c.forEach(function(g){var C=v5.bind(null,s,g);p.has(g)||(p.add(g),g.then(C,C))})}}function Jn(s,c){var p=c.deletions;if(p!==null)for(var g=0;g<p.length;g++){var C=p[g];try{var P=s,D=c,G=D;e:for(;G!==null;){switch(G.tag){case 5:_r=G.stateNode,Qn=!1;break e;case 3:_r=G.stateNode.containerInfo,Qn=!0;break e;case 4:_r=G.stateNode.containerInfo,Qn=!0;break e}G=G.return}if(_r===null)throw Error(r(160));Bk(P,D,C),_r=null,Qn=!1;var J=C.alternate;J!==null&&(J.return=null),C.return=null}catch(ue){nr(C,c,ue)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)Wk(c,s),c=c.sibling}function Wk(s,c){var p=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Jn(c,s),xa(s),g&4){try{Sc(3,s,s.return),Hd(3,s)}catch(Le){nr(s,s.return,Le)}try{Sc(5,s,s.return)}catch(Le){nr(s,s.return,Le)}}break;case 1:Jn(c,s),xa(s),g&512&&p!==null&&bs(p,p.return);break;case 5:if(Jn(c,s),xa(s),g&512&&p!==null&&bs(p,p.return),s.flags&32){var C=s.stateNode;try{Nr(C,"")}catch(Le){nr(s,s.return,Le)}}if(g&4&&(C=s.stateNode,C!=null)){var P=s.memoizedProps,D=p!==null?p.memoizedProps:P,G=s.type,J=s.updateQueue;if(s.updateQueue=null,J!==null)try{G==="input"&&P.type==="radio"&&P.name!=null&&Qe(C,P),Gn(G,D);var ue=Gn(G,P);for(D=0;D<J.length;D+=2){var ye=J[D],be=J[D+1];ye==="style"?Or(C,be):ye==="dangerouslySetInnerHTML"?cr(C,be):ye==="children"?Nr(C,be):S(C,ye,be,ue)}switch(G){case"input":bt(C,P);break;case"textarea":Me(C,P);break;case"select":var ve=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!P.multiple;var Pe=P.value;Pe!=null?xt(C,!!P.multiple,Pe,!1):ve!==!!P.multiple&&(P.defaultValue!=null?xt(C,!!P.multiple,P.defaultValue,!0):xt(C,!!P.multiple,P.multiple?[]:"",!1))}C[uc]=P}catch(Le){nr(s,s.return,Le)}}break;case 6:if(Jn(c,s),xa(s),g&4){if(s.stateNode===null)throw Error(r(162));C=s.stateNode,P=s.memoizedProps;try{C.nodeValue=P}catch(Le){nr(s,s.return,Le)}}break;case 3:if(Jn(c,s),xa(s),g&4&&p!==null&&p.memoizedState.isDehydrated)try{Jl(c.containerInfo)}catch(Le){nr(s,s.return,Le)}break;case 4:Jn(c,s),xa(s);break;case 13:Jn(c,s),xa(s),C=s.child,C.flags&8192&&(P=C.memoizedState!==null,C.stateNode.isHidden=P,!P||C.alternate!==null&&C.alternate.memoizedState!==null||(xv=ir())),g&4&&Fk(s);break;case 22:if(ye=p!==null&&p.memoizedState!==null,s.mode&1?(Wr=(ue=Wr)||ye,Jn(c,s),Wr=ue):Jn(c,s),xa(s),g&8192){if(ue=s.memoizedState!==null,(s.stateNode.isHidden=ue)&&!ye&&(s.mode&1)!==0)for(Te=s,ye=s.child;ye!==null;){for(be=Te=ye;Te!==null;){switch(ve=Te,Pe=ve.child,ve.tag){case 0:case 11:case 14:case 15:Sc(4,ve,ve.return);break;case 1:bs(ve,ve.return);var De=ve.stateNode;if(typeof De.componentWillUnmount=="function"){g=ve,p=ve.return;try{c=g,De.props=c.memoizedProps,De.state=c.memoizedState,De.componentWillUnmount()}catch(Le){nr(g,p,Le)}}break;case 5:bs(ve,ve.return);break;case 22:if(ve.memoizedState!==null){Hk(be);continue}}Pe!==null?(Pe.return=ve,Te=Pe):Hk(be)}ye=ye.sibling}e:for(ye=null,be=s;;){if(be.tag===5){if(ye===null){ye=be;try{C=be.stateNode,ue?(P=C.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(G=be.stateNode,J=be.memoizedProps.style,D=J!=null&&J.hasOwnProperty("display")?J.display:null,G.style.display=Pr("display",D))}catch(Le){nr(s,s.return,Le)}}}else if(be.tag===6){if(ye===null)try{be.stateNode.nodeValue=ue?"":be.memoizedProps}catch(Le){nr(s,s.return,Le)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===s)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===s)break e;for(;be.sibling===null;){if(be.return===null||be.return===s)break e;ye===be&&(ye=null),be=be.return}ye===be&&(ye=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:Jn(c,s),xa(s),g&4&&Fk(s);break;case 21:break;default:Jn(c,s),xa(s)}}function xa(s){var c=s.flags;if(c&2){try{e:{for(var p=s.return;p!==null;){if(Mk(p)){var g=p;break e}p=p.return}throw Error(r(160))}switch(g.tag){case 5:var C=g.stateNode;g.flags&32&&(Nr(C,""),g.flags&=-33);var P=Lk(s);vv(s,P,C);break;case 3:case 4:var D=g.stateNode.containerInfo,G=Lk(s);mv(s,G,D);break;default:throw Error(r(161))}}catch(J){nr(s,s.return,J)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function l5(s,c,p){Te=s,$k(s)}function $k(s,c,p){for(var g=(s.mode&1)!==0;Te!==null;){var C=Te,P=C.child;if(C.tag===22&&g){var D=C.memoizedState!==null||Ud;if(!D){var G=C.alternate,J=G!==null&&G.memoizedState!==null||Wr;G=Ud;var ue=Wr;if(Ud=D,(Wr=J)&&!ue)for(Te=C;Te!==null;)D=Te,J=D.child,D.tag===22&&D.memoizedState!==null?Kk(C):J!==null?(J.return=D,Te=J):Kk(C);for(;P!==null;)Te=P,$k(P),P=P.sibling;Te=C,Ud=G,Wr=ue}Uk(s)}else(C.subtreeFlags&8772)!==0&&P!==null?(P.return=C,Te=P):Uk(s)}}function Uk(s){for(;Te!==null;){var c=Te;if((c.flags&8772)!==0){var p=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Wr||Hd(5,c);break;case 1:var g=c.stateNode;if(c.flags&4&&!Wr)if(p===null)g.componentDidMount();else{var C=c.elementType===c.type?p.memoizedProps:Yn(c.type,p.memoizedProps);g.componentDidUpdate(C,p.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var P=c.updateQueue;P!==null&&Hj(c,P,g);break;case 3:var D=c.updateQueue;if(D!==null){if(p=null,c.child!==null)switch(c.child.tag){case 5:p=c.child.stateNode;break;case 1:p=c.child.stateNode}Hj(c,D,p)}break;case 5:var G=c.stateNode;if(p===null&&c.flags&4){p=G;var J=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&p.focus();break;case"img":J.src&&(p.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ue=c.alternate;if(ue!==null){var ye=ue.memoizedState;if(ye!==null){var be=ye.dehydrated;be!==null&&Jl(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Wr||c.flags&512&&hv(c)}catch(ve){nr(c,c.return,ve)}}if(c===s){Te=null;break}if(p=c.sibling,p!==null){p.return=c.return,Te=p;break}Te=c.return}}function Hk(s){for(;Te!==null;){var c=Te;if(c===s){Te=null;break}var p=c.sibling;if(p!==null){p.return=c.return,Te=p;break}Te=c.return}}function Kk(s){for(;Te!==null;){var c=Te;try{switch(c.tag){case 0:case 11:case 15:var p=c.return;try{Hd(4,c)}catch(J){nr(c,p,J)}break;case 1:var g=c.stateNode;if(typeof g.componentDidMount=="function"){var C=c.return;try{g.componentDidMount()}catch(J){nr(c,C,J)}}var P=c.return;try{hv(c)}catch(J){nr(c,P,J)}break;case 5:var D=c.return;try{hv(c)}catch(J){nr(c,D,J)}}}catch(J){nr(c,c.return,J)}if(c===s){Te=null;break}var G=c.sibling;if(G!==null){G.return=c.return,Te=G;break}Te=c.return}}var c5=Math.ceil,Kd=N.ReactCurrentDispatcher,gv=N.ReactCurrentOwner,En=N.ReactCurrentBatchConfig,ht=0,jr=null,ur=null,Tr=0,Sn=0,Ss=wi(0),mr=0,wc=null,go=0,Vd=0,yv=0,jc=null,ln=null,xv=0,ws=1/0,Wa=null,Gd=!1,bv=null,Ni=null,qd=!1,Pi=null,Zd=0,kc=0,Sv=null,Xd=-1,Yd=0;function Yr(){return(ht&6)!==0?ir():Xd!==-1?Xd:Xd=ir()}function Oi(s){return(s.mode&1)===0?1:(ht&2)!==0&&Tr!==0?Tr&-Tr:VM.transition!==null?(Yd===0&&(Yd=Lw()),Yd):(s=kt,s!==0||(s=window.event,s=s===void 0?16:Gw(s.type)),s)}function ea(s,c,p,g){if(50<kc)throw kc=0,Sv=null,Error(r(185));ql(s,p,g),((ht&2)===0||s!==jr)&&(s===jr&&((ht&2)===0&&(Vd|=p),mr===4&&_i(s,Tr)),cn(s,g),p===1&&ht===0&&(c.mode&1)===0&&(ws=ir()+500,Cd&&ki()))}function cn(s,c){var p=s.callbackNode;V4(s,c);var g=od(s,s===jr?Tr:0);if(g===0)p!==null&&Rw(p),s.callbackNode=null,s.callbackPriority=0;else if(c=g&-g,s.callbackPriority!==c){if(p!=null&&Rw(p),c===1)s.tag===0?KM(Gk.bind(null,s)):Tj(Gk.bind(null,s)),WM(function(){(ht&6)===0&&ki()}),p=null;else{switch(Bw(g)){case 1:p=em;break;case 4:p=Iw;break;case 16:p=rd;break;case 536870912:p=Mw;break;default:p=rd}p=t2(p,Vk.bind(null,s))}s.callbackPriority=c,s.callbackNode=p}}function Vk(s,c){if(Xd=-1,Yd=0,(ht&6)!==0)throw Error(r(327));var p=s.callbackNode;if(js()&&s.callbackNode!==p)return null;var g=od(s,s===jr?Tr:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||c)c=Qd(s,g);else{c=g;var C=ht;ht|=2;var P=Zk();(jr!==s||Tr!==c)&&(Wa=null,ws=ir()+500,xo(s,c));do try{f5();break}catch(G){qk(s,G)}while(!0);Bm(),Kd.current=P,ht=C,ur!==null?c=0:(jr=null,Tr=0,c=mr)}if(c!==0){if(c===2&&(C=tm(s),C!==0&&(g=C,c=wv(s,C))),c===1)throw p=wc,xo(s,0),_i(s,g),cn(s,ir()),p;if(c===6)_i(s,g);else{if(C=s.current.alternate,(g&30)===0&&!u5(C)&&(c=Qd(s,g),c===2&&(P=tm(s),P!==0&&(g=P,c=wv(s,P))),c===1))throw p=wc,xo(s,0),_i(s,g),cn(s,ir()),p;switch(s.finishedWork=C,s.finishedLanes=g,c){case 0:case 1:throw Error(r(345));case 2:bo(s,ln,Wa);break;case 3:if(_i(s,g),(g&130023424)===g&&(c=xv+500-ir(),10<c)){if(od(s,0)!==0)break;if(C=s.suspendedLanes,(C&g)!==g){Yr(),s.pingedLanes|=s.suspendedLanes&C;break}s.timeoutHandle=Nm(bo.bind(null,s,ln,Wa),c);break}bo(s,ln,Wa);break;case 4:if(_i(s,g),(g&4194240)===g)break;for(c=s.eventTimes,C=-1;0<g;){var D=31-qn(g);P=1<<D,D=c[D],D>C&&(C=D),g&=~P}if(g=C,g=ir()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*c5(g/1960))-g,10<g){s.timeoutHandle=Nm(bo.bind(null,s,ln,Wa),g);break}bo(s,ln,Wa);break;case 5:bo(s,ln,Wa);break;default:throw Error(r(329))}}}return cn(s,ir()),s.callbackNode===p?Vk.bind(null,s):null}function wv(s,c){var p=jc;return s.current.memoizedState.isDehydrated&&(xo(s,c).flags|=256),s=Qd(s,c),s!==2&&(c=ln,ln=p,c!==null&&jv(c)),s}function jv(s){ln===null?ln=s:ln.push.apply(ln,s)}function u5(s){for(var c=s;;){if(c.flags&16384){var p=c.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var g=0;g<p.length;g++){var C=p[g],P=C.getSnapshot;C=C.value;try{if(!Zn(P(),C))return!1}catch{return!1}}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function _i(s,c){for(c&=~yv,c&=~Vd,s.suspendedLanes|=c,s.pingedLanes&=~c,s=s.expirationTimes;0<c;){var p=31-qn(c),g=1<<p;s[p]=-1,c&=~g}}function Gk(s){if((ht&6)!==0)throw Error(r(327));js();var c=od(s,0);if((c&1)===0)return cn(s,ir()),null;var p=Qd(s,c);if(s.tag!==0&&p===2){var g=tm(s);g!==0&&(c=g,p=wv(s,g))}if(p===1)throw p=wc,xo(s,0),_i(s,c),cn(s,ir()),p;if(p===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=c,bo(s,ln,Wa),cn(s,ir()),null}function kv(s,c){var p=ht;ht|=1;try{return s(c)}finally{ht=p,ht===0&&(ws=ir()+500,Cd&&ki())}}function yo(s){Pi!==null&&Pi.tag===0&&(ht&6)===0&&js();var c=ht;ht|=1;var p=En.transition,g=kt;try{if(En.transition=null,kt=1,s)return s()}finally{kt=g,En.transition=p,ht=c,(ht&6)===0&&ki()}}function Cv(){Sn=Ss.current,$t(Ss)}function xo(s,c){s.finishedWork=null,s.finishedLanes=0;var p=s.timeoutHandle;if(p!==-1&&(s.timeoutHandle=-1,FM(p)),ur!==null)for(p=ur.return;p!==null;){var g=p;switch(Dm(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&jd();break;case 3:ys(),$t(an),$t(Lr),Gm();break;case 5:Km(g);break;case 4:ys();break;case 13:$t(Qt);break;case 19:$t(Qt);break;case 10:Fm(g.type._context);break;case 22:case 23:Cv()}p=p.return}if(jr=s,ur=s=Ti(s.current,null),Tr=Sn=c,mr=0,wc=null,yv=Vd=go=0,ln=jc=null,ho!==null){for(c=0;c<ho.length;c++)if(p=ho[c],g=p.interleaved,g!==null){p.interleaved=null;var C=g.next,P=p.pending;if(P!==null){var D=P.next;P.next=C,g.next=D}p.pending=g}ho=null}return s}function qk(s,c){do{var p=ur;try{if(Bm(),Rd.current=Bd,Id){for(var g=Jt.memoizedState;g!==null;){var C=g.queue;C!==null&&(C.pending=null),g=g.next}Id=!1}if(vo=0,wr=hr=Jt=null,vc=!1,gc=0,gv.current=null,p===null||p.return===null){mr=1,wc=c,ur=null;break}e:{var P=s,D=p.return,G=p,J=c;if(c=Tr,G.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var ue=J,ye=G,be=ye.tag;if((ye.mode&1)===0&&(be===0||be===11||be===15)){var ve=ye.alternate;ve?(ye.updateQueue=ve.updateQueue,ye.memoizedState=ve.memoizedState,ye.lanes=ve.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Pe=xk(D);if(Pe!==null){Pe.flags&=-257,bk(Pe,D,G,P,c),Pe.mode&1&&yk(P,ue,c),c=Pe,J=ue;var De=c.updateQueue;if(De===null){var Le=new Set;Le.add(J),c.updateQueue=Le}else De.add(J);break e}else{if((c&1)===0){yk(P,ue,c),Av();break e}J=Error(r(426))}}else if(Gt&&G.mode&1){var or=xk(D);if(or!==null){(or.flags&65536)===0&&(or.flags|=256),bk(or,D,G,P,c),Mm(xs(J,G));break e}}P=J=xs(J,G),mr!==4&&(mr=2),jc===null?jc=[P]:jc.push(P),P=D;do{switch(P.tag){case 3:P.flags|=65536,c&=-c,P.lanes|=c;var oe=vk(P,J,c);Uj(P,oe);break e;case 1:G=J;var re=P.type,le=P.stateNode;if((P.flags&128)===0&&(typeof re.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(Ni===null||!Ni.has(le)))){P.flags|=65536,c&=-c,P.lanes|=c;var ke=gk(P,G,c);Uj(P,ke);break e}}P=P.return}while(P!==null)}Yk(p)}catch(We){c=We,ur===p&&p!==null&&(ur=p=p.return);continue}break}while(!0)}function Zk(){var s=Kd.current;return Kd.current=Bd,s===null?Bd:s}function Av(){(mr===0||mr===3||mr===2)&&(mr=4),jr===null||(go&268435455)===0&&(Vd&268435455)===0||_i(jr,Tr)}function Qd(s,c){var p=ht;ht|=2;var g=Zk();(jr!==s||Tr!==c)&&(Wa=null,xo(s,c));do try{d5();break}catch(C){qk(s,C)}while(!0);if(Bm(),ht=p,Kd.current=g,ur!==null)throw Error(r(261));return jr=null,Tr=0,mr}function d5(){for(;ur!==null;)Xk(ur)}function f5(){for(;ur!==null&&!M4();)Xk(ur)}function Xk(s){var c=e2(s.alternate,s,Sn);s.memoizedProps=s.pendingProps,c===null?Yk(s):ur=c,gv.current=null}function Yk(s){var c=s;do{var p=c.alternate;if(s=c.return,(c.flags&32768)===0){if(p=a5(p,c,Sn),p!==null){ur=p;return}}else{if(p=i5(p,c),p!==null){p.flags&=32767,ur=p;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{mr=6,ur=null;return}}if(c=c.sibling,c!==null){ur=c;return}ur=c=s}while(c!==null);mr===0&&(mr=5)}function bo(s,c,p){var g=kt,C=En.transition;try{En.transition=null,kt=1,p5(s,c,p,g)}finally{En.transition=C,kt=g}return null}function p5(s,c,p,g){do js();while(Pi!==null);if((ht&6)!==0)throw Error(r(327));p=s.finishedWork;var C=s.finishedLanes;if(p===null)return null;if(s.finishedWork=null,s.finishedLanes=0,p===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var P=p.lanes|p.childLanes;if(G4(s,P),s===jr&&(ur=jr=null,Tr=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||qd||(qd=!0,t2(rd,function(){return js(),null})),P=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||P){P=En.transition,En.transition=null;var D=kt;kt=1;var G=ht;ht|=4,gv.current=null,s5(s,p),Wk(p,s),EM(Am),cd=!!Cm,Am=Cm=null,s.current=p,l5(p),L4(),ht=G,kt=D,En.transition=P}else s.current=p;if(qd&&(qd=!1,Pi=s,Zd=C),P=s.pendingLanes,P===0&&(Ni=null),W4(p.stateNode),cn(s,ir()),c!==null)for(g=s.onRecoverableError,p=0;p<c.length;p++)C=c[p],g(C.value,{componentStack:C.stack,digest:C.digest});if(Gd)throw Gd=!1,s=bv,bv=null,s;return(Zd&1)!==0&&s.tag!==0&&js(),P=s.pendingLanes,(P&1)!==0?s===Sv?kc++:(kc=0,Sv=s):kc=0,ki(),null}function js(){if(Pi!==null){var s=Bw(Zd),c=En.transition,p=kt;try{if(En.transition=null,kt=16>s?16:s,Pi===null)var g=!1;else{if(s=Pi,Pi=null,Zd=0,(ht&6)!==0)throw Error(r(331));var C=ht;for(ht|=4,Te=s.current;Te!==null;){var P=Te,D=P.child;if((Te.flags&16)!==0){var G=P.deletions;if(G!==null){for(var J=0;J<G.length;J++){var ue=G[J];for(Te=ue;Te!==null;){var ye=Te;switch(ye.tag){case 0:case 11:case 15:Sc(8,ye,P)}var be=ye.child;if(be!==null)be.return=ye,Te=be;else for(;Te!==null;){ye=Te;var ve=ye.sibling,Pe=ye.return;if(Ik(ye),ye===ue){Te=null;break}if(ve!==null){ve.return=Pe,Te=ve;break}Te=Pe}}}var De=P.alternate;if(De!==null){var Le=De.child;if(Le!==null){De.child=null;do{var or=Le.sibling;Le.sibling=null,Le=or}while(Le!==null)}}Te=P}}if((P.subtreeFlags&2064)!==0&&D!==null)D.return=P,Te=D;else e:for(;Te!==null;){if(P=Te,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:Sc(9,P,P.return)}var oe=P.sibling;if(oe!==null){oe.return=P.return,Te=oe;break e}Te=P.return}}var re=s.current;for(Te=re;Te!==null;){D=Te;var le=D.child;if((D.subtreeFlags&2064)!==0&&le!==null)le.return=D,Te=le;else e:for(D=re;Te!==null;){if(G=Te,(G.flags&2048)!==0)try{switch(G.tag){case 0:case 11:case 15:Hd(9,G)}}catch(We){nr(G,G.return,We)}if(G===D){Te=null;break e}var ke=G.sibling;if(ke!==null){ke.return=G.return,Te=ke;break e}Te=G.return}}if(ht=C,ki(),ma&&typeof ma.onPostCommitFiberRoot=="function")try{ma.onPostCommitFiberRoot(nd,s)}catch{}g=!0}return g}finally{kt=p,En.transition=c}}return!1}function Qk(s,c,p){c=xs(p,c),c=vk(s,c,1),s=Ai(s,c,1),c=Yr(),s!==null&&(ql(s,1,c),cn(s,c))}function nr(s,c,p){if(s.tag===3)Qk(s,s,p);else for(;c!==null;){if(c.tag===3){Qk(c,s,p);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ni===null||!Ni.has(g))){s=xs(p,s),s=gk(c,s,1),c=Ai(c,s,1),s=Yr(),c!==null&&(ql(c,1,s),cn(c,s));break}}c=c.return}}function h5(s,c,p){var g=s.pingCache;g!==null&&g.delete(c),c=Yr(),s.pingedLanes|=s.suspendedLanes&p,jr===s&&(Tr&p)===p&&(mr===4||mr===3&&(Tr&130023424)===Tr&&500>ir()-xv?xo(s,0):yv|=p),cn(s,c)}function Jk(s,c){c===0&&((s.mode&1)===0?c=1:(c=id,id<<=1,(id&130023424)===0&&(id=4194304)));var p=Yr();s=La(s,c),s!==null&&(ql(s,c,p),cn(s,p))}function m5(s){var c=s.memoizedState,p=0;c!==null&&(p=c.retryLane),Jk(s,p)}function v5(s,c){var p=0;switch(s.tag){case 13:var g=s.stateNode,C=s.memoizedState;C!==null&&(p=C.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(c),Jk(s,p)}var e2;e2=function(s,c,p){if(s!==null)if(s.memoizedProps!==c.pendingProps||an.current)sn=!0;else{if((s.lanes&p)===0&&(c.flags&128)===0)return sn=!1,n5(s,c,p);sn=(s.flags&131072)!==0}else sn=!1,Gt&&(c.flags&1048576)!==0&&Ej(c,zd,c.index);switch(c.lanes=0,c.tag){case 2:var g=c.type;$d(s,c),s=c.pendingProps;var C=ds(c,Lr.current);gs(c,p),C=Xm(null,c,g,s,C,p);var P=Ym();return c.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,on(g)?(P=!0,kd(c)):P=!1,c.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,Um(c),C.updater=Fd,c.stateNode=C,C._reactInternals=c,nv(c,g,s,p),c=sv(null,c,g,!0,P,p)):(c.tag=0,Gt&&P&&Em(c),Xr(null,c,C,p),c=c.child),c;case 16:g=c.elementType;e:{switch($d(s,c),s=c.pendingProps,C=g._init,g=C(g._payload),c.type=g,C=c.tag=y5(g),s=Yn(g,s),C){case 0:c=ov(null,c,g,s,p);break e;case 1:c=Ak(null,c,g,s,p);break e;case 11:c=Sk(null,c,g,s,p);break e;case 14:c=wk(null,c,g,Yn(g.type,s),p);break e}throw Error(r(306,g,""))}return c;case 0:return g=c.type,C=c.pendingProps,C=c.elementType===g?C:Yn(g,C),ov(s,c,g,C,p);case 1:return g=c.type,C=c.pendingProps,C=c.elementType===g?C:Yn(g,C),Ak(s,c,g,C,p);case 3:e:{if(zk(c),s===null)throw Error(r(387));g=c.pendingProps,P=c.memoizedState,C=P.element,$j(s,c),Ed(c,g,null,p);var D=c.memoizedState;if(g=D.element,P.isDehydrated)if(P={element:g,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},c.updateQueue.baseState=P,c.memoizedState=P,c.flags&256){C=xs(Error(r(423)),c),c=Nk(s,c,g,p,C);break e}else if(g!==C){C=xs(Error(r(424)),c),c=Nk(s,c,g,p,C);break e}else for(bn=Si(c.stateNode.containerInfo.firstChild),xn=c,Gt=!0,Xn=null,p=Fj(c,null,g,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(hs(),g===C){c=Fa(s,c,p);break e}Xr(s,c,g,p)}c=c.child}return c;case 5:return Kj(c),s===null&&Im(c),g=c.type,C=c.pendingProps,P=s!==null?s.memoizedProps:null,D=C.children,zm(g,C)?D=null:P!==null&&zm(g,P)&&(c.flags|=32),Ck(s,c),Xr(s,c,D,p),c.child;case 6:return s===null&&Im(c),null;case 13:return Pk(s,c,p);case 4:return Hm(c,c.stateNode.containerInfo),g=c.pendingProps,s===null?c.child=ms(c,null,g,p):Xr(s,c,g,p),c.child;case 11:return g=c.type,C=c.pendingProps,C=c.elementType===g?C:Yn(g,C),Sk(s,c,g,C,p);case 7:return Xr(s,c,c.pendingProps,p),c.child;case 8:return Xr(s,c,c.pendingProps.children,p),c.child;case 12:return Xr(s,c,c.pendingProps.children,p),c.child;case 10:e:{if(g=c.type._context,C=c.pendingProps,P=c.memoizedProps,D=C.value,Dt(Od,g._currentValue),g._currentValue=D,P!==null)if(Zn(P.value,D)){if(P.children===C.children&&!an.current){c=Fa(s,c,p);break e}}else for(P=c.child,P!==null&&(P.return=c);P!==null;){var G=P.dependencies;if(G!==null){D=P.child;for(var J=G.firstContext;J!==null;){if(J.context===g){if(P.tag===1){J=Ba(-1,p&-p),J.tag=2;var ue=P.updateQueue;if(ue!==null){ue=ue.shared;var ye=ue.pending;ye===null?J.next=J:(J.next=ye.next,ye.next=J),ue.pending=J}}P.lanes|=p,J=P.alternate,J!==null&&(J.lanes|=p),Wm(P.return,p,c),G.lanes|=p;break}J=J.next}}else if(P.tag===10)D=P.type===c.type?null:P.child;else if(P.tag===18){if(D=P.return,D===null)throw Error(r(341));D.lanes|=p,G=D.alternate,G!==null&&(G.lanes|=p),Wm(D,p,c),D=P.sibling}else D=P.child;if(D!==null)D.return=P;else for(D=P;D!==null;){if(D===c){D=null;break}if(P=D.sibling,P!==null){P.return=D.return,D=P;break}D=D.return}P=D}Xr(s,c,C.children,p),c=c.child}return c;case 9:return C=c.type,g=c.pendingProps.children,gs(c,p),C=_n(C),g=g(C),c.flags|=1,Xr(s,c,g,p),c.child;case 14:return g=c.type,C=Yn(g,c.pendingProps),C=Yn(g.type,C),wk(s,c,g,C,p);case 15:return jk(s,c,c.type,c.pendingProps,p);case 17:return g=c.type,C=c.pendingProps,C=c.elementType===g?C:Yn(g,C),$d(s,c),c.tag=1,on(g)?(s=!0,kd(c)):s=!1,gs(c,p),hk(c,g,C),nv(c,g,C,p),sv(null,c,g,!0,s,p);case 19:return _k(s,c,p);case 22:return kk(s,c,p)}throw Error(r(156,c.tag))};function t2(s,c){return Dw(s,c)}function g5(s,c,p,g){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(s,c,p,g){return new g5(s,c,p,g)}function zv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function y5(s){if(typeof s=="function")return zv(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===M)return 14}return 2}function Ti(s,c){var p=s.alternate;return p===null?(p=Dn(s.tag,c,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=c,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&14680064,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,c=s.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p}function Jd(s,c,p,g,C,P){var D=2;if(g=s,typeof s=="function")zv(s)&&(D=1);else if(typeof s=="string")D=5;else e:switch(s){case _:return So(p.children,C,P,c);case E:D=8,C|=8;break;case T:return s=Dn(12,p,c,C|2),s.elementType=T,s.lanes=P,s;case K:return s=Dn(13,p,c,C),s.elementType=K,s.lanes=P,s;case H:return s=Dn(19,p,c,C),s.elementType=H,s.lanes=P,s;case U:return ef(p,C,P,c);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case B:D=10;break e;case R:D=9;break e;case F:D=11;break e;case M:D=14;break e;case $:D=16,g=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return c=Dn(D,p,c,C),c.elementType=s,c.type=g,c.lanes=P,c}function So(s,c,p,g){return s=Dn(7,s,g,c),s.lanes=p,s}function ef(s,c,p,g){return s=Dn(22,s,g,c),s.elementType=U,s.lanes=p,s.stateNode={isHidden:!1},s}function Nv(s,c,p){return s=Dn(6,s,null,c),s.lanes=p,s}function Pv(s,c,p){return c=Dn(4,s.children!==null?s.children:[],s.key,c),c.lanes=p,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}function x5(s,c,p,g,C){this.tag=c,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rm(0),this.expirationTimes=rm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rm(0),this.identifierPrefix=g,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function Ov(s,c,p,g,C,P,D,G,J){return s=new x5(s,c,p,G,J),c===1?(c=1,P===!0&&(c|=8)):c=0,P=Dn(3,null,null,c),s.current=P,P.stateNode=s,P.memoizedState={element:g,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},Um(P),s}function b5(s,c,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:g==null?null:""+g,children:s,containerInfo:c,implementation:p}}function r2(s){if(!s)return ji;s=s._reactInternals;e:{if(Y(s)!==s||s.tag!==1)throw Error(r(170));var c=s;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(on(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(s.tag===1){var p=s.type;if(on(p))return Oj(s,p,c)}return c}function n2(s,c,p,g,C,P,D,G,J){return s=Ov(p,g,!0,s,C,P,D,G,J),s.context=r2(null),p=s.current,g=Yr(),C=Oi(p),P=Ba(g,C),P.callback=c??null,Ai(p,P,C),s.current.lanes=C,ql(s,C,g),cn(s,g),s}function tf(s,c,p,g){var C=c.current,P=Yr(),D=Oi(C);return p=r2(p),c.context===null?c.context=p:c.pendingContext=p,c=Ba(P,D),c.payload={element:s},g=g===void 0?null:g,g!==null&&(c.callback=g),s=Ai(C,c,D),s!==null&&(ea(s,C,D,P),Td(s,C,D)),D}function rf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function a2(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<c?p:c}}function _v(s,c){a2(s,c),(s=s.alternate)&&a2(s,c)}function S5(){return null}var i2=typeof reportError=="function"?reportError:function(s){console.error(s)};function Tv(s){this._internalRoot=s}nf.prototype.render=Tv.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));tf(s,c,null,null)},nf.prototype.unmount=Tv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;yo(function(){tf(null,s,null,null)}),c[Da]=null}};function nf(s){this._internalRoot=s}nf.prototype.unstable_scheduleHydration=function(s){if(s){var c=$w();s={blockedOn:null,target:s,priority:c};for(var p=0;p<yi.length&&c!==0&&c<yi[p].priority;p++);yi.splice(p,0,s),p===0&&Kw(s)}};function Ev(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function af(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function o2(){}function w5(s,c,p,g,C){if(C){if(typeof g=="function"){var P=g;g=function(){var ue=rf(D);P.call(ue)}}var D=n2(c,g,s,0,null,!1,!1,"",o2);return s._reactRootContainer=D,s[Da]=D.current,lc(s.nodeType===8?s.parentNode:s),yo(),D}for(;C=s.lastChild;)s.removeChild(C);if(typeof g=="function"){var G=g;g=function(){var ue=rf(J);G.call(ue)}}var J=Ov(s,0,!1,null,null,!1,!1,"",o2);return s._reactRootContainer=J,s[Da]=J.current,lc(s.nodeType===8?s.parentNode:s),yo(function(){tf(c,J,p,g)}),J}function of(s,c,p,g,C){var P=p._reactRootContainer;if(P){var D=P;if(typeof C=="function"){var G=C;C=function(){var J=rf(D);G.call(J)}}tf(c,D,s,C)}else D=w5(p,c,s,C,g);return rf(D)}Fw=function(s){switch(s.tag){case 3:var c=s.stateNode;if(c.current.memoizedState.isDehydrated){var p=Gl(c.pendingLanes);p!==0&&(nm(c,p|1),cn(c,ir()),(ht&6)===0&&(ws=ir()+500,ki()))}break;case 13:yo(function(){var g=La(s,1);if(g!==null){var C=Yr();ea(g,s,1,C)}}),_v(s,1)}},am=function(s){if(s.tag===13){var c=La(s,134217728);if(c!==null){var p=Yr();ea(c,s,134217728,p)}_v(s,134217728)}},Ww=function(s){if(s.tag===13){var c=Oi(s),p=La(s,c);if(p!==null){var g=Yr();ea(p,s,c,g)}_v(s,c)}},$w=function(){return kt},Uw=function(s,c){var p=kt;try{return kt=s,c()}finally{kt=p}},me=function(s,c,p){switch(c){case"input":if(bt(s,p),c=p.name,p.type==="radio"&&c!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<p.length;c++){var g=p[c];if(g!==s&&g.form===s.form){var C=wd(g);if(!C)throw Error(r(90));ee(g),bt(g,C)}}}break;case"textarea":Me(s,p);break;case"select":c=p.value,c!=null&&xt(s,!!p.multiple,c,!1)}},Z=kv,Se=yo;var j5={usingClientEntryPoint:!1,Events:[dc,cs,wd,rt,nt,kv]},Cc={findFiberByHostInstance:co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k5={bundleType:Cc.bundleType,version:Cc.version,rendererPackageName:Cc.rendererPackageName,rendererConfig:Cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Mr(s),s===null?null:s.stateNode},findFiberByHostInstance:Cc.findFiberByHostInstance||S5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sf.isDisabled&&sf.supportsFiber)try{nd=sf.inject(k5),ma=sf}catch{}}return un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j5,un.createPortal=function(s,c){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ev(c))throw Error(r(200));return b5(s,c,null,p)},un.createRoot=function(s,c){if(!Ev(s))throw Error(r(299));var p=!1,g="",C=i2;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),c=Ov(s,1,!1,null,null,p,!1,g,C),s[Da]=c.current,lc(s.nodeType===8?s.parentNode:s),new Tv(c)},un.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Mr(c),s=s===null?null:s.stateNode,s},un.flushSync=function(s){return yo(s)},un.hydrate=function(s,c,p){if(!af(c))throw Error(r(200));return of(null,s,c,!0,p)},un.hydrateRoot=function(s,c,p){if(!Ev(s))throw Error(r(405));var g=p!=null&&p.hydratedSources||null,C=!1,P="",D=i2;if(p!=null&&(p.unstable_strictMode===!0&&(C=!0),p.identifierPrefix!==void 0&&(P=p.identifierPrefix),p.onRecoverableError!==void 0&&(D=p.onRecoverableError)),c=n2(c,null,s,1,p??null,C,!1,P,D),s[Da]=c.current,lc(s),g)for(s=0;s<g.length;s++)p=g[s],C=p._getVersion,C=C(p._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[p,C]:c.mutableSourceEagerHydrationData.push(p,C);return new nf(c)},un.render=function(s,c,p){if(!af(c))throw Error(r(200));return of(null,s,c,!1,p)},un.unmountComponentAtNode=function(s){if(!af(s))throw Error(r(40));return s._reactRootContainer?(yo(function(){of(null,null,s,!1,function(){s._reactRootContainer=null,s[Da]=null})}),!0):!1},un.unstable_batchedUpdates=kv,un.unstable_renderSubtreeIntoContainer=function(s,c,p,g){if(!af(p))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return of(s,c,p,!1,g)},un.version="18.3.1-next-f1338f8080-20240426",un}var h2;function AT(){if(h2)return Iv.exports;h2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Iv.exports=T5(),Iv.exports}var m2;function E5(){if(m2)return cf;m2=1;var e=AT();return cf.createRoot=e.createRoot,cf.hydrateRoot=e.hydrateRoot,cf}var D5=E5(),k=i1();const V=jt(k),o1=A5({__proto__:null,default:V},[k]),dr={RUNS:"allocation_runs",ARTICLES:"allocation_articles",STORES:"allocation_stores",CAPACITY:"allocation_capacity",SCENARIOS:"allocation_scenarios",EXCEPTIONS:"allocation_exceptions",PARAMETERS:"allocation_parameters",TASKS:"allocation_tasks",USER:"allocation_user"};function $a(e,t){try{const r=localStorage.getItem(e);return r?JSON.parse(r):t}catch(r){return console.error(`Error reading from localStorage: ${e}`,r),t}}function Ua(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.error(`Error saving to localStorage: ${e}`,r)}}function R5(e){try{localStorage.removeItem(e)}catch(t){console.error(`Error removing from localStorage: ${e}`,t)}}const At={getRuns:()=>$a(dr.RUNS,[]),saveRuns:e=>Ua(dr.RUNS,e),getArticles:()=>$a(dr.ARTICLES,[]),saveArticles:e=>Ua(dr.ARTICLES,e),getStores:()=>$a(dr.STORES,[]),saveStores:e=>Ua(dr.STORES,e),getCapacity:()=>$a(dr.CAPACITY,[]),saveCapacity:e=>Ua(dr.CAPACITY,e),getScenarios:()=>$a(dr.SCENARIOS,[]),saveScenarios:e=>Ua(dr.SCENARIOS,e),getExceptions:()=>$a(dr.EXCEPTIONS,[]),saveExceptions:e=>Ua(dr.EXCEPTIONS,e),getParameters:()=>$a(dr.PARAMETERS,[]),saveParameters:e=>Ua(dr.PARAMETERS,e),getTasks:()=>$a(dr.TASKS,[]),saveTasks:e=>Ua(dr.TASKS,e),getUser:()=>$a(dr.USER,null),saveUser:e=>Ua(dr.USER,e),clearAll:()=>{Object.values(dr).forEach(e=>R5(e))},isInitialized:()=>localStorage.getItem(dr.RUNS)!==null},I5={id:"user-001",name:"Max Mustermann",email:"max.mustermann@company.ch",role:"manager",department:"Allocation Management"},M5=[{id:"store-zh-hb",name:"Zrich HB",description:"Hauptbahnhof Zrich",cluster:"Urban Premium",region:"Zrich",address:"Bahnhofplatz 15, 8001 Zrich",totalCapacity:500,isActive:!0,createdAt:"2024-01-01"},{id:"store-bs-sbb",name:"Basel SBB",description:"Basel Bahnhof SBB",cluster:"Urban Standard",region:"Basel",address:"Centralbahnplatz 1, 4051 Basel",totalCapacity:400,isActive:!0,createdAt:"2024-01-01"},{id:"store-be-bhf",name:"Bern Bahnhof",description:"Bern Hauptbahnhof",cluster:"Regional",region:"Bern",address:"Bahnhofplatz 10, 3011 Bern",totalCapacity:350,isActive:!0,createdAt:"2024-01-01"},{id:"store-lu",name:"Luzern",description:"Luzern Bahnhofstrasse",cluster:"Regional",region:"Zentralschweiz",address:"Bahnhofstrasse 5, 6003 Luzern",totalCapacity:300,isActive:!0,createdAt:"2024-01-01"},{id:"store-ge",name:"Genf",description:"Genve Centre",cluster:"Urban Premium",region:"Romandie",address:"Rue du Mont-Blanc 22, 1201 Genve",totalCapacity:450,isActive:!0,createdAt:"2024-01-01"},{id:"store-ls",name:"Lausanne",description:"Lausanne Gare",cluster:"Urban Standard",region:"Romandie",address:"Place de la Gare 9, 1003 Lausanne",totalCapacity:380,isActive:!0,createdAt:"2024-01-01"},{id:"store-sg",name:"St. Gallen",description:"St. Gallen Zentrum",cluster:"Regional",region:"Ostschweiz",address:"Multergasse 15, 9000 St. Gallen",totalCapacity:280,isActive:!0,createdAt:"2024-01-01"},{id:"store-wi",name:"Winterthur",description:"Winterthur Altstadt",cluster:"Regional",region:"Zrich",address:"Marktgasse 25, 8400 Winterthur",totalCapacity:260,isActive:!0,createdAt:"2024-01-01"}],L5=[{id:"RUN-2025-001",type:"initial",status:"completed",startDate:"2025-01-06T09:00:00",endDate:"2025-01-06T11:30:00",articleCount:156,storeCount:8,user:"M. Weber",createdAt:"2025-01-06T09:00:00",updatedAt:"2025-01-06T11:30:00"},{id:"RUN-2025-002",type:"replenishment",status:"completed",startDate:"2025-01-05T14:00:00",endDate:"2025-01-05T15:30:00",articleCount:89,storeCount:6,user:"S. Mller",createdAt:"2025-01-05T14:00:00",updatedAt:"2025-01-05T15:30:00"},{id:"RUN-2025-003",type:"manual",status:"with_exceptions",startDate:"2025-01-04T10:00:00",endDate:"2025-01-04T12:00:00",articleCount:45,storeCount:4,user:"A. Schmidt",createdAt:"2025-01-04T10:00:00",updatedAt:"2025-01-04T12:00:00"},{id:"RUN-2025-004",type:"initial",status:"running",startDate:"2025-01-07T08:00:00",articleCount:203,storeCount:8,progress:65,user:"M. Weber",createdAt:"2025-01-07T08:00:00",updatedAt:"2025-01-07T09:30:00"},{id:"RUN-2025-005",type:"replenishment",status:"planned",startDate:"2025-01-08T09:00:00",articleCount:120,storeCount:8,user:"T. Fischer",createdAt:"2025-01-06T16:00:00",updatedAt:"2025-01-06T16:00:00"}],B5=[{id:"scenario-001",name:"Standard Allokation HW 2025",description:"Standardszenario fr die Herbst/Winter Saison 2025",status:"approved",allocationType:"initial",createdBy:"M. Weber",createdAt:"2024-12-15T10:00:00",updatedAt:"2025-01-02T14:30:00",parameters:{forecastWeight:.6,historicalWeight:.4,safetyStockFactor:1.2,minAllocationQty:5,maxAllocationQty:100,clusterPriority:{"Urban Premium":1,"Urban Standard":2,Regional:3,Outlet:4}},results:{totalAllocated:15420,storesCovered:8,expectedFillRate:94.5,capacityUtilization:87.2,exceptions:3,simulatedAt:"2025-01-02T14:30:00"}},{id:"scenario-002",name:"Optimiert - Hohe Prognosegewichtung",description:"Szenario mit erhhter Gewichtung der Absatzprognose",status:"simulated",allocationType:"initial",createdBy:"S. Mller",createdAt:"2025-01-03T09:00:00",updatedAt:"2025-01-05T11:00:00",parameters:{forecastWeight:.8,historicalWeight:.2,safetyStockFactor:1.1,minAllocationQty:3,maxAllocationQty:120,clusterPriority:{"Urban Premium":1,"Urban Standard":2,Regional:3,Outlet:4}},results:{totalAllocated:16800,storesCovered:8,expectedFillRate:96.2,capacityUtilization:91.5,exceptions:5,simulatedAt:"2025-01-05T11:00:00"}},{id:"scenario-003",name:"NOS Nachschub - Standard",description:"Standardszenario fr Never-out-of-Stock Nachschub",status:"approved",allocationType:"replenishment",createdBy:"T. Fischer",createdAt:"2024-11-20T14:00:00",updatedAt:"2024-12-10T09:00:00",parameters:{forecastWeight:.5,historicalWeight:.5,safetyStockFactor:1.5,minAllocationQty:10,maxAllocationQty:50,clusterPriority:{"Urban Premium":1,"Urban Standard":1,Regional:2,Outlet:3}},results:{totalAllocated:8500,storesCovered:8,expectedFillRate:98.1,capacityUtilization:72.3,exceptions:1,simulatedAt:"2024-12-10T09:00:00"}},{id:"scenario-004",name:"Konservativ - Niedriger Sicherheitsbestand",description:"Testversion mit reduziertem Sicherheitsbestand",status:"draft",allocationType:"initial",createdBy:"A. Schmidt",createdAt:"2025-01-06T15:00:00",updatedAt:"2025-01-06T15:00:00",parameters:{forecastWeight:.5,historicalWeight:.5,safetyStockFactor:.9,minAllocationQty:5,maxAllocationQty:80,clusterPriority:{"Urban Premium":1,"Urban Standard":2,Regional:3,Outlet:4}}}],F5=[{id:"exc-001",type:"capacity",severity:"high",status:"open",title:"Kapazittsberschreitung Zrich HB",description:"Die geplante Allokation berschreitet die verfgbare Kapazitt um 15%",storeId:"store-zh-hb",runId:"RUN-2025-003",createdAt:"2025-01-04T11:30:00"},{id:"exc-002",type:"stock",severity:"medium",status:"in_progress",title:"Niedriger Lagerbestand Running Shoes",description:"Der zentrale Lagerbestand reicht nicht fr alle geplanten Allokationen",articleId:"art-001",assignedTo:"S. Mller",createdAt:"2025-01-05T09:00:00"},{id:"exc-003",type:"forecast",severity:"low",status:"open",title:"Prognoseabweichung Basel SBB",description:"Die Ist-Verkufe weichen um mehr als 20% von der Prognose ab",storeId:"store-bs-sbb",createdAt:"2025-01-06T14:00:00"},{id:"exc-004",type:"manual",severity:"critical",status:"open",title:"Dringende Nachlieferung Winterjacken",description:"Kundenanfrage fr Sonderlieferung aufgrund hoher Nachfrage",storeId:"store-ge",articleId:"art-004",createdAt:"2025-01-07T08:30:00"},{id:"exc-005",type:"capacity",severity:"medium",status:"resolved",title:"Warentrger-Konflikt Luzern",description:"Zwei Produktgruppen beanspruchen denselben Warentrger",storeId:"store-lu",resolvedAt:"2025-01-03T16:00:00",createdAt:"2025-01-02T10:00:00"}],W5=[{id:"task-001",title:"HW 2025 Allokation prfen",description:"berprfung der initialen Allokation fr die Herbst/Winter Saison",type:"review",status:"in_progress",priority:"high",assignedTo:"M. Weber",dueDate:"2025-01-10",relatedScenarioId:"scenario-001",createdAt:"2025-01-05T09:00:00"},{id:"task-002",title:"Exception Zrich HB bearbeiten",description:"Kapazittsberschreitung in Zrich HB lsen",type:"exception",status:"pending",priority:"urgent",assignedTo:"S. Mller",dueDate:"2025-01-08",relatedRunId:"RUN-2025-003",createdAt:"2025-01-04T12:00:00"},{id:"task-003",title:"Nachschub-Szenario freigeben",description:"NOS Nachschub Szenario zur Produktion freigeben",type:"approval",status:"pending",priority:"medium",assignedTo:"A. Schmidt",dueDate:"2025-01-09",relatedScenarioId:"scenario-003",createdAt:"2025-01-06T10:00:00"},{id:"task-004",title:"Neue Filiale St. Gallen einrichten",description:"Kapazitten und Parameter fr neue Filiale konfigurieren",type:"allocation",status:"completed",priority:"low",assignedTo:"T. Fischer",dueDate:"2025-01-05",completedAt:"2025-01-04T15:00:00",createdAt:"2025-01-02T14:00:00"},{id:"task-005",title:"Prognose-Parameter optimieren",description:"Forecast-Gewichtung basierend auf Q4 Ergebnissen anpassen",type:"allocation",status:"pending",priority:"medium",assignedTo:"M. Weber",dueDate:"2025-01-12",createdAt:"2025-01-06T11:00:00"}],$5=[{id:"param-001",category:"capacity",name:"Standard Kapazittsfaktor",key:"capacity_factor",value:1,unit:"Faktor",description:"Multiplikator fr die Basiskapazitt",minValue:.5,maxValue:2,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-002",category:"capacity",name:"Maximale Auslastung",key:"max_utilization",value:95,unit:"%",description:"Maximale erlaubte Kapazittsauslastung",minValue:70,maxValue:100,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-003",category:"presentation",name:"Mindest-Prsentationsmenge",key:"min_presentation",value:3,unit:"Stck",description:"Minimale Anzahl pro Gre auf der Flche",minValue:1,maxValue:10,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-004",category:"presentation",name:"Grenspiegel-Faktor",key:"size_curve_factor",value:1,unit:"Faktor",description:"Anpassung der Standard-Grenverteilung",minValue:.5,maxValue:1.5,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-005",category:"control",name:"Prognose-Horizont",key:"forecast_horizon",value:8,unit:"Wochen",description:"Zeitraum fr Absatzprognose",minValue:2,maxValue:16,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-006",category:"control",name:"Sicherheitsbestand-Tage",key:"safety_stock_days",value:14,unit:"Tage",description:"Puffer fr Nachschub-Verzgerungen",minValue:7,maxValue:30,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-007",category:"blocking",name:"Mindestverkaufstage",key:"min_selling_days",value:21,unit:"Tage",description:"Minimum Verkaufszeitraum vor Sperrung",minValue:7,maxValue:60,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-008",category:"blocking",name:"Abverkaufs-Schwelle",key:"sellthrough_threshold",value:30,unit:"%",description:"Mindest-Abverkaufsrate fr Nachschub",minValue:10,maxValue:80,updatedAt:"2025-01-01",updatedBy:"System"}];function v2(){return{user:I5,stores:M5,runs:L5,scenarios:B5,exceptions:F5,tasks:W5,parameters:$5}}const U5={runs:[],stores:[],scenarios:[],exceptions:[],parameters:[],tasks:[],currentUser:null,isLoading:!0,isInitialized:!1};function H5(e,t){switch(t.type){case"SET_LOADING":return{...e,isLoading:t.payload};case"INITIALIZE":return{...e,...t.payload,isLoading:!1,isInitialized:!0};case"SET_USER":return{...e,currentUser:t.payload};case"SET_RUNS":return{...e,runs:t.payload};case"ADD_RUN":return{...e,runs:[...e.runs,t.payload]};case"UPDATE_RUN":return{...e,runs:e.runs.map(r=>r.id===t.payload.id?t.payload:r)};case"DELETE_RUN":return{...e,runs:e.runs.filter(r=>r.id!==t.payload)};case"SET_STORES":return{...e,stores:t.payload};case"ADD_STORE":return{...e,stores:[...e.stores,t.payload]};case"UPDATE_STORE":return{...e,stores:e.stores.map(r=>r.id===t.payload.id?t.payload:r)};case"DELETE_STORE":return{...e,stores:e.stores.filter(r=>r.id!==t.payload)};case"SET_SCENARIOS":return{...e,scenarios:t.payload};case"ADD_SCENARIO":return{...e,scenarios:[...e.scenarios,t.payload]};case"UPDATE_SCENARIO":return{...e,scenarios:e.scenarios.map(r=>r.id===t.payload.id?t.payload:r)};case"DELETE_SCENARIO":return{...e,scenarios:e.scenarios.filter(r=>r.id!==t.payload)};case"SET_EXCEPTIONS":return{...e,exceptions:t.payload};case"ADD_EXCEPTION":return{...e,exceptions:[...e.exceptions,t.payload]};case"UPDATE_EXCEPTION":return{...e,exceptions:e.exceptions.map(r=>r.id===t.payload.id?t.payload:r)};case"DELETE_EXCEPTION":return{...e,exceptions:e.exceptions.filter(r=>r.id!==t.payload)};case"SET_PARAMETERS":return{...e,parameters:t.payload};case"UPDATE_PARAMETER":return{...e,parameters:e.parameters.map(r=>r.id===t.payload.id?t.payload:r)};case"SET_TASKS":return{...e,tasks:t.payload};case"ADD_TASK":return{...e,tasks:[...e.tasks,t.payload]};case"UPDATE_TASK":return{...e,tasks:e.tasks.map(r=>r.id===t.payload.id?t.payload:r)};case"DELETE_TASK":return{...e,tasks:e.tasks.filter(r=>r.id!==t.payload)};default:return e}}const zT=k.createContext(null);function uf(e){return`${e}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function K5({children:e}){const[t,r]=k.useReducer(H5,U5);k.useEffect(()=>{(()=>{if(At.isInitialized())r({type:"INITIALIZE",payload:{runs:At.getRuns(),stores:At.getStores(),scenarios:At.getScenarios(),exceptions:At.getExceptions(),tasks:At.getTasks(),parameters:At.getParameters(),currentUser:At.getUser()}});else{const N=v2();At.saveRuns(N.runs),At.saveStores(N.stores),At.saveScenarios(N.scenarios),At.saveExceptions(N.exceptions),At.saveTasks(N.tasks),At.saveParameters(N.parameters),At.saveUser(N.user),r({type:"INITIALIZE",payload:{runs:N.runs,stores:N.stores,scenarios:N.scenarios,exceptions:N.exceptions,tasks:N.tasks,parameters:N.parameters,currentUser:N.user}})}})()},[]),k.useEffect(()=>{t.isInitialized&&At.saveRuns(t.runs)},[t.runs,t.isInitialized]),k.useEffect(()=>{t.isInitialized&&At.saveScenarios(t.scenarios)},[t.scenarios,t.isInitialized]),k.useEffect(()=>{t.isInitialized&&At.saveExceptions(t.exceptions)},[t.exceptions,t.isInitialized]),k.useEffect(()=>{t.isInitialized&&At.saveTasks(t.tasks)},[t.tasks,t.isInitialized]),k.useEffect(()=>{t.isInitialized&&At.saveParameters(t.parameters)},[t.parameters,t.isInitialized]);const A={state:t,dispatch:r,addRun:S=>{const N=new Date().toISOString(),z={...S,id:uf("RUN"),createdAt:N,updatedAt:N};return r({type:"ADD_RUN",payload:z}),z},updateRun:S=>{const N={...S,updatedAt:new Date().toISOString()};r({type:"UPDATE_RUN",payload:N})},deleteRun:S=>{r({type:"DELETE_RUN",payload:S})},addScenario:S=>{const N=new Date().toISOString(),z={...S,id:uf("scenario"),createdAt:N,updatedAt:N};return r({type:"ADD_SCENARIO",payload:z}),z},updateScenario:S=>{const N={...S,updatedAt:new Date().toISOString()};r({type:"UPDATE_SCENARIO",payload:N})},deleteScenario:S=>{r({type:"DELETE_SCENARIO",payload:S})},addException:S=>{const N={...S,id:uf("exc"),createdAt:new Date().toISOString()};return r({type:"ADD_EXCEPTION",payload:N}),N},updateException:S=>{r({type:"UPDATE_EXCEPTION",payload:S})},resolveException:S=>{const N=t.exceptions.find(z=>z.id===S);N&&r({type:"UPDATE_EXCEPTION",payload:{...N,status:"resolved",resolvedAt:new Date().toISOString()}})},addTask:S=>{const N={...S,id:uf("task"),createdAt:new Date().toISOString()};return r({type:"ADD_TASK",payload:N}),N},updateTask:S=>{r({type:"UPDATE_TASK",payload:S})},completeTask:S=>{const N=t.tasks.find(z=>z.id===S);N&&r({type:"UPDATE_TASK",payload:{...N,status:"completed",completedAt:new Date().toISOString()}})},deleteTask:S=>{r({type:"DELETE_TASK",payload:S})},updateParameter:S=>{const N={...S,updatedAt:new Date().toISOString()};r({type:"UPDATE_PARAMETER",payload:N})},resetData:()=>{At.clearAll();const S=v2();At.saveRuns(S.runs),At.saveStores(S.stores),At.saveScenarios(S.scenarios),At.saveExceptions(S.exceptions),At.saveTasks(S.tasks),At.saveParameters(S.parameters),At.saveUser(S.user),r({type:"INITIALIZE",payload:{runs:S.runs,stores:S.stores,scenarios:S.scenarios,exceptions:S.exceptions,tasks:S.tasks,parameters:S.parameters,currentUser:S.user}})}};return a.jsx(zT.Provider,{value:A,children:e})}function V5(){const e=k.useContext(zT);if(!e)throw new Error("useApp must be used within an AppProvider");return e}const Bn={de:{nav:{dashboard:"Dashboard",allocation:"Allokation",scenarios:"Szenarien",exceptions:"Ausnahmen",tasks:"Aufgaben",dataManager:"Datenmanager",settings:"Einstellungen",help:"Hilfe",parameters:"Parameter",capacity:"Kapazitt",cluster:"Cluster",storeLayout:"Filiallayout",workQueue:"Arbeitsvorrat",runs:"Runs",navigation:"Navigation",analytics:"Analytics"},common:{save:"Speichern",cancel:"Abbrechen",delete:"Lschen",edit:"Bearbeiten",add:"Hinzufgen",create:"Erstellen",update:"Aktualisieren",search:"Suchen",filter:"Filtern",export:"Exportieren",import:"Importieren",refresh:"Aktualisieren",loading:"Wird geladen...",noData:"Keine Daten vorhanden",confirm:"Besttigen",yes:"Ja",no:"Nein",close:"Schlieen",back:"Zurck",next:"Weiter",actions:"Aktionen",status:"Status",name:"Name",description:"Beschreibung",date:"Datum",type:"Typ",priority:"Prioritt",all:"Alle",active:"Aktiv",inactive:"Inaktiv",selected:"ausgewhlt",selectAll:"Alle auswhlen",noSeasonSelected:"Keine Saison ausgewhlt",pleaseSelectSeason:"Bitte whlen Sie mindestens eine Saison aus",noDataForFilters:"Keine Daten fr die ausgewhlten Filter verfgbar",apply:"bernehmen",success:"Erfolg",error:"Fehler",warning:"Warnung",info:"Information"},dashboard:{title:"Dashboard",welcome:"Willkommen im Allocation Tool",subtitle:"Verwalten Sie Ihre Allokationsprozesse zentral und effizient",loggedInAs:"Angemeldet als",overview:"bersicht",recentActivity:"Letzte Aktivitten",quickActions:"Schnellzugriff",statistics:"Statistiken",totalStores:"Filialen gesamt",activeRuns:"Aktive Runs",pendingTasks:"Offene Tasks",openExceptions:"Exceptions",open:"ffnen",settingsTitle:"Allokationseinstellungen",settingsDesc:"Konfigurieren Sie Zuweisungsregeln, Prioritten und automatische Optimierungen",parametersTitle:"Allokationsparameter",parametersDesc:"Zentrale Pflege von Kapazitts-, Prsentations- und Steuerungsparametern",capacityTitle:"Kapazittsplanung",capacityDesc:"Analysieren und optimieren Sie Raumkapazitten mit Space-Fit-Visualisierung",clusterTitle:"Filial-Cluster",clusterDesc:"Filialen gruppieren & systemgesttzt optimieren",storeLayoutTitle:"Filiallayout & Warentrger",storeLayoutDesc:"Visualisieren und planen Sie Verkaufsflchen mit Warentrger-Drag & Drop",workTitle:"Arbeitsvorrat",workDesc:"Verwalten Sie Allokationsaufgaben und erstellen Sie neue Zuweisungen",runsTitle:"Ausfhrungs-Runs",runsDesc:"berwachen Sie laufende und abgeschlossene Allokationsprozesse",scenariosTitle:"Szenario- & Variantenmanagement",scenariosDesc:"Vergleichen, validieren und freigeben Sie Allokationsvarianten",scenarioMgmtTitle:"Erweiterte Variantenverwaltung",scenarioMgmtDesc:"Policy-Parameter, Forecast-Logik, Explainability und Simulationsanalyse",exceptionsTitle:"Exception Cockpit",exceptionsDesc:"Behandeln Sie Ausnahmen und Konflikte in der Allokation",analyticsTitle:"Analytics & Reports",analyticsDesc:"Detaillierte Auswertungen und KPI-Dashboards"},allocation:{title:"Allokation",newRun:"Neuer Lauf",runDetails:"Laufdetails",startDate:"Startdatum",endDate:"Enddatum",quantity:"Menge",allocated:"Zugewiesen",remaining:"Verbleibend",store:"Filiale",stores:"Filialen",article:"Artikel",articles:"Artikel",scenario:"Szenario",calculate:"Berechnen",run:"Ausfhren",result:"Ergebnis",results:"Ergebnisse"},scenarios:{title:"Szenarien",newScenario:"Neues Szenario",editScenario:"Szenario bearbeiten",parameters:"Parameter",baseScenario:"Basisszenario",compare:"Vergleichen",scenario:"Szenario",variants:"Varianten",variantDetails:"Varianten-Details",variantName:"Variantenname",overUnderCoverage:"ber-/Unterdeckung",overCapacity:"berdeckung",underCapacity:"Unterdeckung",forecastCoverage:"Prognoseabdeckung",criticalExceptions:"Kritische Ausnahmen",overview:"bersicht",capacity:"Kapazitt",forecast:"Prognose",exceptions:"Ausnahmen",forecastVsAllocation:"Prognose vs. Allokation",decisionAndHandover:"Entscheidung & bergabe",validationResults:"Validierungsergebnisse",validationReport:"Validierungsbericht",startValidation:"Validierung starten",validationRunning:"Validierung luft...",approvalReason:"Begrndung der Freigabe",approvalPlaceholder:"Bitte geben Sie eine Begrndung fr die Freigabe ein...",simulationComplete:"Simulation abgeschlossen  Validierung erforderlich",allChecksPassed:"Alle Systemprfungen bestanden",approvedForRelease:"Variante ist zur Umsetzung freigegeben",transferred:"Variante wurde als Allokationslauf bertragen",baseVariant:"Basisvariante",optimizedDistribution:"Optimierte Verteilung",equalDistribution:"Gleichverteilung",extendedView:"Erweiterte Ansicht",releaseVariant:"Variante freigeben",transferToAllocation:"In Allokationslauf berfhren",allocationCreated:"Allokationslauf wurde erfolgreich erzeugt",variantImmutable:"Diese Variante ist unvernderlich und wurde einem Allokationslauf zugeordnet.",noCriticalExceptions:"Keine kritischen Ausnahmen",systemChecksRunning:"Systemprfungen werden durchgefhrt...",transferredToRun:"Zur Umsetzung bertragen",draftStatus:"Variante ist im Entwurfsstadium",released:"Freigegeben",recipientDetermination:"Empfngerermittlung",deliveryDates:"Liefertermine",availability:"Verfgbarkeit",capacityAssumptions:"Kapazittsannahmen",blockingExceptions:"Blockierende Ausnahmen",variantReleased:"Variante erfolgreich freigegeben"},exceptions:{title:"Exception Cockpit",newException:"Neue Ausnahme",resolved:"Gelst",pending:"Ausstehend",critical:"Kritisch",high:"Hoch",medium:"Mittel",low:"Niedrig",resolve:"Lsen",assign:"Zuweisen",new:"Neu",inProgress:"In Bearbeitung",accepted:"Akzeptiert",info:"Hinweis",blocking:"Blockierend",overcapacity:"berkapazitt",undercapacity:"Untererfllung SOLL-Kapazitt",deliveryConflict:"Liefertermin-Konflikt",lotConflict:"LOT / Grenlauf-Konflikt",parameterConflict:"Parameterkonflikt",manualDeviation:"Manuelle Abweichung",aggregatedView:"Aggregierte Ansicht",detailView:"Detailansicht",criticalBlocking:"Kritisch / Blockierend",acceptedDeviations:"Akzeptierte Abweichungen",articleCategory:"Artikel / Kategorie",process:"Prozess",cause:"Ursache",impact:"Auswirkung",source:"Quelle",actions:"Aktionen",searchPlaceholder:"Artikel oder Kategorie suchen...",severityAll:"Severity: Alle",categoriesAffected:"Kategorien betroffen",causeDetails:"Ursache & Details",markAsAccepted:"Als akzeptierte Abweichung kennzeichnen"},tasks:{title:"Aufgaben",newTask:"Neue Aufgabe",dueDate:"Flligkeitsdatum",assignee:"Zugewiesen an",completed:"Abgeschlossen",inProgress:"In Bearbeitung",todo:"Zu erledigen",complete:"Abschlieen"},workScreen:{bookmark:"Vormerken",color:"Farbe",deliveryFromPlan:"Liefertermin von (Plan)",deliveryToPlan:"Liefertermin bis (Plan)",deliveryFromSimulation:"Liefertermin von (Simulation)",deliveryToSimulation:"Liefertermin bis (Simulation)",stockDC:"Bestand im VZ",sizeCount:"Anzahl Gren",capacityNeed:"Kapazittsbedarf",capacityImpact:"Kapazittswirkung",capacity:"Kapazitt",statusOpen:"Offen",statusPlanning:"In Planung",statusSimulated:"Simuliert",statusAllocated:"Allokiert",overCapacity:"berkapazitt",underCapacity:"Untererfllung",balanced:"Ausgeglichen",overCapacityRisk:"berkapazittsrisiko",underCapacityRisk:"Untererfllungsrisiko",balancedCapacity:"Ausgeglichene Kapazitt",deliveryDate:"Liefertermin",simulationView:"Ansicht: Simulation  Diagramme und Kapazittswirkung basieren auf bernommenen Simulationswerten",capacityImpactTooltip:"Kapazittswirkung basiert auf Simulationsvorschlgen, sofern vorhanden"},dataManager:{title:"Datenmanager",database:"Datenbank",dbManagement:"Datenbank-Verwaltung",connection:"Verbindung",connected:"Verbunden",notConnected:"Nicht verbunden",tableStats:"Tabellen-Statistik",apiConnection:"API-Verbindung",apiUrl:"API URL",mode:"Modus",liveDatabase:"Live-Datenbank",fallbackMode:"Fallback (localStorage)",schemaData:"Schema & Daten",createTables:"Tabellen erstellen (Migration)",loadTestData:"Testdaten laden (Seed)",healthPerformance:"Gesundheit & Performance",runHealthCheck:"Health-Check ausfhren",latency:"Latenz",dbSize:"DB-Gre",connections:"Verbindungen",optimizeDb:"Datenbank optimieren",backupRestore:"Backup & Wiederherstellung",downloadBackup:"Backup herunterladen",restoreBackup:"Backup wiederherstellen",dangerZone:"Gefahrenzone",resetDatabase:"Datenbank komplett zurcksetzen",resetLocalData:"Lokale Daten zurcksetzen",tableDetails:"Tabellendetails",columns:"Spalten",rows:"Zeilen",size:"Gre",recentEntries:"Letzte Eintrge",clearTable:"Tabelle leeren",environment:"Umgebung",serverTime:"Server-Zeit",localStorage:"Lokaler Speicher (Browser)",present:"Vorhanden",empty:"Leer",tabData:"Daten",tabConfig:"Konfiguration",tabLogs:"Logs",tabImport:"Import",tabExport:"Export",tabDb:"DB-Verwaltung",stores:"Filialen",storesDesc:"Stammdaten der Verkaufsstellen",articles:"Artikel",articlesDesc:"Produktstammdaten",allocationRuns:"Allocation Runs",allocationRunsDesc:"Allokationslufe und deren Status",scenariosEntity:"Szenarien",scenariosDesc:"Planungsszenarien und Simulationen",exceptionsEntity:"Exceptions",exceptionsDesc:"Ausnahmen und Warnungen",tasksEntity:"Tasks",tasksDesc:"Aufgaben und Workflows",masterData:"Stammdaten",transactionData:"Bewegungsdaten",viewData:"Daten anzeigen",editData:"Daten bearbeiten",deleteData:"Daten lschen",noSelection:"Keine Entitt ausgewhlt",selectEntity:"Bitte whlen Sie eine Entitt aus der Liste",loadingDetails:"Lade Details...",checkingConnection:"Verbindung wird geprft...",noDbConnection:"Keine Verbindung zur Datenbank",postgresDb:"PostgreSQL Datenbank",lastSync:"Letzte Synchronisation",statistics:"Statistiken"},settings:{title:"Allokationseinstellungen",language:"Sprache",theme:"Design",notifications:"Benachrichtigungen",profile:"Profil",account:"Konto",security:"Sicherheit",preferences:"Prferenzen",german:"Deutsch",english:"English",locations:"Standorte",responsibilities:"Zustndigkeiten",allocation:"Allokation",distributionCenters:"Verteilzentren",stores:"Filialen",addDC:"VZ hinzufgen",addStore:"Filiale hinzufgen",warehouses:"Lagerorte",address:"Adresse",cluster:"Cluster",referenceStore:"Referenzfiliale",allocators:"Allocatoren",addAllocator:"Allocator hinzufgen",role:"Rolle",responsibilityArea:"Zustndigkeitsbereich",scenarioSettings:"Szenario-Einstellungen",initialAllocation:"Erstallokation",replenishment:"Nachschub",manualAllocation:"Manuelle Allokation",recipientDetermination:"Empfngerermittlung",deliveryDateDetermination:"Lieferdatumsermittlung",availabilityDetermination:"Verfgbarkeitsermittlung",reductionStrategy:"Reduktionsstrategie",allocationAlgorithm:"Allokationsalgorithmus",globalSettings:"Globale Einstellungen",capacityPlanning:"Kapazittsplanung",hierarchyLevel:"Hierarchieebene",quantityUnit:"Mengeneinheit",saveSettings:"Einstellungen speichern",discardChanges:"nderungen verwerfen",settingsSaved:"Allokationseinstellungen gespeichert",save:"Speichern",edit:"Bearbeiten",delete:"Lschen",add:"Hinzufgen",cancel:"Abbrechen",editDC:"Verteilzentrum bearbeiten",editAllocator:"Allokator bearbeiten",addAllocatorTitle:"Allokator hinzufgen",locationsTab:"Lokationen",responsibilitiesTab:"Verantwortlichkeiten",allocationSettingsTab:"Allokationseinstellungen",newDC:"Neues Verteilzentrum",newStore:"Neue Filiale",clusterAssignment:"Clusterzuordnung",referenceId:"Referenzkennzeichen",actions:"Aktionen",globalAllocationSettings:"Globale Allokationseinstellungen",name:"Name",clickToSelect:"Klicken zum Auswhlen...",clickToSet:"Klicken zum Festlegen...",allocationParameters:"Allokationsparameter",continueToCapacity:"Weiter zu Kapazitt",yes:"Ja",no:"Nein",referenceTooltip:"Diese Filiale dient als Referenz fr Preise und andere abgeleitete Werte."},simulation:{title:"Simulation  Initiale Allokation",subtitle:"Bewertung der kapazitiven und zeitlichen Wirkung der ausgewhlten Artikel",backToWorkQueue:"Zurck zum Arbeitsvorrat",articleCount:"Anzahl Artikel",seasons:"Saisonen",articleGroups:"Artikelgruppen",originalDeliveryWindow:"Ursprngliches Lieferfenster (Plan)",scenario:"Szenario",initialAllocation:"Initiale Allokation",deliveryOptions:"Liefertermin-Optionen",deliveryDatePlan:"Liefertermin (Plan)",deliveryOption:"Liefertermin-Option",plannedWindow:"Geplantes Lieferfenster",plus1Week:"+1 Woche",plus2Weeks:"+2 Wochen",minus1Week:"-1 Woche",manualEntry:"Manuelle Eingabe",splitDelivery:"Aufteilen auf zwei Lieferfenster (bald verfgbar)",simulated:"Simuliert",from:"Von",to:"Bis",overcapacity:"berkapazitt",underfulfillment:"Untererfllung",balanced:"Ausgeglichen",hint:"Hinweis",critical:"Kritisch",blocking:"Blockierend",capacityImpact:"Kapazittswirkung",actualUtilization:"IST-Auslastung",targetUtilization:"SOLL-Auslastung",deviation:"Abweichung",affectedStores:"Betroffene Filialen",capacityByCategory:"Kapazitt nach Kategorie",monthlyDistribution:"Monatliche Verteilung",issuesAndWarnings:"Hinweise & Warnungen",noIssues:"Keine Aufflligkeiten erkannt",acceptSimulation:"Simulation bernehmen",discardSimulation:"Verwerfen",releaseAllocation:"Allokation freigeben"},capacity:{title:"Kapazittsplanung",subtitle:"Analysieren und optimieren Sie Raumkapazitten",spaceFit:"Space-Fit",currentCapacity:"Aktuelle Kapazitt",targetCapacity:"Ziel-Kapazitt",utilization:"Auslastung",available:"Verfgbar",occupied:"Belegt",overCapacity:"berkapazitt",underCapacity:"Unterkapazitt"},cluster:{title:"Filial-Cluster",subtitle:"Filialen gruppieren und systemgesttzt optimieren",clusterName:"Clustername",storeCount:"Anzahl Filialen",performance:"Performance",createCluster:"Cluster erstellen",editCluster:"Cluster bearbeiten",deleteCluster:"Cluster lschen",assignStores:"Filialen zuweisen"},runs:{title:"Ausfhrungs-Runs",subtitle:"berwachen Sie laufende und abgeschlossene Allokationsprozesse",runId:"Run-ID",startTime:"Startzeit",endTime:"Endzeit",duration:"Dauer",status:"Status",running:"Luft",completed:"Abgeschlossen",failed:"Fehlgeschlagen",planned:"Geplant",cancelled:"Abgebrochen",startRun:"Run starten",stopRun:"Run stoppen",viewDetails:"Details anzeigen",progress:"Fortschritt",articleCount:"Anzahl Artikel",storeCount:"Anzahl Filialen",filter:"Filter",allocationProcess:"Allokationsprozess",dateFrom:"Datum von",dateTo:"Datum bis",user:"Benutzer",allUsers:"Alle Benutzer",resetFilter:"Filter zurcksetzen",runsFound:"Lufe gefunden",runFound:"Lauf gefunden",store:"Filiale",articleDetails:"Artikel  Allokationsdetails",articleNumber:"Artikelnummer",articleDescription:"Artikelbeschreibung",allTypes:"Alle Typen",initialAllocation:"Erstallokation",replenishment:"Nachschub",manualAllocation:"Manuelle Allokation",run:"Lauf",runs:"Lufe",backToRun:"Zurck zum Lauf",laufId:"Lauf ID",type:"Typ",startDate:"Startdatum",endDate:"Enddatum",action:"Aktion",withExceptions:"Mit Ausnahmen",allocationPeriodFrom:"Allokationszeitraum von",allocationPeriodTo:"Allokationszeitraum bis",totalQuantityAllocated:"Gesamtmenge allokiert",season:"Saison",storeDescription:"Filialbeschreibung",allocatedQuantity:"Allokierte Menge",demand:"Bedarf",overUnder:"ber/Unter",targetStock:"Zielbestand",currentStock:"Ist-Bestand",salesLast2Weeks:"Absatz letzte 2 Wochen",totalCurrentStock:"Gesamt Ist-Bestand",totalTargetStock:"Gesamt Zielbestand",totalAllocated:"Gesamt Allokiert",aggregatedMetrics:"Aggregierte Metriken",aggregated:"Aggregiert",segmented:"Segmentiert",absolute:"Absolut",relative:"Relativ",storeAllocation:"Filial-Allokation",sizeDistribution:"Grenverteilung",size:"Gre",close:"Schlieen",color:"Farbe",capacityImpact:"Kapazittswirkung",exceptionStatus:"Ausnahmestatus",exception:"Ausnahme",showDetails:"Details anzeigen",runDetail:"Lauf-Details",runDetailDescription:"Details zu den allokierten Artikeln dieses Laufs",totalOverUnder:"Gesamt ber/Unter",totalDemand:"Gesamt Bedarf",totalVZBestand:"VZ-Bestand"},work:{title:"Arbeitsvorrat",subtitle:"Verwalten Sie Allokationsaufgaben und erstellen Sie neue Zuweisungen",taskId:"Aufgaben-ID",assignee:"Zugewiesen an",dueDate:"Flligkeitsdatum",createTask:"Aufgabe erstellen",assignTask:"Aufgabe zuweisen",completeTask:"Aufgabe abschlieen",openTasks:"Offene Aufgaben",myTasks:"Meine Aufgaben",allTasks:"Alle Aufgaben",noArticlesSelected:"Keine Artikel fr Allokation ausgewhlt",allocationScheduled:"Allokation zur Verarbeitung eingeplant",simulationAccepted:"Simulation erfolgreich bernommen",simulationDiscarded:"Simulation verworfen",discardSimulation:"Simulation verwerfen",allocationAnalysis:"Allokationsanalyse",planPreview:"Plan & Vorschau",runAllocation:"Allokation durchfhren",initialAllocation:"Erstallokation",replenishment:"Nachschub",manualControl:"Manuelle Einsteuerung",articleGroup:"Artikelgruppe",season:"Saison",capacityImpact:"Kapazittswirkung",deliveryPeriod:"Lieferzeitraum",from:"Von",to:"Bis",overcapacity:"berkapazitt",underfulfillment:"Untererfllung",balanced:"Ausgeglichen",statusOpen:"Offen",statusPlanning:"In Planung",statusAllocated:"Allokiert",statusSimulated:"Simuliert",activeFilters:"Aktive Filter",clearAll:"Alle zurcksetzen",selectedForAllocation:"Fr Allokation vorgemerkt",articles:"Artikel",withOvercapacity:"davon mit berkapazitt",simulationResults:"Simulations-Ergebnisse",showSimulation:"Simulation anzeigen",startSimulation:"Simulation starten",confirmAllocation:"Allokation besttigen",close:"Schlieen",articleId:"Artikel-ID",articleName:"Artikelname",deliveryFrom:"Lieferung Von",deliveryTo:"Lieferung Bis",quantity:"Menge",status:"Status",remove:"Entfernen",simulateFirst:"Simulation",directAllocation:"Direkte Allokation",allocationRuns:"Allokationslufe",runDate:"Laufdatum",runType:"Lauftyp",articlesCount:"Artikel",storesCount:"Filialen",runStatus:"Status",viewDetails:"Details",performAllocation:"Allokation durchfhren",openAllocationRun:"Run ffnen",capacitySummary:"Kapazittszusammenfassung",overcapacityRisk:"Anzahl Artikel mit berkapazittsrisiko",underfulfillmentRisk:"Anzahl Artikel mit Untererfllungsrisiko",capacityNote:"Die Kapazittswirkung basiert auf prognostischen Daten und wird in der Simulation konkretisiert.",simulateAllocation:"Allokation simulieren",simulateNote:"Bei Aktivierung werden keine realen Allokationen erzeugt.",scheduleBackground:"Hintergrundverarbeitung einplanen",selectedArticles:"Ausgewhlte Artikel",startAllocation:"Allokation starten",selectAllocationRun:"Allokationslauf auswhlen",selectRunDescription:"Whlen Sie einen bestehenden Allokationslauf aus, um die Details anzuzeigen",dateFrom:"Datum von",dateTo:"Datum bis"},parameters:{title:"Allokationsparameter",subtitle:"Zentrale Pflege von Kapazitts-, Prsentations- und Steuerungsparametern",parameterName:"Parametername",value:"Wert",unit:"Einheit",category:"Kategorie",editParameter:"Parameter bearbeiten",addParameter:"Parameter hinzufgen",capacityTab:"Kapazitt & Flche",presentationTab:"Prsentationsregeln",timeTab:"Zeit- & Verdichtungsparameter",logicTab:"Allokationslogik & Priorisierung",forecastTab:"Prognose- & KPI-Gewichtung",governanceTab:"Governance & Einschrnkungen",storeBlockingTab:"Filialspezifische Einschrnkungen",articleHierarchy:"Artikelhierarchie",source:"Herkunft",validFrom:"Gltig von",validTo:"Gltig bis",override:"Override",actions:"Aktionen",newParameter:"Neuen Parameter anlegen",parameterCount:"Parameter",allStatus:"Alle Status",active:"Aktiv",inactive:"Inaktiv",overridden:"berschrieben",inherited:"Geerbt",inheritedFrom:"Geerbt von",directlyManaged:"Direkt gepflegt",inheritedSource:"Geerbt",defaultSystem:"Default-Systemwert",company:"Unternehmen",division:"Einkaufsbereich",categoryLevel:"Warengruppe",productGroup:"Produktgruppe",article:"Artikel",allAreas:"Alle Bereiche",store:"Filiale",total:"Gesamt",cluster:"Cluster",initialAllocation:"Initiale Allokation",replenishment:"Nachschub",articleNumber:"Artikelnummer",articleDescription:"Artikelbeschreibung",articleGroup:"Artikelgruppe",articleHierarchyLabel:"Artikelhierarchie",levels:"Ebene",levelsPlural:"Ebenen"},capacityScreen:{title:"Kapazittsplanung",subtitle:"Kapazittsauslastung und -verteilung",evaluationLevel:"Auswertungsebene",total:"Gesamt",cluster:"Cluster",store:"Filiale",hierarchyLevel:"Hierarchieebene",company:"Unternehmen",purchaseArea:"Einkaufsbereich",productGroup:"Produktgruppe",product:"Produkt",allocationType:"Allokationstyp",initialAllocation:"Initiale Allokation",replenishment:"Nachschub",unit:"Einheit",sqm:"m",fixtures:"Warentrger",status:"Status",ok:"OK",overAllocated:"berbelegt",underAllocated:"Unterbelegt",season:"Saison",allAreas:"Alle Bereiche",totalCapacity:"Gesamtkapazitt",actualCapacity:"Ist-Kapazitt",targetCapacity:"Ziel-Kapazitt",utilization:"Auslastung",deviation:"Abweichung",forecastSuggestion:"Prognose-Vorschlag",recalculateForecast:"Prognose neu berechnen",capacityDetails:"Kapazittsdetails",forecastBased:"prognosebasiert",usableArea:"Kapazitt nutzbar Flche",remaining:"Restmz",forecastDerivation:"Prognose-Herleitung",salesForecast:"Absatzprognose",units:"Einheiten",avgInventory:" Bestandsmenge",derivedTargetCapacity:"Abgeleitete SOLL-Kapazitt",forecastNote:"Die Prognose basiert auf historischen Verkaufsdaten der letzten 12 Monate, saisonalen Trends und geplanten Marketingaktionen.",forecastRecalculated:"Prognose erfolgreich neu berechnet",level:"Ebene",inventoryPcs:"Bestand (in Stck)",sollVsIst:"SOLL- vs. IST-Kapazitt",soll:"SOLL",ist:"IST",capacityUtilization:"Kapazittsauslastung",maintain:"Einhalten",overbooked:"berbucht"},clusterScreen:{title:"Store Clusters",selectStores:"Filialen auswhlen",storesSelected:"Filialen ausgewhlt",selectAttributes:"Attribute auswhlen",attributesSelected:"Attribute ausgewhlt",attributeHint:"Diese Attribute werden fr den systemgesttzten Clustervorschlag verwendet.",minClusterCount:"Minimale Clusteranzahl",maxClusterCount:"Maximale Clusteranzahl",clusterAssignment:"Cluster-Zuordnung",newCluster:"Neuen Cluster anlegen",assignStores:"Filialen zuweisen",description:"Beschreibung",country:"Land",size:"Gre (m)",allFiltersAndAssignments:"Alle Filter- und Zuweisungen",systemGenerated:"System erstellt",manual:"Manuell",hybrid:"Hybrid",active:"Aktiv",draft:"Entwurf",archived:"Archiviert",clusters:"Cluster",stores:"Filialen",calculate:"Berechnen",storeId:"Filial-ID",name:"Name",address:"Adresse",unassigned:"Nicht zugeordnet",region:"Region",annualRevenue:"Umsatz (jhrlich)",rollingRevenue:"Umsatz (rollierend)",salesArea:"Verkaufsflche (m)",customerFrequency:"Kundenfrequenz",urbanRural:"Urbanitt/Lndlichkeit",competitorDensity:"Wettbewerberdichte"},storeLayout:{title:"Store Layout & Fixtures",subtitle:"Visualize and plan store areas with fixture drag & drop",tabLayout:"Layout & Warentrger",tabAnalysis:"Sortimentsverteilung (Analyse)",selectStore:"Filiale auswhlen",fixtures:"Warentrger",fixtureOverview:"Warentrgerbersicht",fixtureType:"Warentrger-Typ",count:"Anzahl",occupiedArea:"Belegte Flche (m)",capacitySt:"Kapazitt (St)",assignedCategory:"Zugeordnete Warengruppe",assignedCategories:"Zugeordnete Warengruppen",noFixturesPlaced:"Keine Warentrger platziert",dragFixtureHint:"Ziehen Sie Warentrger aus der linken Palette auf die Flche",capacity:"Kapazitt",capacityEffect:"Kapazittswirkung",occupancy:"Belegung",totalArea:"Gesamtflche",availableArea:"Verfgbare Flche",occupiedAreaKpi:"Belegte Flche",freeArea:"Freie Flche",editLayout:"Layout bearbeiten",aiSuggestion:"KI-Vorschlag",importFloorplan:"Grundriss importieren",uploadFloorplanHint:"Laden Sie einen Grundriss hoch, um das Layout automatisch zu erkennen",integrationNote:"Integration mit Kapazittsplanung",integrationDesc:"Dieses Layout bestimmt die IST-Kapazitt der Filiale und fliet direkt in Simulation, Allokation und Prognose ein.",aiHint:"Der KI-Vorschlag dient als Ausgangspunkt. Sie knnen jeden Warentrger individuell anpassen.",gondola:"Gondel",wallShelf:"Wandregal",table:"Tisch",actionArea:"Aktionsflche",backWall:"Rckwand",hookWall:"Hakenwand",checkoutModule:"Kassenmodul"},workQueue:{title:"Work Queue",subtitle:"Manage allocation tasks and create new assignments",initialAllocation:"Initial Allocation",replenishment:"Replenishment",manualControl:"Manual Control",allocationStatus:"Allokationsstatus",allocationsByMonth:"Allokationen nach Monat",articleGroup:"Artikelgruppe",season:"Saison",capacityEffect:"Kapazittswirkung",statusAll:"Status (Alle)",open:"Offen",inPlanning:"In Planung",simulated:"Simuliert",allocated:"Allokiert",articlesSelected:"Artikel ausgewhlt",capacityWarning:"Hinweis: Die Auswahl enthlt Artikel mit mglichem Kapazittsengpass.",articleCount:"Artikelanzahl",overCapacity:"berkapazitt",underCapacity:"Unterfllung",balanced:"Ausgeglichen",addAllocation:"Allokation hinzufgen",simulationNote:"Fr diesen Artikel liegt ein bernommener Simulationsvorschlag vor. Die Allokation wurde noch nicht freigegeben."},exceptionsScreen:{title:"Ausnahmen",openExceptions:"Offene Ausnahmen",process:"Prozess",processAll:"Prozess: Alle",initial:"Initial",initialAllocation:"Initiale Allokation",replenishment:"Nachschub",resolveException:"Ausnahme lsen",articleCategory:"Artikel / Kategorie",cause:"Ursache"},simulationScreen:{title:"Simulation",breadcrumb:"Arbeitsvorrat  Simulation  Initiale Allokation",backToWorkQueue:"Zurck zum Arbeitsvorrat",simulationTitle:"Simulation  Initiale Allokation",description:"Bewertung der kapazitiven und zeitlichen Wirkung der ausgewhlten Artikel",scenario:"Szenario",initialAllocation:"Initiale Allokation",actualUtilization:"IST-Auslastung (nach Simulation)",targetUtilization:"SOLL-Auslastung",capacityPlanning:"Kapazittsplanung",deviation:"Abweichung",overCapacity:"berkapazitt",underCapacity:"Untererfllung",balanced:"Ausgeglichen",affectedStores:"Betroffene Stores",storesOutsideTarget:"Stores auerhalb SOLL-Rahmen",capacityImpact:"Kapazittswirkung nach Simulation",issuesFromSimulation:"Aufflligkeiten aus der Simulation",deliveryDateSimulation:"Liefertermin (Simulation)",discardSimulation:"Simulation verwerfen",acceptSimulation:"Simulation bernehmen",dateChangeNote:"Terminnderungen wirken sich direkt auf Kapazitt und Simulation aus."},modals:{selectDistributionCenter:"Verteilzentrum auswhlen",selectStore:"Filiale auswhlen",selectAllocator:"Allokator auswhlen"},actions:{save:"Speichern",saving:"Speichern...",cancel:"Abbrechen",edit:"Bearbeiten",delete:"Lschen",add:"Hinzufgen",close:"Schlieen",apply:"bernehmen",back:"Zurck",next:"Weiter",newEntry:"Neuer Eintrag",editEntry:"Eintrag bearbeiten",deleteConfirm:"Diesen Eintrag wirklich lschen?",addAllocator:"Allokator hinzufgen",editAllocator:"Allokator bearbeiten",editDC:"Verteilzentrum bearbeiten"},analytics:{title:"Analytics & Reports",subtitle:"Detaillierte Auswertungen und KPI-Dashboards",kpiDashboard:"KPI-Dashboard",reports:"Berichte",charts:"Diagramme",exportReport:"Bericht exportieren",timeRange:"Zeitraum",comparison:"Vergleich",article:"Artikel",category:"Kategorie",season:"Saison",forecastQuantity:"Prognosemenge",allocatedQuantity:"Allokierte Menge",storeStock:"Filialbestand",warehouseStock:"VZ-Bestand",demand:"Bedarf",sizeDeviation:"Grenabweichung (%)",exceptionCount:"Exception-Anzahl",dateFrom:"Zeitraum von",dateTo:"Zeitraum bis",saveView:"Ansicht speichern",targetCapacity:"SOLL-Kapazitt",actualCapacityUtilization:"IST-Kapazittsauslastung",overCapacityTotal:"berdeckung gesamt",underCapacityTotal:"Unterdeckung gesamt",changeVsPY:"Vernderung gg VJ",forecastCoverage:"Prognosedeckung",capacityTargetVsActual:"Kapazitt SOLL vs. IST ber Zeit",overUnderByCategory:"ber-/Unterdeckung nach Kategorie",stockAndDemand:"Bestnde & Bedarf",forecastVsAllocation:"Prognose vs. Allokation",overCapacity:"berkapazitt",underCapacity:"Untererfllung",target:"SOLL",actual:"IST",forecast:"Prognose",allocated:"Allokiert",sales:"Abverkauf"},data:{categories:{shoes:"Schuhe",outerwear:"Oberbekleidung",pants:"Hosen",accessories:"Accessoires",sportEquipment:"Sport Equipment",underwear:"Unterwsche"},seasons:{fs25:"Frhjahr/Sommer 2025",hw25:"Herbst/Winter 2025",fs26:"Frhjahr/Sommer 2026"},processes:{initial:"Initiale Allokation",replenishment:"Nachschub"},articles:{runningShoesPro:"Running Schuhe Pro",winterJacketPremium:"Winter Jacke Premium",sportTShirtBasic:"Sport T-Shirt Basic",jeansSlimFit:"Jeans Slim Fit",backpackUrban:"Rucksack Urban",football:"Fuball"}},scenariosScreen:{title:"Szenario- & Variantenmanagement",subtitle:"Vergleichen, validieren und freigeben Sie Allokationsvarianten",createScenario:"Szenario erstellen",statusDraft:"Entwurf",statusSimulated:"Simuliert",statusValidated:"Validiert",compareScenarios:"Szenarien vergleichen",validateScenario:"Szenario validieren",releaseScenario:"Szenario freigeben",baseScenario:"Basisszenario",variant:"Variante"},messages:{confirmDelete:"Wirklich lschen?",deleteSuccess:"Erfolgreich gelscht",saveSuccess:"Erfolgreich gespeichert",updateSuccess:"Erfolgreich aktualisiert",errorOccurred:"Ein Fehler ist aufgetreten",connectionFailed:"Verbindung fehlgeschlagen",backupSuccess:"Backup erfolgreich heruntergeladen!",restoreSuccess:"Backup erfolgreich wiederhergestellt!",optimizeSuccess:"Datenbank-Optimierung abgeschlossen!",resetSuccess:"Datenbank zurckgesetzt. Bitte fhren Sie die Migration erneut aus.",resetCancelled:"Reset abgebrochen.",confirmReset:`ACHTUNG: Alle Daten werden gelscht!

Geben Sie "RESET" ein um fortzufahren:`,confirmRestore:"Datenbank aus Backup wiederherstellen? Bestehende Daten werden berschrieben.",confirmOptimize:"Datenbank optimieren? Dies kann einige Sekunden dauern.",allDataDeleted:"Alle lokalen Daten wurden gelscht. Seite wird neu geladen.",confirmDeleteAll:"Wirklich alle lokalen Daten lschen?"}},en:{nav:{dashboard:"Dashboard",allocation:"Allocation",scenarios:"Scenarios",exceptions:"Exceptions",tasks:"Tasks",dataManager:"Data Manager",settings:"Settings",help:"Help",parameters:"Parameters",capacity:"Capacity",cluster:"Cluster",storeLayout:"Store Layout",workQueue:"Work Queue",runs:"Runs",navigation:"Navigation",analytics:"Analytics"},common:{save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",add:"Add",create:"Create",update:"Update",search:"Search",filter:"Filter",export:"Export",import:"Import",refresh:"Refresh",loading:"Loading...",noData:"No data available",confirm:"Confirm",yes:"Yes",no:"No",close:"Close",back:"Back",next:"Next",actions:"Actions",status:"Status",name:"Name",description:"Description",date:"Date",type:"Type",priority:"Priority",all:"All",active:"Active",inactive:"Inactive",selected:"selected",selectAll:"Select all",noSeasonSelected:"No season selected",pleaseSelectSeason:"Please select at least one season to display capacity data",noDataForFilters:"No data available for the selected filters",apply:"Apply",success:"Success",error:"Error",warning:"Warning",info:"Information"},dashboard:{title:"Dashboard",welcome:"Welcome to Allocation Tool",subtitle:"Manage your allocation processes centrally and efficiently",loggedInAs:"Logged in as",overview:"Overview",recentActivity:"Recent Activity",quickActions:"Quick Access",statistics:"Statistics",totalStores:"Total Stores",activeRuns:"Active Runs",pendingTasks:"Open Tasks",openExceptions:"Exceptions",open:"Open",settingsTitle:"Allocation Settings",settingsDesc:"Configure allocation rules, priorities, and automatic optimizations",parametersTitle:"Allocation Parameters",parametersDesc:"Central management of capacity, presentation, and control parameters",capacityTitle:"Capacity Planning",capacityDesc:"Analyze and optimize space capacities with Space-Fit visualization",clusterTitle:"Store Clusters",clusterDesc:"Group stores & optimize with system support",storeLayoutTitle:"Store Layout & Fixtures",storeLayoutDesc:"Visualize and plan sales areas with fixture drag & drop",workTitle:"Work Queue",workDesc:"Manage allocation tasks and create new assignments",runsTitle:"Execution Runs",runsDesc:"Monitor running and completed allocation processes",scenariosTitle:"Scenario & Variant Management",scenariosDesc:"Compare, validate, and release allocation variants",scenarioMgmtTitle:"Advanced Variant Management",scenarioMgmtDesc:"Policy parameters, forecast logic, explainability, and simulation analysis",exceptionsTitle:"Exception Cockpit",exceptionsDesc:"Handle exceptions and conflicts in allocation",analyticsTitle:"Analytics & Reports",analyticsDesc:"Detailed evaluations and KPI dashboards"},allocation:{title:"Allocation",newRun:"New Run",runDetails:"Run Details",startDate:"Start Date",endDate:"End Date",quantity:"Quantity",allocated:"Allocated",remaining:"Remaining",store:"Store",stores:"Stores",article:"Article",articles:"Articles",scenario:"Scenario",calculate:"Calculate",run:"Run",result:"Result",results:"Results"},scenarios:{title:"Scenarios",newScenario:"New Scenario",editScenario:"Edit Scenario",parameters:"Parameters",baseScenario:"Base Scenario",compare:"Compare",scenario:"Scenario",variants:"Variants",variantDetails:"Variant Details",variantName:"Variant Name",overUnderCoverage:"Over/Under Coverage",overCapacity:"Over Capacity",underCapacity:"Under Capacity",forecastCoverage:"Forecast Coverage",criticalExceptions:"Critical Exceptions",overview:"Overview",capacity:"Capacity",forecast:"Forecast",exceptions:"Exceptions",forecastVsAllocation:"Forecast vs. Allocation",decisionAndHandover:"Decision & Handover",validationResults:"Validation Results",validationReport:"Validation Report",startValidation:"Start Validation",validationRunning:"Validation running...",approvalReason:"Approval Reason",approvalPlaceholder:"Please enter a reason for the approval...",simulationComplete:"Simulation complete  validation required",allChecksPassed:"All system checks passed",approvedForRelease:"Variant approved for release",transferred:"Variant transferred as allocation run",baseVariant:"Base Variant",optimizedDistribution:"Optimized Distribution",equalDistribution:"Equal Distribution",extendedView:"Extended View",releaseVariant:"Release Variant",transferToAllocation:"Transfer to Allocation Run",allocationCreated:"Allocation run created successfully",variantImmutable:"This variant is immutable and has been assigned to an allocation run.",noCriticalExceptions:"No critical exceptions",systemChecksRunning:"System checks running...",transferredToRun:"Transferred to run",draftStatus:"Variant is in draft status",released:"Released",recipientDetermination:"Recipient Determination",deliveryDates:"Delivery Dates",availability:"Availability",capacityAssumptions:"Capacity Assumptions",blockingExceptions:"Blocking Exceptions",variantReleased:"Variant released successfully"},exceptions:{title:"Exception Cockpit",newException:"New Exception",resolved:"Resolved",pending:"Pending",critical:"Critical",high:"High",medium:"Medium",low:"Low",resolve:"Resolve",assign:"Assign",new:"New",inProgress:"In Progress",accepted:"Accepted",info:"Info",blocking:"Blocking",overcapacity:"Overcapacity",undercapacity:"Target Capacity Shortfall",deliveryConflict:"Delivery Date Conflict",lotConflict:"LOT / Size Run Conflict",parameterConflict:"Parameter Conflict",manualDeviation:"Manual Deviation",aggregatedView:"Aggregated View",detailView:"Detail View"},tasks:{title:"Tasks",newTask:"New Task",dueDate:"Due Date",assignee:"Assignee",completed:"Completed",inProgress:"In Progress",todo:"To Do",complete:"Complete"},workScreen:{bookmark:"Bookmark",color:"Color",deliveryFromPlan:"Delivery From (Plan)",deliveryToPlan:"Delivery To (Plan)",deliveryFromSimulation:"Delivery From (Simulation)",deliveryToSimulation:"Delivery To (Simulation)",stockDC:"Stock in DC",sizeCount:"Size Count",capacityNeed:"Capacity Need",capacityImpact:"Capacity Impact",capacity:"Capacity",statusOpen:"Open",statusPlanning:"In Planning",statusSimulated:"Simulated",statusAllocated:"Allocated",overCapacity:"Over Capacity",underCapacity:"Under Capacity",balanced:"Balanced",overCapacityRisk:"Over Capacity Risk",underCapacityRisk:"Under Capacity Risk",balancedCapacity:"Balanced Capacity",deliveryDate:"Delivery Date",simulationView:"View: Simulation  Charts and capacity impact are based on accepted simulation values",capacityImpactTooltip:"Capacity impact is based on simulation proposals, if available"},dataManager:{title:"Data Manager",database:"Database",dbManagement:"Database Management",connection:"Connection",connected:"Connected",notConnected:"Not Connected",tableStats:"Table Statistics",apiConnection:"API Connection",apiUrl:"API URL",mode:"Mode",liveDatabase:"Live Database",fallbackMode:"Fallback (localStorage)",schemaData:"Schema & Data",createTables:"Create Tables (Migration)",loadTestData:"Load Test Data (Seed)",healthPerformance:"Health & Performance",runHealthCheck:"Run Health Check",latency:"Latency",dbSize:"DB Size",connections:"Connections",optimizeDb:"Optimize Database",backupRestore:"Backup & Restore",downloadBackup:"Download Backup",restoreBackup:"Restore Backup",dangerZone:"Danger Zone",resetDatabase:"Reset Database Completely",resetLocalData:"Reset Local Data",tableDetails:"Table Details",columns:"Columns",rows:"Rows",size:"Size",recentEntries:"Recent Entries",clearTable:"Clear Table",environment:"Environment",serverTime:"Server Time",localStorage:"Local Storage (Browser)",present:"Present",empty:"Empty",tabData:"Data",tabConfig:"Configuration",tabLogs:"Logs",tabImport:"Import",tabExport:"Export",tabDb:"DB Management",stores:"Stores",storesDesc:"Master data of sales locations",articles:"Articles",articlesDesc:"Product master data",allocationRuns:"Allocation Runs",allocationRunsDesc:"Allocation runs and their status",scenariosEntity:"Scenarios",scenariosDesc:"Planning scenarios and simulations",exceptionsEntity:"Exceptions",exceptionsDesc:"Exceptions and warnings",tasksEntity:"Tasks",tasksDesc:"Tasks and workflows",masterData:"Master Data",transactionData:"Transaction Data",viewData:"View Data",editData:"Edit Data",deleteData:"Delete Data",noSelection:"No entity selected",selectEntity:"Please select an entity from the list",loadingDetails:"Loading details...",checkingConnection:"Checking connection...",noDbConnection:"No database connection",postgresDb:"PostgreSQL Database",lastSync:"Last Synchronization",statistics:"Statistics"},settings:{title:"Allocation Settings",language:"Language",theme:"Theme",notifications:"Notifications",profile:"Profile",account:"Account",security:"Security",preferences:"Preferences",german:"Deutsch",english:"English",locations:"Locations",responsibilities:"Responsibilities",allocation:"Allocation",distributionCenters:"Distribution Centers",stores:"Stores",addDC:"Add DC",addStore:"Add Store",warehouses:"Warehouses",address:"Address",cluster:"Cluster",referenceStore:"Reference Store",allocators:"Allocators",addAllocator:"Add Allocator",role:"Role",responsibilityArea:"Responsibility Area",scenarioSettings:"Scenario Settings",initialAllocation:"Initial Allocation",replenishment:"Replenishment",manualAllocation:"Manual Allocation",recipientDetermination:"Recipient Determination",deliveryDateDetermination:"Delivery Date Determination",availabilityDetermination:"Availability Determination",reductionStrategy:"Reduction Strategy",allocationAlgorithm:"Allocation Algorithm",globalSettings:"Global Settings",capacityPlanning:"Capacity Planning",hierarchyLevel:"Hierarchy Level",quantityUnit:"Quantity Unit",saveSettings:"Save Settings",discardChanges:"Discard Changes",settingsSaved:"Allocation settings saved",save:"Save",edit:"Edit",delete:"Delete",add:"Add",cancel:"Cancel",editDC:"Edit Distribution Center",editAllocator:"Edit Allocator",addAllocatorTitle:"Add Allocator",locationsTab:"Locations",responsibilitiesTab:"Responsibilities",allocationSettingsTab:"Allocation Settings",newDC:"New Distribution Center",newStore:"New Store",clusterAssignment:"Cluster Assignment",referenceId:"Reference ID",actions:"Actions",globalAllocationSettings:"Global Allocation Settings",name:"Name",clickToSelect:"Click to select...",clickToSet:"Click to set...",allocationParameters:"Allocation Parameters",continueToCapacity:"Continue to Capacity",yes:"Yes",no:"No",referenceTooltip:"This store serves as reference for prices and other derived values."},simulation:{title:"Simulation  Initial Allocation",subtitle:"Evaluation of capacity and timing impact of selected articles",backToWorkQueue:"Back to Work Queue",articleCount:"Article Count",seasons:"Seasons",articleGroups:"Article Groups",originalDeliveryWindow:"Original Delivery Window (Plan)",scenario:"Scenario",initialAllocation:"Initial Allocation",deliveryOptions:"Delivery Date Options",deliveryDatePlan:"Delivery Date (Plan)",deliveryOption:"Delivery Option",plannedWindow:"Planned Delivery Window",plus1Week:"+1 Week",plus2Weeks:"+2 Weeks",minus1Week:"-1 Week",manualEntry:"Manual Entry",splitDelivery:"Split into two delivery windows (coming soon)",simulated:"Simulated",from:"From",to:"To",overcapacity:"Overcapacity",underfulfillment:"Underfulfillment",balanced:"Balanced",hint:"Hint",critical:"Critical",blocking:"Blocking",capacityImpact:"Capacity Impact",actualUtilization:"Actual Utilization",targetUtilization:"Target Utilization",deviation:"Deviation",affectedStores:"Affected Stores",capacityByCategory:"Capacity by Category",monthlyDistribution:"Monthly Distribution",issuesAndWarnings:"Issues & Warnings",noIssues:"No issues detected",acceptSimulation:"Accept Simulation",discardSimulation:"Discard",releaseAllocation:"Release Allocation"},capacity:{title:"Capacity Planning",subtitle:"Analyze and optimize space capacities",spaceFit:"Space-Fit",currentCapacity:"Current Capacity",targetCapacity:"Target Capacity",utilization:"Utilization",available:"Available",occupied:"Occupied",overCapacity:"Over Capacity",underCapacity:"Under Capacity"},cluster:{title:"Store Clusters",subtitle:"Group stores and optimize with system support",clusterName:"Cluster Name",storeCount:"Store Count",performance:"Performance",createCluster:"Create Cluster",editCluster:"Edit Cluster",deleteCluster:"Delete Cluster",assignStores:"Assign Stores"},runs:{title:"Execution Runs",subtitle:"Monitor running and completed allocation processes",runId:"Run ID",startTime:"Start Time",endTime:"End Time",duration:"Duration",status:"Status",running:"Running",completed:"Completed",failed:"Failed",planned:"Planned",cancelled:"Cancelled",startRun:"Start Run",stopRun:"Stop Run",viewDetails:"View Details",progress:"Progress",articleCount:"Article Count",storeCount:"Store Count",filter:"Filter",allocationProcess:"Allocation Process",dateFrom:"Date from",dateTo:"Date to",user:"User",allUsers:"All Users",resetFilter:"Reset Filter",runsFound:"runs found",runFound:"run found",store:"Store",articleDetails:"Article  Allocation Details",articleNumber:"Article Number",articleDescription:"Article Description",allTypes:"All Types",initialAllocation:"Initial Allocation",replenishment:"Replenishment",manualAllocation:"Manual Allocation",run:"run",runs:"runs",backToRun:"Back to Run",laufId:"Run ID",type:"Type",startDate:"Start Date",endDate:"End Date",action:"Action",withExceptions:"With Exceptions",allocationPeriodFrom:"Allocation Period From",allocationPeriodTo:"Allocation Period To",totalQuantityAllocated:"Total Quantity Allocated",season:"Season",storeDescription:"Store Description",allocatedQuantity:"Allocated Quantity",demand:"Demand",overUnder:"Over/Under",targetStock:"Target Stock",currentStock:"Current Stock",salesLast2Weeks:"Sales Last 2 Weeks",totalCurrentStock:"Total Current Stock",totalTargetStock:"Total Target Stock",totalAllocated:"Total Allocated",aggregatedMetrics:"Aggregated Metrics",aggregated:"Aggregated",segmented:"Segmented",absolute:"Absolute",relative:"Relative",storeAllocation:"Store Allocation",sizeDistribution:"Size Distribution",size:"Size",close:"Close",color:"Color",capacityImpact:"Capacity Impact",exceptionStatus:"Exception Status",exception:"Exception",showDetails:"Show Details",runDetail:"Run Details",runDetailDescription:"Details of allocated articles for this run",totalOverUnder:"Total Over/Under",totalDemand:"Total Demand",totalVZBestand:"DC Stock"},work:{title:"Work Queue",subtitle:"Manage allocation tasks and create new assignments",taskId:"Task ID",assignee:"Assignee",dueDate:"Due Date",createTask:"Create Task",assignTask:"Assign Task",completeTask:"Complete Task",openTasks:"Open Tasks",myTasks:"My Tasks",allTasks:"All Tasks",noArticlesSelected:"No articles selected for allocation",allocationScheduled:"Allocation scheduled for processing",simulationAccepted:"Simulation successfully applied",simulationDiscarded:"Simulation discarded",discardSimulation:"Discard Simulation",allocationAnalysis:"Allocation Analysis",planPreview:"Plan & Preview",runAllocation:"Run Allocation",initialAllocation:"Initial Allocation",replenishment:"Replenishment",manualControl:"Manual Control",articleGroup:"Article Group",season:"Season",capacityImpact:"Capacity Impact",deliveryPeriod:"Delivery Period",from:"From",to:"To",overcapacity:"Overcapacity",underfulfillment:"Underfulfillment",balanced:"Balanced",statusOpen:"Open",statusPlanning:"Planning",statusAllocated:"Allocated",statusSimulated:"Simulated",activeFilters:"Active Filters",clearAll:"Clear All",selectedForAllocation:"Selected for Allocation",articles:"Articles",withOvercapacity:"with overcapacity",simulationResults:"Simulation Results",showSimulation:"Show Simulation",startSimulation:"Start Simulation",confirmAllocation:"Confirm Allocation",close:"Close",articleId:"Article ID",articleName:"Article Name",deliveryFrom:"Delivery From",deliveryTo:"Delivery To",quantity:"Quantity",status:"Status",remove:"Remove",simulateFirst:"Simulation",directAllocation:"Direct Allocation",allocationRuns:"Allocation Runs",runDate:"Run Date",runType:"Run Type",articlesCount:"Articles",storesCount:"Stores",runStatus:"Status",viewDetails:"Details",performAllocation:"Run Allocation",openAllocationRun:"Open Run",capacitySummary:"Capacity Summary",overcapacityRisk:"Articles with overcapacity risk",underfulfillmentRisk:"Articles with underfulfillment risk",capacityNote:"The capacity impact is based on forecast data and will be specified in the simulation.",simulateAllocation:"Simulate allocation",simulateNote:"When activated, no real allocations are created.",scheduleBackground:"Schedule background processing",selectedArticles:"Selected articles",startAllocation:"Start Allocation",selectAllocationRun:"Select Allocation Run",selectRunDescription:"Select an existing allocation run to view details",dateFrom:"Date from",dateTo:"Date to"},parameters:{title:"Allocation Parameters",subtitle:"Central management of capacity, presentation, and control parameters",parameterName:"Parameter Name",capacityTab:"Capacity & Space",presentationTab:"Presentation Rules",timeTab:"Time & Compression Parameters",logicTab:"Allocation Logic & Prioritization",forecastTab:"Forecast & KPI Weighting",governanceTab:"Governance & Restrictions",storeBlockingTab:"Store-specific Restrictions",articleHierarchy:"Article Hierarchy",source:"Source",validFrom:"Valid From",validTo:"Valid To",override:"Override",actions:"Actions",newParameter:"Create New Parameter",parameterCount:"Parameters",allStatus:"All Status",active:"Active",inactive:"Inactive",overridden:"Overridden",inherited:"Inherited",inheritedFrom:"Inherited from",directlyManaged:"Directly managed",inheritedSource:"Inherited",defaultSystem:"Default system value",company:"Company",division:"Division",categoryLevel:"Category",productGroup:"Product Group",article:"Article",allAreas:"All Areas",store:"Store",total:"Total",cluster:"Cluster",initialAllocation:"Initial Allocation",replenishment:"Replenishment",articleNumber:"Article Number",articleDescription:"Article Description",articleGroup:"Article Group",articleHierarchyLabel:"Article Hierarchy",levels:"level",levelsPlural:"levels"},capacityScreen:{title:"Capacity Planning",subtitle:"Capacity utilization and distribution",evaluationLevel:"Evaluation Level",total:"Total",cluster:"Cluster",store:"Store",hierarchyLevel:"Hierarchy Level",company:"Company",purchaseArea:"Purchase Area",productGroup:"Product Group",product:"Product",allocationType:"Allocation Type",initialAllocation:"Initial Allocation",replenishment:"Replenishment",unit:"Unit",sqm:"m",fixtures:"Fixtures",status:"Status",ok:"OK",overAllocated:"Over-allocated",underAllocated:"Under-allocated",season:"Season",allAreas:"All Areas",totalCapacity:"Total Capacity",actualCapacity:"Actual Capacity",targetCapacity:"Target Capacity",utilization:"Utilization",deviation:"Deviation",forecastSuggestion:"Forecast Suggestion",recalculateForecast:"Recalculate Forecast",capacityDetails:"Capacity Details",forecastBased:"forecast-based",usableArea:"Usable Capacity Area",remaining:"Remaining",forecastDerivation:"Forecast Derivation",salesForecast:"Sales Forecast",units:"Units",avgInventory:"Avg. Inventory",derivedTargetCapacity:"Derived Target Capacity",forecastNote:"The forecast is based on historical sales data from the last 12 months, seasonal trends, and planned marketing activities.",forecastRecalculated:"Forecast successfully recalculated",level:"Level",inventoryPcs:"Inventory (pcs)",sollVsIst:"Target vs. Actual Capacity",soll:"Target",ist:"Actual",capacityUtilization:"Capacity Utilization",maintain:"On Track",overbooked:"Overbooked"},clusterScreen:{title:"Store Clusters",selectStores:"Select Stores",storesSelected:"stores selected",selectAttributes:"Select Attributes",attributesSelected:"attributes selected",attributeHint:"These attributes will be used for the system-supported cluster suggestion.",minClusterCount:"Minimum Cluster Count",maxClusterCount:"Maximum Cluster Count",clusterAssignment:"Cluster Assignment",newCluster:"Create New Cluster",assignStores:"Assign Stores",description:"Description",country:"Country",size:"Size (m)",allFiltersAndAssignments:"All Filters and Assignments",systemGenerated:"System Generated",manual:"Manual",hybrid:"Hybrid",active:"Active",draft:"Draft",archived:"Archived",clusters:"Clusters",stores:"Stores",calculate:"Calculate"},storeLayout:{title:"Store Layout & Fixtures",subtitle:"Visualize and plan store areas with fixture drag & drop",tabLayout:"Layout & Fixtures",tabAnalysis:"Assortment Distribution (Analysis)",selectStore:"Select Store",fixtures:"Fixtures",fixtureOverview:"Fixture Overview",fixtureType:"Fixture Type",count:"Count",occupiedArea:"Occupied Area (m)",capacitySt:"Capacity (pcs)",assignedCategories:"Assigned Categories",noFixturesPlaced:"No fixtures placed",dragFixtureHint:"Drag fixtures from the left palette onto the floor",capacity:"Capacity",capacityEffect:"Capacity Effect",occupancy:"Occupancy",totalArea:"Total Area",availableArea:"Available Area",occupiedAreaKpi:"Occupied Area",freeArea:"Free Area",editLayout:"Edit Layout",aiSuggestion:"AI Suggestion",importFloorplan:"Import Floorplan",uploadFloorplanHint:"Upload a floorplan to automatically detect the layout",integrationNote:"Integration with Capacity Planning",integrationDesc:"This layout determines the actual capacity of the store and flows directly into simulation, allocation, and forecasting.",aiHint:"The AI suggestion serves as a starting point. You can customize each fixture individually.",gondola:"Gondola",wallShelf:"Wall Shelf",table:"Table",actionArea:"Action Area",backWall:"Back Wall",hookWall:"Hook Wall",checkoutModule:"Checkout Module"},workQueue:{title:"Work Queue",subtitle:"Manage allocation tasks and create new assignments",initialAllocation:"Initial Allocation",replenishment:"Replenishment",manualControl:"Manual Control",allocationStatus:"Allocation Status",allocationsByMonth:"Allocations by Month",articleGroup:"Article Group",season:"Season",capacityEffect:"Capacity Effect",statusAll:"Status (All)",open:"Open",inPlanning:"In Planning",simulated:"Simulated",allocated:"Allocated",articlesSelected:"articles selected",capacityWarning:"Note: Selection contains articles with potential capacity constraints.",articleCount:"Article Count",overCapacity:"Over Capacity",underCapacity:"Under Capacity",balanced:"Balanced",addAllocation:"Add Allocation",simulationNote:"A simulation proposal has been accepted for this article. The allocation has not yet been released."},exceptionsScreen:{title:"Exceptions",openExceptions:"Open Exceptions",process:"Process",processAll:"Process: All",initial:"Initial",initialAllocation:"Initial Allocation",replenishment:"Replenishment",resolveException:"Resolve Exception",articleCategory:"Article / Category",cause:"Cause"},simulationScreen:{title:"Simulation",breadcrumb:"Work Queue  Simulation  Initial Allocation",backToWorkQueue:"Back to Work Queue",simulationTitle:"Simulation  Initial Allocation",description:"Evaluation of capacity and timing impact of selected articles",scenario:"Scenario",initialAllocation:"Initial Allocation",actualUtilization:"Actual Utilization (after Simulation)",targetUtilization:"Target Utilization",capacityPlanning:"Capacity Planning",deviation:"Deviation",overCapacity:"Over-capacity",underCapacity:"Under-capacity",balanced:"Balanced",affectedStores:"Affected Stores",storesOutsideTarget:"Stores outside target range",capacityImpact:"Capacity Impact after Simulation",issuesFromSimulation:"Issues from Simulation",deliveryDateSimulation:"Delivery Date (Simulation)",discardSimulation:"Discard Simulation",acceptSimulation:"Accept Simulation",dateChangeNote:"Date changes directly affect capacity and simulation."},modals:{selectDistributionCenter:"Select Distribution Center",selectStore:"Select Store",selectAllocator:"Select Allocator"},actions:{save:"Save",saving:"Saving...",cancel:"Cancel",edit:"Edit",delete:"Delete",add:"Add",close:"Close",apply:"Apply",back:"Back",next:"Next",newEntry:"New Entry",editEntry:"Edit Entry",deleteConfirm:"Really delete this entry?",addAllocator:"Add Allocator",editAllocator:"Edit Allocator",editDC:"Edit Distribution Center"},analytics:{title:"Analytics & Reports",subtitle:"Detailed evaluations and KPI dashboards",kpiDashboard:"KPI Dashboard",reports:"Reports",charts:"Charts",exportReport:"Export Report",timeRange:"Time Range",comparison:"Comparison",article:"Article",category:"Category",season:"Season",forecastQuantity:"Forecast Quantity",allocatedQuantity:"Allocated Quantity",storeStock:"Store Stock",warehouseStock:"Warehouse Stock",demand:"Demand",sizeDeviation:"Size Deviation (%)",exceptionCount:"Exception Count",dateFrom:"Date From",dateTo:"Date To",saveView:"Save View",targetCapacity:"Target Capacity",actualCapacityUtilization:"Actual Capacity Utilization",overCapacityTotal:"Over Capacity Total",underCapacityTotal:"Under Capacity Total",changeVsPY:"Change vs PY",forecastCoverage:"Forecast Coverage",capacityTargetVsActual:"Capacity Target vs. Actual over Time",overUnderByCategory:"Over/Under Coverage by Category",stockAndDemand:"Stock & Demand",forecastVsAllocation:"Forecast vs. Allocation",overCapacity:"Over Capacity",underCapacity:"Under Capacity",target:"Target",actual:"Actual",forecast:"Forecast",allocated:"Allocated",sales:"Sales"},data:{categories:{shoes:"Shoes",outerwear:"Outerwear",pants:"Pants",accessories:"Accessories",sportEquipment:"Sport Equipment",underwear:"Underwear"},seasons:{fs25:"Spring/Summer 2025",hw25:"Fall/Winter 2025",fs26:"Spring/Summer 2026"},processes:{initial:"Initial Allocation",replenishment:"Replenishment"},articles:{runningShoesPro:"Running Shoes Pro",winterJacketPremium:"Winter Jacket Premium",sportTShirtBasic:"Sport T-Shirt Basic",jeansSlimFit:"Jeans Slim Fit",backpackUrban:"Backpack Urban",football:"Football"}},scenariosScreen:{title:"Scenario & Variant Management",subtitle:"Compare, validate, and release allocation variants",createScenario:"Create Scenario",statusDraft:"Draft",statusSimulated:"Simulated",statusValidated:"Validated",compareScenarios:"Compare Scenarios",validateScenario:"Validate Scenario",releaseScenario:"Release Scenario",baseScenario:"Base Scenario",variant:"Variant"},messages:{confirmDelete:"Really delete?",deleteSuccess:"Successfully deleted",saveSuccess:"Successfully saved",updateSuccess:"Successfully updated",errorOccurred:"An error occurred",connectionFailed:"Connection failed",backupSuccess:"Backup downloaded successfully!",restoreSuccess:"Backup restored successfully!",optimizeSuccess:"Database optimization completed!",resetSuccess:"Database reset. Please run migration again.",resetCancelled:"Reset cancelled.",confirmReset:`WARNING: All data will be deleted!

Enter "RESET" to continue:`,confirmRestore:"Restore database from backup? Existing data will be overwritten.",confirmOptimize:"Optimize database? This may take a few seconds.",allDataDeleted:"All local data has been deleted. Page will reload.",confirmDeleteAll:"Really delete all local data?"}}},G5="TranslationsDB",q5=1,$r="translations";function qa(e,t=""){const r={};for(const n in e){const i=t?`${t}.${n}`:n;typeof e[n]=="object"&&e[n]!==null&&!Array.isArray(e[n])?Object.assign(r,qa(e[n],i)):r[i]=String(e[n])}return r}function Z5(e){const t={};for(const r in e){const n=r.split(".");let i=t;for(let o=0;o<n.length-1;o++)i[n[o]]||(i[n[o]]={}),i=i[n[o]];i[n[n.length-1]]=e[r]}return t}class X5{db=null;dbReady;constructor(){this.dbReady=this.initDB()}initDB(){return new Promise(t=>{try{const r=indexedDB.open(G5,q5);r.onerror=()=>{console.warn("TranslationsDB: Failed to open database, using fallback"),t(!1)},r.onsuccess=()=>{this.db=r.result,console.log("TranslationsDB: Connected"),t(!0)},r.onupgradeneeded=n=>{const i=n.target.result;if(!i.objectStoreNames.contains($r)){const o=i.createObjectStore($r,{keyPath:"id"});o.createIndex("language","language",{unique:!1}),o.createIndex("section","section",{unique:!1})}}}catch{console.warn("TranslationsDB: IndexedDB not available, using fallback"),t(!1)}})}async isAvailable(){return this.dbReady}async getTranslations(t){return!await this.dbReady||!this.db?qa(Bn[t]):new Promise(n=>{try{const u=this.db.transaction([$r],"readonly").objectStore($r).index("language").getAll(t);u.onsuccess=()=>{const d=u.result;if(d.length===0){n(qa(Bn[t]));return}const f=qa(Bn[t]),h={};for(const m of d)h[`${m.section}.${m.key}`]=m.value;n({...f,...h})},u.onerror=()=>{n(qa(Bn[t]))}}catch{n(qa(Bn[t]))}})}async getMergedTranslations(t){const r=await this.getTranslations(t);return Z5(r)}async saveTranslation(t,r,n,i){return!await this.dbReady||!this.db?(console.warn("TranslationsDB: Cannot save - database not available"),!1):new Promise(l=>{try{const d=this.db.transaction([$r],"readwrite").objectStore($r),f={id:`${t}:${r}.${n}`,language:t,section:r,key:n,value:i,updatedAt:new Date().toISOString()},h=d.put(f);h.onsuccess=()=>l(!0),h.onerror=()=>l(!1)}catch{l(!1)}})}async saveTranslations(t,r){return!await this.dbReady||!this.db?!1:new Promise(i=>{try{const o=this.db.transaction([$r],"readwrite"),l=o.objectStore($r);for(const{section:u,key:d,value:f}of r){const h={id:`${t}:${u}.${d}`,language:t,section:u,key:d,value:f,updatedAt:new Date().toISOString()};l.put(h)}o.oncomplete=()=>i(!0),o.onerror=()=>i(!1)}catch{i(!1)}})}async deleteTranslation(t,r,n){return!await this.dbReady||!this.db?!1:new Promise(o=>{try{const d=this.db.transaction([$r],"readwrite").objectStore($r).delete(`${t}:${r}.${n}`);d.onsuccess=()=>o(!0),d.onerror=()=>o(!1)}catch{o(!1)}})}async getAllCustomTranslations(){return!await this.dbReady||!this.db?[]:new Promise(r=>{try{const o=this.db.transaction([$r],"readonly").objectStore($r).getAll();o.onsuccess=()=>r(o.result),o.onerror=()=>r([])}catch{r([])}})}getSections(){const t=qa(Bn.de),r=new Set;for(const n of Object.keys(t)){const i=n.split(".");i.length>1&&r.add(i[0])}return Array.from(r).sort()}getKeysInSection(t){const r=qa(Bn.de),n=[];for(const i of Object.keys(r))i.startsWith(`${t}.`)&&n.push(i.substring(t.length+1));return n.sort()}getDefaultValue(t,r,n){return qa(Bn[t])[`${r}.${n}`]||""}async exportTranslations(){const t=await this.getAllCustomTranslations();return JSON.stringify(t,null,2)}async importTranslations(t){try{const r=JSON.parse(t);return Array.isArray(r)?!await this.dbReady||!this.db?{success:!1,count:0,error:"Database not available"}:new Promise(i=>{const o=this.db.transaction([$r],"readwrite"),l=o.objectStore($r);for(const u of r)u.id&&u.language&&u.section&&u.key&&u.value&&l.put({...u,updatedAt:new Date().toISOString()});o.oncomplete=()=>i({success:!0,count:r.length}),o.onerror=()=>i({success:!1,count:0,error:"Transaction failed"})}):{success:!1,count:0,error:"Invalid format: expected array"}}catch{return{success:!1,count:0,error:"Invalid JSON"}}}async clearAllCustom(){return!await this.dbReady||!this.db?!1:new Promise(r=>{try{const o=this.db.transaction([$r],"readwrite").objectStore($r).clear();o.onsuccess=()=>r(!0),o.onerror=()=>r(!1)}catch{r(!1)}})}}const ba=new X5,NT=k.createContext(null),g2="app_language";function Y5({children:e}){const[t,r]=k.useState(()=>{const m=localStorage.getItem(g2);return m==="en"||m==="de"?m:navigator.language.toLowerCase().startsWith("de")?"de":"en"}),[n,i]=k.useState(Bn[t]),[o,l]=k.useState(!1),u=k.useCallback(async m=>{l(!0);try{const v=await ba.getMergedTranslations(m);i(v)}catch(v){console.warn("Failed to load translations from DB, using fallback:",v),i(Bn[m])}finally{l(!1)}},[]),d=k.useCallback(async()=>{await u(t)},[t,u]),f=m=>{r(m),localStorage.setItem(g2,m),document.documentElement.lang=m};k.useEffect(()=>{document.documentElement.lang=t,u(t)},[t,u]);const h={language:t,setLanguage:f,t:n,reloadTranslations:d,isLoadingTranslations:o};return a.jsx(NT.Provider,{value:h,children:e})}function br(){const e=k.useContext(NT);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),J5=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),y2=e=>{const t=J5(e);return t.charAt(0).toUpperCase()+t.slice(1)},PT=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:l,...u},d)=>k.createElement("svg",{ref:d,...eL,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:PT("lucide",i),...u},[...l.map(([f,h])=>k.createElement(f,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(e,t)=>{const r=k.forwardRef(({className:n,...i},o)=>k.createElement(tL,{ref:o,iconNode:t,className:PT(`lucide-${Q5(y2(e))}`,`lucide-${e}`,n),...i}));return r.displayName=y2(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],x2=Ae("activity",rL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],aL=Ae("archive",nL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],OT=Ae("arrow-left",iL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],sL=Ae("arrow-right",oL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],cL=Ae("arrow-up-down",lL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],dL=Ae("arrow-up-right",uL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],pL=Ae("ban",fL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],df=Ae("beaker",hL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],vL=Ae("bell",mL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],s1=Ae("briefcase",gL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],_T=Ae("building-2",yL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],bL=Ae("calendar",xL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Hu=Ae("chart-column",SL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],jL=Ae("chart-no-axes-column",wL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ci=Ae("check",kL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ji=Ae("chevron-down",CL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],l1=Ae("chevron-left",AL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fn=Ae("chevron-right",zL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],TT=Ae("chevron-up",NL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Wn=Ae("circle-alert",PL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Rr=Ae("circle-check-big",OL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ff=Ae("circle-check",_L);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],EL=Ae("circle-help",TL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],th=Ae("circle-play",DL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Bs=Ae("circle-x",RL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],c1=Ae("circle",IL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Xs=Ae("clock",ML);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],au=Ae("copy",LL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Uc=Ae("database",BL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],oa=Ae("download",FL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],ET=Ae("ellipsis-vertical",WL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],DT=Ae("external-link",$L);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],RT=Ae("eye",UL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],KL=Ae("file-json",HL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],IT=Ae("file-text",VL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],qL=Ae("file-up",GL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],u1=Ae("funnel",ZL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],MT=Ae("git-branch",XL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],h0=Ae("globe",YL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],JL=Ae("grip-vertical",QL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],b2=Ae("hard-drive",eB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],m0=Ae("history",tB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],nB=Ae("house",rB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Zt=Ae("info",aB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],oB=Ae("key",iB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],LT=Ae("languages",sB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],d1=Ae("layers",lB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],BT=Ae("layout-grid",cB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],dB=Ae("loader-circle",uB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],FT=Ae("lock",fB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],hB=Ae("map-pin",pB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M5 12h14",key:"1ays0h"}]],vB=Ae("minus",mB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],rh=Ae("package",gB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],$i=Ae("pen",yB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Bf=Ae("play",xB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ei=Ae("plus",bB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Er=Ae("refresh-cw",SB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],WT=Ae("rocket",wB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],iu=Ae("rotate-ccw",jB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],CB=Ae("rotate-cw",kB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Fo=Ae("save",AB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Vr=Ae("search",zB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ou=Ae("settings",NB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],OB=Ae("shield",PB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]],v0=Ae("sliders-vertical",_B);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],qc=Ae("sparkles",TB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bv=Ae("square-check-big",EB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],S2=Ae("square",DB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],pf=Ae("table",RB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],$n=Ae("trash-2",IB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],nh=Ae("trending-down",MB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Xo=Ae("trending-up",LB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Mt=Ae("triangle-alert",BB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],_o=Ae("upload",FB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$B=Ae("user",WB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],HB=Ae("users",UB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],VB=Ae("webhook",KB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ct=Ae("x",GB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ZB=Ae("zap",qB),$T=k.createContext(null);function f1(){const e=k.useContext($T);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}const XB={success:Rr,error:Bs,warning:Mt,info:Zt},YB={success:{bg:"var(--status-success)",border:"var(--status-success)"},error:{bg:"var(--status-danger)",border:"var(--status-danger)"},warning:{bg:"var(--status-warning)",border:"var(--status-warning)"},info:{bg:"var(--status-info)",border:"var(--status-info)"}};function QB({toast:e,onRemove:t}){const[r,n]=k.useState(!1),i=XB[e.type],o=YB[e.type];return k.useEffect(()=>{const l=e.duration||4e3,u=setTimeout(()=>n(!0),l-300),d=setTimeout(()=>t(e.id),l);return()=>{clearTimeout(u),clearTimeout(d)}},[e.id,e.duration,t]),a.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-lg shadow-lg mb-2 transition-all duration-300 ${r?"opacity-0 translate-x-full":"opacity-100 translate-x-0"}`,style:{background:"var(--surface-raised)",border:`1px solid ${o.border}`,borderLeft:`4px solid ${o.border}`,minWidth:"320px",maxWidth:"420px"},children:[a.jsx(i,{size:20,style:{color:o.bg,flexShrink:0,marginTop:"2px"}}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)",color:"var(--text-primary)"},children:e.title}),e.message&&a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginTop:"2px"},children:e.message})]}),a.jsx("button",{onClick:()=>t(e.id),className:"p-1 rounded hover:bg-gray-100 transition-colors",style:{color:"var(--text-muted)"},children:a.jsx(Ct,{size:16})})]})}function JB({children:e}){const[t,r]=k.useState([]),n=k.useCallback(l=>{r(u=>u.filter(d=>d.id!==l))},[]),i=k.useCallback((l,u,d,f)=>{const h=`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;r(m=>[...m,{id:h,type:l,title:u,message:d,duration:f}])},[]),o={showToast:i,success:(l,u)=>i("success",l,u),error:(l,u)=>i("error",l,u),warning:(l,u)=>i("warning",l,u),info:(l,u)=>i("info",l,u)};return a.jsxs($T.Provider,{value:o,children:[e,a.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col items-end",style:{pointerEvents:"none"},children:a.jsx("div",{style:{pointerEvents:"auto"},children:t.map(l=>a.jsx(QB,{toast:l,onRemove:n},l.id))})})]})}const eF=[{id:"home",labelKey:"dashboard",icon:nB},{id:"settings",labelKey:"settings",icon:ou},{id:"parameters",labelKey:"parameters",icon:v0},{id:"capacity",labelKey:"capacity",icon:rh},{id:"cluster",labelKey:"cluster",icon:d1},{id:"storeLayout",labelKey:"storeLayout",icon:BT},{id:"work",labelKey:"workQueue",icon:s1,badge:3},{id:"runs",labelKey:"runs",icon:th},{id:"scenarios",labelKey:"scenarios",icon:MT},{id:"analytics",labelKey:"analytics",icon:jL},{id:"exceptions",labelKey:"exceptions",icon:Mt,badge:12},{id:"dataManager",labelKey:"dataManager",icon:Uc}];function tF({currentScreen:e,onNavigate:t}){const{t:r}=br();return a.jsxs("aside",{className:"flex flex-col border-r",style:{width:"var(--sidenav-width-desktop)",backgroundColor:"var(--surface-surface)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"p-6",children:[a.jsx("img",{src:"https://realcore.info/bilder/rc-logo.png",alt:"RealCore Logo",style:{height:"40px",marginBottom:"var(--space-2)"}}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"var(--space-1)"},children:"Allocation Tool"})]}),a.jsx("nav",{className:"flex-1 px-3",children:a.jsxs("div",{style:{marginBottom:"var(--space-4)"},children:[a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em",padding:"0 var(--space-3)",marginBottom:"var(--space-2)"},children:r.nav.navigation}),a.jsx("div",{className:"space-y-1",children:eF.map(n=>{const i=n.icon,o=e===n.id;return a.jsxs("button",{onClick:()=>t(n.id),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all relative",style:{backgroundColor:o?"var(--surface-subtle-tint)":"transparent",color:o?"var(--text-primary)":"var(--text-secondary)",borderLeft:o?"3px solid var(--brand-accent)":"3px solid transparent",marginLeft:"-3px",paddingLeft:"calc(var(--space-3) + 3px)"},onMouseEnter:l=>{o||(l.currentTarget.style.backgroundColor="var(--bg-tint)")},onMouseLeave:l=>{o||(l.currentTarget.style.backgroundColor="transparent")},children:[a.jsx(i,{size:20}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:o?"var(--font-weight-medium)":"var(--font-weight-regular)"},children:r.nav[n.labelKey]||n.labelKey}),n.badge&&a.jsx("span",{className:"ml-auto rounded-full px-2 py-0.5",style:{backgroundColor:"var(--status-danger)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",minWidth:"20px",textAlign:"center"},children:n.badge})]},n.id)})})]})}),a.jsx("div",{className:"p-4 border-t",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center gap-3 px-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)"},children:"JD"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"John Doe"}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Administrator"})]})]})})]})}function rF(){const{language:e,setLanguage:t,t:r}=br();return a.jsxs("header",{className:"flex items-center justify-between px-6 border-b",style:{height:"var(--height-topbar)",backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"flex items-center gap-4 flex-1",children:a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(Vr,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{type:"search",placeholder:r.common.search+"...",className:"w-full pl-10 pr-4 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)",borderRadius:"var(--radius-md)"}})]})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-lg",style:{backgroundColor:"var(--surface-subtle)"},children:[a.jsx(h0,{size:16,style:{color:"var(--text-muted)"}}),a.jsx("button",{onClick:()=>t("de"),className:"px-2 py-1 rounded text-sm font-medium transition-colors",style:{backgroundColor:e==="de"?"var(--brand-primary)":"transparent",color:e==="de"?"white":"var(--text-secondary)"},children:"DE"}),a.jsx("button",{onClick:()=>t("en"),className:"px-2 py-1 rounded text-sm font-medium transition-colors",style:{backgroundColor:e==="en"?"var(--brand-primary)":"transparent",color:e==="en"?"white":"var(--text-secondary)"},children:"EN"})]}),a.jsxs("button",{className:"p-2 rounded-lg relative",style:{backgroundColor:"transparent",color:"var(--text-secondary)"},onMouseEnter:n=>{n.currentTarget.style.backgroundColor="var(--bg-tint)"},onMouseLeave:n=>{n.currentTarget.style.backgroundColor="transparent"},children:[a.jsx(vL,{size:20}),a.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 rounded-full",style:{backgroundColor:"var(--status-danger)"}})]})]})]})}function nF({children:e,currentScreen:t,onNavigate:r}){return a.jsxs("div",{className:"flex h-screen overflow-hidden",style:{backgroundColor:"var(--surface-page)"},children:[a.jsx(tF,{currentScreen:t,onNavigate:r}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(rF,{}),a.jsx("main",{className:"flex-1 overflow-auto p-6",children:e})]})]})}const zo="https://allocation-api.onrender.com/api",Fv=[{id:"store-zh-hb",name:"Zrich HB",description:"Hauptbahnhof Zrich",cluster:"Urban Premium",region:"Zrich",address:"Bahnhofplatz 15",total_capacity:500},{id:"store-bs-sbb",name:"Basel SBB",description:"Basel Bahnhof SBB",cluster:"Urban Standard",region:"Basel",address:"Centralbahnplatz 1",total_capacity:400},{id:"store-be-bhf",name:"Bern",description:"Bern Innenstadt",cluster:"Regional",region:"Bern",address:"Bahnhofplatz 10",total_capacity:350},{id:"store-lu",name:"Luzern",description:"Luzern Bahnhofstrasse",cluster:"Regional",region:"Zentralschweiz",address:"Bahnhofstrasse 5",total_capacity:300},{id:"store-ge",name:"Genf",description:"Genve Centre",cluster:"Urban Premium",region:"Romandie",address:"Rue du Mont-Blanc 22",total_capacity:450},{id:"store-ls",name:"Lausanne",description:"Lausanne Gare",cluster:"Urban Standard",region:"Romandie",address:"Place de la Gare 9",total_capacity:380},{id:"store-sg",name:"St. Gallen",description:"St. Gallen Zentrum",cluster:"Regional",region:"Ostschweiz",address:"Multergasse 15",total_capacity:280},{id:"store-wi",name:"Winterthur",description:"Winterthur Altstadt",cluster:"Regional",region:"Zrich",address:"Marktgasse 25",total_capacity:260}],Wv=[{id:"RUN-2025-W50-001",type:"initial",status:"completed",startDate:"2025-12-16 09:30",endDate:"2025-12-16 11:45",articleCount:156,storeCount:12,userName:"M. Weber"},{id:"RUN-2025-W50-002",type:"replenishment",status:"completed",startDate:"2025-12-15 14:20",endDate:"2025-12-15 15:30",articleCount:89,storeCount:10,userName:"S. Mller"},{id:"RUN-2025-W50-003",type:"manual",status:"with_exceptions",startDate:"2025-12-14 10:15",endDate:"2025-12-14 12:00",articleCount:45,storeCount:8,userName:"A. Schmidt"},{id:"RUN-2025-W49-001",type:"initial",status:"completed",startDate:"2025-12-09 08:00",endDate:"2025-12-09 10:30",articleCount:203,storeCount:12,userName:"M. Weber"},{id:"RUN-2025-W49-002",type:"replenishment",status:"completed",startDate:"2025-12-08 13:45",endDate:"2025-12-08 14:50",articleCount:67,storeCount:9,userName:"T. Fischer"},{id:"RUN-2025-W48-001",type:"manual",status:"completed",startDate:"2025-12-02 11:30",endDate:"2025-12-02 13:15",articleCount:34,storeCount:6,userName:"S. Mller"},{id:"RUN-2025-W47-001",type:"initial",status:"running",startDate:"2025-11-25 09:00",articleCount:178,storeCount:12,userName:"M. Weber",progress:65}],$v=[{id:"EXC-001",type:"overcapacity",severity:"critical",status:"open",title:"berkapazitt Running Shoes",description:'SOLL-Kapazitt wird im Cluster "Urban Premium" um 23% berschritten',article:"ART-10245 - Running Shoes Elite",category:"Shoes  Running",cause:'SOLL-Kapazitt wird im Cluster "Urban Premium" um 23% berschritten',process:"initial",source:"simulation",recommendedAction:"Liefertermin verschieben oder Artikel reduzieren",createdAt:"2025-12-16 09:45",season:"SS 2026",cluster:"Urban Premium",capacityDeviation:23},{id:"EXC-002",type:"lot-conflict",severity:"blocking",status:"open",title:"LOT-Konflikt Casual Jacket",description:"LOT-Zwang verletzt: Nur 4 von 6 Gren verfgbar",article:"ART-10892 - Casual Jacket Spring",category:"Apparel  Jackets",cause:"LOT-Zwang verletzt: Nur 4 von 6 Gren verfgbar",process:"initial",source:"planning",recommendedAction:"Artikel aus Lauf entfernen oder fehlende Gren beschaffen",createdAt:"2025-12-16 08:12",season:"SS 2026"},{id:"EXC-003",type:"delivery-conflict",severity:"critical",status:"in_progress",title:"Liefertermin-Konflikt Summer Dress",description:"Zeitliche Verdichtung: 3 Kollektionen in KW 15",article:"ART-11234 - Summer Dress Collection",category:"Apparel  Dresses",cause:"Zeitliche Verdichtung: 3 Kollektionen in KW 15",process:"replenishment",source:"simulation",recommendedAction:"Liefertermin um 1 Woche verschieben",createdAt:"2025-12-15 14:30",season:"SS 2026",cluster:"Alle",capacityDeviation:45,assignedTo:"Maria Mller"},{id:"EXC-004",type:"undercapacity",severity:"info",status:"ignored",title:"Untererfllung Accessories",description:"SOLL-Kapazitt wird nur zu 78% ausgelastet",article:"Kategorie: Accessories",category:"Accessories",cause:"SOLL-Kapazitt wird nur zu 78% ausgelastet",process:"initial",source:"planning",recommendedAction:"Zustzliche Artikel einplanen oder Abweichung akzeptieren",createdAt:"2025-12-14 11:20",season:"SS 2026",capacityDeviation:-22},{id:"EXC-005",type:"parameter-conflict",severity:"blocking",status:"open",title:"Parameter-Konflikt Premium Sneakers",description:"Mindestprsentationsmenge (8 Stk.) > verfgbare Kapazitt (5 Stk.)",article:"ART-10567 - Premium Sneakers",category:"Shoes  Sneakers",cause:"Mindestprsentationsmenge (8 Stk.) > verfgbare Kapazitt (5 Stk.)",process:"initial",source:"planning",recommendedAction:"Parameter prfen und anpassen",createdAt:"2025-12-16 10:05",season:"SS 2026"},{id:"EXC-006",type:"manual-deviation",severity:"info",status:"ignored",title:"Manuelle Abweichung Special Edition",description:"Bewusste berallokation fr Marketingaktion",article:"ART-10123 - Special Edition",category:"Shoes  Limited",cause:"Bewusste berallokation fr Marketingaktion",process:"initial",source:"production",recommendedAction:"Keine Aktion erforderlich (akzeptiert)",createdAt:"2025-12-13 16:45",season:"SS 2026",capacityDeviation:15,assignedTo:"Andreas Schmidt"},{id:"EXC-007",type:"overcapacity",severity:"critical",status:"in_progress",title:"berkapazitt Electronics",description:"Nachschub berschreitet verfgbare Lagerflche",article:"Kategorie: Electronics",category:"Electronics",cause:"Nachschub berschreitet verfgbare Lagerflche",process:"replenishment",source:"simulation",recommendedAction:"Mengereduktion oder zeitliche Staffelung",createdAt:"2025-12-15 09:30",season:"AW 2025",cluster:"Regional",capacityDeviation:18,assignedTo:"Julia Weber"},{id:"EXC-008",type:"delivery-conflict",severity:"info",status:"resolved",title:"Liefertermin Winter Boots",description:"Ursprnglicher Liefertermin zu spt",article:"ART-10889 - Winter Boots",category:"Shoes  Boots",cause:"Ursprnglicher Liefertermin zu spt",process:"initial",source:"planning",recommendedAction:"Liefertermin angepasst",createdAt:"2025-12-10 08:00",season:"AW 2025"}],Uv=[{id:"task-001",title:"HW 2025 Allokation prfen",description:"berprfung der initialen Allokation fr die Herbst/Winter Saison",type:"review",status:"in_progress",priority:"high",assignedTo:"M. Weber",dueDate:"2025-01-10",relatedScenarioId:"scenario-001"},{id:"task-002",title:"Exception Zrich HB bearbeiten",description:"Kapazittsberschreitung in Zrich HB lsen",type:"exception",status:"pending",priority:"urgent",assignedTo:"S. Mller",dueDate:"2025-01-08",relatedRunId:"RUN-2025-003"},{id:"task-003",title:"Nachschub-Szenario freigeben",description:"NOS Nachschub Szenario zur Produktion freigeben",type:"approval",status:"pending",priority:"medium",assignedTo:"A. Schmidt",dueDate:"2025-01-09",relatedScenarioId:"scenario-003"},{id:"task-004",title:"Prognose-Parameter optimieren",description:"Forecast-Gewichtung basierend auf Q4 Ergebnissen anpassen",type:"allocation",status:"pending",priority:"medium",assignedTo:"M. Weber",dueDate:"2025-01-12"},{id:"task-005",title:"Neue Artikel SS26 einplanen",description:"Spring/Summer 2026 Kollektion in Planung aufnehmen",type:"allocation",status:"pending",priority:"low",assignedTo:"T. Fischer",dueDate:"2025-01-15"}],Hv=[{id:"scenario-001",name:"Standard Allokation HW 2025",description:"Standardszenario fr die Herbst/Winter Saison 2025",status:"approved",allocationType:"initial",createdBy:"M. Weber",parameters:{forecast_weight:.6,historical_weight:.4,safety_stock_factor:1.2},results:{total_allocated:15420,stores_covered:8,expected_fill_rate:94.5,capacity_utilization:87.2,exceptions:3}},{id:"scenario-002",name:"Optimiert - Hohe Prognosegewichtung",description:"Szenario mit erhhter Gewichtung der Absatzprognose",status:"simulated",allocationType:"initial",createdBy:"S. Mller",parameters:{forecast_weight:.8,historical_weight:.2,safety_stock_factor:1.1},results:{total_allocated:16800,stores_covered:8,expected_fill_rate:96.2,capacity_utilization:91.5,exceptions:5}},{id:"scenario-003",name:"NOS Nachschub - Standard",description:"Standardszenario fr Never-out-of-Stock Nachschub",status:"approved",allocationType:"replenishment",createdBy:"T. Fischer",parameters:{forecast_weight:.5,historical_weight:.5,safety_stock_factor:1.5},results:{total_allocated:8500,stores_covered:8,expected_fill_rate:98.1,capacity_utilization:72.3,exceptions:1}},{id:"scenario-004",name:"SS 2026 Initial Draft",description:"Erster Entwurf fr Spring/Summer 2026",status:"draft",allocationType:"initial",createdBy:"M. Weber",parameters:{forecast_weight:.7,historical_weight:.3,safety_stock_factor:1.3}}],Kv=[{id:"param-001",category:"capacity",name:"Flchenbedarf pro Einheit",key:"area_per_unit",value:.035,unit:"m",description:"Durchschnittlicher Prsentationsflchenbedarf je Stck"},{id:"param-002",category:"capacity",name:"Maximale Auslastung",key:"max_utilization",value:95,unit:"%",description:"Maximale erlaubte Kapazittsauslastung"},{id:"param-003",category:"presentation",name:"Mindestprsentationsmenge",key:"min_presentation",value:3,unit:"Stck",description:"Mindestmenge, um Artikel prsentieren zu drfen"},{id:"param-004",category:"presentation",name:"Mindestmenge je Gre",key:"min_per_size",value:2,unit:"Stck",description:"Mindestanzahl pro Gre fr vollstndige Darstellung"},{id:"param-005",category:"presentation",name:"LOT-Zwang",key:"lot_required",value:!0,unit:"",description:"Allokation nur bei vollstndigem Grenlauf erlaubt"},{id:"param-006",category:"control",name:"Prognose-Horizont",key:"forecast_horizon",value:8,unit:"Wochen",description:"Zeitraum fr Absatzprognose"},{id:"param-007",category:"control",name:"Sicherheitsbestand-Tage",key:"safety_stock_days",value:14,unit:"Tage",description:"Puffer fr Nachschub-Verzgerungen"},{id:"param-008",category:"forecast",name:"Prognose-Gewichtung",key:"forecast_weight",value:.6,unit:"",description:"Gewichtung der Absatzprognose vs. historische Daten"},{id:"param-009",category:"forecast",name:"Saisonalittsfaktor",key:"seasonality_factor",value:1.2,unit:"",description:"Multiplikator fr saisonale Schwankungen"},{id:"param-010",category:"governance",name:"Freigabe-Schwellwert",key:"approval_threshold",value:1e4,unit:"",description:"Ab diesem Wert ist eine Freigabe erforderlich"}],sr={stores:"allocation_stores",runs:"allocation_runs",exceptions:"allocation_exceptions",tasks:"allocation_tasks",scenarios:"allocation_scenarios",parameters:"allocation_parameters"};function ks(e,t){try{const r=localStorage.getItem(e);return r?JSON.parse(r):(localStorage.setItem(e,JSON.stringify(t)),t)}catch{return t}}function Ha(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.error("Failed to save to localStorage:",r)}}async function Cs(e,t){try{if((await fetch(`${zo}/health`,{method:"GET"})).ok)return await e()}catch{}return t()}const Xa={async getStores(){return Cs(async()=>{const t=await(await fetch(`${zo}/stores`)).json();return t.success?t.data:Fv},()=>ks(sr.stores,Fv))},async getStore(e){return(await this.getStores()).find(r=>r.id===e)},async getRuns(){return Cs(async()=>{const t=await(await fetch(`${zo}/runs`)).json();return t.success?t.data.map(r=>({id:r.id,type:r.type,status:r.status==="with_exceptions"?"with_exceptions":r.status,startDate:r.start_date,endDate:r.end_date,articleCount:r.article_count,storeCount:r.store_count,progress:r.progress,userName:r.user_name})):Wv},()=>ks(sr.runs,Wv))},async getRun(e){return(await this.getRuns()).find(r=>r.id===e)},async createRun(e){const t={...e,id:`RUN-${Date.now()}`},r=await this.getRuns();return r.unshift(t),Ha(sr.runs,r),t},async updateRun(e,t){const r=await this.getRuns(),n=r.findIndex(i=>i.id===e);if(n>=0)return r[n]={...r[n],...t},Ha(sr.runs,r),r[n]},async getExceptions(){return Cs(async()=>{const t=await(await fetch(`${zo}/exceptions`)).json();return t.success?t.data.map(r=>({...r,createdAt:r.created_at||r.createdAt})):$v},()=>ks(sr.exceptions,$v))},async updateException(e,t){const r=await this.getExceptions(),n=r.findIndex(i=>i.id===e);if(n>=0)return r[n]={...r[n],...t},Ha(sr.exceptions,r),r[n]},async getTasks(){return Cs(async()=>{const t=await(await fetch(`${zo}/tasks`)).json();return t.success?t.data.map(r=>({id:r.id,title:r.title,description:r.description,type:r.type,status:r.status,priority:r.priority,assignedTo:r.assigned_to,dueDate:r.due_date,relatedRunId:r.related_run_id,relatedScenarioId:r.related_scenario_id})):Uv},()=>ks(sr.tasks,Uv))},async createTask(e){const t={...e,id:`task-${Date.now()}`},r=await this.getTasks();return r.unshift(t),Ha(sr.tasks,r),t},async updateTask(e,t){const r=await this.getTasks(),n=r.findIndex(i=>i.id===e);if(n>=0)return r[n]={...r[n],...t},Ha(sr.tasks,r),r[n]},async deleteTask(e){const t=await this.getTasks(),r=t.filter(n=>n.id!==e);return r.length<t.length?(Ha(sr.tasks,r),!0):!1},async getScenarios(){return Cs(async()=>{const t=await(await fetch(`${zo}/scenarios`)).json();return t.success?t.data.map(r=>({id:r.id,name:r.name,description:r.description,status:r.status,allocationType:r.allocation_type,createdBy:r.created_by,parameters:r.parameters,results:r.results})):Hv},()=>ks(sr.scenarios,Hv))},async createScenario(e){const t={...e,id:`scenario-${Date.now()}`},r=await this.getScenarios();return r.unshift(t),Ha(sr.scenarios,r),t},async updateScenario(e,t){const r=await this.getScenarios(),n=r.findIndex(i=>i.id===e);if(n>=0)return r[n]={...r[n],...t},Ha(sr.scenarios,r),r[n]},async getParameters(){return Cs(async()=>{const t=await(await fetch(`${zo}/parameters`)).json();return t.success?t.data:Kv},()=>ks(sr.parameters,Kv))},async updateParameter(e,t){const r=await this.getParameters(),n=r.findIndex(i=>i.id===e);if(n>=0)return r[n]={...r[n],value:t},Ha(sr.parameters,r),r[n]},async getKPIs(){const[e,t,r,n,i]=await Promise.all([this.getTasks(),this.getRuns(),this.getExceptions(),this.getScenarios(),this.getStores()]);return{openTasks:e.filter(o=>o.status==="pending"||o.status==="in_progress").length,activeRuns:t.filter(o=>o.status==="running"||o.status==="planned").length,openExceptions:r.filter(o=>o.status==="open"||o.status==="in_progress").length,approvedScenarios:n.filter(o=>o.status==="approved").length,totalStores:i.length,totalArticles:156}},resetToDefaults(){localStorage.setItem(sr.stores,JSON.stringify(Fv)),localStorage.setItem(sr.runs,JSON.stringify(Wv)),localStorage.setItem(sr.exceptions,JSON.stringify($v)),localStorage.setItem(sr.tasks,JSON.stringify(Uv)),localStorage.setItem(sr.scenarios,JSON.stringify(Hv)),localStorage.setItem(sr.parameters,JSON.stringify(Kv))}},aF=[{id:"settings",titleKey:"settingsTitle",descKey:"settingsDesc",icon:ou,color:"var(--brand-primary)"},{id:"parameters",titleKey:"parametersTitle",descKey:"parametersDesc",icon:v0,color:"var(--status-info)"},{id:"capacity",titleKey:"capacityTitle",descKey:"capacityDesc",icon:rh,color:"var(--status-success)"},{id:"cluster",titleKey:"clusterTitle",descKey:"clusterDesc",icon:d1,color:"#ec4899"},{id:"storeLayout",titleKey:"storeLayoutTitle",descKey:"storeLayoutDesc",icon:BT,color:"#6366f1"},{id:"work",titleKey:"workTitle",descKey:"workDesc",icon:s1,color:"var(--brand-accent)"},{id:"runs",titleKey:"runsTitle",descKey:"runsDesc",icon:th,color:"var(--status-warning)"},{id:"scenarios",titleKey:"scenariosTitle",descKey:"scenariosDesc",icon:MT,color:"#7c3aed"},{id:"scenarioManagement",titleKey:"scenarioMgmtTitle",descKey:"scenarioMgmtDesc",icon:v0,color:"#8b5cf6"},{id:"exceptions",titleKey:"exceptionsTitle",descKey:"exceptionsDesc",icon:Mt,color:"var(--status-danger)"},{id:"analytics",titleKey:"analyticsTitle",descKey:"analyticsDesc",icon:Hu,color:"var(--text-secondary)"}];function w2({onNavigate:e}){const{state:t}=V5(),{t:r}=br(),[n,i]=k.useState({openTasks:0,activeRuns:0,openExceptions:0});k.useEffect(()=>{(async()=>{try{const f=await Xa.getKPIs();i(f)}catch(f){console.error("Failed to load KPIs:",f);const h=t.tasks?.filter(x=>x.status==="pending"||x.status==="in_progress").length||0,m=t.runs?.filter(x=>x.status==="running"||x.status==="planned").length||0,v=t.exceptions?.filter(x=>x.status==="open"||x.status==="in_progress").length||0;i({openTasks:h,activeRuns:m,openExceptions:v})}})()},[t]);const{openTasks:o,activeRuns:l,openExceptions:u}=n;return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:r.dashboard.welcome}),a.jsxs("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:[r.dashboard.subtitle,t.currentUser&&`  ${r.dashboard.loggedInAs} ${t.currentUser.name}`]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:aF.map(d=>{const f=d.icon,h=r.dashboard[d.titleKey]||d.titleKey,m=r.dashboard[d.descKey]||d.descKey;return a.jsxs("button",{onClick:()=>e(d.id),className:"group text-left p-6 rounded-lg border transition-all",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-subtle)",borderRadius:"var(--radius-lg)"},onMouseEnter:v=>{v.currentTarget.style.boxShadow="var(--shadow-sm)",v.currentTarget.style.borderColor=d.color},onMouseLeave:v=>{v.currentTarget.style.boxShadow="none",v.currentTarget.style.borderColor="var(--border-subtle)"},children:[a.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mb-4",style:{backgroundColor:`${d.color}15`,color:d.color},children:a.jsx(f,{size:24})}),a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:h}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)",lineHeight:"var(--line-height-sm)"},children:m}),a.jsxs("div",{className:"mt-4 flex items-center gap-2",style:{color:d.color},children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:r.dashboard.open}),a.jsx("span",{className:"transition-transform group-hover:translate-x-1",children:""})]})]},d.id)})}),a.jsxs("div",{className:"mt-8 p-6 rounded-lg border",style:{backgroundColor:"var(--surface-subtle-tint)",borderColor:"var(--border-subtle)",borderRadius:"var(--radius-lg)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:r.dashboard.quickActions}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--status-info)",color:"var(--text-inverse)"},children:a.jsx(s1,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:r.dashboard.pendingTasks}),a.jsx("p",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:o})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--status-success)",color:"var(--text-inverse)"},children:a.jsx(th,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:r.dashboard.activeRuns}),a.jsx("p",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:l})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--status-danger)",color:"var(--text-inverse)"},children:a.jsx(Mt,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:r.dashboard.openExceptions}),a.jsx("p",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:u})]})]})]})]})]})}function Kr({columns:e,data:t,density:r="comfortable",hasSelection:n=!1,onRowClick:i,sortBy:o,sortDirection:l,onSort:u,emptyMessage:d="Keine Daten verfgbar"}){const f=r==="compact"?"var(--height-table-row-compact)":"var(--height-table-row)",h=r==="compact"?"var(--height-table-header-compact)":"var(--height-table-header)";return t.length===0?a.jsx("div",{className:"flex items-center justify-center border rounded-lg p-12",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-alt)"},children:a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:d})}):a.jsx("div",{className:"border rounded-lg overflow-hidden",style:{borderColor:"var(--border-default)"},children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",style:{borderCollapse:"collapse"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{backgroundColor:"var(--surface-surface)",height:h,borderBottom:"1px solid var(--border-default)"},children:[n&&a.jsx("th",{style:{width:"48px",padding:"0 var(--space-4)"},children:a.jsx("input",{type:"checkbox"})}),e.map(m=>a.jsx("th",{style:{textAlign:m.align||"left",padding:"0 var(--space-4)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",width:m.width,whiteSpace:"nowrap"},children:m.sortable?a.jsxs("button",{onClick:()=>u?.(m.key),className:"flex items-center gap-2 hover:opacity-70",children:[m.label,o===m.key&&(l==="asc"?a.jsx(TT,{size:16}):a.jsx(Ji,{size:16}))]}):m.label},m.key))]})}),a.jsx("tbody",{children:t.map((m,v)=>a.jsxs("tr",{onClick:()=>i?.(m),className:"border-t transition-colors",style:{height:f,borderColor:"var(--border-default)",cursor:i?"pointer":"default"},onMouseEnter:x=>{x.currentTarget.style.backgroundColor="var(--bg-tint)"},onMouseLeave:x=>{x.currentTarget.style.backgroundColor="transparent"},children:[n&&a.jsx("td",{style:{padding:"0 var(--space-4)"},children:a.jsx("input",{type:"checkbox"})}),e.map(x=>a.jsx("td",{style:{textAlign:x.align||"left",padding:"0 var(--space-4)",fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:x.render?x.render(m[x.key],m):m[x.key]},x.key))]},v))})]})})})}function g0({isOpen:e,onClose:t,title:r,availableLocations:n,selectedLocations:i,onConfirm:o,multiSelect:l=!0}){const[u,d]=k.useState(""),[f,h]=k.useState(""),[m,v]=k.useState(""),[x,w]=k.useState(i),b=k.useMemo(()=>n.filter(N=>{const z=u===""||N.id.toLowerCase().includes(u.toLowerCase()),O=f===""||N.name.toLowerCase().includes(f.toLowerCase()),_=m===""||N.address.toLowerCase().includes(m.toLowerCase());return z&&O&&_}),[n,u,f,m]);if(!e)return null;const y=N=>{w(l?z=>z.some(_=>_.id===N.id)?z.filter(_=>_.id!==N.id):[...z,N]:[N])},j=N=>x.some(z=>z.id===N.id),A=()=>{o(x),t()},S=()=>{w(i),d(""),h(""),v(""),t()};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:S,children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-4xl",style:{boxShadow:"var(--shadow-lg)",maxHeight:"85vh",display:"flex",flexDirection:"column"},onClick:N=>N.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:r}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:l?"Whlen Sie eine oder mehrere Lokationen aus":"Whlen Sie eine Lokation aus"})]}),a.jsx("button",{onClick:S,className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Ct,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search-id",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"ID"}),a.jsxs("div",{className:"relative",children:[a.jsx(Vr,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{id:"search-id",type:"text",value:u,onChange:N=>d(N.target.value),placeholder:"Suchen...",className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search-name",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(Vr,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{id:"search-name",type:"text",value:f,onChange:N=>h(N.target.value),placeholder:"Suchen...",className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search-address",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Adresse"}),a.jsxs("div",{className:"relative",children:[a.jsx(Vr,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{id:"search-address",type:"text",value:m,onChange:N=>v(N.target.value),placeholder:"Suchen...",className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]})]})]}),a.jsxs("div",{className:"mt-3",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[b.length," ",b.length===1?"Eintrag":"Eintrge"," gefunden",x.length>0&&`  ${x.length} ausgewhlt`]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{style:{position:"sticky",top:0,backgroundColor:"var(--surface-alt)",zIndex:1},children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"50px"}}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"ID"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Name"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Adresse"})]})}),a.jsxs("tbody",{children:[b.map((N,z)=>{const O=j(N);return a.jsxs("tr",{onClick:()=>y(N),className:"cursor-pointer hover:bg-surface-tint transition-colors",style:{borderBottom:z<b.length-1?"1px solid var(--border-subtle)":"none",backgroundColor:O?"var(--surface-info-subtle)":"transparent"},children:[a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded border",style:{borderColor:O?"var(--brand-primary)":"var(--border-default)",backgroundColor:O?"var(--brand-primary)":"transparent"},children:O&&a.jsx(ci,{size:14,style:{color:"var(--text-inverse)"}})})}),a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:N.id})}),a.jsx("td",{style:{padding:"12px 16px",fontWeight:"var(--font-weight-medium)"},children:N.name}),a.jsx("td",{style:{padding:"12px 16px",color:"var(--text-secondary)"},children:N.address})]},N.id)}),b.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,style:{padding:"40px 16px",textAlign:"center",color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Keine Eintrge gefunden"})})]})]})}),a.jsxs("div",{className:"p-6 border-t flex justify-end gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:S,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)"},children:"Abbrechen"}),a.jsxs("button",{onClick:A,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:["bernehmen (",x.length,")"]})]})]})})}function iF({isOpen:e,onClose:t,distributionCenterName:r,availableLocations:n,selectedLocations:i,onConfirm:o}){const[l,u]=k.useState(i);if(!e)return null;const d=w=>{u(b=>b.includes(w)?b.filter(j=>j!==w):[...b,w])},f=w=>l.includes(w),h=()=>{o(l),t()},m=()=>{u(i),t()},v=()=>{u(n)},x=()=>{u([])};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:m,children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl",style:{boxShadow:"var(--shadow-lg)",maxHeight:"85vh",display:"flex",flexDirection:"column"},onClick:w=>w.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:"Lagerorte auswhlen"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:r})]}),a.jsx("button",{onClick:m,className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Ct,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsxs("div",{className:"p-6 border-b flex items-center justify-between",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[l.length," von ",n.length," ausgewhlt"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:v,className:"px-3 py-1.5 rounded-lg border text-sm",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-xs)"},children:"Alle auswhlen"}),a.jsx("button",{onClick:x,className:"px-3 py-1.5 rounded-lg border text-sm",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-xs)"},children:"Keine auswhlen"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsx("div",{className:"grid grid-cols-2 gap-3",children:n.map(w=>{const b=f(w);return a.jsxs("button",{onClick:()=>d(w),className:"flex items-center gap-3 p-3 rounded-lg border hover:border-brand-primary transition-colors",style:{backgroundColor:b?"var(--surface-info-subtle)":"var(--surface-page)",borderColor:b?"var(--brand-primary)":"var(--border-default)",textAlign:"left"},children:[a.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded border flex-shrink-0",style:{borderColor:b?"var(--brand-primary)":"var(--border-default)",backgroundColor:b?"var(--brand-primary)":"transparent"},children:b&&a.jsx(ci,{size:14,style:{color:"var(--text-inverse)"}})}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:b?"var(--font-weight-medium)":"var(--font-weight-regular)"},children:w})]},w)})})}),a.jsxs("div",{className:"p-6 border-t flex justify-end gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:m,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)"},children:"Abbrechen"}),a.jsxs("button",{onClick:h,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:["bernehmen (",l.length,")"]})]})]})})}function oF({isOpen:e,onClose:t,availableAllocators:r,selectedAllocators:n,onConfirm:i,multiSelect:o=!0}){const[l,u]=k.useState(""),[d,f]=k.useState(""),[h,m]=k.useState(""),[v,x]=k.useState(n),w=k.useMemo(()=>r.filter(S=>{const N=l===""||S.id.toLowerCase().includes(l.toLowerCase()),z=d===""||S.name.toLowerCase().includes(d.toLowerCase()),O=h===""||S.role.toLowerCase().includes(h.toLowerCase());return N&&z&&O}),[r,l,d,h]);if(!e)return null;const b=S=>{x(o?N=>N.some(O=>O.id===S.id)?N.filter(O=>O.id!==S.id):[...N,S]:[S])},y=S=>v.some(N=>N.id===S.id),j=()=>{i(v),t()},A=()=>{x(n),u(""),f(""),m(""),t()};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:A,children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-4xl",style:{boxShadow:"var(--shadow-lg)",maxHeight:"85vh",display:"flex",flexDirection:"column"},onClick:S=>S.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:"Allokator hinzufgen"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:o?"Whlen Sie einen oder mehrere Mitarbeiter aus":"Whlen Sie einen Mitarbeiter aus"})]}),a.jsx("button",{onClick:A,className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Ct,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search-id",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"ID"}),a.jsxs("div",{className:"relative",children:[a.jsx(Vr,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{id:"search-id",type:"text",value:l,onChange:S=>u(S.target.value),placeholder:"Suchen...",className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search-name",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(Vr,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{id:"search-name",type:"text",value:d,onChange:S=>f(S.target.value),placeholder:"Suchen...",className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search-role",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Rolle"}),a.jsxs("div",{className:"relative",children:[a.jsx(Vr,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{id:"search-role",type:"text",value:h,onChange:S=>m(S.target.value),placeholder:"Suchen...",className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]})]})]}),a.jsxs("div",{className:"mt-3",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[w.length," ",(w.length===1,"Mitarbeiter")," gefunden",v.length>0&&`  ${v.length} ausgewhlt`]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{style:{position:"sticky",top:0,backgroundColor:"var(--surface-alt)",zIndex:1},children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"50px"}}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"ID"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Name"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Rolle"})]})}),a.jsxs("tbody",{children:[w.map((S,N)=>{const z=y(S);return a.jsxs("tr",{onClick:()=>b(S),className:"cursor-pointer hover:bg-surface-tint transition-colors",style:{borderBottom:N<w.length-1?"1px solid var(--border-subtle)":"none",backgroundColor:z?"var(--surface-info-subtle)":"transparent"},children:[a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded border",style:{borderColor:z?"var(--brand-primary)":"var(--border-default)",backgroundColor:z?"var(--brand-primary)":"transparent"},children:z&&a.jsx(ci,{size:14,style:{color:"var(--text-inverse)"}})})}),a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:S.id})}),a.jsx("td",{style:{padding:"12px 16px",fontWeight:"var(--font-weight-medium)"},children:S.name}),a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:S.role==="Admin"?"var(--surface-error-subtle)":"var(--surface-info-subtle)",color:S.role==="Admin"?"var(--text-error)":"var(--text-info)"},children:S.role})})]},S.id)}),w.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,style:{padding:"40px 16px",textAlign:"center",color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Keine Mitarbeiter gefunden"})})]})]})}),a.jsxs("div",{className:"p-6 border-t flex justify-end gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:A,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)"},children:"Abbrechen"}),a.jsxs("button",{onClick:j,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:["bernehmen (",v.length,")"]})]})]})})}const Vv=[{id:"fashion",label:"Fashion",children:[{id:"fashion-apparel",label:"Apparel",children:[{id:"fashion-apparel-tops",label:"Tops"},{id:"fashion-apparel-bottoms",label:"Bottoms"},{id:"fashion-apparel-dresses",label:"Dresses"}]},{id:"fashion-shoes",label:"Shoes",children:[{id:"fashion-shoes-sneakers",label:"Sneakers"},{id:"fashion-shoes-boots",label:"Boots"},{id:"fashion-shoes-sandals",label:"Sandals"}]},{id:"fashion-accessories",label:"Accessories",children:[{id:"fashion-accessories-bags",label:"Bags"},{id:"fashion-accessories-belts",label:"Belts"},{id:"fashion-accessories-jewelry",label:"Jewelry"}]}]},{id:"electronics",label:"Electronics",children:[{id:"electronics-computers",label:"Computers",children:[{id:"electronics-computers-laptops",label:"Laptops"},{id:"electronics-computers-desktops",label:"Desktops"},{id:"electronics-computers-tablets",label:"Tablets"}]},{id:"electronics-phones",label:"Phones",children:[{id:"electronics-phones-smartphones",label:"Smartphones"},{id:"electronics-phones-accessories",label:"Accessories"}]},{id:"electronics-audio",label:"Audio",children:[{id:"electronics-audio-headphones",label:"Headphones"},{id:"electronics-audio-speakers",label:"Speakers"}]}]},{id:"home",label:"Home & Living",children:[{id:"home-furniture",label:"Furniture",children:[{id:"home-furniture-seating",label:"Seating"},{id:"home-furniture-tables",label:"Tables"},{id:"home-furniture-storage",label:"Storage"}]},{id:"home-decor",label:"Decor",children:[{id:"home-decor-lighting",label:"Lighting"},{id:"home-decor-textiles",label:"Textiles"},{id:"home-decor-wall-art",label:"Wall Art"}]}]}];function UT({node:e,level:t=0,selectedIds:r,expandedIds:n,onToggleExpand:i,onToggleSelect:o}){const l=e.children&&e.children.length>0,u=n.has(e.id),d=r.has(e.id);return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 py-2 px-3 cursor-pointer hover:bg-surface-tint rounded transition-colors",style:{paddingLeft:`${t*24+12}px`},children:[a.jsx("div",{style:{width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:l?a.jsx("button",{onClick:f=>{f.stopPropagation(),i(e.id)},className:"p-0.5 hover:bg-surface-subtle-tint rounded",children:u?a.jsx(Ji,{size:16,style:{color:"var(--text-muted)"}}):a.jsx(fn,{size:16,style:{color:"var(--text-muted)"}})}):null}),a.jsx("div",{onClick:()=>o(e.id,e.label),className:"flex items-center justify-center w-5 h-5 rounded border",style:{borderColor:d?"var(--brand-primary)":"var(--border-default)",backgroundColor:d?"var(--brand-primary)":"transparent"},children:d&&a.jsx(ci,{size:14,style:{color:"var(--text-inverse)"}})}),a.jsx("span",{onClick:()=>o(e.id,e.label),style:{fontSize:"var(--font-size-sm)",fontWeight:t===0?"var(--font-weight-semibold)":"var(--font-weight-regular)",flex:1},children:e.label})]}),l&&u&&a.jsx("div",{children:e.children.map(f=>a.jsx(UT,{node:f,level:t+1,selectedIds:r,expandedIds:n,onToggleExpand:i,onToggleSelect:o},f.id))})]})}function sF({isOpen:e,onClose:t,selectedAreas:r,onConfirm:n}){const[i,o]=k.useState(()=>{const v=new Map;return r.forEach(x=>{const w=y=>{for(const j of y){if(j.label===x)return j;if(j.children){const A=w(j.children);if(A)return A}}return null},b=w(Vv);b&&v.set(b.id,b.label)}),v}),[l,u]=k.useState(new Set(["fashion","electronics","home"]));if(!e)return null;const d=v=>{u(x=>{const w=new Set(x);return w.has(v)?w.delete(v):w.add(v),w})},f=(v,x)=>{o(w=>{const b=new Map(w);return b.has(v)?b.delete(v):b.set(v,x),b})},h=()=>{const v=Array.from(i.values());n(v),t()},m=()=>{const v=new Map;r.forEach(x=>{const w=y=>{for(const j of y){if(j.label===x)return j;if(j.children){const A=w(j.children);if(A)return A}}return null},b=w(Vv);b&&v.set(b.id,b.label)}),o(v),t()};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:m,children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-3xl",style:{boxShadow:"var(--shadow-lg)",maxHeight:"85vh",display:"flex",flexDirection:"column"},onClick:v=>v.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:"Verantwortungsbereich festlegen"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Whlen Sie die relevanten Artikelhierarchieebenen aus"})]}),a.jsx("button",{onClick:m,className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Ct,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsx("div",{className:"px-6 py-3 border-b",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-alt)"},children:a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[i.size," ",i.size===1?"Bereich":"Bereiche"," ausgewhlt"]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:Vv.map(v=>a.jsx(UT,{node:v,selectedIds:new Set(i.keys()),expandedIds:l,onToggleExpand:d,onToggleSelect:f},v.id))}),i.size>0&&a.jsxs("div",{className:"px-6 py-4 border-t",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-subtle-tint)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Ausgewhlte Bereiche:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from(i.values()).map((v,x)=>a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--text-info)",fontSize:"var(--font-size-xs)"},children:v},x))})]}),a.jsxs("div",{className:"p-6 border-t flex justify-end gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:m,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)"},children:"Abbrechen"}),a.jsxs("button",{onClick:h,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:["bernehmen (",i.size,")"]})]})]})})}const lF=[{id:"DC-001",name:"Zentrallager Zrich",address:"Industriestrasse 45, 8005 Zrich",warehouses:[]},{id:"DC-002",name:"Regionallager Basel",address:"Hafenweg 12, 4052 Basel",warehouses:[]},{id:"DC-003",name:"Logistikzentrum Bern",address:"Industrieweg 23, 3013 Bern",warehouses:[]},{id:"DC-004",name:"Verteilzentrum Luzern",address:"Obergrundstrasse 88, 6005 Luzern",warehouses:[]},{id:"DC-005",name:"Zentrallager St. Gallen",address:"Industriestrasse 14, 9014 St. Gallen",warehouses:[]},{id:"DC-006",name:"Regionallager Genf",address:"Route de la Chapelle 12, 1212 Genf",warehouses:[]}],cF=[{id:"FL-001",name:"Zrich HB",address:"Bahnhofplatz 1, 8001 Zrich",cluster:"Urban Premium",isReference:!1},{id:"FL-002",name:"Bern Zentrum",address:"Spitalgasse 4, 3011 Bern",cluster:"Urban Premium",isReference:!1},{id:"FL-003",name:"Basel SBB",address:"Centralbahnplatz 1, 4051 Basel",cluster:"Urban Premium",isReference:!1},{id:"FL-004",name:"Genf Cornavin",address:"Place de Cornavin 7, 1201 Genf",cluster:"Urban Premium",isReference:!1},{id:"FL-005",name:"Lausanne Centre",address:"Rue du Pont 5, 1003 Lausanne",cluster:"Urban Standard",isReference:!1},{id:"FL-006",name:"Luzern Bahnhof",address:"Bahnhofstrasse 3, 6003 Luzern",cluster:"Urban Standard",isReference:!1},{id:"FL-007",name:"St. Gallen Marktplatz",address:"Marktgasse 12, 9004 St. Gallen",cluster:"Urban Standard",isReference:!1},{id:"FL-008",name:"Winterthur Stadtgarten",address:"Stadthausstrasse 8, 8400 Winterthur",cluster:"Regional",isReference:!1},{id:"FL-009",name:"Lugano Centro",address:"Via Nassa 15, 6900 Lugano",cluster:"Regional",isReference:!1},{id:"FL-010",name:"Thun Blliz",address:"Blliz 45, 3600 Thun",cluster:"Regional",isReference:!1}],uF=["Lager A","Lager B","Lager C","Lager D","Lager E","Lager 1","Lager 2","Lager 3","Hochregallager Nord","Hochregallager Sd","Kommissionierzone 1","Kommissionierzone 2","Khlhaus","Freilager"],dF=[{id:"DC-001",name:"Zentrallager Zrich",address:"Industriestrasse 45, 8005 Zrich",warehouses:["Lager A","Lager B","Lager C"]},{id:"DC-002",name:"Regionallager Basel",address:"Hafenweg 12, 4052 Basel",warehouses:["Lager 1","Lager 2"]}],fF=[{id:"FL-001",name:"Zrich HB",address:"Bahnhofplatz 1, 8001 Zrich",cluster:"Urban Premium",isReference:!0},{id:"FL-002",name:"Bern Zentrum",address:"Spitalgasse 4, 3011 Bern",cluster:"Urban Premium",isReference:!1},{id:"FL-003",name:"Basel Marktplatz",address:"Marktplatz 10, 4001 Basel",cluster:"Urban Standard",isReference:!1}],pF=[{id:"USR-001",name:"Maria Mller",role:"Allocator",responsibilityArea:""},{id:"USR-002",name:"Andreas Schmidt",role:"Admin",responsibilityArea:""},{id:"USR-003",name:"Julia Weber",role:"Allocator",responsibilityArea:""},{id:"USR-004",name:"Thomas Fischer",role:"Allocator",responsibilityArea:""},{id:"USR-005",name:"Sarah Meier",role:"Allocator",responsibilityArea:""},{id:"USR-006",name:"Michael Huber",role:"Manager",responsibilityArea:""},{id:"USR-007",name:"Laura Zimmermann",role:"Planner",responsibilityArea:""},{id:"USR-008",name:"David Keller",role:"Allocator",responsibilityArea:""},{id:"USR-009",name:"Anna Brunner",role:"Allocator",responsibilityArea:""},{id:"USR-010",name:"Stefan Wyss",role:"Admin",responsibilityArea:""}],hF=[{id:"USR-001",name:"Maria Mller",role:"Allocator",responsibilityArea:"Shoes, Apparel"},{id:"USR-002",name:"Andreas Schmidt",role:"Admin",responsibilityArea:"Alle Bereiche"},{id:"USR-003",name:"Julia Weber",role:"Allocator",responsibilityArea:"Electronics, Accessories"}];function mF({onNavigate:e}){const{t}=br(),[r,n]=k.useState("locations"),[i,o]=k.useState("initial"),[l,u]=k.useState(!1),[d,f]=k.useState(!1),[h,m]=k.useState(!1),[v,x]=k.useState(fF),[w,b]=k.useState(dF),[y,j]=k.useState(hF),[A,S]=k.useState(!1),[N,z]=k.useState(!1),[O,_]=k.useState(!1),[E,T]=k.useState(null),[B,R]=k.useState(!1),[F,K]=k.useState(!1),[H,M]=k.useState(null),[$,U]=k.useState(null),[I,Q]=k.useState({id:"",name:"",address:"",warehouses:[]}),[L,W]=k.useState(!1),[X,se]=k.useState(null),[de,ge]=k.useState({id:"",name:"",role:"Allocator",responsibilityArea:""}),[xe,ne]=k.useState([]),[ie,ce]=k.useState({initial:{active:!0,recipientDetermination:"Plandaten",deliveryDateDetermination:"Lieferplan",availabilityDetermination:"VZ-Bestand",reductionStrategy:"Proportional",allocationAlgorithm:"Kapazittsgesteuerte Allokation"},replenishment:{active:!0,recipientDetermination:"Listung",deliveryDateDetermination:"Planlieferzeit",availabilityDetermination:"Bestellung",reductionStrategy:"Sollbestand fr Top-Performer",allocationAlgorithm:"Prognosegesteuerter Nachschub mit Kapazittsanpassung"},manual:{active:!1,recipientDetermination:"Manuelle Selektion",deliveryDateDetermination:"Lieferplan",availabilityDetermination:"Extern",reductionStrategy:"Prsentationsbestand fr alle",allocationAlgorithm:"Sollbestandsgesteuerte Allokation"}}),[fe,q]=k.useState({capacityPlanningEnabled:!0,hierarchyLevel:"Produktgruppe",quantityUnit:"Stck"}),[ee,Oe]=k.useState(ie),[je,st]=k.useState(fe),[Qe,bt]=k.useState(v),Kt=()=>{Oe(ie),st(fe),bt(v),m(!1),alert(t.settings.settingsSaved)},rr=()=>{ce(ee),q(je),x(Qe),m(!1)},ft=()=>{S(!0)},xt=te=>{b(pe=>[...pe,...te]),m(!0)},Ft=te=>{U(te),Q({...te}),u(!0)},ut=()=>{b($?te=>te.map(pe=>pe.id===$.id?I:pe):te=>[...te,I]),m(!0),u(!1),U(null)},Me=()=>{u(!1),U(null),Q({id:"",name:"",address:"",warehouses:[]})},Ze=()=>{z(!0)},Et=te=>{x(pe=>[...pe,...te]),m(!0)},lt=te=>{T(te),_(!0)},tt=te=>{E&&(b(pe=>pe.map(Ne=>Ne.id===E.id?{...Ne,warehouses:te}:Ne)),m(!0))},cr=()=>{R(!0)},Nr=te=>{j(pe=>[...pe,...te]),m(!0)},mt=te=>{if(H){const pe={...H,responsibilityArea:te.join(", ")};j(Ne=>Ne.map(rt=>rt.id===H.id?pe:rt)),m(!0),M(null)}},Ir=te=>{se(te),ge({...te}),ne(te.responsibilityArea.split(", ")),W(!0)},Pr=()=>{const te={...de,responsibilityArea:xe.join(", ")};j(X?pe=>pe.map(Ne=>Ne.id===X.id?te:Ne):pe=>[...pe,te]),m(!0),W(!1),se(null)},Or=()=>{W(!1),se(null),ge({id:"",name:"",role:"Allocator",responsibilityArea:""}),ne([])},ot=te=>{ne(pe=>pe.includes(te)?pe.filter(Ne=>Ne!==te):[...pe,te])},mn=[{key:"id",label:"ID",render:te=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:te}),a.jsx("button",{className:"p-1 rounded hover:bg-surface-tint",children:a.jsx(au,{size:14,style:{color:"var(--text-muted)"}})})]})},{key:"name",label:t.settings.name,sortable:!0},{key:"address",label:t.settings.address,render:te=>a.jsx("div",{style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:te})},{key:"warehouses",label:t.settings.warehouses,render:(te,pe)=>a.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),lt(pe)},className:"flex items-center gap-1 flex-wrap hover:bg-surface-tint p-2 rounded transition-colors w-full text-left",children:te.length===0?a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:t.settings.clickToSelect}):a.jsxs(a.Fragment,{children:[te.slice(0,3).map((Ne,rt)=>a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:Ne},rt)),te.length>3&&a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:["+",te.length-3]})]})})},{key:"actions",label:t.settings.actions,align:"right",render:(te,pe)=>a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{className:"p-1.5 rounded hover:bg-surface-tint",onClick:Ne=>{Ne.stopPropagation(),Ft(pe)},children:a.jsx($i,{size:16,style:{color:"var(--text-secondary)"}})}),a.jsx("button",{className:"p-1.5 rounded hover:bg-surface-tint",onClick:Ne=>Ne.stopPropagation(),children:a.jsx($n,{size:16,style:{color:"var(--status-danger)"}})})]})}],Gn=[{key:"id",label:"ID",render:te=>a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:te})},{key:"name",label:t.settings.name,sortable:!0},{key:"address",label:t.settings.address},{key:"cluster",label:t.settings.clusterAssignment,render:(te,pe)=>a.jsxs("select",{value:te,onChange:Ne=>{x(rt=>rt.map(nt=>nt.id===pe.id?{...nt,cluster:Ne.target.value}:nt)),m(!0)},className:"px-2 py-1 border rounded",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"},onClick:Ne=>Ne.stopPropagation(),children:[a.jsx("option",{children:"Urban Premium"}),a.jsx("option",{children:"Urban Standard"}),a.jsx("option",{children:"Regional"})]})},{key:"isReference",label:t.settings.referenceId,render:(te,pe)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{value:te?"ja":"nein",onChange:Ne=>{x(rt=>rt.map(nt=>nt.id===pe.id?{...nt,isReference:Ne.target.value==="ja"}:nt)),m(!0)},className:"px-2 py-1 border rounded",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"},onClick:Ne=>Ne.stopPropagation(),children:[a.jsx("option",{value:"nein",children:t.settings.no}),a.jsx("option",{value:"ja",children:t.settings.yes})]}),a.jsxs("button",{className:"p-1 group relative",children:[a.jsx(Zt,{size:14,style:{color:"var(--text-muted)"}}),a.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 rounded shadow-lg opacity-0 pointer-events-none group-hover:opacity-100 transition-opacity whitespace-nowrap",style:{backgroundColor:"var(--text-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",boxShadow:"var(--shadow-md)",zIndex:10},children:t.settings.referenceTooltip})]})]})},{key:"actions",label:t.settings.actions,align:"right",render:()=>a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{className:"p-1.5 rounded hover:bg-surface-tint",onClick:te=>te.stopPropagation(),children:a.jsx($i,{size:16,style:{color:"var(--text-secondary)"}})}),a.jsx("button",{className:"p-1.5 rounded hover:bg-surface-tint",onClick:te=>te.stopPropagation(),children:a.jsx($n,{size:16,style:{color:"var(--status-danger)"}})})]})}],ae=[{key:"id",label:"ID"},{key:"name",label:"Name",sortable:!0},{key:"role",label:t.settings.role,render:te=>a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:te==="Admin"?"var(--status-info)":"var(--status-success)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:te})},{key:"responsibilityArea",label:t.settings.responsibilityArea,render:(te,pe)=>a.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),M(pe),K(!0)},className:"flex items-center gap-1 flex-wrap hover:bg-surface-tint p-2 rounded transition-colors w-full text-left",children:!te||te===""?a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:t.settings.clickToSet}):a.jsxs(a.Fragment,{children:[te.split(", ").slice(0,3).map((Ne,rt)=>a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-info-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-info)"},children:Ne},rt)),te.split(", ").length>3&&a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:["+",te.split(", ").length-3]})]})})},{key:"actions",label:t.settings.actions,align:"right",render:(te,pe)=>a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{className:"p-1.5 rounded hover:bg-surface-tint",onClick:Ne=>{Ne.stopPropagation(),Ir(pe)},children:a.jsx($i,{size:16,style:{color:"var(--text-secondary)"}})}),a.jsx("button",{className:"p-1.5 rounded hover:bg-surface-tint",onClick:Ne=>{Ne.stopPropagation(),j(rt=>rt.filter(nt=>nt.id!==pe.id)),m(!0)},children:a.jsx($n,{size:16,style:{color:"var(--status-danger)"}})})]})}],Ce=[{id:"initial",name:t.settings.initialAllocation},{id:"replenishment",name:t.settings.replenishment},{id:"manual",name:t.settings.manualAllocation}],me=ie[i];return a.jsxs("div",{className:"pb-20",children:[a.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:t.settings.title}),a.jsxs("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:[t.settings.locations,", ",t.settings.responsibilities,", ",t.settings.allocation]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>e("parameters"),className:"flex items-center gap-2 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",height:"var(--height-button-md)"},children:[t.settings.allocationParameters,a.jsx(fn,{size:18})]}),a.jsxs("button",{onClick:()=>e("capacity"),className:"flex items-center gap-2 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",height:"var(--height-button-md)"},children:[t.settings.continueToCapacity,a.jsx(fn,{size:18})]})]})]}),a.jsx("div",{className:"mb-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("div",{className:"flex gap-1",children:[{id:"locations",label:t.settings.locationsTab},{id:"responsibilities",label:t.settings.responsibilitiesTab},{id:"allocation",label:t.settings.allocationSettingsTab}].map(te=>a.jsxs("button",{onClick:()=>n(te.id),className:"px-6 py-3 relative transition-all",style:{backgroundColor:r===te.id?"var(--brand-primary)":"transparent",color:r===te.id?"var(--text-inverse)":"var(--text-muted)",fontWeight:r===te.id?"var(--font-weight-medium)":"var(--font-weight-regular)",fontSize:"var(--font-size-sm)",borderRadius:r===te.id?"8px 8px 0 0":"0"},onMouseEnter:pe=>{r!==te.id&&(pe.currentTarget.style.backgroundColor="var(--surface-subtle-tint)")},onMouseLeave:pe=>{r!==te.id&&(pe.currentTarget.style.backgroundColor="transparent")},children:[te.label,r===te.id&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1",style:{backgroundColor:"var(--brand-accent)"}})]},te.id))})}),r==="locations"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:t.settings.distributionCenters}),a.jsxs("button",{onClick:ft,className:"flex items-center gap-2 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:[a.jsx(ei,{size:18}),t.settings.newDC]})]}),a.jsx(Kr,{columns:mn,data:w,density:"comfortable"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:t.settings.stores}),a.jsxs("button",{onClick:Ze,className:"flex items-center gap-2 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:[a.jsx(ei,{size:18}),t.settings.newStore]})]}),a.jsx(Kr,{columns:Gn,data:v,density:"comfortable"})]})]}),r==="responsibilities"&&a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:t.settings.responsibilitiesTab}),a.jsxs("button",{onClick:cr,className:"flex items-center gap-2 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:[a.jsx(ei,{size:18}),t.actions.addAllocator]})]}),a.jsx(Kr,{columns:ae,data:y,density:"comfortable"})]}),r==="allocation"&&a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsx("div",{className:"col-span-3",children:a.jsx("div",{className:"space-y-1",children:Ce.map(te=>a.jsx("button",{onClick:()=>o(te.id),className:"w-full text-left px-4 py-3 rounded-lg transition-all relative",style:{backgroundColor:i===te.id?"var(--surface-subtle-tint)":"transparent",fontWeight:i===te.id?"var(--font-weight-semibold)":"var(--font-weight-regular)",fontSize:"var(--font-size-sm)",borderLeft:i===te.id?"4px solid var(--brand-accent)":"4px solid transparent",marginLeft:"-4px",paddingLeft:"calc(var(--space-4) + 4px)"},onMouseEnter:pe=>{i!==te.id&&(pe.currentTarget.style.backgroundColor="var(--surface-subtle-tint)")},onMouseLeave:pe=>{i!==te.id&&(pe.currentTarget.style.backgroundColor="transparent")},children:te.name},te.id))})}),a.jsx("div",{className:"col-span-9",children:a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)"},children:[a.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:Ce.find(te=>te.id===i)?.name}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:["Szenario ",me.active?"aktiv":"inaktiv"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:me.active,onChange:te=>{ce(pe=>({...pe,[i]:{...pe[i],active:te.target.checked}})),m(!0)},className:"sr-only"}),a.jsx("div",{className:"w-11 h-6 rounded-full transition-colors",style:{backgroundColor:me.active?"var(--brand-primary)":"var(--border-input)"},children:a.jsx("div",{className:"w-5 h-5 bg-white rounded-full shadow transition-transform",style:{transform:me.active?"translateX(22px) translateY(2px)":"translateX(2px) translateY(2px)"}})})]})]})]}),a.jsxs("div",{className:"space-y-5",style:{opacity:me.active?1:.5},children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Empfngerermittlung"}),a.jsxs("select",{value:me.recipientDetermination,disabled:!me.active,onChange:te=>{ce(pe=>({...pe,[i]:{...pe[i],recipientDetermination:te.target.value}})),m(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Plandaten"}),a.jsx("option",{children:"Manuelle Selektion"}),a.jsx("option",{children:"Listung"}),a.jsx("option",{children:"Transportbeziehungen"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Lieferterminermittlung"}),a.jsxs("select",{value:me.deliveryDateDetermination,disabled:!me.active,onChange:te=>{ce(pe=>({...pe,[i]:{...pe[i],deliveryDateDetermination:te.target.value}})),m(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Lieferplan"}),a.jsx("option",{children:"Planlieferzeit"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Verfgbarkeitsermittlung"}),a.jsxs("select",{value:me.availabilityDetermination,disabled:!me.active,onChange:te=>{ce(pe=>({...pe,[i]:{...pe[i],availabilityDetermination:te.target.value}})),m(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Extern"}),a.jsx("option",{children:"VZ-Bestand"}),a.jsx("option",{children:"Bestellung"}),a.jsx("option",{children:"Lieferung"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Krzungsstrategie"}),a.jsxs("select",{value:me.reductionStrategy,disabled:!me.active,onChange:te=>{ce(pe=>({...pe,[i]:{...pe[i],reductionStrategy:te.target.value}})),m(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Proportional"}),a.jsx("option",{children:"Sollbestand fr Top-Performer"}),a.jsx("option",{children:"Prsentationsbestand fr alle"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Allokationsalgorithmus"}),a.jsxs("select",{value:me.allocationAlgorithm,disabled:!me.active,onChange:te=>{ce(pe=>({...pe,[i]:{...pe[i],allocationAlgorithm:te.target.value}})),m(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Kapazittsgesteuerte Allokation"}),a.jsx("option",{children:"Sollbestandsgesteuerte Allokation"}),a.jsx("option",{children:"KPI-basierte Allokation"}),a.jsx("option",{children:"Prognosegesteuerter Nachschub mit Kapazittsanpassung"})]}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"var(--space-1)"},children:"Der Algorithmus bestimmt die Berechnungslogik der Verteilung."})]})]}),a.jsx("div",{className:"my-6",style:{height:"1px",backgroundColor:"var(--border-default)"}}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-5)"},children:t.settings.globalAllocationSettings}),a.jsxs("div",{className:"space-y-5",children:[a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Kapazittsplanung"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:fe.capacityPlanningEnabled,onChange:te=>{q(pe=>({...pe,capacityPlanningEnabled:te.target.checked})),m(!0)},className:"sr-only"}),a.jsx("div",{className:"w-11 h-6 rounded-full transition-colors",style:{backgroundColor:fe.capacityPlanningEnabled?"var(--brand-primary)":"var(--border-input)"},children:a.jsx("div",{className:"w-5 h-5 bg-white rounded-full shadow transition-transform",style:{transform:fe.capacityPlanningEnabled?"translateX(22px) translateY(2px)":"translateX(2px) translateY(2px)"}})})]})]})}),a.jsxs("div",{style:{opacity:fe.capacityPlanningEnabled?1:.5},children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Artikelhierarchieebene fr Kapazittsplanung"}),a.jsxs("select",{value:fe.hierarchyLevel,disabled:!fe.capacityPlanningEnabled,onChange:te=>{q(pe=>({...pe,hierarchyLevel:te.target.value})),m(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Unternehmen"}),a.jsx("option",{children:"Einkaufsbereich"}),a.jsx("option",{children:"Produktgruppe"}),a.jsx("option",{children:"Produkt"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Mengeneinheit"}),a.jsxs("select",{value:fe.quantityUnit,onChange:te=>{q(pe=>({...pe,quantityUnit:te.target.value})),m(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Stck"}),a.jsx("option",{children:"Karton"}),a.jsx("option",{children:"Palette"})]})]})]})]})]})})]}),a.jsxs("div",{className:"fixed bottom-0 left-0 right-0 flex items-center justify-end gap-3 px-6 border-t",style:{height:"64px",backgroundColor:"var(--surface-page)",borderColor:"var(--border-subtle)",marginLeft:"var(--sidenav-width-desktop)",zIndex:10},children:[a.jsx("button",{disabled:!h,onClick:rr,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)",opacity:h?1:.5,cursor:h?"pointer":"not-allowed"},children:"nderungen verwerfen"}),a.jsx("button",{disabled:!h,onClick:Kt,className:"px-4 py-2 rounded-lg",style:{backgroundColor:h?"var(--button-primary-bg)":"var(--border-default)",color:"var(--button-primary-text)",height:"var(--height-button-md)",cursor:h?"pointer":"not-allowed"},children:t.actions.save})]}),l&&a.jsxs("div",{className:"fixed inset-0 z-50 flex",onClick:()=>u(!1),children:[a.jsx("div",{className:"flex-1",style:{backgroundColor:"var(--bg-overlay)"}}),a.jsxs("div",{className:"bg-white shadow-lg overflow-y-auto",style:{width:"var(--drawer-width)",boxShadow:"var(--shadow-lg)"},onClick:te=>te.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b sticky top-0 bg-white",style:{borderColor:"var(--border-default)"},children:a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:t.actions.editDC})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block",color:"var(--text-muted)"},children:"ID (nur lesbar)"}),a.jsx("input",{type:"text",value:I.id,readOnly:!0,className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-alt)",color:"var(--text-muted)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Name"}),a.jsx("input",{type:"text",value:I.name,onChange:te=>Q(pe=>({...pe,name:te.target.value})),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Adresse"}),a.jsx("textarea",{value:I.address,onChange:te=>Q(pe=>({...pe,address:te.target.value})),rows:3,className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",resize:"vertical"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:t.settings.warehouses}),a.jsxs("select",{multiple:!0,value:I.warehouses,onChange:te=>{const pe=Array.from(te.target.selectedOptions,Ne=>Ne.value);Q(Ne=>({...Ne,warehouses:pe}))},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",minHeight:"120px"},children:[a.jsx("option",{value:"Lager A",children:"Lager A"}),a.jsx("option",{value:"Lager B",children:"Lager B"}),a.jsx("option",{value:"Lager C",children:"Lager C"}),a.jsx("option",{value:"Lager D",children:"Lager D"}),a.jsx("option",{value:"Lager E",children:"Lager E"}),a.jsx("option",{value:"Lager 1",children:"Lager 1"}),a.jsx("option",{value:"Lager 2",children:"Lager 2"}),a.jsx("option",{value:"Lager 3",children:"Lager 3"})]})]})]}),a.jsxs("div",{className:"p-6 border-t sticky bottom-0 bg-white flex gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:Me,className:"flex-1 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:t.actions.cancel}),a.jsx("button",{onClick:ut,className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:t.actions.save})]})]})]}),d&&a.jsxs("div",{className:"fixed inset-0 z-50 flex",onClick:()=>f(!1),children:[a.jsx("div",{className:"flex-1",style:{backgroundColor:"var(--bg-overlay)"}}),a.jsxs("div",{className:"bg-white shadow-lg overflow-y-auto",style:{width:"var(--drawer-width)",boxShadow:"var(--shadow-lg)"},onClick:te=>te.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b sticky top-0 bg-white",style:{borderColor:"var(--border-default)"},children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Verantwortungsbereich definieren"}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[a.jsxs("span",{className:"px-3 py-1 rounded-full flex items-center gap-2",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)"},children:["Shoes",a.jsx("button",{className:"hover:opacity-70",children:""})]}),a.jsxs("span",{className:"px-3 py-1 rounded-full flex items-center gap-2",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)"},children:["Apparel",a.jsx("button",{className:"hover:opacity-70",children:""})]})]})]}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Unternehmen"})]}),a.jsxs("div",{className:"ml-6 mt-2 space-y-2",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Fashion"})]}),a.jsxs("div",{className:"ml-6 mt-2 space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",defaultChecked:!0}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Shoes"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",defaultChecked:!0}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Apparel"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Accessories"})]})]})]}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Electronics"})]})})]})]})})}),a.jsxs("div",{className:"p-6 border-t sticky bottom-0 bg-white flex gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>f(!1),className:"flex-1 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsx("button",{onClick:()=>f(!1),className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:"bernehmen"})]})]})]}),L&&a.jsxs("div",{className:"fixed inset-0 z-50 flex",onClick:Or,children:[a.jsx("div",{className:"flex-1",style:{backgroundColor:"var(--bg-overlay)"}}),a.jsxs("div",{className:"bg-white shadow-lg overflow-y-auto",style:{width:"var(--drawer-width)",boxShadow:"var(--shadow-lg)"},onClick:te=>te.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b sticky top-0 bg-white",style:{borderColor:"var(--border-default)"},children:a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:X?t.actions.editAllocator:t.actions.addAllocator})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"ID"}),a.jsx("input",{type:"text",value:de.id,onChange:te=>ge(pe=>({...pe,id:te.target.value})),placeholder:"z.B. USR-004",className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Name"}),a.jsx("input",{type:"text",value:de.name,onChange:te=>ge(pe=>({...pe,name:te.target.value})),placeholder:"z.B. Max Mustermann",className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Rolle"}),a.jsxs("select",{value:de.role,onChange:te=>ge(pe=>({...pe,role:te.target.value})),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"Allocator",children:"Allocator"}),a.jsx("option",{value:"Admin",children:"Admin"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Verantwortungsbereich"}),xe.length>0&&a.jsx("div",{className:"mb-3 flex flex-wrap gap-2",children:xe.map((te,pe)=>a.jsxs("span",{className:"px-3 py-1 rounded-full flex items-center gap-2",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)"},children:[te,a.jsx("button",{onClick:()=>ot(te),className:"hover:opacity-70",children:""})]},pe))}),a.jsxs("div",{className:"space-y-2 p-3 border rounded-lg",style:{borderColor:"var(--border-default)"},children:[a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:xe.includes("Alle Bereiche"),onChange:()=>ot("Alle Bereiche")}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Alle Bereiche"})]})}),a.jsxs("div",{className:"ml-6 space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:xe.includes("Shoes"),onChange:()=>ot("Shoes")}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Shoes"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:xe.includes("Apparel"),onChange:()=>ot("Apparel")}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Apparel"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:xe.includes("Accessories"),onChange:()=>ot("Accessories")}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Accessories"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:xe.includes("Electronics"),onChange:()=>ot("Electronics")}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Electronics"})]})]})]})]})]}),a.jsxs("div",{className:"p-6 border-t sticky bottom-0 bg-white flex gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:Or,className:"flex-1 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:t.actions.cancel}),a.jsx("button",{onClick:Pr,className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:t.actions.save})]})]})]}),a.jsx(g0,{isOpen:A,onClose:()=>S(!1),title:t.modals.selectDistributionCenter,availableLocations:lF.filter(te=>!w.some(pe=>pe.id===te.id)),selectedLocations:[],onConfirm:xt,multiSelect:!0}),a.jsx(g0,{isOpen:N,onClose:()=>z(!1),title:"Filiale auswhlen",availableLocations:cF.filter(te=>!v.some(pe=>pe.id===te.id)),selectedLocations:[],onConfirm:Et,multiSelect:!0}),a.jsx(iF,{isOpen:O,onClose:()=>{_(!1),T(null)},distributionCenterName:E?.name||"",availableLocations:uF,selectedLocations:E?.warehouses||[],onConfirm:tt}),a.jsx(oF,{isOpen:B,onClose:()=>R(!1),availableAllocators:pF.filter(te=>!y.some(pe=>pe.id===te.id)),selectedAllocators:[],onConfirm:Nr,multiSelect:!0}),a.jsx(sF,{isOpen:F,onClose:()=>{K(!1),M(null)},selectedAreas:H?.responsibilityArea?H.responsibilityArea.split(", ").filter(te=>te!==""):[],onConfirm:mt})]})}function HT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=HT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ye(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=HT(e))&&(n&&(n+=" "),n+=t);return n}var Gv,j2;function hn(){if(j2)return Gv;j2=1;var e=Array.isArray;return Gv=e,Gv}var qv,k2;function KT(){if(k2)return qv;k2=1;var e=typeof lf=="object"&&lf&&lf.Object===Object&&lf;return qv=e,qv}var Zv,C2;function Oa(){if(C2)return Zv;C2=1;var e=KT(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Zv=r,Zv}var Xv,A2;function Ku(){if(A2)return Xv;A2=1;var e=Oa(),t=e.Symbol;return Xv=t,Xv}var Yv,z2;function vF(){if(z2)return Yv;z2=1;var e=Ku(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function o(l){var u=r.call(l,i),d=l[i];try{l[i]=void 0;var f=!0}catch{}var h=n.call(l);return f&&(u?l[i]=d:delete l[i]),h}return Yv=o,Yv}var Qv,N2;function gF(){if(N2)return Qv;N2=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Qv=r,Qv}var Jv,P2;function ui(){if(P2)return Jv;P2=1;var e=Ku(),t=vF(),r=gF(),n="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?i:n:o&&o in Object(u)?t(u):r(u)}return Jv=l,Jv}var eg,O2;function di(){if(O2)return eg;O2=1;function e(t){return t!=null&&typeof t=="object"}return eg=e,eg}var tg,_2;function Nl(){if(_2)return tg;_2=1;var e=ui(),t=di(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return tg=n,tg}var rg,T2;function p1(){if(T2)return rg;T2=1;var e=hn(),t=Nl(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,l){if(e(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||t(o)?!0:n.test(o)||!r.test(o)||l!=null&&o in Object(l)}return rg=i,rg}var ng,E2;function eo(){if(E2)return ng;E2=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return ng=e,ng}var ag,D2;function h1(){if(D2)return ag;D2=1;var e=ui(),t=eo(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function l(u){if(!t(u))return!1;var d=e(u);return d==n||d==i||d==r||d==o}return ag=l,ag}var ig,R2;function yF(){if(R2)return ig;R2=1;var e=Oa(),t=e["__core-js_shared__"];return ig=t,ig}var og,I2;function xF(){if(I2)return og;I2=1;var e=yF(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return og=r,og}var sg,M2;function VT(){if(M2)return sg;M2=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return sg=r,sg}var lg,L2;function bF(){if(L2)return lg;L2=1;var e=h1(),t=xF(),r=eo(),n=VT(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,f=u.hasOwnProperty,h=RegExp("^"+d.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(v){if(!r(v)||t(v))return!1;var x=e(v)?h:o;return x.test(n(v))}return lg=m,lg}var cg,B2;function SF(){if(B2)return cg;B2=1;function e(t,r){return t?.[r]}return cg=e,cg}var ug,F2;function Yo(){if(F2)return ug;F2=1;var e=bF(),t=SF();function r(n,i){var o=t(n,i);return e(o)?o:void 0}return ug=r,ug}var dg,W2;function ah(){if(W2)return dg;W2=1;var e=Yo(),t=e(Object,"create");return dg=t,dg}var fg,$2;function wF(){if($2)return fg;$2=1;var e=ah();function t(){this.__data__=e?e(null):{},this.size=0}return fg=t,fg}var pg,U2;function jF(){if(U2)return pg;U2=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return pg=e,pg}var hg,H2;function kF(){if(H2)return hg;H2=1;var e=ah(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var l=this.__data__;if(e){var u=l[o];return u===t?void 0:u}return n.call(l,o)?l[o]:void 0}return hg=i,hg}var mg,K2;function CF(){if(K2)return mg;K2=1;var e=ah(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var o=this.__data__;return e?o[i]!==void 0:r.call(o,i)}return mg=n,mg}var vg,V2;function AF(){if(V2)return vg;V2=1;var e=ah(),t="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=e&&i===void 0?t:i,this}return vg=r,vg}var gg,G2;function zF(){if(G2)return gg;G2=1;var e=wF(),t=jF(),r=kF(),n=CF(),i=AF();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,gg=o,gg}var yg,q2;function NF(){if(q2)return yg;q2=1;function e(){this.__data__=[],this.size=0}return yg=e,yg}var xg,Z2;function m1(){if(Z2)return xg;Z2=1;function e(t,r){return t===r||t!==t&&r!==r}return xg=e,xg}var bg,X2;function ih(){if(X2)return bg;X2=1;var e=m1();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return bg=t,bg}var Sg,Y2;function PF(){if(Y2)return Sg;Y2=1;var e=ih(),t=Array.prototype,r=t.splice;function n(i){var o=this.__data__,l=e(o,i);if(l<0)return!1;var u=o.length-1;return l==u?o.pop():r.call(o,l,1),--this.size,!0}return Sg=n,Sg}var wg,Q2;function OF(){if(Q2)return wg;Q2=1;var e=ih();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return wg=t,wg}var jg,J2;function _F(){if(J2)return jg;J2=1;var e=ih();function t(r){return e(this.__data__,r)>-1}return jg=t,jg}var kg,eC;function TF(){if(eC)return kg;eC=1;var e=ih();function t(r,n){var i=this.__data__,o=e(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return kg=t,kg}var Cg,tC;function oh(){if(tC)return Cg;tC=1;var e=NF(),t=PF(),r=OF(),n=_F(),i=TF();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,Cg=o,Cg}var Ag,rC;function v1(){if(rC)return Ag;rC=1;var e=Yo(),t=Oa(),r=e(t,"Map");return Ag=r,Ag}var zg,nC;function EF(){if(nC)return zg;nC=1;var e=zF(),t=oh(),r=v1();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return zg=n,zg}var Ng,aC;function DF(){if(aC)return Ng;aC=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Ng=e,Ng}var Pg,iC;function sh(){if(iC)return Pg;iC=1;var e=DF();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Pg=t,Pg}var Og,oC;function RF(){if(oC)return Og;oC=1;var e=sh();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Og=t,Og}var _g,sC;function IF(){if(sC)return _g;sC=1;var e=sh();function t(r){return e(this,r).get(r)}return _g=t,_g}var Tg,lC;function MF(){if(lC)return Tg;lC=1;var e=sh();function t(r){return e(this,r).has(r)}return Tg=t,Tg}var Eg,cC;function LF(){if(cC)return Eg;cC=1;var e=sh();function t(r,n){var i=e(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return Eg=t,Eg}var Dg,uC;function g1(){if(uC)return Dg;uC=1;var e=EF(),t=RF(),r=IF(),n=MF(),i=LF();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,Dg=o,Dg}var Rg,dC;function GT(){if(dC)return Rg;dC=1;var e=g1(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var l=arguments,u=i?i.apply(this,l):l[0],d=o.cache;if(d.has(u))return d.get(u);var f=n.apply(this,l);return o.cache=d.set(u,f)||d,f};return o.cache=new(r.Cache||e),o}return r.Cache=e,Rg=r,Rg}var Ig,fC;function BF(){if(fC)return Ig;fC=1;var e=GT(),t=500;function r(n){var i=e(n,function(l){return o.size===t&&o.clear(),l}),o=i.cache;return i}return Ig=r,Ig}var Mg,pC;function FF(){if(pC)return Mg;pC=1;var e=BF(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(l,u,d,f){o.push(d?f.replace(r,"$1"):u||l)}),o});return Mg=n,Mg}var Lg,hC;function y1(){if(hC)return Lg;hC=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,o=Array(i);++n<i;)o[n]=r(t[n],n,t);return o}return Lg=e,Lg}var Bg,mC;function WF(){if(mC)return Bg;mC=1;var e=Ku(),t=y1(),r=hn(),n=Nl(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function l(u){if(typeof u=="string")return u;if(r(u))return t(u,l)+"";if(n(u))return o?o.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return Bg=l,Bg}var Fg,vC;function qT(){if(vC)return Fg;vC=1;var e=WF();function t(r){return r==null?"":e(r)}return Fg=t,Fg}var Wg,gC;function ZT(){if(gC)return Wg;gC=1;var e=hn(),t=p1(),r=FF(),n=qT();function i(o,l){return e(o)?o:t(o,l)?[o]:r(n(o))}return Wg=i,Wg}var $g,yC;function lh(){if(yC)return $g;yC=1;var e=Nl();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return $g=t,$g}var Ug,xC;function x1(){if(xC)return Ug;xC=1;var e=ZT(),t=lh();function r(n,i){i=e(i,n);for(var o=0,l=i.length;n!=null&&o<l;)n=n[t(i[o++])];return o&&o==l?n:void 0}return Ug=r,Ug}var Hg,bC;function XT(){if(bC)return Hg;bC=1;var e=x1();function t(r,n,i){var o=r==null?void 0:e(r,n);return o===void 0?i:o}return Hg=t,Hg}var $F=XT();const zn=jt($F);var Kg,SC;function UF(){if(SC)return Kg;SC=1;function e(t){return t==null}return Kg=e,Kg}var HF=UF();const Ve=jt(HF);var Vg,wC;function KF(){if(wC)return Vg;wC=1;var e=ui(),t=hn(),r=di(),n="[object String]";function i(o){return typeof o=="string"||!t(o)&&r(o)&&e(o)==n}return Vg=i,Vg}var VF=KF();const Wo=jt(VF);var GF=h1();const Ge=jt(GF);var qF=eo();const Pl=jt(qF);var Gg={exports:{}},St={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jC;function ZF(){if(jC)return St;jC=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function b(y){if(typeof y=="object"&&y!==null){var j=y.$$typeof;switch(j){case e:switch(y=y.type,y){case r:case i:case n:case f:case h:return y;default:switch(y=y&&y.$$typeof,y){case u:case l:case d:case v:case m:case o:return y;default:return j}}case t:return j}}}return St.ContextConsumer=l,St.ContextProvider=o,St.Element=e,St.ForwardRef=d,St.Fragment=r,St.Lazy=v,St.Memo=m,St.Portal=t,St.Profiler=i,St.StrictMode=n,St.Suspense=f,St.SuspenseList=h,St.isAsyncMode=function(){return!1},St.isConcurrentMode=function(){return!1},St.isContextConsumer=function(y){return b(y)===l},St.isContextProvider=function(y){return b(y)===o},St.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},St.isForwardRef=function(y){return b(y)===d},St.isFragment=function(y){return b(y)===r},St.isLazy=function(y){return b(y)===v},St.isMemo=function(y){return b(y)===m},St.isPortal=function(y){return b(y)===t},St.isProfiler=function(y){return b(y)===i},St.isStrictMode=function(y){return b(y)===n},St.isSuspense=function(y){return b(y)===f},St.isSuspenseList=function(y){return b(y)===h},St.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===i||y===n||y===f||y===h||y===x||typeof y=="object"&&y!==null&&(y.$$typeof===v||y.$$typeof===m||y.$$typeof===o||y.$$typeof===l||y.$$typeof===d||y.$$typeof===w||y.getModuleId!==void 0)},St.typeOf=b,St}var kC;function XF(){return kC||(kC=1,Gg.exports=ZF()),Gg.exports}var YF=XF(),qg,CC;function YT(){if(CC)return qg;CC=1;var e=ui(),t=di(),r="[object Number]";function n(i){return typeof i=="number"||t(i)&&e(i)==r}return qg=n,qg}var Zg,AC;function QF(){if(AC)return Zg;AC=1;var e=YT();function t(r){return e(r)&&r!=+r}return Zg=t,Zg}var JF=QF();const Ol=jt(JF);var eW=YT();const tW=jt(eW);var en=function(t){return t===0?0:t>0?1:-1},To=function(t){return Wo(t)&&t.indexOf("%")===t.length-1},we=function(t){return tW(t)&&!Ol(t)},rW=function(t){return Ve(t)},xr=function(t){return we(t)||Wo(t)},nW=0,to=function(t){var r=++nW;return"".concat(t||"").concat(r)},tn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!we(t)&&!Wo(t))return n;var o;if(To(t)){var l=t.indexOf("%");o=r*parseFloat(t.slice(0,l))/100}else o=+t;return Ol(o)&&(o=n),i&&o>r&&(o=r),o},Li=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},aW=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},er=function(t,r){return we(t)&&we(r)?function(n){return t+n*(r-t)}:function(){return r}};function Kf(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):zn(n,t))===r})}var iW=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,i=0,o=0,l=0,u=1/0,d=-1/0,f=0,h=0,m=0;m<r;m++)f=t[m].cx||0,h=t[m].cy||0,n+=f,i+=h,o+=f*h,l+=f*f,u=Math.min(u,f),d=Math.max(d,f);var v=r*l!==n*n?(r*o-n*i)/(r*l-n*n):0;return{xmin:u,xmax:d,a:v,b:(i-v*n)/r}},oW=function(t,r){return we(t)&&we(r)?t-r:Wo(t)&&Wo(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ks(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function y0(e){"@babel/helpers - typeof";return y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y0(e)}var sW=["viewBox","children"],lW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],zC=["points","pathLength"],Xg={svg:sW,polygon:zC,polyline:zC},b1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Vf=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(k.isValidElement(t)&&(n=t.props),!Pl(n))return null;var i={};return Object.keys(n).forEach(function(o){b1.includes(o)&&(i[o]=r||function(l){return n[o](n,l)})}),i},cW=function(t,r,n){return function(i){return t(r,n,i),null}},Gi=function(t,r,n){if(!Pl(t)||y0(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var l=t[o];b1.includes(o)&&typeof l=="function"&&(i||(i={}),i[o]=cW(l,r,n))}),i},uW=["children"],dW=["children"];function NC(e,t){if(e==null)return{};var r=fW(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function x0(e){"@babel/helpers - typeof";return x0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x0(e)}var PC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ti=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},OC=null,Yg=null,S1=function e(t){if(t===OC&&Array.isArray(Yg))return Yg;var r=[];return k.Children.forEach(t,function(n){Ve(n)||(YF.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Yg=r,OC=t,r};function nn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return ti(i)}):n=[ti(t)],S1(e).forEach(function(i){var o=zn(i,"type.displayName")||zn(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function kn(e,t){var r=nn(e,t);return r&&r[0]}var _C=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!we(n)||n<=0||!we(i)||i<=0)},pW=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],hW=function(t){return t&&t.type&&Wo(t.type)&&pW.indexOf(t.type)>=0},QT=function(t){return t&&x0(t)==="object"&&"clipDot"in t},mW=function(t,r,n,i){var o,l=(o=Xg?.[i])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Ge(t)&&(i&&l.includes(r)||lW.includes(r))||n&&b1.includes(r)},Fe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(k.isValidElement(t)&&(i=t.props),!Pl(i))return null;var o={};return Object.keys(i).forEach(function(l){var u;mW((u=i)===null||u===void 0?void 0:u[l],l,r,n)&&(o[l]=i[l])}),o},b0=function e(t,r){if(t===r)return!0;var n=k.Children.count(t);if(n!==k.Children.count(r))return!1;if(n===0)return!0;if(n===1)return TC(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=t[i],l=r[i];if(Array.isArray(o)||Array.isArray(l)){if(!e(o,l))return!1}else if(!TC(o,l))return!1}return!0},TC=function(t,r){if(Ve(t)&&Ve(r))return!0;if(!Ve(t)&&!Ve(r)){var n=t.props||{},i=n.children,o=NC(n,uW),l=r.props||{},u=l.children,d=NC(l,dW);return i&&u?Ks(o,d)&&b0(i,u):!i&&!u?Ks(o,d):!1}return!1},EC=function(t,r){var n=[],i={};return S1(t).forEach(function(o,l){if(hW(o))n.push(o);else if(o){var u=ti(o.type),d=r[u]||{},f=d.handler,h=d.once;if(f&&(!h||!i[u])){var m=f(o,u,l);n.push(m),i[u]=!0}}}),n},vW=function(t){var r=t&&t.type;return r&&PC[r]?PC[r]:null},gW=function(t,r){return S1(r).indexOf(t)},yW=["children","width","height","viewBox","className","style","title","desc"];function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S0.apply(this,arguments)}function xW(e,t){if(e==null)return{};var r=bW(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function w0(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,o=e.className,l=e.style,u=e.title,d=e.desc,f=xW(e,yW),h=i||{width:r,height:n,x:0,y:0},m=Ye("recharts-surface",o);return V.createElement("svg",S0({},Fe(f,!0,"svg"),{className:m,width:r,height:n,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),V.createElement("title",null,u),V.createElement("desc",null,d),t)}var SW=["children","className"];function j0(){return j0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j0.apply(this,arguments)}function wW(e,t){if(e==null)return{};var r=jW(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var et=V.forwardRef(function(e,t){var r=e.children,n=e.className,i=wW(e,SW),o=Ye("recharts-layer",n);return V.createElement("g",j0({className:o},Fe(i,!0),{ref:t}),r)}),ca=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]},Qg,DC;function kW(){if(DC)return Qg;DC=1;function e(t,r,n){var i=-1,o=t.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var l=Array(o);++i<o;)l[i]=t[i+r];return l}return Qg=e,Qg}var Jg,RC;function CW(){if(RC)return Jg;RC=1;var e=kW();function t(r,n,i){var o=r.length;return i=i===void 0?o:i,!n&&i>=o?r:e(r,n,i)}return Jg=t,Jg}var ey,IC;function JT(){if(IC)return ey;IC=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,o="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+i+o+"]");function d(f){return u.test(f)}return ey=d,ey}var ty,MC;function AW(){if(MC)return ty;MC=1;function e(t){return t.split("")}return ty=e,ty}var ry,LC;function zW(){if(LC)return ry;LC=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,o="\\ufe0e\\ufe0f",l="["+e+"]",u="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",h="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",w=f+"?",b="["+o+"]?",y="(?:"+x+"(?:"+[h,m,v].join("|")+")"+b+w+")*",j=b+w+y,A="(?:"+[h+u+"?",u,m,v,l].join("|")+")",S=RegExp(d+"(?="+d+")|"+A+j,"g");function N(z){return z.match(S)||[]}return ry=N,ry}var ny,BC;function NW(){if(BC)return ny;BC=1;var e=AW(),t=JT(),r=zW();function n(i){return t(i)?r(i):e(i)}return ny=n,ny}var ay,FC;function PW(){if(FC)return ay;FC=1;var e=CW(),t=JT(),r=NW(),n=qT();function i(o){return function(l){l=n(l);var u=t(l)?r(l):void 0,d=u?u[0]:l.charAt(0),f=u?e(u,1).join(""):l.slice(1);return d[o]()+f}}return ay=i,ay}var iy,WC;function OW(){if(WC)return iy;WC=1;var e=PW(),t=e("toUpperCase");return iy=t,iy}var _W=OW();const ch=jt(_W);function It(e){return function(){return e}}const eE=Math.cos,Gf=Math.sin,pa=Math.sqrt,qf=Math.PI,uh=2*qf,k0=Math.PI,C0=2*k0,No=1e-6,TW=C0-No;function tE(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function EW(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return tE;const r=10**t;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class DW{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?tE:EW(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,o,l){this._append`C${+t},${+r},${+n},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,r,n,i,o){if(t=+t,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,d=n-t,f=i-r,h=l-t,m=u-r,v=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>No)if(!(Math.abs(m*d-f*h)>No)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-l,w=i-u,b=d*d+f*f,y=x*x+w*w,j=Math.sqrt(b),A=Math.sqrt(v),S=o*Math.tan((k0-Math.acos((b+v-y)/(2*j*A)))/2),N=S/A,z=S/j;Math.abs(N-1)>No&&this._append`L${t+N*h},${r+N*m}`,this._append`A${o},${o},0,0,${+(m*x>h*w)},${this._x1=t+z*d},${this._y1=r+z*f}`}}arc(t,r,n,i,o,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),d=n*Math.sin(i),f=t+u,h=r+d,m=1^l,v=l?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>No||Math.abs(this._y1-h)>No)&&this._append`L${f},${h}`,n&&(v<0&&(v=v%C0+C0),v>TW?this._append`A${n},${n},0,1,${m},${t-u},${r-d}A${n},${n},0,1,${m},${this._x1=f},${this._y1=h}`:v>No&&this._append`A${n},${n},0,${+(v>=k0)},${m},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function w1(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new DW(t)}function j1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function rE(e){this._context=e}rE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function dh(e){return new rE(e)}function nE(e){return e[0]}function aE(e){return e[1]}function iE(e,t){var r=It(!0),n=null,i=dh,o=null,l=w1(u);e=typeof e=="function"?e:e===void 0?nE:It(e),t=typeof t=="function"?t:t===void 0?aE:It(t);function u(d){var f,h=(d=j1(d)).length,m,v=!1,x;for(n==null&&(o=i(x=l())),f=0;f<=h;++f)!(f<h&&r(m=d[f],f,d))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+e(m,f,d),+t(m,f,d));if(x)return o=null,x+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:It(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:It(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:It(!!d),u):r},u.curve=function(d){return arguments.length?(i=d,n!=null&&(o=i(n)),u):i},u.context=function(d){return arguments.length?(d==null?n=o=null:o=i(n=d),u):n},u}function hf(e,t,r){var n=null,i=It(!0),o=null,l=dh,u=null,d=w1(f);e=typeof e=="function"?e:e===void 0?nE:It(+e),t=typeof t=="function"?t:It(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?aE:It(+r);function f(m){var v,x,w,b=(m=j1(m)).length,y,j=!1,A,S=new Array(b),N=new Array(b);for(o==null&&(u=l(A=d())),v=0;v<=b;++v){if(!(v<b&&i(y=m[v],v,m))===j)if(j=!j)x=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=v-1;w>=x;--w)u.point(S[w],N[w]);u.lineEnd(),u.areaEnd()}j&&(S[v]=+e(y,v,m),N[v]=+t(y,v,m),u.point(n?+n(y,v,m):S[v],r?+r(y,v,m):N[v]))}if(A)return u=null,A+""||null}function h(){return iE().defined(i).curve(l).context(o)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:It(+m),n=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:It(+m),f):e},f.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:It(+m),f):n},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:It(+m),r=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:It(+m),f):t},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:It(+m),f):r},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(r)},f.lineX1=function(){return h().x(n).y(t)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:It(!!m),f):i},f.curve=function(m){return arguments.length?(l=m,o!=null&&(u=l(o)),f):l},f.context=function(m){return arguments.length?(m==null?o=u=null:u=l(o=m),f):o},f}class oE{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function RW(e){return new oE(e,!0)}function IW(e){return new oE(e,!1)}const k1={draw(e,t){const r=pa(t/qf);e.moveTo(r,0),e.arc(0,0,r,0,uh)}},MW={draw(e,t){const r=pa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},sE=pa(1/3),LW=sE*2,BW={draw(e,t){const r=pa(t/LW),n=r*sE;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},FW={draw(e,t){const r=pa(t),n=-r/2;e.rect(n,n,r,r)}},WW=.8908130915292852,lE=Gf(qf/10)/Gf(7*qf/10),$W=Gf(uh/10)*lE,UW=-eE(uh/10)*lE,HW={draw(e,t){const r=pa(t*WW),n=$W*r,i=UW*r;e.moveTo(0,-r),e.lineTo(n,i);for(let o=1;o<5;++o){const l=uh*o/5,u=eE(l),d=Gf(l);e.lineTo(d*r,-u*r),e.lineTo(u*n-d*i,d*n+u*i)}e.closePath()}},oy=pa(3),KW={draw(e,t){const r=-pa(t/(oy*3));e.moveTo(0,r*2),e.lineTo(-oy*r,-r),e.lineTo(oy*r,-r),e.closePath()}},Rn=-.5,In=pa(3)/2,A0=1/pa(12),VW=(A0/2+1)*3,GW={draw(e,t){const r=pa(t/VW),n=r/2,i=r*A0,o=n,l=r*A0+r,u=-o,d=l;e.moveTo(n,i),e.lineTo(o,l),e.lineTo(u,d),e.lineTo(Rn*n-In*i,In*n+Rn*i),e.lineTo(Rn*o-In*l,In*o+Rn*l),e.lineTo(Rn*u-In*d,In*u+Rn*d),e.lineTo(Rn*n+In*i,Rn*i-In*n),e.lineTo(Rn*o+In*l,Rn*l-In*o),e.lineTo(Rn*u+In*d,Rn*d-In*u),e.closePath()}};function qW(e,t){let r=null,n=w1(i);e=typeof e=="function"?e:It(e||k1),t=typeof t=="function"?t:It(t===void 0?64:+t);function i(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:It(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:It(+o),i):t},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function Zf(){}function Xf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function cE(e){this._context=e}cE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ZW(e){return new cE(e)}function uE(e){this._context=e}uE.prototype={areaStart:Zf,areaEnd:Zf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Xf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XW(e){return new uE(e)}function dE(e){this._context=e}dE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Xf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YW(e){return new dE(e)}function fE(e){this._context=e}fE.prototype={areaStart:Zf,areaEnd:Zf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function QW(e){return new fE(e)}function $C(e){return e<0?-1:1}function UC(e,t,r){var n=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(n||i<0&&-0),l=(r-e._y1)/(i||n<0&&-0),u=(o*i+l*n)/(n+i);return($C(o)+$C(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function HC(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function sy(e,t,r){var n=e._x0,i=e._y0,o=e._x1,l=e._y1,u=(o-n)/3;e._context.bezierCurveTo(n+u,i+u*t,o-u,l-u*r,o,l)}function Yf(e){this._context=e}Yf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:sy(this,this._t0,HC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,sy(this,HC(this,r=UC(this,e,t)),r);break;default:sy(this,this._t0,r=UC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function pE(e){this._context=new hE(e)}(pE.prototype=Object.create(Yf.prototype)).point=function(e,t){Yf.prototype.point.call(this,t,e)};function hE(e){this._context=e}hE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,o){this._context.bezierCurveTo(t,e,n,r,o,i)}};function JW(e){return new Yf(e)}function e6(e){return new pE(e)}function mE(e){this._context=e}mE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=KC(e),i=KC(t),o=0,l=1;l<r;++o,++l)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function KC(e){var t,r=e.length-1,n,i=new Array(r),o=new Array(r),l=new Array(r);for(i[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,l[t]-=n*l[t-1];for(i[r-1]=l[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(l[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function t6(e){return new mE(e)}function fh(e,t){this._context=e,this._t=t}fh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function r6(e){return new fh(e,.5)}function n6(e){return new fh(e,0)}function a6(e){return new fh(e,1)}function Ys(e,t){if((l=e.length)>1)for(var r=1,n,i,o=e[t[0]],l,u=o.length;r<l;++r)for(i=o,o=e[t[r]],n=0;n<u;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function z0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function i6(e,t){return e[t]}function o6(e){const t=[];return t.key=e,t}function s6(){var e=It([]),t=z0,r=Ys,n=i6;function i(o){var l=Array.from(e.apply(this,arguments),o6),u,d=l.length,f=-1,h;for(const m of o)for(u=0,++f;u<d;++u)(l[u][f]=[0,+n(m,l[u].key,f,o)]).data=m;for(u=0,h=j1(t(l));u<d;++u)l[h[u]].index=u;return r(l,h),l}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:It(Array.from(o)),i):e},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:It(+o),i):n},i.order=function(o){return arguments.length?(t=o==null?z0:typeof o=="function"?o:It(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(r=o??Ys,i):r},i}function l6(e,t){if((n=e.length)>0){for(var r,n,i=0,o=e[0].length,l;i<o;++i){for(l=r=0;r<n;++r)l+=e[r][i][1]||0;if(l)for(r=0;r<n;++r)e[r][i][1]/=l}Ys(e,t)}}function c6(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,o=n.length;r<o;++r){for(var l=0,u=0;l<i;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}Ys(e,t)}}function u6(e,t){if(!(!((l=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,o,l;n<o;++n){for(var u=0,d=0,f=0;u<l;++u){for(var h=e[t[u]],m=h[n][1]||0,v=h[n-1][1]||0,x=(m-v)/2,w=0;w<u;++w){var b=e[t[w]],y=b[n][1]||0,j=b[n-1][1]||0;x+=y-j}d+=m,f+=x*m}i[n-1][1]+=i[n-1][0]=r,d&&(r-=f/d)}i[n-1][1]+=i[n-1][0]=r,Ys(e,t)}}function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}var d6=["type","size","sizeType"];function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N0.apply(this,arguments)}function VC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(r),!0).forEach(function(n){f6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f6(e,t,r){return t=p6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p6(e){var t=h6(e,"string");return su(t)=="symbol"?t:t+""}function h6(e,t){if(su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m6(e,t){if(e==null)return{};var r=v6(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vE={symbolCircle:k1,symbolCross:MW,symbolDiamond:BW,symbolSquare:FW,symbolStar:HW,symbolTriangle:KW,symbolWye:GW},g6=Math.PI/180,y6=function(t){var r="symbol".concat(ch(t));return vE[r]||k1},x6=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*g6;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},b6=function(t,r){vE["symbol".concat(ch(t))]=r},ph=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,o=i===void 0?64:i,l=t.sizeType,u=l===void 0?"area":l,d=m6(t,d6),f=GC(GC({},d),{},{type:n,size:o,sizeType:u}),h=function(){var y=y6(n),j=qW().type(y).size(x6(o,u,n));return j()},m=f.className,v=f.cx,x=f.cy,w=Fe(f,!0);return v===+v&&x===+x&&o===+o?V.createElement("path",N0({},w,{className:Ye("recharts-symbols",m),transform:"translate(".concat(v,", ").concat(x,")"),d:h()})):null};ph.registerSymbol=b6;function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P0.apply(this,arguments)}function qC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function S6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qC(Object(r),!0).forEach(function(n){lu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yE(n.key),n)}}function k6(e,t,r){return t&&j6(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function C6(e,t,r){return t=Qf(t),A6(e,gE()?Reflect.construct(t,r||[],Qf(e).constructor):t.apply(e,r))}function A6(e,t){if(t&&(Qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z6(e)}function z6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gE=function(){return!!e})()}function Qf(e){return Qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qf(e)}function N6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O0(e,t)}function O0(e,t){return O0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},O0(e,t)}function lu(e,t,r){return t=yE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yE(e){var t=P6(e,"string");return Qs(t)=="symbol"?t:t+""}function P6(e,t){if(Qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mn=32,C1=(function(e){function t(){return w6(this,t),C6(this,t,arguments)}return N6(t,e),k6(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=Mn/2,l=Mn/6,u=Mn/3,d=n.inactive?i:n.color;if(n.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Mn,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(o,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(o,`
            H`).concat(Mn,"M").concat(2*u,",").concat(o,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return V.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Mn/8,"h").concat(Mn,"v").concat(Mn*3/4,"h").concat(-Mn,"z"),className:"recharts-legend-icon"});if(V.isValidElement(n.legendIcon)){var f=S6({},n);return delete f.legendIcon,V.cloneElement(n.legendIcon,f)}return V.createElement(ph,{fill:d,cx:o,cy:o,size:Mn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,l=i.iconSize,u=i.layout,d=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:Mn,height:Mn},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(x,w){var b=x.formatter||d,y=Ye(lu(lu({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",x.inactive));if(x.type==="none")return null;var j=Ge(x.value)?null:x.value;ca(!Ge(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=x.inactive?f:x.color;return V.createElement("li",P0({className:y,style:m,key:"legend-item-".concat(w)},Gi(n.props,x,w)),V.createElement(w0,{width:l,height:l,viewBox:h,style:v},n.renderIcon(x)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},b?b(j,x,w):j))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,l=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:o==="horizontal"?l:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(k.PureComponent);lu(C1,"displayName","Legend");lu(C1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ly,ZC;function O6(){if(ZC)return ly;ZC=1;var e=oh();function t(){this.__data__=new e,this.size=0}return ly=t,ly}var cy,XC;function _6(){if(XC)return cy;XC=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return cy=e,cy}var uy,YC;function T6(){if(YC)return uy;YC=1;function e(t){return this.__data__.get(t)}return uy=e,uy}var dy,QC;function E6(){if(QC)return dy;QC=1;function e(t){return this.__data__.has(t)}return dy=e,dy}var fy,JC;function D6(){if(JC)return fy;JC=1;var e=oh(),t=v1(),r=g1(),n=200;function i(o,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<n-1)return d.push([o,l]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(o,l),this.size=u.size,this}return fy=i,fy}var py,eA;function xE(){if(eA)return py;eA=1;var e=oh(),t=O6(),r=_6(),n=T6(),i=E6(),o=D6();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=t,l.prototype.delete=r,l.prototype.get=n,l.prototype.has=i,l.prototype.set=o,py=l,py}var hy,tA;function R6(){if(tA)return hy;tA=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return hy=t,hy}var my,rA;function I6(){if(rA)return my;rA=1;function e(t){return this.__data__.has(t)}return my=e,my}var vy,nA;function bE(){if(nA)return vy;nA=1;var e=g1(),t=R6(),r=I6();function n(i){var o=-1,l=i==null?0:i.length;for(this.__data__=new e;++o<l;)this.add(i[o])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,vy=n,vy}var gy,aA;function SE(){if(aA)return gy;aA=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return gy=e,gy}var yy,iA;function wE(){if(iA)return yy;iA=1;function e(t,r){return t.has(r)}return yy=e,yy}var xy,oA;function jE(){if(oA)return xy;oA=1;var e=bE(),t=SE(),r=wE(),n=1,i=2;function o(l,u,d,f,h,m){var v=d&n,x=l.length,w=u.length;if(x!=w&&!(v&&w>x))return!1;var b=m.get(l),y=m.get(u);if(b&&y)return b==u&&y==l;var j=-1,A=!0,S=d&i?new e:void 0;for(m.set(l,u),m.set(u,l);++j<x;){var N=l[j],z=u[j];if(f)var O=v?f(z,N,j,u,l,m):f(N,z,j,l,u,m);if(O!==void 0){if(O)continue;A=!1;break}if(S){if(!t(u,function(_,E){if(!r(S,E)&&(N===_||h(N,_,d,f,m)))return S.push(E)})){A=!1;break}}else if(!(N===z||h(N,z,d,f,m))){A=!1;break}}return m.delete(l),m.delete(u),A}return xy=o,xy}var by,sA;function M6(){if(sA)return by;sA=1;var e=Oa(),t=e.Uint8Array;return by=t,by}var Sy,lA;function L6(){if(lA)return Sy;lA=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,o){n[++r]=[o,i]}),n}return Sy=e,Sy}var wy,cA;function A1(){if(cA)return wy;cA=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return wy=e,wy}var jy,uA;function B6(){if(uA)return jy;uA=1;var e=Ku(),t=M6(),r=m1(),n=jE(),i=L6(),o=A1(),l=1,u=2,d="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Map]",v="[object Number]",x="[object RegExp]",w="[object Set]",b="[object String]",y="[object Symbol]",j="[object ArrayBuffer]",A="[object DataView]",S=e?e.prototype:void 0,N=S?S.valueOf:void 0;function z(O,_,E,T,B,R,F){switch(E){case A:if(O.byteLength!=_.byteLength||O.byteOffset!=_.byteOffset)return!1;O=O.buffer,_=_.buffer;case j:return!(O.byteLength!=_.byteLength||!R(new t(O),new t(_)));case d:case f:case v:return r(+O,+_);case h:return O.name==_.name&&O.message==_.message;case x:case b:return O==_+"";case m:var K=i;case w:var H=T&l;if(K||(K=o),O.size!=_.size&&!H)return!1;var M=F.get(O);if(M)return M==_;T|=u,F.set(O,_);var $=n(K(O),K(_),T,B,R,F);return F.delete(O),$;case y:if(N)return N.call(O)==N.call(_)}return!1}return jy=z,jy}var ky,dA;function kE(){if(dA)return ky;dA=1;function e(t,r){for(var n=-1,i=r.length,o=t.length;++n<i;)t[o+n]=r[n];return t}return ky=e,ky}var Cy,fA;function F6(){if(fA)return Cy;fA=1;var e=kE(),t=hn();function r(n,i,o){var l=i(n);return t(n)?l:e(l,o(n))}return Cy=r,Cy}var Ay,pA;function W6(){if(pA)return Ay;pA=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,o=0,l=[];++n<i;){var u=t[n];r(u,n,t)&&(l[o++]=u)}return l}return Ay=e,Ay}var zy,hA;function $6(){if(hA)return zy;hA=1;function e(){return[]}return zy=e,zy}var Ny,mA;function U6(){if(mA)return Ny;mA=1;var e=W6(),t=$6(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(l){return l==null?[]:(l=Object(l),e(i(l),function(u){return n.call(l,u)}))}:t;return Ny=o,Ny}var Py,vA;function H6(){if(vA)return Py;vA=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return Py=e,Py}var Oy,gA;function K6(){if(gA)return Oy;gA=1;var e=ui(),t=di(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return Oy=n,Oy}var _y,yA;function z1(){if(yA)return _y;yA=1;var e=K6(),t=di(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=e((function(){return arguments})())?e:function(l){return t(l)&&n.call(l,"callee")&&!i.call(l,"callee")};return _y=o,_y}var Hc={exports:{}},Ty,xA;function V6(){if(xA)return Ty;xA=1;function e(){return!1}return Ty=e,Ty}Hc.exports;var bA;function CE(){return bA||(bA=1,(function(e,t){var r=Oa(),n=V6(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,l=o&&o.exports===i,u=l?r.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||n;e.exports=f})(Hc,Hc.exports)),Hc.exports}var Ey,SA;function N1(){if(SA)return Ey;SA=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var o=typeof n;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return Ey=r,Ey}var Dy,wA;function P1(){if(wA)return Dy;wA=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Dy=t,Dy}var Ry,jA;function G6(){if(jA)return Ry;jA=1;var e=ui(),t=P1(),r=di(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",h="[object Number]",m="[object Object]",v="[object RegExp]",x="[object Set]",w="[object String]",b="[object WeakMap]",y="[object ArrayBuffer]",j="[object DataView]",A="[object Float32Array]",S="[object Float64Array]",N="[object Int8Array]",z="[object Int16Array]",O="[object Int32Array]",_="[object Uint8Array]",E="[object Uint8ClampedArray]",T="[object Uint16Array]",B="[object Uint32Array]",R={};R[A]=R[S]=R[N]=R[z]=R[O]=R[_]=R[E]=R[T]=R[B]=!0,R[n]=R[i]=R[y]=R[o]=R[j]=R[l]=R[u]=R[d]=R[f]=R[h]=R[m]=R[v]=R[x]=R[w]=R[b]=!1;function F(K){return r(K)&&t(K.length)&&!!R[e(K)]}return Ry=F,Ry}var Iy,kA;function AE(){if(kA)return Iy;kA=1;function e(t){return function(r){return t(r)}}return Iy=e,Iy}var Kc={exports:{}};Kc.exports;var CA;function q6(){return CA||(CA=1,(function(e,t){var r=KT(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,l=o&&r.process,u=(function(){try{var d=i&&i.require&&i.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(Kc,Kc.exports)),Kc.exports}var My,AA;function zE(){if(AA)return My;AA=1;var e=G6(),t=AE(),r=q6(),n=r&&r.isTypedArray,i=n?t(n):e;return My=i,My}var Ly,zA;function Z6(){if(zA)return Ly;zA=1;var e=H6(),t=z1(),r=hn(),n=CE(),i=N1(),o=zE(),l=Object.prototype,u=l.hasOwnProperty;function d(f,h){var m=r(f),v=!m&&t(f),x=!m&&!v&&n(f),w=!m&&!v&&!x&&o(f),b=m||v||x||w,y=b?e(f.length,String):[],j=y.length;for(var A in f)(h||u.call(f,A))&&!(b&&(A=="length"||x&&(A=="offset"||A=="parent")||w&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||i(A,j)))&&y.push(A);return y}return Ly=d,Ly}var By,NA;function X6(){if(NA)return By;NA=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return By=t,By}var Fy,PA;function NE(){if(PA)return Fy;PA=1;function e(t,r){return function(n){return t(r(n))}}return Fy=e,Fy}var Wy,OA;function Y6(){if(OA)return Wy;OA=1;var e=NE(),t=e(Object.keys,Object);return Wy=t,Wy}var $y,_A;function Q6(){if(_A)return $y;_A=1;var e=X6(),t=Y6(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!e(o))return t(o);var l=[];for(var u in Object(o))n.call(o,u)&&u!="constructor"&&l.push(u);return l}return $y=i,$y}var Uy,TA;function Vu(){if(TA)return Uy;TA=1;var e=h1(),t=P1();function r(n){return n!=null&&t(n.length)&&!e(n)}return Uy=r,Uy}var Hy,EA;function hh(){if(EA)return Hy;EA=1;var e=Z6(),t=Q6(),r=Vu();function n(i){return r(i)?e(i):t(i)}return Hy=n,Hy}var Ky,DA;function J6(){if(DA)return Ky;DA=1;var e=F6(),t=U6(),r=hh();function n(i){return e(i,r,t)}return Ky=n,Ky}var Vy,RA;function e$(){if(RA)return Vy;RA=1;var e=J6(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,l,u,d,f,h){var m=u&t,v=e(o),x=v.length,w=e(l),b=w.length;if(x!=b&&!m)return!1;for(var y=x;y--;){var j=v[y];if(!(m?j in l:n.call(l,j)))return!1}var A=h.get(o),S=h.get(l);if(A&&S)return A==l&&S==o;var N=!0;h.set(o,l),h.set(l,o);for(var z=m;++y<x;){j=v[y];var O=o[j],_=l[j];if(d)var E=m?d(_,O,j,l,o,h):d(O,_,j,o,l,h);if(!(E===void 0?O===_||f(O,_,u,d,h):E)){N=!1;break}z||(z=j=="constructor")}if(N&&!z){var T=o.constructor,B=l.constructor;T!=B&&"constructor"in o&&"constructor"in l&&!(typeof T=="function"&&T instanceof T&&typeof B=="function"&&B instanceof B)&&(N=!1)}return h.delete(o),h.delete(l),N}return Vy=i,Vy}var Gy,IA;function t$(){if(IA)return Gy;IA=1;var e=Yo(),t=Oa(),r=e(t,"DataView");return Gy=r,Gy}var qy,MA;function r$(){if(MA)return qy;MA=1;var e=Yo(),t=Oa(),r=e(t,"Promise");return qy=r,qy}var Zy,LA;function PE(){if(LA)return Zy;LA=1;var e=Yo(),t=Oa(),r=e(t,"Set");return Zy=r,Zy}var Xy,BA;function n$(){if(BA)return Xy;BA=1;var e=Yo(),t=Oa(),r=e(t,"WeakMap");return Xy=r,Xy}var Yy,FA;function a$(){if(FA)return Yy;FA=1;var e=t$(),t=v1(),r=r$(),n=PE(),i=n$(),o=ui(),l=VT(),u="[object Map]",d="[object Object]",f="[object Promise]",h="[object Set]",m="[object WeakMap]",v="[object DataView]",x=l(e),w=l(t),b=l(r),y=l(n),j=l(i),A=o;return(e&&A(new e(new ArrayBuffer(1)))!=v||t&&A(new t)!=u||r&&A(r.resolve())!=f||n&&A(new n)!=h||i&&A(new i)!=m)&&(A=function(S){var N=o(S),z=N==d?S.constructor:void 0,O=z?l(z):"";if(O)switch(O){case x:return v;case w:return u;case b:return f;case y:return h;case j:return m}return N}),Yy=A,Yy}var Qy,WA;function i$(){if(WA)return Qy;WA=1;var e=xE(),t=jE(),r=B6(),n=e$(),i=a$(),o=hn(),l=CE(),u=zE(),d=1,f="[object Arguments]",h="[object Array]",m="[object Object]",v=Object.prototype,x=v.hasOwnProperty;function w(b,y,j,A,S,N){var z=o(b),O=o(y),_=z?h:i(b),E=O?h:i(y);_=_==f?m:_,E=E==f?m:E;var T=_==m,B=E==m,R=_==E;if(R&&l(b)){if(!l(y))return!1;z=!0,T=!1}if(R&&!T)return N||(N=new e),z||u(b)?t(b,y,j,A,S,N):r(b,y,_,j,A,S,N);if(!(j&d)){var F=T&&x.call(b,"__wrapped__"),K=B&&x.call(y,"__wrapped__");if(F||K){var H=F?b.value():b,M=K?y.value():y;return N||(N=new e),S(H,M,j,A,N)}}return R?(N||(N=new e),n(b,y,j,A,S,N)):!1}return Qy=w,Qy}var Jy,$A;function O1(){if($A)return Jy;$A=1;var e=i$(),t=di();function r(n,i,o,l,u){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,o,l,r,u)}return Jy=r,Jy}var ex,UA;function o$(){if(UA)return ex;UA=1;var e=xE(),t=O1(),r=1,n=2;function i(o,l,u,d){var f=u.length,h=f,m=!d;if(o==null)return!h;for(o=Object(o);f--;){var v=u[f];if(m&&v[2]?v[1]!==o[v[0]]:!(v[0]in o))return!1}for(;++f<h;){v=u[f];var x=v[0],w=o[x],b=v[1];if(m&&v[2]){if(w===void 0&&!(x in o))return!1}else{var y=new e;if(d)var j=d(w,b,x,o,l,y);if(!(j===void 0?t(b,w,r|n,d,y):j))return!1}}return!0}return ex=i,ex}var tx,HA;function OE(){if(HA)return tx;HA=1;var e=eo();function t(r){return r===r&&!e(r)}return tx=t,tx}var rx,KA;function s$(){if(KA)return rx;KA=1;var e=OE(),t=hh();function r(n){for(var i=t(n),o=i.length;o--;){var l=i[o],u=n[l];i[o]=[l,u,e(u)]}return i}return rx=r,rx}var nx,VA;function _E(){if(VA)return nx;VA=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return nx=e,nx}var ax,GA;function l$(){if(GA)return ax;GA=1;var e=o$(),t=s$(),r=_E();function n(i){var o=t(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(l){return l===i||e(l,i,o)}}return ax=n,ax}var ix,qA;function c$(){if(qA)return ix;qA=1;function e(t,r){return t!=null&&r in Object(t)}return ix=e,ix}var ox,ZA;function u$(){if(ZA)return ox;ZA=1;var e=ZT(),t=z1(),r=hn(),n=N1(),i=P1(),o=lh();function l(u,d,f){d=e(d,u);for(var h=-1,m=d.length,v=!1;++h<m;){var x=o(d[h]);if(!(v=u!=null&&f(u,x)))break;u=u[x]}return v||++h!=m?v:(m=u==null?0:u.length,!!m&&i(m)&&n(x,m)&&(r(u)||t(u)))}return ox=l,ox}var sx,XA;function d$(){if(XA)return sx;XA=1;var e=c$(),t=u$();function r(n,i){return n!=null&&t(n,i,e)}return sx=r,sx}var lx,YA;function f$(){if(YA)return lx;YA=1;var e=O1(),t=XT(),r=d$(),n=p1(),i=OE(),o=_E(),l=lh(),u=1,d=2;function f(h,m){return n(h)&&i(m)?o(l(h),m):function(v){var x=t(v,h);return x===void 0&&x===m?r(v,h):e(m,x,u|d)}}return lx=f,lx}var cx,QA;function _l(){if(QA)return cx;QA=1;function e(t){return t}return cx=e,cx}var ux,JA;function p$(){if(JA)return ux;JA=1;function e(t){return function(r){return r?.[t]}}return ux=e,ux}var dx,ez;function h$(){if(ez)return dx;ez=1;var e=x1();function t(r){return function(n){return e(n,r)}}return dx=t,dx}var fx,tz;function m$(){if(tz)return fx;tz=1;var e=p$(),t=h$(),r=p1(),n=lh();function i(o){return r(o)?e(n(o)):t(o)}return fx=i,fx}var px,rz;function _a(){if(rz)return px;rz=1;var e=l$(),t=f$(),r=_l(),n=hn(),i=m$();function o(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?n(l)?t(l[0],l[1]):e(l):i(l)}return px=o,px}var hx,nz;function TE(){if(nz)return hx;nz=1;function e(t,r,n,i){for(var o=t.length,l=n+(i?1:-1);i?l--:++l<o;)if(r(t[l],l,t))return l;return-1}return hx=e,hx}var mx,az;function v$(){if(az)return mx;az=1;function e(t){return t!==t}return mx=e,mx}var vx,iz;function g$(){if(iz)return vx;iz=1;function e(t,r,n){for(var i=n-1,o=t.length;++i<o;)if(t[i]===r)return i;return-1}return vx=e,vx}var gx,oz;function y$(){if(oz)return gx;oz=1;var e=TE(),t=v$(),r=g$();function n(i,o,l){return o===o?r(i,o,l):e(i,t,l)}return gx=n,gx}var yx,sz;function x$(){if(sz)return yx;sz=1;var e=y$();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return yx=t,yx}var xx,lz;function b$(){if(lz)return xx;lz=1;function e(t,r,n){for(var i=-1,o=t==null?0:t.length;++i<o;)if(n(r,t[i]))return!0;return!1}return xx=e,xx}var bx,cz;function S$(){if(cz)return bx;cz=1;function e(){}return bx=e,bx}var Sx,uz;function w$(){if(uz)return Sx;uz=1;var e=PE(),t=S$(),r=A1(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(o){return new e(o)}:t;return Sx=i,Sx}var wx,dz;function j$(){if(dz)return wx;dz=1;var e=bE(),t=x$(),r=b$(),n=wE(),i=w$(),o=A1(),l=200;function u(d,f,h){var m=-1,v=t,x=d.length,w=!0,b=[],y=b;if(h)w=!1,v=r;else if(x>=l){var j=f?null:i(d);if(j)return o(j);w=!1,v=n,y=new e}else y=f?[]:b;e:for(;++m<x;){var A=d[m],S=f?f(A):A;if(A=h||A!==0?A:0,w&&S===S){for(var N=y.length;N--;)if(y[N]===S)continue e;f&&y.push(S),b.push(A)}else v(y,S,h)||(y!==b&&y.push(S),b.push(A))}return b}return wx=u,wx}var jx,fz;function k$(){if(fz)return jx;fz=1;var e=_a(),t=j$();function r(n,i){return n&&n.length?t(n,e(i,2)):[]}return jx=r,jx}var C$=k$();const pz=jt(C$);function EE(e,t,r){return t===!0?pz(e,r):Ge(t)?pz(e,t):e}function Js(e){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(e)}var A$=["ref"];function hz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hz(Object(r),!0).forEach(function(n){mh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RE(n.key),n)}}function N$(e,t,r){return t&&mz(e.prototype,t),r&&mz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function P$(e,t,r){return t=Jf(t),O$(e,DE()?Reflect.construct(t,r||[],Jf(e).constructor):t.apply(e,r))}function O$(e,t){if(t&&(Js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _$(e)}function _$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DE=function(){return!!e})()}function Jf(e){return Jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jf(e)}function T$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_0(e,t)}function _0(e,t){return _0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_0(e,t)}function mh(e,t,r){return t=RE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RE(e){var t=E$(e,"string");return Js(t)=="symbol"?t:t+""}function E$(e,t){if(Js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function D$(e,t){if(e==null)return{};var r=R$(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function R$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function I$(e){return e.value}function M$(e,t){if(V.isValidElement(e))return V.cloneElement(e,t);if(typeof e=="function")return V.createElement(e,t);t.ref;var r=D$(t,A$);return V.createElement(C1,r)}var vz=1,Lt=(function(e){function t(){var r;z$(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=P$(this,t,[].concat(i)),mh(r,"lastBoundingBox",{width:-1,height:-1}),r}return T$(t,e),N$(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>vz||Math.abs(i.height-this.lastBoundingBox.height)>vz)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ka({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,l=i.align,u=i.verticalAlign,d=i.margin,f=i.chartWidth,h=i.chartHeight,m,v;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(l==="center"&&o==="vertical"){var x=this.getBBoxSnapshot();m={left:((f||0)-x.width)/2}}else m=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var w=this.getBBoxSnapshot();v={top:((h||0)-w.height)/2}}else v=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Ka(Ka({},m),v)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,l=i.width,u=i.height,d=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,m=Ka(Ka({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return V.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(x){n.wrapperNode=x}},M$(o,Ka(Ka({},this.props),{},{payload:EE(h,f,I$)})))}}],[{key:"getWithHeight",value:function(n,i){var o=Ka(Ka({},this.defaultProps),n.props),l=o.layout;return l==="vertical"&&we(n.props.height)?{height:n.props.height}:l==="horizontal"?{width:n.props.width||i}:null}}])})(k.PureComponent);mh(Lt,"displayName","Legend");mh(Lt,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var kx,gz;function L$(){if(gz)return kx;gz=1;var e=Ku(),t=z1(),r=hn(),n=e?e.isConcatSpreadable:void 0;function i(o){return r(o)||t(o)||!!(n&&o&&o[n])}return kx=i,kx}var Cx,yz;function IE(){if(yz)return Cx;yz=1;var e=kE(),t=L$();function r(n,i,o,l,u){var d=-1,f=n.length;for(o||(o=t),u||(u=[]);++d<f;){var h=n[d];i>0&&o(h)?i>1?r(h,i-1,o,l,u):e(u,h):l||(u[u.length]=h)}return u}return Cx=r,Cx}var Ax,xz;function B$(){if(xz)return Ax;xz=1;function e(t){return function(r,n,i){for(var o=-1,l=Object(r),u=i(r),d=u.length;d--;){var f=u[t?d:++o];if(n(l[f],f,l)===!1)break}return r}}return Ax=e,Ax}var zx,bz;function F$(){if(bz)return zx;bz=1;var e=B$(),t=e();return zx=t,zx}var Nx,Sz;function ME(){if(Sz)return Nx;Sz=1;var e=F$(),t=hh();function r(n,i){return n&&e(n,i,t)}return Nx=r,Nx}var Px,wz;function W$(){if(wz)return Px;wz=1;var e=Vu();function t(r,n){return function(i,o){if(i==null)return i;if(!e(i))return r(i,o);for(var l=i.length,u=n?l:-1,d=Object(i);(n?u--:++u<l)&&o(d[u],u,d)!==!1;);return i}}return Px=t,Px}var Ox,jz;function _1(){if(jz)return Ox;jz=1;var e=ME(),t=W$(),r=t(e);return Ox=r,Ox}var _x,kz;function LE(){if(kz)return _x;kz=1;var e=_1(),t=Vu();function r(n,i){var o=-1,l=t(n)?Array(n.length):[];return e(n,function(u,d,f){l[++o]=i(u,d,f)}),l}return _x=r,_x}var Tx,Cz;function $$(){if(Cz)return Tx;Cz=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return Tx=e,Tx}var Ex,Az;function U$(){if(Az)return Ex;Az=1;var e=Nl();function t(r,n){if(r!==n){var i=r!==void 0,o=r===null,l=r===r,u=e(r),d=n!==void 0,f=n===null,h=n===n,m=e(n);if(!f&&!m&&!u&&r>n||u&&d&&h&&!f&&!m||o&&d&&h||!i&&h||!l)return 1;if(!o&&!u&&!m&&r<n||m&&i&&l&&!o&&!u||f&&i&&l||!d&&l||!h)return-1}return 0}return Ex=t,Ex}var Dx,zz;function H$(){if(zz)return Dx;zz=1;var e=U$();function t(r,n,i){for(var o=-1,l=r.criteria,u=n.criteria,d=l.length,f=i.length;++o<d;){var h=e(l[o],u[o]);if(h){if(o>=f)return h;var m=i[o];return h*(m=="desc"?-1:1)}}return r.index-n.index}return Dx=t,Dx}var Rx,Nz;function K$(){if(Nz)return Rx;Nz=1;var e=y1(),t=x1(),r=_a(),n=LE(),i=$$(),o=AE(),l=H$(),u=_l(),d=hn();function f(h,m,v){m.length?m=e(m,function(b){return d(b)?function(y){return t(y,b.length===1?b[0]:b)}:b}):m=[u];var x=-1;m=e(m,o(r));var w=n(h,function(b,y,j){var A=e(m,function(S){return S(b)});return{criteria:A,index:++x,value:b}});return i(w,function(b,y){return l(b,y,v)})}return Rx=f,Rx}var Ix,Pz;function V$(){if(Pz)return Ix;Pz=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return Ix=e,Ix}var Mx,Oz;function G$(){if(Oz)return Mx;Oz=1;var e=V$(),t=Math.max;function r(n,i,o){return i=t(i===void 0?n.length-1:i,0),function(){for(var l=arguments,u=-1,d=t(l.length-i,0),f=Array(d);++u<d;)f[u]=l[i+u];u=-1;for(var h=Array(i+1);++u<i;)h[u]=l[u];return h[i]=o(f),e(n,this,h)}}return Mx=r,Mx}var Lx,_z;function q$(){if(_z)return Lx;_z=1;function e(t){return function(){return t}}return Lx=e,Lx}var Bx,Tz;function BE(){if(Tz)return Bx;Tz=1;var e=Yo(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Bx=t,Bx}var Fx,Ez;function Z$(){if(Ez)return Fx;Ez=1;var e=q$(),t=BE(),r=_l(),n=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:r;return Fx=n,Fx}var Wx,Dz;function X$(){if(Dz)return Wx;Dz=1;var e=800,t=16,r=Date.now;function n(i){var o=0,l=0;return function(){var u=r(),d=t-(u-l);if(l=u,d>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Wx=n,Wx}var $x,Rz;function Y$(){if(Rz)return $x;Rz=1;var e=Z$(),t=X$(),r=t(e);return $x=r,$x}var Ux,Iz;function Q$(){if(Iz)return Ux;Iz=1;var e=_l(),t=G$(),r=Y$();function n(i,o){return r(t(i,o,e),i+"")}return Ux=n,Ux}var Hx,Mz;function vh(){if(Mz)return Hx;Mz=1;var e=m1(),t=Vu(),r=N1(),n=eo();function i(o,l,u){if(!n(u))return!1;var d=typeof l;return(d=="number"?t(u)&&r(l,u.length):d=="string"&&l in u)?e(u[l],o):!1}return Hx=i,Hx}var Kx,Lz;function J$(){if(Lz)return Kx;Lz=1;var e=IE(),t=K$(),r=Q$(),n=vh(),i=r(function(o,l){if(o==null)return[];var u=l.length;return u>1&&n(o,l[0],l[1])?l=[]:u>2&&n(l[0],l[1],l[2])&&(l=[l[0]]),t(o,e(l,1),[])});return Kx=i,Kx}var e8=J$();const T1=jt(e8);function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T0.apply(this,arguments)}function t8(e,t){return i8(e)||a8(e,t)||n8(e,t)||r8()}function r8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n8(e,t){if(e){if(typeof e=="string")return Bz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bz(e,t)}}function Bz(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){f=!0,i=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function i8(e){if(Array.isArray(e))return e}function Fz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fz(Object(r),!0).forEach(function(n){o8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o8(e,t,r){return t=s8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s8(e){var t=l8(e,"string");return cu(t)=="symbol"?t:t+""}function l8(e,t){if(cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c8(e){return Array.isArray(e)&&xr(e[0])&&xr(e[1])?e.join(" ~ "):e}var u8=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,o=i===void 0?{}:i,l=t.itemStyle,u=l===void 0?{}:l,d=t.labelStyle,f=d===void 0?{}:d,h=t.payload,m=t.formatter,v=t.itemSorter,x=t.wrapperClassName,w=t.labelClassName,b=t.label,y=t.labelFormatter,j=t.accessibilityLayer,A=j===void 0?!1:j,S=function(){if(h&&h.length){var F={padding:0,margin:0},K=(v?T1(h,v):h).map(function(H,M){if(H.type==="none")return null;var $=Vx({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},u),U=H.formatter||m||c8,I=H.value,Q=H.name,L=I,W=Q;if(U&&L!=null&&W!=null){var X=U(I,Q,H,M,h);if(Array.isArray(X)){var se=t8(X,2);L=se[0],W=se[1]}else L=X}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:$},xr(W)?V.createElement("span",{className:"recharts-tooltip-item-name"},W):null,xr(W)?V.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,V.createElement("span",{className:"recharts-tooltip-item-value"},L),V.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:F},K)}return null},N=Vx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),z=Vx({margin:0},f),O=!Ve(b),_=O?b:"",E=Ye("recharts-default-tooltip",x),T=Ye("recharts-tooltip-label",w);O&&y&&h!==void 0&&h!==null&&(_=y(b,h));var B=A?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",T0({className:E,style:N},B),V.createElement("p",{className:T,style:z},V.isValidElement(_)?_:"".concat(_)),S())};function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}function mf(e,t,r){return t=d8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d8(e){var t=f8(e,"string");return uu(t)=="symbol"?t:t+""}function f8(e,t){if(uu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zc="recharts-tooltip-wrapper",p8={visibility:"hidden"};function h8(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ye(zc,mf(mf(mf(mf({},"".concat(zc,"-right"),we(r)&&t&&we(t.x)&&r>=t.x),"".concat(zc,"-left"),we(r)&&t&&we(t.x)&&r<t.x),"".concat(zc,"-bottom"),we(n)&&t&&we(t.y)&&n>=t.y),"".concat(zc,"-top"),we(n)&&t&&we(t.y)&&n<t.y))}function Wz(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,o=e.position,l=e.reverseDirection,u=e.tooltipDimension,d=e.viewBox,f=e.viewBoxDimension;if(o&&we(o[n]))return o[n];var h=r[n]-u-i,m=r[n]+i;if(t[n])return l[n]?h:m;if(l[n]){var v=h,x=d[n];return v<x?Math.max(m,d[n]):Math.max(h,d[n])}var w=m+u,b=d[n]+f;return w>b?Math.max(h,d[n]):Math.max(m,d[n])}function m8(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function v8(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,d=e.viewBox,f,h,m;return l.height>0&&l.width>0&&r?(h=Wz({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=Wz({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=m8({translateX:h,translateY:m,useTranslate3d:u})):f=p8,{cssProperties:f,cssClasses:h8({translateX:h,translateY:m,coordinate:r})}}function el(e){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},el(e)}function $z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$z(Object(r),!0).forEach(function(n){D0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$z(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WE(n.key),n)}}function x8(e,t,r){return t&&y8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function b8(e,t,r){return t=ep(t),S8(e,FE()?Reflect.construct(t,r||[],ep(e).constructor):t.apply(e,r))}function S8(e,t){if(t&&(el(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w8(e)}function w8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FE=function(){return!!e})()}function ep(e){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ep(e)}function j8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E0(e,t)}function E0(e,t){return E0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},E0(e,t)}function D0(e,t,r){return t=WE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WE(e){var t=k8(e,"string");return el(t)=="symbol"?t:t+""}function k8(e,t){if(el(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(el(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Hz=1,C8=(function(e){function t(){var r;g8(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=b8(this,t,[].concat(i)),D0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),D0(r,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,f,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),r}return j8(t,e),x8(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Hz||Math.abs(n.height-this.state.lastBoundingBox.height)>Hz)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.children,h=i.coordinate,m=i.hasPayload,v=i.isAnimationActive,x=i.offset,w=i.position,b=i.reverseDirection,y=i.useTranslate3d,j=i.viewBox,A=i.wrapperStyle,S=v8({allowEscapeViewBox:l,coordinate:h,offsetTopLeft:x,position:w,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:j}),N=S.cssClasses,z=S.cssProperties,O=Uz(Uz({transition:v&&o?"transform ".concat(u,"ms ").concat(d):void 0},z),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&m?"visible":"hidden",position:"absolute",top:0,left:0},A);return V.createElement("div",{tabIndex:-1,className:N,style:O,ref:function(E){n.wrapperNode=E}},f)}}])})(k.PureComponent),A8=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},fi={isSsr:A8()};function tl(e){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(e)}function Kz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kz(Object(r),!0).forEach(function(n){E1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UE(n.key),n)}}function P8(e,t,r){return t&&N8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function O8(e,t,r){return t=tp(t),_8(e,$E()?Reflect.construct(t,r||[],tp(e).constructor):t.apply(e,r))}function _8(e,t){if(t&&(tl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T8(e)}function T8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($E=function(){return!!e})()}function tp(e){return tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tp(e)}function E8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R0(e,t)}function R0(e,t){return R0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},R0(e,t)}function E1(e,t,r){return t=UE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UE(e){var t=D8(e,"string");return tl(t)=="symbol"?t:t+""}function D8(e,t){if(tl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function R8(e){return e.dataKey}function I8(e,t){return V.isValidElement(e)?V.cloneElement(e,t):typeof e=="function"?V.createElement(e,t):V.createElement(u8,t)}var gt=(function(e){function t(){return z8(this,t),O8(this,t,arguments)}return E8(t,e),P8(t,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.content,h=i.coordinate,m=i.filterNull,v=i.isAnimationActive,x=i.offset,w=i.payload,b=i.payloadUniqBy,y=i.position,j=i.reverseDirection,A=i.useTranslate3d,S=i.viewBox,N=i.wrapperStyle,z=w??[];m&&z.length&&(z=EE(w.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),b,R8));var O=z.length>0;return V.createElement(C8,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:v,active:o,coordinate:h,hasPayload:O,offset:x,position:y,reverseDirection:j,useTranslate3d:A,viewBox:S,wrapperStyle:N},I8(f,Vz(Vz({},this.props),{},{payload:z})))}}])})(k.PureComponent);E1(gt,"displayName","Tooltip");E1(gt,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!fi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Gx,Gz;function M8(){if(Gz)return Gx;Gz=1;var e=Oa(),t=function(){return e.Date.now()};return Gx=t,Gx}var qx,qz;function L8(){if(qz)return qx;qz=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return qx=t,qx}var Zx,Zz;function B8(){if(Zz)return Zx;Zz=1;var e=L8(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return Zx=r,Zx}var Xx,Xz;function HE(){if(Xz)return Xx;Xz=1;var e=B8(),t=eo(),r=Nl(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(t(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=t(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=e(f);var m=o.test(f);return m||l.test(f)?u(f.slice(2),m?2:8):i.test(f)?n:+f}return Xx=d,Xx}var Yx,Yz;function F8(){if(Yz)return Yx;Yz=1;var e=eo(),t=M8(),r=HE(),n="Expected a function",i=Math.max,o=Math.min;function l(u,d,f){var h,m,v,x,w,b,y=0,j=!1,A=!1,S=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,e(f)&&(j=!!f.leading,A="maxWait"in f,v=A?i(r(f.maxWait)||0,d):v,S="trailing"in f?!!f.trailing:S);function N(K){var H=h,M=m;return h=m=void 0,y=K,x=u.apply(M,H),x}function z(K){return y=K,w=setTimeout(E,d),j?N(K):x}function O(K){var H=K-b,M=K-y,$=d-H;return A?o($,v-M):$}function _(K){var H=K-b,M=K-y;return b===void 0||H>=d||H<0||A&&M>=v}function E(){var K=t();if(_(K))return T(K);w=setTimeout(E,O(K))}function T(K){return w=void 0,S&&h?N(K):(h=m=void 0,x)}function B(){w!==void 0&&clearTimeout(w),y=0,h=b=m=w=void 0}function R(){return w===void 0?x:T(t())}function F(){var K=t(),H=_(K);if(h=arguments,m=this,b=K,H){if(w===void 0)return z(b);if(A)return clearTimeout(w),w=setTimeout(E,d),N(b)}return w===void 0&&(w=setTimeout(E,d)),x}return F.cancel=B,F.flush=R,F}return Yx=l,Yx}var Qx,Qz;function W8(){if(Qz)return Qx;Qz=1;var e=F8(),t=eo(),r="Expected a function";function n(i,o,l){var u=!0,d=!0;if(typeof i!="function")throw new TypeError(r);return t(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),e(i,o,{leading:u,maxWait:o,trailing:d})}return Qx=n,Qx}var $8=W8();const KE=jt($8);function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function Jz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jz(Object(r),!0).forEach(function(n){U8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U8(e,t,r){return t=H8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H8(e){var t=K8(e,"string");return du(t)=="symbol"?t:t+""}function K8(e,t){if(du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V8(e,t){return X8(e)||Z8(e,t)||q8(e,t)||G8()}function G8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q8(e,t){if(e){if(typeof e=="string")return eN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eN(e,t)}}function eN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){f=!0,i=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function X8(e){if(Array.isArray(e))return e}var lr=k.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=e.width,l=o===void 0?"100%":o,u=e.height,d=u===void 0?"100%":u,f=e.minWidth,h=f===void 0?0:f,m=e.minHeight,v=e.maxHeight,x=e.children,w=e.debounce,b=w===void 0?0:w,y=e.id,j=e.className,A=e.onResize,S=e.style,N=S===void 0?{}:S,z=k.useRef(null),O=k.useRef();O.current=A,k.useImperativeHandle(t,function(){return Object.defineProperty(z.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),z.current},configurable:!0})});var _=k.useState({containerWidth:i.width,containerHeight:i.height}),E=V8(_,2),T=E[0],B=E[1],R=k.useCallback(function(K,H){B(function(M){var $=Math.round(K),U=Math.round(H);return M.containerWidth===$&&M.containerHeight===U?M:{containerWidth:$,containerHeight:U}})},[]);k.useEffect(function(){var K=function(Q){var L,W=Q[0].contentRect,X=W.width,se=W.height;R(X,se),(L=O.current)===null||L===void 0||L.call(O,X,se)};b>0&&(K=KE(K,b,{trailing:!0,leading:!1}));var H=new ResizeObserver(K),M=z.current.getBoundingClientRect(),$=M.width,U=M.height;return R($,U),H.observe(z.current),function(){H.disconnect()}},[R,b]);var F=k.useMemo(function(){var K=T.containerWidth,H=T.containerHeight;if(K<0||H<0)return null;ca(To(l)||To(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),ca(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=To(l)?K:l,$=To(d)?H:d;r&&r>0&&(M?$=M/r:$&&(M=$*r),v&&$>v&&($=v)),ca(M>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,$,l,d,h,m,r);var U=!Array.isArray(x)&&ti(x.type).endsWith("Chart");return V.Children.map(x,function(I){return V.isValidElement(I)?k.cloneElement(I,vf({width:M,height:$},U?{style:vf({height:"100%",width:"100%",maxHeight:$,maxWidth:M},I.props.style)}:{})):I})},[r,x,d,v,m,h,T,l]);return V.createElement("div",{id:y?"".concat(y):void 0,className:Ye("recharts-responsive-container",j),style:vf(vf({},N),{},{width:l,height:d,minWidth:h,minHeight:m,maxHeight:v}),ref:z},F)}),Tl=function(t){return null};Tl.displayName="Cell";function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function I0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(r),!0).forEach(function(n){Y8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y8(e,t,r){return t=Q8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q8(e){var t=J8(e,"string");return fu(t)=="symbol"?t:t+""}function J8(e,t){if(fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var As={widthCache:{},cacheCount:0},eU=2e3,tU={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rN="recharts_measurement_span";function rU(e){var t=I0({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Zc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||fi.isSsr)return{width:0,height:0};var n=rU(r),i=JSON.stringify({text:t,copyStyle:n});if(As.widthCache[i])return As.widthCache[i];try{var o=document.getElementById(rN);o||(o=document.createElement("span"),o.setAttribute("id",rN),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var l=I0(I0({},tU),n);Object.assign(o.style,l),o.textContent="".concat(t);var u=o.getBoundingClientRect(),d={width:u.width,height:u.height};return As.widthCache[i]=d,++As.cacheCount>eU&&(As.cacheCount=0,As.widthCache={}),d}catch{return{width:0,height:0}}},nU=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function rp(e,t){return sU(e)||oU(e,t)||iU(e,t)||aU()}function aU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iU(e,t){if(e){if(typeof e=="string")return nN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nN(e,t)}}function nN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){f=!0,i=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function sU(e){if(Array.isArray(e))return e}function lU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uU(n.key),n)}}function cU(e,t,r){return t&&aN(e.prototype,t),r&&aN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uU(e){var t=dU(e,"string");return pu(t)=="symbol"?t:t+""}function dU(e,t){if(pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var iN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fU=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,pU=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VE={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},hU=Object.keys(VE),Fs="NaN";function mU(e,t){return e*VE[t]}var gf=(function(){function e(t,r){lU(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!fU.test(r)&&(this.num=NaN,this.unit=""),hU.includes(r)&&(this.num=mU(t,r),this.unit="px")}return cU(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=pU.exec(r))!==null&&n!==void 0?n:[],o=rp(i,3),l=o[1],u=o[2];return new e(parseFloat(l),u??"")}}])})();function GE(e){if(e.includes(Fs))return Fs;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=iN.exec(t))!==null&&r!==void 0?r:[],i=rp(n,4),o=i[1],l=i[2],u=i[3],d=gf.parse(o??""),f=gf.parse(u??""),h=l==="*"?d.multiply(f):d.divide(f);if(h.isNaN())return Fs;t=t.replace(iN,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,v=(m=oN.exec(t))!==null&&m!==void 0?m:[],x=rp(v,4),w=x[1],b=x[2],y=x[3],j=gf.parse(w??""),A=gf.parse(y??""),S=b==="+"?j.add(A):j.subtract(A);if(S.isNaN())return Fs;t=t.replace(oN,S.toString())}return t}var sN=/\(([^()]*)\)/;function vU(e){for(var t=e;t.includes("(");){var r=sN.exec(t),n=rp(r,2),i=n[1];t=t.replace(sN,GE(i))}return t}function gU(e){var t=e.replace(/\s+/g,"");return t=vU(t),t=GE(t),t}function yU(e){try{return gU(e)}catch{return Fs}}function Jx(e){var t=yU(e.slice(5,-1));return t===Fs?"":t}var xU=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],bU=["dx","dy","angle","className","breakAll"];function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M0.apply(this,arguments)}function lN(e,t){if(e==null)return{};var r=SU(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cN(e,t){return CU(e)||kU(e,t)||jU(e,t)||wU()}function wU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jU(e,t){if(e){if(typeof e=="string")return uN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uN(e,t)}}function uN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){f=!0,i=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function CU(e){if(Array.isArray(e))return e}var qE=/[ \f\n\r\t\v\u2028\u2029]+/,ZE=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var o=[];Ve(r)||(n?o=r.toString().split(""):o=r.toString().split(qE));var l=o.map(function(d){return{word:d,width:Zc(d,i).width}}),u=n?0:Zc("",i).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},AU=function(t,r,n,i,o){var l=t.maxLines,u=t.children,d=t.style,f=t.breakAll,h=we(l),m=u,v=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function($,U){var I=U.word,Q=U.width,L=$[$.length-1];if(L&&(i==null||o||L.width+Q+n<Number(i)))L.words.push(I),L.width+=Q+n;else{var W={words:[I],width:Q};$.push(W)}return $},[])},x=v(r),w=function(M){return M.reduce(function($,U){return $.width>U.width?$:U})};if(!h)return x;for(var b="",y=function(M){var $=m.slice(0,M),U=ZE({breakAll:f,style:d,children:$+b}).wordsWithComputedWidth,I=v(U),Q=I.length>l||w(I).width>Number(i);return[Q,I]},j=0,A=m.length-1,S=0,N;j<=A&&S<=m.length-1;){var z=Math.floor((j+A)/2),O=z-1,_=y(O),E=cN(_,2),T=E[0],B=E[1],R=y(z),F=cN(R,1),K=F[0];if(!T&&!K&&(j=z+1),T&&K&&(A=z-1),!T&&K){N=B;break}S++}return N||x},dN=function(t){var r=Ve(t)?[]:t.toString().split(qE);return[{words:r}]},zU=function(t){var r=t.width,n=t.scaleToFit,i=t.children,o=t.style,l=t.breakAll,u=t.maxLines;if((r||n)&&!fi.isSsr){var d,f,h=ZE({breakAll:l,children:i,style:o});if(h){var m=h.wordsWithComputedWidth,v=h.spaceWidth;d=m,f=v}else return dN(i);return AU({breakAll:l,children:i,maxLines:u,style:o},d,f,r,n)}return dN(i)},fN="#808080",$o=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,o=i===void 0?0:i,l=t.lineHeight,u=l===void 0?"1em":l,d=t.capHeight,f=d===void 0?"0.71em":d,h=t.scaleToFit,m=h===void 0?!1:h,v=t.textAnchor,x=v===void 0?"start":v,w=t.verticalAnchor,b=w===void 0?"end":w,y=t.fill,j=y===void 0?fN:y,A=lN(t,xU),S=k.useMemo(function(){return zU({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:m,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,m,A.style,A.width]),N=A.dx,z=A.dy,O=A.angle,_=A.className,E=A.breakAll,T=lN(A,bU);if(!xr(n)||!xr(o))return null;var B=n+(we(N)?N:0),R=o+(we(z)?z:0),F;switch(b){case"start":F=Jx("calc(".concat(f,")"));break;case"middle":F=Jx("calc(".concat((S.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:F=Jx("calc(".concat(S.length-1," * -").concat(u,")"));break}var K=[];if(m){var H=S[0].width,M=A.width;K.push("scale(".concat((we(M)?M/H:1)/H,")"))}return O&&K.push("rotate(".concat(O,", ").concat(B,", ").concat(R,")")),K.length&&(T.transform=K.join(" ")),V.createElement("text",M0({},Fe(T,!0),{x:B,y:R,className:Ye("recharts-text",_),textAnchor:x,fill:j.includes("url")?fN:j}),S.map(function($,U){var I=$.words.join(E?"":" ");return V.createElement("tspan",{x:B,dy:U===0?F:u,key:"".concat(I,"-").concat(U)},I)}))};function Ui(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function NU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function D1(e){let t,r,n;e.length!==2?(t=Ui,r=(u,d)=>Ui(e(u),d),n=(u,d)=>e(u)-d):(t=e===Ui||e===NU?e:PU,r=e,n=e);function i(u,d,f=0,h=u.length){if(f<h){if(t(d,d)!==0)return h;do{const m=f+h>>>1;r(u[m],d)<0?f=m+1:h=m}while(f<h)}return f}function o(u,d,f=0,h=u.length){if(f<h){if(t(d,d)!==0)return h;do{const m=f+h>>>1;r(u[m],d)<=0?f=m+1:h=m}while(f<h)}return f}function l(u,d,f=0,h=u.length){const m=i(u,d,f,h-1);return m>f&&n(u[m-1],d)>-n(u[m],d)?m-1:m}return{left:i,center:l,right:o}}function PU(){return 0}function XE(e){return e===null?NaN:+e}function*OU(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const _U=D1(Ui),Gu=_U.right;D1(XE).center;class pN extends Map{constructor(t,r=DU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(hN(this,t))}has(t){return super.has(hN(this,t))}set(t,r){return super.set(TU(this,t),r)}delete(t){return super.delete(EU(this,t))}}function hN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function TU({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function EU({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function DU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function RU(e=Ui){if(e===Ui)return YE;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function YE(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const IU=Math.sqrt(50),MU=Math.sqrt(10),LU=Math.sqrt(2);function np(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),l=o>=IU?10:o>=MU?5:o>=LU?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=r&&r<2?np(e,t,r*2):[u,d,f]}function L0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,o,l]=n?np(t,e,r):np(e,t,r);if(!(o>=i))return[];const u=o-i+1,d=new Array(u);if(n)if(l<0)for(let f=0;f<u;++f)d[f]=(o-f)/-l;else for(let f=0;f<u;++f)d[f]=(o-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(i+f)/-l;else for(let f=0;f<u;++f)d[f]=(i+f)*l;return d}function B0(e,t,r){return t=+t,e=+e,r=+r,np(e,t,r)[2]}function F0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?B0(t,e,r):B0(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function mN(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function vN(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function QE(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?YE:RU(i);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,h=Math.log(d),m=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*m*(d-m)/d)*(f-d/2<0?-1:1),x=Math.max(r,Math.floor(t-f*m/d+v)),w=Math.min(n,Math.floor(t+(d-f)*m/d+v));QE(e,t,x,w,i)}const o=e[t];let l=r,u=n;for(Nc(e,r,t),i(e[n],o)>0&&Nc(e,r,n);l<u;){for(Nc(e,l,u),++l,--u;i(e[l],o)<0;)++l;for(;i(e[u],o)>0;)--u}i(e[r],o)===0?Nc(e,r,u):(++u,Nc(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function Nc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function BU(e,t,r){if(e=Float64Array.from(OU(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return vN(e);if(t>=1)return mN(e);var n,i=(n-1)*t,o=Math.floor(i),l=mN(QE(e,o).subarray(0,o+1)),u=vN(e.subarray(o+1));return l+(u-l)*(i-o)}}function FU(e,t,r=XE){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,o=Math.floor(i),l=+r(e[o],o,e),u=+r(e[o+1],o+1,e);return l+(u-l)*(i-o)}}function WU(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(i);++n<i;)o[n]=e+n*r;return o}function Vn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function pi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const W0=Symbol("implicit");function R1(){var e=new pN,t=[],r=[],n=W0;function i(o){let l=e.get(o);if(l===void 0){if(n!==W0)return n;e.set(o,l=t.push(o)-1)}return r[l%r.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new pN;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return R1(t,r).unknown(n)},Vn.apply(i,arguments),i}function hu(){var e=R1().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,o,l,u=!1,d=0,f=0,h=.5;delete e.unknown;function m(){var v=t().length,x=i<n,w=x?i:n,b=x?n:i;o=(b-w)/Math.max(1,v-d+f*2),u&&(o=Math.floor(o)),w+=(b-w-o*(v-d))*h,l=o*(1-d),u&&(w=Math.round(w),l=Math.round(l));var y=WU(v).map(function(j){return w+o*j});return r(x?y.reverse():y)}return e.domain=function(v){return arguments.length?(t(v),m()):t()},e.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,m()):[n,i]},e.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,u=!0,m()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(v){return arguments.length?(u=!!v,m()):u},e.padding=function(v){return arguments.length?(d=Math.min(1,f=+v),m()):d},e.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),m()):d},e.paddingOuter=function(v){return arguments.length?(f=+v,m()):f},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),m()):h},e.copy=function(){return hu(t(),[n,i]).round(u).paddingInner(d).paddingOuter(f).align(h)},Vn.apply(m(),arguments)}function JE(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return JE(t())},e}function Xc(){return JE(hu.apply(null,arguments).paddingInner(1))}function I1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function eD(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function qu(){}var mu=.7,ap=1/mu,Vs="\\s*([+-]?\\d+)\\s*",vu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ca="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$U=/^#([0-9a-f]{3,8})$/,UU=new RegExp(`^rgb\\(${Vs},${Vs},${Vs}\\)$`),HU=new RegExp(`^rgb\\(${Ca},${Ca},${Ca}\\)$`),KU=new RegExp(`^rgba\\(${Vs},${Vs},${Vs},${vu}\\)$`),VU=new RegExp(`^rgba\\(${Ca},${Ca},${Ca},${vu}\\)$`),GU=new RegExp(`^hsl\\(${vu},${Ca},${Ca}\\)$`),qU=new RegExp(`^hsla\\(${vu},${Ca},${Ca},${vu}\\)$`),gN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};I1(qu,gu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:yN,formatHex:yN,formatHex8:ZU,formatHsl:XU,formatRgb:xN,toString:xN});function yN(){return this.rgb().formatHex()}function ZU(){return this.rgb().formatHex8()}function XU(){return tD(this).formatHsl()}function xN(){return this.rgb().formatRgb()}function gu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=$U.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?bN(t):r===3?new pn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?yf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?yf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=UU.exec(e))?new pn(t[1],t[2],t[3],1):(t=HU.exec(e))?new pn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=KU.exec(e))?yf(t[1],t[2],t[3],t[4]):(t=VU.exec(e))?yf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=GU.exec(e))?jN(t[1],t[2]/100,t[3]/100,1):(t=qU.exec(e))?jN(t[1],t[2]/100,t[3]/100,t[4]):gN.hasOwnProperty(e)?bN(gN[e]):e==="transparent"?new pn(NaN,NaN,NaN,0):null}function bN(e){return new pn(e>>16&255,e>>8&255,e&255,1)}function yf(e,t,r,n){return n<=0&&(e=t=r=NaN),new pn(e,t,r,n)}function YU(e){return e instanceof qu||(e=gu(e)),e?(e=e.rgb(),new pn(e.r,e.g,e.b,e.opacity)):new pn}function $0(e,t,r,n){return arguments.length===1?YU(e):new pn(e,t,r,n??1)}function pn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}I1(pn,$0,eD(qu,{brighter(e){return e=e==null?ap:Math.pow(ap,e),new pn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?mu:Math.pow(mu,e),new pn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new pn(Lo(this.r),Lo(this.g),Lo(this.b),ip(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SN,formatHex:SN,formatHex8:QU,formatRgb:wN,toString:wN}));function SN(){return`#${Eo(this.r)}${Eo(this.g)}${Eo(this.b)}`}function QU(){return`#${Eo(this.r)}${Eo(this.g)}${Eo(this.b)}${Eo((isNaN(this.opacity)?1:this.opacity)*255)}`}function wN(){const e=ip(this.opacity);return`${e===1?"rgb(":"rgba("}${Lo(this.r)}, ${Lo(this.g)}, ${Lo(this.b)}${e===1?")":`, ${e})`}`}function ip(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Lo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Eo(e){return e=Lo(e),(e<16?"0":"")+e.toString(16)}function jN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new sa(e,t,r,n)}function tD(e){if(e instanceof sa)return new sa(e.h,e.s,e.l,e.opacity);if(e instanceof qu||(e=gu(e)),!e)return new sa;if(e instanceof sa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),l=NaN,u=o-i,d=(o+i)/2;return u?(t===o?l=(r-n)/u+(r<n)*6:r===o?l=(n-t)/u+2:l=(t-r)/u+4,u/=d<.5?o+i:2-o-i,l*=60):u=d>0&&d<1?0:l,new sa(l,u,d,e.opacity)}function JU(e,t,r,n){return arguments.length===1?tD(e):new sa(e,t,r,n??1)}function sa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}I1(sa,JU,eD(qu,{brighter(e){return e=e==null?ap:Math.pow(ap,e),new sa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?mu:Math.pow(mu,e),new sa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new pn(eb(e>=240?e-240:e+120,i,n),eb(e,i,n),eb(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new sa(kN(this.h),xf(this.s),xf(this.l),ip(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ip(this.opacity);return`${e===1?"hsl(":"hsla("}${kN(this.h)}, ${xf(this.s)*100}%, ${xf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function kN(e){return e=(e||0)%360,e<0?e+360:e}function xf(e){return Math.max(0,Math.min(1,e||0))}function eb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const M1=e=>()=>e;function eH(e,t){return function(r){return e+r*t}}function tH(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function rH(e){return(e=+e)==1?rD:function(t,r){return r-t?tH(t,r,e):M1(isNaN(t)?r:t)}}function rD(e,t){var r=t-e;return r?eH(e,r):M1(isNaN(e)?t:e)}const CN=(function e(t){var r=rH(t);function n(i,o){var l=r((i=$0(i)).r,(o=$0(o)).r),u=r(i.g,o.g),d=r(i.b,o.b),f=rD(i.opacity,o.opacity);return function(h){return i.r=l(h),i.g=u(h),i.b=d(h),i.opacity=f(h),i+""}}return n.gamma=e,n})(1);function nH(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=e[i]*(1-o)+t[i]*o;return n}}function aH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function iH(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),o=new Array(r),l;for(l=0;l<n;++l)i[l]=El(e[l],t[l]);for(;l<r;++l)o[l]=t[l];return function(u){for(l=0;l<n;++l)o[l]=i[l](u);return o}}function oH(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function op(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function sH(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=El(e[i],t[i]):n[i]=t[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var U0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tb=new RegExp(U0.source,"g");function lH(e){return function(){return e}}function cH(e){return function(t){return e(t)+""}}function uH(e,t){var r=U0.lastIndex=tb.lastIndex=0,n,i,o,l=-1,u=[],d=[];for(e=e+"",t=t+"";(n=U0.exec(e))&&(i=tb.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),u[l]?u[l]+=o:u[++l]=o),(n=n[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:op(n,i)})),r=tb.lastIndex;return r<t.length&&(o=t.slice(r),u[l]?u[l]+=o:u[++l]=o),u.length<2?d[0]?cH(d[0].x):lH(t):(t=d.length,function(f){for(var h=0,m;h<t;++h)u[(m=d[h]).i]=m.x(f);return u.join("")})}function El(e,t){var r=typeof t,n;return t==null||r==="boolean"?M1(t):(r==="number"?op:r==="string"?(n=gu(t))?(t=n,CN):uH:t instanceof gu?CN:t instanceof Date?oH:aH(t)?nH:Array.isArray(t)?iH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?sH:op)(e,t)}function L1(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function dH(e,t){t===void 0&&(t=e,e=El);for(var r=0,n=t.length-1,i=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(i,i=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return o[u](l-u)}}function fH(e){return function(){return e}}function sp(e){return+e}var AN=[0,1];function rn(e){return e}function H0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:fH(isNaN(t)?NaN:.5)}function pH(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function hH(e,t,r){var n=e[0],i=e[1],o=t[0],l=t[1];return i<n?(n=H0(i,n),o=r(l,o)):(n=H0(n,i),o=r(o,l)),function(u){return o(n(u))}}function mH(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),o=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)i[l]=H0(e[l],e[l+1]),o[l]=r(t[l],t[l+1]);return function(u){var d=Gu(e,u,1,n)-1;return o[d](i[d](u))}}function Zu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function gh(){var e=AN,t=AN,r=El,n,i,o,l=rn,u,d,f;function h(){var v=Math.min(e.length,t.length);return l!==rn&&(l=pH(e[0],e[v-1])),u=v>2?mH:hH,d=f=null,m}function m(v){return v==null||isNaN(v=+v)?o:(d||(d=u(e.map(n),t,r)))(n(l(v)))}return m.invert=function(v){return l(i((f||(f=u(t,e.map(n),op)))(v)))},m.domain=function(v){return arguments.length?(e=Array.from(v,sp),h()):e.slice()},m.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},m.rangeRound=function(v){return t=Array.from(v),r=L1,h()},m.clamp=function(v){return arguments.length?(l=v?!0:rn,h()):l!==rn},m.interpolate=function(v){return arguments.length?(r=v,h()):r},m.unknown=function(v){return arguments.length?(o=v,m):o},function(v,x){return n=v,i=x,h()}}function B1(){return gh()(rn,rn)}function vH(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function lp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function rl(e){return e=lp(Math.abs(e)),e?e[1]:NaN}function gH(e,t){return function(r,n){for(var i=r.length,o=[],l=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),o.push(r.substring(i-=u,i+u)),!((d+=u+1)>n));)u=e[l=(l+1)%e.length];return o.reverse().join(t)}}function yH(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var xH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yu(e){if(!(t=xH.exec(e)))throw new Error("invalid format: "+e);var t;return new F1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yu.prototype=F1.prototype;function F1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}F1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bH(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var nD;function SH(e,t){var r=lp(e,t);if(!r)return e+"";var n=r[0],i=r[1],o=i-(nD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=n.length;return o===l?n:o>l?n+new Array(o-l+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+lp(e,Math.max(0,t+o-1))[0]}function zN(e,t){var r=lp(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const NN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:vH,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>zN(e*100,t),r:zN,s:SH,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function PN(e){return e}var ON=Array.prototype.map,_N=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wH(e){var t=e.grouping===void 0||e.thousands===void 0?PN:gH(ON.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?PN:yH(ON.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(m){m=yu(m);var v=m.fill,x=m.align,w=m.sign,b=m.symbol,y=m.zero,j=m.width,A=m.comma,S=m.precision,N=m.trim,z=m.type;z==="n"?(A=!0,z="g"):NN[z]||(S===void 0&&(S=12),N=!0,z="g"),(y||v==="0"&&x==="=")&&(y=!0,v="0",x="=");var O=b==="$"?r:b==="#"&&/[boxX]/.test(z)?"0"+z.toLowerCase():"",_=b==="$"?n:/[%p]/.test(z)?l:"",E=NN[z],T=/[defgprs%]/.test(z);S=S===void 0?6:/[gprs]/.test(z)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function B(R){var F=O,K=_,H,M,$;if(z==="c")K=E(R)+K,R="";else{R=+R;var U=R<0||1/R<0;if(R=isNaN(R)?d:E(Math.abs(R),S),N&&(R=bH(R)),U&&+R==0&&w!=="+"&&(U=!1),F=(U?w==="("?w:u:w==="-"||w==="("?"":w)+F,K=(z==="s"?_N[8+nD/3]:"")+K+(U&&w==="("?")":""),T){for(H=-1,M=R.length;++H<M;)if($=R.charCodeAt(H),48>$||$>57){K=($===46?i+R.slice(H+1):R.slice(H))+K,R=R.slice(0,H);break}}}A&&!y&&(R=t(R,1/0));var I=F.length+R.length+K.length,Q=I<j?new Array(j-I+1).join(v):"";switch(A&&y&&(R=t(Q+R,Q.length?j-K.length:1/0),Q=""),x){case"<":R=F+R+K+Q;break;case"=":R=F+Q+R+K;break;case"^":R=Q.slice(0,I=Q.length>>1)+F+R+K+Q.slice(I);break;default:R=Q+F+R+K;break}return o(R)}return B.toString=function(){return m+""},B}function h(m,v){var x=f((m=yu(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(rl(v)/3)))*3,b=Math.pow(10,-w),y=_N[8+w/3];return function(j){return x(b*j)+y}}return{format:f,formatPrefix:h}}var bf,W1,aD;jH({thousands:",",grouping:[3],currency:["$",""]});function jH(e){return bf=wH(e),W1=bf.format,aD=bf.formatPrefix,bf}function kH(e){return Math.max(0,-rl(Math.abs(e)))}function CH(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(rl(t)/3)))*3-rl(Math.abs(e)))}function AH(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,rl(t)-rl(e))+1}function iD(e,t,r,n){var i=F0(e,t,r),o;switch(n=yu(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=CH(i,l))&&(n.precision=o),aD(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=AH(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=kH(i))&&(n.precision=o-(n.type==="%")*2);break}}return W1(n)}function ro(e){var t=e.domain;return e.ticks=function(r){var n=t();return L0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return iD(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,o=n.length-1,l=n[i],u=n[o],d,f,h=10;for(u<l&&(f=l,l=u,u=f,f=i,i=o,o=f);h-- >0;){if(f=B0(l,u,r),f===d)return n[i]=l,n[o]=u,t(n);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function cp(){var e=B1();return e.copy=function(){return Zu(e,cp())},Vn.apply(e,arguments),ro(e)}function oD(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,sp),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return oD(e).unknown(t)},e=arguments.length?Array.from(e,sp):[0,1],ro(r)}function sD(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],o=e[n],l;return o<i&&(l=r,r=n,n=l,l=i,i=o,o=l),e[r]=t.floor(i),e[n]=t.ceil(o),e}function TN(e){return Math.log(e)}function EN(e){return Math.exp(e)}function zH(e){return-Math.log(-e)}function NH(e){return-Math.exp(-e)}function PH(e){return isFinite(e)?+("1e"+e):e<0?0:e}function OH(e){return e===10?PH:e===Math.E?Math.exp:t=>Math.pow(e,t)}function _H(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function DN(e){return(t,r)=>-e(-t,r)}function $1(e){const t=e(TN,EN),r=t.domain;let n=10,i,o;function l(){return i=_H(n),o=OH(n),r()[0]<0?(i=DN(i),o=DN(o),e(zH,NH)):e(TN,EN),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let f=d[0],h=d[d.length-1];const m=h<f;m&&([f,h]=[h,f]);let v=i(f),x=i(h),w,b;const y=u==null?10:+u;let j=[];if(!(n%1)&&x-v<y){if(v=Math.floor(v),x=Math.ceil(x),f>0){for(;v<=x;++v)for(w=1;w<n;++w)if(b=v<0?w/o(-v):w*o(v),!(b<f)){if(b>h)break;j.push(b)}}else for(;v<=x;++v)for(w=n-1;w>=1;--w)if(b=v>0?w/o(-v):w*o(v),!(b<f)){if(b>h)break;j.push(b)}j.length*2<y&&(j=L0(f,h,y))}else j=L0(v,x,Math.min(x-v,y)).map(o);return m?j.reverse():j},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=yu(d)).precision==null&&(d.trim=!0),d=W1(d)),u===1/0)return d;const f=Math.max(1,n*u/t.ticks().length);return h=>{let m=h/o(Math.round(i(h)));return m*n<n-.5&&(m*=n),m<=f?d(h):""}},t.nice=()=>r(sD(r(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),t}function lD(){const e=$1(gh()).domain([1,10]);return e.copy=()=>Zu(e,lD()).base(e.base()),Vn.apply(e,arguments),e}function RN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function IN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function U1(e){var t=1,r=e(RN(t),IN(t));return r.constant=function(n){return arguments.length?e(RN(t=+n),IN(t)):t},ro(r)}function cD(){var e=U1(gh());return e.copy=function(){return Zu(e,cD()).constant(e.constant())},Vn.apply(e,arguments)}function MN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function TH(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function EH(e){return e<0?-e*e:e*e}function H1(e){var t=e(rn,rn),r=1;function n(){return r===1?e(rn,rn):r===.5?e(TH,EH):e(MN(r),MN(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},ro(t)}function K1(){var e=H1(gh());return e.copy=function(){return Zu(e,K1()).exponent(e.exponent())},Vn.apply(e,arguments),e}function DH(){return K1.apply(null,arguments).exponent(.5)}function LN(e){return Math.sign(e)*e*e}function RH(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function uD(){var e=B1(),t=[0,1],r=!1,n;function i(o){var l=RH(e(o));return isNaN(l)?n:r?Math.round(l):l}return i.invert=function(o){return e.invert(LN(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,sp)).map(LN)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return uD(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Vn.apply(i,arguments),ro(i)}function dD(){var e=[],t=[],r=[],n;function i(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=FU(e,l/u);return o}function o(l){return l==null||isNaN(l=+l)?n:t[Gu(r,l)]}return o.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ui),i()},o.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},o.unknown=function(l){return arguments.length?(n=l,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return dD().domain(e).range(t).unknown(n)},Vn.apply(o,arguments)}function fD(){var e=0,t=1,r=1,n=[.5],i=[0,1],o;function l(d){return d!=null&&d<=d?i[Gu(n,d,0,r)]:o}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},l.unknown=function(d){return arguments.length&&(o=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return fD().domain([e,t]).range(i).unknown(o)},Vn.apply(ro(l),arguments)}function pD(){var e=[.5],t=[0,1],r,n=1;function i(o){return o!=null&&o<=o?t[Gu(e,o,0,n)]:r}return i.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return pD().domain(e).range(t).unknown(r)},Vn.apply(i,arguments)}const rb=new Date,nb=new Date;function Sr(e,t,r,n){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const d=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return d;let f;do d.push(f=new Date(+o)),t(o,u),e(o);while(f<o&&o<l);return d},i.filter=o=>Sr(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!o(l););else for(;--u>=0;)for(;t(l,1),!o(l););}),r&&(i.count=(o,l)=>(rb.setTime(+o),nb.setTime(+l),e(rb),e(nb),Math.floor(r(rb,nb))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?l=>n(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const up=Sr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);up.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Sr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):up);up.range;const Ya=1e3,Un=Ya*60,Qa=Un*60,ni=Qa*24,V1=ni*7,BN=ni*30,ab=ni*365,Do=Sr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ya)},(e,t)=>(t-e)/Ya,e=>e.getUTCSeconds());Do.range;const G1=Sr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ya)},(e,t)=>{e.setTime(+e+t*Un)},(e,t)=>(t-e)/Un,e=>e.getMinutes());G1.range;const q1=Sr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Un)},(e,t)=>(t-e)/Un,e=>e.getUTCMinutes());q1.range;const Z1=Sr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ya-e.getMinutes()*Un)},(e,t)=>{e.setTime(+e+t*Qa)},(e,t)=>(t-e)/Qa,e=>e.getHours());Z1.range;const X1=Sr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Qa)},(e,t)=>(t-e)/Qa,e=>e.getUTCHours());X1.range;const Xu=Sr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Un)/ni,e=>e.getDate()-1);Xu.range;const yh=Sr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ni,e=>e.getUTCDate()-1);yh.range;const hD=Sr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ni,e=>Math.floor(e/ni));hD.range;function Qo(e){return Sr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Un)/V1)}const xh=Qo(0),dp=Qo(1),IH=Qo(2),MH=Qo(3),nl=Qo(4),LH=Qo(5),BH=Qo(6);xh.range;dp.range;IH.range;MH.range;nl.range;LH.range;BH.range;function Jo(e){return Sr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/V1)}const bh=Jo(0),fp=Jo(1),FH=Jo(2),WH=Jo(3),al=Jo(4),$H=Jo(5),UH=Jo(6);bh.range;fp.range;FH.range;WH.range;al.range;$H.range;UH.range;const Y1=Sr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Y1.range;const Q1=Sr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Q1.range;const ai=Sr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ai.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Sr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ai.range;const ii=Sr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ii.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Sr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ii.range;function mD(e,t,r,n,i,o){const l=[[Do,1,Ya],[Do,5,5*Ya],[Do,15,15*Ya],[Do,30,30*Ya],[o,1,Un],[o,5,5*Un],[o,15,15*Un],[o,30,30*Un],[i,1,Qa],[i,3,3*Qa],[i,6,6*Qa],[i,12,12*Qa],[n,1,ni],[n,2,2*ni],[r,1,V1],[t,1,BN],[t,3,3*BN],[e,1,ab]];function u(f,h,m){const v=h<f;v&&([f,h]=[h,f]);const x=m&&typeof m.range=="function"?m:d(f,h,m),w=x?x.range(f,+h+1):[];return v?w.reverse():w}function d(f,h,m){const v=Math.abs(h-f)/m,x=D1(([,,y])=>y).right(l,v);if(x===l.length)return e.every(F0(f/ab,h/ab,m));if(x===0)return up.every(Math.max(F0(f,h,m),1));const[w,b]=l[v/l[x-1][2]<l[x][2]/v?x-1:x];return w.every(b)}return[u,d]}const[HH,KH]=mD(ii,Q1,bh,hD,X1,q1),[VH,GH]=mD(ai,Y1,xh,Xu,Z1,G1);function ib(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ob(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Pc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function qH(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,o=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=Oc(i),h=_c(i),m=Oc(o),v=_c(o),x=Oc(l),w=_c(l),b=Oc(u),y=_c(u),j=Oc(d),A=_c(d),S={a:U,A:I,b:Q,B:L,c:null,d:KN,e:KN,f:gK,g:zK,G:PK,H:hK,I:mK,j:vK,L:vD,m:yK,M:xK,p:W,q:X,Q:qN,s:ZN,S:bK,u:SK,U:wK,V:jK,w:kK,W:CK,x:null,X:null,y:AK,Y:NK,Z:OK,"%":GN},N={a:se,A:de,b:ge,B:xe,c:null,d:VN,e:VN,f:DK,g:HK,G:VK,H:_K,I:TK,j:EK,L:yD,m:RK,M:IK,p:ne,q:ie,Q:qN,s:ZN,S:MK,u:LK,U:BK,V:FK,w:WK,W:$K,x:null,X:null,y:UK,Y:KK,Z:GK,"%":GN},z={a:B,A:R,b:F,B:K,c:H,d:UN,e:UN,f:uK,g:$N,G:WN,H:HN,I:HN,j:oK,L:cK,m:iK,M:sK,p:T,q:aK,Q:fK,s:pK,S:lK,u:JH,U:eK,V:tK,w:QH,W:rK,x:M,X:$,y:$N,Y:WN,Z:nK,"%":dK};S.x=O(r,S),S.X=O(n,S),S.c=O(t,S),N.x=O(r,N),N.X=O(n,N),N.c=O(t,N);function O(ce,fe){return function(q){var ee=[],Oe=-1,je=0,st=ce.length,Qe,bt,Kt;for(q instanceof Date||(q=new Date(+q));++Oe<st;)ce.charCodeAt(Oe)===37&&(ee.push(ce.slice(je,Oe)),(bt=FN[Qe=ce.charAt(++Oe)])!=null?Qe=ce.charAt(++Oe):bt=Qe==="e"?" ":"0",(Kt=fe[Qe])&&(Qe=Kt(q,bt)),ee.push(Qe),je=Oe+1);return ee.push(ce.slice(je,Oe)),ee.join("")}}function _(ce,fe){return function(q){var ee=Pc(1900,void 0,1),Oe=E(ee,ce,q+="",0),je,st;if(Oe!=q.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(fe&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(je=ob(Pc(ee.y,0,1)),st=je.getUTCDay(),je=st>4||st===0?fp.ceil(je):fp(je),je=yh.offset(je,(ee.V-1)*7),ee.y=je.getUTCFullYear(),ee.m=je.getUTCMonth(),ee.d=je.getUTCDate()+(ee.w+6)%7):(je=ib(Pc(ee.y,0,1)),st=je.getDay(),je=st>4||st===0?dp.ceil(je):dp(je),je=Xu.offset(je,(ee.V-1)*7),ee.y=je.getFullYear(),ee.m=je.getMonth(),ee.d=je.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),st="Z"in ee?ob(Pc(ee.y,0,1)).getUTCDay():ib(Pc(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(st+5)%7:ee.w+ee.U*7-(st+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,ob(ee)):ib(ee)}}function E(ce,fe,q,ee){for(var Oe=0,je=fe.length,st=q.length,Qe,bt;Oe<je;){if(ee>=st)return-1;if(Qe=fe.charCodeAt(Oe++),Qe===37){if(Qe=fe.charAt(Oe++),bt=z[Qe in FN?fe.charAt(Oe++):Qe],!bt||(ee=bt(ce,q,ee))<0)return-1}else if(Qe!=q.charCodeAt(ee++))return-1}return ee}function T(ce,fe,q){var ee=f.exec(fe.slice(q));return ee?(ce.p=h.get(ee[0].toLowerCase()),q+ee[0].length):-1}function B(ce,fe,q){var ee=x.exec(fe.slice(q));return ee?(ce.w=w.get(ee[0].toLowerCase()),q+ee[0].length):-1}function R(ce,fe,q){var ee=m.exec(fe.slice(q));return ee?(ce.w=v.get(ee[0].toLowerCase()),q+ee[0].length):-1}function F(ce,fe,q){var ee=j.exec(fe.slice(q));return ee?(ce.m=A.get(ee[0].toLowerCase()),q+ee[0].length):-1}function K(ce,fe,q){var ee=b.exec(fe.slice(q));return ee?(ce.m=y.get(ee[0].toLowerCase()),q+ee[0].length):-1}function H(ce,fe,q){return E(ce,t,fe,q)}function M(ce,fe,q){return E(ce,r,fe,q)}function $(ce,fe,q){return E(ce,n,fe,q)}function U(ce){return l[ce.getDay()]}function I(ce){return o[ce.getDay()]}function Q(ce){return d[ce.getMonth()]}function L(ce){return u[ce.getMonth()]}function W(ce){return i[+(ce.getHours()>=12)]}function X(ce){return 1+~~(ce.getMonth()/3)}function se(ce){return l[ce.getUTCDay()]}function de(ce){return o[ce.getUTCDay()]}function ge(ce){return d[ce.getUTCMonth()]}function xe(ce){return u[ce.getUTCMonth()]}function ne(ce){return i[+(ce.getUTCHours()>=12)]}function ie(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var fe=O(ce+="",S);return fe.toString=function(){return ce},fe},parse:function(ce){var fe=_(ce+="",!1);return fe.toString=function(){return ce},fe},utcFormat:function(ce){var fe=O(ce+="",N);return fe.toString=function(){return ce},fe},utcParse:function(ce){var fe=_(ce+="",!0);return fe.toString=function(){return ce},fe}}}var FN={"-":"",_:" ",0:"0"},zr=/^\s*\d+/,ZH=/^%/,XH=/[\\^$*+?|[\]().{}]/g;function yt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(t)+i:i)}function YH(e){return e.replace(XH,"\\$&")}function Oc(e){return new RegExp("^(?:"+e.map(YH).join("|")+")","i")}function _c(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function QH(e,t,r){var n=zr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function JH(e,t,r){var n=zr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function eK(e,t,r){var n=zr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function tK(e,t,r){var n=zr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function rK(e,t,r){var n=zr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function WN(e,t,r){var n=zr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function $N(e,t,r){var n=zr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function nK(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function aK(e,t,r){var n=zr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function iK(e,t,r){var n=zr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function UN(e,t,r){var n=zr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function oK(e,t,r){var n=zr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function HN(e,t,r){var n=zr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function sK(e,t,r){var n=zr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function lK(e,t,r){var n=zr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function cK(e,t,r){var n=zr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function uK(e,t,r){var n=zr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function dK(e,t,r){var n=ZH.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function fK(e,t,r){var n=zr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function pK(e,t,r){var n=zr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function KN(e,t){return yt(e.getDate(),t,2)}function hK(e,t){return yt(e.getHours(),t,2)}function mK(e,t){return yt(e.getHours()%12||12,t,2)}function vK(e,t){return yt(1+Xu.count(ai(e),e),t,3)}function vD(e,t){return yt(e.getMilliseconds(),t,3)}function gK(e,t){return vD(e,t)+"000"}function yK(e,t){return yt(e.getMonth()+1,t,2)}function xK(e,t){return yt(e.getMinutes(),t,2)}function bK(e,t){return yt(e.getSeconds(),t,2)}function SK(e){var t=e.getDay();return t===0?7:t}function wK(e,t){return yt(xh.count(ai(e)-1,e),t,2)}function gD(e){var t=e.getDay();return t>=4||t===0?nl(e):nl.ceil(e)}function jK(e,t){return e=gD(e),yt(nl.count(ai(e),e)+(ai(e).getDay()===4),t,2)}function kK(e){return e.getDay()}function CK(e,t){return yt(dp.count(ai(e)-1,e),t,2)}function AK(e,t){return yt(e.getFullYear()%100,t,2)}function zK(e,t){return e=gD(e),yt(e.getFullYear()%100,t,2)}function NK(e,t){return yt(e.getFullYear()%1e4,t,4)}function PK(e,t){var r=e.getDay();return e=r>=4||r===0?nl(e):nl.ceil(e),yt(e.getFullYear()%1e4,t,4)}function OK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+yt(t/60|0,"0",2)+yt(t%60,"0",2)}function VN(e,t){return yt(e.getUTCDate(),t,2)}function _K(e,t){return yt(e.getUTCHours(),t,2)}function TK(e,t){return yt(e.getUTCHours()%12||12,t,2)}function EK(e,t){return yt(1+yh.count(ii(e),e),t,3)}function yD(e,t){return yt(e.getUTCMilliseconds(),t,3)}function DK(e,t){return yD(e,t)+"000"}function RK(e,t){return yt(e.getUTCMonth()+1,t,2)}function IK(e,t){return yt(e.getUTCMinutes(),t,2)}function MK(e,t){return yt(e.getUTCSeconds(),t,2)}function LK(e){var t=e.getUTCDay();return t===0?7:t}function BK(e,t){return yt(bh.count(ii(e)-1,e),t,2)}function xD(e){var t=e.getUTCDay();return t>=4||t===0?al(e):al.ceil(e)}function FK(e,t){return e=xD(e),yt(al.count(ii(e),e)+(ii(e).getUTCDay()===4),t,2)}function WK(e){return e.getUTCDay()}function $K(e,t){return yt(fp.count(ii(e)-1,e),t,2)}function UK(e,t){return yt(e.getUTCFullYear()%100,t,2)}function HK(e,t){return e=xD(e),yt(e.getUTCFullYear()%100,t,2)}function KK(e,t){return yt(e.getUTCFullYear()%1e4,t,4)}function VK(e,t){var r=e.getUTCDay();return e=r>=4||r===0?al(e):al.ceil(e),yt(e.getUTCFullYear()%1e4,t,4)}function GK(){return"+0000"}function GN(){return"%"}function qN(e){return+e}function ZN(e){return Math.floor(+e/1e3)}var zs,bD,SD;qK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qK(e){return zs=qH(e),bD=zs.format,zs.parse,SD=zs.utcFormat,zs.utcParse,zs}function ZK(e){return new Date(e)}function XK(e){return e instanceof Date?+e:+new Date(+e)}function J1(e,t,r,n,i,o,l,u,d,f){var h=B1(),m=h.invert,v=h.domain,x=f(".%L"),w=f(":%S"),b=f("%I:%M"),y=f("%I %p"),j=f("%a %d"),A=f("%b %d"),S=f("%B"),N=f("%Y");function z(O){return(d(O)<O?x:u(O)<O?w:l(O)<O?b:o(O)<O?y:n(O)<O?i(O)<O?j:A:r(O)<O?S:N)(O)}return h.invert=function(O){return new Date(m(O))},h.domain=function(O){return arguments.length?v(Array.from(O,XK)):v().map(ZK)},h.ticks=function(O){var _=v();return e(_[0],_[_.length-1],O??10)},h.tickFormat=function(O,_){return _==null?z:f(_)},h.nice=function(O){var _=v();return(!O||typeof O.range!="function")&&(O=t(_[0],_[_.length-1],O??10)),O?v(sD(_,O)):h},h.copy=function(){return Zu(h,J1(e,t,r,n,i,o,l,u,d,f))},h}function YK(){return Vn.apply(J1(VH,GH,ai,Y1,xh,Xu,Z1,G1,Do,bD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function QK(){return Vn.apply(J1(HH,KH,ii,Q1,bh,yh,X1,q1,Do,SD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Sh(){var e=0,t=1,r,n,i,o,l=rn,u=!1,d;function f(m){return m==null||isNaN(m=+m)?d:l(i===0?.5:(m=(o(m)-r)*i,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,r=o(e=+e),n=o(t=+t),i=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(l=m,f):l};function h(m){return function(v){var x,w;return arguments.length?([x,w]=v,l=m(x,w),f):[l(0),l(1)]}}return f.range=h(El),f.rangeRound=h(L1),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return o=m,r=m(e),n=m(t),i=r===n?0:1/(n-r),f}}function no(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function wD(){var e=ro(Sh()(rn));return e.copy=function(){return no(e,wD())},pi.apply(e,arguments)}function jD(){var e=$1(Sh()).domain([1,10]);return e.copy=function(){return no(e,jD()).base(e.base())},pi.apply(e,arguments)}function kD(){var e=U1(Sh());return e.copy=function(){return no(e,kD()).constant(e.constant())},pi.apply(e,arguments)}function ew(){var e=H1(Sh());return e.copy=function(){return no(e,ew()).exponent(e.exponent())},pi.apply(e,arguments)}function JK(){return ew.apply(null,arguments).exponent(.5)}function CD(){var e=[],t=rn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Gu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ui),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>BU(e,o/n))},r.copy=function(){return CD(t).domain(e)},pi.apply(r,arguments)}function wh(){var e=0,t=.5,r=1,n=1,i,o,l,u,d,f=rn,h,m=!1,v;function x(b){return isNaN(b=+b)?v:(b=.5+((b=+h(b))-o)*(n*b<n*o?u:d),f(m?Math.max(0,Math.min(1,b)):b))}x.domain=function(b){return arguments.length?([e,t,r]=b,i=h(e=+e),o=h(t=+t),l=h(r=+r),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),n=o<i?-1:1,x):[e,t,r]},x.clamp=function(b){return arguments.length?(m=!!b,x):m},x.interpolator=function(b){return arguments.length?(f=b,x):f};function w(b){return function(y){var j,A,S;return arguments.length?([j,A,S]=y,f=dH(b,[j,A,S]),x):[f(0),f(.5),f(1)]}}return x.range=w(El),x.rangeRound=w(L1),x.unknown=function(b){return arguments.length?(v=b,x):v},function(b){return h=b,i=b(e),o=b(t),l=b(r),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),n=o<i?-1:1,x}}function AD(){var e=ro(wh()(rn));return e.copy=function(){return no(e,AD())},pi.apply(e,arguments)}function zD(){var e=$1(wh()).domain([.1,1,10]);return e.copy=function(){return no(e,zD()).base(e.base())},pi.apply(e,arguments)}function ND(){var e=U1(wh());return e.copy=function(){return no(e,ND()).constant(e.constant())},pi.apply(e,arguments)}function tw(){var e=H1(wh());return e.copy=function(){return no(e,tw()).exponent(e.exponent())},pi.apply(e,arguments)}function eV(){return tw.apply(null,arguments).exponent(.5)}const XN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hu,scaleDiverging:AD,scaleDivergingLog:zD,scaleDivergingPow:tw,scaleDivergingSqrt:eV,scaleDivergingSymlog:ND,scaleIdentity:oD,scaleImplicit:W0,scaleLinear:cp,scaleLog:lD,scaleOrdinal:R1,scalePoint:Xc,scalePow:K1,scaleQuantile:dD,scaleQuantize:fD,scaleRadial:uD,scaleSequential:wD,scaleSequentialLog:jD,scaleSequentialPow:ew,scaleSequentialQuantile:CD,scaleSequentialSqrt:JK,scaleSequentialSymlog:kD,scaleSqrt:DH,scaleSymlog:cD,scaleThreshold:pD,scaleTime:YK,scaleUtc:QK,tickFormat:iD},Symbol.toStringTag,{value:"Module"}));var sb,YN;function jh(){if(YN)return sb;YN=1;var e=Nl();function t(r,n,i){for(var o=-1,l=r.length;++o<l;){var u=r[o],d=n(u);if(d!=null&&(f===void 0?d===d&&!e(d):i(d,f)))var f=d,h=u}return h}return sb=t,sb}var lb,QN;function PD(){if(QN)return lb;QN=1;function e(t,r){return t>r}return lb=e,lb}var cb,JN;function tV(){if(JN)return cb;JN=1;var e=jh(),t=PD(),r=_l();function n(i){return i&&i.length?e(i,r,t):void 0}return cb=n,cb}var rV=tV();const Bi=jt(rV);var ub,eP;function OD(){if(eP)return ub;eP=1;function e(t,r){return t<r}return ub=e,ub}var db,tP;function nV(){if(tP)return db;tP=1;var e=jh(),t=OD(),r=_l();function n(i){return i&&i.length?e(i,r,t):void 0}return db=n,db}var aV=nV();const kh=jt(aV);var fb,rP;function iV(){if(rP)return fb;rP=1;var e=y1(),t=_a(),r=LE(),n=hn();function i(o,l){var u=n(o)?e:r;return u(o,t(l,3))}return fb=i,fb}var pb,nP;function oV(){if(nP)return pb;nP=1;var e=IE(),t=iV();function r(n,i){return e(t(n,i),1)}return pb=r,pb}var sV=oV();const lV=jt(sV);var hb,aP;function cV(){if(aP)return hb;aP=1;var e=O1();function t(r,n){return e(r,n)}return hb=t,hb}var uV=cV();const qi=jt(uV);var Dl=1e9,dV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nw,Xt=!0,Hn="[DecimalError] ",Bo=Hn+"Invalid argument: ",rw=Hn+"Exponent out of range: ",Rl=Math.floor,Po=Math.pow,fV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,An,Cr=1e7,Ut=7,_D=9007199254740991,pp=Rl(_D/Ut),Ee={};Ee.absoluteValue=Ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ee.comparedTo=Ee.cmp=function(e){var t,r,n,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ut;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ee.dividedBy=Ee.div=function(e){return ri(this,new this.constructor(e))};Ee.dividedToIntegerBy=Ee.idiv=function(e){var t=this,r=t.constructor;return Tt(ri(t,new r(e),0,1),r.precision)};Ee.equals=Ee.eq=function(e){return!this.cmp(e)};Ee.exponent=function(){return pr(this)};Ee.greaterThan=Ee.gt=function(e){return this.cmp(e)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(e){return this.cmp(e)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(e){return this.cmp(e)<0};Ee.lessThanOrEqualTo=Ee.lte=function(e){return this.cmp(e)<1};Ee.logarithm=Ee.log=function(e){var t,r=this,n=r.constructor,i=n.precision,o=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(An))throw Error(Hn+"NaN");if(r.s<1)throw Error(Hn+(r.s?"NaN":"-Infinity"));return r.eq(An)?new n(0):(Xt=!1,t=ri(xu(r,o),xu(e,o),o),Xt=!0,Tt(t,i))};Ee.minus=Ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?DD(t,e):TD(t,(e.s=-e.s,e))};Ee.modulo=Ee.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Hn+"NaN");return r.s?(Xt=!1,t=ri(r,e,0,1).times(e),Xt=!0,r.minus(t)):Tt(new n(r),i)};Ee.naturalExponential=Ee.exp=function(){return ED(this)};Ee.naturalLogarithm=Ee.ln=function(){return xu(this)};Ee.negated=Ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ee.plus=Ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?TD(t,e):DD(t,(e.s=-e.s,e))};Ee.precision=Ee.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Bo+e);if(t=pr(i)+1,n=i.d.length-1,r=n*Ut+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ee.squareRoot=Ee.sqrt=function(){var e,t,r,n,i,o,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Hn+"NaN")}for(e=pr(u),Xt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=wa(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Rl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(i.toString()),r=d.precision,i=l=r+3;;)if(o=n,n=o.plus(ri(u,o,l+2)).times(.5),wa(o.d).slice(0,l)===(t=wa(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(Tt(o,r+1,0),o.times(o).eq(u)){n=o;break}}else if(t!="9999")break;l+=4}return Xt=!0,Tt(n,r)};Ee.times=Ee.mul=function(e){var t,r,n,i,o,l,u,d,f,h=this,m=h.constructor,v=h.d,x=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,r=h.e+e.e,d=v.length,f=x.length,d<f&&(o=v,v=x,x=o,l=d,d=f,f=l),o=[],l=d+f,n=l;n--;)o.push(0);for(n=f;--n>=0;){for(t=0,i=d+n;i>n;)u=o[i]+x[n]*v[i-n-1]+t,o[i--]=u%Cr|0,t=u/Cr|0;o[i]=(o[i]+t)%Cr|0}for(;!o[--l];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Xt?Tt(e,m.precision):e};Ee.toDecimalPlaces=Ee.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Na(e,0,Dl),t===void 0?t=n.rounding:Na(t,0,8),Tt(r,e+pr(r)+1,t))};Ee.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Uo(n,!0):(Na(e,0,Dl),t===void 0?t=i.rounding:Na(t,0,8),n=Tt(new i(n),e+1,t),r=Uo(n,!0,e+1)),r};Ee.toFixed=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?Uo(i):(Na(e,0,Dl),t===void 0?t=o.rounding:Na(t,0,8),n=Tt(new o(i),e+pr(i)+1,t),r=Uo(n.abs(),!1,e+pr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ee.toInteger=Ee.toint=function(){var e=this,t=e.constructor;return Tt(new t(e),pr(e)+1,t.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(e){var t,r,n,i,o,l,u=this,d=u.constructor,f=12,h=+(e=new d(e));if(!e.s)return new d(An);if(u=new d(u),!u.s){if(e.s<1)throw Error(Hn+"Infinity");return u}if(u.eq(An))return u;if(n=d.precision,e.eq(An))return Tt(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,o=u.s,l){if((r=h<0?-h:h)<=_D){for(i=new d(An),t=Math.ceil(n/Ut+4),Xt=!1;r%2&&(i=i.times(u),oP(i.d,t)),r=Rl(r/2),r!==0;)u=u.times(u),oP(u.d,t);return Xt=!0,e.s<0?new d(An).div(i):Tt(i,n)}}else if(o<0)throw Error(Hn+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,Xt=!1,i=e.times(xu(u,n+f)),Xt=!0,i=ED(i),i.s=o,i};Ee.toPrecision=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?(r=pr(i),n=Uo(i,r<=o.toExpNeg||r>=o.toExpPos)):(Na(e,1,Dl),t===void 0?t=o.rounding:Na(t,0,8),i=Tt(new o(i),e,t),r=pr(i),n=Uo(i,e<=r||r<=o.toExpNeg,e)),n};Ee.toSignificantDigits=Ee.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Na(e,1,Dl),t===void 0?t=n.rounding:Na(t,0,8)),Tt(new n(r),e,t)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=pr(e),r=e.constructor;return Uo(e,t<=r.toExpNeg||t>=r.toExpPos)};function TD(e,t){var r,n,i,o,l,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Xt?Tt(t,m):t;if(d=e.d,f=t.d,l=e.e,i=t.e,d=d.slice(),o=l-i,o){for(o<0?(n=d,o=-o,u=f.length):(n=f,i=l,u=d.length),l=Math.ceil(m/Ut),u=l>u?l+1:u+1,o>u&&(o=u,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(u=d.length,o=f.length,u-o<0&&(o=u,n=f,f=d,d=n),r=0;o;)r=(d[--o]=d[o]+f[o]+r)/Cr|0,d[o]%=Cr;for(r&&(d.unshift(r),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,Xt?Tt(t,m):t}function Na(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Bo+e)}function wa(e){var t,r,n,i=e.length-1,o="",l=e[0];if(i>0){for(o+=l,t=1;t<i;t++)n=e[t]+"",r=Ut-n.length,r&&(o+=Mi(r)),o+=n;l=e[t],n=l+"",r=Ut-n.length,r&&(o+=Mi(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var ri=(function(){function e(n,i){var o,l=0,u=n.length;for(n=n.slice();u--;)o=n[u]*i+l,n[u]=o%Cr|0,l=o/Cr|0;return l&&n.unshift(l),n}function t(n,i,o,l){var u,d;if(o!=l)d=o>l?1:-1;else for(u=d=0;u<o;u++)if(n[u]!=i[u]){d=n[u]>i[u]?1:-1;break}return d}function r(n,i,o){for(var l=0;o--;)n[o]-=l,l=n[o]<i[o]?1:0,n[o]=l*Cr+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,l){var u,d,f,h,m,v,x,w,b,y,j,A,S,N,z,O,_,E,T=n.constructor,B=n.s==i.s?1:-1,R=n.d,F=i.d;if(!n.s)return new T(n);if(!i.s)throw Error(Hn+"Division by zero");for(d=n.e-i.e,_=F.length,z=R.length,x=new T(B),w=x.d=[],f=0;F[f]==(R[f]||0);)++f;if(F[f]>(R[f]||0)&&--d,o==null?A=o=T.precision:l?A=o+(pr(n)-pr(i))+1:A=o,A<0)return new T(0);if(A=A/Ut+2|0,f=0,_==1)for(h=0,F=F[0],A++;(f<z||h)&&A--;f++)S=h*Cr+(R[f]||0),w[f]=S/F|0,h=S%F|0;else{for(h=Cr/(F[0]+1)|0,h>1&&(F=e(F,h),R=e(R,h),_=F.length,z=R.length),N=_,b=R.slice(0,_),y=b.length;y<_;)b[y++]=0;E=F.slice(),E.unshift(0),O=F[0],F[1]>=Cr/2&&++O;do h=0,u=t(F,b,_,y),u<0?(j=b[0],_!=y&&(j=j*Cr+(b[1]||0)),h=j/O|0,h>1?(h>=Cr&&(h=Cr-1),m=e(F,h),v=m.length,y=b.length,u=t(m,b,v,y),u==1&&(h--,r(m,_<v?E:F,v))):(h==0&&(u=h=1),m=F.slice()),v=m.length,v<y&&m.unshift(0),r(b,m,y),u==-1&&(y=b.length,u=t(F,b,_,y),u<1&&(h++,r(b,_<y?E:F,y))),y=b.length):u===0&&(h++,b=[0]),w[f++]=h,u&&b[0]?b[y++]=R[N]||0:(b=[R[N]],y=1);while((N++<z||b[0]!==void 0)&&A--)}return w[0]||w.shift(),x.e=d,Tt(x,l?o+pr(x)+1:o)}})();function ED(e,t){var r,n,i,o,l,u,d=0,f=0,h=e.constructor,m=h.precision;if(pr(e)>16)throw Error(rw+pr(e));if(!e.s)return new h(An);for(Xt=!1,u=m,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(n=Math.log(Po(2,f))/Math.LN10*2+5|0,u+=n,r=i=o=new h(An),h.precision=u;;){if(i=Tt(i.times(e),u),r=r.times(++d),l=o.plus(ri(i,r,u)),wa(l.d).slice(0,u)===wa(o.d).slice(0,u)){for(;f--;)o=Tt(o.times(o),u);return h.precision=m,t==null?(Xt=!0,Tt(o,m)):o}o=l}}function pr(e){for(var t=e.e*Ut,r=e.d[0];r>=10;r/=10)t++;return t}function mb(e,t,r){if(t>e.LN10.sd())throw Xt=!0,r&&(e.precision=r),Error(Hn+"LN10 precision limit exceeded");return Tt(new e(e.LN10),t)}function Mi(e){for(var t="";e--;)t+="0";return t}function xu(e,t){var r,n,i,o,l,u,d,f,h,m=1,v=10,x=e,w=x.d,b=x.constructor,y=b.precision;if(x.s<1)throw Error(Hn+(x.s?"NaN":"-Infinity"));if(x.eq(An))return new b(0);if(t==null?(Xt=!1,f=y):f=t,x.eq(10))return t==null&&(Xt=!0),mb(b,f);if(f+=v,b.precision=f,r=wa(w),n=r.charAt(0),o=pr(x),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=wa(x.d),n=r.charAt(0),m++;o=pr(x),n>1?(x=new b("0."+r),o++):x=new b(n+"."+r.slice(1))}else return d=mb(b,f+2,y).times(o+""),x=xu(new b(n+"."+r.slice(1)),f-v).plus(d),b.precision=y,t==null?(Xt=!0,Tt(x,y)):x;for(u=l=x=ri(x.minus(An),x.plus(An),f),h=Tt(x.times(x),f),i=3;;){if(l=Tt(l.times(h),f),d=u.plus(ri(l,new b(i),f)),wa(d.d).slice(0,f)===wa(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(mb(b,f+2,y).times(o+""))),u=ri(u,new b(m),f),b.precision=y,t==null?(Xt=!0,Tt(u,y)):u;u=d,i+=2}}function iP(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Rl(r/Ut),e.d=[],n=(r+1)%Ut,r<0&&(n+=Ut),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ut;n<i;)e.d.push(+t.slice(n,n+=Ut));t=t.slice(n),n=Ut-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Xt&&(e.e>pp||e.e<-pp))throw Error(rw+r)}else e.s=0,e.e=0,e.d=[0];return e}function Tt(e,t,r){var n,i,o,l,u,d,f,h,m=e.d;for(l=1,o=m[0];o>=10;o/=10)l++;if(n=t-l,n<0)n+=Ut,i=t,f=m[h=0];else{if(h=Math.ceil((n+1)/Ut),o=m.length,h>=o)return e;for(f=o=m[h],l=1;o>=10;o/=10)l++;n%=Ut,i=n-Ut+l}if(r!==void 0&&(o=Po(10,l-i-1),u=f/o%10|0,d=t<0||m[h+1]!==void 0||f%o,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?i>0?f/Po(10,l-i):0:m[h-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return d?(o=pr(e),m.length=1,t=t-o-1,m[0]=Po(10,(Ut-t%Ut)%Ut),e.e=Rl(-t/Ut)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=h,o=1,h--):(m.length=h+1,o=Po(10,Ut-n),m[h]=i>0?(f/Po(10,l-i)%Po(10,i)|0)*o:0),d)for(;;)if(h==0){(m[0]+=o)==Cr&&(m[0]=1,++e.e);break}else{if(m[h]+=o,m[h]!=Cr)break;m[h--]=0,o=1}for(n=m.length;m[--n]===0;)m.pop();if(Xt&&(e.e>pp||e.e<-pp))throw Error(rw+pr(e));return e}function DD(e,t){var r,n,i,o,l,u,d,f,h,m,v=e.constructor,x=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),Xt?Tt(t,x):t;if(d=e.d,m=t.d,n=t.e,f=e.e,d=d.slice(),l=f-n,l){for(h=l<0,h?(r=d,l=-l,u=m.length):(r=m,n=f,u=d.length),i=Math.max(Math.ceil(x/Ut),u)+2,l>i&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for(i=d.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(d[i]!=m[i]){h=d[i]<m[i];break}l=0}for(h&&(r=d,d=m,m=r,t.s=-t.s),u=d.length,i=m.length-u;i>0;--i)d[u++]=0;for(i=m.length;i>l;){if(d[--i]<m[i]){for(o=i;o&&d[--o]===0;)d[o]=Cr-1;--d[o],d[i]+=Cr}d[i]-=m[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,Xt?Tt(t,x):t):new v(0)}function Uo(e,t,r){var n,i=pr(e),o=wa(e.d),l=o.length;return t?(r&&(n=r-l)>0?o=o.charAt(0)+"."+o.slice(1)+Mi(n):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Mi(-i-1)+o,r&&(n=r-l)>0&&(o+=Mi(n))):i>=l?(o+=Mi(i+1-l),r&&(n=r-i-1)>0&&(o=o+"."+Mi(n))):((n=i+1)<l&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-l)>0&&(i+1===l&&(o+="."),o+=Mi(n))),e.s<0?"-"+o:o}function oP(e,t){if(e.length>t)return e.length=t,!0}function RD(e){var t,r,n;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Bo+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return iP(l,o.toString())}else if(typeof o!="string")throw Error(Bo+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,fV.test(o))iP(l,o);else throw Error(Bo+o)}if(i.prototype=Ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=RD,i.config=i.set=pV,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function pV(e){if(!e||typeof e!="object")throw Error(Hn+"Object expected");var t,r,n,i=["precision",1,Dl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Rl(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Bo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Bo+r+": "+n);return this}var nw=RD(dV);An=new nw(1);const zt=nw;function hV(e){return yV(e)||gV(e)||vV(e)||mV()}function mV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vV(e,t){if(e){if(typeof e=="string")return K0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K0(e,t)}}function gV(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function yV(e){if(Array.isArray(e))return K0(e)}function K0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xV=function(t){return t},ID={},MD=function(t){return t===ID},sP=function(t){return function r(){return arguments.length===0||arguments.length===1&&MD(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},bV=function e(t,r){return t===1?r:sP(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var l=i.filter(function(u){return u!==ID}).length;return l>=t?r.apply(void 0,i):e(t-l,sP(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var h=i.map(function(m){return MD(m)?d.shift():m});return r.apply(void 0,hV(h).concat(d))}))})},Ch=function(t){return bV(t.length,t)},V0=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},SV=Ch(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),wV=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return xV;var i=r.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce(function(u,d){return d(u)},o.apply(void 0,arguments))}},G0=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},LD=function(t){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r&&o.every(function(u,d){return u===r[d]})||(r=o,n=t.apply(void 0,o)),n}};function jV(e){var t;return e===0?t=1:t=Math.floor(new zt(e).abs().log(10).toNumber())+1,t}function kV(e,t,r){for(var n=new zt(e),i=0,o=[];n.lt(t)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var CV=Ch(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),AV=Ch(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),zV=Ch(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Ah={rangeStep:kV,getDigitCount:jV,interpolateNumber:CV,uninterpolateNumber:AV,uninterpolateTruncation:zV};function q0(e){return OV(e)||PV(e)||BD(e)||NV()}function NV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PV(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function OV(e){if(Array.isArray(e))return Z0(e)}function bu(e,t){return EV(e)||TV(e,t)||BD(e,t)||_V()}function _V(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BD(e,t){if(e){if(typeof e=="string")return Z0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z0(e,t)}}function Z0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TV(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,o=void 0;try{for(var l=e[Symbol.iterator](),u;!(n=(u=l.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(d){i=!0,o=d}finally{try{!n&&l.return!=null&&l.return()}finally{if(i)throw o}}return r}}function EV(e){if(Array.isArray(e))return e}function FD(e){var t=bu(e,2),r=t[0],n=t[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function WD(e,t,r){if(e.lte(0))return new zt(0);var n=Ah.getDigitCount(e.toNumber()),i=new zt(10).pow(n),o=e.div(i),l=n!==1?.05:.1,u=new zt(Math.ceil(o.div(l).toNumber())).add(r).mul(l),d=u.mul(i);return t?d:new zt(Math.ceil(d))}function DV(e,t,r){var n=1,i=new zt(e);if(!i.isint()&&r){var o=Math.abs(e);o<1?(n=new zt(10).pow(Ah.getDigitCount(e)-1),i=new zt(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new zt(Math.floor(e)))}else e===0?i=new zt(Math.floor((t-1)/2)):r||(i=new zt(Math.floor(e)));var l=Math.floor((t-1)/2),u=wV(SV(function(d){return i.add(new zt(d-l).mul(n)).toNumber()}),V0);return u(0,t)}function $D(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new zt(0),tickMin:new zt(0),tickMax:new zt(0)};var o=WD(new zt(t).sub(e).div(r-1),n,i),l;e<=0&&t>=0?l=new zt(0):(l=new zt(e).add(t).div(2),l=l.sub(new zt(l).mod(o)));var u=Math.ceil(l.sub(e).div(o).toNumber()),d=Math.ceil(new zt(t).sub(l).div(o).toNumber()),f=u+d+1;return f>r?$D(e,t,r,n,i+1):(f<r&&(d=t>0?d+(r-f):d,u=t>0?u:u+(r-f)),{step:o,tickMin:l.sub(new zt(u).mul(o)),tickMax:l.add(new zt(d).mul(o))})}function RV(e){var t=bu(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),u=FD([r,n]),d=bu(u,2),f=d[0],h=d[1];if(f===-1/0||h===1/0){var m=h===1/0?[f].concat(q0(V0(0,i-1).map(function(){return 1/0}))):[].concat(q0(V0(0,i-1).map(function(){return-1/0})),[h]);return r>n?G0(m):m}if(f===h)return DV(f,i,o);var v=$D(f,h,l,o),x=v.step,w=v.tickMin,b=v.tickMax,y=Ah.rangeStep(w,b.add(new zt(.1).mul(x)),x);return r>n?G0(y):y}function IV(e,t){var r=bu(e,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=FD([n,i]),u=bu(l,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[n,i];if(d===f)return[d];var h=Math.max(t,2),m=WD(new zt(f).sub(d).div(h-1),o,0),v=[].concat(q0(Ah.rangeStep(new zt(d),new zt(f).sub(new zt(.99).mul(m)),m)),[f]);return n>i?G0(v):v}var MV=LD(RV),LV=LD(IV),BV="Invariant failed";function Ho(e,t){throw new Error(BV)}var FV=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function il(e){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(e)}function hp(){return hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hp.apply(this,arguments)}function WV(e,t){return KV(e)||HV(e,t)||UV(e,t)||$V()}function $V(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UV(e,t){if(e){if(typeof e=="string")return lP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lP(e,t)}}function lP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){f=!0,i=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function KV(e){if(Array.isArray(e))return e}function VV(e,t){if(e==null)return{};var r=GV(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GV(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KD(n.key),n)}}function XV(e,t,r){return t&&ZV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YV(e,t,r){return t=mp(t),QV(e,UD()?Reflect.construct(t,r||[],mp(e).constructor):t.apply(e,r))}function QV(e,t){if(t&&(il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JV(e)}function JV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UD=function(){return!!e})()}function mp(e){return mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mp(e)}function eG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X0(e,t)}function X0(e,t){return X0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},X0(e,t)}function HD(e,t,r){return t=KD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KD(e){var t=tG(e,"string");return il(t)=="symbol"?t:t+""}function tG(e,t){if(il(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Il=(function(e){function t(){return qV(this,t),YV(this,t,arguments)}return eG(t,e),XV(t,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,l=n.width,u=n.dataKey,d=n.data,f=n.dataPointFormatter,h=n.xAxis,m=n.yAxis,v=VV(n,FV),x=Fe(v,!1);this.props.direction==="x"&&h.type!=="number"&&Ho();var w=d.map(function(b){var y=f(b,u),j=y.x,A=y.y,S=y.value,N=y.errorVal;if(!N)return null;var z=[],O,_;if(Array.isArray(N)){var E=WV(N,2);O=E[0],_=E[1]}else O=_=N;if(o==="vertical"){var T=h.scale,B=A+i,R=B+l,F=B-l,K=T(S-O),H=T(S+_);z.push({x1:H,y1:R,x2:H,y2:F}),z.push({x1:K,y1:B,x2:H,y2:B}),z.push({x1:K,y1:R,x2:K,y2:F})}else if(o==="horizontal"){var M=m.scale,$=j+i,U=$-l,I=$+l,Q=M(S-O),L=M(S+_);z.push({x1:U,y1:L,x2:I,y2:L}),z.push({x1:$,y1:Q,x2:$,y2:L}),z.push({x1:U,y1:Q,x2:I,y2:Q})}return V.createElement(et,hp({className:"recharts-errorBar",key:"bar-".concat(z.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},x),z.map(function(W){return V.createElement("line",hp({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return V.createElement(et,{className:"recharts-errorBars"},w)}}])})(V.Component);HD(Il,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});HD(Il,"displayName","ErrorBar");function Su(e){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}function cP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(r),!0).forEach(function(n){rG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rG(e,t,r){return t=nG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nG(e){var t=aG(e,"string");return Su(t)=="symbol"?t:t+""}function aG(e,t){if(Su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VD=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,l=kn(r,Lt);if(!l)return null;var u=Lt.defaultProps,d=u!==void 0?wo(wo({},u),l.props):{},f;return l.props&&l.props.payload?f=l.props&&l.props.payload:o==="children"?f=(n||[]).reduce(function(h,m){var v=m.item,x=m.props,w=x.sectors||x.data||[];return h.concat(w.map(function(b){return{type:l.props.iconType||v.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):f=(n||[]).map(function(h){var m=h.item,v=m.type.defaultProps,x=v!==void 0?wo(wo({},v),m.props):{},w=x.dataKey,b=x.name,y=x.legendType,j=x.hide;return{inactive:j,dataKey:w,type:d.iconType||y||"square",color:aw(m),value:b||w,payload:x}}),wo(wo(wo({},d),Lt.getWithHeight(l,i)),{},{payload:f,item:l})};function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function uP(e){return lG(e)||sG(e)||oG(e)||iG()}function iG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oG(e,t){if(e){if(typeof e=="string")return Y0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y0(e,t)}}function sG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lG(e){if(Array.isArray(e))return Y0(e)}function Y0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(r),!0).forEach(function(n){Gs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gs(e,t,r){return t=cG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cG(e){var t=uG(e,"string");return wu(t)=="symbol"?t:t+""}function uG(e,t){if(wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ht(e,t,r){return Ve(e)||Ve(t)?r:xr(t)?zn(e,t,r):Ge(t)?t(e):r}function Yc(e,t,r,n){var i=lV(e,function(u){return Ht(u,t)});if(r==="number"){var o=i.filter(function(u){return we(u)||parseFloat(u)});return o.length?[kh(o),Bi(o)]:[1/0,-1/0]}var l=n?i.filter(function(u){return!Ve(u)}):i;return l.map(function(u){return xr(u)||u instanceof Date?u:""})}var dG=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,l=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var d=o.range,f=0;f<u;f++){var h=f>0?i[f-1].coordinate:i[u-1].coordinate,m=i[f].coordinate,v=f>=u-1?i[0].coordinate:i[f+1].coordinate,x=void 0;if(en(m-h)!==en(v-m)){var w=[];if(en(v-m)===en(d[1]-d[0])){x=v;var b=m+d[1]-d[0];w[0]=Math.min(b,(b+h)/2),w[1]=Math.max(b,(b+h)/2)}else{x=h;var y=v+d[1]-d[0];w[0]=Math.min(m,(y+m)/2),w[1]=Math.max(m,(y+m)/2)}var j=[Math.min(m,(x+m)/2),Math.max(m,(x+m)/2)];if(t>j[0]&&t<=j[1]||t>=w[0]&&t<=w[1]){l=i[f].index;break}}else{var A=Math.min(h,v),S=Math.max(h,v);if(t>(A+m)/2&&t<=(S+m)/2){l=i[f].index;break}}}else for(var N=0;N<u;N++)if(N===0&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<u-1&&t>(n[N].coordinate+n[N-1].coordinate)/2&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N===u-1&&t>(n[N].coordinate+n[N-1].coordinate)/2){l=n[N].index;break}return l},aw=function(t){var r,n=t,i=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ar(ar({},t.type.defaultProps),t.props):t.props,l=o.stroke,u=o.fill,d;switch(i){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},fG=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var l={},u=Object.keys(o),d=0,f=u.length;d<f;d++)for(var h=o[u[d]].stackGroups,m=Object.keys(h),v=0,x=m.length;v<x;v++){var w=h[m[v]],b=w.items,y=w.cateAxisId,j=b.filter(function(_){return ti(_.type).indexOf("Bar")>=0});if(j&&j.length){var A=j[0].type.defaultProps,S=A!==void 0?ar(ar({},A),j[0].props):j[0].props,N=S.barSize,z=S[y];l[z]||(l[z]=[]);var O=Ve(N)?r:N;l[z].push({item:j[0],stackList:j.slice(1),barSize:Ve(O)?void 0:tn(O,n,0)})}}return l},pG=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,o=t.sizeList,l=o===void 0?[]:o,u=t.maxBarSize,d=l.length;if(d<1)return null;var f=tn(r,i,0,!0),h,m=[];if(l[0].barSize===+l[0].barSize){var v=!1,x=i/d,w=l.reduce(function(N,z){return N+z.barSize||0},0);w+=(d-1)*f,w>=i&&(w-=(d-1)*f,f=0),w>=i&&x>0&&(v=!0,x*=.9,w=d*x);var b=(i-w)/2>>0,y={offset:b-f,size:0};h=l.reduce(function(N,z){var O={item:z.item,position:{offset:y.offset+y.size+f,size:v?x:z.barSize}},_=[].concat(uP(N),[O]);return y=_[_.length-1].position,z.stackList&&z.stackList.length&&z.stackList.forEach(function(E){_.push({item:E,position:y})}),_},m)}else{var j=tn(n,i,0,!0);i-2*j-(d-1)*f<=0&&(f=0);var A=(i-2*j-(d-1)*f)/d;A>1&&(A>>=0);var S=u===+u?Math.min(A,u):A;h=l.reduce(function(N,z,O){var _=[].concat(uP(N),[{item:z.item,position:{offset:j+(A+f)*O+(A-S)/2,size:S}}]);return z.stackList&&z.stackList.length&&z.stackList.forEach(function(E){_.push({item:E,position:_[_.length-1].position})}),_},m)}return h},hG=function(t,r,n,i){var o=n.children,l=n.width,u=n.margin,d=l-(u.left||0)-(u.right||0),f=VD({children:o,legendWidth:d});if(f){var h=i||{},m=h.width,v=h.height,x=f.align,w=f.verticalAlign,b=f.layout;if((b==="vertical"||b==="horizontal"&&w==="middle")&&x!=="center"&&we(t[x]))return ar(ar({},t),{},Gs({},x,t[x]+(m||0)));if((b==="horizontal"||b==="vertical"&&x==="center")&&w!=="middle"&&we(t[w]))return ar(ar({},t),{},Gs({},w,t[w]+(v||0)))}return t},mG=function(t,r,n){return Ve(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},GD=function(t,r,n,i,o){var l=r.props.children,u=nn(l,Il).filter(function(f){return mG(i,o,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return t.reduce(function(f,h){var m=Ht(h,n);if(Ve(m))return f;var v=Array.isArray(m)?[kh(m),Bi(m)]:[m,m],x=d.reduce(function(w,b){var y=Ht(h,b,0),j=v[0]-Math.abs(Array.isArray(y)?y[0]:y),A=v[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(j,w[0]),Math.max(A,w[1])]},[1/0,-1/0]);return[Math.min(x[0],f[0]),Math.max(x[1],f[1])]},[1/0,-1/0])}return null},vG=function(t,r,n,i,o){var l=r.map(function(u){return GD(t,u,n,o,i)}).filter(function(u){return!Ve(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},qD=function(t,r,n,i,o){var l=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&GD(t,d,f,i)||Yc(t,f,n,o)});if(n==="number")return l.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,f){for(var h=0,m=f.length;h<m;h++)u[f[h]]||(u[f[h]]=!0,d.push(f[h]));return d},[])},ZD=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},XD=function(t,r,n,i){if(i)return t.map(function(d){return d.coordinate});var o,l,u=t.map(function(d){return d.coordinate===r&&(o=!0),d.coordinate===n&&(l=!0),d.coordinate});return o||u.push(r),l||u.push(n),u},Ja=function(t,r,n){if(!t)return null;var i=t.scale,o=t.duplicateDomain,l=t.type,u=t.range,d=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&l==="category"&&i.bandwidth?i.bandwidth()/d:0;if(f=t.axisType==="angleAxis"&&u?.length>=2?en(u[0]-u[1])*2*f:f,r&&(t.ticks||t.niceTicks)){var h=(t.ticks||t.niceTicks).map(function(m){var v=o?o.indexOf(m):m;return{coordinate:i(v)+f,value:m,offset:f}});return h.filter(function(m){return!Ol(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,v){return{coordinate:i(m)+f,value:m,index:v,offset:f}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(m){return{coordinate:i(m)+f,value:m,offset:f}}):i.domain().map(function(m,v){return{coordinate:i(m)+f,value:o?o[m]:m,index:v,offset:f}})},vb=new WeakMap,Sf=function(t,r){if(typeof r!="function")return t;vb.has(t)||vb.set(t,new WeakMap);var n=vb.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},YD=function(t,r,n){var i=t.scale,o=t.type,l=t.layout,u=t.axisType;if(i==="auto")return l==="radial"&&u==="radiusAxis"?{scale:hu(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:cp(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Xc(),realScaleType:"point"}:o==="category"?{scale:hu(),realScaleType:"band"}:{scale:cp(),realScaleType:"linear"};if(Wo(i)){var d="scale".concat(ch(i));return{scale:(XN[d]||Xc)(),realScaleType:XN[d]?d:"point"}}return Ge(i)?{scale:i}:{scale:Xc(),realScaleType:"point"}},fP=1e-4,QD=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),o=Math.min(i[0],i[1])-fP,l=Math.max(i[0],i[1])+fP,u=t(r[0]),d=t(r[n-1]);(u<o||u>l||d<o||d>l)&&t.domain([r[0],r[n-1]])}},gG=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},yG=function(t,r){if(!r||r.length!==2||!we(r[0])||!we(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!we(t[0])||t[0]<n)&&(o[0]=n),(!we(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},xG=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var o=0,l=0,u=0;u<r;++u){var d=Ol(t[u][n][1])?t[u][n][0]:t[u][n][1];d>=0?(t[u][n][0]=o,t[u][n][1]=o+d,o=t[u][n][1]):(t[u][n][0]=l,t[u][n][1]=l+d,l=t[u][n][1])}},bG=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var o=0,l=0;l<r;++l){var u=Ol(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=o,t[l][n][1]=o+u,o=t[l][n][1]):(t[l][n][0]=0,t[l][n][1]=0)}},SG={sign:xG,expand:l6,none:Ys,silhouette:c6,wiggle:u6,positive:bG},wG=function(t,r,n){var i=r.map(function(u){return u.props.dataKey}),o=SG[n],l=s6().keys(i).value(function(u,d){return+Ht(u,d,0)}).order(z0).offset(o);return l(t)},jG=function(t,r,n,i,o,l){if(!t)return null;var u=l?r.reverse():r,d={},f=u.reduce(function(m,v){var x,w=(x=v.type)!==null&&x!==void 0&&x.defaultProps?ar(ar({},v.type.defaultProps),v.props):v.props,b=w.stackId,y=w.hide;if(y)return m;var j=w[n],A=m[j]||{hasStack:!1,stackGroups:{}};if(xr(b)){var S=A.stackGroups[b]||{numericAxisId:n,cateAxisId:i,items:[]};S.items.push(v),A.hasStack=!0,A.stackGroups[b]=S}else A.stackGroups[to("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[v]};return ar(ar({},m),{},Gs({},j,A))},d),h={};return Object.keys(f).reduce(function(m,v){var x=f[v];if(x.hasStack){var w={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(b,y){var j=x.stackGroups[y];return ar(ar({},b),{},Gs({},y,{numericAxisId:n,cateAxisId:i,items:j.items,stackedData:wG(t,j.items,o)}))},w)}return ar(ar({},m),{},Gs({},v,x))},h)},JD=function(t,r){var n=r.realScaleType,i=r.type,o=r.tickCount,l=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(o&&i==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var f=t.domain();if(!f.length)return null;var h=MV(f,o,u);return t.domain([kh(h),Bi(h)]),{niceTicks:h}}if(o&&i==="number"){var m=t.domain(),v=LV(m,o,u);return{niceTicks:v}}return null};function ol(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,o=e.index,l=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ve(i[t.dataKey])){var u=Kf(r,"value",i[t.dataKey]);if(u)return u.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var d=Ht(i,Ve(l)?t.dataKey:l);return Ve(d)?null:t.scale(d)}var pP=function(t){var r=t.axis,n=t.ticks,i=t.offset,o=t.bandSize,l=t.entry,u=t.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var d=Ht(l,r.dataKey,r.domain[u]);return Ve(d)?null:r.scale(d)-o/2+i},kG=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},CG=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ar(ar({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(xr(o)){var l=r[o];if(l){var u=l.items.indexOf(t);return u>=0?l.stackedData[u]:null}}return null},AG=function(t){return t.reduce(function(r,n){return[kh(n.concat([r[0]]).filter(we)),Bi(n.concat([r[1]]).filter(we))]},[1/0,-1/0])},eR=function(t,r,n){return Object.keys(t).reduce(function(i,o){var l=t[o],u=l.stackedData,d=u.reduce(function(f,h){var m=AG(h.slice(r,n+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},hP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Q0=function(t,r,n){if(Ge(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(we(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(hP.test(t[0])){var o=+hP.exec(t[0])[1];i[0]=r[0]-o}else Ge(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(we(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(mP.test(t[1])){var l=+mP.exec(t[1])[1];i[1]=r[1]+l}else Ge(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},vp=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var o=T1(r,function(m){return m.coordinate}),l=1/0,u=1,d=o.length;u<d;u++){var f=o[u],h=o[u-1];l=Math.min((f.coordinate||0)-(h.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0},vP=function(t,r,n){return!t||!t.length||qi(t,zn(n,"type.defaultProps.domain"))?r:t},tR=function(t,r){var n=t.type.defaultProps?ar(ar({},t.type.defaultProps),t.props):t.props,i=n.dataKey,o=n.name,l=n.unit,u=n.formatter,d=n.tooltipType,f=n.chartType,h=n.hide;return ar(ar({},Fe(t,!1)),{},{dataKey:i,unit:l,formatter:u,name:o||i,color:aw(t),value:Ht(r,i),type:d,payload:r,chartType:f,hide:h})};function ju(e){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){rR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rR(e,t,r){return t=zG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zG(e){var t=NG(e,"string");return ju(t)=="symbol"?t:t+""}function NG(e,t){if(ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PG(e,t){return EG(e)||TG(e,t)||_G(e,t)||OG()}function OG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _G(e,t){if(e){if(typeof e=="string")return yP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yP(e,t)}}function yP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){f=!0,i=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function EG(e){if(Array.isArray(e))return e}var gp=Math.PI/180,DG=function(t){return t*180/Math.PI},Bt=function(t,r,n,i){return{x:t+Math.cos(-gp*i)*n,y:r+Math.sin(-gp*i)*n}},nR=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},RG=function(t,r,n,i,o){var l=t.width,u=t.height,d=t.startAngle,f=t.endAngle,h=tn(t.cx,l,l/2),m=tn(t.cy,u,u/2),v=nR(l,u,n),x=tn(t.innerRadius,v,0),w=tn(t.outerRadius,v,v*.8),b=Object.keys(r);return b.reduce(function(y,j){var A=r[j],S=A.domain,N=A.reversed,z;if(Ve(A.range))i==="angleAxis"?z=[d,f]:i==="radiusAxis"&&(z=[x,w]),N&&(z=[z[1],z[0]]);else{z=A.range;var O=z,_=PG(O,2);d=_[0],f=_[1]}var E=YD(A,o),T=E.realScaleType,B=E.scale;B.domain(S).range(z),QD(B);var R=JD(B,Za(Za({},A),{},{realScaleType:T})),F=Za(Za(Za({},A),R),{},{range:z,radius:w,realScaleType:T,scale:B,cx:h,cy:m,innerRadius:x,outerRadius:w,startAngle:d,endAngle:f});return Za(Za({},y),{},rR({},j,F))},{})},IG=function(t,r){var n=t.x,i=t.y,o=r.x,l=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-l,2))},MG=function(t,r){var n=t.x,i=t.y,o=r.cx,l=r.cy,u=IG({x:n,y:i},{x:o,y:l});if(u<=0)return{radius:u};var d=(n-o)/u,f=Math.acos(d);return i>l&&(f=2*Math.PI-f),{radius:u,angle:DG(f),angleInRadian:f}},LG=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),l=Math.min(i,o);return{startAngle:r-l*360,endAngle:n-l*360}},BG=function(t,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),l=Math.floor(i/360),u=Math.min(o,l);return t+u*360},xP=function(t,r){var n=t.x,i=t.y,o=MG({x:n,y:i},r),l=o.radius,u=o.angle,d=r.innerRadius,f=r.outerRadius;if(l<d||l>f)return!1;if(l===0)return!0;var h=LG(r),m=h.startAngle,v=h.endAngle,x=u,w;if(m<=v){for(;x>v;)x-=360;for(;x<m;)x+=360;w=x>=m&&x<=v}else{for(;x>m;)x-=360;for(;x<v;)x+=360;w=x>=v&&x<=m}return w?Za(Za({},r),{},{radius:l,angle:BG(x,r)}):null},aR=function(t){return!k.isValidElement(t)&&!Ge(t)&&typeof t!="boolean"?t.className:""};function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}var FG=["offset"];function WG(e){return KG(e)||HG(e)||UG(e)||$G()}function $G(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UG(e,t){if(e){if(typeof e=="string")return J0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J0(e,t)}}function HG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KG(e){if(Array.isArray(e))return J0(e)}function J0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VG(e,t){if(e==null)return{};var r=GG(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(r),!0).forEach(function(n){qG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qG(e,t,r){return t=ZG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZG(e){var t=XG(e,"string");return ku(t)=="symbol"?t:t+""}function XG(e,t){if(ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cu(){return Cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cu.apply(this,arguments)}var YG=function(t){var r=t.value,n=t.formatter,i=Ve(t.children)?r:t.children;return Ge(n)?n(i):i},QG=function(t,r){var n=en(r-t),i=Math.min(Math.abs(r-t),360);return n*i},JG=function(t,r,n){var i=t.position,o=t.viewBox,l=t.offset,u=t.className,d=o,f=d.cx,h=d.cy,m=d.innerRadius,v=d.outerRadius,x=d.startAngle,w=d.endAngle,b=d.clockWise,y=(m+v)/2,j=QG(x,w),A=j>=0?1:-1,S,N;i==="insideStart"?(S=x+A*l,N=b):i==="insideEnd"?(S=w-A*l,N=!b):i==="end"&&(S=w+A*l,N=b),N=j<=0?N:!N;var z=Bt(f,h,y,S),O=Bt(f,h,y,S+(N?1:-1)*359),_="M".concat(z.x,",").concat(z.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(N?0:1,`,
    `).concat(O.x,",").concat(O.y),E=Ve(t.id)?to("recharts-radial-line-"):t.id;return V.createElement("text",Cu({},n,{dominantBaseline:"central",className:Ye("recharts-radial-bar-label",u)}),V.createElement("defs",null,V.createElement("path",{id:E,d:_})),V.createElement("textPath",{xlinkHref:"#".concat(E)},r))},e9=function(t){var r=t.viewBox,n=t.offset,i=t.position,o=r,l=o.cx,u=o.cy,d=o.innerRadius,f=o.outerRadius,h=o.startAngle,m=o.endAngle,v=(h+m)/2;if(i==="outside"){var x=Bt(l,u,f+n,v),w=x.x,b=x.y;return{x:w,y:b,textAnchor:w>=l?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var y=(d+f)/2,j=Bt(l,u,y,v),A=j.x,S=j.y;return{x:A,y:S,textAnchor:"middle",verticalAnchor:"middle"}},t9=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,o=t.position,l=r,u=l.x,d=l.y,f=l.width,h=l.height,m=h>=0?1:-1,v=m*i,x=m>0?"end":"start",w=m>0?"start":"end",b=f>=0?1:-1,y=b*i,j=b>0?"end":"start",A=b>0?"start":"end";if(o==="top"){var S={x:u+f/2,y:d-m*i,textAnchor:"middle",verticalAnchor:x};return yr(yr({},S),n?{height:Math.max(d-n.y,0),width:f}:{})}if(o==="bottom"){var N={x:u+f/2,y:d+h+v,textAnchor:"middle",verticalAnchor:w};return yr(yr({},N),n?{height:Math.max(n.y+n.height-(d+h),0),width:f}:{})}if(o==="left"){var z={x:u-y,y:d+h/2,textAnchor:j,verticalAnchor:"middle"};return yr(yr({},z),n?{width:Math.max(z.x-n.x,0),height:h}:{})}if(o==="right"){var O={x:u+f+y,y:d+h/2,textAnchor:A,verticalAnchor:"middle"};return yr(yr({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:h}:{})}var _=n?{width:f,height:h}:{};return o==="insideLeft"?yr({x:u+y,y:d+h/2,textAnchor:A,verticalAnchor:"middle"},_):o==="insideRight"?yr({x:u+f-y,y:d+h/2,textAnchor:j,verticalAnchor:"middle"},_):o==="insideTop"?yr({x:u+f/2,y:d+v,textAnchor:"middle",verticalAnchor:w},_):o==="insideBottom"?yr({x:u+f/2,y:d+h-v,textAnchor:"middle",verticalAnchor:x},_):o==="insideTopLeft"?yr({x:u+y,y:d+v,textAnchor:A,verticalAnchor:w},_):o==="insideTopRight"?yr({x:u+f-y,y:d+v,textAnchor:j,verticalAnchor:w},_):o==="insideBottomLeft"?yr({x:u+y,y:d+h-v,textAnchor:A,verticalAnchor:x},_):o==="insideBottomRight"?yr({x:u+f-y,y:d+h-v,textAnchor:j,verticalAnchor:x},_):Pl(o)&&(we(o.x)||To(o.x))&&(we(o.y)||To(o.y))?yr({x:u+tn(o.x,f),y:d+tn(o.y,h),textAnchor:"end",verticalAnchor:"end"},_):yr({x:u+f/2,y:d+h/2,textAnchor:"middle",verticalAnchor:"middle"},_)},r9=function(t){return"cx"in t&&we(t.cx)};function Ar(e){var t=e.offset,r=t===void 0?5:t,n=VG(e,FG),i=yr({offset:r},n),o=i.viewBox,l=i.position,u=i.value,d=i.children,f=i.content,h=i.className,m=h===void 0?"":h,v=i.textBreakAll;if(!o||Ve(u)&&Ve(d)&&!k.isValidElement(f)&&!Ge(f))return null;if(k.isValidElement(f))return k.cloneElement(f,i);var x;if(Ge(f)){if(x=k.createElement(f,i),k.isValidElement(x))return x}else x=YG(i);var w=r9(o),b=Fe(i,!0);if(w&&(l==="insideStart"||l==="insideEnd"||l==="end"))return JG(i,x,b);var y=w?e9(i):t9(i);return V.createElement($o,Cu({className:Ye("recharts-label",m)},b,y,{breakAll:v}),x)}Ar.displayName="Label";var iR=function(t){var r=t.cx,n=t.cy,i=t.angle,o=t.startAngle,l=t.endAngle,u=t.r,d=t.radius,f=t.innerRadius,h=t.outerRadius,m=t.x,v=t.y,x=t.top,w=t.left,b=t.width,y=t.height,j=t.clockWise,A=t.labelViewBox;if(A)return A;if(we(b)&&we(y)){if(we(m)&&we(v))return{x:m,y:v,width:b,height:y};if(we(x)&&we(w))return{x,y:w,width:b,height:y}}return we(m)&&we(v)?{x:m,y:v,width:0,height:0}:we(r)&&we(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:l||i||0,innerRadius:f||0,outerRadius:h||d||u||0,clockWise:j}:t.viewBox?t.viewBox:{}},n9=function(t,r){return t?t===!0?V.createElement(Ar,{key:"label-implicit",viewBox:r}):xr(t)?V.createElement(Ar,{key:"label-implicit",viewBox:r,value:t}):k.isValidElement(t)?t.type===Ar?k.cloneElement(t,{key:"label-implicit",viewBox:r}):V.createElement(Ar,{key:"label-implicit",content:t,viewBox:r}):Ge(t)?V.createElement(Ar,{key:"label-implicit",content:t,viewBox:r}):Pl(t)?V.createElement(Ar,Cu({viewBox:r},t,{key:"label-implicit"})):null:null},a9=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,o=iR(t),l=nn(i,Ar).map(function(d,f){return k.cloneElement(d,{viewBox:r||o,key:"label-".concat(f)})});if(!n)return l;var u=n9(t.label,r||o);return[u].concat(WG(l))};Ar.parseViewBox=iR;Ar.renderCallByParent=a9;var gb,SP;function i9(){if(SP)return gb;SP=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return gb=e,gb}var o9=i9();const s9=jt(o9);function Au(e){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}var l9=["valueAccessor"],c9=["data","dataKey","clockWise","id","textBreakAll"];function u9(e){return h9(e)||p9(e)||f9(e)||d9()}function d9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f9(e,t){if(e){if(typeof e=="string")return eS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eS(e,t)}}function p9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function h9(e){if(Array.isArray(e))return eS(e)}function eS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yp(){return yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yp.apply(this,arguments)}function wP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(r),!0).forEach(function(n){m9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m9(e,t,r){return t=v9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v9(e){var t=g9(e,"string");return Au(t)=="symbol"?t:t+""}function g9(e,t){if(Au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kP(e,t){if(e==null)return{};var r=y9(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var x9=function(t){return Array.isArray(t.value)?s9(t.value):t.value};function ua(e){var t=e.valueAccessor,r=t===void 0?x9:t,n=kP(e,l9),i=n.data,o=n.dataKey,l=n.clockWise,u=n.id,d=n.textBreakAll,f=kP(n,c9);return!i||!i.length?null:V.createElement(et,{className:"recharts-label-list"},i.map(function(h,m){var v=Ve(o)?r(h,m):Ht(h&&h.payload,o),x=Ve(u)?{}:{id:"".concat(u,"-").concat(m)};return V.createElement(Ar,yp({},Fe(h,!0),f,x,{parentViewBox:h.parentViewBox,value:v,textBreakAll:d,viewBox:Ar.parseViewBox(Ve(l)?h:jP(jP({},h),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}ua.displayName="LabelList";function b9(e,t){return e?e===!0?V.createElement(ua,{key:"labelList-implicit",data:t}):V.isValidElement(e)||Ge(e)?V.createElement(ua,{key:"labelList-implicit",data:t,content:e}):Pl(e)?V.createElement(ua,yp({data:t},e,{key:"labelList-implicit"})):null:null}function S9(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=nn(n,ua).map(function(l,u){return k.cloneElement(l,{data:t,key:"labelList-".concat(u)})});if(!r)return i;var o=b9(e.label,t);return[o].concat(u9(i))}ua.renderCallByParent=S9;function zu(e){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(e)}function tS(){return tS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tS.apply(this,arguments)}function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){w9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w9(e,t,r){return t=j9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j9(e){var t=k9(e,"string");return zu(t)=="symbol"?t:t+""}function k9(e,t){if(zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C9=function(t,r){var n=en(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},wf=function(t){var r=t.cx,n=t.cy,i=t.radius,o=t.angle,l=t.sign,u=t.isExternal,d=t.cornerRadius,f=t.cornerIsExternal,h=d*(u?1:-1)+i,m=Math.asin(d/h)/gp,v=f?o:o+l*m,x=Bt(r,n,h,v),w=Bt(r,n,i,v),b=f?o-l*m:o,y=Bt(r,n,h*Math.cos(m*gp),b);return{center:x,circleTangency:w,lineTangency:y,theta:m}},oR=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,o=t.outerRadius,l=t.startAngle,u=t.endAngle,d=C9(l,u),f=l+d,h=Bt(r,n,o,l),m=Bt(r,n,o,f),v="M ".concat(h.x,",").concat(h.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var x=Bt(r,n,i,l),w=Bt(r,n,i,f);v+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else v+="L ".concat(r,",").concat(n," Z");return v},A9=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,o=t.outerRadius,l=t.cornerRadius,u=t.forceCornerRadius,d=t.cornerIsExternal,f=t.startAngle,h=t.endAngle,m=en(h-f),v=wf({cx:r,cy:n,radius:o,angle:f,sign:m,cornerRadius:l,cornerIsExternal:d}),x=v.circleTangency,w=v.lineTangency,b=v.theta,y=wf({cx:r,cy:n,radius:o,angle:h,sign:-m,cornerRadius:l,cornerIsExternal:d}),j=y.circleTangency,A=y.lineTangency,S=y.theta,N=d?Math.abs(f-h):Math.abs(f-h)-b-S;if(N<0)return u?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):oR({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h});var z="M ".concat(w.x,",").concat(w.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(N>180),",").concat(+(m<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
  `);if(i>0){var O=wf({cx:r,cy:n,radius:i,angle:f,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),_=O.circleTangency,E=O.lineTangency,T=O.theta,B=wf({cx:r,cy:n,radius:i,angle:h,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),R=B.circleTangency,F=B.lineTangency,K=B.theta,H=d?Math.abs(f-h):Math.abs(f-h)-T-K;if(H<0&&l===0)return"".concat(z,"L").concat(r,",").concat(n,"Z");z+="L".concat(F.x,",").concat(F.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(H>180),",").concat(+(m>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,"Z")}else z+="L".concat(r,",").concat(n,"Z");return z},z9={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sR=function(t){var r=AP(AP({},z9),t),n=r.cx,i=r.cy,o=r.innerRadius,l=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,h=r.startAngle,m=r.endAngle,v=r.className;if(l<o||h===m)return null;var x=Ye("recharts-sector",v),w=l-o,b=tn(u,w,0,!0),y;return b>0&&Math.abs(h-m)<360?y=A9({cx:n,cy:i,innerRadius:o,outerRadius:l,cornerRadius:Math.min(b,w/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:m}):y=oR({cx:n,cy:i,innerRadius:o,outerRadius:l,startAngle:h,endAngle:m}),V.createElement("path",tS({},Fe(r,!0),{className:x,d:y,role:"img"}))};function Nu(e){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nu(e)}function rS(){return rS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rS.apply(this,arguments)}function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){N9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N9(e,t,r){return t=P9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P9(e){var t=O9(e,"string");return Nu(t)=="symbol"?t:t+""}function O9(e,t){if(Nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PP={curveBasisClosed:XW,curveBasisOpen:YW,curveBasis:ZW,curveBumpX:RW,curveBumpY:IW,curveLinearClosed:QW,curveLinear:dh,curveMonotoneX:JW,curveMonotoneY:e6,curveNatural:t6,curveStep:r6,curveStepAfter:a6,curveStepBefore:n6},jf=function(t){return t.x===+t.x&&t.y===+t.y},Tc=function(t){return t.x},Ec=function(t){return t.y},_9=function(t,r){if(Ge(t))return t;var n="curve".concat(ch(t));return(n==="curveMonotone"||n==="curveBump")&&r?PP["".concat(n).concat(r==="vertical"?"Y":"X")]:PP[n]||dh},T9=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,o=i===void 0?[]:i,l=t.baseLine,u=t.layout,d=t.connectNulls,f=d===void 0?!1:d,h=_9(n,u),m=f?o.filter(function(b){return jf(b)}):o,v;if(Array.isArray(l)){var x=f?l.filter(function(b){return jf(b)}):l,w=m.map(function(b,y){return NP(NP({},b),{},{base:x[y]})});return u==="vertical"?v=hf().y(Ec).x1(Tc).x0(function(b){return b.base.x}):v=hf().x(Tc).y1(Ec).y0(function(b){return b.base.y}),v.defined(jf).curve(h),v(w)}return u==="vertical"&&we(l)?v=hf().y(Ec).x1(Tc).x0(l):we(l)?v=hf().x(Tc).y1(Ec).y0(l):v=iE().x(Tc).y(Ec),v.defined(jf).curve(h),v(m)},Hi=function(t){var r=t.className,n=t.points,i=t.path,o=t.pathRef;if((!n||!n.length)&&!i)return null;var l=n&&n.length?T9(t):i;return k.createElement("path",rS({},Fe(t,!1),Vf(t),{className:Ye("recharts-curve",r),d:l,ref:o}))},yb={exports:{}},xb,OP;function E9(){if(OP)return xb;OP=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return xb=e,xb}var bb,_P;function D9(){if(_P)return bb;_P=1;var e=E9();function t(){}function r(){}return r.resetWarningCache=t,bb=function(){function n(l,u,d,f,h,m){if(m!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return o.PropTypes=o,o},bb}var TP;function R9(){return TP||(TP=1,yb.exports=D9()()),yb.exports}var I9=R9();const wt=jt(I9),{getOwnPropertyNames:M9,getOwnPropertySymbols:L9}=Object,{hasOwnProperty:B9}=Object.prototype;function Sb(e,t){return function(n,i,o){return e(n,i,o)&&t(n,i,o)}}function kf(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);const{cache:o}=i,l=o.get(r),u=o.get(n);if(l&&u)return l===n&&u===r;o.set(r,n),o.set(n,r);const d=e(r,n,i);return o.delete(r),o.delete(n),d}}function F9(e){return e?.[Symbol.toStringTag]}function EP(e){return M9(e).concat(L9(e))}const W9=Object.hasOwn||((e,t)=>B9.call(e,t));function es(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const $9="__v",U9="__o",H9="_owner",{getOwnPropertyDescriptor:DP,keys:RP}=Object;function K9(e,t){return e.byteLength===t.byteLength&&xp(new Uint8Array(e),new Uint8Array(t))}function V9(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function G9(e,t){return e.byteLength===t.byteLength&&xp(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function q9(e,t){return es(e.getTime(),t.getTime())}function Z9(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function X9(e,t){return e===t}function IP(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),o=e.entries();let l,u,d=0;for(;(l=o.next())&&!l.done;){const f=t.entries();let h=!1,m=0;for(;(u=f.next())&&!u.done;){if(i[m]){m++;continue}const v=l.value,x=u.value;if(r.equals(v[0],x[0],d,m,e,t,r)&&r.equals(v[1],x[1],v[0],x[0],e,t,r)){h=i[m]=!0;break}m++}if(!h)return!1;d++}return!0}const Y9=es;function Q9(e,t,r){const n=RP(e);let i=n.length;if(RP(t).length!==i)return!1;for(;i-- >0;)if(!lR(e,t,r,n[i]))return!1;return!0}function Dc(e,t,r){const n=EP(e);let i=n.length;if(EP(t).length!==i)return!1;let o,l,u;for(;i-- >0;)if(o=n[i],!lR(e,t,r,o)||(l=DP(e,o),u=DP(t,o),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function J9(e,t){return es(e.valueOf(),t.valueOf())}function e7(e,t){return e.source===t.source&&e.flags===t.flags}function MP(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),o=e.values();let l,u;for(;(l=o.next())&&!l.done;){const d=t.values();let f=!1,h=0;for(;(u=d.next())&&!u.done;){if(!i[h]&&r.equals(l.value,u.value,l.value,u.value,e,t,r)){f=i[h]=!0;break}h++}if(!f)return!1}return!0}function xp(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function t7(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function lR(e,t,r,n){return(n===H9||n===U9||n===$9)&&(e.$$typeof||t.$$typeof)?!0:W9(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const r7="[object ArrayBuffer]",n7="[object Arguments]",a7="[object Boolean]",i7="[object DataView]",o7="[object Date]",s7="[object Error]",l7="[object Map]",c7="[object Number]",u7="[object Object]",d7="[object RegExp]",f7="[object Set]",p7="[object String]",h7={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},m7="[object URL]",v7=Object.prototype.toString;function g7({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:l,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:f,areRegExpsEqual:h,areSetsEqual:m,areTypedArraysEqual:v,areUrlsEqual:x,unknownTagComparators:w}){return function(y,j,A){if(y===j)return!0;if(y==null||j==null)return!1;const S=typeof y;if(S!==typeof j)return!1;if(S!=="object")return S==="number"?u(y,j,A):S==="function"?o(y,j,A):!1;const N=y.constructor;if(N!==j.constructor)return!1;if(N===Object)return d(y,j,A);if(Array.isArray(y))return t(y,j,A);if(N===Date)return n(y,j,A);if(N===RegExp)return h(y,j,A);if(N===Map)return l(y,j,A);if(N===Set)return m(y,j,A);const z=v7.call(y);if(z===o7)return n(y,j,A);if(z===d7)return h(y,j,A);if(z===l7)return l(y,j,A);if(z===f7)return m(y,j,A);if(z===u7)return typeof y.then!="function"&&typeof j.then!="function"&&d(y,j,A);if(z===m7)return x(y,j,A);if(z===s7)return i(y,j,A);if(z===n7)return d(y,j,A);if(h7[z])return v(y,j,A);if(z===r7)return e(y,j,A);if(z===i7)return r(y,j,A);if(z===a7||z===c7||z===p7)return f(y,j,A);if(w){let O=w[z];if(!O){const _=F9(y);_&&(O=w[_])}if(O)return O(y,j,A)}return!1}}function y7({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:K9,areArraysEqual:r?Dc:V9,areDataViewsEqual:G9,areDatesEqual:q9,areErrorsEqual:Z9,areFunctionsEqual:X9,areMapsEqual:r?Sb(IP,Dc):IP,areNumbersEqual:Y9,areObjectsEqual:r?Dc:Q9,arePrimitiveWrappersEqual:J9,areRegExpsEqual:e7,areSetsEqual:r?Sb(MP,Dc):MP,areTypedArraysEqual:r?Sb(xp,Dc):xp,areUrlsEqual:t7,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const i=kf(n.areArraysEqual),o=kf(n.areMapsEqual),l=kf(n.areObjectsEqual),u=kf(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:u})}return n}function x7(e){return function(t,r,n,i,o,l,u){return e(t,r,u)}}function b7({circular:e,comparator:t,createState:r,equals:n,strict:i}){if(r)return function(u,d){const{cache:f=e?new WeakMap:void 0,meta:h}=r();return t(u,d,{cache:f,equals:n,meta:h,strict:i})};if(e)return function(u,d){return t(u,d,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const o={cache:void 0,equals:n,meta:void 0,strict:i};return function(u,d){return t(u,d,o)}}const S7=ao();ao({strict:!0});ao({circular:!0});ao({circular:!0,strict:!0});ao({createInternalComparator:()=>es});ao({strict:!0,createInternalComparator:()=>es});ao({circular:!0,createInternalComparator:()=>es});ao({circular:!0,createInternalComparator:()=>es,strict:!0});function ao(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:i=!1}=e,o=y7(e),l=g7(o),u=r?r(l):x7(l);return b7({circular:t,comparator:l,createState:n,equals:u,strict:i})}function w7(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function LP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>t?(e(o),r=-1):w7(i)};requestAnimationFrame(n)}function nS(e){"@babel/helpers - typeof";return nS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nS(e)}function j7(e){return z7(e)||A7(e)||C7(e)||k7()}function k7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C7(e,t){if(e){if(typeof e=="string")return BP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BP(e,t)}}function BP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function z7(e){if(Array.isArray(e))return e}function N7(){var e={},t=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,u=j7(l),d=u[0],f=u.slice(1);if(typeof d=="number"){LP(i.bind(null,f),d);return}i(d),LP(i.bind(null,f));return}nS(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Pu(e){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(e)}function FP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FP(Object(r),!0).forEach(function(n){cR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cR(e,t,r){return t=P7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P7(e){var t=O7(e,"string");return Pu(t)==="symbol"?t:String(t)}function O7(e,t){if(Pu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _7=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},T7=function(t){return t},E7=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Qc=function(t,r){return Object.keys(r).reduce(function(n,i){return WP(WP({},n),{},cR({},i,t(i,r[i])))},{})},$P=function(t,r,n){return t.map(function(i){return"".concat(E7(i)," ").concat(r,"ms ").concat(n)}).join(",")};function D7(e,t){return M7(e)||I7(e,t)||uR(e,t)||R7()}function R7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){f=!0,i=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function M7(e){if(Array.isArray(e))return e}function L7(e){return W7(e)||F7(e)||uR(e)||B7()}function B7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uR(e,t){if(e){if(typeof e=="string")return aS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aS(e,t)}}function F7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function W7(e){if(Array.isArray(e))return aS(e)}function aS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var bp=1e-4,dR=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},fR=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},UP=function(t,r){return function(n){var i=dR(t,r);return fR(i,n)}},$7=function(t,r){return function(n){var i=dR(t,r),o=[].concat(L7(i.map(function(l,u){return l*u}).slice(1)),[0]);return fR(o,n)}},HP=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],o=r[1],l=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,l=1,u=1;break;case"ease":i=.25,o=.1,l=.25,u=1;break;case"ease-in":i=.42,o=0,l=1,u=1;break;case"ease-out":i=.42,o=0,l=.58,u=1;break;case"ease-in-out":i=0,o=0,l=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),h=D7(f,4);i=h[0],o=h[1],l=h[2],u=h[3]}}}var m=UP(i,l),v=UP(o,u),x=$7(i,l),w=function(j){return j>1?1:j<0?0:j},b=function(j){for(var A=j>1?1:j,S=A,N=0;N<8;++N){var z=m(S)-A,O=x(S);if(Math.abs(z-A)<bp||O<bp)return v(S);S=w(S-z/O)}return v(S)};return b.isStepper=!1,b},U7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,o=i===void 0?8:i,l=t.dt,u=l===void 0?17:l,d=function(h,m,v){var x=-(h-m)*n,w=v*o,b=v+(x-w)*u/1e3,y=v*u/1e3+h;return Math.abs(y-m)<bp&&Math.abs(b)<bp?[m,0]:[y,b]};return d.isStepper=!0,d.dt=u,d},H7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return HP(i);case"spring":return U7();default:if(i.split("(")[0]==="cubic-bezier")return HP(i)}return typeof i=="function"?i:null};function Ou(e){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}function KP(e){return G7(e)||V7(e)||pR(e)||K7()}function K7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G7(e){if(Array.isArray(e))return oS(e)}function VP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(r),!0).forEach(function(n){iS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iS(e,t,r){return t=q7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q7(e){var t=Z7(e,"string");return Ou(t)==="symbol"?t:String(t)}function Z7(e,t){if(Ou(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ou(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X7(e,t){return J7(e)||Q7(e,t)||pR(e,t)||Y7()}function Y7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pR(e,t){if(e){if(typeof e=="string")return oS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oS(e,t)}}function oS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){f=!0,i=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function J7(e){if(Array.isArray(e))return e}var Sp=function(t,r,n){return t+(r-t)*n},sS=function(t){var r=t.from,n=t.to;return r!==n},eq=function e(t,r,n){var i=Qc(function(o,l){if(sS(l)){var u=t(l.from,l.to,l.velocity),d=X7(u,2),f=d[0],h=d[1];return Dr(Dr({},l),{},{from:f,velocity:h})}return l},r);return n<1?Qc(function(o,l){return sS(l)?Dr(Dr({},l),{},{velocity:Sp(l.velocity,i[o].velocity,n),from:Sp(l.from,i[o].from,n)}):l},r):e(t,i,n-1)};const tq=(function(e,t,r,n,i){var o=_7(e,t),l=o.reduce(function(y,j){return Dr(Dr({},y),{},iS({},j,[e[j],t[j]]))},{}),u=o.reduce(function(y,j){return Dr(Dr({},y),{},iS({},j,{from:e[j],velocity:0,to:t[j]}))},{}),d=-1,f,h,m=function(){return null},v=function(){return Qc(function(j,A){return A.from},u)},x=function(){return!Object.values(u).filter(sS).length},w=function(j){f||(f=j);var A=j-f,S=A/r.dt;u=eq(r,u,S),i(Dr(Dr(Dr({},e),t),v())),f=j,x()||(d=requestAnimationFrame(m))},b=function(j){h||(h=j);var A=(j-h)/n,S=Qc(function(z,O){return Sp.apply(void 0,KP(O).concat([r(A)]))},l);if(i(Dr(Dr(Dr({},e),t),S)),A<1)d=requestAnimationFrame(m);else{var N=Qc(function(z,O){return Sp.apply(void 0,KP(O).concat([r(1)]))},l);i(Dr(Dr(Dr({},e),t),N))}};return m=r.isStepper?w:b,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}});function sl(e){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}var rq=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function nq(e,t){if(e==null)return{};var r=aq(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aq(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function wb(e){return lq(e)||sq(e)||oq(e)||iq()}function iq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oq(e,t){if(e){if(typeof e=="string")return lS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lS(e,t)}}function sq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lq(e){if(Array.isArray(e))return lS(e)}function lS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(r),!0).forEach(function(n){Vc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vc(e,t,r){return t=hR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hR(n.key),n)}}function dq(e,t,r){return t&&uq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hR(e){var t=fq(e,"string");return sl(t)==="symbol"?t:String(t)}function fq(e,t){if(sl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cS(e,t)}function cS(e,t){return cS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cS(e,t)}function hq(e){var t=mq();return function(){var n=wp(e),i;if(t){var o=wp(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return uS(this,i)}}function uS(e,t){if(t&&(sl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dS(e)}function dS(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mq(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wp(e){return wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wp(e)}var Kn=(function(e){pq(r,e);var t=hq(r);function r(n,i){var o;cq(this,r),o=t.call(this,n,i);var l=o.props,u=l.isActive,d=l.attributeName,f=l.from,h=l.to,m=l.steps,v=l.children,x=l.duration;if(o.handleStyleChange=o.handleStyleChange.bind(dS(o)),o.changeStyle=o.changeStyle.bind(dS(o)),!u||x<=0)return o.state={style:{}},typeof v=="function"&&(o.state={style:h}),uS(o);if(m&&m.length)o.state={style:m[0].style};else if(f){if(typeof v=="function")return o.state={style:f},uS(o);o.state={style:d?Vc({},d,f):f}}else o.state={style:{}};return o}return dq(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,l=i.canBegin;this.mounted=!0,!(!o||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,l=o.isActive,u=o.canBegin,d=o.attributeName,f=o.shouldReAnimate,h=o.to,m=o.from,v=this.state.style;if(u){if(!l){var x={style:d?Vc({},d,h):h};this.state&&v&&(d&&v[d]!==h||!d&&v!==h)&&this.setState(x);return}if(!(S7(i.to,h)&&i.canBegin&&i.isActive)){var w=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=w||f?m:i.to;if(this.state&&v){var y={style:d?Vc({},d,b):b};(d&&v[d]!==b||!d&&v!==b)&&this.setState(y)}this.runAnimation(ta(ta({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,l=i.from,u=i.to,d=i.duration,f=i.easing,h=i.begin,m=i.onAnimationEnd,v=i.onAnimationStart,x=tq(l,u,H7(f),d,this.changeStyle),w=function(){o.stopJSAnimation=x()};this.manager.start([v,h,w,d,m])}},{key:"runStepAnimation",value:function(i){var o=this,l=i.steps,u=i.begin,d=i.onAnimationStart,f=l[0],h=f.style,m=f.duration,v=m===void 0?0:m,x=function(b,y,j){if(j===0)return b;var A=y.duration,S=y.easing,N=S===void 0?"ease":S,z=y.style,O=y.properties,_=y.onAnimationEnd,E=j>0?l[j-1]:y,T=O||Object.keys(z);if(typeof N=="function"||N==="spring")return[].concat(wb(b),[o.runJSAnimation.bind(o,{from:E.style,to:z,duration:A,easing:N}),A]);var B=$P(T,A,N),R=ta(ta(ta({},E.style),z),{},{transition:B});return[].concat(wb(b),[R,A,_]).filter(T7)};return this.manager.start([d].concat(wb(l.reduce(x,[h,Math.max(v,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=N7());var o=i.begin,l=i.duration,u=i.attributeName,d=i.to,f=i.easing,h=i.onAnimationStart,m=i.onAnimationEnd,v=i.steps,x=i.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof f=="function"||typeof x=="function"||f==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var b=u?Vc({},u,d):d,y=$P(Object.keys(b),l,f);w.start([h,o,ta(ta({},b),{},{transition:y}),l,m])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var l=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=nq(i,rq),f=k.Children.count(o),h=this.state.style;if(typeof o=="function")return o(h);if(!u||f===0||l<=0)return o;var m=function(x){var w=x.props,b=w.style,y=b===void 0?{}:b,j=w.className,A=k.cloneElement(x,ta(ta({},d),{},{style:ta(ta({},y),h),className:j}));return A};return f===1?m(k.Children.only(o)):V.createElement("div",null,k.Children.map(o,function(v){return m(v)}))}}]),r})(k.PureComponent);Kn.displayName="Animate";Kn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Kn.propTypes={from:wt.oneOfType([wt.object,wt.string]),to:wt.oneOfType([wt.object,wt.string]),attributeName:wt.string,duration:wt.number,begin:wt.number,easing:wt.oneOfType([wt.string,wt.func]),steps:wt.arrayOf(wt.shape({duration:wt.number.isRequired,style:wt.object.isRequired,easing:wt.oneOfType([wt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),wt.func]),properties:wt.arrayOf("string"),onAnimationEnd:wt.func})),children:wt.oneOfType([wt.node,wt.func]),isActive:wt.bool,canBegin:wt.bool,onAnimationEnd:wt.func,shouldReAnimate:wt.bool,onAnimationStart:wt.func,onAnimationReStart:wt.func};var Yu=AT();const vq=jt(Yu);function _u(e){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_u(e)}function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jp.apply(this,arguments)}function gq(e,t){return Sq(e)||bq(e,t)||xq(e,t)||yq()}function yq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xq(e,t){if(e){if(typeof e=="string")return qP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qP(e,t)}}function qP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){f=!0,i=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function Sq(e){if(Array.isArray(e))return e}function ZP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZP(Object(r),!0).forEach(function(n){wq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wq(e,t,r){return t=jq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jq(e){var t=kq(e,"string");return _u(t)=="symbol"?t:t+""}function kq(e,t){if(_u(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YP=function(t,r,n,i,o){var l=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,d=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,h;if(l>0&&o instanceof Array){for(var m=[0,0,0,0],v=0,x=4;v<x;v++)m[v]=o[v]>l?l:o[v];h="M".concat(t,",").concat(r+u*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+d*m[0],",").concat(r)),h+="L ".concat(t+n-d*m[1],",").concat(r),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(r+u*m[1])),h+="L ".concat(t+n,",").concat(r+i-u*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+n-d*m[2],",").concat(r+i)),h+="L ".concat(t+d*m[3],",").concat(r+i),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(r+i-u*m[3])),h+="Z"}else if(l>0&&o===+o&&o>0){var w=Math.min(l,o);h="M ".concat(t,",").concat(r+u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+d*w,",").concat(r,`
            L `).concat(t+n-d*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n,",").concat(r+u*w,`
            L `).concat(t+n,",").concat(r+i-u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n-d*w,",").concat(r+i,`
            L `).concat(t+d*w,",").concat(r+i,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t,",").concat(r+i-u*w," Z")}else h="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return h},Cq=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,o=r.x,l=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(o,o+u),h=Math.max(o,o+u),m=Math.min(l,l+d),v=Math.max(l,l+d);return n>=f&&n<=h&&i>=m&&i<=v}return!1},Aq={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iw=function(t){var r=XP(XP({},Aq),t),n=k.useRef(),i=k.useState(-1),o=gq(i,2),l=o[0],u=o[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&u(N)}catch{}},[]);var d=r.x,f=r.y,h=r.width,m=r.height,v=r.radius,x=r.className,w=r.animationEasing,b=r.animationDuration,y=r.animationBegin,j=r.isAnimationActive,A=r.isUpdateAnimationActive;if(d!==+d||f!==+f||h!==+h||m!==+m||h===0||m===0)return null;var S=Ye("recharts-rectangle",x);return A?V.createElement(Kn,{canBegin:l>0,from:{width:h,height:m,x:d,y:f},to:{width:h,height:m,x:d,y:f},duration:b,animationEasing:w,isActive:A},function(N){var z=N.width,O=N.height,_=N.x,E=N.y;return V.createElement(Kn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,isActive:j,easing:w},V.createElement("path",jp({},Fe(r,!0),{className:S,d:YP(_,E,z,O,v),ref:n})))}):V.createElement("path",jp({},Fe(r,!0),{className:S,d:YP(d,f,h,m,v)}))},zq=["points","className","baseLinePoints","connectNulls"];function Ws(){return Ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ws.apply(this,arguments)}function Nq(e,t){if(e==null)return{};var r=Pq(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QP(e){return Eq(e)||Tq(e)||_q(e)||Oq()}function Oq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _q(e,t){if(e){if(typeof e=="string")return fS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fS(e,t)}}function Tq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Eq(e){if(Array.isArray(e))return fS(e)}function fS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var JP=function(t){return t&&t.x===+t.x&&t.y===+t.y},Dq=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){JP(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),JP(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Jc=function(t,r){var n=Dq(t);r&&(n=[n.reduce(function(o,l){return[].concat(QP(o),QP(l))},[])]);var i=n.map(function(o){return o.reduce(function(l,u,d){return"".concat(l).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Rq=function(t,r,n){var i=Jc(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Jc(r.reverse(),n).slice(1))},Iq=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,o=t.connectNulls,l=Nq(t,zq);if(!r||!r.length)return null;var u=Ye("recharts-polygon",n);if(i&&i.length){var d=l.stroke&&l.stroke!=="none",f=Rq(r,i,o);return V.createElement("g",{className:u},V.createElement("path",Ws({},Fe(l,!0),{fill:f.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:f})),d?V.createElement("path",Ws({},Fe(l,!0),{fill:"none",d:Jc(r,o)})):null,d?V.createElement("path",Ws({},Fe(l,!0),{fill:"none",d:Jc(i,o)})):null)}var h=Jc(r,o);return V.createElement("path",Ws({},Fe(l,!0),{fill:h.slice(-1)==="Z"?l.fill:"none",className:u,d:h}))};function pS(){return pS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pS.apply(this,arguments)}var Qu=function(t){var r=t.cx,n=t.cy,i=t.r,o=t.className,l=Ye("recharts-dot",o);return r===+r&&n===+n&&i===+i?k.createElement("circle",pS({},Fe(t,!1),Vf(t),{className:l,cx:r,cy:n,r:i})):null};function Tu(e){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(e)}var Mq=["x","y","top","left","width","height","className"];function hS(){return hS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hS.apply(this,arguments)}function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(n){Bq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bq(e,t,r){return t=Fq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fq(e){var t=Wq(e,"string");return Tu(t)=="symbol"?t:t+""}function Wq(e,t){if(Tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $q(e,t){if(e==null)return{};var r=Uq(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Hq=function(t,r,n,i,o,l){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(l,",").concat(r,"h").concat(n)},Kq=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,o=i===void 0?0:i,l=t.top,u=l===void 0?0:l,d=t.left,f=d===void 0?0:d,h=t.width,m=h===void 0?0:h,v=t.height,x=v===void 0?0:v,w=t.className,b=$q(t,Mq),y=Lq({x:n,y:o,top:u,left:f,width:m,height:x},b);return!we(n)||!we(o)||!we(m)||!we(x)||!we(u)||!we(f)?null:V.createElement("path",hS({},Fe(y,!0),{className:Ye("recharts-cross",w),d:Hq(n,o,m,x,u,f)}))},jb,tO;function Vq(){if(tO)return jb;tO=1;var e=jh(),t=PD(),r=_a();function n(i,o){return i&&i.length?e(i,r(o,2),t):void 0}return jb=n,jb}var Gq=Vq();const qq=jt(Gq);var kb,rO;function Zq(){if(rO)return kb;rO=1;var e=jh(),t=_a(),r=OD();function n(i,o){return i&&i.length?e(i,t(o,2),r):void 0}return kb=n,kb}var Xq=Zq();const Yq=jt(Xq);var Qq=["cx","cy","angle","ticks","axisLine"],Jq=["ticks","tick","angle","tickFormatter","stroke"];function ll(e){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}function eu(){return eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eu.apply(this,arguments)}function nO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(r),!0).forEach(function(n){zh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aO(e,t){if(e==null)return{};var r=eZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vR(n.key),n)}}function rZ(e,t,r){return t&&iO(e.prototype,t),r&&iO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nZ(e,t,r){return t=kp(t),aZ(e,mR()?Reflect.construct(t,r||[],kp(e).constructor):t.apply(e,r))}function aZ(e,t){if(t&&(ll(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iZ(e)}function iZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mR=function(){return!!e})()}function kp(e){return kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kp(e)}function oZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mS(e,t)}function mS(e,t){return mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mS(e,t)}function zh(e,t,r){return t=vR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vR(e){var t=sZ(e,"string");return ll(t)=="symbol"?t:t+""}function sZ(e,t){if(ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nh=(function(e){function t(){return tZ(this,t),nZ(this,t,arguments)}return oZ(t,e),rZ(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,o=this.props,l=o.angle,u=o.cx,d=o.cy;return Bt(u,d,i,l)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,o=n.cy,l=n.angle,u=n.ticks,d=qq(u,function(h){return h.coordinate||0}),f=Yq(u,function(h){return h.coordinate||0});return{cx:i,cy:o,startAngle:l,endAngle:l,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,l=n.angle,u=n.ticks,d=n.axisLine,f=aO(n,Qq),h=u.reduce(function(w,b){return[Math.min(w[0],b.coordinate),Math.max(w[1],b.coordinate)]},[1/0,-1/0]),m=Bt(i,o,h[0],l),v=Bt(i,o,h[1],l),x=jo(jo(jo({},Fe(f,!1)),{},{fill:"none"},Fe(d,!1)),{},{x1:m.x,y1:m.y,x2:v.x,y2:v.y});return V.createElement("line",eu({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,l=i.tick,u=i.angle,d=i.tickFormatter,f=i.stroke,h=aO(i,Jq),m=this.getTickTextAnchor(),v=Fe(h,!1),x=Fe(l,!1),w=o.map(function(b,y){var j=n.getTickValueCoord(b),A=jo(jo(jo(jo({textAnchor:m,transform:"rotate(".concat(90-u,", ").concat(j.x,", ").concat(j.y,")")},v),{},{stroke:"none",fill:f},x),{},{index:y},j),{},{payload:b});return V.createElement(et,eu({className:Ye("recharts-polar-radius-axis-tick",aR(l)),key:"tick-".concat(b.coordinate)},Gi(n.props,b,y)),t.renderTickItem(l,A,d?d(b.value,y):b.value))});return V.createElement(et,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.axisLine,l=n.tick;return!i||!i.length?null:V.createElement(et,{className:Ye("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),l&&this.renderTicks(),Ar.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,o){var l;return V.isValidElement(n)?l=V.cloneElement(n,i):Ge(n)?l=n(i):l=V.createElement($o,eu({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),l}}])})(k.PureComponent);zh(Nh,"displayName","PolarRadiusAxis");zh(Nh,"axisType","radiusAxis");zh(Nh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function cl(e){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}function Oo(){return Oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oo.apply(this,arguments)}function oO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ko(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oO(Object(r),!0).forEach(function(n){Ph(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yR(n.key),n)}}function cZ(e,t,r){return t&&sO(e.prototype,t),r&&sO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uZ(e,t,r){return t=Cp(t),dZ(e,gR()?Reflect.construct(t,r||[],Cp(e).constructor):t.apply(e,r))}function dZ(e,t){if(t&&(cl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fZ(e)}function fZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gR=function(){return!!e})()}function Cp(e){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cp(e)}function pZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vS(e,t)}function vS(e,t){return vS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vS(e,t)}function Ph(e,t,r){return t=yR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yR(e){var t=hZ(e,"string");return cl(t)=="symbol"?t:t+""}function hZ(e,t){if(cl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var mZ=Math.PI/180,lO=1e-5,Oh=(function(e){function t(){return lZ(this,t),uZ(this,t,arguments)}return pZ(t,e),cZ(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.cx,l=i.cy,u=i.radius,d=i.orientation,f=i.tickSize,h=f||8,m=Bt(o,l,u,n.coordinate),v=Bt(o,l,u+(d==="inner"?-1:1)*h,n.coordinate);return{x1:m.x,y1:m.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,o=Math.cos(-n.coordinate*mZ),l;return o>lO?l=i==="outer"?"start":"end":o<-lO?l=i==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,l=n.radius,u=n.axisLine,d=n.axisLineType,f=ko(ko({},Fe(this.props,!1)),{},{fill:"none"},Fe(u,!1));if(d==="circle")return V.createElement(Qu,Oo({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:o,r:l}));var h=this.props.ticks,m=h.map(function(v){return Bt(i,o,l,v.coordinate)});return V.createElement(Iq,Oo({className:"recharts-polar-angle-axis-line"},f,{points:m}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,l=i.tick,u=i.tickLine,d=i.tickFormatter,f=i.stroke,h=Fe(this.props,!1),m=Fe(l,!1),v=ko(ko({},h),{},{fill:"none"},Fe(u,!1)),x=o.map(function(w,b){var y=n.getTickLineCoord(w),j=n.getTickTextAnchor(w),A=ko(ko(ko({textAnchor:j},h),{},{stroke:"none",fill:f},m),{},{index:b,payload:w,x:y.x2,y:y.y2});return V.createElement(et,Oo({className:Ye("recharts-polar-angle-axis-tick",aR(l)),key:"tick-".concat(w.coordinate)},Gi(n.props,w,b)),u&&V.createElement("line",Oo({className:"recharts-polar-angle-axis-tick-line"},v,y)),l&&t.renderTickItem(l,A,d?d(w.value,b):w.value))});return V.createElement(et,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.radius,l=n.axisLine;return o<=0||!i||!i.length?null:V.createElement(et,{className:Ye("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,o){var l;return V.isValidElement(n)?l=V.cloneElement(n,i):Ge(n)?l=n(i):l=V.createElement($o,Oo({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),l}}])})(k.PureComponent);Ph(Oh,"displayName","PolarAngleAxis");Ph(Oh,"axisType","angleAxis");Ph(Oh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Cb,cO;function vZ(){if(cO)return Cb;cO=1;var e=NE(),t=e(Object.getPrototypeOf,Object);return Cb=t,Cb}var Ab,uO;function gZ(){if(uO)return Ab;uO=1;var e=ui(),t=vZ(),r=di(),n="[object Object]",i=Function.prototype,o=Object.prototype,l=i.toString,u=o.hasOwnProperty,d=l.call(Object);function f(h){if(!r(h)||e(h)!=n)return!1;var m=t(h);if(m===null)return!0;var v=u.call(m,"constructor")&&m.constructor;return typeof v=="function"&&v instanceof v&&l.call(v)==d}return Ab=f,Ab}var yZ=gZ();const xZ=jt(yZ);var zb,dO;function bZ(){if(dO)return zb;dO=1;var e=ui(),t=di(),r="[object Boolean]";function n(i){return i===!0||i===!1||t(i)&&e(i)==r}return zb=n,zb}var SZ=bZ();const wZ=jt(SZ);function Eu(e){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(e)}function Ap(){return Ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ap.apply(this,arguments)}function jZ(e,t){return zZ(e)||AZ(e,t)||CZ(e,t)||kZ()}function kZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CZ(e,t){if(e){if(typeof e=="string")return fO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fO(e,t)}}function fO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){f=!0,i=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function zZ(e){if(Array.isArray(e))return e}function pO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(r),!0).forEach(function(n){NZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NZ(e,t,r){return t=PZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PZ(e){var t=OZ(e,"string");return Eu(t)=="symbol"?t:t+""}function OZ(e,t){if(Eu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mO=function(t,r,n,i,o){var l=n-i,u;return u="M ".concat(t,",").concat(r),u+="L ".concat(t+n,",").concat(r),u+="L ".concat(t+n-l/2,",").concat(r+o),u+="L ".concat(t+n-l/2-i,",").concat(r+o),u+="L ".concat(t,",").concat(r," Z"),u},_Z={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},TZ=function(t){var r=hO(hO({},_Z),t),n=k.useRef(),i=k.useState(-1),o=jZ(i,2),l=o[0],u=o[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&u(S)}catch{}},[]);var d=r.x,f=r.y,h=r.upperWidth,m=r.lowerWidth,v=r.height,x=r.className,w=r.animationEasing,b=r.animationDuration,y=r.animationBegin,j=r.isUpdateAnimationActive;if(d!==+d||f!==+f||h!==+h||m!==+m||v!==+v||h===0&&m===0||v===0)return null;var A=Ye("recharts-trapezoid",x);return j?V.createElement(Kn,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:v,x:d,y:f},to:{upperWidth:h,lowerWidth:m,height:v,x:d,y:f},duration:b,animationEasing:w,isActive:j},function(S){var N=S.upperWidth,z=S.lowerWidth,O=S.height,_=S.x,E=S.y;return V.createElement(Kn,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,easing:w},V.createElement("path",Ap({},Fe(r,!0),{className:A,d:mO(_,E,N,z,O),ref:n})))}):V.createElement("g",null,V.createElement("path",Ap({},Fe(r,!0),{className:A,d:mO(d,f,h,m,v)})))},EZ=["option","shapeType","propTransformer","activeClassName","isActive"];function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}function DZ(e,t){if(e==null)return{};var r=RZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(r),!0).forEach(function(n){IZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IZ(e,t,r){return t=MZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MZ(e){var t=LZ(e,"string");return Du(t)=="symbol"?t:t+""}function LZ(e,t){if(Du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BZ(e,t){return zp(zp({},t),e)}function FZ(e,t){return e==="symbols"}function gO(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return V.createElement(iw,r);case"trapezoid":return V.createElement(TZ,r);case"sector":return V.createElement(sR,r);case"symbols":if(FZ(t))return V.createElement(ph,r);break;default:return null}}function WZ(e){return k.isValidElement(e)?e.props:e}function Np(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?BZ:n,o=e.activeClassName,l=o===void 0?"recharts-active-shape":o,u=e.isActive,d=DZ(e,EZ),f;if(k.isValidElement(t))f=k.cloneElement(t,zp(zp({},d),WZ(t)));else if(Ge(t))f=t(d);else if(xZ(t)&&!wZ(t)){var h=i(t,d);f=V.createElement(gO,{shapeType:r,elementProps:h})}else{var m=d;f=V.createElement(gO,{shapeType:r,elementProps:m})}return u?V.createElement(et,{className:l},f):f}function _h(e,t){return t!=null&&"trapezoids"in e.props}function Th(e,t){return t!=null&&"sectors"in e.props}function Ru(e,t){return t!=null&&"points"in e.props}function $Z(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&o}function UZ(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function HZ(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function KZ(e,t){var r;return _h(e,t)?r=$Z:Th(e,t)?r=UZ:Ru(e,t)&&(r=HZ),r}function VZ(e,t){var r;return _h(e,t)?r="trapezoids":Th(e,t)?r="sectors":Ru(e,t)&&(r="points"),r}function GZ(e,t){if(_h(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Th(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ru(e,t)?t.payload:{}}function qZ(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=VZ(r,t),o=GZ(r,t),l=n.filter(function(d,f){var h=qi(o,d),m=r.props[i].filter(function(w){var b=KZ(r,t);return b(w,t)}),v=r.props[i].indexOf(m[m.length-1]),x=f===v;return h&&x}),u=n.indexOf(l[l.length-1]);return u}var Ff;function ul(e){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(e)}function $s(){return $s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$s.apply(this,arguments)}function yO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yO(Object(r),!0).forEach(function(n){Fn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bR(n.key),n)}}function XZ(e,t,r){return t&&xO(e.prototype,t),r&&xO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function YZ(e,t,r){return t=Pp(t),QZ(e,xR()?Reflect.construct(t,r||[],Pp(e).constructor):t.apply(e,r))}function QZ(e,t){if(t&&(ul(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JZ(e)}function JZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xR=function(){return!!e})()}function Pp(e){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pp(e)}function eX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gS(e,t)}function gS(e,t){return gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gS(e,t)}function Fn(e,t,r){return t=bR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bR(e){var t=tX(e,"string");return ul(t)=="symbol"?t:t+""}function tX(e,t){if(ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ta=(function(e){function t(r){var n;return ZZ(this,t),n=YZ(this,t,[r]),Fn(n,"pieRef",null),Fn(n,"sectorRefs",[]),Fn(n,"id",to("recharts-pie-")),Fn(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ge(i)&&i()}),Fn(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ge(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return eX(t,e),XZ(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.label,u=o.labelLine,d=o.dataKey,f=o.valueKey,h=Fe(this.props,!1),m=Fe(l,!1),v=Fe(u,!1),x=l&&l.offsetRadius||20,w=n.map(function(b,y){var j=(b.startAngle+b.endAngle)/2,A=Bt(b.cx,b.cy,b.outerRadius+x,j),S=Rt(Rt(Rt(Rt({},h),b),{},{stroke:"none"},m),{},{index:y,textAnchor:t.getTextAnchor(A.x,b.cx)},A),N=Rt(Rt(Rt(Rt({},h),b),{},{fill:"none",stroke:b.fill},v),{},{index:y,points:[Bt(b.cx,b.cy,b.outerRadius,j),A]}),z=d;return Ve(d)&&Ve(f)?z="value":Ve(d)&&(z=f),V.createElement(et,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(y)},u&&t.renderLabelLineItem(u,N,"line"),t.renderLabelItem(l,S,Ht(b,z)))});return V.createElement(et,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(n){var i=this,o=this.props,l=o.activeShape,u=o.blendStroke,d=o.inactiveShape;return n.map(function(f,h){if(f?.startAngle===0&&f?.endAngle===0&&n.length!==1)return null;var m=i.isActiveIndex(h),v=d&&i.hasActiveIndex()?d:null,x=m?l:v,w=Rt(Rt({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return V.createElement(et,$s({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Gi(i.props,f,h),{key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(h)}),V.createElement(Np,$s({option:x,isActive:m,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,o=i.sectors,l=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,f=i.animationEasing,h=i.animationId,m=this.state,v=m.prevSectors,x=m.prevIsAnimationActive;return V.createElement(Kn,{begin:u,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var b=w.t,y=[],j=o&&o[0],A=j.startAngle;return o.forEach(function(S,N){var z=v&&v[N],O=N>0?zn(S,"paddingAngle",0):0;if(z){var _=er(z.endAngle-z.startAngle,S.endAngle-S.startAngle),E=Rt(Rt({},S),{},{startAngle:A+O,endAngle:A+_(b)+O});y.push(E),A=E.endAngle}else{var T=S.endAngle,B=S.startAngle,R=er(0,T-B),F=R(b),K=Rt(Rt({},S),{},{startAngle:A+O,endAngle:A+F+O});y.push(K),A=K.endAngle}}),V.createElement(et,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var l=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,o=n.isAnimationActive,l=this.state.prevSectors;return o&&i&&i.length&&(!l||!qi(l,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,o=i.hide,l=i.sectors,u=i.className,d=i.label,f=i.cx,h=i.cy,m=i.innerRadius,v=i.outerRadius,x=i.isAnimationActive,w=this.state.isAnimationFinished;if(o||!l||!l.length||!we(f)||!we(h)||!we(m)||!we(v))return null;var b=Ye("recharts-pie",u);return V.createElement(et,{tabIndex:this.props.rootTabIndex,className:b,ref:function(j){n.pieRef=j}},this.renderSectors(),d&&this.renderLabels(l),Ar.renderCallByParent(this.props,null,!1),(!x||w)&&ua.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,o){if(V.isValidElement(n))return V.cloneElement(n,i);if(Ge(n))return n(i);var l=Ye("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return V.createElement(Hi,$s({},i,{key:o,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(n,i,o){if(V.isValidElement(n))return V.cloneElement(n,i);var l=o;if(Ge(n)&&(l=n(i),V.isValidElement(l)))return l;var u=Ye("recharts-pie-label-text",typeof n!="boolean"&&!Ge(n)?n.className:"");return V.createElement($o,$s({},i,{alignmentBaseline:"middle",className:u}),l)}}])})(k.PureComponent);Ff=Ta;Fn(Ta,"displayName","Pie");Fn(Ta,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!fi.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Fn(Ta,"parseDeltaAngle",function(e,t){var r=en(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Fn(Ta,"getRealPieData",function(e){var t=e.data,r=e.children,n=Fe(e,!1),i=nn(r,Tl);return t&&t.length?t.map(function(o,l){return Rt(Rt(Rt({payload:o},n),o),i&&i[l]&&i[l].props)}):i&&i.length?i.map(function(o){return Rt(Rt({},n),o.props)}):[]});Fn(Ta,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,o=t.height,l=nR(i,o),u=n+tn(e.cx,i,i/2),d=r+tn(e.cy,o,o/2),f=tn(e.innerRadius,l,0),h=tn(e.outerRadius,l,l*.8),m=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:u,cy:d,innerRadius:f,outerRadius:h,maxRadius:m}});Fn(Ta,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Rt(Rt({},t.type.defaultProps),t.props):t.props,i=Ff.getRealPieData(n);if(!i||!i.length)return null;var o=n.cornerRadius,l=n.startAngle,u=n.endAngle,d=n.paddingAngle,f=n.dataKey,h=n.nameKey,m=n.valueKey,v=n.tooltipType,x=Math.abs(n.minAngle),w=Ff.parseCoordinateOfPie(n,r),b=Ff.parseDeltaAngle(l,u),y=Math.abs(b),j=f;Ve(f)&&Ve(m)?(ca(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):Ve(f)&&(ca(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=m);var A=i.filter(function(E){return Ht(E,j,0)!==0}).length,S=(y>=360?A:A-1)*d,N=y-A*x-S,z=i.reduce(function(E,T){var B=Ht(T,j,0);return E+(we(B)?B:0)},0),O;if(z>0){var _;O=i.map(function(E,T){var B=Ht(E,j,0),R=Ht(E,h,T),F=(we(B)?B:0)/z,K;T?K=_.endAngle+en(b)*d*(B!==0?1:0):K=l;var H=K+en(b)*((B!==0?x:0)+F*N),M=(K+H)/2,$=(w.innerRadius+w.outerRadius)/2,U=[{name:R,value:B,payload:E,dataKey:j,type:v}],I=Bt(w.cx,w.cy,$,M);return _=Rt(Rt(Rt({percent:F,cornerRadius:o,name:R,tooltipPayload:U,midAngle:M,middleRadius:$,tooltipPosition:I},E),w),{},{value:Ht(E,j),startAngle:K,endAngle:H,payload:E,paddingAngle:en(b)*d}),_})}return Rt(Rt({},w),{},{sectors:O,data:i})});var Nb,bO;function rX(){if(bO)return Nb;bO=1;var e=Math.ceil,t=Math.max;function r(n,i,o,l){for(var u=-1,d=t(e((i-n)/(o||1)),0),f=Array(d);d--;)f[l?d:++u]=n,n+=o;return f}return Nb=r,Nb}var Pb,SO;function SR(){if(SO)return Pb;SO=1;var e=HE(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*r}return i===i?i:0}return Pb=n,Pb}var Ob,wO;function nX(){if(wO)return Ob;wO=1;var e=rX(),t=vh(),r=SR();function n(i){return function(o,l,u){return u&&typeof u!="number"&&t(o,l,u)&&(l=u=void 0),o=r(o),l===void 0?(l=o,o=0):l=r(l),u=u===void 0?o<l?1:-1:r(u),e(o,l,u,i)}}return Ob=n,Ob}var _b,jO;function aX(){if(jO)return _b;jO=1;var e=nX(),t=e();return _b=t,_b}var iX=aX();const Op=jt(iX);function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}function kO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(r),!0).forEach(function(n){wR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wR(e,t,r){return t=oX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oX(e){var t=sX(e,"string");return Iu(t)=="symbol"?t:t+""}function sX(e,t){if(Iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lX=["Webkit","Moz","O","ms"],cX=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=lX.reduce(function(o,l){return CO(CO({},o),{},wR({},l+n,r))},{});return i[t]=r,i};function dl(e){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(e)}function _p(){return _p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_p.apply(this,arguments)}function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(n){jn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kR(n.key),n)}}function dX(e,t,r){return t&&zO(e.prototype,t),r&&zO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fX(e,t,r){return t=Tp(t),pX(e,jR()?Reflect.construct(t,r||[],Tp(e).constructor):t.apply(e,r))}function pX(e,t){if(t&&(dl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hX(e)}function hX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jR=function(){return!!e})()}function Tp(e){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tp(e)}function mX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yS(e,t)}function yS(e,t){return yS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yS(e,t)}function jn(e,t,r){return t=kR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kR(e){var t=vX(e,"string");return dl(t)=="symbol"?t:t+""}function vX(e,t){if(dl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gX=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,o=t.x,l=t.width,u=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=Xc().domain(Op(0,d)).range([o,o+l-u]),h=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:h}},NO=function(t){return t.changedTouches&&!!t.changedTouches.length},fl=(function(e){function t(r){var n;return uX(this,t),n=fX(this,t,[r]),jn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),jn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),jn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,l=i.onDragEnd,u=i.startIndex;l?.({endIndex:o,startIndex:u})}),n.detachDragEndListener()}),jn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),jn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),jn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),jn(n,"handleSlideDragStart",function(i){var o=NO(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return mX(t,e),dX(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,l=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,h=f.length-1,m=Math.min(i,o),v=Math.max(i,o),x=t.getIndexInRange(l,m),w=t.getIndexInRange(l,v);return{startIndex:x-x%d,endIndex:w===h?h:w-w%d}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,l=i.tickFormatter,u=i.dataKey,d=Ht(o[n],u,n);return Ge(l)?l(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,l=i.startX,u=i.endX,d=this.props,f=d.x,h=d.width,m=d.travellerWidth,v=d.startIndex,x=d.endIndex,w=d.onChange,b=n.pageX-o;b>0?b=Math.min(b,f+h-m-u,f+h-m-l):b<0&&(b=Math.max(b,f-l,f-u));var y=this.getIndex({startX:l+b,endX:u+b});(y.startIndex!==v||y.endIndex!==x)&&w&&w(y),this.setState({startX:l+b,endX:u+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=NO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,l=i.movingTravellerId,u=i.endX,d=i.startX,f=this.state[l],h=this.props,m=h.x,v=h.width,x=h.travellerWidth,w=h.onChange,b=h.gap,y=h.data,j={startX:this.state.startX,endX:this.state.endX},A=n.pageX-o;A>0?A=Math.min(A,m+v-x-f):A<0&&(A=Math.max(A,m-f)),j[l]=f+A;var S=this.getIndex(j),N=S.startIndex,z=S.endIndex,O=function(){var E=y.length-1;return l==="startX"&&(u>d?N%b===0:z%b===0)||u<d&&z===E||l==="endX"&&(u>d?z%b===0:N%b===0)||u>d&&z===E};this.setState(jn(jn({},l,f+A),"brushMoveStartX",n.pageX),function(){w&&O()&&w(S)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,l=this.state,u=l.scaleValues,d=l.startX,f=l.endX,h=this.state[i],m=u.indexOf(h);if(m!==-1){var v=m+n;if(!(v===-1||v>=u.length)){var x=u[v];i==="startX"&&x>=f||i==="endX"&&x<=d||this.setState(jn({},i,x),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,d=n.fill,f=n.stroke;return V.createElement("rect",{stroke:f,fill:d,x:i,y:o,width:l,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,d=n.data,f=n.children,h=n.padding,m=k.Children.only(f);return m?V.cloneElement(m,{x:i,y:o,width:l,height:u,margin:h,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,l,u=this,d=this.props,f=d.y,h=d.travellerWidth,m=d.height,v=d.traveller,x=d.ariaLabel,w=d.data,b=d.startIndex,y=d.endIndex,j=Math.max(n,this.props.x),A=Tb(Tb({},Fe(this.props,!1)),{},{x:j,y:f,width:h,height:m}),S=x||"Min value: ".concat((o=w[b])===null||o===void 0?void 0:o.name,", Max value: ").concat((l=w[y])===null||l===void 0?void 0:l.name);return V.createElement(et,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(z){["ArrowLeft","ArrowRight"].includes(z.key)&&(z.preventDefault(),z.stopPropagation(),u.handleTravellerMoveKeyboard(z.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(v,A))}},{key:"renderSlide",value:function(n,i){var o=this.props,l=o.y,u=o.height,d=o.stroke,f=o.travellerWidth,h=Math.min(n,i)+f,m=Math.max(Math.abs(i-n)-f,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:h,y:l,width:m,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,l=n.y,u=n.height,d=n.travellerWidth,f=n.stroke,h=this.state,m=h.startX,v=h.endX,x=5,w={pointerEvents:"none",fill:f};return V.createElement(et,{className:"recharts-brush-texts"},V.createElement($o,_p({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,v)-x,y:l+u/2},w),this.getTextOfTick(i)),V.createElement($o,_p({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,v)+d+x,y:l+u/2},w),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,l=n.children,u=n.x,d=n.y,f=n.width,h=n.height,m=n.alwaysShowText,v=this.state,x=v.startX,w=v.endX,b=v.isTextActive,y=v.isSlideMoving,j=v.isTravellerMoving,A=v.isTravellerFocused;if(!i||!i.length||!we(u)||!we(d)||!we(f)||!we(h)||f<=0||h<=0)return null;var S=Ye("recharts-brush",o),N=V.Children.count(l)===1,z=cX("userSelect","none");return V.createElement(et,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:z},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(x,w),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(w,"endX"),(b||y||j||A||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,l=n.width,u=n.height,d=n.stroke,f=Math.floor(o+u/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:i,y:o,width:l,height:u,fill:d,stroke:"none"}),V.createElement("line",{x1:i+1,y1:f,x2:i+l-1,y2:f,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:i+1,y1:f+2,x2:i+l-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return V.isValidElement(n)?o=V.cloneElement(n,i):Ge(n)?o=n(i):o=t.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,l=n.width,u=n.x,d=n.travellerWidth,f=n.updateId,h=n.startIndex,m=n.endIndex;if(o!==i.prevData||f!==i.prevUpdateId)return Tb({prevData:o,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l},o&&o.length?gX({data:o,width:l,x:u,travellerWidth:d,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||u!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([u,u+l-d]);var v=i.scale.domain().map(function(x){return i.scale(x)});return{prevData:o,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,l=0,u=o-1;u-l>1;){var d=Math.floor((l+u)/2);n[d]>i?u=d:l=d}return i>=n[u]?u:l}}])})(k.PureComponent);jn(fl,"displayName","Brush");jn(fl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Eb,PO;function yX(){if(PO)return Eb;PO=1;var e=_1();function t(r,n){var i;return e(r,function(o,l,u){return i=n(o,l,u),!i}),!!i}return Eb=t,Eb}var Db,OO;function xX(){if(OO)return Db;OO=1;var e=SE(),t=_a(),r=yX(),n=hn(),i=vh();function o(l,u,d){var f=n(l)?e:r;return d&&i(l,u,d)&&(u=void 0),f(l,t(u,3))}return Db=o,Db}var bX=xX();const SX=jt(bX);var Aa=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},Rb,_O;function wX(){if(_O)return Rb;_O=1;var e=BE();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Rb=t,Rb}var Ib,TO;function jX(){if(TO)return Ib;TO=1;var e=wX(),t=ME(),r=_a();function n(i,o){var l={};return o=r(o,3),t(i,function(u,d,f){e(l,d,o(u,d,f))}),l}return Ib=n,Ib}var kX=jX();const CX=jt(kX);var Mb,EO;function AX(){if(EO)return Mb;EO=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!r(t[n],n,t))return!1;return!0}return Mb=e,Mb}var Lb,DO;function zX(){if(DO)return Lb;DO=1;var e=_1();function t(r,n){var i=!0;return e(r,function(o,l,u){return i=!!n(o,l,u),i}),i}return Lb=t,Lb}var Bb,RO;function NX(){if(RO)return Bb;RO=1;var e=AX(),t=zX(),r=_a(),n=hn(),i=vh();function o(l,u,d){var f=n(l)?e:t;return d&&i(l,u,d)&&(u=void 0),f(l,r(u,3))}return Bb=o,Bb}var PX=NX();const CR=jt(PX);var OX=["x","y"];function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function xS(){return xS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xS.apply(this,arguments)}function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(n){_X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _X(e,t,r){return t=TX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TX(e){var t=EX(e,"string");return Mu(t)=="symbol"?t:t+""}function EX(e,t){if(Mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DX(e,t){if(e==null)return{};var r=RX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IX(e,t){var r=e.x,n=e.y,i=DX(e,OX),o="".concat(r),l=parseInt(o,10),u="".concat(n),d=parseInt(u,10),f="".concat(t.height||i.height),h=parseInt(f,10),m="".concat(t.width||i.width),v=parseInt(m,10);return Rc(Rc(Rc(Rc(Rc({},t),i),l?{x:l}:{}),d?{y:d}:{}),{},{height:h,width:v,name:t.name,radius:t.radius})}function MO(e){return V.createElement(Np,xS({shapeType:"rectangle",propTransformer:IX,activeClassName:"recharts-active-bar"},e))}var MX=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var o=we(n)||rW(n);return o?t(n,i):(o||Ho(),r)}},LX=["value","background"],AR;function pl(e){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}function BX(e,t){if(e==null)return{};var r=FX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ep(){return Ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ep.apply(this,arguments)}function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(n){Fi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NR(n.key),n)}}function $X(e,t,r){return t&&BO(e.prototype,t),r&&BO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function UX(e,t,r){return t=Dp(t),HX(e,zR()?Reflect.construct(t,r||[],Dp(e).constructor):t.apply(e,r))}function HX(e,t){if(t&&(pl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KX(e)}function KX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zR=function(){return!!e})()}function Dp(e){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dp(e)}function VX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bS(e,t)}function bS(e,t){return bS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bS(e,t)}function Fi(e,t,r){return t=NR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NR(e){var t=GX(e,"string");return pl(t)=="symbol"?t:t+""}function GX(e,t){if(pl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $e=(function(e){function t(){var r;WX(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=UX(this,t,[].concat(i)),Fi(r,"state",{isAnimationFinished:!1}),Fi(r,"id",to("recharts-bar-")),Fi(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),Fi(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return VX(t,e),$X(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,l=o.shape,u=o.dataKey,d=o.activeIndex,f=o.activeBar,h=Fe(this.props,!1);return n&&n.map(function(m,v){var x=v===d,w=x?f:l,b=fr(fr(fr({},h),m),{},{isActive:x,option:w,index:v,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return V.createElement(et,Ep({className:"recharts-bar-rectangle"},Gi(i.props,m,v),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(v)}),V.createElement(MO,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,l=i.layout,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,h=i.animationEasing,m=i.animationId,v=this.state.prevData;return V.createElement(Kn,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var w=x.t,b=o.map(function(y,j){var A=v&&v[j];if(A){var S=er(A.x,y.x),N=er(A.y,y.y),z=er(A.width,y.width),O=er(A.height,y.height);return fr(fr({},y),{},{x:S(w),y:N(w),width:z(w),height:O(w)})}if(l==="horizontal"){var _=er(0,y.height),E=_(w);return fr(fr({},y),{},{y:y.y+y.height-E,height:E})}var T=er(0,y.width),B=T(w);return fr(fr({},y),{},{width:B})});return V.createElement(et,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,l=this.state.prevData;return o&&i&&i.length&&(!l||!qi(l,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,l=i.dataKey,u=i.activeIndex,d=Fe(this.props.background,!1);return o.map(function(f,h){f.value;var m=f.background,v=BX(f,LX);if(!m)return null;var x=fr(fr(fr(fr(fr({},v),{},{fill:"#eee"},m),d),Gi(n.props,f,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:l,index:h,className:"recharts-bar-background-rectangle"});return V.createElement(MO,Ep({key:"background-bar-".concat(h),option:n.props.background,isActive:h===u},x))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.data,u=o.xAxis,d=o.yAxis,f=o.layout,h=o.children,m=nn(h,Il);if(!m)return null;var v=f==="vertical"?l[0].height/2:l[0].width/2,x=function(y,j){var A=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:A,errorVal:Ht(y,j)}},w={clipPath:n?"url(#clipPath-".concat(i,")"):null};return V.createElement(et,w,m.map(function(b){return V.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,offset:v,dataPointFormatter:x})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,l=n.className,u=n.xAxis,d=n.yAxis,f=n.left,h=n.top,m=n.width,v=n.height,x=n.isAnimationActive,w=n.background,b=n.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,j=Ye("recharts-bar",l),A=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,N=A||S,z=Ve(b)?this.id:b;return V.createElement(et,{className:j},A||S?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(z)},V.createElement("rect",{x:A?f:f-m/2,y:S?h:h-v/2,width:A?m:m*2,height:S?v:v*2}))):null,V.createElement(et,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(z,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,z),(!x||y)&&ua.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(k.PureComponent);AR=$e;Fi($e,"displayName","Bar");Fi($e,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!fi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Fi($e,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,o=e.xAxis,l=e.yAxis,u=e.xAxisTicks,d=e.yAxisTicks,f=e.stackedData,h=e.dataStartIndex,m=e.displayedData,v=e.offset,x=gG(n,r);if(!x)return null;var w=t.layout,b=r.type.defaultProps,y=b!==void 0?fr(fr({},b),r.props):r.props,j=y.dataKey,A=y.children,S=y.minPointSize,N=w==="horizontal"?l:o,z=f?N.scale.domain():null,O=kG({numericAxis:N}),_=nn(A,Tl),E=m.map(function(T,B){var R,F,K,H,M,$;f?R=yG(f[h+B],z):(R=Ht(T,j),Array.isArray(R)||(R=[O,R]));var U=MX(S,AR.defaultProps.minPointSize)(R[1],B);if(w==="horizontal"){var I,Q=[l.scale(R[0]),l.scale(R[1])],L=Q[0],W=Q[1];F=pP({axis:o,ticks:u,bandSize:i,offset:x.offset,entry:T,index:B}),K=(I=W??L)!==null&&I!==void 0?I:void 0,H=x.size;var X=L-W;if(M=Number.isNaN(X)?0:X,$={x:F,y:l.y,width:H,height:l.height},Math.abs(U)>0&&Math.abs(M)<Math.abs(U)){var se=en(M||U)*(Math.abs(U)-Math.abs(M));K-=se,M+=se}}else{var de=[o.scale(R[0]),o.scale(R[1])],ge=de[0],xe=de[1];if(F=ge,K=pP({axis:l,ticks:d,bandSize:i,offset:x.offset,entry:T,index:B}),H=xe-ge,M=x.size,$={x:o.x,y:K,width:o.width,height:M},Math.abs(U)>0&&Math.abs(H)<Math.abs(U)){var ne=en(H||U)*(Math.abs(U)-Math.abs(H));H+=ne}}return fr(fr(fr({},T),{},{x:F,y:K,width:H,height:M,value:f?R:R[1],payload:T,background:$},_&&_[B]&&_[B].props),{},{tooltipPayload:[tR(r,T)],tooltipPosition:{x:F+H/2,y:K+M/2}})});return fr({data:E,layout:w},v)});function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}function qX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PR(n.key),n)}}function ZX(e,t,r){return t&&FO(e.prototype,t),r&&FO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(n){Eh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eh(e,t,r){return t=PR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PR(e){var t=XX(e,"string");return Lu(t)=="symbol"?t:t+""}function XX(e,t){if(Lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dh=function(t,r,n,i,o){var l=t.width,u=t.height,d=t.layout,f=t.children,h=Object.keys(r),m={left:n.left,leftMirror:n.left,right:l-n.right,rightMirror:l-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},v=!!kn(f,$e);return h.reduce(function(x,w){var b=r[w],y=b.orientation,j=b.domain,A=b.padding,S=A===void 0?{}:A,N=b.mirror,z=b.reversed,O="".concat(y).concat(N?"Mirror":""),_,E,T,B,R;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var F=j[1]-j[0],K=1/0,H=b.categoricalDomain.sort(oW);if(H.forEach(function(de,ge){ge>0&&(K=Math.min((de||0)-(H[ge-1]||0),K))}),Number.isFinite(K)){var M=K/F,$=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(_=M*$/2),b.padding==="no-gap"){var U=tn(t.barCategoryGap,M*$),I=M*$/2;_=I-U-(I-U)/$*U}}}i==="xAxis"?E=[n.left+(S.left||0)+(_||0),n.left+n.width-(S.right||0)-(_||0)]:i==="yAxis"?E=d==="horizontal"?[n.top+n.height-(S.bottom||0),n.top+(S.top||0)]:[n.top+(S.top||0)+(_||0),n.top+n.height-(S.bottom||0)-(_||0)]:E=b.range,z&&(E=[E[1],E[0]]);var Q=YD(b,o,v),L=Q.scale,W=Q.realScaleType;L.domain(j).range(E),QD(L);var X=JD(L,aa(aa({},b),{},{realScaleType:W}));i==="xAxis"?(R=y==="top"&&!N||y==="bottom"&&N,T=n.left,B=m[O]-R*b.height):i==="yAxis"&&(R=y==="left"&&!N||y==="right"&&N,T=m[O]-R*b.width,B=n.top);var se=aa(aa(aa({},b),X),{},{realScaleType:W,x:T,y:B,scale:L,width:i==="xAxis"?n.width:b.width,height:i==="yAxis"?n.height:b.height});return se.bandSize=vp(se,X),!b.hide&&i==="xAxis"?m[O]+=(R?-1:1)*se.height:b.hide||(m[O]+=(R?-1:1)*se.width),aa(aa({},x),{},Eh({},w,se))},{})},OR=function(t,r){var n=t.x,i=t.y,o=r.x,l=r.y;return{x:Math.min(n,o),y:Math.min(i,l),width:Math.abs(o-n),height:Math.abs(l-i)}},YX=function(t){var r=t.x1,n=t.y1,i=t.x2,o=t.y2;return OR({x:r,y:n},{x:i,y:o})},_R=(function(){function e(t){qX(this,e),this.scale=t}return ZX(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])})();Eh(_R,"EPS",1e-4);var ow=function(t){var r=Object.keys(t).reduce(function(n,i){return aa(aa({},n),{},Eh({},i,_R.create(t[i])))},{});return aa(aa({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.bandAware,u=o.position;return CX(i,function(d,f){return r[f].apply(d,{bandAware:l,position:u})})},isInRange:function(i){return CR(i,function(o,l){return r[l].isInRange(o)})}})};function QX(e){return(e%180+180)%180}var JX=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=QX(i),l=o*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},Fb,$O;function eY(){if($O)return Fb;$O=1;var e=_a(),t=Vu(),r=hh();function n(i){return function(o,l,u){var d=Object(o);if(!t(o)){var f=e(l,3);o=r(o),l=function(m){return f(d[m],m,d)}}var h=i(o,l,u);return h>-1?d[f?o[h]:h]:void 0}}return Fb=n,Fb}var Wb,UO;function tY(){if(UO)return Wb;UO=1;var e=SR();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return Wb=t,Wb}var $b,HO;function rY(){if(HO)return $b;HO=1;var e=TE(),t=_a(),r=tY(),n=Math.max;function i(o,l,u){var d=o==null?0:o.length;if(!d)return-1;var f=u==null?0:r(u);return f<0&&(f=n(d+f,0)),e(o,t(l,3),f)}return $b=i,$b}var Ub,KO;function nY(){if(KO)return Ub;KO=1;var e=eY(),t=rY(),r=e(t);return Ub=r,Ub}var aY=nY();const iY=jt(aY);var oY=GT();const sY=jt(oY);var lY=sY(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),sw=k.createContext(void 0),lw=k.createContext(void 0),TR=k.createContext(void 0),ER=k.createContext({}),DR=k.createContext(void 0),RR=k.createContext(0),IR=k.createContext(0),VO=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,l=t.clipPathId,u=t.children,d=t.width,f=t.height,h=lY(o);return V.createElement(sw.Provider,{value:n},V.createElement(lw.Provider,{value:i},V.createElement(ER.Provider,{value:o},V.createElement(TR.Provider,{value:h},V.createElement(DR.Provider,{value:l},V.createElement(RR.Provider,{value:f},V.createElement(IR.Provider,{value:d},u)))))))},cY=function(){return k.useContext(DR)},MR=function(t){var r=k.useContext(sw);r==null&&Ho();var n=r[t];return n==null&&Ho(),n},uY=function(){var t=k.useContext(sw);return Li(t)},dY=function(){var t=k.useContext(lw),r=iY(t,function(n){return CR(n.domain,Number.isFinite)});return r||Li(t)},LR=function(t){var r=k.useContext(lw);r==null&&Ho();var n=r[t];return n==null&&Ho(),n},fY=function(){var t=k.useContext(TR);return t},pY=function(){return k.useContext(ER)},cw=function(){return k.useContext(IR)},uw=function(){return k.useContext(RR)};function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function hY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FR(n.key),n)}}function vY(e,t,r){return t&&mY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gY(e,t,r){return t=Rp(t),yY(e,BR()?Reflect.construct(t,r||[],Rp(e).constructor):t.apply(e,r))}function yY(e,t){if(t&&(hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xY(e)}function xY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BR=function(){return!!e})()}function Rp(e){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rp(e)}function bY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SS(e,t)}function SS(e,t){return SS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},SS(e,t)}function GO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(r),!0).forEach(function(n){dw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dw(e,t,r){return t=FR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FR(e){var t=SY(e,"string");return hl(t)=="symbol"?t:t+""}function SY(e,t){if(hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function wY(e,t){return AY(e)||CY(e,t)||kY(e,t)||jY()}function jY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kY(e,t){if(e){if(typeof e=="string")return ZO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZO(e,t)}}function ZO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){f=!0,i=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function AY(e){if(Array.isArray(e))return e}function wS(){return wS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wS.apply(this,arguments)}var zY=function(t,r){var n;return V.isValidElement(t)?n=V.cloneElement(t,r):Ge(t)?n=t(r):n=V.createElement("line",wS({},r,{className:"recharts-reference-line-line"})),n},NY=function(t,r,n,i,o,l,u,d,f){var h=o.x,m=o.y,v=o.width,x=o.height;if(n){var w=f.y,b=t.y.apply(w,{position:l});if(Aa(f,"discard")&&!t.y.isInRange(b))return null;var y=[{x:h+v,y:b},{x:h,y:b}];return d==="left"?y.reverse():y}if(r){var j=f.x,A=t.x.apply(j,{position:l});if(Aa(f,"discard")&&!t.x.isInRange(A))return null;var S=[{x:A,y:m+x},{x:A,y:m}];return u==="top"?S.reverse():S}if(i){var N=f.segment,z=N.map(function(O){return t.apply(O,{position:l})});return Aa(f,"discard")&&SX(z,function(O){return!t.isInRange(O)})?null:z}return null};function PY(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,o=e.yAxisId,l=e.shape,u=e.className,d=e.alwaysShow,f=cY(),h=MR(i),m=LR(o),v=fY();if(!f||!v)return null;ca(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=ow({x:h.scale,y:m.scale}),w=xr(t),b=xr(r),y=n&&n.length===2,j=NY(x,w,b,y,v,e.position,h.orientation,m.orientation,e);if(!j)return null;var A=wY(j,2),S=A[0],N=S.x,z=S.y,O=A[1],_=O.x,E=O.y,T=Aa(e,"hidden")?"url(#".concat(f,")"):void 0,B=qO(qO({clipPath:T},Fe(e,!0)),{},{x1:N,y1:z,x2:_,y2:E});return V.createElement(et,{className:Ye("recharts-reference-line",u)},zY(l,B),Ar.renderCallByParent(e,YX({x1:N,y1:z,x2:_,y2:E})))}var Rh=(function(e){function t(){return hY(this,t),gY(this,t,arguments)}return bY(t,e),vY(t,[{key:"render",value:function(){return V.createElement(PY,this.props)}}])})(V.Component);dw(Rh,"displayName","ReferenceLine");dw(Rh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function jS(){return jS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jS.apply(this,arguments)}function ml(e){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(e)}function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(n){Ih(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$R(n.key),n)}}function TY(e,t,r){return t&&_Y(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EY(e,t,r){return t=Ip(t),DY(e,WR()?Reflect.construct(t,r||[],Ip(e).constructor):t.apply(e,r))}function DY(e,t){if(t&&(ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RY(e)}function RY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WR=function(){return!!e})()}function Ip(e){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ip(e)}function IY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kS(e,t)}function kS(e,t){return kS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kS(e,t)}function Ih(e,t,r){return t=$R(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $R(e){var t=MY(e,"string");return ml(t)=="symbol"?t:t+""}function MY(e,t){if(ml(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var LY=function(t){var r=t.x,n=t.y,i=t.xAxis,o=t.yAxis,l=ow({x:i.scale,y:o.scale}),u=l.apply({x:r,y:n},{bandAware:!0});return Aa(t,"discard")&&!l.isInRange(u)?null:u},Mh=(function(e){function t(){return OY(this,t),EY(this,t,arguments)}return IY(t,e),TY(t,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,l=n.r,u=n.alwaysShow,d=n.clipPathId,f=xr(i),h=xr(o);if(ca(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var m=LY(this.props);if(!m)return null;var v=m.x,x=m.y,w=this.props,b=w.shape,y=w.className,j=Aa(this.props,"hidden")?"url(#".concat(d,")"):void 0,A=YO(YO({clipPath:j},Fe(this.props,!0)),{},{cx:v,cy:x});return V.createElement(et,{className:Ye("recharts-reference-dot",y)},t.renderDot(b,A),Ar.renderCallByParent(this.props,{x:v-l,y:x-l,width:2*l,height:2*l}))}}])})(V.Component);Ih(Mh,"displayName","ReferenceDot");Ih(Mh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ih(Mh,"renderDot",function(e,t){var r;return V.isValidElement(e)?r=V.cloneElement(e,t):Ge(e)?r=e(t):r=V.createElement(Qu,jS({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function CS(){return CS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CS.apply(this,arguments)}function vl(e){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(e)}function QO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function JO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(r),!0).forEach(function(n){Lh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HR(n.key),n)}}function WY(e,t,r){return t&&FY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Y(e,t,r){return t=Mp(t),UY(e,UR()?Reflect.construct(t,r||[],Mp(e).constructor):t.apply(e,r))}function UY(e,t){if(t&&(vl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HY(e)}function HY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UR=function(){return!!e})()}function Mp(e){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mp(e)}function KY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AS(e,t)}function AS(e,t){return AS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},AS(e,t)}function Lh(e,t,r){return t=HR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HR(e){var t=VY(e,"string");return vl(t)=="symbol"?t:t+""}function VY(e,t){if(vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GY=function(t,r,n,i,o){var l=o.x1,u=o.x2,d=o.y1,f=o.y2,h=o.xAxis,m=o.yAxis;if(!h||!m)return null;var v=ow({x:h.scale,y:m.scale}),x={x:t?v.x.apply(l,{position:"start"}):v.x.rangeMin,y:n?v.y.apply(d,{position:"start"}):v.y.rangeMin},w={x:r?v.x.apply(u,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(f,{position:"end"}):v.y.rangeMax};return Aa(o,"discard")&&(!v.isInRange(x)||!v.isInRange(w))?null:OR(x,w)},Bh=(function(e){function t(){return BY(this,t),$Y(this,t,arguments)}return KY(t,e),WY(t,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,l=n.y1,u=n.y2,d=n.className,f=n.alwaysShow,h=n.clipPathId;ca(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=xr(i),v=xr(o),x=xr(l),w=xr(u),b=this.props.shape;if(!m&&!v&&!x&&!w&&!b)return null;var y=GY(m,v,x,w,this.props);if(!y&&!b)return null;var j=Aa(this.props,"hidden")?"url(#".concat(h,")"):void 0;return V.createElement(et,{className:Ye("recharts-reference-area",d)},t.renderRect(b,JO(JO({clipPath:j},Fe(this.props,!0)),y)),Ar.renderCallByParent(this.props,y))}}])})(V.Component);Lh(Bh,"displayName","ReferenceArea");Lh(Bh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Lh(Bh,"renderRect",function(e,t){var r;return V.isValidElement(e)?r=V.cloneElement(e,t):Ge(e)?r=e(t):r=V.createElement(iw,CS({},t,{className:"recharts-reference-area-rect"})),r});function KR(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function qY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return JX(n,r)}function ZY(e,t,r){var n=r==="width",i=e.x,o=e.y,l=e.width,u=e.height;return t===1?{start:n?i:o,end:n?i+l:o+u}:{start:n?i+l:o+u,end:n?i:o}}function Lp(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-i)<=0}function XY(e,t){return KR(e,t+1)}function YY(e,t,r,n,i){for(var o=(n||[]).slice(),l=t.start,u=t.end,d=0,f=1,h=l,m=function(){var w=n?.[d];if(w===void 0)return{v:KR(n,f)};var b=d,y,j=function(){return y===void 0&&(y=r(w,b)),y},A=w.coordinate,S=d===0||Lp(e,A,j,h,u);S||(d=0,h=l,f+=1),S&&(h=A+e*(j()/2+i),d+=f)},v;f<=o.length;)if(v=m(),v)return v.v;return[]}function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}function e_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(r),!0).forEach(function(n){QY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QY(e,t,r){return t=JY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JY(e){var t=eQ(e,"string");return Bu(t)=="symbol"?t:t+""}function eQ(e,t){if(Bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tQ(e,t,r,n,i){for(var o=(n||[]).slice(),l=o.length,u=t.start,d=t.end,f=function(v){var x=o[v],w,b=function(){return w===void 0&&(w=r(x,v)),w};if(v===l-1){var y=e*(x.coordinate+e*b()/2-d);o[v]=x=Ur(Ur({},x),{},{tickCoord:y>0?x.coordinate-y*e:x.coordinate})}else o[v]=x=Ur(Ur({},x),{},{tickCoord:x.coordinate});var j=Lp(e,x.tickCoord,b,u,d);j&&(d=x.tickCoord-e*(b()/2+i),o[v]=Ur(Ur({},x),{},{isShow:!0}))},h=l-1;h>=0;h--)f(h);return o}function rQ(e,t,r,n,i,o){var l=(n||[]).slice(),u=l.length,d=t.start,f=t.end;if(o){var h=n[u-1],m=r(h,u-1),v=e*(h.coordinate+e*m/2-f);l[u-1]=h=Ur(Ur({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate});var x=Lp(e,h.tickCoord,function(){return m},d,f);x&&(f=h.tickCoord-e*(m/2+i),l[u-1]=Ur(Ur({},h),{},{isShow:!0}))}for(var w=o?u-1:u,b=function(A){var S=l[A],N,z=function(){return N===void 0&&(N=r(S,A)),N};if(A===0){var O=e*(S.coordinate-e*z()/2-d);l[A]=S=Ur(Ur({},S),{},{tickCoord:O<0?S.coordinate-O*e:S.coordinate})}else l[A]=S=Ur(Ur({},S),{},{tickCoord:S.coordinate});var _=Lp(e,S.tickCoord,z,d,f);_&&(d=S.tickCoord+e*(z()/2+i),l[A]=Ur(Ur({},S),{},{isShow:!0}))},y=0;y<w;y++)b(y);return l}function fw(e,t,r){var n=e.tick,i=e.ticks,o=e.viewBox,l=e.minTickGap,u=e.orientation,d=e.interval,f=e.tickFormatter,h=e.unit,m=e.angle;if(!i||!i.length||!n)return[];if(we(d)||fi.isSsr)return XY(i,typeof d=="number"&&we(d)?d:0);var v=[],x=u==="top"||u==="bottom"?"width":"height",w=h&&x==="width"?Zc(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=function(S,N){var z=Ge(f)?f(S.value,N):S.value;return x==="width"?qY(Zc(z,{fontSize:t,letterSpacing:r}),w,m):Zc(z,{fontSize:t,letterSpacing:r})[x]},y=i.length>=2?en(i[1].coordinate-i[0].coordinate):1,j=ZY(o,y,x);return d==="equidistantPreserveStart"?YY(y,j,b,i,l):(d==="preserveStart"||d==="preserveStartEnd"?v=rQ(y,j,b,i,l,d==="preserveStartEnd"):v=tQ(y,j,b,i,l),v.filter(function(A){return A.isShow}))}var nQ=["viewBox"],aQ=["viewBox"],iQ=["ticks"];function gl(e){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(e)}function Us(){return Us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Us.apply(this,arguments)}function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(r),!0).forEach(function(n){pw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hb(e,t){if(e==null)return{};var r=oQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GR(n.key),n)}}function lQ(e,t,r){return t&&r_(e.prototype,t),r&&r_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cQ(e,t,r){return t=Bp(t),uQ(e,VR()?Reflect.construct(t,r||[],Bp(e).constructor):t.apply(e,r))}function uQ(e,t){if(t&&(gl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dQ(e)}function dQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VR=function(){return!!e})()}function Bp(e){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bp(e)}function fQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zS(e,t)}function zS(e,t){return zS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zS(e,t)}function pw(e,t,r){return t=GR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GR(e){var t=pQ(e,"string");return gl(t)=="symbol"?t:t+""}function pQ(e,t){if(gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ml=(function(e){function t(r){var n;return sQ(this,t),n=cQ(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return fQ(t,e),lQ(t,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,l=Hb(n,nQ),u=this.props,d=u.viewBox,f=Hb(u,aQ);return!Ks(o,d)||!Ks(l,f)||!Ks(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,l=i.y,u=i.width,d=i.height,f=i.orientation,h=i.tickSize,m=i.mirror,v=i.tickMargin,x,w,b,y,j,A,S=m?-1:1,N=n.tickSize||h,z=we(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":x=w=n.coordinate,y=l+ +!m*d,b=y-S*N,A=b-S*v,j=z;break;case"left":b=y=n.coordinate,w=o+ +!m*u,x=w-S*N,j=x-S*v,A=z;break;case"right":b=y=n.coordinate,w=o+ +m*u,x=w+S*N,j=x+S*v,A=z;break;default:x=w=n.coordinate,y=l+ +m*d,b=y+S*N,A=b+S*v,j=z;break}return{line:{x1:x,y1:b,x2:w,y2:y},tick:{x:j,y:A}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,l;switch(i){case"left":l=o?"start":"end";break;case"right":l=o?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,l="end";switch(i){case"left":case"right":l="middle";break;case"top":l=o?"start":"end";break;default:l=o?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,d=n.orientation,f=n.mirror,h=n.axisLine,m=vr(vr(vr({},Fe(this.props,!1)),Fe(h,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var v=+(d==="top"&&!f||d==="bottom"&&f);m=vr(vr({},m),{},{x1:i,y1:o+v*u,x2:i+l,y2:o+v*u})}else{var x=+(d==="left"&&!f||d==="right"&&f);m=vr(vr({},m),{},{x1:i+x*l,y1:o,x2:i+x*l,y2:o+u})}return V.createElement("line",Us({},m,{className:Ye("recharts-cartesian-axis-line",zn(h,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var l=this,u=this.props,d=u.tickLine,f=u.stroke,h=u.tick,m=u.tickFormatter,v=u.unit,x=fw(vr(vr({},this.props),{},{ticks:n}),i,o),w=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),y=Fe(this.props,!1),j=Fe(h,!1),A=vr(vr({},y),{},{fill:"none"},Fe(d,!1)),S=x.map(function(N,z){var O=l.getTickLineCoord(N),_=O.line,E=O.tick,T=vr(vr(vr(vr({textAnchor:w,verticalAnchor:b},y),{},{stroke:"none",fill:f},j),E),{},{index:z,payload:N,visibleTicksCount:x.length,tickFormatter:m});return V.createElement(et,Us({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Gi(l.props,N,z)),d&&V.createElement("line",Us({},A,_,{className:Ye("recharts-cartesian-axis-tick-line",zn(d,"className"))})),h&&t.renderTickItem(h,T,"".concat(Ge(m)?m(N.value,z):N.value).concat(v||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,l=i.width,u=i.height,d=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var m=this.props,v=m.ticks,x=Hb(m,iQ),w=v;return Ge(d)&&(w=v&&v.length>0?d(this.props):d(x)),l<=0||u<=0||!w||!w.length?null:V.createElement(et,{className:Ye("recharts-cartesian-axis",f),ref:function(y){n.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),Ar.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var l,u=Ye(i.className,"recharts-cartesian-axis-tick-value");return V.isValidElement(n)?l=V.cloneElement(n,vr(vr({},i),{},{className:u})):Ge(n)?l=n(vr(vr({},i),{},{className:u})):l=V.createElement($o,Us({},i,{className:"recharts-cartesian-axis-tick-value"}),o),l}}])})(k.Component);pw(Ml,"displayName","CartesianAxis");pw(Ml,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var hQ=["x1","y1","x2","y2","key"],mQ=["offset"];function Ko(e){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(e)}function n_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n_(Object(r),!0).forEach(function(n){vQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vQ(e,t,r){return t=gQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gQ(e){var t=yQ(e,"string");return Ko(t)=="symbol"?t:t+""}function yQ(e,t){if(Ko(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ko(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ro(){return Ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ro.apply(this,arguments)}function a_(e,t){if(e==null)return{};var r=xQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var bQ=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,o=t.y,l=t.width,u=t.height,d=t.ry;return V.createElement("rect",{x:i,y:o,ry:d,width:l,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function qR(e,t){var r;if(V.isValidElement(e))r=V.cloneElement(e,t);else if(Ge(e))r=e(t);else{var n=t.x1,i=t.y1,o=t.x2,l=t.y2,u=t.key,d=a_(t,hQ),f=Fe(d,!1);f.offset;var h=a_(f,mQ);r=V.createElement("line",Ro({},h,{x1:n,y1:i,x2:o,y2:l,fill:"none",key:u}))}return r}function SQ(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var l=o.map(function(u,d){var f=Hr(Hr({},e),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return qR(i,f)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function wQ(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,o=e.verticalPoints;if(!i||!o||!o.length)return null;var l=o.map(function(u,d){var f=Hr(Hr({},e),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return qR(i,f)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function jQ(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,o=e.width,l=e.height,u=e.horizontalPoints,d=e.horizontal,f=d===void 0?!0:d;if(!f||!t||!t.length)return null;var h=u.map(function(v){return Math.round(v+i-i)}).sort(function(v,x){return v-x});i!==h[0]&&h.unshift(0);var m=h.map(function(v,x){var w=!h[x+1],b=w?i+l-v:h[x+1]-v;if(b<=0)return null;var y=x%t.length;return V.createElement("rect",{key:"react-".concat(x),y:v,x:n,height:b,width:o,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function kQ(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,o=e.x,l=e.y,u=e.width,d=e.height,f=e.verticalPoints;if(!r||!n||!n.length)return null;var h=f.map(function(v){return Math.round(v+o-o)}).sort(function(v,x){return v-x});o!==h[0]&&h.unshift(0);var m=h.map(function(v,x){var w=!h[x+1],b=w?o+u-v:h[x+1]-v;if(b<=0)return null;var y=x%n.length;return V.createElement("rect",{key:"react-".concat(x),x:v,y:l,width:b,height:d,stroke:"none",fill:n[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var CQ=function(t,r){var n=t.xAxis,i=t.width,o=t.height,l=t.offset;return XD(fw(Hr(Hr(Hr({},Ml.defaultProps),n),{},{ticks:Ja(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),l.left,l.left+l.width,r)},AQ=function(t,r){var n=t.yAxis,i=t.width,o=t.height,l=t.offset;return XD(fw(Hr(Hr(Hr({},Ml.defaultProps),n),{},{ticks:Ja(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),l.top,l.top+l.height,r)},Ns={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function la(e){var t,r,n,i,o,l,u=cw(),d=uw(),f=pY(),h=Hr(Hr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ns.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ns.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ns.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Ns.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:Ns.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:Ns.verticalFill,x:we(e.x)?e.x:f.left,y:we(e.y)?e.y:f.top,width:we(e.width)?e.width:f.width,height:we(e.height)?e.height:f.height}),m=h.x,v=h.y,x=h.width,w=h.height,b=h.syncWithTicks,y=h.horizontalValues,j=h.verticalValues,A=uY(),S=dY();if(!we(x)||x<=0||!we(w)||w<=0||!we(m)||m!==+m||!we(v)||v!==+v)return null;var N=h.verticalCoordinatesGenerator||CQ,z=h.horizontalCoordinatesGenerator||AQ,O=h.horizontalPoints,_=h.verticalPoints;if((!O||!O.length)&&Ge(z)){var E=y&&y.length,T=z({yAxis:S?Hr(Hr({},S),{},{ticks:E?y:S.ticks}):void 0,width:u,height:d,offset:f},E?!0:b);ca(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ko(T),"]")),Array.isArray(T)&&(O=T)}if((!_||!_.length)&&Ge(N)){var B=j&&j.length,R=N({xAxis:A?Hr(Hr({},A),{},{ticks:B?j:A.ticks}):void 0,width:u,height:d,offset:f},B?!0:b);ca(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ko(R),"]")),Array.isArray(R)&&(_=R)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(bQ,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),V.createElement(SQ,Ro({},h,{offset:f,horizontalPoints:O,xAxis:A,yAxis:S})),V.createElement(wQ,Ro({},h,{offset:f,verticalPoints:_,xAxis:A,yAxis:S})),V.createElement(jQ,Ro({},h,{horizontalPoints:O})),V.createElement(kQ,Ro({},h,{verticalPoints:_})))}la.displayName="CartesianGrid";var zQ=["type","layout","connectNulls","ref"],NQ=["key"];function yl(e){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yl(e)}function i_(e,t){if(e==null)return{};var r=PQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tu.apply(this,arguments)}function o_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(r),!0).forEach(function(n){ia(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ps(e){return EQ(e)||TQ(e)||_Q(e)||OQ()}function OQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Q(e,t){if(e){if(typeof e=="string")return NS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NS(e,t)}}function TQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EQ(e){if(Array.isArray(e))return NS(e)}function NS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XR(n.key),n)}}function RQ(e,t,r){return t&&s_(e.prototype,t),r&&s_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function IQ(e,t,r){return t=Fp(t),MQ(e,ZR()?Reflect.construct(t,r||[],Fp(e).constructor):t.apply(e,r))}function MQ(e,t){if(t&&(yl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LQ(e)}function LQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZR=function(){return!!e})()}function Fp(e){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fp(e)}function BQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PS(e,t)}function PS(e,t){return PS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},PS(e,t)}function ia(e,t,r){return t=XR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XR(e){var t=FQ(e,"string");return yl(t)=="symbol"?t:t+""}function FQ(e,t){if(yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dn=(function(e){function t(){var r;DQ(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=IQ(this,t,[].concat(i)),ia(r,"state",{isAnimationFinished:!0,totalLength:0}),ia(r,"generateSimpleStrokeDasharray",function(l,u){return"".concat(u,"px ").concat(l-u,"px")}),ia(r,"getStrokeDasharray",function(l,u,d){var f=d.reduce(function(j,A){return j+A});if(!f)return r.generateSimpleStrokeDasharray(u,l);for(var h=Math.floor(l/f),m=l%f,v=u-l,x=[],w=0,b=0;w<d.length;b+=d[w],++w)if(b+d[w]>m){x=[].concat(Ps(d.slice(0,w)),[m-b]);break}var y=x.length%2===0?[0,v]:[v];return[].concat(Ps(t.repeat(d,h)),Ps(x),y).map(function(j){return"".concat(j,"px")}).join(", ")}),ia(r,"id",to("recharts-line-")),ia(r,"pathRef",function(l){r.mainCurve=l}),ia(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ia(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return BQ(t,e),RQ(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.points,u=o.xAxis,d=o.yAxis,f=o.layout,h=o.children,m=nn(h,Il);if(!m)return null;var v=function(b,y){return{x:b.x,y:b.y,value:b.value,errorVal:Ht(b.payload,y)}},x={clipPath:n?"url(#clipPath-".concat(i,")"):null};return V.createElement(et,x,m.map(function(w){return V.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,dataPointFormatter:v})}))}},{key:"renderDots",value:function(n,i,o){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,f=u.points,h=u.dataKey,m=Fe(this.props,!1),v=Fe(d,!0),x=f.map(function(b,y){var j=wn(wn(wn({key:"dot-".concat(y),r:3},m),v),{},{index:y,cx:b.x,cy:b.y,value:b.value,dataKey:h,payload:b.payload,points:f});return t.renderDotItem(d,j)}),w={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return V.createElement(et,tu({className:"recharts-line-dots",key:"dots"},w),x)}},{key:"renderCurveStatically",value:function(n,i,o,l){var u=this.props,d=u.type,f=u.layout,h=u.connectNulls;u.ref;var m=i_(u,zQ),v=wn(wn(wn({},Fe(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:n},l),{},{type:d,layout:f,connectNulls:h});return V.createElement(Hi,tu({},v,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var o=this,l=this.props,u=l.points,d=l.strokeDasharray,f=l.isAnimationActive,h=l.animationBegin,m=l.animationDuration,v=l.animationEasing,x=l.animationId,w=l.animateNewValues,b=l.width,y=l.height,j=this.state,A=j.prevPoints,S=j.totalLength;return V.createElement(Kn,{begin:h,duration:m,isActive:f,easing:v,from:{t:0},to:{t:1},key:"line-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var z=N.t;if(A){var O=A.length/u.length,_=u.map(function(F,K){var H=Math.floor(K*O);if(A[H]){var M=A[H],$=er(M.x,F.x),U=er(M.y,F.y);return wn(wn({},F),{},{x:$(z),y:U(z)})}if(w){var I=er(b*2,F.x),Q=er(y/2,F.y);return wn(wn({},F),{},{x:I(z),y:Q(z)})}return wn(wn({},F),{},{x:F.x,y:F.y})});return o.renderCurveStatically(_,n,i)}var E=er(0,S),T=E(z),B;if(d){var R="".concat(d).split(/[,\s]+/gim).map(function(F){return parseFloat(F)});B=o.getStrokeDasharray(T,S,R)}else B=o.generateSimpleStrokeDasharray(S,T);return o.renderCurveStatically(u,n,i,{strokeDasharray:B})})}},{key:"renderCurve",value:function(n,i){var o=this.props,l=o.points,u=o.isAnimationActive,d=this.state,f=d.prevPoints,h=d.totalLength;return u&&l&&l.length&&(!f&&h>0||!qi(f,l))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(l,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,l=i.dot,u=i.points,d=i.className,f=i.xAxis,h=i.yAxis,m=i.top,v=i.left,x=i.width,w=i.height,b=i.isAnimationActive,y=i.id;if(o||!u||!u.length)return null;var j=this.state.isAnimationFinished,A=u.length===1,S=Ye("recharts-line",d),N=f&&f.allowDataOverflow,z=h&&h.allowDataOverflow,O=N||z,_=Ve(y)?this.id:y,E=(n=Fe(l,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=E.r,B=T===void 0?3:T,R=E.strokeWidth,F=R===void 0?2:R,K=QT(l)?l:{},H=K.clipDot,M=H===void 0?!0:H,$=B*2+F;return V.createElement(et,{className:S},N||z?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(_)},V.createElement("rect",{x:N?v:v-x/2,y:z?m:m-w/2,width:N?x:x*2,height:z?w:w*2})),!M&&V.createElement("clipPath",{id:"clipPath-dots-".concat(_)},V.createElement("rect",{x:v-$/2,y:m-$/2,width:x+$,height:w+$}))):null,!A&&this.renderCurve(O,_),this.renderErrorBar(O,_),(A||l)&&this.renderDots(O,M,_),(!b||j)&&ua.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var o=n.length%2!==0?[].concat(Ps(n),[0]):n,l=[],u=0;u<i;++u)l=[].concat(Ps(l),Ps(o));return l}},{key:"renderDotItem",value:function(n,i){var o;if(V.isValidElement(n))o=V.cloneElement(n,i);else if(Ge(n))o=n(i);else{var l=i.key,u=i_(i,NQ),d=Ye("recharts-line-dot",typeof n!="boolean"?n.className:"");o=V.createElement(Qu,tu({key:l},u,{className:d}))}return o}}])})(k.PureComponent);ia(dn,"displayName","Line");ia(dn,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!fi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ia(dn,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.dataKey,u=e.bandSize,d=e.displayedData,f=e.offset,h=t.layout,m=d.map(function(v,x){var w=Ht(v,l);return h==="horizontal"?{x:ol({axis:r,ticks:i,bandSize:u,entry:v,index:x}),y:Ve(w)?null:n.scale(w),value:w,payload:v}:{x:Ve(w)?null:r.scale(w),y:ol({axis:n,ticks:o,bandSize:u,entry:v,index:x}),value:w,payload:v}});return wn({points:m,layout:h},f)});var WQ=["layout","type","stroke","connectNulls","isRange","ref"],$Q=["key"],YR;function xl(e){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(e)}function QR(e,t){if(e==null)return{};var r=UQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Io(){return Io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Io.apply(this,arguments)}function l_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(r),!0).forEach(function(n){ja(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eI(n.key),n)}}function KQ(e,t,r){return t&&c_(e.prototype,t),r&&c_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VQ(e,t,r){return t=Wp(t),GQ(e,JR()?Reflect.construct(t,r||[],Wp(e).constructor):t.apply(e,r))}function GQ(e,t){if(t&&(xl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qQ(e)}function qQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JR=function(){return!!e})()}function Wp(e){return Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wp(e)}function ZQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OS(e,t)}function OS(e,t){return OS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},OS(e,t)}function ja(e,t,r){return t=eI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eI(e){var t=XQ(e,"string");return xl(t)=="symbol"?t:t+""}function XQ(e,t){if(xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oi=(function(e){function t(){var r;HQ(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=VQ(this,t,[].concat(i)),ja(r,"state",{isAnimationFinished:!0}),ja(r,"id",to("recharts-area-")),ja(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ge(l)&&l()}),ja(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ge(l)&&l()}),r}return ZQ(t,e),KQ(t,[{key:"renderDots",value:function(n,i,o){var l=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(l&&!u)return null;var d=this.props,f=d.dot,h=d.points,m=d.dataKey,v=Fe(this.props,!1),x=Fe(f,!0),w=h.map(function(y,j){var A=Ri(Ri(Ri({key:"dot-".concat(j),r:3},v),x),{},{index:j,cx:y.x,cy:y.y,dataKey:m,value:y.value,payload:y.payload,points:h});return t.renderDotItem(f,A)}),b={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return V.createElement(et,Io({className:"recharts-area-dots"},b),w)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,o=i.baseLine,l=i.points,u=i.strokeWidth,d=l[0].x,f=l[l.length-1].x,h=n*Math.abs(d-f),m=Bi(l.map(function(v){return v.y||0}));return we(o)&&typeof o=="number"?m=Math.max(o,m):o&&Array.isArray(o)&&o.length&&(m=Math.max(Bi(o.map(function(v){return v.y||0})),m)),we(m)?V.createElement("rect",{x:d<f?d:d-h,y:0,width:h,height:Math.floor(m+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,o=i.baseLine,l=i.points,u=i.strokeWidth,d=l[0].y,f=l[l.length-1].y,h=n*Math.abs(d-f),m=Bi(l.map(function(v){return v.x||0}));return we(o)&&typeof o=="number"?m=Math.max(o,m):o&&Array.isArray(o)&&o.length&&(m=Math.max(Bi(o.map(function(v){return v.x||0})),m)),we(m)?V.createElement("rect",{x:0,y:d<f?d:d-h,width:m+(u?parseInt("".concat(u),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,o,l){var u=this.props,d=u.layout,f=u.type,h=u.stroke,m=u.connectNulls,v=u.isRange;u.ref;var x=QR(u,WQ);return V.createElement(et,{clipPath:o?"url(#clipPath-".concat(l,")"):null},V.createElement(Hi,Io({},Fe(x,!0),{points:n,connectNulls:m,type:f,baseLine:i,layout:d,stroke:"none",className:"recharts-area-area"})),h!=="none"&&V.createElement(Hi,Io({},Fe(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:m,fill:"none",points:n})),h!=="none"&&v&&V.createElement(Hi,Io({},Fe(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:m,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var o=this,l=this.props,u=l.points,d=l.baseLine,f=l.isAnimationActive,h=l.animationBegin,m=l.animationDuration,v=l.animationEasing,x=l.animationId,w=this.state,b=w.prevPoints,y=w.prevBaseLine;return V.createElement(Kn,{begin:h,duration:m,isActive:f,easing:v,from:{t:0},to:{t:1},key:"area-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var A=j.t;if(b){var S=b.length/u.length,N=u.map(function(E,T){var B=Math.floor(T*S);if(b[B]){var R=b[B],F=er(R.x,E.x),K=er(R.y,E.y);return Ri(Ri({},E),{},{x:F(A),y:K(A)})}return E}),z;if(we(d)&&typeof d=="number"){var O=er(y,d);z=O(A)}else if(Ve(d)||Ol(d)){var _=er(y,0);z=_(A)}else z=d.map(function(E,T){var B=Math.floor(T*S);if(y[B]){var R=y[B],F=er(R.x,E.x),K=er(R.y,E.y);return Ri(Ri({},E),{},{x:F(A),y:K(A)})}return E});return o.renderAreaStatically(N,z,n,i)}return V.createElement(et,null,V.createElement("defs",null,V.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(A))),V.createElement(et,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(u,d,n,i)))})}},{key:"renderArea",value:function(n,i){var o=this.props,l=o.points,u=o.baseLine,d=o.isAnimationActive,f=this.state,h=f.prevPoints,m=f.prevBaseLine,v=f.totalLength;return d&&l&&l.length&&(!h&&v>0||!qi(h,l)||!qi(m,u))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(l,u,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,l=i.dot,u=i.points,d=i.className,f=i.top,h=i.left,m=i.xAxis,v=i.yAxis,x=i.width,w=i.height,b=i.isAnimationActive,y=i.id;if(o||!u||!u.length)return null;var j=this.state.isAnimationFinished,A=u.length===1,S=Ye("recharts-area",d),N=m&&m.allowDataOverflow,z=v&&v.allowDataOverflow,O=N||z,_=Ve(y)?this.id:y,E=(n=Fe(l,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=E.r,B=T===void 0?3:T,R=E.strokeWidth,F=R===void 0?2:R,K=QT(l)?l:{},H=K.clipDot,M=H===void 0?!0:H,$=B*2+F;return V.createElement(et,{className:S},N||z?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(_)},V.createElement("rect",{x:N?h:h-x/2,y:z?f:f-w/2,width:N?x:x*2,height:z?w:w*2})),!M&&V.createElement("clipPath",{id:"clipPath-dots-".concat(_)},V.createElement("rect",{x:h-$/2,y:f-$/2,width:x+$,height:w+$}))):null,A?null:this.renderArea(O,_),(l||A)&&this.renderDots(O,M,_),(!b||j)&&ua.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(k.PureComponent);YR=oi;ja(oi,"displayName","Area");ja(oi,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!fi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ja(oi,"getBaseValue",function(e,t,r,n){var i=e.layout,o=e.baseValue,l=t.props.baseValue,u=l??o;if(we(u)&&typeof u=="number")return u;var d=i==="horizontal"?n:r,f=d.scale.domain();if(d.type==="number"){var h=Math.max(f[0],f[1]),m=Math.min(f[0],f[1]);return u==="dataMin"?m:u==="dataMax"||h<0?h:Math.max(Math.min(f[0],f[1]),0)}return u==="dataMin"?f[0]:u==="dataMax"?f[1]:f[0]});ja(oi,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,u=e.bandSize,d=e.dataKey,f=e.stackedData,h=e.dataStartIndex,m=e.displayedData,v=e.offset,x=t.layout,w=f&&f.length,b=YR.getBaseValue(t,r,n,i),y=x==="horizontal",j=!1,A=m.map(function(N,z){var O;w?O=f[h+z]:(O=Ht(N,d),Array.isArray(O)?j=!0:O=[b,O]);var _=O[1]==null||w&&Ht(N,d)==null;return y?{x:ol({axis:n,ticks:o,bandSize:u,entry:N,index:z}),y:_?null:i.scale(O[1]),value:O,payload:N}:{x:_?null:n.scale(O[1]),y:ol({axis:i,ticks:l,bandSize:u,entry:N,index:z}),value:O,payload:N}}),S;return w||j?S=A.map(function(N){var z=Array.isArray(N.value)?N.value[0]:null;return y?{x:N.x,y:z!=null&&N.y!=null?i.scale(z):null}:{x:z!=null?n.scale(z):null,y:N.y}}):S=y?i.scale(b):n.scale(b),Ri({points:A,baseLine:S,layout:x,isRange:j},v)});ja(oi,"renderDotItem",function(e,t){var r;if(V.isValidElement(e))r=V.cloneElement(e,t);else if(Ge(e))r=e(t);else{var n=Ye("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,o=QR(t,$Q);r=V.createElement(Qu,Io({},o,{key:i,className:n}))}return r});function bl(e){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bl(e)}function YQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nI(n.key),n)}}function JQ(e,t,r){return t&&QQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eJ(e,t,r){return t=$p(t),tJ(e,tI()?Reflect.construct(t,r||[],$p(e).constructor):t.apply(e,r))}function tJ(e,t){if(t&&(bl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rJ(e)}function rJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tI=function(){return!!e})()}function $p(e){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$p(e)}function nJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_S(e,t)}function _S(e,t){return _S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_S(e,t)}function rI(e,t,r){return t=nI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nI(e){var t=aJ(e,"string");return bl(t)=="symbol"?t:t+""}function aJ(e,t){if(bl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ll=(function(e){function t(){return YQ(this,t),eJ(this,t,arguments)}return nJ(t,e),JQ(t,[{key:"render",value:function(){return null}}])})(k.Component);rI(Ll,"displayName","ZAxis");rI(Ll,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var iJ=["option","isActive"];function ru(){return ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ru.apply(this,arguments)}function oJ(e,t){if(e==null)return{};var r=sJ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lJ(e){var t=e.option,r=e.isActive,n=oJ(e,iJ);return typeof t=="string"?k.createElement(Np,ru({option:k.createElement(ph,ru({type:t},n)),isActive:r,shapeType:"symbols"},n)):k.createElement(Np,ru({option:t,isActive:r,shapeType:"symbols"},n))}function Sl(e){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(e)}function nu(){return nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nu.apply(this,arguments)}function u_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(r),!0).forEach(function(n){Wi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iI(n.key),n)}}function uJ(e,t,r){return t&&d_(e.prototype,t),r&&d_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dJ(e,t,r){return t=Up(t),fJ(e,aI()?Reflect.construct(t,r||[],Up(e).constructor):t.apply(e,r))}function fJ(e,t){if(t&&(Sl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pJ(e)}function pJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aI=function(){return!!e})()}function Up(e){return Up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Up(e)}function hJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TS(e,t)}function TS(e,t){return TS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TS(e,t)}function Wi(e,t,r){return t=iI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iI(e){var t=mJ(e,"string");return Sl(t)=="symbol"?t:t+""}function mJ(e,t){if(Sl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zi=(function(e){function t(){var r;cJ(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=dJ(this,t,[].concat(i)),Wi(r,"state",{isAnimationFinished:!1}),Wi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),Wi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),Wi(r,"id",to("recharts-scatter-")),r}return hJ(t,e),uJ(t,[{key:"renderSymbolsStatically",value:function(n){var i=this,o=this.props,l=o.shape,u=o.activeShape,d=o.activeIndex,f=Fe(this.props,!1);return n.map(function(h,m){var v=d===m,x=v?u:l,w=Ln(Ln({},f),h);return V.createElement(et,nu({className:"recharts-scatter-symbol",key:"symbol-".concat(h?.cx,"-").concat(h?.cy,"-").concat(h?.size,"-").concat(m)},Gi(i.props,h,m),{role:"img"}),V.createElement(lJ,nu({option:x,isActive:v,key:"symbol-".concat(m)},w)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,i=this.props,o=i.points,l=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,f=i.animationEasing,h=i.animationId,m=this.state.prevPoints;return V.createElement(Kn,{begin:u,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var x=v.t,w=o.map(function(b,y){var j=m&&m[y];if(j){var A=er(j.cx,b.cx),S=er(j.cy,b.cy),N=er(j.size,b.size);return Ln(Ln({},b),{},{cx:A(x),cy:S(x),size:N(x)})}var z=er(0,b.size);return Ln(Ln({},b),{},{size:z(x)})});return V.createElement(et,null,n.renderSymbolsStatically(w))})}},{key:"renderSymbols",value:function(){var n=this.props,i=n.points,o=n.isAnimationActive,l=this.state.prevPoints;return o&&i&&i.length&&(!l||!qi(l,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,u=i.yAxis,d=i.children,f=nn(d,Il);return f?f.map(function(h,m){var v=h.props,x=v.direction,w=v.dataKey;return V.cloneElement(h,{key:"".concat(x,"-").concat(w,"-").concat(o[m]),data:o,xAxis:l,yAxis:u,layout:x==="x"?"vertical":"horizontal",dataPointFormatter:function(y,j){return{x:y.cx,y:y.cy,value:x==="x"?+y.node.x:+y.node.y,errorVal:Ht(y,j)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,i=n.points,o=n.line,l=n.lineType,u=n.lineJointType,d=Fe(this.props,!1),f=Fe(o,!1),h,m;if(l==="joint")h=i.map(function(S){return{x:S.cx,y:S.cy}});else if(l==="fitting"){var v=iW(i),x=v.xmin,w=v.xmax,b=v.a,y=v.b,j=function(N){return b*N+y};h=[{x,y:j(x)},{x:w,y:j(w)}]}var A=Ln(Ln(Ln({},d),{},{fill:"none",stroke:d&&d.fill},f),{},{points:h});return V.isValidElement(o)?m=V.cloneElement(o,A):Ge(o)?m=o(A):m=V.createElement(Hi,nu({},A,{type:u})),V.createElement(et,{className:"recharts-scatter-line",key:"recharts-scatter-line"},m)}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.points,l=n.line,u=n.className,d=n.xAxis,f=n.yAxis,h=n.left,m=n.top,v=n.width,x=n.height,w=n.id,b=n.isAnimationActive;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,j=Ye("recharts-scatter",u),A=d&&d.allowDataOverflow,S=f&&f.allowDataOverflow,N=A||S,z=Ve(w)?this.id:w;return V.createElement(et,{className:j,clipPath:N?"url(#clipPath-".concat(z,")"):null},A||S?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(z)},V.createElement("rect",{x:A?h:h-v/2,y:S?m:m-x/2,width:A?v:v*2,height:S?x:x*2}))):null,l&&this.renderLine(),this.renderErrorBar(),V.createElement(et,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!b||y)&&ua.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}}])})(k.PureComponent);Wi(Zi,"displayName","Scatter");Wi(Zi,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!fi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Wi(Zi,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,i=e.item,o=e.displayedData,l=e.xAxisTicks,u=e.yAxisTicks,d=e.offset,f=i.props.tooltipType,h=nn(i.props.children,Tl),m=Ve(t.dataKey)?i.props.dataKey:t.dataKey,v=Ve(r.dataKey)?i.props.dataKey:r.dataKey,x=n&&n.dataKey,w=n?n.range:Ll.defaultProps.range,b=w&&w[0],y=t.scale.bandwidth?t.scale.bandwidth():0,j=r.scale.bandwidth?r.scale.bandwidth():0,A=o.map(function(S,N){var z=Ht(S,m),O=Ht(S,v),_=!Ve(x)&&Ht(S,x)||"-",E=[{name:Ve(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:z,payload:S,dataKey:m,type:f},{name:Ve(r.dataKey)?i.props.name:r.name||r.dataKey,unit:r.unit||"",value:O,payload:S,dataKey:v,type:f}];_!=="-"&&E.push({name:n.name||n.dataKey,unit:n.unit||"",value:_,payload:S,dataKey:x,type:f});var T=ol({axis:t,ticks:l,bandSize:y,entry:S,index:N,dataKey:m}),B=ol({axis:r,ticks:u,bandSize:j,entry:S,index:N,dataKey:v}),R=_!=="-"?n.scale(_):b,F=Math.sqrt(Math.max(R,0)/Math.PI);return Ln(Ln({},S),{},{cx:T,cy:B,x:T-F,y:B-F,xAxis:t,yAxis:r,zAxis:n,width:2*F,height:2*F,size:R,node:{x:z,y:O,z:_},tooltipPayload:E,tooltipPosition:{x:T,y:B},payload:S},h&&h[N]&&h[N].props)});return Ln({points:A},d)});function wl(e){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wl(e)}function vJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lI(n.key),n)}}function yJ(e,t,r){return t&&gJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xJ(e,t,r){return t=Hp(t),bJ(e,oI()?Reflect.construct(t,r||[],Hp(e).constructor):t.apply(e,r))}function bJ(e,t){if(t&&(wl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SJ(e)}function SJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oI=function(){return!!e})()}function Hp(e){return Hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hp(e)}function wJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ES(e,t)}function ES(e,t){return ES=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ES(e,t)}function sI(e,t,r){return t=lI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lI(e){var t=jJ(e,"string");return wl(t)=="symbol"?t:t+""}function jJ(e,t){if(wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function DS(){return DS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DS.apply(this,arguments)}function kJ(e){var t=e.xAxisId,r=cw(),n=uw(),i=MR(t);return i==null?null:k.createElement(Ml,DS({},i,{className:Ye("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(l){return Ja(l,!0)}}))}var Ot=(function(e){function t(){return vJ(this,t),xJ(this,t,arguments)}return wJ(t,e),yJ(t,[{key:"render",value:function(){return k.createElement(kJ,this.props)}}])})(k.Component);sI(Ot,"displayName","XAxis");sI(Ot,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function jl(e){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jl(e)}function CJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dI(n.key),n)}}function zJ(e,t,r){return t&&AJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NJ(e,t,r){return t=Kp(t),PJ(e,cI()?Reflect.construct(t,r||[],Kp(e).constructor):t.apply(e,r))}function PJ(e,t){if(t&&(jl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OJ(e)}function OJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cI=function(){return!!e})()}function Kp(e){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kp(e)}function _J(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RS(e,t)}function RS(e,t){return RS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RS(e,t)}function uI(e,t,r){return t=dI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dI(e){var t=TJ(e,"string");return jl(t)=="symbol"?t:t+""}function TJ(e,t){if(jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function IS(){return IS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IS.apply(this,arguments)}var EJ=function(t){var r=t.yAxisId,n=cw(),i=uw(),o=LR(r);return o==null?null:k.createElement(Ml,IS({},o,{className:Ye("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return Ja(u,!0)}}))},_t=(function(e){function t(){return CJ(this,t),NJ(this,t,arguments)}return _J(t,e),zJ(t,[{key:"render",value:function(){return k.createElement(EJ,this.props)}}])})(k.Component);uI(_t,"displayName","YAxis");uI(_t,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function f_(e){return MJ(e)||IJ(e)||RJ(e)||DJ()}function DJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RJ(e,t){if(e){if(typeof e=="string")return MS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MS(e,t)}}function IJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MJ(e){if(Array.isArray(e))return MS(e)}function MS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var LS=function(t,r,n,i,o){var l=nn(t,Rh),u=nn(t,Mh),d=[].concat(f_(l),f_(u)),f=nn(t,Bh),h="".concat(i,"Id"),m=i[0],v=r;if(d.length&&(v=d.reduce(function(b,y){if(y.props[h]===n&&Aa(y.props,"extendDomain")&&we(y.props[m])){var j=y.props[m];return[Math.min(b[0],j),Math.max(b[1],j)]}return b},v)),f.length){var x="".concat(m,"1"),w="".concat(m,"2");v=f.reduce(function(b,y){if(y.props[h]===n&&Aa(y.props,"extendDomain")&&we(y.props[x])&&we(y.props[w])){var j=y.props[x],A=y.props[w];return[Math.min(b[0],j,A),Math.max(b[1],j,A)]}return b},v)}return o&&o.length&&(v=o.reduce(function(b,y){return we(y)?[Math.min(b[0],y),Math.max(b[1],y)]:b},v)),v},Kb={exports:{}},p_;function LJ(){return p_||(p_=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,f,h){this.fn=d,this.context=f,this.once=h||!1}function o(d,f,h,m,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new i(h,m||d,v),w=r?r+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],x]:d._events[w].push(x):(d._events[w]=x,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)t.call(h,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=r?r+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,x=m.length,w=new Array(x);v<x;v++)w[v]=m[v].fn;return w},u.prototype.listenerCount=function(f){var h=r?r+f:f,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,h,m,v,x,w){var b=r?r+f:f;if(!this._events[b])return!1;var y=this._events[b],j=arguments.length,A,S;if(y.fn){switch(y.once&&this.removeListener(f,y.fn,void 0,!0),j){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,h),!0;case 3:return y.fn.call(y.context,h,m),!0;case 4:return y.fn.call(y.context,h,m,v),!0;case 5:return y.fn.call(y.context,h,m,v,x),!0;case 6:return y.fn.call(y.context,h,m,v,x,w),!0}for(S=1,A=new Array(j-1);S<j;S++)A[S-1]=arguments[S];y.fn.apply(y.context,A)}else{var N=y.length,z;for(S=0;S<N;S++)switch(y[S].once&&this.removeListener(f,y[S].fn,void 0,!0),j){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,h);break;case 3:y[S].fn.call(y[S].context,h,m);break;case 4:y[S].fn.call(y[S].context,h,m,v);break;default:if(!A)for(z=1,A=new Array(j-1);z<j;z++)A[z-1]=arguments[z];y[S].fn.apply(y[S].context,A)}}return!0},u.prototype.on=function(f,h,m){return o(this,f,h,m,!1)},u.prototype.once=function(f,h,m){return o(this,f,h,m,!0)},u.prototype.removeListener=function(f,h,m,v){var x=r?r+f:f;if(!this._events[x])return this;if(!h)return l(this,x),this;var w=this._events[x];if(w.fn)w.fn===h&&(!v||w.once)&&(!m||w.context===m)&&l(this,x);else{for(var b=0,y=[],j=w.length;b<j;b++)(w[b].fn!==h||v&&!w[b].once||m&&w[b].context!==m)&&y.push(w[b]);y.length?this._events[x]=y.length===1?y[0]:y:l(this,x)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&l(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(Kb)),Kb.exports}var BJ=LJ();const FJ=jt(BJ);var Vb=new FJ,Gb="recharts.syncMouseEvents";function Fu(e){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function WJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fI(n.key),n)}}function UJ(e,t,r){return t&&$J(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qb(e,t,r){return t=fI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fI(e){var t=HJ(e,"string");return Fu(t)=="symbol"?t:t+""}function HJ(e,t){if(Fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KJ=(function(){function e(){WJ(this,e),qb(this,"activeIndex",0),qb(this,"coordinateList",[]),qb(this,"layout","horizontal")}return UJ(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,l=r.container,u=l===void 0?null:l,d=r.layout,f=d===void 0?null:d,h=r.offset,m=h===void 0?null:h,v=r.mouseHandlerCallback,x=v===void 0?null:v;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,l=i.y,u=i.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=o+d+f,v=l+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:m,pageY:v})}}}])})();function VJ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],i=e?.[1];if(n&&i&&we(n)&&we(i))return!0}return!1}function GJ(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function pI(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,o=e.endAngle,l=Bt(t,r,n,i),u=Bt(t,r,n,o);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:i,endAngle:o}}function qJ(e,t,r){var n,i,o,l;if(e==="horizontal")n=t.x,o=n,i=r.top,l=r.top+r.height;else if(e==="vertical")i=t.y,l=i,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,d=t.cy,f=t.innerRadius,h=t.outerRadius,m=t.angle,v=Bt(u,d,f,m),x=Bt(u,d,h,m);n=v.x,i=v.y,o=x.x,l=x.y}else return pI(t);return[{x:n,y:i},{x:o,y:l}]}function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(r),!0).forEach(function(n){ZJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZJ(e,t,r){return t=XJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XJ(e){var t=YJ(e,"string");return Wu(t)=="symbol"?t:t+""}function YJ(e,t){if(Wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QJ(e){var t,r,n=e.element,i=e.tooltipEventType,o=e.isActive,l=e.activeCoordinate,u=e.activePayload,d=e.offset,f=e.activeTooltipIndex,h=e.tooltipAxisBandSize,m=e.layout,v=e.chartName,x=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!x||!o||!l||v!=="ScatterChart"&&i!=="axis")return null;var w,b=Hi;if(v==="ScatterChart")w=l,b=Kq;else if(v==="BarChart")w=GJ(m,l,d,h),b=iw;else if(m==="radial"){var y=pI(l),j=y.cx,A=y.cy,S=y.radius,N=y.startAngle,z=y.endAngle;w={cx:j,cy:A,startAngle:N,endAngle:z,innerRadius:S,outerRadius:S},b=sR}else w={points:qJ(m,l,d)},b=Hi;var O=Cf(Cf(Cf(Cf({stroke:"#ccc",pointerEvents:"none"},d),w),Fe(x,!1)),{},{payload:u,payloadIndex:f,className:Ye("recharts-tooltip-cursor",x.className)});return k.isValidElement(x)?k.cloneElement(x,O):k.createElement(b,O)}var JJ=["item"],eee=["children","className","width","height","style","compact","title","desc"];function kl(e){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(e)}function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hs.apply(this,arguments)}function m_(e,t){return nee(e)||ree(e,t)||mI(e,t)||tee()}function tee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ree(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){f=!0,i=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function nee(e){if(Array.isArray(e))return e}function v_(e,t){if(e==null)return{};var r=aee(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vI(n.key),n)}}function see(e,t,r){return t&&oee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lee(e,t,r){return t=Vp(t),cee(e,hI()?Reflect.construct(t,r||[],Vp(e).constructor):t.apply(e,r))}function cee(e,t){if(t&&(kl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uee(e)}function uee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hI=function(){return!!e})()}function Vp(e){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vp(e)}function dee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BS(e,t)}function BS(e,t){return BS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BS(e,t)}function Cl(e){return hee(e)||pee(e)||mI(e)||fee()}function fee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mI(e,t){if(e){if(typeof e=="string")return FS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FS(e,t)}}function pee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hee(e){if(Array.isArray(e))return FS(e)}function FS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g_(Object(r),!0).forEach(function(n){qe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qe(e,t,r){return t=vI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vI(e){var t=mee(e,"string");return kl(t)=="symbol"?t:t+""}function mee(e,t){if(kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vee={xAxis:["bottom","top"],yAxis:["left","right"]},gee={width:"100%",height:"100%"},gI={x:0,y:0};function Af(e){return e}var yee=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},xee=function(t,r,n,i){var o=r.find(function(h){return h&&h.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var l=o.coordinate,u=i.radius;return he(he(he({},i),Bt(i.cx,i.cy,u,l)),{},{angle:l,radius:u})}var d=o.coordinate,f=i.angle;return he(he(he({},i),Bt(i.cx,i.cy,d,f)),{},{angle:f,radius:d})}return gI},Fh=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,l=(n??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(Cl(u),Cl(f)):u},[]);return l.length>0?l:t&&t.length&&we(i)&&we(o)?t.slice(i,o+1):[]};function yI(e){return e==="number"?[0,"auto"]:void 0}var WS=function(t,r,n,i){var o=t.graphicalItems,l=t.tooltipAxis,u=Fh(r,t);return n<0||!o||!o.length||n>=u.length?null:o.reduce(function(d,f){var h,m=(h=f.props.data)!==null&&h!==void 0?h:r;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var v;if(l.dataKey&&!l.allowDuplicatedCategory){var x=m===void 0?u:m;v=Kf(x,l.dataKey,i)}else v=m&&m[n]||u[n];return v?[].concat(Cl(d),[tR(f,v)]):d},[])},y_=function(t,r,n,i){var o=i||{x:t.chartX,y:t.chartY},l=yee(o,n),u=t.orderedTooltipTicks,d=t.tooltipAxis,f=t.tooltipTicks,h=dG(l,u,f,d);if(h>=0&&f){var m=f[h]&&f[h].value,v=WS(t,r,h,m),x=xee(n,u,h,o);return{activeTooltipIndex:h,activeLabel:m,activePayload:v,activeCoordinate:x}}return null},bee=function(t,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,h=t.layout,m=t.children,v=t.stackOffset,x=ZD(h,o);return n.reduce(function(w,b){var y,j=b.type.defaultProps!==void 0?he(he({},b.type.defaultProps),b.props):b.props,A=j.type,S=j.dataKey,N=j.allowDataOverflow,z=j.allowDuplicatedCategory,O=j.scale,_=j.ticks,E=j.includeHidden,T=j[l];if(w[T])return w;var B=Fh(t.data,{graphicalItems:i.filter(function(X){var se,de=l in X.props?X.props[l]:(se=X.type.defaultProps)===null||se===void 0?void 0:se[l];return de===T}),dataStartIndex:d,dataEndIndex:f}),R=B.length,F,K,H;VJ(j.domain,N,A)&&(F=Q0(j.domain,null,N),x&&(A==="number"||O!=="auto")&&(H=Yc(B,S,"category")));var M=yI(A);if(!F||F.length===0){var $,U=($=j.domain)!==null&&$!==void 0?$:M;if(S){if(F=Yc(B,S,A),A==="category"&&x){var I=aW(F);z&&I?(K=F,F=Op(0,R)):z||(F=vP(U,F,b).reduce(function(X,se){return X.indexOf(se)>=0?X:[].concat(Cl(X),[se])},[]))}else if(A==="category")z?F=F.filter(function(X){return X!==""&&!Ve(X)}):F=vP(U,F,b).reduce(function(X,se){return X.indexOf(se)>=0||se===""||Ve(se)?X:[].concat(Cl(X),[se])},[]);else if(A==="number"){var Q=vG(B,i.filter(function(X){var se,de,ge=l in X.props?X.props[l]:(se=X.type.defaultProps)===null||se===void 0?void 0:se[l],xe="hide"in X.props?X.props.hide:(de=X.type.defaultProps)===null||de===void 0?void 0:de.hide;return ge===T&&(E||!xe)}),S,o,h);Q&&(F=Q)}x&&(A==="number"||O!=="auto")&&(H=Yc(B,S,"category"))}else x?F=Op(0,R):u&&u[T]&&u[T].hasStack&&A==="number"?F=v==="expand"?[0,1]:eR(u[T].stackGroups,d,f):F=qD(B,i.filter(function(X){var se=l in X.props?X.props[l]:X.type.defaultProps[l],de="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return se===T&&(E||!de)}),A,h,!0);if(A==="number")F=LS(m,F,T,o,_),U&&(F=Q0(U,F,N));else if(A==="category"&&U){var L=U,W=F.every(function(X){return L.indexOf(X)>=0});W&&(F=L)}}return he(he({},w),{},qe({},T,he(he({},j),{},{axisType:o,domain:F,categoricalDomain:H,duplicateDomain:K,originalDomain:(y=j.domain)!==null&&y!==void 0?y:M,isCategorical:x,layout:h})))},{})},See=function(t,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,h=t.layout,m=t.children,v=Fh(t.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),x=v.length,w=ZD(h,o),b=-1;return n.reduce(function(y,j){var A=j.type.defaultProps!==void 0?he(he({},j.type.defaultProps),j.props):j.props,S=A[l],N=yI("number");if(!y[S]){b++;var z;return w?z=Op(0,x):u&&u[S]&&u[S].hasStack?(z=eR(u[S].stackGroups,d,f),z=LS(m,z,S,o)):(z=Q0(N,qD(v,n.filter(function(O){var _,E,T=l in O.props?O.props[l]:(_=O.type.defaultProps)===null||_===void 0?void 0:_[l],B="hide"in O.props?O.props.hide:(E=O.type.defaultProps)===null||E===void 0?void 0:E.hide;return T===S&&!B}),"number",h),i.defaultProps.allowDataOverflow),z=LS(m,z,S,o)),he(he({},y),{},qe({},S,he(he({axisType:o},i.defaultProps),{},{hide:!0,orientation:zn(vee,"".concat(o,".").concat(b%2),null),domain:z,originalDomain:N,isCategorical:w,layout:h})))}return y},{})},wee=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,l=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,h=t.children,m="".concat(i,"Id"),v=nn(h,o),x={};return v&&v.length?x=bee(t,{axes:v,graphicalItems:l,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):l&&l.length&&(x=See(t,{Axis:o,graphicalItems:l,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),x},jee=function(t){var r=Li(t),n=Ja(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:T1(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:vp(r,n)}},x_=function(t){var r=t.children,n=t.defaultShowTooltip,i=kn(r,fl),o=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(l=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!n}},kee=function(t){return!t||!t.length?!1:t.some(function(r){var n=ti(r&&r.type);return n&&n.indexOf("Bar")>=0})},b_=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Cee=function(t,r){var n=t.props,i=t.graphicalItems,o=t.xAxisMap,l=o===void 0?{}:o,u=t.yAxisMap,d=u===void 0?{}:u,f=n.width,h=n.height,m=n.children,v=n.margin||{},x=kn(m,fl),w=kn(m,Lt),b=Object.keys(d).reduce(function(z,O){var _=d[O],E=_.orientation;return!_.mirror&&!_.hide?he(he({},z),{},qe({},E,z[E]+_.width)):z},{left:v.left||0,right:v.right||0}),y=Object.keys(l).reduce(function(z,O){var _=l[O],E=_.orientation;return!_.mirror&&!_.hide?he(he({},z),{},qe({},E,zn(z,"".concat(E))+_.height)):z},{top:v.top||0,bottom:v.bottom||0}),j=he(he({},y),b),A=j.bottom;x&&(j.bottom+=x.props.height||fl.defaultProps.height),w&&r&&(j=hG(j,i,n,r));var S=f-j.left-j.right,N=h-j.top-j.bottom;return he(he({brushBottom:A},j),{},{width:Math.max(S,0),height:Math.max(N,0)})},Aee=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Ju=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,o=i===void 0?"axis":i,l=t.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=t.axisComponents,f=t.legendContent,h=t.formatAxisMap,m=t.defaultProps,v=function(j,A){var S=A.graphicalItems,N=A.stackGroups,z=A.offset,O=A.updateId,_=A.dataStartIndex,E=A.dataEndIndex,T=j.barSize,B=j.layout,R=j.barGap,F=j.barCategoryGap,K=j.maxBarSize,H=b_(B),M=H.numericAxisName,$=H.cateAxisName,U=kee(S),I=[];return S.forEach(function(Q,L){var W=Fh(j.data,{graphicalItems:[Q],dataStartIndex:_,dataEndIndex:E}),X=Q.type.defaultProps!==void 0?he(he({},Q.type.defaultProps),Q.props):Q.props,se=X.dataKey,de=X.maxBarSize,ge=X["".concat(M,"Id")],xe=X["".concat($,"Id")],ne={},ie=d.reduce(function(xt,Ft){var ut=A["".concat(Ft.axisType,"Map")],Me=X["".concat(Ft.axisType,"Id")];ut&&ut[Me]||Ft.axisType==="zAxis"||Ho();var Ze=ut[Me];return he(he({},xt),{},qe(qe({},Ft.axisType,Ze),"".concat(Ft.axisType,"Ticks"),Ja(Ze)))},ne),ce=ie[$],fe=ie["".concat($,"Ticks")],q=N&&N[ge]&&N[ge].hasStack&&CG(Q,N[ge].stackGroups),ee=ti(Q.type).indexOf("Bar")>=0,Oe=vp(ce,fe),je=[],st=U&&fG({barSize:T,stackGroups:N,totalSize:Aee(ie,$)});if(ee){var Qe,bt,Kt=Ve(de)?K:de,rr=(Qe=(bt=vp(ce,fe,!0))!==null&&bt!==void 0?bt:Kt)!==null&&Qe!==void 0?Qe:0;je=pG({barGap:R,barCategoryGap:F,bandSize:rr!==Oe?rr:Oe,sizeList:st[xe],maxBarSize:Kt}),rr!==Oe&&(je=je.map(function(xt){return he(he({},xt),{},{position:he(he({},xt.position),{},{offset:xt.position.offset-rr/2})})}))}var ft=Q&&Q.type&&Q.type.getComposedData;ft&&I.push({props:he(he({},ft(he(he({},ie),{},{displayedData:W,props:j,dataKey:se,item:Q,bandSize:Oe,barPosition:je,offset:z,stackedData:q,layout:B,dataStartIndex:_,dataEndIndex:E}))),{},qe(qe(qe({key:Q.key||"item-".concat(L)},M,ie[M]),$,ie[$]),"animationId",O)),childIndex:gW(Q,j.children),item:Q})}),I},x=function(j,A){var S=j.props,N=j.dataStartIndex,z=j.dataEndIndex,O=j.updateId;if(!_C({props:S}))return null;var _=S.children,E=S.layout,T=S.stackOffset,B=S.data,R=S.reverseStackOrder,F=b_(E),K=F.numericAxisName,H=F.cateAxisName,M=nn(_,n),$=jG(B,M,"".concat(K,"Id"),"".concat(H,"Id"),T,R),U=d.reduce(function(X,se){var de="".concat(se.axisType,"Map");return he(he({},X),{},qe({},de,wee(S,he(he({},se),{},{graphicalItems:M,stackGroups:se.axisType===K&&$,dataStartIndex:N,dataEndIndex:z}))))},{}),I=Cee(he(he({},U),{},{props:S,graphicalItems:M}),A?.legendBBox);Object.keys(U).forEach(function(X){U[X]=h(S,U[X],I,X.replace("Map",""),r)});var Q=U["".concat(H,"Map")],L=jee(Q),W=v(S,he(he({},U),{},{dataStartIndex:N,dataEndIndex:z,updateId:O,graphicalItems:M,stackGroups:$,offset:I}));return he(he({formattedGraphicalItems:W,graphicalItems:M,offset:I,stackGroups:$},L),U)},w=(function(y){function j(A){var S,N,z;return iee(this,j),z=lee(this,j,[A]),qe(z,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),qe(z,"accessibilityManager",new KJ),qe(z,"handleLegendBBoxUpdate",function(O){if(O){var _=z.state,E=_.dataStartIndex,T=_.dataEndIndex,B=_.updateId;z.setState(he({legendBBox:O},x({props:z.props,dataStartIndex:E,dataEndIndex:T,updateId:B},he(he({},z.state),{},{legendBBox:O}))))}}),qe(z,"handleReceiveSyncEvent",function(O,_,E){if(z.props.syncId===O){if(E===z.eventEmitterSymbol&&typeof z.props.syncMethod!="function")return;z.applySyncEvent(_)}}),qe(z,"handleBrushChange",function(O){var _=O.startIndex,E=O.endIndex;if(_!==z.state.dataStartIndex||E!==z.state.dataEndIndex){var T=z.state.updateId;z.setState(function(){return he({dataStartIndex:_,dataEndIndex:E},x({props:z.props,dataStartIndex:_,dataEndIndex:E,updateId:T},z.state))}),z.triggerSyncEvent({dataStartIndex:_,dataEndIndex:E})}}),qe(z,"handleMouseEnter",function(O){var _=z.getMouseInfo(O);if(_){var E=he(he({},_),{},{isTooltipActive:!0});z.setState(E),z.triggerSyncEvent(E);var T=z.props.onMouseEnter;Ge(T)&&T(E,O)}}),qe(z,"triggeredAfterMouseMove",function(O){var _=z.getMouseInfo(O),E=_?he(he({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};z.setState(E),z.triggerSyncEvent(E);var T=z.props.onMouseMove;Ge(T)&&T(E,O)}),qe(z,"handleItemMouseEnter",function(O){z.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),qe(z,"handleItemMouseLeave",function(){z.setState(function(){return{isTooltipActive:!1}})}),qe(z,"handleMouseMove",function(O){O.persist(),z.throttleTriggeredAfterMouseMove(O)}),qe(z,"handleMouseLeave",function(O){z.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};z.setState(_),z.triggerSyncEvent(_);var E=z.props.onMouseLeave;Ge(E)&&E(_,O)}),qe(z,"handleOuterEvent",function(O){var _=vW(O),E=zn(z.props,"".concat(_));if(_&&Ge(E)){var T,B;/.*touch.*/i.test(_)?B=z.getMouseInfo(O.changedTouches[0]):B=z.getMouseInfo(O),E((T=B)!==null&&T!==void 0?T:{},O)}}),qe(z,"handleClick",function(O){var _=z.getMouseInfo(O);if(_){var E=he(he({},_),{},{isTooltipActive:!0});z.setState(E),z.triggerSyncEvent(E);var T=z.props.onClick;Ge(T)&&T(E,O)}}),qe(z,"handleMouseDown",function(O){var _=z.props.onMouseDown;if(Ge(_)){var E=z.getMouseInfo(O);_(E,O)}}),qe(z,"handleMouseUp",function(O){var _=z.props.onMouseUp;if(Ge(_)){var E=z.getMouseInfo(O);_(E,O)}}),qe(z,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&z.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),qe(z,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&z.handleMouseDown(O.changedTouches[0])}),qe(z,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&z.handleMouseUp(O.changedTouches[0])}),qe(z,"handleDoubleClick",function(O){var _=z.props.onDoubleClick;if(Ge(_)){var E=z.getMouseInfo(O);_(E,O)}}),qe(z,"handleContextMenu",function(O){var _=z.props.onContextMenu;if(Ge(_)){var E=z.getMouseInfo(O);_(E,O)}}),qe(z,"triggerSyncEvent",function(O){z.props.syncId!==void 0&&Vb.emit(Gb,z.props.syncId,O,z.eventEmitterSymbol)}),qe(z,"applySyncEvent",function(O){var _=z.props,E=_.layout,T=_.syncMethod,B=z.state.updateId,R=O.dataStartIndex,F=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)z.setState(he({dataStartIndex:R,dataEndIndex:F},x({props:z.props,dataStartIndex:R,dataEndIndex:F,updateId:B},z.state)));else if(O.activeTooltipIndex!==void 0){var K=O.chartX,H=O.chartY,M=O.activeTooltipIndex,$=z.state,U=$.offset,I=$.tooltipTicks;if(!U)return;if(typeof T=="function")M=T(I,O);else if(T==="value"){M=-1;for(var Q=0;Q<I.length;Q++)if(I[Q].value===O.activeLabel){M=Q;break}}var L=he(he({},U),{},{x:U.left,y:U.top}),W=Math.min(K,L.x+L.width),X=Math.min(H,L.y+L.height),se=I[M]&&I[M].value,de=WS(z.state,z.props.data,M),ge=I[M]?{x:E==="horizontal"?I[M].coordinate:W,y:E==="horizontal"?X:I[M].coordinate}:gI;z.setState(he(he({},O),{},{activeLabel:se,activeCoordinate:ge,activePayload:de,activeTooltipIndex:M}))}else z.setState(O)}),qe(z,"renderCursor",function(O){var _,E=z.state,T=E.isTooltipActive,B=E.activeCoordinate,R=E.activePayload,F=E.offset,K=E.activeTooltipIndex,H=E.tooltipAxisBandSize,M=z.getTooltipEventType(),$=(_=O.props.active)!==null&&_!==void 0?_:T,U=z.props.layout,I=O.key||"_recharts-cursor";return V.createElement(QJ,{key:I,activeCoordinate:B,activePayload:R,activeTooltipIndex:K,chartName:r,element:O,isActive:$,layout:U,offset:F,tooltipAxisBandSize:H,tooltipEventType:M})}),qe(z,"renderPolarAxis",function(O,_,E){var T=zn(O,"type.axisType"),B=zn(z.state,"".concat(T,"Map")),R=O.type.defaultProps,F=R!==void 0?he(he({},R),O.props):O.props,K=B&&B[F["".concat(T,"Id")]];return k.cloneElement(O,he(he({},K),{},{className:Ye(T,K.className),key:O.key||"".concat(_,"-").concat(E),ticks:Ja(K,!0)}))}),qe(z,"renderPolarGrid",function(O){var _=O.props,E=_.radialLines,T=_.polarAngles,B=_.polarRadius,R=z.state,F=R.radiusAxisMap,K=R.angleAxisMap,H=Li(F),M=Li(K),$=M.cx,U=M.cy,I=M.innerRadius,Q=M.outerRadius;return k.cloneElement(O,{polarAngles:Array.isArray(T)?T:Ja(M,!0).map(function(L){return L.coordinate}),polarRadius:Array.isArray(B)?B:Ja(H,!0).map(function(L){return L.coordinate}),cx:$,cy:U,innerRadius:I,outerRadius:Q,key:O.key||"polar-grid",radialLines:E})}),qe(z,"renderLegend",function(){var O=z.state.formattedGraphicalItems,_=z.props,E=_.children,T=_.width,B=_.height,R=z.props.margin||{},F=T-(R.left||0)-(R.right||0),K=VD({children:E,formattedGraphicalItems:O,legendWidth:F,legendContent:f});if(!K)return null;var H=K.item,M=v_(K,JJ);return k.cloneElement(H,he(he({},M),{},{chartWidth:T,chartHeight:B,margin:R,onBBoxUpdate:z.handleLegendBBoxUpdate}))}),qe(z,"renderTooltip",function(){var O,_=z.props,E=_.children,T=_.accessibilityLayer,B=kn(E,gt);if(!B)return null;var R=z.state,F=R.isTooltipActive,K=R.activeCoordinate,H=R.activePayload,M=R.activeLabel,$=R.offset,U=(O=B.props.active)!==null&&O!==void 0?O:F;return k.cloneElement(B,{viewBox:he(he({},$),{},{x:$.left,y:$.top}),active:U,label:M,payload:U?H:[],coordinate:K,accessibilityLayer:T})}),qe(z,"renderBrush",function(O){var _=z.props,E=_.margin,T=_.data,B=z.state,R=B.offset,F=B.dataStartIndex,K=B.dataEndIndex,H=B.updateId;return k.cloneElement(O,{key:O.key||"_recharts-brush",onChange:Sf(z.handleBrushChange,O.props.onChange),data:T,x:we(O.props.x)?O.props.x:R.left,y:we(O.props.y)?O.props.y:R.top+R.height+R.brushBottom-(E.bottom||0),width:we(O.props.width)?O.props.width:R.width,startIndex:F,endIndex:K,updateId:"brush-".concat(H)})}),qe(z,"renderReferenceElement",function(O,_,E){if(!O)return null;var T=z,B=T.clipPathId,R=z.state,F=R.xAxisMap,K=R.yAxisMap,H=R.offset,M=O.type.defaultProps||{},$=O.props,U=$.xAxisId,I=U===void 0?M.xAxisId:U,Q=$.yAxisId,L=Q===void 0?M.yAxisId:Q;return k.cloneElement(O,{key:O.key||"".concat(_,"-").concat(E),xAxis:F[I],yAxis:K[L],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:B})}),qe(z,"renderActivePoints",function(O){var _=O.item,E=O.activePoint,T=O.basePoint,B=O.childIndex,R=O.isRange,F=[],K=_.props.key,H=_.item.type.defaultProps!==void 0?he(he({},_.item.type.defaultProps),_.item.props):_.item.props,M=H.activeDot,$=H.dataKey,U=he(he({index:B,dataKey:$,cx:E.x,cy:E.y,r:4,fill:aw(_.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Fe(M,!1)),Vf(M));return F.push(j.renderActiveDot(M,U,"".concat(K,"-activePoint-").concat(B))),T?F.push(j.renderActiveDot(M,he(he({},U),{},{cx:T.x,cy:T.y}),"".concat(K,"-basePoint-").concat(B))):R&&F.push(null),F}),qe(z,"renderGraphicChild",function(O,_,E){var T=z.filterFormatItem(O,_,E);if(!T)return null;var B=z.getTooltipEventType(),R=z.state,F=R.isTooltipActive,K=R.tooltipAxis,H=R.activeTooltipIndex,M=R.activeLabel,$=z.props.children,U=kn($,gt),I=T.props,Q=I.points,L=I.isRange,W=I.baseLine,X=T.item.type.defaultProps!==void 0?he(he({},T.item.type.defaultProps),T.item.props):T.item.props,se=X.activeDot,de=X.hide,ge=X.activeBar,xe=X.activeShape,ne=!!(!de&&F&&U&&(se||ge||xe)),ie={};B!=="axis"&&U&&U.props.trigger==="click"?ie={onClick:Sf(z.handleItemMouseEnter,O.props.onClick)}:B!=="axis"&&(ie={onMouseLeave:Sf(z.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:Sf(z.handleItemMouseEnter,O.props.onMouseEnter)});var ce=k.cloneElement(O,he(he({},T.props),ie));function fe(Ft){return typeof K.dataKey=="function"?K.dataKey(Ft.payload):null}if(ne)if(H>=0){var q,ee;if(K.dataKey&&!K.allowDuplicatedCategory){var Oe=typeof K.dataKey=="function"?fe:"payload.".concat(K.dataKey.toString());q=Kf(Q,Oe,M),ee=L&&W&&Kf(W,Oe,M)}else q=Q?.[H],ee=L&&W&&W[H];if(xe||ge){var je=O.props.activeIndex!==void 0?O.props.activeIndex:H;return[k.cloneElement(O,he(he(he({},T.props),ie),{},{activeIndex:je})),null,null]}if(!Ve(q))return[ce].concat(Cl(z.renderActivePoints({item:T,activePoint:q,basePoint:ee,childIndex:H,isRange:L})))}else{var st,Qe=(st=z.getItemByXY(z.state.activeCoordinate))!==null&&st!==void 0?st:{graphicalItem:ce},bt=Qe.graphicalItem,Kt=bt.item,rr=Kt===void 0?O:Kt,ft=bt.childIndex,xt=he(he(he({},T.props),ie),{},{activeIndex:ft});return[k.cloneElement(rr,xt),null,null]}return L?[ce,null,null]:[ce,null]}),qe(z,"renderCustomized",function(O,_,E){return k.cloneElement(O,he(he({key:"recharts-customized-".concat(E)},z.props),z.state))}),qe(z,"renderMap",{CartesianGrid:{handler:Af,once:!0},ReferenceArea:{handler:z.renderReferenceElement},ReferenceLine:{handler:Af},ReferenceDot:{handler:z.renderReferenceElement},XAxis:{handler:Af},YAxis:{handler:Af},Brush:{handler:z.renderBrush,once:!0},Bar:{handler:z.renderGraphicChild},Line:{handler:z.renderGraphicChild},Area:{handler:z.renderGraphicChild},Radar:{handler:z.renderGraphicChild},RadialBar:{handler:z.renderGraphicChild},Scatter:{handler:z.renderGraphicChild},Pie:{handler:z.renderGraphicChild},Funnel:{handler:z.renderGraphicChild},Tooltip:{handler:z.renderCursor,once:!0},PolarGrid:{handler:z.renderPolarGrid,once:!0},PolarAngleAxis:{handler:z.renderPolarAxis},PolarRadiusAxis:{handler:z.renderPolarAxis},Customized:{handler:z.renderCustomized}}),z.clipPathId="".concat((S=A.id)!==null&&S!==void 0?S:to("recharts"),"-clip"),z.throttleTriggeredAfterMouseMove=KE(z.triggeredAfterMouseMove,(N=A.throttleDelay)!==null&&N!==void 0?N:1e3/60),z.state={},z}return dee(j,y),see(j,[{key:"componentDidMount",value:function(){var S,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,N=S.children,z=S.data,O=S.height,_=S.layout,E=kn(N,gt);if(E){var T=E.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,R=WS(this.state,z,T,B),F=this.state.tooltipTicks[T].coordinate,K=(this.state.offset.top+O)/2,H=_==="horizontal",M=H?{x:F,y:K}:{y:F,x:K},$=this.state.formattedGraphicalItems.find(function(I){var Q=I.item;return Q.type.name==="Scatter"});$&&(M=he(he({},M),$.props.points[T].tooltipPosition),R=$.props.points[T].tooltipPayload);var U={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:B,activePayload:R,activeCoordinate:M};this.setState(U),this.renderCursor(E),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var z,O;this.accessibilityManager.setDetails({offset:{left:(z=this.props.margin.left)!==null&&z!==void 0?z:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(S){b0([kn(S.children,gt)],[kn(this.props.children,gt)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=kn(this.props.children,gt);if(S&&typeof S.props.shared=="boolean"){var N=S.props.shared?"axis":"item";return u.indexOf(N)>=0?N:o}return o}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var N=this.container,z=N.getBoundingClientRect(),O=nU(z),_={chartX:Math.round(S.pageX-O.left),chartY:Math.round(S.pageY-O.top)},E=z.width/N.offsetWidth||1,T=this.inRange(_.chartX,_.chartY,E);if(!T)return null;var B=this.state,R=B.xAxisMap,F=B.yAxisMap,K=this.getTooltipEventType(),H=y_(this.state,this.props.data,this.props.layout,T);if(K!=="axis"&&R&&F){var M=Li(R).scale,$=Li(F).scale,U=M&&M.invert?M.invert(_.chartX):null,I=$&&$.invert?$.invert(_.chartY):null;return he(he({},_),{},{xValue:U,yValue:I},H)}return H?he(he({},_),H):null}},{key:"inRange",value:function(S,N){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,_=S/z,E=N/z;if(O==="horizontal"||O==="vertical"){var T=this.state.offset,B=_>=T.left&&_<=T.left+T.width&&E>=T.top&&E<=T.top+T.height;return B?{x:_,y:E}:null}var R=this.state,F=R.angleAxisMap,K=R.radiusAxisMap;if(F&&K){var H=Li(F);return xP({x:_,y:E},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,N=this.getTooltipEventType(),z=kn(S,gt),O={};z&&N==="axis"&&(z.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=Vf(this.props,this.handleOuterEvent);return he(he({},_),O)}},{key:"addListener",value:function(){Vb.on(Gb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Vb.removeListener(Gb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,N,z){for(var O=this.state.formattedGraphicalItems,_=0,E=O.length;_<E;_++){var T=O[_];if(T.item===S||T.props.key===S.key||N===ti(T.item.type)&&z===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,N=this.state.offset,z=N.left,O=N.top,_=N.height,E=N.width;return V.createElement("defs",null,V.createElement("clipPath",{id:S},V.createElement("rect",{x:z,y:O,height:_,width:E})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(N,z){var O=m_(z,2),_=O[0],E=O[1];return he(he({},N),{},qe({},_,E.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(N,z){var O=m_(z,2),_=O[0],E=O[1];return he(he({},N),{},qe({},_,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[S])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(S){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[S])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(S){var N=this.state,z=N.formattedGraphicalItems,O=N.activeItem;if(z&&z.length)for(var _=0,E=z.length;_<E;_++){var T=z[_],B=T.props,R=T.item,F=R.type.defaultProps!==void 0?he(he({},R.type.defaultProps),R.props):R.props,K=ti(R.type);if(K==="Bar"){var H=(B.data||[]).find(function(I){return Cq(S,I)});if(H)return{graphicalItem:T,payload:H}}else if(K==="RadialBar"){var M=(B.data||[]).find(function(I){return xP(S,I)});if(M)return{graphicalItem:T,payload:M}}else if(_h(T,O)||Th(T,O)||Ru(T,O)){var $=qZ({graphicalItem:T,activeTooltipItem:O,itemData:F.data}),U=F.activeIndex===void 0?$:F.activeIndex;return{graphicalItem:he(he({},T),{},{childIndex:U}),payload:Ru(T,O)?F.data[$]:T.props.data[$]}}}return null}},{key:"render",value:function(){var S=this;if(!_C(this))return null;var N=this.props,z=N.children,O=N.className,_=N.width,E=N.height,T=N.style,B=N.compact,R=N.title,F=N.desc,K=v_(N,eee),H=Fe(K,!1);if(B)return V.createElement(VO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(w0,Hs({},H,{width:_,height:E,title:R,desc:F}),this.renderClipPath(),EC(z,this.renderMap)));if(this.props.accessibilityLayer){var M,$;H.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,H.role=($=this.props.role)!==null&&$!==void 0?$:"application",H.onKeyDown=function(I){S.accessibilityManager.keyboardEvent(I)},H.onFocus=function(){S.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return V.createElement(VO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",Hs({className:Ye("recharts-wrapper",O),style:he({position:"relative",cursor:"default",width:_,height:E},T)},U,{ref:function(Q){S.container=Q}}),V.createElement(w0,Hs({},H,{width:_,height:E,title:R,desc:F,style:gee}),this.renderClipPath(),EC(z,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(k.Component);qe(w,"displayName",r),qe(w,"defaultProps",he({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),qe(w,"getDerivedStateFromProps",function(y,j){var A=y.dataKey,S=y.data,N=y.children,z=y.width,O=y.height,_=y.layout,E=y.stackOffset,T=y.margin,B=j.dataStartIndex,R=j.dataEndIndex;if(j.updateId===void 0){var F=x_(y);return he(he(he({},F),{},{updateId:0},x(he(he({props:y},F),{},{updateId:0}),j)),{},{prevDataKey:A,prevData:S,prevWidth:z,prevHeight:O,prevLayout:_,prevStackOffset:E,prevMargin:T,prevChildren:N})}if(A!==j.prevDataKey||S!==j.prevData||z!==j.prevWidth||O!==j.prevHeight||_!==j.prevLayout||E!==j.prevStackOffset||!Ks(T,j.prevMargin)){var K=x_(y),H={chartX:j.chartX,chartY:j.chartY,isTooltipActive:j.isTooltipActive},M=he(he({},y_(j,S,_)),{},{updateId:j.updateId+1}),$=he(he(he({},K),H),M);return he(he(he({},$),x(he({props:y},$),j)),{},{prevDataKey:A,prevData:S,prevWidth:z,prevHeight:O,prevLayout:_,prevStackOffset:E,prevMargin:T,prevChildren:N})}if(!b0(N,j.prevChildren)){var U,I,Q,L,W=kn(N,fl),X=W&&(U=(I=W.props)===null||I===void 0?void 0:I.startIndex)!==null&&U!==void 0?U:B,se=W&&(Q=(L=W.props)===null||L===void 0?void 0:L.endIndex)!==null&&Q!==void 0?Q:R,de=X!==B||se!==R,ge=!Ve(S),xe=ge&&!de?j.updateId:j.updateId+1;return he(he({updateId:xe},x(he(he({props:y},j),{},{updateId:xe,dataStartIndex:X,dataEndIndex:se}),j)),{},{prevChildren:N,dataStartIndex:X,dataEndIndex:se})}return null}),qe(w,"renderActiveDot",function(y,j,A){var S;return k.isValidElement(y)?S=k.cloneElement(y,j):Ge(y)?S=y(j):S=V.createElement(Qu,j),V.createElement(et,{className:"recharts-active-dot",key:A},S)});var b=k.forwardRef(function(j,A){return V.createElement(w,Hs({},j,{ref:A}))});return b.displayName=w.displayName,b},xI=Ju({chartName:"LineChart",GraphicalChild:dn,axisComponents:[{axisType:"xAxis",AxisComp:Ot},{axisType:"yAxis",AxisComp:_t}],formatAxisMap:Dh}),Gr=Ju({chartName:"BarChart",GraphicalChild:$e,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ot},{axisType:"yAxis",AxisComp:_t}],formatAxisMap:Dh}),bI=Ju({chartName:"PieChart",GraphicalChild:Ta,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Oh},{axisType:"radiusAxis",AxisComp:Nh}],formatAxisMap:RG,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),SI=Ju({chartName:"ScatterChart",GraphicalChild:Zi,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:Ot},{axisType:"yAxis",AxisComp:_t},{axisType:"zAxis",AxisComp:Ll}],formatAxisMap:Dh}),zee=Ju({chartName:"AreaChart",GraphicalChild:oi,axisComponents:[{axisType:"xAxis",AxisComp:Ot},{axisType:"yAxis",AxisComp:_t}],formatAxisMap:Dh});function S_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Bl(...e){return t=>{let r=!1;const n=e.map(i=>{const o=S_(i,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let i=0;i<n.length;i++){const o=n[i];typeof o=="function"?o():S_(e[i],null)}}}}function Yt(...e){return k.useCallback(Bl(...e),e)}function Nee(e,t){const r=k.createContext(t),n=o=>{const{children:l,...u}=o,d=k.useMemo(()=>u,Object.values(u));return a.jsx(r.Provider,{value:d,children:l})};n.displayName=e+"Provider";function i(o){const l=k.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,i]}function ts(e,t=[]){let r=[];function n(o,l){const u=k.createContext(l),d=r.length;r=[...r,l];const f=m=>{const{scope:v,children:x,...w}=m,b=v?.[e]?.[d]||u,y=k.useMemo(()=>w,Object.values(w));return a.jsx(b.Provider,{value:y,children:x})};f.displayName=o+"Provider";function h(m,v){const x=v?.[e]?.[d]||u,w=k.useContext(x);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[f,h]}const i=()=>{const o=r.map(l=>k.createContext(l));return function(u){const d=u?.[e]||o;return k.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return i.scopeName=e,[n,Pee(i,...t)]}function Pee(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=n.reduce((u,{useScope:d,scopeName:f})=>{const m=d(o)[`__scope${f}`];return{...u,...m}},{});return k.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}function ct(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}var qr=globalThis?.document?k.useLayoutEffect:()=>{},Oee=o1[" useInsertionEffect ".trim().toString()]||qr;function Al({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,o,l]=_ee({defaultProp:t,onChange:r}),u=e!==void 0,d=u?e:i;{const h=k.useRef(e!==void 0);k.useEffect(()=>{const m=h.current;m!==u&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=u},[u,n])}const f=k.useCallback(h=>{if(u){const m=Tee(h)?h(e):h;m!==e&&l.current?.(m)}else o(h)},[u,e,o,l]);return[d,f]}function _ee({defaultProp:e,onChange:t}){const[r,n]=k.useState(e),i=k.useRef(r),o=k.useRef(t);return Oee(()=>{o.current=t},[t]),k.useEffect(()=>{i.current!==r&&(o.current?.(r),i.current=r)},[r,i]),[r,n,o]}function Tee(e){return typeof e=="function"}function wI(e){const t=k.useRef({value:e,previous:e});return k.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function jI(e){const[t,r]=k.useState(void 0);return qr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let l,u;if("borderBoxSize"in o){const d=o.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,u=f.blockSize}else l=e.offsetWidth,u=e.offsetHeight;r({width:l,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}function Eee(e,t){return k.useReducer((r,n)=>t[r][n]??r,e)}var Fl=e=>{const{present:t,children:r}=e,n=Dee(t),i=typeof r=="function"?r({present:n.isPresent}):k.Children.only(r),o=Yt(n.ref,Ree(i));return typeof r=="function"||n.isPresent?k.cloneElement(i,{ref:o}):null};Fl.displayName="Presence";function Dee(e){const[t,r]=k.useState(),n=k.useRef(null),i=k.useRef(e),o=k.useRef("none"),l=e?"mounted":"unmounted",[u,d]=Eee(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const f=zf(n.current);o.current=u==="mounted"?f:"none"},[u]),qr(()=>{const f=n.current,h=i.current;if(h!==e){const v=o.current,x=zf(f);e?d("MOUNT"):x==="none"||f?.display==="none"?d("UNMOUNT"):d(h&&v!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,d]),qr(()=>{if(t){let f;const h=t.ownerDocument.defaultView??window,m=x=>{const b=zf(n.current).includes(CSS.escape(x.animationName));if(x.target===t&&b&&(d("ANIMATION_END"),!i.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",f=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},v=x=>{x.target===t&&(o.current=zf(n.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{h.clearTimeout(f),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:k.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function zf(e){return e?.animationName||"none"}function Ree(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Iee(e){const t=Mee(e),r=k.forwardRef((n,i)=>{const{children:o,...l}=n,u=k.Children.toArray(o),d=u.find(Bee);if(d){const f=d.props.children,h=u.map(m=>m===d?k.Children.count(f)>1?k.Children.only(null):k.isValidElement(f)?f.props.children:null:m);return a.jsx(t,{...l,ref:i,children:k.isValidElement(f)?k.cloneElement(f,void 0,h):null})}return a.jsx(t,{...l,ref:i,children:o})});return r.displayName=`${e}.Slot`,r}function Mee(e){const t=k.forwardRef((r,n)=>{const{children:i,...o}=r;if(k.isValidElement(i)){const l=Wee(i),u=Fee(o,i.props);return i.type!==k.Fragment&&(u.ref=n?Bl(n,l):l),k.cloneElement(i,u)}return k.Children.count(i)>1?k.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Lee=Symbol("radix.slottable");function Bee(e){return k.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Lee}function Fee(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function Wee(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $ee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dt=$ee.reduce((e,t)=>{const r=Iee(`Primitive.${t}`),n=k.forwardRef((i,o)=>{const{asChild:l,...u}=i,d=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...u,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Uee(e,t){e&&Yu.flushSync(()=>e.dispatchEvent(t))}var Wh="Checkbox",[Hee]=ts(Wh),[Kee,hw]=Hee(Wh);function Vee(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:i,disabled:o,form:l,name:u,onCheckedChange:d,required:f,value:h="on",internal_do_not_use_render:m}=e,[v,x]=Al({prop:r,defaultProp:i??!1,onChange:d,caller:Wh}),[w,b]=k.useState(null),[y,j]=k.useState(null),A=k.useRef(!1),S=w?!!l||!!w.closest("form"):!0,N={checked:v,disabled:o,setChecked:x,control:w,setControl:b,name:u,form:l,value:h,hasConsumerStoppedPropagationRef:A,required:f,defaultChecked:Ki(i)?!1:i,isFormControl:S,bubbleInput:y,setBubbleInput:j};return a.jsx(Kee,{scope:t,...N,children:Gee(m)?m(N):n})}var kI="CheckboxTrigger",CI=k.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},i)=>{const{control:o,value:l,disabled:u,checked:d,required:f,setControl:h,setChecked:m,hasConsumerStoppedPropagationRef:v,isFormControl:x,bubbleInput:w}=hw(kI,e),b=Yt(i,h),y=k.useRef(d);return k.useEffect(()=>{const j=o?.form;if(j){const A=()=>m(y.current);return j.addEventListener("reset",A),()=>j.removeEventListener("reset",A)}},[o,m]),a.jsx(dt.button,{type:"button",role:"checkbox","aria-checked":Ki(d)?"mixed":d,"aria-required":f,"data-state":_I(d),"data-disabled":u?"":void 0,disabled:u,value:l,...n,ref:b,onKeyDown:ct(t,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:ct(r,j=>{m(A=>Ki(A)?!0:!A),w&&x&&(v.current=j.isPropagationStopped(),v.current||j.stopPropagation())})})});CI.displayName=kI;var AI=k.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:o,required:l,disabled:u,value:d,onCheckedChange:f,form:h,...m}=e;return a.jsx(Vee,{__scopeCheckbox:r,checked:i,defaultChecked:o,disabled:u,required:l,onCheckedChange:f,name:n,form:h,value:d,internal_do_not_use_render:({isFormControl:v})=>a.jsxs(a.Fragment,{children:[a.jsx(CI,{...m,ref:t,__scopeCheckbox:r}),v&&a.jsx(OI,{__scopeCheckbox:r})]})})});AI.displayName=Wh;var zI="CheckboxIndicator",NI=k.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,o=hw(zI,r);return a.jsx(Fl,{present:n||Ki(o.checked)||o.checked===!0,children:a.jsx(dt.span,{"data-state":_I(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});NI.displayName=zI;var PI="CheckboxBubbleInput",OI=k.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:l,required:u,disabled:d,name:f,value:h,form:m,bubbleInput:v,setBubbleInput:x}=hw(PI,e),w=Yt(r,x),b=wI(o),y=jI(n);k.useEffect(()=>{const A=v;if(!A)return;const S=window.HTMLInputElement.prototype,z=Object.getOwnPropertyDescriptor(S,"checked").set,O=!i.current;if(b!==o&&z){const _=new Event("click",{bubbles:O});A.indeterminate=Ki(o),z.call(A,Ki(o)?!1:o),A.dispatchEvent(_)}},[v,b,o,i]);const j=k.useRef(Ki(o)?!1:o);return a.jsx(dt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??j.current,required:u,disabled:d,name:f,value:h,form:m,...t,tabIndex:-1,ref:w,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});OI.displayName=PI;function Gee(e){return typeof e=="function"}function Ki(e){return e==="indeterminate"}function _I(e){return Ki(e)?"indeterminate":e?"checked":"unchecked"}const qee=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},Zee=(e,t)=>({classGroupId:e,validator:t}),TI=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Gp="-",w_=[],Xee="arbitrary..",Yee=e=>{const t=Jee(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return Qee(l);const u=l.split(Gp),d=u[0]===""&&u.length>1?1:0;return EI(u,d,t)},getConflictingClassGroupIds:(l,u)=>{if(u){const d=n[l],f=r[l];return d?f?qee(f,d):d:f||w_}return r[l]||w_}}},EI=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const i=e[t],o=r.nextPart.get(i);if(o){const f=EI(e,t+1,o);if(f)return f}const l=r.validators;if(l===null)return;const u=t===0?e.join(Gp):e.slice(t).join(Gp),d=l.length;for(let f=0;f<d;f++){const h=l[f];if(h.validator(u))return h.classGroupId}},Qee=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?Xee+n:void 0})(),Jee=e=>{const{theme:t,classGroups:r}=e;return ete(r,t)},ete=(e,t)=>{const r=TI();for(const n in e){const i=e[n];mw(i,r,n,t)}return r},mw=(e,t,r,n)=>{const i=e.length;for(let o=0;o<i;o++){const l=e[o];tte(l,t,r,n)}},tte=(e,t,r,n)=>{if(typeof e=="string"){rte(e,t,r);return}if(typeof e=="function"){nte(e,t,r,n);return}ate(e,t,r,n)},rte=(e,t,r)=>{const n=e===""?t:DI(t,e);n.classGroupId=r},nte=(e,t,r,n)=>{if(ite(e)){mw(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(Zee(r,e))},ate=(e,t,r,n)=>{const i=Object.entries(e),o=i.length;for(let l=0;l<o;l++){const[u,d]=i[l];mw(d,DI(t,u),r,n)}},DI=(e,t)=>{let r=e;const n=t.split(Gp),i=n.length;for(let o=0;o<i;o++){const l=n[o];let u=r.nextPart.get(l);u||(u=TI(),r.nextPart.set(l,u)),r=u}return r},ite=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,ote=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const i=(o,l)=>{r[o]=l,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(o){let l=r[o];if(l!==void 0)return l;if((l=n[o])!==void 0)return i(o,l),l},set(o,l){o in r?r[o]=l:i(o,l)}}},$S="!",j_=":",ste=[],k_=(e,t,r,n,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:i}),lte=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=i=>{const o=[];let l=0,u=0,d=0,f;const h=i.length;for(let b=0;b<h;b++){const y=i[b];if(l===0&&u===0){if(y===j_){o.push(i.slice(d,b)),d=b+1;continue}if(y==="/"){f=b;continue}}y==="["?l++:y==="]"?l--:y==="("?u++:y===")"&&u--}const m=o.length===0?i:i.slice(d);let v=m,x=!1;m.endsWith($S)?(v=m.slice(0,-1),x=!0):m.startsWith($S)&&(v=m.slice(1),x=!0);const w=f&&f>d?f-d:void 0;return k_(o,x,v,w)};if(t){const i=t+j_,o=n;n=l=>l.startsWith(i)?o(l.slice(i.length)):k_(ste,!1,l,void 0,!0)}if(r){const i=n;n=o=>r({className:o,parseClassName:i})}return n},cte=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let i=[];for(let o=0;o<r.length;o++){const l=r[o],u=l[0]==="[",d=t.has(l);u||d?(i.length>0&&(i.sort(),n.push(...i),i=[]),n.push(l)):i.push(l)}return i.length>0&&(i.sort(),n.push(...i)),n}},ute=e=>({cache:ote(e.cacheSize),parseClassName:lte(e),sortModifiers:cte(e),...Yee(e)}),dte=/\s+/,fte=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:o}=t,l=[],u=e.trim().split(dte);let d="";for(let f=u.length-1;f>=0;f-=1){const h=u[f],{isExternal:m,modifiers:v,hasImportantModifier:x,baseClassName:w,maybePostfixModifierPosition:b}=r(h);if(m){d=h+(d.length>0?" "+d:d);continue}let y=!!b,j=n(y?w.substring(0,b):w);if(!j){if(!y){d=h+(d.length>0?" "+d:d);continue}if(j=n(w),!j){d=h+(d.length>0?" "+d:d);continue}y=!1}const A=v.length===0?"":v.length===1?v[0]:o(v).join(":"),S=x?A+$S:A,N=S+j;if(l.indexOf(N)>-1)continue;l.push(N);const z=i(j,y);for(let O=0;O<z.length;++O){const _=z[O];l.push(S+_)}d=h+(d.length>0?" "+d:d)}return d},pte=(...e)=>{let t=0,r,n,i="";for(;t<e.length;)(r=e[t++])&&(n=RI(r))&&(i&&(i+=" "),i+=n);return i},RI=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=RI(e[n]))&&(r&&(r+=" "),r+=t);return r},hte=(e,...t)=>{let r,n,i,o;const l=d=>{const f=t.reduce((h,m)=>m(h),e());return r=ute(f),n=r.cache.get,i=r.cache.set,o=u,u(d)},u=d=>{const f=n(d);if(f)return f;const h=fte(d,r);return i(d,h),h};return o=l,(...d)=>o(pte(...d))},mte=[],gr=e=>{const t=r=>r[e]||mte;return t.isThemeGetter=!0,t},II=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,MI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,vte=/^\d+\/\d+$/,gte=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yte=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xte=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,bte=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ste=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Os=e=>vte.test(e),at=e=>!!e&&!Number.isNaN(Number(e)),Di=e=>!!e&&Number.isInteger(Number(e)),Zb=e=>e.endsWith("%")&&at(e.slice(0,-1)),Va=e=>gte.test(e),wte=()=>!0,jte=e=>yte.test(e)&&!xte.test(e),LI=()=>!1,kte=e=>bte.test(e),Cte=e=>Ste.test(e),Ate=e=>!Re(e)&&!Ie(e),zte=e=>Wl(e,WI,LI),Re=e=>II.test(e),Co=e=>Wl(e,$I,jte),Xb=e=>Wl(e,Tte,at),C_=e=>Wl(e,BI,LI),Nte=e=>Wl(e,FI,Cte),Nf=e=>Wl(e,UI,kte),Ie=e=>MI.test(e),Ic=e=>$l(e,$I),Pte=e=>$l(e,Ete),A_=e=>$l(e,BI),Ote=e=>$l(e,WI),_te=e=>$l(e,FI),Pf=e=>$l(e,UI,!0),Wl=(e,t,r)=>{const n=II.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},$l=(e,t,r=!1)=>{const n=MI.exec(e);return n?n[1]?t(n[1]):r:!1},BI=e=>e==="position"||e==="percentage",FI=e=>e==="image"||e==="url",WI=e=>e==="length"||e==="size"||e==="bg-size",$I=e=>e==="length",Tte=e=>e==="number",Ete=e=>e==="family-name",UI=e=>e==="shadow",Dte=()=>{const e=gr("color"),t=gr("font"),r=gr("text"),n=gr("font-weight"),i=gr("tracking"),o=gr("leading"),l=gr("breakpoint"),u=gr("container"),d=gr("spacing"),f=gr("radius"),h=gr("shadow"),m=gr("inset-shadow"),v=gr("text-shadow"),x=gr("drop-shadow"),w=gr("blur"),b=gr("perspective"),y=gr("aspect"),j=gr("ease"),A=gr("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],z=()=>[...N(),Ie,Re],O=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],E=()=>[Ie,Re,d],T=()=>[Os,"full","auto",...E()],B=()=>[Di,"none","subgrid",Ie,Re],R=()=>["auto",{span:["full",Di,Ie,Re]},Di,Ie,Re],F=()=>[Di,"auto",Ie,Re],K=()=>["auto","min","max","fr",Ie,Re],H=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],M=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...E()],U=()=>[Os,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],I=()=>[e,Ie,Re],Q=()=>[...N(),A_,C_,{position:[Ie,Re]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],W=()=>["auto","cover","contain",Ote,zte,{size:[Ie,Re]}],X=()=>[Zb,Ic,Co],se=()=>["","none","full",f,Ie,Re],de=()=>["",at,Ic,Co],ge=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>[at,Zb,A_,C_],ie=()=>["","none",w,Ie,Re],ce=()=>["none",at,Ie,Re],fe=()=>["none",at,Ie,Re],q=()=>[at,Ie,Re],ee=()=>[Os,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Va],breakpoint:[Va],color:[wte],container:[Va],"drop-shadow":[Va],ease:["in","out","in-out"],font:[Ate],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Va],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Va],shadow:[Va],spacing:["px",at],text:[Va],"text-shadow":[Va],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Os,Re,Ie,y]}],container:["container"],columns:[{columns:[at,Re,Ie,u]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:z()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[Di,"auto",Ie,Re]}],basis:[{basis:[Os,"full","auto",u,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[at,Os,"auto","initial","none",Re]}],grow:[{grow:["",at,Ie,Re]}],shrink:[{shrink:["",at,Ie,Re]}],order:[{order:[Di,"first","last","none",Ie,Re]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":K()}],"auto-rows":[{"auto-rows":K()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...H(),"normal"]}],"justify-items":[{"justify-items":[...M(),"normal"]}],"justify-self":[{"justify-self":["auto",...M()]}],"align-content":[{content:["normal",...H()]}],"align-items":[{items:[...M(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...M(),{baseline:["","last"]}]}],"place-content":[{"place-content":H()}],"place-items":[{"place-items":[...M(),"baseline"]}],"place-self":[{"place-self":["auto",...M()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:U()}],w:[{w:[u,"screen",...U()]}],"min-w":[{"min-w":[u,"screen","none",...U()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...U()]}],h:[{h:["screen","lh",...U()]}],"min-h":[{"min-h":["screen","lh","none",...U()]}],"max-h":[{"max-h":["screen","lh",...U()]}],"font-size":[{text:["base",r,Ic,Co]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ie,Xb]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Zb,Re]}],"font-family":[{font:[Pte,Re,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ie,Re]}],"line-clamp":[{"line-clamp":[at,"none",Ie,Xb]}],leading:[{leading:[o,...E()]}],"list-image":[{"list-image":["none",Ie,Re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ie,Re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[at,"from-font","auto",Ie,Co]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[at,"auto",Ie,Re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie,Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie,Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Q()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:W()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Di,Ie,Re],radial:["",Ie,Re],conic:[Di,Ie,Re]},_te,Nte]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:se()}],"rounded-s":[{"rounded-s":se()}],"rounded-e":[{"rounded-e":se()}],"rounded-t":[{"rounded-t":se()}],"rounded-r":[{"rounded-r":se()}],"rounded-b":[{"rounded-b":se()}],"rounded-l":[{"rounded-l":se()}],"rounded-ss":[{"rounded-ss":se()}],"rounded-se":[{"rounded-se":se()}],"rounded-ee":[{"rounded-ee":se()}],"rounded-es":[{"rounded-es":se()}],"rounded-tl":[{"rounded-tl":se()}],"rounded-tr":[{"rounded-tr":se()}],"rounded-br":[{"rounded-br":se()}],"rounded-bl":[{"rounded-bl":se()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[at,Ie,Re]}],"outline-w":[{outline:["",at,Ic,Co]}],"outline-color":[{outline:I()}],shadow:[{shadow:["","none",h,Pf,Nf]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",m,Pf,Nf]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[at,Co]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":I()}],"text-shadow":[{"text-shadow":["none",v,Pf,Nf]}],"text-shadow-color":[{"text-shadow":I()}],opacity:[{opacity:[at,Ie,Re]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[at]}],"mask-image-linear-from-pos":[{"mask-linear-from":ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":ne()}],"mask-image-linear-from-color":[{"mask-linear-from":I()}],"mask-image-linear-to-color":[{"mask-linear-to":I()}],"mask-image-t-from-pos":[{"mask-t-from":ne()}],"mask-image-t-to-pos":[{"mask-t-to":ne()}],"mask-image-t-from-color":[{"mask-t-from":I()}],"mask-image-t-to-color":[{"mask-t-to":I()}],"mask-image-r-from-pos":[{"mask-r-from":ne()}],"mask-image-r-to-pos":[{"mask-r-to":ne()}],"mask-image-r-from-color":[{"mask-r-from":I()}],"mask-image-r-to-color":[{"mask-r-to":I()}],"mask-image-b-from-pos":[{"mask-b-from":ne()}],"mask-image-b-to-pos":[{"mask-b-to":ne()}],"mask-image-b-from-color":[{"mask-b-from":I()}],"mask-image-b-to-color":[{"mask-b-to":I()}],"mask-image-l-from-pos":[{"mask-l-from":ne()}],"mask-image-l-to-pos":[{"mask-l-to":ne()}],"mask-image-l-from-color":[{"mask-l-from":I()}],"mask-image-l-to-color":[{"mask-l-to":I()}],"mask-image-x-from-pos":[{"mask-x-from":ne()}],"mask-image-x-to-pos":[{"mask-x-to":ne()}],"mask-image-x-from-color":[{"mask-x-from":I()}],"mask-image-x-to-color":[{"mask-x-to":I()}],"mask-image-y-from-pos":[{"mask-y-from":ne()}],"mask-image-y-to-pos":[{"mask-y-to":ne()}],"mask-image-y-from-color":[{"mask-y-from":I()}],"mask-image-y-to-color":[{"mask-y-to":I()}],"mask-image-radial":[{"mask-radial":[Ie,Re]}],"mask-image-radial-from-pos":[{"mask-radial-from":ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":ne()}],"mask-image-radial-from-color":[{"mask-radial-from":I()}],"mask-image-radial-to-color":[{"mask-radial-to":I()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[at]}],"mask-image-conic-from-pos":[{"mask-conic-from":ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":ne()}],"mask-image-conic-from-color":[{"mask-conic-from":I()}],"mask-image-conic-to-color":[{"mask-conic-to":I()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Q()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:W()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ie,Re]}],filter:[{filter:["","none",Ie,Re]}],blur:[{blur:ie()}],brightness:[{brightness:[at,Ie,Re]}],contrast:[{contrast:[at,Ie,Re]}],"drop-shadow":[{"drop-shadow":["","none",x,Pf,Nf]}],"drop-shadow-color":[{"drop-shadow":I()}],grayscale:[{grayscale:["",at,Ie,Re]}],"hue-rotate":[{"hue-rotate":[at,Ie,Re]}],invert:[{invert:["",at,Ie,Re]}],saturate:[{saturate:[at,Ie,Re]}],sepia:[{sepia:["",at,Ie,Re]}],"backdrop-filter":[{"backdrop-filter":["","none",Ie,Re]}],"backdrop-blur":[{"backdrop-blur":ie()}],"backdrop-brightness":[{"backdrop-brightness":[at,Ie,Re]}],"backdrop-contrast":[{"backdrop-contrast":[at,Ie,Re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",at,Ie,Re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[at,Ie,Re]}],"backdrop-invert":[{"backdrop-invert":["",at,Ie,Re]}],"backdrop-opacity":[{"backdrop-opacity":[at,Ie,Re]}],"backdrop-saturate":[{"backdrop-saturate":[at,Ie,Re]}],"backdrop-sepia":[{"backdrop-sepia":["",at,Ie,Re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ie,Re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[at,"initial",Ie,Re]}],ease:[{ease:["linear","initial",j,Ie,Re]}],delay:[{delay:[at,Ie,Re]}],animate:[{animate:["none",A,Ie,Re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,Ie,Re]}],"perspective-origin":[{"perspective-origin":z()}],rotate:[{rotate:ce()}],"rotate-x":[{"rotate-x":ce()}],"rotate-y":[{"rotate-y":ce()}],"rotate-z":[{"rotate-z":ce()}],scale:[{scale:fe()}],"scale-x":[{"scale-x":fe()}],"scale-y":[{"scale-y":fe()}],"scale-z":[{"scale-z":fe()}],"scale-3d":["scale-3d"],skew:[{skew:q()}],"skew-x":[{"skew-x":q()}],"skew-y":[{"skew-y":q()}],transform:[{transform:[Ie,Re,"","none","gpu","cpu"]}],"transform-origin":[{origin:z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ee()}],"translate-x":[{"translate-x":ee()}],"translate-y":[{"translate-y":ee()}],"translate-z":[{"translate-z":ee()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie,Re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie,Re]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[at,Ic,Co,Xb]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Rte=hte(Dte);function tr(...e){return Rte(Ye(e))}function z_({className:e,...t}){return a.jsx(AI,{"data-slot":"checkbox",className:tr("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(NI,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:a.jsx(ci,{className:"size-3.5"})})})}function Ite({variable:e}){return a.jsxs("div",{style:{maxWidth:"320px",backgroundColor:"white",border:"1px solid var(--border-primary)",borderRadius:"var(--radius-lg)",boxShadow:"0 6px 16px rgba(0,0,0,0.2)",padding:"12px",fontSize:"var(--font-size-xs)",lineHeight:"1.4"},children:[a.jsx("div",{style:{fontFamily:"monospace",fontWeight:"var(--font-weight-semibold)",color:"var(--brand-primary)",marginBottom:"8px",fontSize:"var(--font-size-sm)"},children:e.variable}),e.definition&&a.jsxs("div",{style:{marginBottom:"8px"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",marginBottom:"4px"},children:"Definition"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-primary)",lineHeight:"1.5"},children:e.definition})]}),e.calculation&&a.jsxs("div",{style:{marginBottom:"8px"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",marginBottom:"4px"},children:"Calculation"}),a.jsx("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-xs)",backgroundColor:"var(--background-subtle)",padding:"6px",borderRadius:"var(--radius-md)",color:"var(--text-primary)",overflowX:"auto"},children:e.calculation})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr",gap:"8px 12px",fontSize:"var(--font-size-xs)",marginBottom:"8px"},children:[e.sourceTable&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{color:"var(--text-muted)",fontWeight:"var(--font-weight-medium)"},children:"Source Table:"}),a.jsx("div",{style:{color:"var(--text-primary)"},children:e.sourceTable})]}),a.jsx("div",{style:{color:"var(--text-muted)",fontWeight:"var(--font-weight-medium)"},children:"Planning Level:"}),a.jsx("div",{style:{color:"var(--text-primary)"},children:e.planningLevel}),e.lastUpdate&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{color:"var(--text-muted)",fontWeight:"var(--font-weight-medium)"},children:"Last Update:"}),a.jsx("div",{style:{color:"var(--text-primary)"},children:e.lastUpdate})]})]}),e.exampleValues&&e.exampleValues.length>0&&a.jsxs("div",{style:{paddingTop:"8px",borderTop:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",marginBottom:"4px"},children:"Example Values"}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:e.exampleValues.map((t,r)=>a.jsx("span",{style:{fontSize:"var(--font-size-xs)",backgroundColor:"var(--background-subtle)",padding:"2px 6px",borderRadius:"var(--radius-sm)",color:"var(--text-secondary)",fontFamily:"monospace"},children:t},r))})]})]})}function Mte({metricName:e,context:t,formula:r,secondaryFormulas:n,variables:i,derivationMethod:o,fallback:l,dataTimestamp:u,snapshotId:d,sourceSystem:f,position:h="top"}){const[m,v]=k.useState(null),[x,w]=k.useState({x:0,y:0}),b=(y,j)=>{v(y);const A=j.target.getBoundingClientRect();w({x:A.right+8,y:A.top})};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"absolute z-50",style:{maxWidth:"420px",backgroundColor:"white",border:"1px solid var(--border-subtle)",borderRadius:"var(--radius-lg)",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",padding:"16px",fontSize:"var(--font-size-xs)",lineHeight:"1.4"},children:[a.jsxs("div",{style:{marginBottom:"12px",paddingBottom:"12px",borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)",marginBottom:"4px"},children:e}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:t})]}),a.jsxs("div",{style:{marginBottom:"12px"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",marginBottom:"6px"},children:"Formula"}),a.jsx("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-xs)",backgroundColor:"var(--background-subtle)",padding:"8px",borderRadius:"var(--radius-md)",color:"var(--text-primary)",overflowX:"auto"},children:r}),n&&n.map((y,j)=>a.jsx("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-xs)",backgroundColor:"var(--background-subtle)",padding:"8px",borderRadius:"var(--radius-md)",color:"var(--text-primary)",marginTop:"4px",overflowX:"auto"},children:y},j))]}),a.jsxs("div",{style:{marginBottom:"12px"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",marginBottom:"6px"},children:"Variable Breakdown"}),a.jsxs("table",{style:{width:"100%",fontSize:"var(--font-size-xs)",borderCollapse:"collapse"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)",backgroundColor:"var(--background-subtle)"},children:[a.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontWeight:"var(--font-weight-medium)"},children:"Variable"}),a.jsx("th",{style:{padding:"6px 8px",textAlign:"right",fontWeight:"var(--font-weight-medium)"},children:"Value"}),a.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontWeight:"var(--font-weight-medium)"},children:"Unit"}),a.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontWeight:"var(--font-weight-medium)"},children:"Source"}),a.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontWeight:"var(--font-weight-medium)"},children:"Level"})]})}),a.jsx("tbody",{children:i.map((y,j)=>a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)",cursor:y.definition?"pointer":"default"},onMouseEnter:A=>y.definition&&b(y,A),onMouseLeave:()=>v(null),children:[a.jsx("td",{style:{padding:"6px 8px",fontFamily:"monospace",color:"var(--text-primary)",textDecoration:y.definition?"underline dotted":"none"},children:y.variable}),a.jsx("td",{style:{padding:"6px 8px",textAlign:"right",fontWeight:"var(--font-weight-medium)",color:"var(--text-primary)"},children:typeof y.value=="number"?y.value.toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2}):y.value}),a.jsx("td",{style:{padding:"6px 8px",color:"var(--text-secondary)"},children:y.unit}),a.jsx("td",{style:{padding:"6px 8px",color:"var(--text-secondary)"},children:y.source}),a.jsx("td",{style:{padding:"6px 8px",color:"var(--text-secondary)"},children:y.planningLevel})]},j))})]})]}),a.jsxs("div",{style:{marginBottom:"12px"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",marginBottom:"6px"},children:"Derivation Method"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-primary)",lineHeight:"1.5"},children:o}),l&&a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-warning)",marginTop:"4px",fontStyle:"italic"},children:["Fallback: ",l]})]}),a.jsx("div",{style:{paddingTop:"12px",borderTop:"1px solid var(--border-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:a.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap"},children:[a.jsxs("div",{children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"Timestamp: "}),u]}),a.jsxs("div",{children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"Snapshot: "}),d]}),a.jsxs("div",{children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"Source: "}),f]})]})})]}),m&&m.definition&&a.jsx("div",{style:{position:"fixed",left:`${x.x}px`,top:`${x.y}px`,zIndex:60},children:a.jsx(Ite,{variable:m})})]})}function Mc({children:e,tooltipProps:t,isDerived:r=!1,isPlanned:n=!1}){const[i,o]=k.useState(!1),[l,u]=k.useState({x:0,y:0}),d=f=>{const h=f.currentTarget.getBoundingClientRect();u({x:h.left,y:h.bottom+8}),o(!0)};return a.jsxs("span",{style:{position:"relative",textDecoration:r?"underline dashed":n?"underline solid":"none",textUnderlineOffset:"2px",cursor:"help",display:"inline-flex",alignItems:"center",gap:"4px"},onMouseEnter:d,onMouseLeave:()=>o(!1),children:[e,r&&a.jsx(Zt,{size:12,style:{color:"var(--text-muted)"}}),i&&a.jsx("div",{style:{position:"fixed",left:`${l.x}px`,top:`${l.y}px`,zIndex:50},children:a.jsx(Mte,{...t})})]})}function Lte({product:e,onClose:t}){const[r,n]=k.useState("overview"),i=[{name:e.productName,"SOLL Capacity":e.capSollProduct,"Forecast Space":e.forecastSpaceDemand,"Projected Space":e.projectedSpace}],o={metricName:"Derived Product SOLL Capacity",context:`${e.productName} @ ${e.store}`,formula:"Cap_soll(s,i) = Share_soll(s,i)  Cap_soll(s,PG)",variables:[{variable:"Cap_soll(s,PG)",value:e.capSollProductGroup,unit:"m",source:"Capacity Planning",planningLevel:"Product Group"},{variable:"Share_soll(s,i)",value:e.shareSoll,unit:"%",source:"Forecast Engine",planningLevel:"Product",definition:"Forecast-based share of product within product group",calculation:"Share_soll(s,i) = ForecastQty(s,i) /  ForecastQty(s,j  PG)",sourceTable:"forecast.product_shares",lastUpdate:e.dataTimestamp},{variable:"Result",value:e.capSollProduct,unit:"m",source:"Calculated",planningLevel:"Product"}],derivationMethod:"Product SOLL is derived proportionally from Product Group capacity based on forecast share.",dataTimestamp:e.dataTimestamp,snapshotId:e.snapshotId,sourceSystem:e.sourceSystem},l={metricName:"Space per Unit",context:`${e.productName}`,formula:"p_i = p_base(type)  m_thickness  m_presentation",variables:[{variable:"p_base",value:e.pBase,unit:"m",source:"Fixture Model",planningLevel:"Product Type",definition:"Base space requirement per unit based on fixture type",sourceTable:"master.fixture_types",lastUpdate:e.dataTimestamp},{variable:"m_thickness",value:e.mThickness,unit:"factor",source:"Product Attribute",planningLevel:"Product",definition:"Thickness modifier based on product dimensions",sourceTable:"master.products",lastUpdate:e.dataTimestamp},{variable:"m_presentation",value:e.mPresentation,unit:"factor",source:"Presentation Rule",planningLevel:"Store",definition:"Presentation modifier for store-specific display requirements",sourceTable:"config.presentation_rules",lastUpdate:e.dataTimestamp},{variable:"Result",value:e.spacePerUnit,unit:"m/unit",source:"Calculated",planningLevel:"Product"}],derivationMethod:"Space per unit is calculated from base fixture type and product-specific presentation modifiers.",dataTimestamp:e.dataTimestamp,snapshotId:e.snapshotId,sourceSystem:e.sourceSystem},u={metricName:"Forecast Space Demand",context:`${e.productName} @ ${e.store}`,formula:"SpaceNeed_fcst(s,i) = ForecastQty(s,i)  p_i",variables:[{variable:"ForecastQty(s,i)",value:e.forecastQty,unit:"units",source:"Forecast System",planningLevel:"Product",definition:"Forecasted sales quantity for product at store",calculation:"ForecastQty(s,i) =  ForecastSales(s,i,t)",sourceTable:"forecast.product_forecast",lastUpdate:e.dataTimestamp,exampleValues:["1240","1180","1350"]},{variable:"p_i",value:e.spacePerUnit,unit:"m/unit",source:"Parameter Model",planningLevel:"Product"},{variable:"Result",value:e.forecastSpaceDemand,unit:"m",source:"Calculated",planningLevel:"Product"}],derivationMethod:"Projected space requirement based on forecasted sales volume.",dataTimestamp:e.dataTimestamp,snapshotId:e.snapshotId,sourceSystem:e.sourceSystem},d={metricName:"Projected Space Usage",context:`${e.productName} @ ${e.store}`,formula:"ProjectedSpace(s,i) = (OnHand(s,i) + Inbound(s,i) + Reserved(s,i))  p_i",variables:[{variable:"OnHand",value:e.onHand,unit:"units",source:"Inventory",planningLevel:"Store",definition:"Current on-hand inventory at store",sourceTable:"inventory.stock_levels",lastUpdate:e.dataTimestamp},{variable:"Inbound",value:e.inbound,unit:"units",source:"Logistics",planningLevel:"Store",definition:"Inbound shipments in transit to store",sourceTable:"logistics.inbound_shipments",lastUpdate:e.dataTimestamp},{variable:"Reserved",value:e.reserved,unit:"units",source:"Simulation",planningLevel:"Store",definition:"Reserved allocation from simulation",sourceTable:"simulation.allocations",lastUpdate:e.dataTimestamp},{variable:"p_i",value:e.spacePerUnit,unit:"m/unit",source:"Parameter Model",planningLevel:"Product"},{variable:"Result",value:e.projectedSpace,unit:"m",source:"Calculated",planningLevel:"Product"}],derivationMethod:"Projected space usage based on current and inbound inventory plus reserved allocation.",dataTimestamp:e.dataTimestamp,snapshotId:e.snapshotId,sourceSystem:e.sourceSystem},f={metricName:"Capacity Deviation",context:`${e.productName} @ ${e.store}`,formula:"Deviation(s,i) = ProjectedSpace(s,i)  Cap_soll(s,i)",variables:[{variable:"ProjectedSpace(s,i)",value:e.projectedSpace,unit:"m",source:"Calculated",planningLevel:"Product"},{variable:"Cap_soll(s,i)",value:e.capSollProduct,unit:"m",source:"Derived",planningLevel:"Product"},{variable:"Deviation",value:e.deviation,unit:"m",source:"Calculated",planningLevel:"Product"}],derivationMethod:"Capacity risk is evaluated against derived product-level SOLL capacity.",secondaryFormulas:["Status Logic:","  Deviation  0  OK","  0 < Deviation  SoftZone  Warning","  Deviation > SoftZone  Capacity Violation"],dataTimestamp:e.dataTimestamp,snapshotId:e.snapshotId,sourceSystem:e.sourceSystem},h=()=>{switch(e.status){case"OK":return a.jsx(Rr,{size:16,style:{color:"var(--status-success)"}});case"Warning":return a.jsx(Mt,{size:16,style:{color:"var(--status-warning)"}});case"Capacity Violation":return a.jsx(Mt,{size:16,style:{color:"var(--status-error)"}})}},m=()=>{switch(e.status){case"OK":return"var(--status-success)";case"Warning":return"var(--status-warning)";case"Capacity Violation":return"var(--status-error)"}};return a.jsxs("div",{style:{position:"fixed",top:0,right:0,width:"900px",height:"100vh",backgroundColor:"white",borderLeft:"1px solid var(--border-subtle)",zIndex:100,display:"flex",flexDirection:"column",boxShadow:"-4px 0 24px rgba(0,0,0,0.1)"},children:[a.jsxs("div",{style:{padding:"24px",borderBottom:"1px solid var(--border-subtle)",display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[a.jsxs("div",{children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[a.jsx("h2",{style:{margin:0,color:"var(--text-primary)"},children:e.productName}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",padding:"4px 8px",borderRadius:"var(--radius-sm)",backgroundColor:"var(--background-subtle)",color:"var(--text-muted)"},children:e.productNumber})]}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[e.brand,"  ",e.productGroup,"  ",e.store]})]}),a.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",color:"var(--text-muted)"},children:a.jsx(Ct,{size:20})})]}),a.jsx("div",{style:{display:"flex",gap:"4px",padding:"0 24px",borderBottom:"1px solid var(--border-subtle)"},children:["overview","drivers","chart"].map(v=>a.jsx("button",{onClick:()=>n(v),style:{padding:"12px 16px",background:"none",border:"none",borderBottom:r===v?"2px solid var(--brand-primary)":"2px solid transparent",cursor:"pointer",color:r===v?"var(--brand-primary)":"var(--text-muted)",fontWeight:r===v?"var(--font-weight-semibold)":"var(--font-weight-regular)",textTransform:"capitalize"},children:v==="overview"?"Overview":v==="drivers"?"Input Drivers":"Visualization"},v))}),a.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:[r==="overview"&&a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"16px",color:"var(--text-primary)"},children:"Key Metrics"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:[a.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--background-subtle)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"SOLL Capacity"}),a.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"8px"},children:[a.jsx(Mc,{tooltipProps:o,isDerived:!0,children:a.jsx("span",{style:{fontSize:"var(--font-size-2xl)",color:"var(--text-primary)"},children:e.capSollProduct.toFixed(2)})}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"m"})]}),a.jsx("div",{style:{marginTop:"8px",fontSize:"var(--font-size-xs)",padding:"4px 8px",backgroundColor:"var(--brand-primary-10)",color:"var(--brand-primary)",borderRadius:"var(--radius-sm)",display:"inline-block"},children:"Derived"})]}),a.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--background-subtle)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Projected Space"}),a.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"8px"},children:[a.jsx(Mc,{tooltipProps:d,isDerived:!0,children:a.jsx("span",{style:{fontSize:"var(--font-size-2xl)",color:"var(--text-primary)"},children:e.projectedSpace.toFixed(2)})}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"m"})]})]}),a.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--background-subtle)",borderRadius:"var(--radius-lg)",border:`1px solid ${m()}`},children:[a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:["Capacity Deviation",h()]}),a.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"8px"},children:[a.jsx(Mc,{tooltipProps:f,isDerived:!0,children:a.jsxs("span",{style:{fontSize:"var(--font-size-2xl)",color:m()},children:[e.deviation>0?"+":"",e.deviation.toFixed(2)]})}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"m"})]}),a.jsx("div",{style:{marginTop:"8px",fontSize:"var(--font-size-xs)",color:m(),fontWeight:"var(--font-weight-medium)"},children:e.status})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"16px",color:"var(--text-primary)"},children:"Space Parameters"}),a.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--background-subtle)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-subtle)"},children:[a.jsxs("div",{style:{marginBottom:"12px"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Space per Unit"}),a.jsx(Mc,{tooltipProps:l,isDerived:!0,children:a.jsxs("span",{style:{fontSize:"var(--font-size-lg)",color:"var(--text-primary)"},children:[e.spacePerUnit.toFixed(4)," m/unit"]})})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",marginTop:"16px"},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Base Space"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:[e.pBase.toFixed(4)," m"]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Thickness Factor"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:e.mThickness.toFixed(2)})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Presentation Factor"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:e.mPresentation.toFixed(2)})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"16px",color:"var(--text-primary)"},children:"Forecast Information"}),a.jsx("div",{style:{padding:"16px",backgroundColor:"var(--background-subtle)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-subtle)"},children:a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Forecast Quantity"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",color:"var(--text-primary)"},children:[e.forecastQty.toLocaleString("de-DE")," units"]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Forecast Space Demand"}),a.jsx(Mc,{tooltipProps:u,isDerived:!0,children:a.jsxs("span",{style:{fontSize:"var(--font-size-lg)",color:"var(--text-primary)"},children:[e.forecastSpaceDemand.toFixed(2)," m"]})})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Forecast Version"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--brand-primary)",padding:"4px 8px",backgroundColor:"var(--brand-primary-10)",borderRadius:"var(--radius-sm)",display:"inline-block"},children:e.forecastVersion})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Forecast Horizon"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:e.forecastHorizon})]})]})})]})]}),r==="drivers"&&a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"16px",color:"var(--text-primary)"},children:"Input Drivers"}),a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"var(--font-size-sm)"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"2px solid var(--border-subtle)",backgroundColor:"var(--background-subtle)"},children:[a.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"var(--font-weight-semibold)"},children:"Driver"}),a.jsx("th",{style:{padding:"12px",textAlign:"right",fontWeight:"var(--font-weight-semibold)"},children:"Value"}),a.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"var(--font-weight-semibold)"},children:"Unit"}),a.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"var(--font-weight-semibold)"},children:"Source"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{style:{padding:"12px",color:"var(--text-primary)"},children:"On Hand Inventory"}),a.jsx("td",{style:{padding:"12px",textAlign:"right",color:"var(--text-primary)"},children:e.onHand.toLocaleString("de-DE")}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"units"}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"Inventory System"})]}),a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{style:{padding:"12px",color:"var(--text-primary)"},children:"Inbound Shipments"}),a.jsx("td",{style:{padding:"12px",textAlign:"right",color:"var(--text-primary)"},children:e.inbound.toLocaleString("de-DE")}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"units"}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"Logistics System"})]}),a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{style:{padding:"12px",color:"var(--text-primary)"},children:"Reserved Allocation"}),a.jsx("td",{style:{padding:"12px",textAlign:"right",color:"var(--text-primary)"},children:e.reserved.toLocaleString("de-DE")}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"units"}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"Simulation Engine"})]}),a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)",backgroundColor:"var(--background-subtle)"},children:[a.jsx("td",{style:{padding:"12px",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:"Forecast Quantity"}),a.jsx("td",{style:{padding:"12px",textAlign:"right",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:e.forecastQty.toLocaleString("de-DE")}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"units"}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"Forecast System"})]}),a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{style:{padding:"12px",color:"var(--text-primary)"},children:"PG SOLL Capacity"}),a.jsx("td",{style:{padding:"12px",textAlign:"right",color:"var(--text-primary)"},children:e.capSollProductGroup.toFixed(2)}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"m"}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"Capacity Planning"})]}),a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{style:{padding:"12px",color:"var(--text-primary)"},children:"Forecast Share"}),a.jsx("td",{style:{padding:"12px",textAlign:"right",color:"var(--text-primary)"},children:(e.shareSoll*100).toFixed(2)}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"%"}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"Forecast Engine"})]})]})]})]}),r==="chart"&&a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"16px",color:"var(--text-primary)"},children:"Capacity Visualization"}),a.jsx("div",{style:{height:"400px",marginBottom:"24px"},children:a.jsx(lr,{width:"100%",height:"100%",children:a.jsxs(Gr,{data:i,layout:"vertical",children:[a.jsx(Ot,{type:"number"}),a.jsx(_t,{type:"category",dataKey:"name",width:150}),a.jsx(gt,{}),a.jsx(Lt,{}),a.jsx($e,{dataKey:"SOLL Capacity",fill:"var(--brand-primary)"}),a.jsx($e,{dataKey:"Forecast Space",fill:"#10b981"}),a.jsx($e,{dataKey:"Projected Space",fill:m()})]})})}),a.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--background-subtle)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-subtle)"},children:[a.jsx("h4",{style:{marginBottom:"12px",color:"var(--text-primary)"},children:"Capacity Breakdown"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"SOLL Capacity (Target)"}),a.jsxs("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:[e.capSollProduct.toFixed(2)," m"]})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"Projected Space (Inventory + Inbound + Reserved)"}),a.jsxs("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:[e.projectedSpace.toFixed(2)," m"]})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"Forecast Space (Based on Sales Forecast)"}),a.jsxs("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:[e.forecastSpaceDemand.toFixed(2)," m"]})]}),a.jsxs("div",{style:{paddingTop:"12px",marginTop:"12px",borderTop:"1px solid var(--border-subtle)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:"Deviation"}),a.jsxs("span",{style:{fontWeight:"var(--font-weight-semibold)",color:m()},children:[e.deviation>0?"+":"",e.deviation.toFixed(2)," m (",e.status,")"]})]})]})]})]})]})]})}const N_=[{productNumber:"SKU-5001",productName:'Premium Winter Jacket "Alpine Pro"',brand:"OutdoorGear",productGroup:"Winterbekleidung",purchaseArea:"Sport & Outdoor",store:"Filiale Zrich HB",cluster:"A",season:"HW 2025",capSollProductGroup:24,shareSoll:.18,capSollProduct:4.32,pBase:.012,mThickness:1.3,mPresentation:1.1,spacePerUnit:.0172,forecastQty:1240,forecastSpaceDemand:21.33,onHand:180,inbound:60,reserved:40,projectedSpace:4.82,deviation:.5,status:"Warning",dataTimestamp:"2025-12-17 14:30:00",snapshotId:"SNAP-2025-12-17-001",sourceSystem:"BLICK Allocation Engine",forecastVersion:"FCast-2025-W50",forecastHorizon:"Q1 2025 (12 weeks)"},{productNumber:"SKU-5002",productName:'Running Shoes "Velocity Max"',brand:"SportLine",productGroup:"Schuhe",purchaseArea:"Sport & Outdoor",store:"Filiale Zrich HB",cluster:"A",season:"SW 2025",capSollProductGroup:18.5,shareSoll:.22,capSollProduct:4.07,pBase:.008,mThickness:1.2,mPresentation:1.05,spacePerUnit:.01008,forecastQty:890,forecastSpaceDemand:8.97,onHand:220,inbound:80,reserved:100,projectedSpace:4.03,deviation:-.04,status:"OK",dataTimestamp:"2025-12-17 14:30:00",snapshotId:"SNAP-2025-12-17-001",sourceSystem:"BLICK Allocation Engine",forecastVersion:"FCast-2025-W50",forecastHorizon:"Q2 2025 (12 weeks)"},{productNumber:"SKU-5003",productName:'Yoga Mat "Premium Eco"',brand:"FitnessPro",productGroup:"Fitnessausrstung",purchaseArea:"Sport & Outdoor",store:"Filiale Bern Westside",cluster:"B",season:"NOS - Never out of Stock",capSollProductGroup:12,shareSoll:.15,capSollProduct:1.8,pBase:.005,mThickness:1.1,mPresentation:1,spacePerUnit:.0055,forecastQty:450,forecastSpaceDemand:2.48,onHand:120,inbound:30,reserved:50,projectedSpace:1.1,deviation:-.7,status:"OK",dataTimestamp:"2025-12-17 14:30:00",snapshotId:"SNAP-2025-12-17-001",sourceSystem:"BLICK Allocation Engine",forecastVersion:"FCast-2025-W50",forecastHorizon:"Ongoing (NOS)"},{productNumber:"SKU-5004",productName:'Ski Goggles "Vision HD"',brand:"SnowTech",productGroup:"Winterausrstung",purchaseArea:"Sport & Outdoor",store:"Filiale Zrich HB",cluster:"A",season:"HW 2025",capSollProductGroup:8.5,shareSoll:.25,capSollProduct:2.13,pBase:.004,mThickness:1,mPresentation:1.15,spacePerUnit:.0046,forecastQty:680,forecastSpaceDemand:3.13,onHand:320,inbound:150,reserved:80,projectedSpace:2.53,deviation:.4,status:"Warning",dataTimestamp:"2025-12-17 14:30:00",snapshotId:"SNAP-2025-12-17-001",sourceSystem:"BLICK Allocation Engine",forecastVersion:"FCast-2025-W50",forecastHorizon:"Q1 2025 (12 weeks)"},{productNumber:"SKU-5005",productName:'Camping Tent "Family XL"',brand:"OutdoorGear",productGroup:"Camping",purchaseArea:"Sport & Outdoor",store:"Filiale Basel St. Johann",cluster:"B",season:"SW 2025",capSollProductGroup:28,shareSoll:.12,capSollProduct:3.36,pBase:.025,mThickness:1.5,mPresentation:1.2,spacePerUnit:.045,forecastQty:180,forecastSpaceDemand:8.1,onHand:45,inbound:20,reserved:30,projectedSpace:4.28,deviation:.92,status:"Capacity Violation",dataTimestamp:"2025-12-17 14:30:00",snapshotId:"SNAP-2025-12-17-001",sourceSystem:"BLICK Allocation Engine",forecastVersion:"FCast-2025-W50",forecastHorizon:"Q2 2025 (12 weeks)"},{productNumber:"SKU-5006",productName:'Basketball "Pro League"',brand:"SportLine",productGroup:"Ballsport",purchaseArea:"Sport & Outdoor",store:"Filiale Genf Cornavin",cluster:"A",season:"NOS - Never out of Stock",capSollProductGroup:6,shareSoll:.2,capSollProduct:1.2,pBase:.003,mThickness:1,mPresentation:1,spacePerUnit:.003,forecastQty:560,forecastSpaceDemand:1.68,onHand:280,inbound:90,reserved:50,projectedSpace:1.26,deviation:.06,status:"Warning",dataTimestamp:"2025-12-17 14:30:00",snapshotId:"SNAP-2025-12-17-001",sourceSystem:"BLICK Allocation Engine",forecastVersion:"FCast-2025-W50",forecastHorizon:"Ongoing (NOS)"}],_s=[{id:"zh-hb-running-shoes-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"SP-RUN-001",product:"Running Shoes Pro",brand:"Nike",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:23,targetCapacity:24,forecastSuggestion:24,inventory:460},{id:"zh-hb-hiking-shoes-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"SP-HIK-002",product:"Hiking Boots",brand:"Salomon",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:28,targetCapacity:28,forecastSuggestion:28,inventory:560},{id:"zh-hb-casual-shoes-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"SP-CAS-003",product:"Casual Sneakers",brand:"Adidas",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:27,targetCapacity:28,forecastSuggestion:27,inventory:540},{id:"zh-hb-winter-jacket-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AP-WIN-004",product:"Winter Jacket",brand:"The North Face",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:45,actualCapacity:43,targetCapacity:42,forecastSuggestion:40,inventory:860},{id:"zh-hb-fleece-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AP-FLE-005",product:"Fleece Pullover",brand:"Patagonia",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:35,actualCapacity:34,targetCapacity:33,forecastSuggestion:32,inventory:680},{id:"zh-hb-pants-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AP-PAN-006",product:"Sport Pants",brand:"Under Armour",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:29,targetCapacity:28,forecastSuggestion:27,inventory:580},{id:"zh-hb-socks-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AC-SOC-007",product:"Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:15,actualCapacity:13,targetCapacity:14,forecastSuggestion:13,inventory:260},{id:"zh-hb-backpack-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AC-BAC-008",product:"Backpack",brand:"Deuter",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:17,targetCapacity:19,forecastSuggestion:18,inventory:340},{id:"zh-hb-gloves-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AC-GLO-009",product:"Winter Gloves",brand:"The North Face",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:10,actualCapacity:8,targetCapacity:9,forecastSuggestion:9,inventory:160},{id:"zh-hb-smartwatch-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"EL-SMA-010",product:"Smartwatch",brand:"Garmin",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:18,targetCapacity:19,forecastSuggestion:19,inventory:360},{id:"zh-hb-headphones-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"EL-HEA-011",product:"Headphones",brand:"Sony",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:15,actualCapacity:13,targetCapacity:13,forecastSuggestion:13,inventory:260},{id:"zh-hb-running-shoes-sw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"SP-RUN-001",product:"Running Shoes Pro",brand:"Nike",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"SW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:22,targetCapacity:23,forecastSuggestion:23,inventory:440},{id:"zh-hb-summer-shoes-sw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"SP-SUM-012",product:"Summer Sandals",brand:"Birkenstock",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"SW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:26,targetCapacity:27,forecastSuggestion:27,inventory:520},{id:"zh-hb-tshirt-sw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AP-TSH-013",product:"T-Shirt",brand:"Adidas",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"SW 2025",allocationType:"Initiale Allokation",totalCapacity:40,actualCapacity:38,targetCapacity:37,forecastSuggestion:36,inventory:760},{id:"zh-hb-shorts-sw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AP-SHO-014",product:"Shorts",brand:"Nike",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"SW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:28,targetCapacity:27,forecastSuggestion:26,inventory:560},{id:"zh-hb-sunglasses-sw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AC-SUN-015",product:"Sunglasses",brand:"Ray-Ban",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"SW 2025",allocationType:"Initiale Allokation",totalCapacity:12,actualCapacity:10,targetCapacity:11,forecastSuggestion:11,inventory:200},{id:"bs-sbb-running-shoes-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"SP-RUN-001",product:"Running Shoes Pro",brand:"Nike",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:17,targetCapacity:19,forecastSuggestion:19,inventory:340},{id:"bs-sbb-hiking-shoes-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"SP-HIK-002",product:"Hiking Boots",brand:"Salomon",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:21,targetCapacity:23,forecastSuggestion:24,inventory:420},{id:"bs-sbb-casual-shoes-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"SP-CAS-003",product:"Casual Sneakers",brand:"Adidas",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:20,targetCapacity:23,forecastSuggestion:24,inventory:400},{id:"bs-sbb-winter-jacket-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AP-WIN-004",product:"Winter Jacket",brand:"The North Face",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:35,actualCapacity:33,targetCapacity:32,forecastSuggestion:31,inventory:660},{id:"bs-sbb-fleece-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AP-FLE-005",product:"Fleece Pullover",brand:"Patagonia",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:28,targetCapacity:27,forecastSuggestion:26,inventory:560},{id:"bs-sbb-pants-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AP-PAN-006",product:"Sport Pants",brand:"Under Armour",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:23,targetCapacity:23,forecastSuggestion:22,inventory:460},{id:"bs-sbb-socks-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AC-SOC-007",product:"Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:12,actualCapacity:8,targetCapacity:10,forecastSuggestion:10,inventory:160},{id:"bs-sbb-backpack-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AC-BAC-008",product:"Backpack",brand:"Deuter",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:15,actualCapacity:10,targetCapacity:13,forecastSuggestion:12,inventory:200},{id:"bs-sbb-gloves-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AC-GLO-009",product:"Winter Gloves",brand:"The North Face",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:8,actualCapacity:4,targetCapacity:7,forecastSuggestion:6,inventory:80},{id:"bs-sbb-smartwatch-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"EL-SMA-010",product:"Smartwatch",brand:"Garmin",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:15,actualCapacity:12,targetCapacity:13,forecastSuggestion:14,inventory:240},{id:"bs-sbb-headphones-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"EL-HEA-011",product:"Headphones",brand:"Sony",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:10,actualCapacity:8,targetCapacity:9,forecastSuggestion:9,inventory:160},{id:"be-bhf-running-shoes-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"SP-RUN-001",product:"Running Shoes Pro",brand:"Nike",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:18,actualCapacity:14,targetCapacity:16,forecastSuggestion:17,inventory:280},{id:"be-bhf-hiking-shoes-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"SP-HIK-002",product:"Hiking Boots",brand:"Salomon",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:22,actualCapacity:18,targetCapacity:20,forecastSuggestion:21,inventory:360},{id:"be-bhf-casual-shoes-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"SP-CAS-003",product:"Casual Sneakers",brand:"Adidas",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:15,targetCapacity:18,forecastSuggestion:19,inventory:300},{id:"be-bhf-winter-jacket-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"AP-WIN-004",product:"Winter Jacket",brand:"The North Face",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:29,targetCapacity:28,forecastSuggestion:27,inventory:580},{id:"be-bhf-fleece-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"AP-FLE-005",product:"Fleece Pullover",brand:"Patagonia",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:24,targetCapacity:23,forecastSuggestion:22,inventory:480},{id:"be-bhf-pants-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"AP-PAN-006",product:"Sport Pants",brand:"Under Armour",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:19,targetCapacity:18,forecastSuggestion:18,inventory:380},{id:"be-bhf-socks-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"AC-SOC-007",product:"Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:8,actualCapacity:5,targetCapacity:7,forecastSuggestion:6,inventory:100},{id:"be-bhf-backpack-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"AC-BAC-008",product:"Backpack",brand:"Deuter",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:10,actualCapacity:6,targetCapacity:9,forecastSuggestion:8,inventory:120},{id:"be-bhf-gloves-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"AC-GLO-009",product:"Winter Gloves",brand:"The North Face",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:5,actualCapacity:2,targetCapacity:4,forecastSuggestion:3,inventory:40},{id:"be-bhf-smartwatch-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"EL-SMA-010",product:"Smartwatch",brand:"Garmin",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:12,actualCapacity:9,targetCapacity:10,forecastSuggestion:11,inventory:180},{id:"be-bhf-headphones-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"EL-HEA-011",product:"Headphones",brand:"Sony",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:8,actualCapacity:6,targetCapacity:7,forecastSuggestion:7,inventory:120},{id:"lu-running-shoes-hw25",store:"Luzern",cluster:"Regional",productNumber:"SP-RUN-001",product:"Running Shoes Pro",brand:"Nike",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:16,targetCapacity:18,forecastSuggestion:19,inventory:320},{id:"lu-hiking-shoes-hw25",store:"Luzern",cluster:"Regional",productNumber:"SP-HIK-002",product:"Hiking Boots",brand:"Salomon",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:20,targetCapacity:22,forecastSuggestion:23,inventory:400},{id:"lu-casual-shoes-hw25",store:"Luzern",cluster:"Regional",productNumber:"SP-CAS-003",product:"Casual Sneakers",brand:"Adidas",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:22,actualCapacity:17,targetCapacity:20,forecastSuggestion:21,inventory:340},{id:"lu-winter-jacket-hw25",store:"Luzern",cluster:"Regional",productNumber:"AP-WIN-004",product:"Winter Jacket",brand:"The North Face",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:32,actualCapacity:31,targetCapacity:30,forecastSuggestion:29,inventory:620},{id:"lu-fleece-hw25",store:"Luzern",cluster:"Regional",productNumber:"AP-FLE-005",product:"Fleece Pullover",brand:"Patagonia",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:28,actualCapacity:27,targetCapacity:26,forecastSuggestion:25,inventory:540},{id:"lu-pants-hw25",store:"Luzern",cluster:"Regional",productNumber:"AP-PAN-006",product:"Sport Pants",brand:"Under Armour",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:22,actualCapacity:21,targetCapacity:20,forecastSuggestion:20,inventory:420},{id:"lu-socks-hw25",store:"Luzern",cluster:"Regional",productNumber:"AC-SOC-007",product:"Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:10,actualCapacity:7,targetCapacity:9,forecastSuggestion:8,inventory:140},{id:"lu-backpack-hw25",store:"Luzern",cluster:"Regional",productNumber:"AC-BAC-008",product:"Backpack",brand:"Deuter",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:12,actualCapacity:8,targetCapacity:10,forecastSuggestion:10,inventory:160},{id:"lu-gloves-hw25",store:"Luzern",cluster:"Regional",productNumber:"AC-GLO-009",product:"Winter Gloves",brand:"The North Face",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:7,actualCapacity:4,targetCapacity:6,forecastSuggestion:5,inventory:80},{id:"lu-smartwatch-hw25",store:"Luzern",cluster:"Regional",productNumber:"EL-SMA-010",product:"Smartwatch",brand:"Garmin",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:10,actualCapacity:8,targetCapacity:9,forecastSuggestion:9,inventory:160},{id:"lu-headphones-hw25",store:"Luzern",cluster:"Regional",productNumber:"EL-HEA-011",product:"Headphones",brand:"Sony",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:8,actualCapacity:6,targetCapacity:7,forecastSuggestion:7,inventory:120},{id:"ge-running-shoes-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"SP-RUN-001",product:"Running Shoes Pro",brand:"Nike",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:28,actualCapacity:26,targetCapacity:27,forecastSuggestion:27,inventory:520},{id:"ge-hiking-shoes-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"SP-HIK-002",product:"Hiking Boots",brand:"Salomon",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:32,actualCapacity:30,targetCapacity:31,forecastSuggestion:30,inventory:600},{id:"ge-casual-shoes-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"SP-CAS-003",product:"Casual Sneakers",brand:"Adidas",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:35,actualCapacity:32,targetCapacity:33,forecastSuggestion:32,inventory:640},{id:"ge-winter-jacket-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"AP-WIN-004",product:"Winter Jacket",brand:"The North Face",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:50,actualCapacity:48,targetCapacity:47,forecastSuggestion:45,inventory:960},{id:"ge-fleece-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"AP-FLE-005",product:"Fleece Pullover",brand:"Patagonia",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:38,actualCapacity:36,targetCapacity:35,forecastSuggestion:34,inventory:720},{id:"ge-pants-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"AP-PAN-006",product:"Sport Pants",brand:"Under Armour",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:32,actualCapacity:30,targetCapacity:30,forecastSuggestion:29,inventory:600},{id:"ge-socks-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"AC-SOC-007",product:"Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:18,actualCapacity:15,targetCapacity:17,forecastSuggestion:16,inventory:300},{id:"ge-backpack-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"AC-BAC-008",product:"Backpack",brand:"Deuter",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:22,actualCapacity:19,targetCapacity:21,forecastSuggestion:20,inventory:380},{id:"ge-gloves-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"AC-GLO-009",product:"Winter Gloves",brand:"The North Face",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:12,actualCapacity:10,targetCapacity:11,forecastSuggestion:11,inventory:200},{id:"ge-smartwatch-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"EL-SMA-010",product:"Smartwatch",brand:"Garmin",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:22,actualCapacity:20,targetCapacity:21,forecastSuggestion:21,inventory:400},{id:"ge-headphones-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"EL-HEA-011",product:"Headphones",brand:"Sony",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:18,actualCapacity:16,targetCapacity:17,forecastSuggestion:17,inventory:320},{id:"zh-hb-basic-socks-nos",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AC-BAS-NOS-01",product:"Basic Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"NOS - Never out of Stock",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:18,targetCapacity:19,forecastSuggestion:19,inventory:360},{id:"bs-sbb-basic-socks-nos",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AC-BAS-NOS-01",product:"Basic Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"NOS - Never out of Stock",allocationType:"Initiale Allokation",totalCapacity:15,actualCapacity:13,targetCapacity:14,forecastSuggestion:14,inventory:260},{id:"zh-hb-basic-tshirt-nos",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AP-BAS-NOS-02",product:"Basic T-Shirt",brand:"Adidas",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"NOS - Never out of Stock",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:23,targetCapacity:24,forecastSuggestion:24,inventory:460},{id:"bs-sbb-basic-tshirt-nos",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AP-BAS-NOS-02",product:"Basic T-Shirt",brand:"Adidas",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"NOS - Never out of Stock",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:18,targetCapacity:19,forecastSuggestion:19,inventory:360}],Bte={OK:"var(--status-success)",berbelegt:"var(--status-danger)",Unterbelegt:"var(--status-warning)"},Yb=e=>e<75?"#10b981":e<85?"#eab308":e<95?"#f97316":"#ef4444",Of=e=>e>10?"berbelegt":e<-20?"Unterbelegt":"OK";function Fte({onNavigate:e}){const{t}=br(),[r,n]=k.useState({}),[i,o]=k.useState(!1),[l,u]=k.useState(null),[d,f]=k.useState(!1),[h,m]=k.useState(null),[v,x]=k.useState(null),[w,b]=k.useState(!1),[y,j]=k.useState(""),[A,S]=k.useState(""),[N,z]=k.useState(""),[O,_]=k.useState(""),[E,T]=k.useState([]),[B,R]=k.useState(null),[F,K]=k.useState("Gesamt"),[H,M]=k.useState(""),[$,U]=k.useState(""),[I,Q]=k.useState("Produktgruppe"),[L,W]=k.useState(["HW 2025","SW 2025","HW 2026","SW 2026","NOS - Never out of Stock"]),[X,se]=k.useState("Initiale Allokation"),[de,ge]=k.useState("m"),[xe,ne]=k.useState("2025-01-01"),[ie,ce]=k.useState("2025-12-31"),[fe,q]=k.useState(""),[ee,Oe]=k.useState(""),je=["HW 2025","SW 2025","HW 2026","SW 2026","NOS - Never out of Stock"],st=k.useMemo(()=>Array.from(new Set(_s.map(ae=>ae.cluster))),[]),Qe=k.useMemo(()=>Array.from(new Set(_s.map(ae=>ae.store))),[]),bt=k.useMemo(()=>Array.from(new Set(_s.map(ae=>ae.purchaseArea))),[]);k.useMemo(()=>{let ae=_s;return fe&&(ae=ae.filter(Ce=>Ce.purchaseArea===fe)),Array.from(new Set(ae.map(Ce=>Ce.productGroup)))},[fe]);const Kt=k.useMemo(()=>{let ae=_s;fe&&(ae=ae.filter(te=>te.purchaseArea===fe));const Ce=new Map;ae.forEach(te=>{Ce.has(te.productNumber)||Ce.set(te.productNumber,te)});let me=Array.from(Ce.values());return y&&(me=me.filter(te=>te.productNumber.toLowerCase().includes(y.toLowerCase()))),A&&(me=me.filter(te=>te.product.toLowerCase().includes(A.toLowerCase()))),N&&(me=me.filter(te=>te.brand.toLowerCase().includes(N.toLowerCase()))),O&&(me=me.filter(te=>te.season===O)),me},[fe,y,A,N,O]),rr=k.useMemo(()=>L.length===0?[]:_s.filter(Ce=>!(!L.includes(Ce.season)||Ce.allocationType!==X||F==="Cluster"&&H&&Ce.cluster!==H||F==="Filiale"&&$&&Ce.store!==$||fe&&Ce.purchaseArea!==fe||ee&&Ce.productGroup!==ee||I==="Produkt"&&E.length>0&&!E.includes(Ce.productNumber))),[L,X,F,H,$,fe,ee,E,I]),ft=k.useMemo(()=>{const ae=[];if(I==="Produkt"){const Ce=new Map;rr.forEach(me=>{let te="";F==="Gesamt"?te=me.productNumber:F==="Cluster"?te=`${me.cluster}-${me.productNumber}`:te=`${me.store}-${me.productNumber}`,Ce.has(te)||Ce.set(te,[]),Ce.get(te).push(me)}),Ce.forEach((me,te)=>{const pe=me.reduce((Je,Ue)=>Je+Ue.totalCapacity,0),Ne=me.reduce((Je,Ue)=>Je+Ue.actualCapacity,0),rt=me.reduce((Je,Ue)=>Je+(r[Ue.id]??Ue.targetCapacity),0),nt=me.reduce((Je,Ue)=>Je+Ue.forecastSuggestion,0),Z=me.reduce((Je,Ue)=>Je+Ue.inventory,0),Se=pe>0?Ne/pe*100:0,_e=pe>0?rt/pe*100:0,pt=Ne-rt;ae.push({id:`agg-${te}`,level:`${me[0].productNumber} - ${me[0].product}`,evaluationLevel:F,cluster:me[0].cluster,store:F==="Filiale"?me[0].store:void 0,hierarchyLevel:"Produkt",category:me[0].product,totalCapacity:pe,actualCapacity:Ne,actualUtilization:Se,targetCapacity:rt,targetUtilization:_e,forecastSuggestion:nt,deviation:pt,inventory:Z,status:Of(pt)})})}else if(I==="Produktgruppe"){const Ce=new Map;rr.forEach(me=>{let te="";F==="Gesamt"?te=me.productGroup:F==="Cluster"?te=`${me.cluster}-${me.productGroup}`:te=`${me.store}-${me.productGroup}`,Ce.has(te)||Ce.set(te,[]),Ce.get(te).push(me)}),Ce.forEach((me,te)=>{const pe=me.reduce((Pt,vn)=>Pt+vn.totalCapacity,0),Ne=me.reduce((Pt,vn)=>Pt+vn.actualCapacity,0),rt=me.reduce((Pt,vn)=>Pt+vn.targetCapacity,0),nt=`agg-${te}`,Z=r[nt]??rt,Se=me.reduce((Pt,vn)=>Pt+vn.forecastSuggestion,0),_e=me.reduce((Pt,vn)=>Pt+vn.inventory,0),pt=pe>0?Ne/pe*100:0,Je=pe>0?Z/pe*100:0,Ue=Ne-Z;ae.push({id:nt,level:me[0].productGroup,evaluationLevel:F,cluster:me[0].cluster,store:F==="Filiale"?me[0].store:void 0,hierarchyLevel:"Produktgruppe",category:me[0].productGroup,totalCapacity:pe,actualCapacity:Ne,actualUtilization:pt,targetCapacity:Z,targetUtilization:Je,forecastSuggestion:Se,deviation:Ue,inventory:_e,status:Of(Ue)})})}else if(I==="Einkaufsbereich"){const Ce=new Map;rr.forEach(me=>{let te="";F==="Gesamt"?te=me.purchaseArea:F==="Cluster"?te=`${me.cluster}-${me.purchaseArea}`:te=`${me.store}-${me.purchaseArea}`,Ce.has(te)||Ce.set(te,[]),Ce.get(te).push(me)}),Ce.forEach((me,te)=>{const pe=me.reduce((Je,Ue)=>Je+Ue.totalCapacity,0),Ne=me.reduce((Je,Ue)=>Je+Ue.actualCapacity,0),rt=me.reduce((Je,Ue)=>Je+(r[Ue.id]??Ue.targetCapacity),0),nt=me.reduce((Je,Ue)=>Je+Ue.forecastSuggestion,0),Z=me.reduce((Je,Ue)=>Je+Ue.inventory,0),Se=pe>0?Ne/pe*100:0,_e=pe>0?rt/pe*100:0,pt=Ne-rt;ae.push({id:`agg-${te}`,level:me[0].purchaseArea,evaluationLevel:F,cluster:me[0].cluster,store:F==="Filiale"?me[0].store:void 0,hierarchyLevel:"Einkaufsbereich",category:me[0].purchaseArea,totalCapacity:pe,actualCapacity:Ne,actualUtilization:Se,targetCapacity:rt,targetUtilization:_e,forecastSuggestion:nt,deviation:pt,inventory:Z,status:Of(pt)})})}else{const Ce=new Map;rr.forEach(me=>{let te="";F==="Gesamt"?te="BLICK Gesamt":F==="Cluster"?te=me.cluster:te=me.store,Ce.has(te)||Ce.set(te,[]),Ce.get(te).push(me)}),Ce.forEach((me,te)=>{const pe=me.reduce((Je,Ue)=>Je+Ue.totalCapacity,0),Ne=me.reduce((Je,Ue)=>Je+Ue.actualCapacity,0),rt=me.reduce((Je,Ue)=>Je+(r[Ue.id]??Ue.targetCapacity),0),nt=me.reduce((Je,Ue)=>Je+Ue.forecastSuggestion,0),Z=me.reduce((Je,Ue)=>Je+Ue.inventory,0),Se=pe>0?Ne/pe*100:0,_e=pe>0?rt/pe*100:0,pt=Ne-rt;ae.push({id:`agg-${te}`,level:te,evaluationLevel:F,cluster:F!=="Gesamt"?me[0].cluster:void 0,store:F==="Filiale"?me[0].store:void 0,hierarchyLevel:"Unternehmen",category:"Alle Bereiche",totalCapacity:pe,actualCapacity:Ne,actualUtilization:Se,targetCapacity:rt,targetUtilization:_e,forecastSuggestion:nt,deviation:pt,inventory:Z,status:Of(pt)})})}return ae},[rr,I,F,r]),xt=k.useMemo(()=>{const ae=ft.reduce((rt,nt)=>rt+nt.totalCapacity,0),Ce=ft.reduce((rt,nt)=>rt+nt.actualCapacity,0),me=ft.reduce((rt,nt)=>rt+nt.targetCapacity,0),te=Ce-me,pe=ae>0?Ce/ae*100:0,Ne=ae>0?me/ae*100:0;return{totalCapacity:ae,actualUtilization:pe,targetUtilization:Ne,deviation:te}},[ft]),Ft=k.useMemo(()=>ft.slice(0,10).map(ae=>({name:ae.level,[t.capacityScreen.soll]:ae.targetCapacity,[t.capacityScreen.ist]:ae.actualCapacity})),[ft]),ut=k.useMemo(()=>ft.slice(0,8).map(ae=>({level:ae.level,utilization:ae.actualUtilization,color:Yb(ae.actualUtilization)})),[ft]),Me=(ae,Ce)=>{n(me=>({...me,[ae]:Ce})),o(!0)},Ze=ae=>{const Ce=ft.find(me=>me.id===ae);Ce&&(Me(ae,Ce.forecastSuggestion),f(!1))},Et=()=>{x({message:t.capacityScreen.forecastRecalculated,type:"success"}),setTimeout(()=>x(null),3e3)},lt=()=>{const ae=ft.filter(Ce=>Ce.status==="berbelegt").length;ae>0?x({message:t.capacityScreen.overAllocated+`: ${ae}`,type:"warning"}):x({message:t.capacity.title+" "+t.common.success.toLowerCase(),type:"success"}),setTimeout(()=>x(null),3e3),o(!1)},tt=()=>{n({}),o(!1)},cr=ae=>{m(ae),f(!0)},Nr=ae=>{K(ae),M(""),U("")},mt=ae=>{M(ae),U("")},Ir=ae=>{W(Ce=>Ce.includes(ae)?Ce.filter(me=>me!==ae):[...Ce,ae])},Pr=()=>{L.length===je.length?W([]):W([...je])},Or=ae=>{T(Ce=>Ce.includes(ae)?Ce.filter(me=>me!==ae):[...Ce,ae])},ot=()=>{E.length===Kt.length?T([]):T(Kt.map(ae=>ae.productNumber))},mn=()=>{b(!1)},Gn=[{key:"level",label:t.capacityScreen.level,sortable:!0,render:(ae,Ce)=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("span",{children:ae}),I==="Produkt"&&Ce.hierarchyLevel==="Produkt"&&a.jsx(Zt,{size:14,style:{color:"var(--brand-primary)",cursor:"pointer",opacity:.7},title:"Klicken fr Details"})]})},{key:"totalCapacity",label:t.capacityScreen.totalCapacity,align:"right",render:ae=>`${ae} m`},{key:"actualCapacity",label:t.capacityScreen.ist+"-"+t.capacityScreen.totalCapacity.split(" ")[0],align:"right",render:ae=>`${ae} m`},{key:"actualUtilization",label:t.capacityScreen.actualCapacity,align:"right",render:ae=>a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:Yb(ae),color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[ae.toFixed(1),"%"]})},{key:"targetCapacity",label:t.capacityScreen.soll+"-"+t.capacityScreen.totalCapacity.split(" ")[0],align:"right",render:(ae,Ce)=>{const me=Ce.hierarchyLevel==="Produktgruppe",te=ae;return a.jsxs("div",{className:"flex items-center gap-2",style:{minWidth:"200px"},children:[a.jsx("input",{type:"range",min:0,max:Ce.totalCapacity,step:5,value:te,onChange:pe=>me&&Me(Ce.id,Number(pe.target.value)),disabled:!me,className:"flex-1",style:{cursor:me?"pointer":"not-allowed",opacity:me?1:.5}}),a.jsx("input",{type:"number",value:te,onChange:pe=>me&&Me(Ce.id,Number(pe.target.value)),disabled:!me,className:"w-16 px-2 py-1 border rounded text-right",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:me?"var(--surface-page)":"var(--surface-subtle)",cursor:me?"text":"not-allowed",opacity:me?1:.6}})]})}},{key:"targetUtilization",label:t.capacityScreen.targetCapacity,align:"right",render:ae=>`${ae.toFixed(1)}%`},{key:"forecastSuggestion",label:t.capacityScreen.forecastSuggestion,align:"right",render:(ae,Ce)=>a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsxs("span",{children:[ae," m"]}),a.jsx("button",{onClick:()=>cr(Ce),className:"px-2 py-1 rounded",style:{backgroundColor:"var(--status-info)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:t.common.recommended||"Recommended"})]})},{key:"deviation",label:t.capacityScreen.deviation,align:"right",render:ae=>{const Ce=ae;return a.jsxs("span",{style:{color:Ce>0?"var(--status-danger)":"var(--status-success)"},children:[Ce>0?"+":"",Ce," m"]})}},{key:"inventory",label:t.capacityScreen.inventoryPcs,align:"right",render:ae=>ae?ae.toLocaleString("de-CH"):"-"},{key:"status",label:t.capacityScreen.status,render:ae=>a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:Bte[ae],color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:ae})}];return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:t.capacity.title}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:t.capacity.subtitle})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:Et,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:t.capacityScreen.recalculateForecast}),a.jsx("button",{onClick:lt,disabled:!i,className:"px-4 py-2 rounded-lg",style:{backgroundColor:i?"var(--button-primary-bg)":"var(--border-default)",color:"var(--button-primary-text)",height:"var(--height-button-md)",cursor:i?"pointer":"not-allowed",opacity:i?1:.5},children:t.actions.apply})]})]}),a.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:t.capacityScreen.evaluationLevel}),a.jsxs("select",{value:F,onChange:ae=>Nr(ae.target.value),className:"px-3 py-2 border rounded-lg min-w-[160px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"Gesamt",children:t.capacityScreen.total}),a.jsx("option",{value:"Cluster",children:t.capacityScreen.cluster}),a.jsx("option",{value:"Filiale",children:t.capacityScreen.store})]})]}),F==="Cluster"&&a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:t.capacityScreen.cluster}),a.jsxs("select",{value:H,onChange:ae=>mt(ae.target.value),className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"",children:t.capacityScreen.allAreas}),st.map(ae=>a.jsx("option",{value:ae,children:ae},ae))]})]}),F==="Filiale"&&a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:t.capacityScreen.store}),a.jsxs("select",{value:$,onChange:ae=>U(ae.target.value),className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"",children:"Alle Filialen"}),Qe.map(ae=>a.jsx("option",{value:ae,children:ae},ae))]})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:[t.capacityScreen.hierarchyLevel,I==="Produktgruppe"&&a.jsx("span",{style:{marginLeft:"var(--space-2)",color:"var(--status-success)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:t.capacityScreen.level})]}),a.jsxs("select",{value:I,onChange:ae=>Q(ae.target.value),className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"Unternehmen",children:t.capacityScreen.company}),a.jsx("option",{value:"Einkaufsbereich",children:t.capacityScreen.purchaseArea}),a.jsx("option",{value:"Produktgruppe",children:t.capacityScreen.productGroup}),a.jsx("option",{value:"Produkt",children:t.capacityScreen.product})]})]}),(I==="Produktgruppe"||I==="Produkt")&&a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:t.capacityScreen.purchaseArea}),a.jsxs("select",{value:fe,onChange:ae=>{q(ae.target.value),Oe(""),T([])},className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"",children:t.capacityScreen.allAreas}),bt.map(ae=>a.jsx("option",{value:ae,children:ae},ae))]})]}),I==="Produkt"&&a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:[t.capacityScreen.product," (",E.length," ",t.common.selected||"selected",")"]}),a.jsxs("button",{onClick:()=>b(!0),className:"px-3 py-2 border rounded-lg min-w-[180px] flex items-center justify-between",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",textAlign:"left"},children:[a.jsx("span",{children:E.length>0?`${E.length} ${t.capacityScreen.product}`:t.storeLayout.selectStore}),a.jsx(Vr,{size:16})]})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:[t.capacityScreen.season," (",L.length," ",t.common.selected||"selected",")"]}),a.jsx("div",{className:"relative",children:a.jsxs("select",{className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:L.length===0?"var(--status-danger)":"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},onChange:ae=>{ae.target.value==="ALL"?Pr():ae.target.value&&Ir(ae.target.value),ae.target.value=""},value:"",children:[a.jsxs("option",{value:"",disabled:!0,children:[t.capacityScreen.season,"..."]}),a.jsx("option",{value:"ALL",children:L.length===je.length?` ${t.common.all}`:` ${t.common.all}`}),je.map(ae=>a.jsxs("option",{value:ae,children:[L.includes(ae)?" ":" ",ae]},ae))]})})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:"Allokationstyp"}),a.jsxs("select",{value:X,onChange:ae=>se(ae.target.value),className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"Initiale Allokation",children:"Initiale Allokation"}),a.jsx("option",{value:"Nachschub",children:"Nachschub"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:t.capacityScreen.unit}),a.jsxs("div",{className:"flex items-center gap-2 border rounded-lg p-1",style:{borderColor:"var(--border-input)"},children:[a.jsx("button",{onClick:()=>ge("m"),className:"px-3 py-1 rounded",style:{backgroundColor:de==="m"?"var(--brand-primary)":"transparent",color:de==="m"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-sm)"},children:"m"}),a.jsx("button",{disabled:!0,className:"px-3 py-1 rounded",style:{backgroundColor:"transparent",color:"var(--text-muted)",fontSize:"var(--font-size-sm)",cursor:"not-allowed",opacity:.5},children:t.capacityScreen.fixtures})]})]})]}),L.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:L.map(ae=>a.jsxs("span",{className:"px-3 py-1 rounded-full flex items-center gap-2",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--status-info)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",border:"1px solid var(--border-info)"},children:[ae,a.jsx("button",{onClick:()=>Ir(ae),className:"hover:opacity-70",children:a.jsx(Ct,{size:14})})]},ae))}),L.length===0&&a.jsxs("div",{className:"p-4 rounded-lg border flex items-start gap-3",style:{backgroundColor:"var(--surface-danger-subtle)",borderColor:"var(--status-danger)"},children:[a.jsx(Zt,{size:20,style:{color:"var(--status-danger)",flexShrink:0,marginTop:"2px"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-danger)",marginBottom:"4px"},children:t.common.noSeasonSelected}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:t.common.pleaseSelectSeason})]})]}),F==="Filiale"&&$&&L.length>0&&a.jsxs("div",{className:"p-4 rounded-lg border flex items-center justify-between",style:{backgroundColor:"var(--surface-subtle-tint)",borderColor:"var(--brand-primary)"},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:a.jsx(Hu,{size:24})}),a.jsxs("div",{children:[a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"2px"},children:[t.storeLayout.tabAnalysis," - ",$]}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:t.storeLayout.subtitle})]})]}),a.jsx("button",{onClick:()=>e("storeLayout"),className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",height:"var(--height-button-md)",whiteSpace:"nowrap"},children:"Zur Analyse"})]}),L.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:t.capacityScreen.totalCapacity}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:[xt.totalCapacity," m"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"var(--space-1)"},children:t.capacityScreen.usableArea})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:t.capacityScreen.actualCapacity}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:Yb(xt.actualUtilization)},children:[xt.actualUtilization.toFixed(1),"%"]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:t.capacityScreen.targetCapacity}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:[xt.targetUtilization.toFixed(1),"%"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"var(--space-1)"},children:t.capacityScreen.forecastBased})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:t.capacityScreen.deviation}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:xt.deviation>0?"var(--status-danger)":"var(--status-success)"},children:[xt.deviation>0?"+":"",xt.deviation," m"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"var(--space-1)"},children:xt.deviation>0?"berbelegung":"Reserve"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",style:{height:"260px"},children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:t.capacityScreen.sollVsIst}),a.jsx("div",{style:{width:"100%",height:"190px",minHeight:"190px"},children:a.jsx(lr,{width:"100%",height:"100%",minHeight:190,children:a.jsxs(Gr,{data:Ft,children:[a.jsx(Ot,{dataKey:"name",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(_t,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(gt,{}),a.jsx(Lt,{}),a.jsx($e,{dataKey:t.capacityScreen.soll,fill:"var(--brand-primary)",opacity:.6}),a.jsx($e,{dataKey:t.capacityScreen.ist,fill:"var(--brand-accent)"})]})})})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-3)"},children:t.capacityScreen.capacityUtilization}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:ut.map((ae,Ce)=>a.jsxs("div",{className:"p-3 rounded cursor-pointer hover:opacity-80 transition-opacity",style:{backgroundColor:ae.color,color:"var(--text-inverse)"},title:`${ae.level}: ${ae.utilization.toFixed(1)}%`,children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:ae.level.length>12?ae.level.substring(0,10)+"...":ae.level}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginTop:"var(--space-1)"},children:[ae.utilization.toFixed(1),"%"]})]},Ce))}),a.jsxs("div",{className:"flex items-center gap-4 mt-4",style:{fontSize:"var(--font-size-xs)"},children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#10b981"}}),a.jsx("span",{children:"< 75%"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#eab308"}}),a.jsx("span",{children:"75-85%"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#f97316"}}),a.jsx("span",{children:"85-95%"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#ef4444"}}),a.jsx("span",{children:"> 95%"})]})]})]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-4)"},children:t.capacityScreen.capacityDetails}),I==="Produkt"&&ft.length>0&&a.jsxs("div",{style:{padding:"12px 16px",backgroundColor:"var(--brand-primary-10)",border:"1px solid var(--brand-primary-30)",borderRadius:"var(--radius-md)",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(Zt,{size:16,style:{color:"var(--brand-primary)",flexShrink:0}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:"Klicken Sie auf eine Produktzeile, um detaillierte Formeln und Explainability-Informationen anzuzeigen."})]}),ft.length===0?a.jsx("div",{className:"py-12 text-center",style:{color:"var(--text-muted)"},children:t.common.noDataForFilters}):a.jsx(Kr,{columns:Gn,data:ft,density:"comfortable",onRowClick:ae=>{if(I==="Produkt"&&ae.hierarchyLevel==="Produkt"){const Ce=N_.find(me=>me.productName===ae.level||me.productNumber===ae.id.split("-")[0]);R(Ce||N_[0])}else u(ae.id)}})]})]}),w&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:()=>b(!1),style:{backgroundColor:"var(--bg-overlay)"},children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg",style:{width:"900px",maxHeight:"700px",boxShadow:"var(--shadow-lg)",display:"flex",flexDirection:"column"},onClick:ae=>ae.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:[t.capacityScreen.product," ",t.common.selectAll?.split(" ")[1]||""]}),a.jsx("button",{onClick:()=>b(!1),className:"p-1 rounded hover:bg-surface-tint",children:a.jsx(Ct,{size:20,style:{color:"var(--text-muted)"}})})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Produktnummer"}),a.jsx("input",{type:"text",placeholder:"Suchen...",value:y,onChange:ae=>j(ae.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Produktbeschreibung"}),a.jsx("input",{type:"text",placeholder:"Suchen...",value:A,onChange:ae=>S(ae.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Marke"}),a.jsx("input",{type:"text",placeholder:"Suchen...",value:N,onChange:ae=>z(ae.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Saison"}),a.jsxs("select",{value:O,onChange:ae=>_(ae.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Saisons"}),je.map(ae=>a.jsx("option",{value:ae,children:ae},ae))]})]})]})]}),a.jsxs("div",{className:"p-4 overflow-auto flex-1",children:[a.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[a.jsx(z_,{checked:E.length===Kt.length&&Kt.length>0,onCheckedChange:ot}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[t.common.selectAll," (",Kt.length," ",t.capacityScreen.product,")"]})]}),a.jsxs("table",{className:"w-full",style:{fontSize:"var(--font-size-sm)"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"2px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"8px",width:"40px"}}),a.jsx("th",{style:{textAlign:"left",padding:"8px"},children:"Produktnummer"}),a.jsx("th",{style:{textAlign:"left",padding:"8px"},children:"Produktbeschreibung"}),a.jsx("th",{style:{textAlign:"left",padding:"8px"},children:"Marke"}),a.jsx("th",{style:{textAlign:"left",padding:"8px"},children:"Saison"})]})}),a.jsx("tbody",{children:Kt.map(ae=>a.jsxs("tr",{className:"hover:bg-surface-tint cursor-pointer",style:{borderBottom:"1px solid var(--border-subtle)"},onClick:()=>Or(ae.productNumber),children:[a.jsx("td",{style:{padding:"8px"},children:a.jsx(z_,{checked:E.includes(ae.productNumber),onCheckedChange:()=>Or(ae.productNumber)})}),a.jsx("td",{style:{padding:"8px"},children:ae.productNumber}),a.jsx("td",{style:{padding:"8px"},children:ae.product}),a.jsx("td",{style:{padding:"8px"},children:ae.brand}),a.jsx("td",{style:{padding:"8px"},children:ae.season})]},ae.productNumber))})]})]}),a.jsxs("div",{className:"p-4 border-t flex gap-3 justify-end",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>{T([]),b(!1)},className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:t.actions.cancel}),a.jsxs("button",{onClick:mn,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:[E.length," ",t.capacityScreen.product," ",t.common.apply]})]})]})}),d&&h&&a.jsxs("div",{className:"fixed inset-0 z-50 flex",onClick:()=>f(!1),children:[a.jsx("div",{className:"flex-1",style:{backgroundColor:"var(--bg-overlay)"}}),a.jsxs("div",{className:"bg-white shadow-lg overflow-y-auto",style:{width:"var(--drawer-width)",boxShadow:"var(--shadow-lg)"},onClick:ae=>ae.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b sticky top-0 bg-white",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:t.capacityScreen.forecastDerivation}),a.jsx("button",{onClick:()=>f(!1),className:"p-1 rounded hover:bg-surface-tint",children:a.jsx(Ct,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-3)"},children:h.level}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",style:{borderColor:"var(--border-subtle)"},children:[a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:t.capacityScreen.salesForecast}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[Math.round(h.forecastSuggestion*1.2)," ",t.capacityScreen.units]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",style:{borderColor:"var(--border-subtle)"},children:[a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:t.common.targetRange||"Target Range"}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:["8 ",t.common.weeks||"Weeks"]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",style:{borderColor:"var(--border-subtle)"},children:[a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:t.capacityScreen.avgInventory}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[Math.round(h.forecastSuggestion*.8)," ",t.capacityScreen.units]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",style:{borderColor:"var(--border-subtle)"},children:[a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:t.common.spacePerArticle||"Space per Article"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"0.35 m"})]}),a.jsxs("div",{className:"flex justify-between items-center py-3 mt-4",style:{backgroundColor:"var(--surface-subtle-tint)",padding:"var(--space-3)",borderRadius:"var(--radius-md)"},children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)"},children:t.capacityScreen.derivedTargetCapacity}),a.jsxs("span",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--brand-primary)"},children:[h.forecastSuggestion," m"]})]})]})]}),a.jsxs("div",{className:"p-4 rounded-lg flex items-start gap-3",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx(Zt,{size:20,style:{color:"var(--status-info)",flexShrink:0,marginTop:"2px"}}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:t.capacityScreen.forecastNote})]})]}),a.jsxs("div",{className:"p-6 border-t sticky bottom-0 bg-white flex gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>f(!1),className:"flex-1 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:t.actions.cancel}),a.jsx("button",{onClick:()=>Ze(h.id),className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:t.actions.apply})]})]})]}),i&&a.jsxs("div",{className:"fixed bottom-0 left-0 right-0 flex items-center justify-end gap-3 px-6 border-t",style:{height:"64px",backgroundColor:"var(--surface-page)",borderColor:"var(--border-subtle)",zIndex:40},children:[a.jsx("button",{onClick:tt,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"nderungen verwerfen"}),a.jsx("button",{onClick:lt,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:t.actions.apply})]}),v&&a.jsxs("div",{className:"fixed bottom-20 right-6 px-6 py-3 rounded-lg shadow-lg flex items-center gap-3 animate-slide-up",style:{backgroundColor:v.type==="success"?"var(--status-success)":v.type==="warning"?"var(--status-warning)":"var(--status-danger)",color:"var(--text-inverse)",boxShadow:"var(--shadow-lg)",zIndex:100},children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:v.message}),a.jsx("button",{onClick:()=>x(null),className:"hover:opacity-70",children:a.jsx(Ct,{size:18})})]}),B&&a.jsx(Lte,{product:B,onClose:()=>R(null)})]})}const P_={berkapazitt:"#ef4444",Untererfllung:"#3b82f6",Ausgeglichen:"#10b981"},Wte={berkapazitt:Xo,Untererfllung:nh,Ausgeglichen:c1},$te={info:{label:"Hinweis",color:"#3b82f6",icon:Zt},critical:{label:"Kritisch",color:"#f59e0b",icon:Wn},blocking:{label:"Blockierend",color:"#ef4444",icon:Wn}};function Ute({articles:e,onBack:t,onAccept:r,onDiscard:n,onRelease:i}){const{t:o}=br(),[l,u]=k.useState("planned"),[d,f]=k.useState(!1),[h,m]=k.useState(""),[v,x]=k.useState(""),w=e.length,b=Array.from(new Set(e.map(R=>R.season))),y=Array.from(new Set(e.map(R=>R.articleGroup))),j=k.useMemo(()=>{const R=e.map(F=>new Date(F.deliveryFrom));return new Date(Math.min(...R.map(F=>F.getTime())))},[e]),A=k.useMemo(()=>{const R=e.map(F=>new Date(F.deliveryTo));return new Date(Math.max(...R.map(F=>F.getTime())))},[e]),S=k.useMemo(()=>{const K=75+({planned:0,plus1week:-5,plus2weeks:-8,minus1week:10,split:-12,custom:h&&v?-6:0}[l]||0),H=80,M=K-H,$=Math.abs(M)>10?3:M>5?1:0;return{actualUtilization:K,targetUtilization:H,deviation:M,affectedStores:$}},[l,h,v]),N=k.useMemo(()=>[{category:"Shoes",soll:120,ist:135,status:"berkapazitt"},{category:"Apparel",soll:150,ist:145,status:"Ausgeglichen"},{category:"Accessories",soll:80,ist:65,status:"Untererfllung"},{category:"Electronics",soll:50,ist:48,status:"Ausgeglichen"}],[]),z=k.useMemo(()=>[{month:"Jan 25",berkapazitt:5,Ausgeglichen:20,Untererfllung:3},{month:"Feb 25",berkapazitt:8,Ausgeglichen:15,Untererfllung:5},{month:"Mr 25",berkapazitt:12,Ausgeglichen:10,Untererfllung:2},{month:"Apr 25",berkapazitt:3,Ausgeglichen:18,Untererfllung:4},{month:"Mai 25",berkapazitt:2,Ausgeglichen:22,Untererfllung:1}],[]),O=k.useMemo(()=>{const R=[];S.actualUtilization>90&&R.push({id:"1",message:`berkapazitt in ${S.affectedStores} Stores (> 90%)`,severity:"critical"}),S.deviation>15&&R.push({id:"2",message:"Kategorie Shoes berschreitet SOLL-Kapazitt um 12%",severity:"critical"});const F=e.filter(H=>H.capacityImpact==="Untererfllung").length;F>0&&R.push({id:"3",message:`Untererfllung in Kategorie Accessories (${F} Artikel)`,severity:"info"});const K=e.filter(H=>H.capacityImpact==="berkapazitt").length;return K>2&&R.push({id:"4",message:`Grenlauf-Konflikte: ${K} Artikel betroffen`,severity:"info"}),R},[S,e]),_=R=>{f(!0),u(R),setTimeout(()=>{f(!1)},800)},E=R=>R<80?"#10b981":R<=90?"#f59e0b":"#ef4444",B=(()=>{if(l==="custom"&&h&&v)return{from:new Date(h).toLocaleDateString("de-DE"),to:new Date(v).toLocaleDateString("de-DE")};const R=new Date(j),F=new Date(A);switch(l){case"plus1week":R.setDate(R.getDate()+7),F.setDate(F.getDate()+7);break;case"plus2weeks":R.setDate(R.getDate()+14),F.setDate(F.getDate()+14);break;case"minus1week":R.setDate(R.getDate()-7),F.setDate(F.getDate()-7);break}return{from:R.toLocaleDateString("de-DE"),to:F.toLocaleDateString("de-DE")}})();return a.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--surface-page)"},children:[a.jsx("div",{className:"px-6 py-4 border-b",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)"},children:a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:o.simulationScreen.breadcrumb})}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("button",{onClick:t,className:"flex items-center gap-2 mb-4 hover:opacity-70",style:{color:"var(--text-secondary)",fontSize:"var(--font-size-sm)"},children:[a.jsx(l1,{size:16}),o.simulationScreen.backToWorkQueue]}),a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:o.simulationScreen.simulationTitle}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:o.simulationScreen.description})]}),a.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"grid grid-cols-5 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Anzahl Artikel"}),a.jsx("div",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:w})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Saisonen"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:b.join(", ")})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Artikelgruppen"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:y.join(", ")})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Ursprngliches Lieferfenster (Plan)"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)"},children:[j.toLocaleDateString("de-DE"),"  ",A.toLocaleDateString("de-DE")]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:o.simulationScreen.scenario}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:o.simulationScreen.initialAllocation})]})]})}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Liefertermin-Optionen"}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Liefertermin (Plan)"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)"},children:[j.toLocaleDateString("de-DE"),"  ",A.toLocaleDateString("de-DE")]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)",display:"block"},children:"Liefertermin-Option"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:l,onChange:R=>_(R.target.value),className:"px-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},disabled:d,children:[a.jsx("option",{value:"planned",children:"Geplantes Lieferfenster"}),a.jsx("option",{value:"plus1week",children:"+1 Woche"}),a.jsx("option",{value:"plus2weeks",children:"+2 Wochen"}),a.jsx("option",{value:"minus1week",children:"-1 Woche"}),a.jsx("option",{value:"custom",children:"Manuelle Eingabe"}),a.jsx("option",{value:"split",disabled:!0,children:"Aufteilen auf zwei Lieferfenster (bald verfgbar)"})]}),d&&a.jsx("div",{className:"absolute right-10 top-1/2 -translate-y-1/2",children:a.jsx(dB,{size:16,className:"animate-spin",style:{color:"var(--brand-primary)"}})})]}),l!=="planned"&&l!=="custom"&&a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-success)",marginTop:"var(--space-1)"},children:["Simuliert: ",B.from,"  ",B.to]}),l==="custom"&&a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"var(--space-1)"},children:"Liefertermin von"}),a.jsx("input",{type:"date",value:h,onChange:R=>{m(R.target.value),R.target.value&&v&&(f(!0),setTimeout(()=>f(!1),800))},className:"px-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"var(--space-1)"},children:"Liefertermin bis"}),a.jsx("input",{type:"date",value:v,onChange:R=>{x(R.target.value),R.target.value&&h&&(f(!0),setTimeout(()=>f(!1),800))},className:"px-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"}})]}),h&&v&&a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-success)"},children:["Simuliert: ",new Date(h).toLocaleDateString("de-DE"),"  ",new Date(v).toLocaleDateString("de-DE")]})]})]})]}),a.jsxs("div",{className:"mt-3 px-3 py-2 rounded flex items-center gap-2",style:{backgroundColor:"var(--surface-info-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:[a.jsx(Zt,{size:14}),"Terminnderungen wirken sich direkt auf Kapazitt und Simulation aus."]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:o.simulationScreen.actualUtilization}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:E(S.actualUtilization)},children:[S.actualUtilization,"%"]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:o.simulationScreen.targetUtilization}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:[S.targetUtilization,"%"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:o.simulationScreen.capacityPlanning})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Abweichung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:S.deviation>0?"#ef4444":S.deviation<-5?"#3b82f6":"#10b981"},children:[S.deviation>0?"+":"",S.deviation,"%"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:S.deviation>0?o.simulationScreen.overCapacity:S.deviation<0?o.simulationScreen.underCapacity:o.simulationScreen.balanced})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:o.simulationScreen.affectedStores}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:S.affectedStores}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:o.simulationScreen.storesOutsideTarget})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",minHeight:"320px"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:o.simulationScreen.capacityImpact}),a.jsx(lr,{width:"100%",height:250,minHeight:250,children:a.jsxs(Gr,{data:N,children:[a.jsx(Ot,{dataKey:"category",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(_t,{style:{fontSize:"var(--font-size-xs)"},label:{value:"m",angle:-90,position:"insideLeft"}}),a.jsx(gt,{}),a.jsx(Lt,{}),a.jsx($e,{dataKey:"soll",name:"SOLL",fill:"var(--brand-primary)",opacity:.6}),a.jsx($e,{dataKey:"ist",name:"IST",fill:"var(--brand-accent)"})]})})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",minHeight:"320px"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Kapazittsbelastung ber Zeit"}),a.jsx(lr,{width:"100%",height:250,minHeight:250,children:a.jsxs(Gr,{data:z,children:[a.jsx(Ot,{dataKey:"month",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(_t,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(gt,{}),a.jsx(Lt,{}),a.jsx($e,{dataKey:"berkapazitt",stackId:"a",fill:"#ef4444"}),a.jsx($e,{dataKey:"Ausgeglichen",stackId:"a",fill:"#10b981"}),a.jsx($e,{dataKey:"Untererfllung",stackId:"a",fill:"#3b82f6"})]})})]})]}),O.length>0&&a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:o.simulationScreen.issuesFromSimulation}),a.jsx("div",{className:"space-y-2",children:O.map(R=>{const F=$te[R.severity],K=F.icon;return a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded",style:{backgroundColor:`${F.color}10`},children:[a.jsx(K,{size:18,style:{color:F.color,flexShrink:0,marginTop:"2px"}}),a.jsx("div",{className:"flex-1",children:a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:R.message})}),a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:F.color,color:"white",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:F.label})]},R.id)})}),a.jsx("div",{className:"mt-3 px-3 py-2 rounded",style:{backgroundColor:"var(--surface-info-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:"Hinweis: Nicht jede Aufflligkeit blockiert eine Freigabe."})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:["Artikelliste (",e.length,")"]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Artikelnummer"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Farbe"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Artikelbeschreibung"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Kapazittswirkung"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:o.simulationScreen.deliveryDateSimulation})]})}),a.jsx("tbody",{children:e.map(R=>{const F=Wte[R.capacityImpact];return a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{style:{padding:"12px 8px"},children:a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:R.articleNumber})}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:R.colorHex,borderColor:"var(--border-default)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:R.color})]})}),a.jsx("td",{style:{padding:"12px 8px",fontSize:"var(--font-size-sm)"},children:R.description}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full",style:{backgroundColor:`${P_[R.capacityImpact]}15`,color:P_[R.capacityImpact],fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",width:"fit-content"},children:[a.jsx(F,{size:14}),a.jsx("span",{children:R.capacityImpact})]})}),a.jsxs("td",{style:{padding:"12px 8px",fontSize:"var(--font-size-sm)"},children:[B.from,"  ",B.to]})]},R.id)})})]})})]}),a.jsx("div",{style:{height:"100px"}})]}),a.jsx("div",{className:"sticky bottom-0 px-6 py-4 border-t flex items-center justify-end gap-3",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-subtle)",height:"72px"},children:a.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",height:"var(--height-button-md)",boxShadow:"var(--shadow-sm)"},children:"Allokation freigeben"})})]})}const Lc=[{id:"1",articleNumber:"ART-20251001",color:"Schwarz",colorHex:"#000000",status:"Offen",description:"Running Schuhe Pro Trail Max mit Dmpfung",articleGroup:"Shoes",season:"Frhjahr/Sommer 2025",deliveryFrom:"2025-03-01",deliveryTo:"2025-03-15",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:2400,sizeCount:12,capacityNeed:"18 m / 3 Warentrger",capacityImpact:"berkapazitt",capacityImpactReason:["Hoher Flchenbedarf pro Einheit","Kategorie Shoes nahe SOLL-Grenze","Lieferpeak im Zeitraum MrzApril"],allocationDate:null,bookmarked:!1,simulationDate:null,initiallyAllocated:!1},{id:"2",articleNumber:"ART-20251002",color:"Blau",colorHex:"#2563eb",status:"In Planung",description:"Sport T-Shirt Performance Fit",articleGroup:"Apparel",season:"Frhjahr/Sommer 2025",deliveryFrom:"2025-02-15",deliveryTo:"2025-02-28",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:5600,sizeCount:5,capacityNeed:"12 m / 2 Warentrger",capacityImpact:"Ausgeglichen",capacityImpactReason:["Moderater Flchenbedarf","Kategorie Apparel mit ausreichender Kapazitt","Gleichmige Verteilung im Lieferzeitraum"],allocationDate:null,bookmarked:!1,simulationDate:null,initiallyAllocated:!1},{id:"3",articleNumber:"ART-20251003",color:"Rot",colorHex:"#dc2626",status:"Allokiert",description:"Winterjacke Premium Isolation",articleGroup:"Apparel",season:"Herbst/Winter 2025",deliveryFrom:"2025-09-01",deliveryTo:"2025-09-20",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:1200,sizeCount:6,capacityNeed:"25 m / 4 Warentrger",capacityImpact:"berkapazitt",capacityImpactReason:["Hoher Flchenbedarf pro Einheit","Saisonaler Peak in Herbst/Winter","Viele Artikel im selben Zeitfenster"],allocationDate:"2024-12-10",bookmarked:!1,simulationDate:null,initiallyAllocated:!0},{id:"4",articleNumber:"ART-20251004",color:"Grn",colorHex:"#16a34a",status:"Offen",description:"Fitness Hose Stretch Comfort",articleGroup:"Apparel",season:"NOS",deliveryFrom:"2025-01-10",deliveryTo:"2025-01-25",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:3200,sizeCount:8,capacityNeed:"15 m / 2 Warentrger",capacityImpact:"Ausgeglichen",capacityImpactReason:["Ausgeglichener Kapazittsbeitrag","NOS-Artikel mit gleichmiger Distribution","Keine zeitliche Verdichtung"],allocationDate:null,bookmarked:!1,simulationDate:null,initiallyAllocated:!1},{id:"5",articleNumber:"ART-20251005",color:"Wei",colorHex:"#ffffff",status:"In Planung",description:"Sneakers Urban Style Low",articleGroup:"Shoes",season:"Frhjahr/Sommer 2025",deliveryFrom:"2025-04-01",deliveryTo:"2025-04-15",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:1800,sizeCount:10,capacityNeed:"20 m / 3 Warentrger",capacityImpact:"berkapazitt",capacityImpactReason:["Hoher Flchenbedarf pro Einheit","Kategorie Shoes nahe SOLL-Grenze","berlappender Liefertermin mit anderen Shoes-Artikeln"],allocationDate:null,bookmarked:!1,simulationDate:null,initiallyAllocated:!1},{id:"6",articleNumber:"ART-20251006",color:"Grau",colorHex:"#6b7280",status:"Allokiert",description:"Smartwatch Fitness Tracker Pro",articleGroup:"Electronics",season:"NOS",deliveryFrom:"2025-02-01",deliveryTo:"2025-02-10",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:800,sizeCount:1,capacityNeed:"5 m / 1 Warentrger",capacityImpact:"Untererfllung",capacityImpactReason:["Geringer Kapazittsbeitrag","Kategorie Electronics mit freier SOLL-Kapazitt","Wenige Artikel im Lieferzeitraum"],allocationDate:"2024-11-20",bookmarked:!1,simulationDate:null,initiallyAllocated:!0},{id:"7",articleNumber:"ART-20251007",color:"Braun",colorHex:"#92400e",status:"Offen",description:"Leder Grtel Classic",articleGroup:"Accessories",season:"NOS",deliveryFrom:"2025-03-10",deliveryTo:"2025-03-20",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:1500,sizeCount:7,capacityNeed:"8 m / 1 Warentrger",capacityImpact:"Untererfllung",capacityImpactReason:["Geringer Kapazittsbeitrag","Kategorie Accessories mit freier SOLL-Kapazitt","Niedriger Flchenbedarf"],allocationDate:null,bookmarked:!1,simulationDate:null,initiallyAllocated:!1},{id:"8",articleNumber:"ART-20251008",color:"Navy",colorHex:"#1e3a8a",status:"In Planung",description:"Rucksack Outdoor Adventure 30L",articleGroup:"Accessories",season:"Frhjahr/Sommer 2025",deliveryFrom:"2025-05-01",deliveryTo:"2025-05-15",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:950,sizeCount:2,capacityNeed:"10 m / 2 Warentrger",capacityImpact:"Ausgeglichen",capacityImpactReason:["Moderater Flchenbedarf","Kategorie Accessories mit ausreichender Kapazitt","Sptes Lieferfenster mit wenig Konkurrenz"],allocationDate:null,bookmarked:!1,simulationDate:null,initiallyAllocated:!1}],Ts={Offen:"var(--status-warning)","In Planung":"var(--status-info)",Allokiert:"var(--status-success)",Simuliert:"#8b5cf6"},Es={berkapazitt:"#ef4444",Untererfllung:"#3b82f6",Ausgeglichen:"#10b981"},Hte={berkapazitt:Xo,Untererfllung:nh,Ausgeglichen:c1},O_=[{id:"RUN-2025-W50-001",type:"initial",startDate:"2025-12-16 09:30",status:"Abgeschlossen",articleCount:156},{id:"RUN-2025-W49-R12",type:"replenishment",startDate:"2025-12-10 14:15",status:"Abgeschlossen",articleCount:89},{id:"RUN-2025-W49-R11",type:"replenishment",startDate:"2025-12-09 10:00",status:"Abgeschlossen",articleCount:67},{id:"RUN-2025-W48-M03",type:"manual",startDate:"2025-12-05 16:45",status:"Abgeschlossen",articleCount:34},{id:"RUN-2025-W50-R13",type:"replenishment",startDate:"2025-12-15 11:20",status:"Luft",articleCount:45},{id:"RUN-2025-W51-R14",type:"replenishment",startDate:"2025-12-18 09:00",status:"Geplant",articleCount:52}];function Kte({onNavigate:e}){const{t}=br(),[r,n]=k.useState(Lc),[i,o]=k.useState(!0);k.useEffect(()=>{(async()=>{o(!0);try{n(Lc)}catch(Se){console.error("Failed to load work data:",Se),n(Lc)}finally{o(!1)}})()},[]);const[l,u]=k.useState([]),[d,f]=k.useState(!1),[h,m]=k.useState(!1),[v,x]=k.useState([]),[w,b]=k.useState(!0),[y,j]=k.useState(!1),[A,S]=k.useState(null),[N,z]=k.useState("initial"),[O,_]=k.useState(!1),[E,T]=k.useState(!1),[B,R]=k.useState(null),[F,K]=k.useState(""),[H,M]=k.useState(""),[$,U]=k.useState([]),[I,Q]=k.useState([]),[L,W]=k.useState([]),[X,se]=k.useState(""),[de,ge]=k.useState(""),[xe,ne]=k.useState(null),[ie,ce]=k.useState(null),[fe,q]=k.useState(null),[ee,Oe]=k.useState("status"),[je,st]=k.useState("status"),Qe=k.useMemo(()=>r.some(Z=>Z.status==="Simuliert"),[r]),bt=Array.from(new Set(Lc.map(Z=>Z.articleGroup))),Kt=Array.from(new Set(Lc.map(Z=>Z.season))),rr=["berkapazitt","Untererfllung","Ausgeglichen"],ft=Z=>Z.deliveryFromSimulation||Z.deliveryFrom,xt=Z=>Z.deliveryToSimulation||Z.deliveryTo,Ft=k.useMemo(()=>N==="initial"?r:r.filter(Z=>Z.initiallyAllocated),[r,N]),ut=k.useMemo(()=>Ft.filter(Z=>{if($.length>0&&!$.includes(Z.articleGroup)||I.length>0&&!I.includes(Z.season)||L.length>0&&!L.includes(Z.capacityImpact))return!1;const Se=ft(Z),_e=xt(Z);return!(X&&Se<X||de&&_e>de||xe&&Z.status!==xe||ie&&Z.capacityImpact!==ie||fe&&Se.substring(0,7)!==fe)}),[Ft,$,I,L,X,de,xe,ie,fe]),Me=k.useMemo(()=>{const Z={Offen:0,"In Planung":0,Allokiert:0,Simuliert:0};return ut.forEach(Se=>{Z[Se.status]++}),Object.entries(Z).map(([Se,_e])=>({name:Se,value:_e})).filter(Se=>Se.value>0)},[ut]),Ze=k.useMemo(()=>{const Z={berkapazitt:0,Untererfllung:0,Ausgeglichen:0};return ut.forEach(Se=>{Z[Se.capacityImpact]++}),Object.entries(Z).map(([Se,_e])=>({name:Se,value:_e}))},[ut]),Et=k.useMemo(()=>{const Z=new Map;return ut.forEach(Se=>{const _e=ft(Se).substring(0,7);Z.has(_e)||Z.set(_e,{Offen:0,"In Planung":0,Allokiert:0,Simuliert:0});const pt=Z.get(_e);pt[Se.status]++}),Array.from(Z.entries()).sort((Se,_e)=>Se[0].localeCompare(_e[0])).map(([Se,_e])=>({month:new Date(Se+"-01").toLocaleDateString("de-DE",{month:"short",year:"numeric"}),monthKey:Se,..._e}))},[ut]),lt=k.useMemo(()=>{const Z=new Map;return ut.forEach(Se=>{const _e=ft(Se).substring(0,7);Z.has(_e)||Z.set(_e,{berkapazitt:0,Untererfllung:0,Ausgeglichen:0});const pt=Z.get(_e);pt[Se.capacityImpact]++}),Array.from(Z.entries()).sort((Se,_e)=>Se[0].localeCompare(_e[0])).map(([Se,_e])=>({month:new Date(Se+"-01").toLocaleDateString("de-DE",{month:"short",year:"numeric"}),monthKey:Se,..._e}))},[ut]),tt=k.useMemo(()=>r.filter(Z=>Z.bookmarked).length,[r]),cr=k.useMemo(()=>r.filter(Z=>Z.bookmarked&&Z.capacityImpact==="berkapazitt").length,[r]),Nr=Z=>{n(Se=>Se.map(_e=>_e.id===Z&&_e.status!=="Allokiert"?{..._e,bookmarked:!_e.bookmarked}:_e))},mt=()=>{n(Z=>Z.map(Se=>l.includes(Se.id)&&Se.status!=="Allokiert"?{...Se,bookmarked:!0}:Se)),u([])},Ir=()=>{const Z=r.filter(Se=>Se.bookmarked);if(Z.length===0){S({message:t.work.noArticlesSelected,type:"error"}),setTimeout(()=>S(null),3e3);return}x(Z),f(!0)},Pr=()=>{const Z=r.filter(Se=>Se.bookmarked);if(Z.length===0){S({message:t.work.noArticlesSelected,type:"error"}),setTimeout(()=>S(null),3e3);return}x(Z),_(!0)},Or=Z=>{x(Se=>Se.filter(_e=>_e.id!==Z))},ot=()=>{v.length!==0&&(w?(f(!1),m(!0)):(n(Z=>Z.map(Se=>v.find(_e=>_e.id===Se.id)?{...Se,status:"In Planung",bookmarked:!1,allocationDate:new Date().toISOString().split("T")[0]}:Se)),S({message:t.work.allocationScheduled,type:"success"}),setTimeout(()=>S(null),3e3),f(!1),x([])))},mn=(Z,Se)=>{n(_e=>_e.map(pt=>{if(v.find(Ue=>Ue.id===pt.id)){let Ue,Pt;if(Z==="custom"&&Se)Ue=new Date(Se.from),Pt=new Date(Se.to);else switch(Ue=new Date(pt.deliveryFrom),Pt=new Date(pt.deliveryTo),Z){case"plus1week":Ue.setDate(Ue.getDate()+7),Pt.setDate(Pt.getDate()+7);break;case"plus2weeks":Ue.setDate(Ue.getDate()+14),Pt.setDate(Pt.getDate()+14);break;case"minus1week":Ue.setDate(Ue.getDate()-7),Pt.setDate(Pt.getDate()-7);break}return{...pt,status:"Simuliert",deliveryFromSimulation:Ue.toISOString().split("T")[0],deliveryToSimulation:Pt.toISOString().split("T")[0],bookmarked:!1,simulationDate:new Date().toISOString().split("T")[0]}}return pt})),S({message:t.work.simulationAccepted,type:"success"}),setTimeout(()=>S(null),3e3),m(!1),x([])},Gn=()=>{n(Z=>Z.map(Se=>v.find(_e=>_e.id===Se.id)?{...Se,status:"In Planung",bookmarked:!1,allocationDate:new Date().toISOString().split("T")[0]}:Se)),S({message:"Allokation zur Verarbeitung freigegeben",type:"success"}),setTimeout(()=>S(null),3e3),m(!1),x([])},ae=Z=>{const Se=r.filter(_e=>_e.status==="Simuliert").map(_e=>_e.id);n(_e=>_e.map(pt=>Se.includes(pt.id)?{...pt,status:"Offen",deliveryFromSimulation:null,deliveryToSimulation:null,simulationDate:null}:pt)),S({message:"Simulation verworfen",type:"success"}),setTimeout(()=>S(null),3e3)},Ce=Z=>{switch(Z){case"groups":U([]);break;case"seasons":Q([]);break;case"capacity":W([]);break;case"delivery":se(""),ge("");break;case"status":ne(null);break;case"capacityImpact":ce(null);break;case"month":q(null);break}},me=Z=>{N==="initial"?e("runs",{runId:O_[0].id}):T(!0)},te=()=>{B&&(e("runs",{runId:B}),T(!1),R(null),K(""),M(""))},pe=k.useMemo(()=>O_.filter(Z=>N==="initial"?Z.type==="initial":N==="replenishment"?Z.type==="replenishment":N==="manual"?Z.type==="manual":!(F&&Z.startDate<F||H&&Z.startDate>H)),[N,F,H]),Ne=[];$.length>0&&Ne.push({type:"groups",label:`Gruppe: ${$.join(", ")}`}),I.length>0&&Ne.push({type:"seasons",label:`Saison: ${I.join(", ")}`}),L.length>0&&Ne.push({type:"capacity",label:`Kapazittswirkung: ${L.join(", ")}`}),(X||de)&&Ne.push({type:"delivery",label:`Liefertermin: ${X} - ${de}`}),xe&&Ne.push({type:"status",label:`Status: ${xe}`}),ie&&Ne.push({type:"capacityImpact",label:`Kapazittswirkung: ${ie}`}),fe&&Ne.push({type:"month",label:`Monat: ${fe}`});const rt=[{key:"bookmarked",label:t.workScreen.bookmark,align:"center",width:"80px",render:(Z,Se)=>a.jsx("input",{type:"checkbox",checked:Z,disabled:Se.status==="Allokiert",onChange:()=>Nr(Se.id),onClick:_e=>_e.stopPropagation(),className:"w-4 h-4 cursor-pointer",style:{accentColor:"var(--brand-primary)",opacity:Se.status==="Allokiert"?.5:1}})},{key:"articleNumber",label:t.parameters.articleNumber,sortable:!0,width:"140px",render:Z=>a.jsx("code",{className:"cursor-pointer hover:underline",style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:Z})},{key:"color",label:t.workScreen.color,width:"120px",render:(Z,Se)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:Se.colorHex,borderColor:"var(--border-default)"}}),a.jsx("span",{children:Z})]})},{key:"status",label:t.common.status,width:"140px",render:(Z,Se)=>a.jsxs("div",{className:"group relative",children:[a.jsx("span",{className:"px-3 py-1 rounded-full cursor-help whitespace-nowrap inline-block",style:{backgroundColor:Ts[Z],color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:Z}),Z==="Simuliert"&&a.jsx("div",{className:"absolute bottom-full left-0 mb-2 px-4 py-3 rounded-lg shadow-lg opacity-0 pointer-events-none group-hover:opacity-100 transition-opacity whitespace-nowrap z-50",style:{backgroundColor:"var(--text-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",boxShadow:"var(--shadow-lg)",minWidth:"280px"},children:t.workQueue.simulationNote})]})},{key:"description",label:t.parameters.articleDescription,render:Z=>a.jsx("div",{style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:Z})},{key:"articleGroup",label:t.parameters.articleGroup,sortable:!0},{key:"season",label:"Saison"},{key:"deliveryFrom",label:t.workScreen.deliveryFromPlan,render:Z=>new Date(Z).toLocaleDateString("de-DE")},{key:"deliveryTo",label:t.workScreen.deliveryToPlan,render:Z=>new Date(Z).toLocaleDateString("de-DE")},{key:"deliveryFromSimulation",label:t.workScreen.deliveryFromSimulation,render:(Z,Se)=>Z?a.jsxs("div",{className:"group relative flex items-center gap-1",children:[a.jsx(df,{size:14,style:{color:"#8b5cf6"}}),a.jsx("span",{children:new Date(Z).toLocaleDateString("de-DE")}),a.jsxs("div",{className:"absolute bottom-full left-0 mb-2 px-4 py-3 rounded-lg shadow-lg opacity-0 pointer-events-none group-hover:opacity-100 transition-opacity whitespace-nowrap z-50",style:{backgroundColor:"var(--text-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",boxShadow:"var(--shadow-lg)"},children:["Liefertermin aus letzter Simulation",a.jsx("br",{}),"Noch nicht produktiv freigegeben"]})]}):a.jsx("span",{style:{color:"var(--text-muted)"},children:"-"})},{key:"deliveryToSimulation",label:t.workScreen.deliveryToSimulation,render:(Z,Se)=>Z?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(df,{size:14,style:{color:"#8b5cf6"}}),a.jsx("span",{children:new Date(Z).toLocaleDateString("de-DE")})]}):a.jsx("span",{style:{color:"var(--text-muted)"},children:"-"})},{key:"stockDC",label:t.workScreen.stockDC,align:"right"},{key:"sizeCount",label:t.workScreen.sizeCount,align:"right"},{key:"capacityNeed",label:t.workScreen.capacityNeed,render:Z=>a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:Z})},{key:"capacityImpact",label:a.jsxs("div",{className:"flex items-center gap-1 group relative",children:[a.jsx("span",{children:t.workScreen.capacityImpact}),Qe&&a.jsxs(a.Fragment,{children:[a.jsx(df,{size:14,style:{color:"#8b5cf6"}}),a.jsx("div",{className:"absolute bottom-full left-0 mb-2 px-4 py-3 rounded-lg shadow-lg opacity-0 pointer-events-none group-hover:opacity-100 transition-opacity whitespace-nowrap z-50",style:{backgroundColor:"var(--text-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",boxShadow:"var(--shadow-lg)"},children:t.workScreen.capacityImpactTooltip})]})]}),sortable:!0,render:(Z,Se)=>{const _e=Hte[Z];return a.jsxs("div",{className:"group relative",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full cursor-help",style:{backgroundColor:`${Es[Z]}15`,color:Es[Z],fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",width:"fit-content"},children:[a.jsx(_e,{size:14}),a.jsx("span",{children:Z})]}),a.jsxs("div",{className:"absolute bottom-full left-0 mb-2 px-4 py-3 rounded-lg shadow-lg opacity-0 pointer-events-none group-hover:opacity-100 transition-opacity whitespace-nowrap",style:{backgroundColor:"var(--text-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",boxShadow:"var(--shadow-lg)",zIndex:50,minWidth:"280px"},children:[a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:Z==="berkapazitt"?t.workScreen.overCapacityRisk:Z==="Untererfllung"?t.workScreen.underCapacityRisk:t.workScreen.balancedCapacity}),a.jsx("ul",{style:{listStyle:"disc",paddingLeft:"16px",lineHeight:"1.5"},children:Se.capacityImpactReason.map((pt,Je)=>a.jsx("li",{children:pt},Je))})]})]})}},{key:"allocationDate",label:"Allokationsdatum",render:Z=>Z?new Date(Z).toLocaleDateString("de-DE"):"-"},{key:"id",label:"Allokationslauf",align:"center",width:"140px",render:(Z,Se)=>a.jsxs("button",{onClick:_e=>{_e.stopPropagation(),me()},className:"group flex items-center justify-center gap-2 px-3 py-1.5 rounded-lg border transition-all",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-xs)"},title:t.work.openAllocationRun,children:[a.jsx(DT,{size:14}),a.jsx("span",{children:t.work.openAllocationRun})]})}],nt=r.filter(Z=>Z.status==="Simuliert");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:t.work.title}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:t.work.subtitle})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[nt.length>0&&a.jsxs("button",{onClick:()=>ae(),className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:[a.jsx(iu,{size:16}),t.work.discardSimulation," (",nt.length,")"]}),nt.length>0&&a.jsxs("button",{onClick:()=>e("allocationAnalysis"),className:"px-4 py-2 rounded-lg border flex items-center gap-2 hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:[a.jsx(Zt,{size:16}),t.work.allocationAnalysis]}),a.jsx("button",{onClick:Pr,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:t.work.planPreview}),a.jsx("button",{onClick:Ir,disabled:tt===0,className:"px-4 py-2 rounded-lg",style:{backgroundColor:tt>0?"var(--button-primary-bg)":"var(--border-default)",color:"var(--button-primary-text)",height:"var(--height-button-md)",cursor:tt>0?"pointer":"not-allowed",opacity:tt>0?1:.5},children:t.work.performAllocation})]})]}),a.jsxs("div",{className:"flex items-center gap-1 border rounded p-1",style:{borderColor:"var(--border-input)",width:"fit-content"},children:[a.jsx("button",{onClick:()=>z("initial"),className:"px-4 py-2 rounded",style:{backgroundColor:N==="initial"?"var(--brand-primary)":"transparent",color:N==="initial"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:t.work.initialAllocation}),a.jsx("button",{onClick:()=>z("replenishment"),className:"px-4 py-2 rounded",style:{backgroundColor:N==="replenishment"?"var(--brand-primary)":"transparent",color:N==="replenishment"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:t.work.replenishment}),a.jsx("button",{onClick:()=>z("manual"),className:"px-4 py-2 rounded",style:{backgroundColor:N==="manual"?"var(--brand-primary)":"transparent",color:N==="manual"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:t.work.manualControl})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsx("div",{className:"relative",children:a.jsxs("select",{multiple:!0,value:$,onChange:Z=>{const Se=Array.from(Z.target.selectedOptions,_e=>_e.value);U(Se)},className:"px-3 py-2 border rounded-lg min-w-[200px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},size:1,children:[a.jsx("option",{value:"",disabled:!0,children:t.workQueue.articleGroup}),bt.map(Z=>a.jsx("option",{value:Z,children:Z},Z))]})}),a.jsx("div",{className:"relative",children:a.jsxs("select",{multiple:!0,value:I,onChange:Z=>{const Se=Array.from(Z.target.selectedOptions,_e=>_e.value);Q(Se)},className:"px-3 py-2 border rounded-lg min-w-[200px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},size:1,children:[a.jsx("option",{value:"",disabled:!0,children:"Saison"}),Kt.map(Z=>a.jsx("option",{value:Z,children:Z},Z))]})}),a.jsx("div",{className:"relative",children:a.jsxs("select",{multiple:!0,value:L,onChange:Z=>{const Se=Array.from(Z.target.selectedOptions,_e=>_e.value);W(Se)},className:"px-3 py-2 border rounded-lg min-w-[200px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},size:1,children:[a.jsx("option",{value:"",disabled:!0,children:t.workScreen.capacityImpact}),rr.map(Z=>a.jsx("option",{value:Z,children:Z},Z))]})}),a.jsx("div",{className:"relative",children:a.jsxs("select",{value:xe||"",onChange:Z=>ne(Z.target.value||null),className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"",children:t.workQueue.statusAll}),a.jsx("option",{value:"Offen",children:t.workQueue.open}),a.jsx("option",{value:"In Planung",children:t.workQueue.inPlanning}),a.jsx("option",{value:"Simuliert",children:t.workQueue.simulated}),a.jsx("option",{value:"Allokiert",children:"Allokiert"})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"date",value:X,onChange:Z=>se(Z.target.value),placeholder:"Von",className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"}}),a.jsx("span",{style:{color:"var(--text-muted)"},children:"bis"}),a.jsx("input",{type:"date",value:de,onChange:Z=>ge(Z.target.value),placeholder:"Bis",className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"}})]})]}),Ne.length>0&&a.jsx("div",{className:"flex flex-wrap items-center gap-2",children:Ne.map((Z,Se)=>a.jsxs("span",{className:"px-3 py-1 rounded-full flex items-center gap-2",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:[Z.label,a.jsx("button",{onClick:()=>Ce(Z.type),className:"hover:opacity-70",children:a.jsx(Ct,{size:14})})]},Se))}),Qe&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded",style:{backgroundColor:"#8b5cf615",border:"1px solid #8b5cf630",fontSize:"var(--font-size-xs)",color:"#8b5cf6"},children:[a.jsx(df,{size:16}),a.jsx("span",{children:t.workScreen.simulationView})]}),a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsxs("div",{className:"col-span-3 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",minHeight:"280px"},children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)"},children:t.workQueue.allocationStatus})}),a.jsxs("div",{className:"flex items-center gap-1 mb-3 border rounded p-1",style:{borderColor:"var(--border-input)",width:"fit-content"},children:[a.jsx("button",{onClick:()=>Oe("status"),className:"px-2 py-1 rounded",style:{backgroundColor:ee==="status"?"var(--brand-primary)":"transparent",color:ee==="status"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Status"}),a.jsx("button",{onClick:()=>Oe("capacity"),className:"px-2 py-1 rounded",style:{backgroundColor:ee==="capacity"?"var(--brand-primary)":"transparent",color:ee==="capacity"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:t.workScreen.capacity})]}),a.jsx(lr,{width:"100%",height:180,minHeight:180,children:a.jsxs(bI,{children:[a.jsx(Ta,{data:ee==="status"?Me:Ze,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:55,label:({name:Z,percent:Se})=>`${Z} ${(Se*100).toFixed(0)}%`,onClick:Z=>{ee==="status"?ne(Z.name):ce(Z.name)},style:{cursor:"pointer",fontSize:"var(--font-size-xs)"},children:(ee==="status"?Me:Ze).map((Z,Se)=>a.jsx(Tl,{fill:ee==="status"?Ts[Z.name]:Es[Z.name]},Se))}),a.jsx(gt,{})]})})]}),a.jsxs("div",{className:"col-span-9 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",minHeight:"280px"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)"},children:t.workQueue.allocationsByMonth}),a.jsxs("div",{className:"flex items-center gap-1 border rounded p-1",style:{borderColor:"var(--border-input)"},children:[a.jsx("button",{onClick:()=>st("status"),className:"px-2 py-1 rounded",style:{backgroundColor:je==="status"?"var(--brand-primary)":"transparent",color:je==="status"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Status"}),a.jsx("button",{onClick:()=>st("capacity"),className:"px-2 py-1 rounded",style:{backgroundColor:je==="capacity"?"var(--brand-primary)":"transparent",color:je==="capacity"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:t.workScreen.capacity})]})]}),a.jsx(lr,{width:"100%",height:210,minHeight:210,children:je==="status"?a.jsxs(Gr,{data:Et,children:[a.jsx(Ot,{dataKey:"month",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(_t,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(gt,{}),a.jsx(Lt,{}),a.jsx($e,{dataKey:"Offen",stackId:"a",fill:Ts.Offen,onClick:Z=>{q(Z.monthKey),ne("Offen")},style:{cursor:"pointer"}}),a.jsx($e,{dataKey:"In Planung",stackId:"a",fill:Ts["In Planung"],onClick:Z=>{q(Z.monthKey),ne("In Planung")},style:{cursor:"pointer"}}),a.jsx($e,{dataKey:"Simuliert",stackId:"a",fill:Ts.Simuliert,onClick:Z=>{q(Z.monthKey),ne("Simuliert")},style:{cursor:"pointer"}}),a.jsx($e,{dataKey:"Allokiert",stackId:"a",fill:Ts.Allokiert,onClick:Z=>{q(Z.monthKey),ne("Allokiert")},style:{cursor:"pointer"}})]}):a.jsxs(Gr,{data:lt,children:[a.jsx(Ot,{dataKey:"month",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(_t,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(gt,{}),a.jsx(Lt,{}),a.jsx($e,{dataKey:"berkapazitt",stackId:"a",fill:Es.berkapazitt,onClick:Z=>{q(Z.monthKey),ce("berkapazitt")},style:{cursor:"pointer"}}),a.jsx($e,{dataKey:"Untererfllung",stackId:"a",fill:Es.Untererfllung,onClick:Z=>{q(Z.monthKey),ce("Untererfllung")},style:{cursor:"pointer"}}),a.jsx($e,{dataKey:"Ausgeglichen",stackId:"a",fill:Es.Ausgeglichen,onClick:Z=>{q(Z.monthKey),ce("Ausgeglichen")},style:{cursor:"pointer"}})]})})]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[l.length," ",t.workQueue.articlesSelected]}),cr>0&&a.jsxs("div",{className:"mt-2 flex items-center gap-2 px-3 py-2 rounded",style:{backgroundColor:"var(--surface-warning-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-warning)"},children:[a.jsx(Zt,{size:16}),a.jsx("span",{children:t.workQueue.capacityWarning})]})]}),a.jsx("button",{onClick:mt,disabled:l.length===0,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)",opacity:l.length>0?1:.5,cursor:l.length>0?"pointer":"not-allowed"},children:"Allokation vormerken"})]}),a.jsx(Kr,{columns:rt,data:ut,density:"comfortable",selectable:!0,selectedRows:l,onSelectionChange:u})]}),d&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:()=>f(!1),children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-3xl max-h-[80vh] overflow-y-auto",style:{boxShadow:"var(--shadow-lg)"},onClick:Z=>Z.stopPropagation(),children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:t.work.performAllocation}),v.filter(Z=>Z.capacityImpact==="berkapazitt"||Z.capacityImpact==="Untererfllung").length>0&&a.jsxs("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:t.work.capacitySummary}),a.jsxs("div",{className:"space-y-1",style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:[v.filter(Z=>Z.capacityImpact==="berkapazitt").length>0&&a.jsxs("div",{children:[" ",t.work.overcapacityRisk,": ",a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)"},children:v.filter(Z=>Z.capacityImpact==="berkapazitt").length})]}),v.filter(Z=>Z.capacityImpact==="Untererfllung").length>0&&a.jsxs("div",{children:[" ",t.work.underfulfillmentRisk,": ",a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)"},children:v.filter(Z=>Z.capacityImpact==="Untererfllung").length})]})]}),a.jsx("div",{className:"mt-3 pt-3",style:{borderTop:"1px solid var(--border-info)",fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:t.work.capacityNote})]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:w,onChange:Z=>b(Z.target.checked),className:"w-4 h-4",style:{accentColor:"var(--brand-primary)"}}),a.jsxs("div",{children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:t.work.simulateAllocation}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:t.work.simulateNote})]})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:y,onChange:Z=>j(Z.target.checked),className:"w-4 h-4",style:{accentColor:"var(--brand-primary)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:t.work.scheduleBackground})]}),y&&a.jsxs("div",{className:"ml-7 flex items-center gap-3",children:[a.jsx("input",{type:"date",className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)"}}),a.jsx("input",{type:"time",className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)"}})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:[t.work.selectedArticles," (",v.length,")"]}),a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:v.map(Z=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Z.colorHex}}),a.jsxs("div",{children:[a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:Z.articleNumber}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"2px"},children:Z.description})]})]}),a.jsx("button",{onClick:()=>Or(Z.id),className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Ct,{size:16,style:{color:"var(--text-muted)"}})})]},Z.id))})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3",children:[a.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:t.common.cancel}),a.jsx("button",{onClick:ot,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:w?t.work.startSimulation:t.work.startAllocation})]})]})}),h&&a.jsx(Ute,{articles:v,onBack:()=>{m(!1)},onAccept:mn,onDiscard:()=>{m(!1),x([])},onRelease:Gn}),E&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:()=>{T(!1),R(null),K(""),M("")},children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-3xl",style:{boxShadow:"var(--shadow-lg)"},onClick:Z=>Z.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:t.work.selectAllocationRun}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:t.work.selectRunDescription})]}),a.jsx("button",{onClick:()=>{T(!1),R(null),K(""),M("")},className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Ct,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-subtle)"},children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Datum von"}),a.jsx("input",{type:"date",value:F,onChange:Z=>K(Z.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Datum bis"}),a.jsx("input",{type:"date",value:H,onChange:Z=>M(Z.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",fontSize:"var(--font-size-sm)"}})]})]})}),a.jsxs("div",{className:"p-6",style:{maxHeight:"400px",overflowY:"auto"},children:[a.jsx("h4",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Letzte Allokationslufe"}),a.jsx("div",{className:"overflow-hidden rounded-lg border",style:{borderColor:"var(--border-default)"},children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)",backgroundColor:"var(--surface-alt)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"60px"}}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Lauf-ID"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Typ"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Startdatum"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Status"}),a.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:t.workQueue.articleCount})]})}),a.jsx("tbody",{children:pe.map(Z=>a.jsxs("tr",{onClick:()=>R(Z.id),className:"cursor-pointer hover:bg-surface-tint transition-colors",style:{borderBottom:"1px solid var(--border-subtle)",backgroundColor:B===Z.id?"var(--surface-info-subtle)":"transparent"},children:[a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("input",{type:"radio",checked:B===Z.id,onChange:()=>R(Z.id),className:"cursor-pointer",style:{accentColor:"var(--brand-primary)"}})}),a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:Z.id})}),a.jsx("td",{style:{padding:"12px 16px",fontSize:"var(--font-size-sm)"},children:a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:Z.type==="initial"?"var(--surface-info-subtle)":Z.type==="replenishment"?"var(--surface-success-subtle)":"var(--surface-warning-subtle)",color:Z.type==="initial"?"var(--status-info)":Z.type==="replenishment"?"var(--status-success)":"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:Z.type==="initial"?"Initial":Z.type==="replenishment"?"Nachschub":"Manuell"})}),a.jsx("td",{style:{padding:"12px 16px",fontSize:"var(--font-size-sm)"},children:new Date(Z.startDate).toLocaleString("de-DE")}),a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:Z.status==="Abgeschlossen"?"var(--status-success)":Z.status==="Luft"?"var(--status-info)":Z.status==="Geplant"?"var(--status-warning)":"var(--status-danger)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:Z.status})}),a.jsx("td",{style:{padding:"12px 16px",textAlign:"right",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:Z.articleCount})]},Z.id))})]})})]}),a.jsxs("div",{className:"p-6 border-t flex items-start justify-between",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",maxWidth:"450px"},children:[a.jsx(Zt,{size:14,style:{display:"inline",marginRight:"6px"}}),"Der ausgewhlte Allokationslauf wird schreibgeschtzt geffnet, sofern er bereits abgeschlossen ist."]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>{T(!1),R(null),K(""),M("")},className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsxs("button",{onClick:te,disabled:!B,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{backgroundColor:B?"var(--brand-primary)":"var(--border-default)",color:"var(--text-inverse)",height:"var(--height-button-md)",opacity:B?1:.5,cursor:B?"pointer":"not-allowed"},children:[a.jsx(th,{size:18}),"Allokationslauf ffnen"]})]})]})]})}),O&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:()=>_(!1),children:a.jsxs("div",{className:"rounded-lg border shadow-xl",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",width:"800px",maxHeight:"80vh",display:"flex",flexDirection:"column"},onClick:Z=>Z.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)"},children:t.work.planPreview}),a.jsx("button",{onClick:()=>_(!1),className:"p-1 rounded",style:{color:"var(--text-muted)"},children:a.jsx(Ct,{size:20})})]}),a.jsxs("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginTop:"8px"},children:["Vorschau der geplanten Allokation fr ",v.length," Artikel"]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-alt)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Artikel"}),a.jsx("div",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)"},children:v.length})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-alt)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"berkapazitt"}),a.jsx("div",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-danger)"},children:v.filter(Z=>Z.capacityImpact==="berkapazitt").length})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-alt)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Ausgeglichen"}),a.jsx("div",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-success)"},children:v.filter(Z=>Z.capacityImpact==="Ausgeglichen").length})]})]}),a.jsx("div",{className:"rounded-lg border overflow-hidden",style:{borderColor:"var(--border-default)"},children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{backgroundColor:"var(--surface-alt)"},children:[a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Artikel"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Beschreibung"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Lieferzeitraum"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Kapazitt"})]})}),a.jsx("tbody",{children:v.map(Z=>a.jsxs("tr",{style:{borderTop:"1px solid var(--border-default)"},children:[a.jsx("td",{className:"p-3",children:a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:Z.articleNumber})}),a.jsx("td",{className:"p-3",children:a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:Z.description})}),a.jsx("td",{className:"p-3",children:a.jsxs("span",{style:{fontSize:"var(--font-size-sm)"},children:[Z.deliveryFrom," - ",Z.deliveryTo]})}),a.jsx("td",{className:"p-3",children:a.jsx("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:Z.capacityImpact==="berkapazitt"?"var(--status-danger-subtle)":Z.capacityImpact==="Ausgeglichen"?"var(--status-success-subtle)":"var(--status-warning-subtle)",color:Z.capacityImpact==="berkapazitt"?"var(--status-danger)":Z.capacityImpact==="Ausgeglichen"?"var(--status-success)":"var(--status-warning)"},children:Z.capacityImpact})})]},Z.id))})]})})]}),a.jsxs("div",{className:"p-6 border-t flex justify-end gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)"},children:t.common.close}),a.jsx("button",{onClick:()=>{_(!1),f(!0)},className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:t.work.performAllocation})]})]})}),A&&a.jsxs("div",{className:"fixed bottom-6 right-6 px-6 py-3 rounded-lg shadow-lg flex items-center gap-3 animate-slide-up",style:{backgroundColor:A.type==="success"?"var(--status-success)":"var(--status-danger)",color:"var(--text-inverse)",boxShadow:"var(--shadow-lg)",zIndex:100},children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:A.message}),a.jsx("button",{onClick:()=>S(null),className:"hover:opacity-70",children:a.jsx(Ct,{size:18})})]})]})}const Qb=[{id:"RUN-2025-W50-001",type:"initial",status:"Abgeschlossen",startDate:"2025-12-16 09:30",endDate:"2025-12-16 11:45",articleCount:156,storeCount:12,user:"M. Weber"},{id:"RUN-2025-W50-002",type:"replenishment",status:"Abgeschlossen",startDate:"2025-12-15 14:20",endDate:"2025-12-15 15:30",articleCount:89,storeCount:10,user:"S. Mller"},{id:"RUN-2025-W50-003",type:"manual",status:"Mit Ausnahmen",startDate:"2025-12-14 10:15",endDate:"2025-12-14 12:00",articleCount:45,storeCount:8,user:"A. Schmidt"},{id:"RUN-2025-W49-001",type:"initial",status:"Abgeschlossen",startDate:"2025-12-09 08:00",endDate:"2025-12-09 10:30",articleCount:203,storeCount:12,user:"M. Weber"},{id:"RUN-2025-W49-002",type:"replenishment",status:"Abgeschlossen",startDate:"2025-12-08 13:45",endDate:"2025-12-08 14:50",articleCount:67,storeCount:9,user:"T. Fischer"},{id:"RUN-2025-W48-001",type:"manual",status:"Abgeschlossen",startDate:"2025-12-02 11:30",endDate:"2025-12-02 13:15",articleCount:34,storeCount:6,user:"S. Mller"},{id:"RUN-2025-W47-001",type:"initial",status:"Luft",startDate:"2025-11-25 09:00",articleCount:178,storeCount:12,user:"M. Weber",progress:65}],Vte=[{id:"1",articleNumber:"ART-20251001",description:"Running Schuhe Pro Trail Max mit Dmpfung",color:"Schwarz",colorHex:"#000000",season:"Frhjahr/Sommer 2025",allocationFrom:"2025-03-01",allocationTo:"2025-03-15",storeCount:8,totalQuantity:240,capacityImpact:"berkapazitt",hasExceptions:!0,sizeCount:12,allocationDate:"2025-12-16"},{id:"2",articleNumber:"ART-20251002",description:"Sport T-Shirt Performance Fit",color:"Blau",colorHex:"#2563eb",season:"Frhjahr/Sommer 2025",allocationFrom:"2025-02-15",allocationTo:"2025-02-28",storeCount:12,totalQuantity:560,capacityImpact:"Ausgeglichen",hasExceptions:!1,sizeCount:5,allocationDate:"2025-12-16"},{id:"3",articleNumber:"ART-20251003",description:"Winterjacke Premium Isolation",color:"Rot",colorHex:"#dc2626",season:"Herbst/Winter 2025",allocationFrom:"2025-10-01",allocationTo:"2025-10-15",storeCount:10,totalQuantity:180,capacityImpact:"Untererfllung",hasExceptions:!1,sizeCount:6,allocationDate:"2025-12-16"}],Ds=[{storeId:"ZH-001",storeName:"Zrich HB",storeDescription:"Hauptbahnhof Zrich",allocatedQuantity:45,demand:50,overUnder:-5,targetStock:60,currentStock:15,salesLast2Weeks:35},{storeId:"BE-001",storeName:"Bern",storeDescription:"Bern Innenstadt",allocatedQuantity:30,demand:28,overUnder:2,targetStock:40,currentStock:12,salesLast2Weeks:22},{storeId:"BS-001",storeName:"Basel",storeDescription:"Basel SBB",allocatedQuantity:38,demand:40,overUnder:-2,targetStock:50,currentStock:10,salesLast2Weeks:28},{storeId:"LU-001",storeName:"Luzern",storeDescription:"Luzern Bahnhofstrasse",allocatedQuantity:25,demand:22,overUnder:3,targetStock:35,currentStock:13,salesLast2Weeks:18},{storeId:"LS-001",storeName:"Lausanne",storeDescription:"Lausanne Gare",allocatedQuantity:32,demand:35,overUnder:-3,targetStock:45,currentStock:11,salesLast2Weeks:25}],Ga=[{size:"36",allocatedQuantity:15,demand:18,currentStock:5,targetStock:20},{size:"37",allocatedQuantity:18,demand:20,currentStock:6,targetStock:24},{size:"38",allocatedQuantity:25,demand:25,currentStock:8,targetStock:30},{size:"39",allocatedQuantity:30,demand:28,currentStock:10,targetStock:35},{size:"40",allocatedQuantity:28,demand:30,currentStock:9,targetStock:32},{size:"41",allocatedQuantity:25,demand:22,currentStock:7,targetStock:28},{size:"42",allocatedQuantity:22,demand:20,currentStock:6,targetStock:25},{size:"43",allocatedQuantity:18,demand:15,currentStock:5,targetStock:20},{size:"44",allocatedQuantity:15,demand:12,currentStock:4,targetStock:18},{size:"45",allocatedQuantity:12,demand:10,currentStock:3,targetStock:15},{size:"46",allocatedQuantity:10,demand:8,currentStock:2,targetStock:12},{size:"47",allocatedQuantity:8,demand:6,currentStock:2,targetStock:10}],Gte={berkapazitt:Xo,Untererfllung:nh,Ausgeglichen:c1},qte={berkapazitt:"#ef4444",Untererfllung:"#3b82f6",Ausgeglichen:"#10b981"},__={initial:"Initiale Allokation",replenishment:"Nachschub",manual:"Manuelle Einsteuerung"};function Zte({onNavigate:e,runId:t}){const{t:r}=br(),[n,i]=k.useState(Qb),[o,l]=k.useState(!0),[u,d]=k.useState(null),[f,h]=k.useState(!1),[m,v]=k.useState(null),[x,w]=k.useState("aggregated"),[b,y]=k.useState("absolute"),[j,A]=k.useState("all"),[S,N]=k.useState(""),[z,O]=k.useState(""),[_,E]=k.useState("all");k.useEffect(()=>{(async()=>{l(!0);try{const M=(await Xa.getRuns()).map($=>({id:$.id,type:$.type||"initial",status:$.status==="completed"?"Abgeschlossen":$.status==="running"?"Luft":$.status==="with_exceptions"?"Mit Ausnahmen":"Geplant",startDate:$.startDate||new Date().toISOString(),endDate:$.endDate,progress:$.progress||0,articleCount:$.articleCount||0,storeCount:$.storeCount||0,user:$.user||"System"}));i(M)}catch(H){console.error("Failed to load runs:",H),i(Qb)}finally{l(!1)}})()},[]);const T=k.useMemo(()=>Array.from(new Set(n.map(K=>K.user))).sort(),[n]),B=k.useMemo(()=>n.filter(K=>{if(j!=="all"&&K.type!==j||_!=="all"&&K.user!==_)return!1;if(S){const H=new Date(K.startDate),M=new Date(S);if(H<M)return!1}if(z){const H=new Date(K.startDate),M=new Date(z);if(M.setHours(23,59,59,999),H>M)return!1}return!0}),[j,S,z,_]);if(!t){const K=[{key:"id",label:"Lauf-ID",sortable:!0,width:"160px",render:H=>a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:H})},{key:"type",label:"Typ",sortable:!0,width:"180px",render:H=>a.jsx("span",{className:"px-3 py-1 rounded-full inline-block",style:{backgroundColor:H==="initial"?"var(--surface-info-subtle)":H==="replenishment"?"var(--surface-success-subtle)":"var(--surface-warning-subtle)",color:H==="initial"?"var(--status-info)":H==="replenishment"?"var(--status-success)":"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:__[H]})},{key:"status",label:"Status",sortable:!0,width:"150px",render:H=>a.jsx("span",{className:"px-3 py-1 rounded-full inline-block",style:{backgroundColor:H==="Abgeschlossen"?"var(--status-success)":H==="Luft"?"var(--status-info)":H==="Geplant"?"var(--status-warning)":"var(--status-danger)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:H})},{key:"startDate",label:r.runs.startDate,sortable:!0,render:H=>new Date(H).toLocaleString("de-DE")},{key:"endDate",label:r.runs.endDate,render:H=>H?new Date(H).toLocaleString("de-DE"):"-"},{key:"user",label:r.runs.user,sortable:!0},{key:"articleCount",label:r.runs.articleCount,align:"right",sortable:!0,render:H=>a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)"},children:H})},{key:"storeCount",label:r.runs.storeCount,align:"right",sortable:!0},{key:"actions",label:r.runs.action,align:"center",width:"140px",render:(H,M)=>a.jsx("button",{onClick:$=>{$.stopPropagation(),e("runs",{runId:M.id})},className:"px-3 py-1.5 rounded-lg border hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-xs)"},children:r.runs.viewDetails})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:r.runs.title}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:r.runs.subtitle})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(u1,{size:18,style:{color:"var(--text-muted)"}}),a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:"Filter"})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"filterType",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:r.runs.allocationProcess}),a.jsxs("select",{id:"filterType",value:j,onChange:H=>A(H.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"all",children:r.runs.allTypes}),a.jsx("option",{value:"initial",children:r.runs.initialAllocation}),a.jsx("option",{value:"replenishment",children:r.runs.replenishment}),a.jsx("option",{value:"manual",children:r.runs.manualAllocation})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"filterDateFrom",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:r.runs.dateFrom}),a.jsx("input",{type:"date",id:"filterDateFrom",value:S,onChange:H=>N(H.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"filterDateTo",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:r.runs.dateTo}),a.jsx("input",{type:"date",id:"filterDateTo",value:z,onChange:H=>O(H.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"filterUser",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:r.runs.user}),a.jsxs("select",{id:"filterUser",value:_,onChange:H=>E(H.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"all",children:r.runs.allUsers}),T.map(H=>a.jsx("option",{value:H,children:H},H))]})]})]}),(j!=="all"||S||z||_!=="all")&&a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:()=>{A("all"),N(""),O(""),E("all")},className:"px-4 py-2 rounded-lg border hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:r.runs.resetFilter})})]}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[B.length," ",B.length===1?r.runs.run:r.runs.runs," gefunden"]}),a.jsx("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsx(Kr,{data:B,columns:K,onRowClick:H=>e("runs",{runId:H.id})})})]})}const R=Qb.find(K=>K.id===t);if(u){const K=Ds.reduce((ne,ie)=>ne+ie.currentStock,0),H=Ds.reduce((ne,ie)=>ne+ie.targetStock,0),M=Ds.reduce((ne,ie)=>ne+ie.allocatedQuantity,0),$=Ds.reduce((ne,ie)=>ne+ie.overUnder,0),U=Ds.reduce((ne,ie)=>ne+ie.demand,0),Q=[{name:r.runs.totalCurrentStock,value:K},{name:r.runs.totalTargetStock,value:H},{name:r.runs.totalAllocated,value:M},{name:r.runs.totalOverUnder,value:$},{name:r.runs.totalDemand,value:U},{name:r.runs.totalVZBestand,value:2400}],L=[{name:r.runs.totalCurrentStock,...Ga.reduce((ne,ie)=>({...ne,[ie.size]:ie.currentStock}),{})},{name:r.runs.totalTargetStock,...Ga.reduce((ne,ie)=>({...ne,[ie.size]:ie.targetStock}),{})},{name:r.runs.totalAllocated,...Ga.reduce((ne,ie)=>({...ne,[ie.size]:ie.allocatedQuantity}),{})},{name:r.runs.totalOverUnder,...Ga.reduce((ne,ie)=>({...ne,[ie.size]:ie.allocatedQuantity-ie.demand}),{})},{name:r.runs.totalDemand,...Ga.reduce((ne,ie)=>({...ne,[ie.size]:ie.demand}),{})},{name:r.runs.totalVZBestand,...Ga.reduce((ne,ie)=>({...ne,[ie.size]:200}),{})}],W=b==="relative"?L.map(ne=>{const ie=Ga.map(q=>q.size),ce=ie.reduce((q,ee)=>q+(Number(ne[ee])||0),0);if(ce===0)return ne;const fe={name:ne.name};return ie.forEach(q=>{fe[q]=(Number(ne[q])||0)/ce*100}),fe}):L,X=Q.map(ne=>ne.value),se=Math.min(...X),de=Math.max(...X),ge=se<0?[Math.floor(se*1.1),Math.ceil(de*1.1)]:[0,Math.ceil(de*1.1)],xe=[{key:"storeName",label:r.runs.store,sortable:!0,render:ne=>a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:ne})},{key:"storeDescription",label:r.runs.storeDescription},{key:"allocatedQuantity",label:r.runs.allocatedQuantity,align:"right",sortable:!0,render:ne=>a.jsx("button",{onClick:()=>{v({title:r.runs.allocatedQuantity,field:"allocatedQuantity"}),h(!0)},className:"hover:underline cursor-pointer",style:{fontWeight:"var(--font-weight-medium)",color:"var(--brand-primary)"},children:ne})},{key:"demand",label:r.runs.demand,align:"right",sortable:!0,render:ne=>a.jsx("button",{onClick:()=>{v({title:r.runs.demand,field:"demand"}),h(!0)},className:"hover:underline cursor-pointer",style:{fontWeight:"var(--font-weight-medium)",color:"var(--brand-primary)"},children:ne})},{key:"overUnder",label:r.runs.overUnder,align:"right",sortable:!0,render:ne=>a.jsxs("button",{onClick:()=>{v({title:r.runs.overUnder,field:"overUnder"}),h(!0)},className:"hover:underline cursor-pointer",style:{fontWeight:"var(--font-weight-medium)",color:ne<0?"#ef4444":ne>0?"#10b981":"inherit"},children:[ne>0?"+":"",ne]})},{key:"targetStock",label:r.runs.targetStock,align:"right",sortable:!0,render:ne=>a.jsx("button",{onClick:()=>{v({title:r.runs.targetStock,field:"targetStock"}),h(!0)},className:"hover:underline cursor-pointer",style:{fontWeight:"var(--font-weight-medium)",color:"var(--brand-primary)"},children:ne})},{key:"currentStock",label:r.runs.currentStock,align:"right",sortable:!0,render:ne=>a.jsx("button",{onClick:()=>{v({title:r.runs.currentStock,field:"currentStock"}),h(!0)},className:"hover:underline cursor-pointer",style:{fontWeight:"var(--font-weight-medium)",color:"var(--brand-primary)"},children:ne})},{key:"salesLast2Weeks",label:r.runs.salesLast2Weeks,align:"right",sortable:!0}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("button",{onClick:()=>d(null),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-surface-tint transition-colors",style:{color:"var(--text-muted)"},children:[a.jsx(l1,{size:20}),a.jsx("span",{children:r.runs.backToRun})]}),a.jsx("div",{children:a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:r.runs.articleDetails})}),a.jsx("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Artikelnummer"}),a.jsx("code",{style:{fontSize:"var(--font-size-sm)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"4px 8px",borderRadius:"var(--radius-sm)"},children:u.articleNumber})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Artikelbeschreibung"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:u.description})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Farbe"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:u.colorHex,borderColor:"var(--border-default)"}}),a.jsx("span",{children:u.color})]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl Gren"}),a.jsx("div",{children:u.sizeCount})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Saison"}),a.jsx("div",{children:u.season})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Allokationsdatum"}),a.jsx("div",{children:new Date(u.allocationDate).toLocaleDateString("de-DE")})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:r.runs.allocationPeriodFrom}),a.jsx("div",{children:new Date(u.allocationFrom).toLocaleDateString("de-DE")})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:r.runs.allocationPeriodTo}),a.jsx("div",{children:new Date(u.allocationTo).toLocaleDateString("de-DE")})]})]})}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",minHeight:"500px"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:r.runs.aggregatedMetrics}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"flex gap-2 p-1 rounded-lg",style:{backgroundColor:"var(--surface-alt)"},children:[a.jsx("button",{onClick:()=>w("aggregated"),className:"px-3 py-1.5 rounded transition-all",style:{backgroundColor:x==="aggregated"?"var(--brand-primary)":"transparent",color:x==="aggregated"?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:r.runs.aggregated}),a.jsx("button",{onClick:()=>w("segmented"),className:"px-3 py-1.5 rounded transition-all",style:{backgroundColor:x==="segmented"?"var(--brand-primary)":"transparent",color:x==="segmented"?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:r.runs.segmented})]}),x==="segmented"&&a.jsxs("div",{className:"flex gap-2 p-1 rounded-lg",style:{backgroundColor:"var(--surface-alt)"},children:[a.jsx("button",{onClick:()=>y("absolute"),className:"px-3 py-1.5 rounded transition-all",style:{backgroundColor:b==="absolute"?"var(--brand-primary)":"transparent",color:b==="absolute"?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:r.runs.absolute}),a.jsx("button",{onClick:()=>y("relative"),className:"px-3 py-1.5 rounded transition-all",style:{backgroundColor:b==="relative"?"var(--brand-primary)":"transparent",color:b==="relative"?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:r.runs.relative})]})]})]}),a.jsx("div",{style:{width:"100%",height:"400px",minHeight:"400px"},children:a.jsx(lr,{width:"100%",height:"100%",minHeight:400,children:x==="aggregated"?a.jsxs(Gr,{data:Q,layout:"vertical",margin:{top:5,right:30,left:200,bottom:5},children:[a.jsx(la,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(Ot,{type:"number",domain:ge,tickFormatter:ne=>Math.round(ne).toString()}),a.jsx(_t,{type:"category",dataKey:"name",width:180}),a.jsx(gt,{}),a.jsx($e,{dataKey:"value",fill:"#2563eb"})]}):a.jsxs(Gr,{data:W,layout:"vertical",margin:{top:5,right:30,left:200,bottom:5},children:[a.jsx(la,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(Ot,{type:"number",domain:b==="relative"?[0,100]:ge,label:b==="relative"?{value:"%",position:"insideRight",offset:-10}:void 0,tickFormatter:ne=>b==="relative"?`${Math.round(ne)}%`:Math.round(ne).toString()}),a.jsx(_t,{type:"category",dataKey:"name",width:180}),a.jsx(gt,{formatter:ne=>b==="relative"?`${ne.toFixed(2)}%`:ne}),a.jsx(Lt,{}),a.jsx($e,{dataKey:"36",stackId:"a",fill:"#1e3a8a"}),a.jsx($e,{dataKey:"37",stackId:"a",fill:"#1e40af"}),a.jsx($e,{dataKey:"38",stackId:"a",fill:"#1d4ed8"}),a.jsx($e,{dataKey:"39",stackId:"a",fill:"#2563eb"}),a.jsx($e,{dataKey:"40",stackId:"a",fill:"#3b82f6"}),a.jsx($e,{dataKey:"41",stackId:"a",fill:"#60a5fa"}),a.jsx($e,{dataKey:"42",stackId:"a",fill:"#93c5fd"}),a.jsx($e,{dataKey:"43",stackId:"a",fill:"#bfdbfe"}),a.jsx($e,{dataKey:"44",stackId:"a",fill:"#dbeafe"}),a.jsx($e,{dataKey:"45",stackId:"a",fill:"#eff6ff"}),a.jsx($e,{dataKey:"46",stackId:"a",fill:"#f0f9ff"}),a.jsx($e,{dataKey:"47",stackId:"a",fill:"#e0f2fe"})]})})})]}),a.jsxs("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"p-4 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:r.runs.storeAllocation})}),a.jsx(Kr,{data:Ds,columns:xe,onRowClick:()=>{}})]}),f&&m&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:()=>h(!1),children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl",style:{boxShadow:"var(--shadow-lg)"},onClick:ne=>ne.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:[r.runs.sizeDistribution,"  ",m.title]}),a.jsx("button",{onClick:()=>h(!1),className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Ct,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"overflow-hidden rounded-lg border",style:{borderColor:"var(--border-default)"},children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)",backgroundColor:"var(--surface-alt)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:r.runs.size}),a.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:r.runs.allocatedQuantity}),a.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:r.runs.demand}),a.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:r.runs.currentStock}),a.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:r.runs.targetStock})]})}),a.jsx("tbody",{children:Ga.map((ne,ie)=>a.jsxs("tr",{style:{borderBottom:ie<Ga.length-1?"1px solid var(--border-subtle)":"none"},children:[a.jsx("td",{style:{padding:"12px 16px",fontWeight:"var(--font-weight-medium)"},children:ne.size}),a.jsx("td",{style:{textAlign:"right",padding:"12px 16px"},children:ne.allocatedQuantity}),a.jsx("td",{style:{textAlign:"right",padding:"12px 16px"},children:ne.demand}),a.jsx("td",{style:{textAlign:"right",padding:"12px 16px"},children:ne.currentStock}),a.jsx("td",{style:{textAlign:"right",padding:"12px 16px"},children:ne.targetStock})]},ne.size))})]})})}),a.jsx("div",{className:"p-6 border-t flex justify-end",style:{borderColor:"var(--border-default)"},children:a.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)"},children:r.runs.close})})]})})]})}const F=[{key:"articleNumber",label:r.runs.articleNumber,sortable:!0,width:"140px",render:K=>a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:K})},{key:"description",label:r.runs.articleDescription,render:K=>a.jsx("div",{style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:K})},{key:"color",label:r.runs.color,width:"120px",render:(K,H)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:H.colorHex,borderColor:"var(--border-default)"}}),a.jsx("span",{children:K})]})},{key:"season",label:r.runs.season},{key:"allocationFrom",label:r.runs.allocationPeriodFrom,render:K=>new Date(K).toLocaleDateString("de-DE")},{key:"allocationTo",label:r.runs.allocationPeriodTo,render:K=>new Date(K).toLocaleDateString("de-DE")},{key:"storeCount",label:r.runs.storeCount,align:"right",sortable:!0},{key:"totalQuantity",label:r.runs.totalQuantityAllocated,align:"right",sortable:!0,render:K=>a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)"},children:K})},{key:"capacityImpact",label:r.runs.capacityImpact,align:"center",width:"160px",render:K=>{const H=Gte[K];return a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(H,{size:18,style:{color:qte[K]}})})}},{key:"hasExceptions",label:r.runs.exceptionStatus,align:"center",render:K=>K?a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:r.runs.exception}):a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-xs)"},children:"-"})},{key:"id",label:r.runs.action,align:"center",width:"140px",render:(K,H)=>a.jsx("button",{onClick:M=>{M.stopPropagation(),d(H)},className:"px-3 py-1.5 rounded-lg border hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-xs)"},children:r.runs.showDetails})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[a.jsx("button",{onClick:()=>e("runs"),className:"hover:underline",children:r.runs.runs}),a.jsx("span",{children:""}),a.jsx("span",{children:t})]}),a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:r.runs.runDetail}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:r.runs.runDetailDescription})]}),R&&a.jsx("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:r.runs.runId}),a.jsx("code",{style:{fontSize:"var(--font-size-sm)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"4px 8px",borderRadius:"var(--radius-sm)"},children:R.id})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:r.runs.type}),a.jsx("span",{className:"px-3 py-1 rounded-full inline-block",style:{backgroundColor:R.type==="initial"?"var(--surface-info-subtle)":R.type==="replenishment"?"var(--surface-success-subtle)":"var(--surface-warning-subtle)",color:R.type==="initial"?"var(--status-info)":R.type==="replenishment"?"var(--status-success)":"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:__[R.type]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:r.runs.status}),a.jsx("span",{className:"px-3 py-1 rounded-full inline-block",style:{backgroundColor:R.status==="Abgeschlossen"?"var(--status-success)":R.status==="Luft"?"var(--status-info)":R.status==="Geplant"?"var(--status-warning)":"var(--status-danger)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:R.status})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:r.runs.startDate}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:new Date(R.startDate).toLocaleString("de-DE")})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:r.runs.articleCount}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",fontSize:"var(--font-size-lg)"},children:R.articleCount})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:r.runs.storeCount}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",fontSize:"var(--font-size-lg)"},children:R.storeCount})]})]})}),a.jsxs("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"p-4 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:"Allokierte Artikel"})}),a.jsx(Kr,{data:Vte,columns:F,onRowClick:K=>d(K)})]})]})}const Bc={info:{color:"var(--status-info)",icon:Zt},critical:{color:"var(--status-warning)",icon:Mt},blocking:{color:"var(--status-danger)",icon:Wn}},Rs={new:{color:"var(--status-info)"},"in-progress":{color:"var(--status-warning)"},accepted:{color:"var(--brand-primary)"},resolved:{color:"var(--status-success)"}},Jb=(e,t)=>({overcapacity:t.exceptions.overcapacity,undercapacity:t.exceptions.undercapacity,"delivery-conflict":t.exceptions.deliveryConflict,"lot-conflict":t.exceptions.lotConflict,"parameter-conflict":t.exceptions.parameterConflict,"manual-deviation":t.exceptions.manualDeviation})[e],T_=(e,t)=>({info:t.exceptions.info,critical:t.exceptions.critical,blocking:t.exceptions.blocking})[e],E_=[{id:"EXC-001",type:"overcapacity",severity:"critical",status:"new",process:"initial",article:"ART-10245 - Running Shoes Elite",category:"Shoes  Running",cause:'SOLL-Kapazitt wird im Cluster "Urban Premium" um 23% berschritten',affectedLevel:"Store-Cluster: Urban Premium (3 Filialen)",impact:"+23% ber SOLL",source:"simulation",recommendedAction:"Liefertermin verschieben oder Artikel reduzieren",createdAt:"2025-12-16 09:45",season:"SS 2026",cluster:"Urban Premium",capacityDeviation:23,deliveryDate:"KW 12/2026"},{id:"EXC-002",type:"lot-conflict",severity:"blocking",status:"new",process:"initial",article:"ART-10892 - Casual Jacket Spring",category:"Apparel  Jackets",cause:"LOT-Zwang verletzt: Nur 4 von 6 Gren verfgbar",affectedLevel:"Produktgruppe: Casual Jackets",impact:"Prsentation nicht regelkonform",source:"planning",recommendedAction:"Artikel aus Lauf entfernen oder fehlende Gren beschaffen",createdAt:"2025-12-16 08:12",season:"SS 2026",deliveryDate:"KW 10/2026"},{id:"EXC-003",type:"delivery-conflict",severity:"critical",status:"in-progress",process:"replenishment",article:"ART-11234 - Summer Dress Collection",category:"Apparel  Dresses",cause:"Zeitliche Verdichtung: 3 Kollektionen in KW 15",affectedLevel:"Zeitfenster: KW 15/2026",impact:"Kapazittsberlastung +45%",source:"simulation",recommendedAction:"Liefertermin um 1 Woche verschieben",createdAt:"2025-12-15 14:30",season:"SS 2026",cluster:"Alle",capacityDeviation:45,deliveryDate:"KW 15/2026",assignedTo:"Maria Mller"},{id:"EXC-004",type:"undercapacity",severity:"info",status:"accepted",process:"initial",article:"Kategorie: Accessories",category:"Accessories",cause:"SOLL-Kapazitt wird nur zu 78% ausgelastet",affectedLevel:"Warengruppe: Accessories",impact:"-22% unter SOLL",source:"planning",recommendedAction:"Zustzliche Artikel einplanen oder Abweichung akzeptieren",createdAt:"2025-12-14 11:20",season:"SS 2026",capacityDeviation:-22},{id:"EXC-005",type:"parameter-conflict",severity:"blocking",status:"new",process:"initial",article:"ART-10567 - Premium Sneakers",category:"Shoes  Sneakers",cause:"Mindestprsentationsmenge (8 Stk.) > verfgbare Kapazitt (5 Stk.)",affectedLevel:"Artikel-Ebene",impact:"Allokation nicht mglich",source:"planning",recommendedAction:"Parameter prfen und anpassen",createdAt:"2025-12-16 10:05",season:"SS 2026"},{id:"EXC-006",type:"manual-deviation",severity:"info",status:"accepted",process:"initial",article:"ART-10123 - Special Edition",category:"Shoes  Limited",cause:"Bewusste berallokation fr Marketingaktion",affectedLevel:"Filiale: Zrich HB",impact:"+15% ber SOLL",source:"production",recommendedAction:"Keine Aktion erforderlich (akzeptiert)",createdAt:"2025-12-13 16:45",season:"SS 2026",capacityDeviation:15,assignedTo:"Andreas Schmidt"},{id:"EXC-007",type:"overcapacity",severity:"critical",status:"in-progress",process:"replenishment",article:"Kategorie: Electronics",category:"Electronics",cause:"Nachschub berschreitet verfgbare Lagerflche",affectedLevel:"Store-Cluster: Regional",impact:"+18% ber SOLL",source:"simulation",recommendedAction:"Mengereduktion oder zeitliche Staffelung",createdAt:"2025-12-15 09:30",season:"AW 2025",cluster:"Regional",capacityDeviation:18,assignedTo:"Julia Weber"},{id:"EXC-008",type:"delivery-conflict",severity:"info",status:"resolved",process:"initial",article:"ART-10889 - Winter Boots",category:"Shoes  Boots",cause:"Ursprnglicher Liefertermin zu spt",affectedLevel:"Zeitfenster: KW 40/2025",impact:"Verzgerung um 2 Wochen",source:"planning",recommendedAction:"Liefertermin angepasst",createdAt:"2025-12-10 08:00",season:"AW 2025",deliveryDate:"KW 38/2025"}];function Xte({onNavigate:e}){const{t}=br(),[r,n]=k.useState(E_),[i,o]=k.useState(!0),[l,u]=k.useState({process:[],type:[],severity:[],status:[],season:[]}),[d,f]=k.useState("detail"),[h,m]=k.useState(""),[v,x]=k.useState(null),[w,b]=k.useState(!1),[y,j]=k.useState("");k.useEffect(()=>{o(!0),n(E_),o(!1)},[]);const A=k.useMemo(()=>r.filter(T=>!(l.process.length>0&&!l.process.includes(T.process)||l.type.length>0&&!l.type.includes(T.type)||l.severity.length>0&&!l.severity.includes(T.severity)||l.status.length>0&&!l.status.includes(T.status)||h&&!T.article.toLowerCase().includes(h.toLowerCase())&&!T.category.toLowerCase().includes(h.toLowerCase()))),[r,l,h]),S=k.useMemo(()=>{const T=A.reduce((B,R)=>{const F=R.type;return B[F]||(B[F]={type:F,count:0,critical:0,blocking:0,info:0,new:0,inProgress:0,accepted:0,resolved:0,categories:new Set}),B[F].count++,R.severity==="critical"&&B[F].critical++,R.severity==="blocking"&&B[F].blocking++,R.severity==="info"&&B[F].info++,R.status==="new"&&B[F].new++,R.status==="in-progress"&&B[F].inProgress++,R.status==="accepted"&&B[F].accepted++,R.status==="resolved"&&B[F].resolved++,B[F].categories.add(R.category),B},{});return Object.values(T)},[A]),N=k.useMemo(()=>{const T=A.length,B=A.filter(H=>H.severity==="critical"||H.severity==="blocking").length,R=A.filter(H=>H.status==="accepted").length,K=A.filter(H=>H.status==="resolved").length>0?2.5:0;return{total:T,criticalBlocking:B,accepted:R,avgDays:K}},[A]),z=f1(),O=()=>{v&&y.trim()&&(n(T=>T.map(B=>B.id===v.id?{...B,status:"accepted"}:B)),z.success("Abweichung akzeptiert",`Exception ${v.id} wurde mit Begrndung akzeptiert.`),b(!1),j(""),x(null))},_=T=>{n(B=>B.map(R=>R.id===T.id?{...R,status:"resolved"}:R)),z.success("Exception gelst",`Exception ${T.id} wurde als gelst markiert.`),x(null)},E=({severity:T})=>{const B=Bc[T],R=B.icon;return a.jsx(R,{size:16,style:{color:B.color}})};return a.jsxs("div",{className:"pb-20",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[a.jsx("span",{children:"Cockpit"}),a.jsx(fn,{size:16}),a.jsx("span",{children:t.exceptionsScreen.title})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:t.exceptions.title}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)",maxWidth:"900px"},children:t.exceptions.subtitle})]}),a.jsxs("div",{className:"p-4 rounded-lg border mb-6",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 flex-wrap",children:[a.jsxs("div",{className:"relative flex-1 max-w-xs",children:[a.jsx(Vr,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{type:"text",placeholder:t.exceptions.searchPlaceholder,value:h,onChange:T=>m(T.target.value),className:"pl-10 pr-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("select",{value:l.process[0]||"",onChange:T=>{u(B=>({...B,process:T.target.value?[T.target.value]:[]}))},className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)",minWidth:"150px"},children:[a.jsx("option",{value:"",children:t.exceptionsScreen.processAll}),a.jsx("option",{value:"initial",children:t.exceptionsScreen.initialAllocation}),a.jsx("option",{value:"replenishment",children:t.exceptionsScreen.replenishment})]}),a.jsxs("select",{value:l.severity[0]||"",onChange:T=>{u(B=>({...B,severity:T.target.value?[T.target.value]:[]}))},className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)",minWidth:"150px"},children:[a.jsx("option",{value:"",children:"Severity: Alle"}),a.jsx("option",{value:"info",children:"Hinweis"}),a.jsx("option",{value:"critical",children:t.exceptions.critical}),a.jsx("option",{value:"blocking",children:"Blockierend"})]}),a.jsxs("select",{value:l.status[0]||"",onChange:T=>{u(B=>({...B,status:T.target.value?[T.target.value]:[]}))},className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)",minWidth:"150px"},children:[a.jsx("option",{value:"",children:"Status: Alle"}),a.jsx("option",{value:"new",children:"Neu"}),a.jsx("option",{value:"in-progress",children:"In Bearbeitung"}),a.jsx("option",{value:"accepted",children:"Akzeptiert"}),a.jsx("option",{value:"resolved",children:"Gelst"})]})]}),a.jsxs("div",{className:"flex items-center rounded-lg border overflow-hidden",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>f("aggregated"),className:"px-3 py-2",style:{backgroundColor:d==="aggregated"?"var(--brand-primary)":"var(--surface-page)",color:d==="aggregated"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",borderRight:"1px solid var(--border-default)"},children:"Aggregiert"}),a.jsx("button",{onClick:()=>f("detail"),className:"px-3 py-2",style:{backgroundColor:d==="detail"?"var(--brand-primary)":"var(--surface-page)",color:d==="detail"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-sm)"},children:"Detail"})]})]}),(l.process.length>0||l.severity.length>0||l.status.length>0||h)&&a.jsxs("div",{className:"flex items-center gap-2 flex-wrap pt-3 border-t",style:{borderColor:"var(--border-subtle)"},children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Aktive Filter:"}),l.process.map(T=>a.jsxs("span",{className:"px-2 py-1 rounded flex items-center gap-1",style:{backgroundColor:"var(--surface-info-subtle)",fontSize:"var(--font-size-xs)"},children:[T==="initial"?t.exceptionsScreen.initial:t.exceptionsScreen.replenishment,a.jsx("button",{onClick:()=>u(B=>({...B,process:B.process.filter(R=>R!==T)})),children:a.jsx(Ct,{size:12})})]},T)),h&&a.jsxs("span",{className:"px-2 py-1 rounded flex items-center gap-1",style:{backgroundColor:"var(--surface-info-subtle)",fontSize:"var(--font-size-xs)"},children:['Suche: "',h,'"',a.jsx("button",{onClick:()=>m(""),children:a.jsx(Ct,{size:12})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-6 mb-6",children:[a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:t.exceptionsScreen.openExceptions}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:N.total})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-danger-subtle)",borderColor:"var(--border-danger)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:t.exceptions.criticalBlocking}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-danger)"},children:N.criticalBlocking})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:t.exceptions.acceptedDeviations}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:N.accepted})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:" Bearbeitungsdauer"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:[N.avgDays," ",a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-regular)",color:"var(--text-muted)"},children:"Tage"})]})]})]}),d==="detail"?a.jsx("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"80px"},children:"Severity"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"180px"},children:"Exception-Typ"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"200px"},children:t.exceptions.articleCategory}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"120px"},children:t.exceptions.process}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"250px"},children:t.exceptions.cause}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"150px"},children:t.exceptions.impact}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"100px"},children:t.exceptions.source}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"120px"},children:"Status"}),a.jsx("th",{style:{textAlign:"center",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"100px"},children:t.exceptions.actions})]})}),a.jsx("tbody",{children:A.map(T=>a.jsxs("tr",{onClick:()=>x(T),style:{borderBottom:"1px solid var(--border-subtle)",cursor:"pointer"},className:"hover:bg-surface-tint transition-colors",children:[a.jsx("td",{style:{padding:"16px"},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(E,{severity:T.severity}),a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:`${Bc[T.severity].color}15`,color:Bc[T.severity].color,fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:T_(T.severity,t)})]})}),a.jsx("td",{style:{padding:"16px",fontSize:"var(--font-size-sm)"},children:Jb(T.type,t)}),a.jsx("td",{style:{padding:"16px"},children:a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:T.article}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:T.category})]})}),a.jsx("td",{style:{padding:"16px"},children:a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:T.process==="initial"?"var(--surface-info-subtle)":"var(--surface-success-subtle)",color:T.process==="initial"?"var(--status-info)":"var(--status-success)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:T.process==="initial"?t.exceptionsScreen.initial:t.exceptionsScreen.replenishment})}),a.jsx("td",{style:{padding:"16px",fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:T.cause}),a.jsx("td",{style:{padding:"16px"},children:a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:T.capacityDeviation&&T.capacityDeviation>0?"var(--status-danger)":"var(--status-warning)"},children:T.impact})}),a.jsx("td",{style:{padding:"16px"},children:a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:T.source==="planning"?"Planung":T.source==="simulation"?"Simulation":"Produktiv"})}),a.jsx("td",{style:{padding:"16px"},children:a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:`${Rs[T.status].color}15`,color:Rs[T.status].color,fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:Rs[T.status].label})}),a.jsx("td",{style:{padding:"16px",textAlign:"center"},children:a.jsx("button",{onClick:B=>{B.stopPropagation(),x(T)},className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(sL,{size:16,style:{color:"var(--brand-primary)"}})})})]},T.id))})]})})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(T=>a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:Jb(T.type,t)}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[T.categories.size," ",t.exceptions.categoriesAffected]})]}),a.jsx("div",{className:"px-3 py-1 rounded-full",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)"},children:T.count})]}),a.jsxs("div",{className:"space-y-3 pt-3 border-t",style:{borderColor:"var(--border-subtle)"},children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Severity"}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end",children:[T.blocking>0&&a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-danger-subtle)",color:"var(--status-danger)",fontSize:"var(--font-size-xs)"},children:[T.blocking," Blockierend"]}),T.critical>0&&a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-xs)"},children:[T.critical," ",t.exceptions.critical]}),T.info>0&&a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--status-info)",fontSize:"var(--font-size-xs)"},children:[T.info," Hinweis"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Status"}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end",style:{fontSize:"var(--font-size-xs)"},children:[T.new>0&&a.jsxs("span",{style:{color:"var(--status-info)"},children:[T.new," Neu"]}),T.inProgress>0&&a.jsxs("span",{style:{color:"var(--status-warning)"},children:[T.inProgress," In Bearb."]}),T.accepted>0&&a.jsxs("span",{style:{color:"var(--brand-primary)"},children:[T.accepted," Akzept."]}),T.resolved>0&&a.jsxs("span",{style:{color:"var(--status-success)"},children:[T.resolved," Gelst"]})]})]})]}),a.jsx("button",{onClick:()=>{u(B=>({...B,type:[T.type]})),f("detail")},className:"mt-4 w-full px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:"Details anzeigen"})]},T.type))}),v&&a.jsxs("div",{className:"fixed inset-0 z-50 flex",onClick:()=>x(null),style:{backgroundColor:"var(--bg-overlay)"},children:[a.jsx("div",{className:"flex-1"}),a.jsxs("div",{className:"bg-white shadow-lg overflow-y-auto",style:{width:"600px",maxWidth:"100vw",boxShadow:"var(--shadow-lg)"},onClick:T=>T.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b sticky top-0 bg-white z-10",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Exception-ID"}),a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:v.id})]}),a.jsx("button",{onClick:()=>x(null),className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Ct,{size:20,style:{color:"var(--text-muted)"}})})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(E,{severity:v.severity}),a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:`${Bc[v.severity].color}15`,color:Bc[v.severity].color,fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:T_(v.severity,t)})]}),a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:`${Rs[v.status].color}15`,color:Rs[v.status].color,fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:Rs[v.status].label})]})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"var(--space-3)"},children:"Kontext"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(rh,{size:16,style:{color:"var(--text-muted)",marginTop:"2px"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:t.exceptions.articleCategory}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:v.article}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:v.category})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Xo,{size:16,style:{color:"var(--text-muted)",marginTop:"2px"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:t.exceptions.process}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:v.process==="initial"?t.exceptionsScreen.initialAllocation:t.exceptionsScreen.replenishment})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(bL,{size:16,style:{color:"var(--text-muted)",marginTop:"2px"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Saison"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:v.season})]})]}),v.deliveryDate&&a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Xs,{size:16,style:{color:"var(--text-muted)",marginTop:"2px"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Liefertermin"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:v.deliveryDate})]})]})]})]}),a.jsxs("div",{className:"border-t pt-6",style:{borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"var(--space-3)"},children:t.exceptions.causeDetails}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-warning-subtle)",border:"1px solid var(--border-warning)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Beschreibung der Regelverletzung"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",lineHeight:"1.5"},children:v.cause})]}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Betroffene Ebene"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:v.affectedLevel})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Exception-Typ"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:Jb(v.type,t)})]})]}),v.type==="parameter-conflict"&&a.jsxs("button",{onClick:()=>{x(null),e("parameters")},className:"mt-3 w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(ou,{size:16}),"Zur Parameterpflege"]})]}),v.capacityDeviation&&a.jsxs("div",{className:"border-t pt-6",style:{borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"var(--space-3)"},children:"Kapazittswirkung"}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:v.capacityDeviation>0?"var(--surface-danger-subtle)":"var(--surface-warning-subtle)",border:`1px solid ${v.capacityDeviation>0?"var(--border-danger)":"var(--border-warning)"}`},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Abweichung SOLL"}),a.jsxs("span",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",color:v.capacityDeviation>0?"var(--status-danger)":"var(--status-warning)"},children:[v.capacityDeviation>0?"+":"",v.capacityDeviation,"%"]})]})}),a.jsxs("div",{className:"mt-4 flex items-end gap-2 h-24",children:[a.jsx("div",{className:"flex-1 bg-surface-subtle-tint rounded-t",style:{height:"60%"},children:a.jsx("div",{className:"h-full flex items-end justify-center pb-2",children:a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"SOLL"})})}),a.jsx("div",{className:"flex-1 rounded-t",style:{height:"85%",backgroundColor:v.capacityDeviation>0?"var(--status-danger)":"var(--status-warning)"},children:a.jsx("div",{className:"h-full flex items-end justify-center pb-2",children:a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-inverse)"},children:"IST"})})})]})]}),a.jsxs("div",{className:"border-t pt-6",style:{borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"var(--space-3)"},children:"Handlungsempfehlungen"}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Zt,{size:16,style:{color:"var(--status-info)",marginTop:"2px"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Systemvorschlag"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:v.recommendedAction})]})]})})]}),a.jsxs("div",{className:"border-t pt-6 space-y-3",style:{borderColor:"var(--border-default)"},children:[a.jsxs("button",{onClick:()=>{x(null),e("capacity")},className:"w-full flex items-center justify-between px-4 py-3 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx("span",{children:"Zur Simulation springen"}),a.jsx(DT,{size:16})]}),a.jsxs("button",{onClick:()=>b(!0),className:"w-full flex items-center justify-between px-4 py-3 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)"},children:[a.jsx("span",{children:"Abweichung akzeptieren"}),a.jsx(Rr,{size:16})]}),a.jsxs("button",{onClick:()=>_(v),className:"w-full flex items-center justify-between px-4 py-3 rounded-lg",style:{backgroundColor:"var(--status-success)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)"},children:[a.jsx("span",{children:t.exceptionsScreen.resolveException}),a.jsx(Rr,{size:16})]})]}),a.jsx("div",{className:"border-t pt-6",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center justify-between",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[a.jsxs("span",{children:["Erstellt: ",v.createdAt]}),v.assignedTo&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx($B,{size:12}),v.assignedTo]})]})})]})]})]}),w&&v&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:()=>b(!1),children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md",style:{boxShadow:"var(--shadow-lg)"},onClick:T=>T.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Abweichung akzeptieren"})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:["Sie sind dabei, die Exception ",a.jsx("strong",{children:v.id})," als akzeptierte Abweichung zu kennzeichnen."]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",display:"block",marginBottom:"8px"},children:"Begrndung (Pflichtfeld)"}),a.jsx("textarea",{value:y,onChange:T=>j(T.target.value),placeholder:"Bitte geben Sie eine Begrndung fr die Akzeptanz ein...",rows:4,className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",resize:"vertical"}})]})]}),a.jsxs("div",{className:"p-6 border-t flex items-center justify-end gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>{b(!1),j("")},className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsx("button",{onClick:O,disabled:!y.trim(),className:"px-4 py-2 rounded-lg",style:{backgroundColor:y.trim()?"var(--brand-primary)":"var(--border-default)",color:"var(--text-inverse)",height:"var(--height-button-md)",opacity:y.trim()?1:.5,cursor:y.trim()?"pointer":"not-allowed"},children:"Akzeptieren"})]})]})})]})}const US=[{id:"blick-retail",label:"BLICK Retail",level:"company",children:[{id:"division-bekleidung",label:"Einkaufsbereich Bekleidung",level:"division",children:[{id:"category-schuhe",label:"Warengruppe Schuhe",level:"category",children:[{id:"pg-running-shoes",label:"Running Shoes",level:"productGroup"},{id:"pg-casual-sneakers",label:"Casual Sneakers",level:"productGroup"},{id:"pg-boots",label:"Boots",level:"productGroup"}]},{id:"category-oberbekleidung",label:"Warengruppe Oberbekleidung",level:"category",children:[{id:"pg-outdoor-jackets",label:"Outdoor Jackets",level:"productGroup"},{id:"pg-blazers",label:"Blazers",level:"productGroup"},{id:"pg-coats",label:"Coats",level:"productGroup"}]},{id:"category-hosen",label:"Warengruppe Hosen",level:"category",children:[{id:"pg-jeans",label:"Jeans",level:"productGroup"},{id:"pg-chinos",label:"Chinos",level:"productGroup"},{id:"pg-sports-pants",label:"Sports Pants",level:"productGroup"}]}]},{id:"division-sport",label:"Einkaufsbereich Sport",level:"division",children:[{id:"category-outdoor",label:"Warengruppe Outdoor",level:"category",children:[{id:"pg-trekking",label:"Trekking Equipment",level:"productGroup"},{id:"pg-camping",label:"Camping",level:"productGroup"}]},{id:"category-fitness",label:"Warengruppe Fitness",level:"category",children:[{id:"pg-gym-equipment",label:"Gym Equipment",level:"productGroup"},{id:"pg-yoga",label:"Yoga",level:"productGroup"}]}]},{id:"division-accessories",label:"Einkaufsbereich Accessories",level:"division",children:[{id:"category-bags",label:"Warengruppe Taschen",level:"category",children:[{id:"pg-backpacks",label:"Backpacks",level:"productGroup"},{id:"pg-handbags",label:"Handbags",level:"productGroup"}]}]}]}];function HI({node:e,level:t=0,selectedIds:r,expandedIds:n,onToggleExpand:i,onToggleSelect:o}){const l=e.children&&e.children.length>0,u=n.has(e.id),d=r.has(e.id),f=h=>{switch(h){case"company":return"var(--text-muted)";case"division":return"var(--status-info)";case"category":return"var(--status-warning)";case"productGroup":return"var(--status-success)";default:return"var(--text-secondary)"}};return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 py-2 px-3 cursor-pointer hover:bg-surface-tint rounded transition-colors",style:{paddingLeft:`${t*24+12}px`},children:[a.jsx("div",{style:{width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:l?a.jsx("button",{onClick:h=>{h.stopPropagation(),i(e.id)},className:"p-0.5 hover:bg-surface-subtle-tint rounded",children:u?a.jsx(Ji,{size:16,style:{color:"var(--text-muted)"}}):a.jsx(fn,{size:16,style:{color:"var(--text-muted)"}})}):null}),a.jsx("div",{onClick:()=>o(e.id,e.label),className:"flex items-center justify-center w-5 h-5 rounded border",style:{borderColor:d?"var(--brand-primary)":"var(--border-default)",backgroundColor:d?"var(--brand-primary)":"transparent"},children:d&&a.jsx(ci,{size:14,style:{color:"var(--text-inverse)"}})}),a.jsx("span",{onClick:()=>o(e.id,e.label),style:{fontSize:"var(--font-size-sm)",fontWeight:t===0?"var(--font-weight-semibold)":"var(--font-weight-regular)",flex:1},children:e.label}),a.jsxs("span",{className:"px-2 py-0.5 rounded text-xs",style:{backgroundColor:`${f(e.level)}15`,color:f(e.level),fontSize:"var(--font-size-xs)"},children:[e.level==="company"&&"Unternehmen",e.level==="division"&&"Einkaufsbereich",e.level==="category"&&"Warengruppe",e.level==="productGroup"&&"Produktgruppe"]})]}),l&&u&&a.jsx("div",{children:e.children.map(h=>a.jsx(HI,{node:h,level:t+1,selectedIds:r,expandedIds:n,onToggleExpand:i,onToggleSelect:o},h.id))})]})}function Yte({isOpen:e,onClose:t,selectedNodes:r,onConfirm:n,title:i="Artikelhierarchie auswhlen",description:o="Whlen Sie die relevanten Artikelhierarchieebenen aus"}){const[l,u]=k.useState(()=>{const w=new Map;return r.forEach(b=>{const y=A=>{for(const S of A){if(S.id===b)return S;if(S.children){const N=y(S.children);if(N)return N}}return null},j=y(US);j&&w.set(j.id,j.label)}),w}),[d,f]=k.useState(new Set(["blick-retail","division-bekleidung","division-sport","division-accessories"]));if(!e)return null;const h=w=>{f(b=>{const y=new Set(b);return y.has(w)?y.delete(w):y.add(w),y})},m=(w,b)=>{u(y=>{const j=new Map(y);return j.has(w)?j.delete(w):j.set(w,b),j})},v=()=>{n(Array.from(l.keys())),t()},x=()=>{u(new Map)};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:t,children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl max-h-[80vh] flex flex-col",style:{boxShadow:"var(--shadow-lg)"},onClick:w=>w.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b flex items-start justify-between",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:i}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:o})]}),a.jsx("button",{onClick:t,className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Ct,{size:20,style:{color:"var(--text-muted)"}})})]}),a.jsxs("div",{className:"px-6 py-3 border-b flex items-center justify-between",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-subtle-tint)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:l.size===0?"Keine Auswahl":a.jsxs(a.Fragment,{children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)"},children:l.size})," ",l.size===1?"Ebene":"Ebenen"," ausgewhlt"]})}),l.size>0&&a.jsx("button",{onClick:x,className:"px-3 py-1 rounded text-sm hover:bg-surface-tint",style:{color:"var(--text-secondary)",fontSize:"var(--font-size-sm)"},children:"Alle abwhlen"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:US.map(w=>a.jsx(HI,{node:w,selectedIds:new Set(l.keys()),expandedIds:d,onToggleExpand:h,onToggleSelect:m},w.id))}),l.size>0&&a.jsxs("div",{className:"px-6 py-3 border-t",style:{borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"Ausgewhlte Ebenen:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from(l.entries()).map(([w,b])=>a.jsxs("div",{className:"px-3 py-1 rounded-full flex items-center gap-2",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--text-primary)",fontSize:"var(--font-size-xs)"},children:[a.jsx("span",{children:b}),a.jsx("button",{onClick:()=>m(w,b),className:"hover:bg-surface-tint rounded-full p-0.5",children:a.jsx(Ct,{size:12})})]},w))})]}),a.jsxs("div",{className:"p-6 border-t flex items-center justify-end gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsxs("button",{onClick:v,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:["Auswahl bernehmen (",l.size,")"]})]})]})})}const D_={full:"Vollstndig blockiert",initialOnly:"Nur Erstallokation blockiert",replenishmentOnly:"Nur Nachschub blockiert",presentationOnly:"Nur Prsentation blockiert",forecastIgnore:"Prognose ignorieren"},Qte={full:"var(--status-error)",initialOnly:"var(--status-warning)",replenishmentOnly:"var(--status-warning)",presentationOnly:"var(--status-info)",forecastIgnore:"var(--text-muted)"},Jte=[{id:"sb-1",storeId:"FL-001",storeName:"BLICK Zrich HB",cluster:"Urban Premium",planningLevel:"productGroup",productGroupId:"pg-running-shoes",productGroupName:"Running Shoes",blockingType:"replenishmentOnly",validFrom:"2025-01-01",validTo:null,source:"direct",status:"active",reason:"Umbaumanahmen Schuh-Abteilung"},{id:"sb-2",storeId:"FL-003",storeName:"BLICK Basel SBB",planningLevel:"productGroup",productGroupId:"pg-outdoor-jackets",productGroupName:"Outdoor Jackets",blockingType:"full",validFrom:"2025-02-01",validTo:"2025-03-31",source:"direct",status:"active",reason:"Temporre Schlieung Outdoor-Bereich"},{id:"sb-3",storeId:"FL-002",storeName:"BLICK Bern Zentrum",cluster:"Urban Premium",planningLevel:"category",productGroupId:"category-schuhe",productGroupName:"Warengruppe Schuhe",blockingType:"presentationOnly",validFrom:"2024-12-15",validTo:"2025-02-28",source:"inherited",inheritedFrom:"Cluster Urban Premium Policy",status:"active"},{id:"sb-4",storeId:"FL-005",storeName:"BLICK Lausanne Centre",cluster:"Urban Standard",planningLevel:"productGroup",productGroupId:"pg-jeans",productGroupName:"Jeans",blockingType:"initialOnly",validFrom:"2025-01-15",validTo:"2025-06-30",source:"direct",status:"active",reason:"berkapazitt, kein Platz fr Neuware"}];function ere({onAddStore:e}){const[t,r]=k.useState(Jte),[n,i]=k.useState(""),[o,l]=k.useState(""),[u,d]=k.useState(""),[f,h]=k.useState(""),m=k.useMemo(()=>t.filter(x=>{if(n){const w=n.toLowerCase();if(!x.storeName.toLowerCase().includes(w)&&!x.productGroupName.toLowerCase().includes(w))return!1}return!(o&&x.storeId!==o||u&&x.blockingType!==u||f&&x.status!==f)}),[t,n,o,u,f]),v=x=>{switch(x){case"full":return a.jsx(pL,{size:16});case"initialOnly":return a.jsx(Wn,{size:16});case"replenishmentOnly":return a.jsx(Wn,{size:16});case"presentationOnly":return a.jsx(hB,{size:16});case"forecastIgnore":return a.jsx(Wn,{size:16})}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 rounded-lg flex items-start gap-3",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx(Wn,{size:20,style:{color:"var(--status-info)",flexShrink:0,marginTop:"2px"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:"Filialspezifische Einschrnkungen"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Definieren Sie Filialen- oder Cluster-spezifische Blockierungsregeln fr Produktgruppen. Diese Regeln verhindern Allokation, Nachschub oder Prsentation bestimmter Produktgruppen in ausgewhlten Filialen. Blockierungen werden in der Explainability-Ansicht als limitierende Faktoren angezeigt."})]})]}),a.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsxs("div",{className:"relative flex-1 max-w-xs",children:[a.jsx(Vr,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{type:"text",placeholder:"Filiale oder Produktgruppe suchen...",value:n,onChange:x=>i(x.target.value),className:"pl-10 pr-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("select",{value:u,onChange:x=>d(x.target.value),className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Blockierungstypen"}),Object.entries(D_).map(([x,w])=>a.jsx("option",{value:x,children:w},x))]}),a.jsxs("select",{value:f,onChange:x=>h(x.target.value),className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Status"}),a.jsx("option",{value:"active",children:"Aktiv"}),a.jsx("option",{value:"inactive",children:"Inaktiv"})]})]}),a.jsxs("button",{onClick:e,className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)",whiteSpace:"nowrap"},children:[a.jsx(ei,{size:16}),"Filiale hinzufgen"]})]})}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:"Blockierungsregeln"}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[m.length," ",m.length===1?"Regel":"Regeln"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"180px"},children:"Filiale / Cluster"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"120px"},children:"Planungsebene"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"180px"},children:"Produktgruppe"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"220px"},children:"Blockierungstyp"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"110px"},children:"Gltig von"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"110px"},children:"Gltig bis"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"150px"},children:"Herkunft"}),a.jsx("th",{style:{textAlign:"center",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"90px"},children:"Status"}),a.jsx("th",{style:{textAlign:"center",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"100px"},children:"Aktionen"})]})}),a.jsx("tbody",{children:m.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:9,style:{padding:"32px",textAlign:"center"},children:a.jsx("div",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Keine Blockierungsregeln gefunden"})})}):m.map(x=>a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)",borderLeft:x.blockingType==="full"?"3px solid var(--status-error)":x.blockingType==="initialOnly"||x.blockingType==="replenishmentOnly"?"3px solid var(--status-warning)":"none"},className:"hover:bg-surface-tint",children:[a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:x.storeName}),x.cluster&&a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"2px"},children:x.cluster})]})}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--status-success)15",color:"var(--status-success)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[x.planningLevel==="productGroup"&&"Produktgruppe",x.planningLevel==="category"&&"Warengruppe",x.planningLevel==="division"&&"Einkaufsbereich",x.planningLevel==="company"&&"Unternehmen"]})}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:x.productGroupName})}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{color:Qte[x.blockingType]},children:v(x.blockingType)}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:D_[x.blockingType]}),x.reason&&a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"2px"},children:x.reason})]})]})}),a.jsx("td",{style:{padding:"12px 8px",fontSize:"var(--font-size-sm)"},children:new Date(x.validFrom).toLocaleDateString("de-DE")}),a.jsx("td",{style:{padding:"12px 8px",fontSize:"var(--font-size-sm)"},children:x.validTo?new Date(x.validTo).toLocaleDateString("de-DE"):a.jsx("span",{style:{color:"var(--text-muted)"},children:"Unbegrenzt"})}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{children:[a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:x.source==="direct"?"var(--status-success)15":"var(--status-info)15",color:x.source==="direct"?"var(--status-success)":"var(--status-info)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:x.source==="direct"?"Direkt":"Geerbt"}),x.inheritedFrom&&a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:["von ",x.inheritedFrom]})]})}),a.jsx("td",{style:{padding:"12px 8px",textAlign:"center"},children:a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:x.status==="active"?"var(--status-success)":"var(--border-default)",color:x.status==="active"?"var(--text-inverse)":"var(--text-muted)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:x.status==="active"?"Aktiv":"Inaktiv"})}),a.jsx("td",{style:{padding:"12px 8px",textAlign:"center"},children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{className:"p-1 hover:bg-surface-tint rounded",title:"Bearbeiten",children:a.jsx($i,{size:16,style:{color:"var(--text-secondary)"}})}),a.jsx("button",{className:"p-1 hover:bg-surface-tint rounded",title:"Lschen",children:a.jsx($n,{size:16,style:{color:"var(--status-error)"}})})]})})]},x.id))})]})})]})]})}const R_={direct:"var(--status-success)",inherited:"var(--status-info)",default:"var(--text-muted)"},I_=[{id:"1",name:"Flchenbedarf pro Einheit",description:"Durchschnittlicher Prsentationsflchenbedarf je Stck.",level:"productGroup",value:.035,unit:"m",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"capacity",articleHierarchyScope:["pg-running-shoes","pg-casual-sneakers"]},{id:"2",name:"Flchenbedarf pro Grenlauf",description:"Zustzlicher Flchenbedarf fr vollstndige Grenlufe (LOTs).",level:"category",value:1.8,unit:"m",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"capacity",articleHierarchyScope:["category-schuhe"]},{id:"3",name:"Max. Flchennutzung je Artikel",description:"Obergrenze fr Artikelanteil an Gesamtflche.",level:"productGroup",value:2.5,unit:"m",type:"number",source:"inherited",inheritedFrom:"Warengruppe Shoes",validFrom:"2025-01-01",validTo:null,hasOverride:!0,category:"capacity",articleHierarchyScope:["pg-outdoor-jackets"]},{id:"4",name:"Min. Flchenanteil je Kategorie",description:"Garantierter Mindestflchenanteil.",level:"category",value:15,unit:"%",type:"percentage",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"capacity",articleHierarchyScope:["category-oberbekleidung"]},{id:"5",name:"Mindestprsentationsmenge",description:"Mindestmenge, um Artikel prsentieren zu drfen.",level:"productGroup",value:3,unit:"Stck",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"presentation",articleHierarchyScope:["pg-running-shoes"]},{id:"6",name:"Mindestmenge je Gre",description:"Mindestanzahl pro Gre fr vollstndige Darstellung.",level:"category",value:2,unit:"Stck",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"presentation",articleHierarchyScope:["category-schuhe","category-oberbekleidung"]},{id:"7",name:"Prsentationspflicht",description:"Artikel muss prsentiert werden, auch bei knapper Kapazitt.",level:"article",value:!0,type:"boolean",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"presentation"},{id:"8",name:"LOT-Zwang",description:"Allokation nur bei vollstndigem Grenlauf erlaubt.",level:"productGroup",value:!0,type:"boolean",source:"inherited",inheritedFrom:"Warengruppe Apparel",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"presentation",articleHierarchyScope:["pg-casual-sneakers","pg-outdoor-jackets"]},{id:"9",name:"Prsentationsdauer",description:"Dauer, ber die Artikel Flche blockiert.",level:"productGroup",value:8,unit:"Wochen",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"time",articleHierarchyScope:["pg-running-shoes","pg-outdoor-jackets"]},{id:"10",name:"Zeitliche Verteilungslogik",description:"Art der zeitlichen Verteilung der Kapazitt.",level:"category",value:"Gleichmig",type:"enum",enumValues:["Gleichmig","Frontloaded","Backloaded"],source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"time",articleHierarchyScope:["category-schuhe"]},{id:"11",name:"Lieferfenster-Toleranz",description:"Spielraum fr Simulationen.",level:"company",value:2,unit:"Wochen (+/-)",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"time",articleHierarchyScope:["division-bekleidung"]},{id:"12",name:"Allokationsprioritt",description:"Reihenfolge bei Kapazittskonflikten.",level:"productGroup",value:7,unit:"Rang (1-10)",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"logic",priority:7,articleHierarchyScope:["pg-running-shoes"]},{id:"13",name:"Kapazittsgewichtung",description:"Wie stark Kapazitt den Algorithmus beeinflusst.",level:"category",value:60,unit:"%",type:"percentage",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"logic",articleHierarchyScope:["category-oberbekleidung"]},{id:"14",name:"Strategische Kategorie",description:"Kategorie wird bevorzugt behandelt.",level:"category",value:!0,type:"boolean",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"logic",articleHierarchyScope:["category-schuhe","category-oberbekleidung"]},{id:"15",name:"Forecast-Gewichtung",description:"Einfluss der Absatzprognose.",level:"category",value:40,unit:"%",type:"percentage",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"forecast",articleHierarchyScope:["category-schuhe"]},{id:"16",name:"KPI-Fokus",description:"Primrer KPI fr Optimierung.",level:"division",value:"Abverkauf",type:"enum",enumValues:["Abverkauf","Marge","Lagerumschlag","Flchenproduktivitt"],source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"forecast",articleHierarchyScope:["division-bekleidung"]},{id:"17",name:"Max. Override-Ebene",description:"Tiefste Ebene fr manuelle Overrides.",level:"company",value:"Artikel",type:"enum",enumValues:["Produktgruppe","Artikel","Keine Overrides"],source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"governance"},{id:"18",name:"Genehmigungspflicht bei Abweichung",description:"Override muss genehmigt werden.",level:"company",value:!0,type:"boolean",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"governance"},{id:"19",name:"Max. zulssige Kapazittsabweichung",description:"Grenze fr Simulation & Freigabe.",level:"company",value:15,unit:"%",type:"percentage",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"governance",articleHierarchyScope:["division-bekleidung"]}];function tre(){const{t:e}=br(),t=[{key:"capacity",label:e.parameters.capacityTab},{key:"presentation",label:e.parameters.presentationTab},{key:"time",label:e.parameters.timeTab},{key:"logic",label:e.parameters.logicTab},{key:"forecast",label:e.parameters.forecastTab},{key:"governance",label:e.parameters.governanceTab},{key:"storeBlocking",label:e.parameters.storeBlockingTab}],r={direct:e.parameters.directlyManaged,inherited:e.parameters.inheritedSource,default:e.parameters.defaultSystem},n=[{value:"company",label:e.parameters.company},{value:"division",label:e.parameters.division},{value:"category",label:e.parameters.categoryLevel},{value:"productGroup",label:e.parameters.productGroup},{value:"article",label:e.parameters.article}];e.common.all+""+e.common.inactive,e.parameters.initialAllocation+""+e.common.inactive,e.parameters.replenishment+""+e.common.inactive,e.common.inactive,e.common.inactive;const[i,o]=k.useState("capacity"),[l,u]=k.useState(I_),[d,f]=k.useState(!0);k.useEffect(()=>{(async()=>{f(!0);try{const Oe=(await Xa.getParameters()).map(je=>({id:je.id,name:je.name||je.key||"",description:je.description||"",level:je.level||"company",value:je.value,unit:je.unit,type:je.type||"number",enumValues:je.enumValues,source:je.source||"default",inheritedFrom:je.inheritedFrom,validFrom:je.validFrom||new Date().toISOString(),validTo:je.validTo||null,hasOverride:je.hasOverride||!1,category:je.category||"capacity",priority:je.priority,articleHierarchyScope:je.articleHierarchyScope,planningLevel:je.planningLevel}));u(Oe)}catch(ee){console.error("Failed to load parameters:",ee),u(I_)}finally{f(!1)}})()},[]);const[h,m]=k.useState(null),[v,x]=k.useState(!1),[w,b]=k.useState(null),[y,j]=k.useState(""),[A,S]=k.useState(""),[N,z]=k.useState(""),[O,_]=k.useState(""),[E,T]=k.useState(""),[B,R]=k.useState(!1),[F,K]=k.useState([]),[H,M]=k.useState(!1),[$,U]=k.useState([]),[I,Q]=k.useState(!1),[L,W]=k.useState({name:"",description:"",level:"company",value:"",unit:"",type:"number",source:"direct",category:"capacity",validFrom:new Date().toISOString().split("T")[0],validTo:""}),X=q=>{K(q),U(q)},se=()=>{M(!0)},de=q=>{M(!1)},ge=()=>{if(!L.name?.trim())return;const q={id:`param-${Date.now()}`,name:L.name||"",description:L.description||"",level:L.level||"company",value:L.type==="number"?parseFloat(L.value)||0:L.type==="boolean"?L.value==="true":L.value||"",unit:L.unit||"",type:L.type||"number",source:"direct",category:i,validFrom:L.validFrom||new Date().toISOString().split("T")[0],validTo:L.validTo,hasOverride:!1};u(ee=>[q,...ee]),Q(!1),W({name:"",description:"",level:"company",value:"",unit:"",type:"number",source:"direct",category:i,validFrom:new Date().toISOString().split("T")[0],validTo:""})},xe=k.useMemo(()=>l.filter(q=>!(q.category!==i||y&&q.level!==y||N&&!q.name.toLowerCase().includes(N.toLowerCase())||$.length>0&&q.articleHierarchyScope&&!$.some(Oe=>q.articleHierarchyScope?.includes(Oe))||A&&(A==="active"&&q.validTo!==null||A==="inactive"&&q.validTo===null||A==="overridden"&&!q.hasOverride||A==="inherited"&&q.source!=="inherited"))),[l,i,y,A,N,$]),ne=(q,ee)=>{u(Oe=>Oe.map(je=>je.id===q?{...je,value:ee}:je))},ie=q=>{m(q),x(!0)},ce=(q,ee=US)=>{for(const Oe of ee){if(Oe.id===q)return Oe;if(Oe.children){const je=ce(q,Oe.children);if(je)return je}}return null},fe=q=>{if(w===q.id)switch(q.type){case"boolean":return a.jsxs("select",{value:q.value?"true":"false",onChange:ee=>ne(q.id,ee.target.value==="true"),onBlur:()=>b(null),autoFocus:!0,className:"px-2 py-1 border rounded",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"true",children:e.common.yes}),a.jsx("option",{value:"false",children:e.common.no})]});case"enum":return a.jsx("select",{value:q.value,onChange:ee=>ne(q.id,ee.target.value),onBlur:()=>b(null),autoFocus:!0,className:"px-2 py-1 border rounded",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"},children:q.enumValues?.map(ee=>a.jsx("option",{value:ee,children:ee},ee))});case"number":case"percentage":return a.jsx("input",{type:"number",value:q.value,onChange:ee=>ne(q.id,parseFloat(ee.target.value)),onBlur:()=>b(null),autoFocus:!0,step:q.type==="percentage"?1:.001,className:"px-2 py-1 border rounded w-24",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"}});default:return a.jsx("input",{type:"text",value:q.value,onChange:ee=>ne(q.id,ee.target.value),onBlur:()=>b(null),autoFocus:!0,className:"px-2 py-1 border rounded",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"}})}return q.type==="boolean"?a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:q.value?"var(--status-success)":"var(--border-default)",color:q.value?"var(--text-inverse)":"var(--text-muted)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:q.value?"Ja":"Nein"}):a.jsxs("span",{style:{fontSize:"var(--font-size-sm)"},children:[q.value,q.unit&&` ${q.unit}`]})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[a.jsx("span",{children:"Einstellungen"}),a.jsx(fn,{size:16}),a.jsx("span",{children:e.parameters.title})]}),a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:e.parameters.title}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)",maxWidth:"800px"},children:e.parameters.subtitle})]})}),a.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsxs("div",{className:"relative flex-1 max-w-xs",children:[a.jsx(Vr,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{type:"text",placeholder:"Parameter suchen...",value:N,onChange:q=>z(q.target.value),className:"pl-10 pr-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("select",{value:y,onChange:q=>j(q.target.value),className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Ebenen"}),n.map(q=>a.jsx("option",{value:q.value,children:q.label},q.value))]}),a.jsxs("select",{value:A,onChange:q=>S(q.target.value),className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:e.parameters.allStatus}),a.jsx("option",{value:"active",children:e.parameters.active}),a.jsx("option",{value:"inactive",children:e.parameters.inactive}),a.jsx("option",{value:"overridden",children:e.parameters.overridden}),a.jsx("option",{value:"inherited",children:e.parameters.inherited})]}),a.jsxs("button",{onClick:()=>R(!0),className:"px-3 py-2 border rounded-lg flex items-center gap-2 whitespace-nowrap",style:{borderColor:$.length>0?"var(--brand-primary)":"var(--border-input)",height:"var(--height-input-md)",backgroundColor:$.length>0?"var(--surface-info-subtle)":"var(--surface-page)",fontSize:"var(--font-size-sm)",color:$.length>0?"var(--brand-primary)":"var(--text-secondary)"},children:[a.jsx(u1,{size:16}),a.jsx("span",{children:$.length===0?"Artikelhierarchie":`${$.length} Ebene${$.length!==1?"n":""}`}),$.length>0&&a.jsx(Ct,{size:14,onClick:q=>{q.stopPropagation(),U([]),K([])},className:"hover:bg-surface-tint rounded-full p-0.5"})]}),a.jsx("input",{type:"date",placeholder:e.parameters.validFrom,value:O,onChange:q=>_(q.target.value),className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}}),a.jsx("input",{type:"date",placeholder:e.parameters.validTo,value:E,onChange:q=>T(q.target.value),className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("button",{onClick:()=>Q(!0),className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)",whiteSpace:"nowrap"},children:[a.jsx(ei,{size:16}),e.parameters.newParameter]})]})}),a.jsx("div",{className:"sticky top-0 z-10 border-b",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsx("div",{className:"flex gap-1",children:t.map(q=>a.jsx("button",{onClick:()=>o(q.key),className:"px-4 py-3 relative",style:{color:i===q.key?"var(--brand-primary)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:i===q.key?"var(--font-weight-semibold)":"var(--font-weight-medium)",backgroundColor:"transparent",borderBottom:i===q.key?"2px solid var(--brand-primary)":"none"},children:q.label},q.key))})}),i==="storeBlocking"?a.jsx(ere,{onAddStore:se}):a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:t.find(q=>q.key===i)?.label}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[xe.length," Parameter"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"200px"},children:e.parameters.parameterName}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"120px"},children:e.parameters.levels}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"180px"},children:e.parameters.articleHierarchy}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"150px"},children:e.parameters.value}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"180px"},children:e.parameters.source}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"110px"},children:e.parameters.validFrom}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"110px"},children:e.parameters.validTo}),a.jsx("th",{style:{textAlign:"center",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"80px"},children:e.parameters.override}),a.jsx("th",{style:{textAlign:"center",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"100px"},children:e.parameters.actions})]})}),a.jsx("tbody",{children:xe.map(q=>a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},className:"hover:bg-surface-tint",children:[a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:q.name}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"2px"},children:q.description})]})}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:n.find(ee=>ee.value===q.level)?.label})}),a.jsx("td",{style:{padding:"12px 8px"},children:q.articleHierarchyScope&&q.articleHierarchyScope.length>0?a.jsxs("div",{className:"flex flex-wrap gap-1",children:[q.articleHierarchyScope.slice(0,2).map(ee=>{const Oe=ce(ee);return Oe?a.jsx("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--text-primary)",fontSize:"var(--font-size-xs)",whiteSpace:"nowrap"},title:Oe.label,children:Oe.label.length>20?`${Oe.label.substring(0,20)}...`:Oe.label},ee):null}),q.articleHierarchyScope.length>2&&a.jsxs("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:"var(--surface-subtle-tint)",color:"var(--text-muted)",fontSize:"var(--font-size-xs)"},children:["+",q.articleHierarchyScope.length-2]})]}):a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Alle"})}),a.jsx("td",{style:{padding:"12px 8px",cursor:"pointer"},onClick:()=>b(q.id),children:fe(q)}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{children:[a.jsx("span",{className:"px-2 py-1 rounded inline-flex items-center gap-1",style:{backgroundColor:`${R_[q.source]}15`,color:R_[q.source],fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:r[q.source]}),q.inheritedFrom&&a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:[e.parameters.inheritedFrom,": ",q.inheritedFrom]})]})}),a.jsx("td",{style:{padding:"12px 8px",fontSize:"var(--font-size-sm)"},children:new Date(q.validFrom).toLocaleDateString("de-DE")}),a.jsx("td",{style:{padding:"12px 8px",fontSize:"var(--font-size-sm)"},children:q.validTo?new Date(q.validTo).toLocaleDateString("de-DE"):a.jsx("span",{style:{color:"var(--text-muted)"},children:""})}),a.jsx("td",{style:{padding:"12px 8px",textAlign:"center"},children:q.hasOverride&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--status-warning)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Override"})}),a.jsx("td",{style:{padding:"12px 8px",textAlign:"center"},children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:()=>b(q.id),className:"p-1 hover:bg-surface-tint rounded",title:"Bearbeiten",children:a.jsx($i,{size:16,style:{color:"var(--text-secondary)"}})}),a.jsx("button",{onClick:()=>ie(q),className:"p-1 hover:bg-surface-tint rounded",title:"Details anzeigen",children:a.jsx(dL,{size:16,style:{color:"var(--text-secondary)"}})})]})})]},q.id))})]})})]}),v&&h&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:()=>x(!1),children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-3xl max-h-[80vh] overflow-y-auto",style:{boxShadow:"var(--shadow-lg)"},onClick:q=>q.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b flex items-start justify-between sticky top-0 bg-white",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:h.name}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:h.description})]}),a.jsx("button",{onClick:()=>x(!1),className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Ct,{size:20,style:{color:"var(--text-muted)"}})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Aktueller Wert"}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-subtle-tint)"},children:a.jsxs("div",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)"},children:[h.type==="boolean"?h.value?"Ja":"Nein":h.value,h.unit&&a.jsx("span",{style:{fontSize:"var(--font-size-md)",color:"var(--text-muted)",marginLeft:"4px"},children:h.unit})]})})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Vererbungsbaum"}),a.jsx("div",{className:"space-y-2",children:n.map((q,ee)=>a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg",style:{backgroundColor:q.value===h.level?"var(--surface-info-subtle)":"var(--surface-subtle-tint)",borderLeft:q.value===h.level?"3px solid var(--brand-primary)":"none",marginLeft:`${ee*16}px`},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:q.label}),q.value===h.level&&a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Definiert hier"})]}),q.value===h.level&&a.jsx(ci,{size:16,style:{color:"var(--brand-primary)",marginLeft:"auto"}})]},q.value))})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:e.parameters.source}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:e.parameters.source}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:r[h.source]})]}),h.inheritedFrom&&a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:e.parameters.inheritedFrom}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:h.inheritedFrom})]})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:[e.parameters.validFrom," / ",e.parameters.validTo]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:e.parameters.validFrom}),a.jsx("input",{type:"date",value:h.validFrom,className:"px-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"}})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:e.parameters.validTo}),a.jsx("input",{type:"date",value:h.validTo||"",placeholder:"",className:"px-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"}})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Override-Verwaltung"}),a.jsxs("div",{className:"p-4 rounded-lg flex items-center justify-between",style:{backgroundColor:h.hasOverride?"var(--surface-warning-subtle)":"var(--surface-subtle-tint)",border:h.hasOverride?"1px solid var(--border-warning)":"none"},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Override Status"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:h.hasOverride?"Parameter wird berschrieben":"Kein Override aktiv"})]}),a.jsx("button",{className:"px-4 py-2 rounded-lg border",style:{backgroundColor:h.hasOverride?"var(--button-danger-bg)":"var(--button-secondary-bg)",borderColor:h.hasOverride?"var(--button-danger-border)":"var(--button-secondary-border)",color:h.hasOverride?"var(--button-danger-text)":"var(--button-secondary-text)",height:"var(--height-button-md)"},children:h.hasOverride?"Override entfernen":"Override setzen"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(m0,{size:16}),"nderungshistorie"]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--surface-subtle-tint)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Aktuell"}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:new Date().toLocaleDateString("de-DE")})]}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)"},children:["Wert: ",h.type==="boolean"?h.value?"Ja":"Nein":h.value,h.unit&&` ${h.unit}`]})]}),a.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--surface-subtle-tint)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Version 1"}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"01.01.2025"})]}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Initiale Parameterdefinition"})]})]})]})]}),a.jsxs("div",{className:"p-6 border-t flex items-center justify-end gap-3 sticky bottom-0 bg-white",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:e.common.close}),a.jsx("button",{className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:e.common.save})]})]})}),I&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:()=>Q(!1),children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-lg",style:{boxShadow:"var(--shadow-lg)"},onClick:q=>q.stopPropagation(),children:[a.jsxs("div",{className:"p-4 border-b flex items-center justify-between",style:{borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:e.parameters.newParameter}),a.jsx("button",{onClick:()=>Q(!1),className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Ct,{size:20,style:{color:"var(--text-muted)"}})})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:e.parameters.name}),a.jsx("input",{type:"text",value:L.name||"",onChange:q=>W(ee=>({...ee,name:q.target.value})),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)"},placeholder:"Parameter Name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:e.parameters.description}),a.jsx("textarea",{value:L.description||"",onChange:q=>W(ee=>({...ee,description:q.target.value})),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)"},rows:2,placeholder:"Beschreibung"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:e.parameters.level}),a.jsx("select",{value:L.level||"company",onChange:q=>W(ee=>({...ee,level:q.target.value})),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)"},children:n.map(q=>a.jsx("option",{value:q.value,children:q.label},q.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:e.parameters.type}),a.jsxs("select",{value:L.type||"number",onChange:q=>W(ee=>({...ee,type:q.target.value})),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)"},children:[a.jsx("option",{value:"number",children:"Zahl"}),a.jsx("option",{value:"percentage",children:"Prozent"}),a.jsx("option",{value:"boolean",children:"Ja/Nein"}),a.jsx("option",{value:"text",children:"Text"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:e.parameters.value}),L.type==="boolean"?a.jsxs("select",{value:L.value?.toString()||"false",onChange:q=>W(ee=>({...ee,value:q.target.value})),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)"},children:[a.jsx("option",{value:"true",children:"Ja"}),a.jsx("option",{value:"false",children:"Nein"})]}):a.jsx("input",{type:L.type==="number"||L.type==="percentage"?"number":"text",value:L.value||"",onChange:q=>W(ee=>({...ee,value:q.target.value})),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)"},placeholder:"Wert"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:e.parameters.unit}),a.jsx("input",{type:"text",value:L.unit||"",onChange:q=>W(ee=>({...ee,unit:q.target.value})),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)"},placeholder:"z.B. m, %, Stck"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:e.parameters.validFrom}),a.jsx("input",{type:"date",value:L.validFrom||"",onChange:q=>W(ee=>({...ee,validFrom:q.target.value})),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)"}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:e.parameters.validTo}),a.jsx("input",{type:"date",value:L.validTo||"",onChange:q=>W(ee=>({...ee,validTo:q.target.value})),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)"}})]})]})]}),a.jsxs("div",{className:"p-4 border-t flex justify-end gap-2",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>Q(!1),className:"px-4 py-2 rounded-lg border",style:{borderColor:"var(--border-default)"},children:e.common.cancel}),a.jsx("button",{onClick:ge,disabled:!L.name?.trim(),className:"px-4 py-2 rounded-lg",style:{backgroundColor:L.name?.trim()?"var(--button-primary-bg)":"var(--surface-disabled)",color:L.name?.trim()?"var(--button-primary-text)":"var(--text-disabled)"},children:e.common.create})]})]})}),a.jsx(g0,{isOpen:H,onClose:()=>M(!1),title:"Filiale fr Blockierungsregel auswhlen",availableLocations:[],selectedLocations:[],onConfirm:de}),a.jsx(Yte,{isOpen:B,onClose:()=>R(!1),selectedNodes:F,onConfirm:X,title:"Artikelhierarchie auswhlen",description:"Whlen Sie die Artikelhierarchieebenen aus, fr die Sie Parameter filtern mchten"})]})}const rre={confirm:{icon:EL,color:"var(--brand-primary)",bgColor:"var(--brand-primary-light)"},danger:{icon:$n,color:"var(--status-danger)",bgColor:"var(--status-danger-light)"},warning:{icon:Mt,color:"var(--status-warning)",bgColor:"var(--status-warning-light)"},info:{icon:Zt,color:"var(--status-info)",bgColor:"var(--status-info-light)"},success:{icon:Rr,color:"var(--status-success)",bgColor:"var(--status-success-light)"}};function nre({isOpen:e,onClose:t,onConfirm:r,title:n,message:i,type:o="confirm",confirmText:l="Besttigen",cancelText:u="Abbrechen",showCancel:d=!0,loading:f=!1}){if(!e)return null;const h=rre[o],m=h.icon,v=()=>{r(),f||t()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t,children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4 overflow-hidden",onClick:x=>x.stopPropagation(),children:[a.jsx("div",{className:"p-6 pb-4",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 rounded-full flex-shrink-0",style:{background:h.bgColor},children:a.jsx(m,{size:24,style:{color:h.color}})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-lg mb-1",style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:n}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:i})]})]})}),a.jsxs("div",{className:"flex gap-3 p-4 pt-0",style:{justifyContent:d?"flex-end":"center"},children:[d&&a.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg transition-colors",style:{border:"1px solid var(--border-default)",background:"var(--surface-page)",color:"var(--text-primary)"},disabled:f,children:u}),a.jsxs("button",{onClick:v,className:"px-4 py-2 rounded-lg transition-colors flex items-center gap-2",style:{background:o==="danger"?"var(--status-danger)":"var(--brand-primary)",color:"white"},disabled:f,children:[f&&a.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l]})]})]})})}function are({isOpen:e,onClose:t,onExport:r,title:n="Daten exportieren",filename:i="export"}){const[o,l]=k.useState("csv"),[u,d]=k.useState(!0);if(!e)return null;const f=()=>{r(o,{includeHeaders:u}),t()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t,children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full mx-4 overflow-hidden",onClick:h=>h.stopPropagation(),children:[a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg mb-4",style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:n}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm mb-2",style:{fontWeight:"var(--font-weight-medium)"},children:"Export-Format"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:["csv","excel","json"].map(h=>a.jsx("button",{onClick:()=>l(h),className:"px-3 py-2 rounded-lg text-sm transition-colors",style:{border:`2px solid ${o===h?"var(--brand-primary)":"var(--border-default)"}`,background:o===h?"var(--brand-primary-light)":"var(--surface-page)",fontWeight:o===h?"var(--font-weight-medium)":"normal"},children:h.toUpperCase()},h))})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:u,onChange:h=>d(h.target.checked),className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Spaltenberschriften einschlieen"})]})}),a.jsxs("div",{className:"p-3 rounded-lg mb-4",style:{background:"var(--surface-page)"},children:[a.jsx("span",{className:"text-sm",style:{color:"var(--text-muted)"},children:"Dateiname: "}),a.jsxs("span",{className:"text-sm font-mono",children:[i,".",o==="excel"?"xlsx":o]})]})]}),a.jsxs("div",{className:"flex gap-3 p-4 pt-0 justify-end",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg",style:{border:"1px solid var(--border-default)",background:"var(--surface-page)"},children:"Abbrechen"}),a.jsx("button",{onClick:f,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{background:"var(--brand-primary)",color:"white"},children:"Exportieren"})]})]})})}const ire=[{month:"Jan",target:4500,actual:4200,over:0,under:300},{month:"Feb",target:4500,actual:4800,over:300,under:0},{month:"Mr",target:4800,actual:4600,over:0,under:200},{month:"Apr",target:5e3,actual:5300,over:300,under:0},{month:"Mai",target:5e3,actual:4700,over:0,under:300},{month:"Jun",target:4800,actual:4900,over:100,under:0},{month:"Jul",target:4500,actual:4400,over:0,under:100},{month:"Aug",target:4500,actual:4600,over:100,under:0},{month:"Sep",target:4800,actual:5100,over:300,under:0},{month:"Okt",target:5200,actual:5e3,over:0,under:200},{month:"Nov",target:5500,actual:5400,over:0,under:100},{month:"Dez",target:5500,actual:5600,over:100,under:0}],ore=[{category:"Schuhe",deviation:450,color:"#ef4444"},{category:"Oberbekleidung",deviation:-280,color:"#3b82f6"},{category:"Hosen",deviation:120,color:"#ef4444"},{category:"Accessoires",deviation:-150,color:"#3b82f6"},{category:"Sport Equipment",deviation:200,color:"#ef4444"},{category:"Unterwsche",deviation:-90,color:"#3b82f6"}],sre=[{month:"Jan",storeStock:2200,warehouseStock:3500,demand:4800},{month:"Feb",storeStock:2400,warehouseStock:3800,demand:5200},{month:"Mr",storeStock:2100,warehouseStock:3200,demand:4500},{month:"Apr",storeStock:2600,warehouseStock:4200,demand:5800},{month:"Mai",storeStock:2500,warehouseStock:4e3,demand:5500},{month:"Jun",storeStock:2300,warehouseStock:3700,demand:5e3}],lre=[{month:"Jan",forecast:4500,allocated:4200,sales:3900},{month:"Feb",forecast:5e3,allocated:4800,sales:4500},{month:"Mr",forecast:4800,allocated:4600,sales:4300},{month:"Apr",forecast:5500,allocated:5300,sales:5e3},{month:"Mai",forecast:5200,allocated:4700,sales:4400},{month:"Jun",forecast:4900,allocated:4900,sales:4600}],Fc=[{size:"36",forecast:8,allocated:10,sales:9},{size:"37",forecast:12,allocated:13,sales:12},{size:"38",forecast:18,allocated:17,sales:18},{size:"39",forecast:22,allocated:20,sales:21},{size:"40",forecast:20,allocated:19,sales:20},{size:"41",forecast:15,allocated:14,sales:13},{size:"42",forecast:12,allocated:11,sales:10},{size:"43",forecast:10,allocated:9,sales:8},{size:"44",forecast:8,allocated:7,sales:7},{size:"45",forecast:6,allocated:5,sales:5},{size:"46",forecast:4,allocated:3,sales:3},{size:"47",forecast:3,allocated:2,sales:2}],cre=[{article:"Running Schuhe Pro",category:"Schuhe",season:"FS25",targetCapacity:450,actualCapacity:520,overCapacity:70,underCapacity:0,forecast:2400,allocated:2200,storeStock:850,warehouseStock:1350,demand:2100,sizeDeviation:8.5,exceptionCount:3},{article:"Winter Jacke Premium",category:"Oberbekleidung",season:"HW25",targetCapacity:380,actualCapacity:340,overCapacity:0,underCapacity:40,forecast:1800,allocated:1650,storeStock:620,warehouseStock:1030,demand:1750,sizeDeviation:12.3,exceptionCount:5},{article:"Sport T-Shirt Basic",category:"Oberbekleidung",season:"FS25",targetCapacity:280,actualCapacity:290,overCapacity:10,underCapacity:0,forecast:3200,allocated:3150,storeStock:1200,warehouseStock:1950,demand:3100,sizeDeviation:3.2,exceptionCount:0},{article:"Jeans Slim Fit",category:"Hosen",season:"FS25",targetCapacity:320,actualCapacity:350,overCapacity:30,underCapacity:0,forecast:1900,allocated:1850,storeStock:700,warehouseStock:1150,demand:1800,sizeDeviation:5.7,exceptionCount:2},{article:"Rucksack Urban",category:"Accessoires",season:"FS25",targetCapacity:180,actualCapacity:160,overCapacity:0,underCapacity:20,forecast:1200,allocated:1100,storeStock:420,warehouseStock:680,demand:1150,sizeDeviation:0,exceptionCount:1},{article:"Fuball",category:"Sport Equipment",season:"FS25",targetCapacity:220,actualCapacity:260,overCapacity:40,underCapacity:0,forecast:1500,allocated:1450,storeStock:550,warehouseStock:900,demand:1420,sizeDeviation:0,exceptionCount:0}];function ure({onNavigate:e}){const{t}=br(),[r,n]=k.useState("all"),[i,o]=k.useState("all"),[l,u]=k.useState("all"),[d,f]=k.useState(""),[h,m]=k.useState(""),[v,x]=k.useState("absolute"),[w,b]=k.useState(null),y=k.useMemo(()=>[{category:t.data.categories.shoes,deviation:450,color:"#ef4444",key:"shoes"},{category:t.data.categories.outerwear,deviation:-280,color:"#3b82f6",key:"outerwear"},{category:t.data.categories.pants,deviation:120,color:"#ef4444",key:"pants"},{category:t.data.categories.accessories,deviation:-150,color:"#3b82f6",key:"accessories"},{category:t.data.categories.sportEquipment,deviation:200,color:"#ef4444",key:"sportEquipment"},{category:t.data.categories.underwear,deviation:-90,color:"#3b82f6",key:"underwear"}],[t]),j=k.useMemo(()=>[{value:"shoes",label:t.data.categories.shoes},{value:"outerwear",label:t.data.categories.outerwear},{value:"pants",label:t.data.categories.pants},{value:"accessories",label:t.data.categories.accessories},{value:"sportEquipment",label:t.data.categories.sportEquipment}],[t]),A=k.useMemo(()=>[{value:"FS25",label:t.data.seasons.fs25},{value:"HW25",label:t.data.seasons.hw25},{value:"FS26",label:t.data.seasons.fs26}],[t]),S=k.useMemo(()=>[{value:"initial",label:t.data.processes.initial},{value:"replenishment",label:t.data.processes.replenishment}],[t]),N=k.useMemo(()=>cre.filter(M=>!(r!=="all"&&M.season!==r||l!=="all"&&M.category!==l)),[r,l]),z=k.useMemo(()=>{const M=N.reduce((se,de)=>se+de.targetCapacity,0),$=N.reduce((se,de)=>se+de.actualCapacity,0),U=N.reduce((se,de)=>se+de.overCapacity,0),I=N.reduce((se,de)=>se+de.underCapacity,0),Q=N.reduce((se,de)=>se+de.forecast,0),L=N.reduce((se,de)=>se+de.allocated,0),W=M>0?$/M*100:0,X=Q>0?L/Q*100:0;return{targetCapacity:M,utilization:W,overCapacity:U,underCapacity:I,forecastCoverage:X}},[N]),O=k.useMemo(()=>{if(v==="absolute")return Fc;const M=Fc.reduce((I,Q)=>I+Q.forecast,0),$=Fc.reduce((I,Q)=>I+Q.allocated,0),U=Fc.reduce((I,Q)=>I+Q.sales,0);return Fc.map(I=>({size:I.size,forecast:I.forecast/M*100,allocated:I.allocated/$*100,sales:I.sales/U*100}))},[v]),[_,E]=k.useState(!1),[T,B]=k.useState(!1),R=f1(),F=(M,$)=>{const U=N.map(de=>({[t.analytics.article]:de.article,[t.analytics.category]:de.category,[t.analytics.season]:de.season,[t.analytics.targetCapacity]:de.targetCapacity,[t.analytics.actual]:de.actualCapacity,[t.analytics.overCapacityTotal]:de.overCapacity,[t.analytics.underCapacityTotal]:de.underCapacity}));let I,Q,L;if(M==="json")I=JSON.stringify(U,null,2),Q="application/json",L="json";else if(M==="csv"){const de=$.includeHeaders?Object.keys(U[0]||{}).join(";")+`
`:"",ge=U.map(xe=>Object.values(xe).join(";")).join(`
`);I=de+ge,Q="text/csv",L="csv"}else{const de=$.includeHeaders?Object.keys(U[0]||{}).join("	")+`
`:"",ge=U.map(xe=>Object.values(xe).join("	")).join(`
`);I="\uFEFF"+de+ge,Q="application/vnd.ms-excel",L="xls"}const W=new Blob([I],{type:Q}),X=URL.createObjectURL(W),se=document.createElement("a");se.href=X,se.download=`analytics_export_${new Date().toISOString().split("T")[0]}.${L}`,se.click(),URL.revokeObjectURL(X),R.success("Export erfolgreich",`${N.length} Datenstze als ${M.toUpperCase()} exportiert.`)},K=()=>{const M={filterCategory:l,filterSeason:r,filterProcess:i,filterDateFrom:d,filterDateTo:h,savedAt:new Date().toISOString()};localStorage.setItem("analytics_saved_view",JSON.stringify(M)),R.success(t.analytics.saveView,"Ihre Filtereinstellungen wurden gespeichert.")},H=[{key:"article",label:t.analytics.article,sortable:!0,render:M=>a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:M})},{key:"category",label:t.analytics.category,sortable:!0},{key:"season",label:t.analytics.season,sortable:!0},{key:"targetCapacity",label:t.analytics.targetCapacity+" (m)",align:"right",sortable:!0},{key:"actualCapacity",label:t.analytics.actual+" (m)",align:"right",sortable:!0,render:(M,$)=>a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:$.overCapacity>0?"#ef4444":$.underCapacity>0?"#3b82f6":"inherit"},children:M})},{key:"overCapacity",label:t.analytics.overCapacityTotal+" (m)",align:"right",sortable:!0,render:M=>M>0?a.jsxs("span",{style:{color:"#ef4444",fontWeight:"var(--font-weight-medium)"},children:["+",M]}):"-"},{key:"underCapacity",label:t.analytics.underCapacityTotal+" (m)",align:"right",sortable:!0,render:M=>M>0?a.jsxs("span",{style:{color:"#3b82f6",fontWeight:"var(--font-weight-medium)"},children:["-",M]}):"-"},{key:"forecast",label:t.analytics.forecastQuantity,align:"right",sortable:!0},{key:"allocated",label:t.analytics.allocatedQuantity,align:"right",sortable:!0,render:M=>a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)"},children:M})},{key:"storeStock",label:t.analytics.storeStock,align:"right",sortable:!0},{key:"warehouseStock",label:t.analytics.warehouseStock,align:"right",sortable:!0},{key:"demand",label:t.analytics.demand,align:"right",sortable:!0},{key:"sizeDeviation",label:t.analytics.sizeDeviation,align:"right",sortable:!0,render:M=>M>0?`${M}%`:"-"},{key:"exceptionCount",label:t.analytics.exceptionCount,align:"right",sortable:!0,render:M=>M>0?a.jsx("span",{className:"px-2 py-1 rounded-full",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:M}):a.jsx("span",{style:{color:"var(--text-muted)"},children:"-"})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[a.jsx("span",{children:"Analytics"}),a.jsx("span",{children:""}),a.jsx("span",{children:"Allocation & Capacity"})]}),a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:t.analytics.title}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:t.analytics.subtitle})]}),a.jsx("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 grid grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:t.analytics.dateFrom}),a.jsx("input",{type:"date",value:d,onChange:M=>f(M.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:t.analytics.dateTo}),a.jsx("input",{type:"date",value:h,onChange:M=>m(M.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:t.analytics.season}),a.jsxs("select",{value:r,onChange:M=>n(M.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"all",children:t.common.all}),A.map(M=>a.jsx("option",{value:M.value,children:M.label},M.value))]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:t.exceptionsScreen.process}),a.jsxs("select",{value:i,onChange:M=>o(M.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"all",children:t.common.all}),S.map(M=>a.jsx("option",{value:M.value,children:M.label},M.value))]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:t.analytics.category}),a.jsxs("select",{value:l,onChange:M=>u(M.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"all",children:t.common.all}),j.map(M=>a.jsx("option",{value:M.value,children:M.label},M.value))]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>E(!0),className:"px-4 py-2 rounded-lg border flex items-center gap-2 hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(oa,{size:16}),"Export"]}),a.jsxs("button",{onClick:K,className:"px-4 py-2 rounded-lg border flex items-center gap-2 hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(Fo,{size:16}),t.analytics.saveView]})]})]})}),a.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:t.analytics.targetCapacity}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)"},children:[z.targetCapacity.toLocaleString("de-DE")," m"]})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:t.analytics.actualCapacityUtilization}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:z.utilization>105?"#ef4444":z.utilization<95?"#3b82f6":"#10b981"},children:[z.utilization.toFixed(1),"%"]})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:t.analytics.overCapacityTotal}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"#ef4444"},children:["+",z.overCapacity," m"]})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:t.analytics.underCapacityTotal}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"#3b82f6"},children:["-",z.underCapacity," m"]})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:t.analytics.forecastCoverage}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)"},children:[z.forecastCoverage.toFixed(1),"%"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:"Allokiert vs. Forecast"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:t.analytics.capacityTargetVsActual}),a.jsx(lr,{width:"100%",height:300,minWidth:0,minHeight:0,children:a.jsxs(zee,{data:ire,children:[a.jsx(la,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(Ot,{dataKey:"month",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(_t,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(gt,{}),a.jsx(Lt,{}),a.jsx(oi,{type:"monotone",dataKey:"over",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.3,name:t.analytics.overCapacity}),a.jsx(oi,{type:"monotone",dataKey:"under",stackId:"2",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3,name:t.analytics.underCapacity}),a.jsx(dn,{type:"monotone",dataKey:"target",stroke:"#94a3b8",strokeDasharray:"5 5",strokeWidth:2,name:t.analytics.target,dot:!1}),a.jsx(dn,{type:"monotone",dataKey:"actual",stroke:"#2563eb",strokeWidth:2,name:t.analytics.actual})]})})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:t.analytics.overUnderByCategory}),a.jsx(lr,{width:"100%",height:300,minWidth:0,minHeight:0,children:a.jsxs(Gr,{data:y,layout:"horizontal",children:[a.jsx(la,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(Ot,{type:"number",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(_t,{type:"category",dataKey:"category",width:120,style:{fontSize:"var(--font-size-xs)"}}),a.jsx(gt,{}),a.jsx(Rh,{x:0,stroke:"#94a3b8",strokeWidth:2}),a.jsx($e,{dataKey:"deviation",onClick:M=>b(M.category),cursor:"pointer",children:ore.map((M,$)=>a.jsx($e,{fill:M.color},`cell-${$}`))})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:t.analytics.stockAndDemand}),a.jsx(lr,{width:"100%",height:300,minWidth:0,minHeight:0,children:a.jsxs(Gr,{data:sre,children:[a.jsx(la,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(Ot,{dataKey:"month",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(_t,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(gt,{}),a.jsx(Lt,{}),a.jsx($e,{dataKey:"storeStock",stackId:"a",fill:"#3b82f6",name:t.analytics.storeStock}),a.jsx($e,{dataKey:"warehouseStock",stackId:"a",fill:"#60a5fa",name:t.analytics.warehouseStock}),a.jsx(dn,{type:"monotone",dataKey:"demand",stroke:"#ef4444",strokeWidth:2,name:t.analytics.demand})]})})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:t.analytics.forecastVsAllocation}),a.jsx(lr,{width:"100%",height:300,minWidth:0,minHeight:0,children:a.jsxs(Gr,{data:lre,children:[a.jsx(la,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(Ot,{dataKey:"month",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(_t,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(gt,{}),a.jsx(Lt,{}),a.jsx($e,{dataKey:"forecast",fill:"#94a3b8",name:t.analytics.forecast}),a.jsx($e,{dataKey:"allocated",fill:"#2563eb",name:t.analytics.allocated}),a.jsx($e,{dataKey:"sales",fill:"#10b981",name:t.analytics.sales})]})})]})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:"Grenkurven"}),a.jsxs("div",{className:"flex gap-2 p-1 rounded-lg",style:{backgroundColor:"var(--surface-alt)"},children:[a.jsx("button",{onClick:()=>x("absolute"),className:"px-3 py-1.5 rounded transition-all",style:{backgroundColor:v==="absolute"?"var(--brand-primary)":"transparent",color:v==="absolute"?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Absolut"}),a.jsx("button",{onClick:()=>x("percentage"),className:"px-3 py-1.5 rounded transition-all",style:{backgroundColor:v==="percentage"?"var(--brand-primary)":"transparent",color:v==="percentage"?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Prozentual"})]})]}),a.jsx(lr,{width:"100%",height:350,minWidth:0,minHeight:0,children:a.jsxs(xI,{data:O,children:[a.jsx(la,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(Ot,{dataKey:"size",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(_t,{style:{fontSize:"var(--font-size-xs)"},unit:v==="percentage"?"%":""}),a.jsx(gt,{formatter:M=>v==="percentage"?`${M.toFixed(1)}%`:M}),a.jsx(Lt,{}),a.jsx(dn,{type:"monotone",dataKey:"forecast",stroke:"#94a3b8",strokeWidth:2,name:"Prognose",dot:{r:4}}),a.jsx(dn,{type:"monotone",dataKey:"allocated",stroke:"#2563eb",strokeWidth:2,name:"Allokiert",dot:{r:4}}),a.jsx(dn,{type:"monotone",dataKey:"sales",stroke:"#10b981",strokeWidth:2,name:"Abverkauf",dot:{r:4}})]})})]}),a.jsxs("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"p-4 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:["Detailanalyse",w&&a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginLeft:"8px"},children:["(gefiltert nach: ",w,")"]})]})}),a.jsx(Kr,{data:w?N.filter(M=>M.category===w):N,columns:H,onRowClick:()=>{}})]}),a.jsx(are,{isOpen:_,onClose:()=>E(!1),onExport:F,title:"Analytics Export",description:`${N.length} Datenstze werden exportiert`})]})}function dre({onNavigate:e}){const[t,r]=k.useState(new Set([1,2,3,4,5,6,7])),n=o=>{const l=new Set(t);l.has(o)?l.delete(o):l.add(o),r(l)},i=[{id:1,title:"Auswahl der Empfnger",expanded:t.has(1),content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Auswahlmethode"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"Plandaten & Listung"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl ausgewhlter Filialen"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",fontSize:"var(--font-size-lg)"},children:"12 Filialen"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl Cluster"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"3 Cluster"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Ausschlsse"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"2 Filialen (nicht gelistet)"})]})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"8px"},children:"Angewendete Regeln"}),a.jsxs("ul",{className:"space-y-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(ff,{size:16,style:{color:"var(--status-success)",marginTop:"2px",flexShrink:0}}),a.jsx("span",{children:"Artikel ist in Filiale gelistet"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(ff,{size:16,style:{color:"var(--status-success)",marginTop:"2px",flexShrink:0}}),a.jsx("span",{children:"Filiale ist im Planliefertermin aktiv"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(ff,{size:16,style:{color:"var(--status-success)",marginTop:"2px",flexShrink:0}}),a.jsx("span",{children:"Transportbeziehung VZ  Filiale existiert"})]})]})]})]})},{id:2,title:"Ermittlung der Liefertermine",expanded:t.has(2),content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Basis"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"Lieferplan"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Planlieferzeit"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"3 Tage"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Ursprngliches Lieferfenster (Plan)"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"01.03.2025"}),a.jsx("span",{style:{color:"var(--text-muted)"},children:""}),a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"15.03.2025"})]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Simuliertes Lieferfenster"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--brand-primary)"},children:"05.03.2025"}),a.jsx("span",{style:{color:"var(--text-muted)"},children:""}),a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--brand-primary)"},children:"20.03.2025"})]})]})]}),a.jsxs("div",{className:"p-4 rounded-lg flex items-start gap-3",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--status-info)"},children:[a.jsx(Zt,{size:18,style:{color:"var(--status-info)",marginTop:"2px",flexShrink:0}}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:"Das Lieferfenster wurde im Rahmen der Simulation angepasst, um Kapazittsspitzen zu reduzieren."})]})]})},{id:3,title:"Ermittlung verfgbarer Mengen",expanded:t.has(3),content:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Quellen"}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"VZ-Bestand"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"2.400"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Bestellungen"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"1.800"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Lieferungen"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"650"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Externe Verfgbarkeit"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"0"})]})]}),a.jsx("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-subtle)"},children:a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Gesamt verfgbar"}),a.jsx("div",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-bold)"},children:"4.850"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Reserviert"}),a.jsx("div",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-bold)",color:"var(--status-warning)"},children:"320"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Verfgbar fr Allokation"}),a.jsx("div",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-bold)",color:"var(--status-success)"},children:"4.530"})]})]})})]})},{id:4,title:"Kapazittsannahmen",expanded:t.has(4),content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Kapazittsebene"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"Store & Kategorie"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"SOLL-Kapazitt"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"450 m"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Parameterbasis"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:'Produktgruppe "Sneaker"'})]})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"12px"},children:"Parameter"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Flchenbedarf je Einheit"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"0,08 m"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Prsentationsdauer"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"14 Tage"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"LOT-Gre"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"12 Paar"})]})]})]}),a.jsxs("div",{className:"p-3 rounded-lg flex items-start gap-2",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--status-info)"},children:[a.jsx(Zt,{size:16,style:{color:"var(--status-info)",marginTop:"2px",flexShrink:0}}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-primary)"},children:'Parameter wurden aus der Produktgruppe "Sneaker" bernommen'})]})]})},{id:5,title:"Allokationsalgorithmus",expanded:t.has(5),content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Algorithmus"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)"},children:"Kapazittsgesteuerte Allokation"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Ziel"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"Auffllung auf Sollbestand unter Bercksichtigung der Kapazitt"})]})]}),a.jsxs("div",{className:"p-6 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"16px"},children:"Allokationsablauf (vereinfacht)"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 p-4 rounded-lg text-center",style:{backgroundColor:"var(--surface-page)",border:"2px solid var(--brand-primary)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Schritt 1"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)"},children:"Verfgbarkeit prfen"})]}),a.jsx(fn,{size:24,style:{color:"var(--text-muted)",margin:"0 12px"}}),a.jsxs("div",{className:"flex-1 p-4 rounded-lg text-center",style:{backgroundColor:"var(--surface-page)",border:"2px solid var(--brand-primary)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Schritt 2"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)"},children:"Bedarf ermitteln"})]}),a.jsx(fn,{size:24,style:{color:"var(--text-muted)",margin:"0 12px"}}),a.jsxs("div",{className:"flex-1 p-4 rounded-lg text-center",style:{backgroundColor:"var(--surface-page)",border:"2px solid var(--brand-primary)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Schritt 3"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)"},children:"Kapazitt prfen"})]}),a.jsx(fn,{size:24,style:{color:"var(--text-muted)",margin:"0 12px"}}),a.jsxs("div",{className:"flex-1 p-4 rounded-lg text-center",style:{backgroundColor:"var(--surface-page)",border:"2px solid var(--status-success)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Schritt 4"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--status-success)"},children:"Zuteilung"})]})]})]})]})},{id:6,title:"Krzungen & Konfliktauflsung",expanded:t.has(6),content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Notwendige Krzungen"}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:"var(--status-warning)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Ja"})})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Krzungsstrategie"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)"},children:"Proportional"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Betroffene Artikel"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"8 Artikel"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Betroffene Filialen"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"5 Filialen"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Krzungsmenge gesamt"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-danger)"},children:"240 Stck"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("span",{className:"px-4 py-2 rounded-lg inline-flex items-center gap-2",style:{backgroundColor:"var(--surface-success-subtle)",color:"var(--status-success)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",border:"1px solid var(--status-success)"},children:[a.jsx(ff,{size:16}),"berkapazitt vermieden"]}),a.jsxs("span",{className:"px-4 py-2 rounded-lg inline-flex items-center gap-2",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",border:"1px solid var(--status-warning)"},children:[a.jsx(Wn,{size:16}),"Unterdeckung akzeptiert"]})]})]})},{id:7,title:"Ergebnis der Allokation",expanded:t.has(7),content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"2px solid var(--brand-primary)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Allokierte Gesamtmenge"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"var(--brand-primary)"},children:"4.290"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"ber-/Unterdeckung"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"#3b82f6"},children:"-240"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl Ausnahmen"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"var(--status-warning)"},children:"3"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Kapazittswirkung"}),a.jsx("div",{className:"flex items-center gap-2 mt-2",children:a.jsx("span",{className:"px-3 py-1.5 rounded-lg",style:{backgroundColor:"var(--status-success)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Ausgeglichen"})})]})]}),a.jsx("div",{className:"pt-4",children:a.jsx("button",{onClick:()=>e("exceptions"),className:"px-6 py-3 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontWeight:"var(--font-weight-medium)",border:"none",cursor:"pointer"},children:"Ausnahmen anzeigen"})})]})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("button",{onClick:()=>e("work"),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-surface-tint transition-colors",style:{color:"var(--text-muted)"},children:[a.jsx(l1,{size:20}),a.jsx("span",{children:"Zurck zur Simulation"})]}),a.jsxs("div",{className:"flex items-center gap-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[a.jsx("span",{children:"Arbeitsvorrat"}),a.jsx("span",{children:""}),a.jsx("span",{children:"Simulation"}),a.jsx("span",{children:""}),a.jsx("span",{children:"Allokationsanalyse"})]}),a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Allokationsanalyse"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Detaillierte Erklrung, wie der Allokationsprozess zu diesem Ergebnis gekommen ist."})]}),a.jsx("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"grid grid-cols-5 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Szenario"}),a.jsx("span",{className:"px-3 py-1 rounded-full inline-block",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--status-info)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Initiale Allokation"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl Artikel"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",fontSize:"var(--font-size-lg)"},children:"24"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Lieferzeitraum (simuliert)"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"05.03.2025"}),a.jsx("span",{style:{color:"var(--text-muted)"},children:""}),a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"20.03.2025"})]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Kapazittsbasis"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"SOLL-Kapazitt"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Simulationszeitpunkt"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:new Date().toLocaleDateString("de-DE")})]})]})}),a.jsx("div",{className:"space-y-4",children:i.map(o=>a.jsxs("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("button",{onClick:()=>n(o.id),className:"w-full p-5 flex items-center justify-between hover:bg-surface-tint transition-colors",style:{textAlign:"left"},children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontWeight:"var(--font-weight-semibold)",fontSize:"var(--font-size-sm)"},children:o.id}),a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:o.title})]}),o.expanded?a.jsx(Ji,{size:20,style:{color:"var(--text-muted)"}}):a.jsx(fn,{size:20,style:{color:"var(--text-muted)"}})]}),o.expanded&&a.jsx("div",{className:"px-5 pb-5 border-t",style:{borderColor:"var(--border-subtle)"},children:a.jsx("div",{className:"pt-5",children:o.content})})]},o.id))})]})}function M_(e,[t,r]){return Math.min(r,Math.max(t,e))}function L_(e){const t=fre(e),r=k.forwardRef((n,i)=>{const{children:o,...l}=n,u=k.Children.toArray(o),d=u.find(hre);if(d){const f=d.props.children,h=u.map(m=>m===d?k.Children.count(f)>1?k.Children.only(null):k.isValidElement(f)?f.props.children:null:m);return a.jsx(t,{...l,ref:i,children:k.isValidElement(f)?k.cloneElement(f,void 0,h):null})}return a.jsx(t,{...l,ref:i,children:o})});return r.displayName=`${e}.Slot`,r}function fre(e){const t=k.forwardRef((r,n)=>{const{children:i,...o}=r;if(k.isValidElement(i)){const l=vre(i),u=mre(o,i.props);return i.type!==k.Fragment&&(u.ref=n?Bl(n,l):l),k.cloneElement(i,u)}return k.Children.count(i)>1?k.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var pre=Symbol("radix.slottable");function hre(e){return k.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===pre}function mre(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function vre(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function KI(e){const t=e+"CollectionProvider",[r,n]=ts(t),[i,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=b=>{const{scope:y,children:j}=b,A=V.useRef(null),S=V.useRef(new Map).current;return a.jsx(i,{scope:y,itemMap:S,collectionRef:A,children:j})};l.displayName=t;const u=e+"CollectionSlot",d=L_(u),f=V.forwardRef((b,y)=>{const{scope:j,children:A}=b,S=o(u,j),N=Yt(y,S.collectionRef);return a.jsx(d,{ref:N,children:A})});f.displayName=u;const h=e+"CollectionItemSlot",m="data-radix-collection-item",v=L_(h),x=V.forwardRef((b,y)=>{const{scope:j,children:A,...S}=b,N=V.useRef(null),z=Yt(y,N),O=o(h,j);return V.useEffect(()=>(O.itemMap.set(N,{ref:N,...S}),()=>void O.itemMap.delete(N))),a.jsx(v,{[m]:"",ref:z,children:A})});x.displayName=h;function w(b){const y=o(e+"CollectionConsumer",b);return V.useCallback(()=>{const A=y.collectionRef.current;if(!A)return[];const S=Array.from(A.querySelectorAll(`[${m}]`));return Array.from(y.itemMap.values()).sort((O,_)=>S.indexOf(O.ref.current)-S.indexOf(_.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:l,Slot:f,ItemSlot:x},w,n]}var gre=k.createContext(void 0);function vw(e){const t=k.useContext(gre);return e||t||"ltr"}function Xi(e){const t=k.useRef(e);return k.useEffect(()=>{t.current=e}),k.useMemo(()=>(...r)=>t.current?.(...r),[])}function yre(e,t=globalThis?.document){const r=Xi(e);k.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var xre="DismissableLayer",HS="dismissableLayer.update",bre="dismissableLayer.pointerDownOutside",Sre="dismissableLayer.focusOutside",B_,VI=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gw=k.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:u,...d}=e,f=k.useContext(VI),[h,m]=k.useState(null),v=h?.ownerDocument??globalThis?.document,[,x]=k.useState({}),w=Yt(t,_=>m(_)),b=Array.from(f.layers),[y]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(y),A=h?b.indexOf(h):-1,S=f.layersWithOutsidePointerEventsDisabled.size>0,N=A>=j,z=kre(_=>{const E=_.target,T=[...f.branches].some(B=>B.contains(E));!N||T||(i?.(_),l?.(_),_.defaultPrevented||u?.())},v),O=Cre(_=>{const E=_.target;[...f.branches].some(B=>B.contains(E))||(o?.(_),l?.(_),_.defaultPrevented||u?.())},v);return yre(_=>{A===f.layers.size-1&&(n?.(_),!_.defaultPrevented&&u&&(_.preventDefault(),u()))},v),k.useEffect(()=>{if(h)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(B_=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),F_(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=B_)}},[h,v,r,f]),k.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),F_())},[h,f]),k.useEffect(()=>{const _=()=>x({});return document.addEventListener(HS,_),()=>document.removeEventListener(HS,_)},[]),a.jsx(dt.div,{...d,ref:w,style:{pointerEvents:S?N?"auto":"none":void 0,...e.style},onFocusCapture:ct(e.onFocusCapture,O.onFocusCapture),onBlurCapture:ct(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ct(e.onPointerDownCapture,z.onPointerDownCapture)})});gw.displayName=xre;var wre="DismissableLayerBranch",jre=k.forwardRef((e,t)=>{const r=k.useContext(VI),n=k.useRef(null),i=Yt(t,n);return k.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),a.jsx(dt.div,{...e,ref:i})});jre.displayName=wre;function kre(e,t=globalThis?.document){const r=Xi(e),n=k.useRef(!1),i=k.useRef(()=>{});return k.useEffect(()=>{const o=u=>{if(u.target&&!n.current){let d=function(){GI(bre,r,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Cre(e,t=globalThis?.document){const r=Xi(e),n=k.useRef(!1);return k.useEffect(()=>{const i=o=>{o.target&&!n.current&&GI(Sre,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function F_(){const e=new CustomEvent(HS);document.dispatchEvent(e)}function GI(e,t,r,{discrete:n}){const i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?Uee(i,o):i.dispatchEvent(o)}var e0=0;function qI(){k.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??W_()),document.body.insertAdjacentElement("beforeend",e[1]??W_()),e0++,()=>{e0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),e0--}},[])}function W_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var t0="focusScope.autoFocusOnMount",r0="focusScope.autoFocusOnUnmount",$_={bubbles:!1,cancelable:!0},Are="FocusScope",yw=k.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=e,[u,d]=k.useState(null),f=Xi(i),h=Xi(o),m=k.useRef(null),v=Yt(t,b=>d(b)),x=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(n){let b=function(S){if(x.paused||!u)return;const N=S.target;u.contains(N)?m.current=N:Ii(m.current,{select:!0})},y=function(S){if(x.paused||!u)return;const N=S.relatedTarget;N!==null&&(u.contains(N)||Ii(m.current,{select:!0}))},j=function(S){if(document.activeElement===document.body)for(const z of S)z.removedNodes.length>0&&Ii(u)};document.addEventListener("focusin",b),document.addEventListener("focusout",y);const A=new MutationObserver(j);return u&&A.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",y),A.disconnect()}}},[n,u,x.paused]),k.useEffect(()=>{if(u){H_.add(x);const b=document.activeElement;if(!u.contains(b)){const j=new CustomEvent(t0,$_);u.addEventListener(t0,f),u.dispatchEvent(j),j.defaultPrevented||(zre(Tre(ZI(u)),{select:!0}),document.activeElement===b&&Ii(u))}return()=>{u.removeEventListener(t0,f),setTimeout(()=>{const j=new CustomEvent(r0,$_);u.addEventListener(r0,h),u.dispatchEvent(j),j.defaultPrevented||Ii(b??document.body,{select:!0}),u.removeEventListener(r0,h),H_.remove(x)},0)}}},[u,f,h,x]);const w=k.useCallback(b=>{if(!r&&!n||x.paused)return;const y=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,j=document.activeElement;if(y&&j){const A=b.currentTarget,[S,N]=Nre(A);S&&N?!b.shiftKey&&j===N?(b.preventDefault(),r&&Ii(S,{select:!0})):b.shiftKey&&j===S&&(b.preventDefault(),r&&Ii(N,{select:!0})):j===A&&b.preventDefault()}},[r,n,x.paused]);return a.jsx(dt.div,{tabIndex:-1,...l,ref:v,onKeyDown:w})});yw.displayName=Are;function zre(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ii(n,{select:t}),document.activeElement!==r)return}function Nre(e){const t=ZI(e),r=U_(t,e),n=U_(t.reverse(),e);return[r,n]}function ZI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function U_(e,t){for(const r of e)if(!Pre(r,{upTo:t}))return r}function Pre(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ore(e){return e instanceof HTMLInputElement&&"select"in e}function Ii(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Ore(e)&&t&&e.select()}}var H_=_re();function _re(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=K_(e,t),e.unshift(t)},remove(t){e=K_(e,t),e[0]?.resume()}}}function K_(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Tre(e){return e.filter(t=>t.tagName!=="A")}var Ere=o1[" useId ".trim().toString()]||(()=>{}),Dre=0;function Vi(e){const[t,r]=k.useState(Ere());return qr(()=>{r(n=>n??String(Dre++))},[e]),e||(t?`radix-${t}`:"")}const Rre=["top","right","bottom","left"],Yi=Math.min,Cn=Math.max,qp=Math.round,_f=Math.floor,za=e=>({x:e,y:e}),Ire={left:"right",right:"left",bottom:"top",top:"bottom"},Mre={start:"end",end:"start"};function KS(e,t,r){return Cn(e,Yi(t,r))}function si(e,t){return typeof e=="function"?e(t):e}function li(e){return e.split("-")[0]}function Ul(e){return e.split("-")[1]}function xw(e){return e==="x"?"y":"x"}function bw(e){return e==="y"?"height":"width"}const Lre=new Set(["top","bottom"]);function ka(e){return Lre.has(li(e))?"y":"x"}function Sw(e){return xw(ka(e))}function Bre(e,t,r){r===void 0&&(r=!1);const n=Ul(e),i=Sw(e),o=bw(i);let l=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Zp(l)),[l,Zp(l)]}function Fre(e){const t=Zp(e);return[VS(e),t,VS(t)]}function VS(e){return e.replace(/start|end/g,t=>Mre[t])}const V_=["left","right"],G_=["right","left"],Wre=["top","bottom"],$re=["bottom","top"];function Ure(e,t,r){switch(e){case"top":case"bottom":return r?t?G_:V_:t?V_:G_;case"left":case"right":return t?Wre:$re;default:return[]}}function Hre(e,t,r,n){const i=Ul(e);let o=Ure(li(e),r==="start",n);return i&&(o=o.map(l=>l+"-"+i),t&&(o=o.concat(o.map(VS)))),o}function Zp(e){return e.replace(/left|right|bottom|top/g,t=>Ire[t])}function Kre(e){return{top:0,right:0,bottom:0,left:0,...e}}function XI(e){return typeof e!="number"?Kre(e):{top:e,right:e,bottom:e,left:e}}function Xp(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function q_(e,t,r){let{reference:n,floating:i}=e;const o=ka(t),l=Sw(t),u=bw(l),d=li(t),f=o==="y",h=n.x+n.width/2-i.width/2,m=n.y+n.height/2-i.height/2,v=n[u]/2-i[u]/2;let x;switch(d){case"top":x={x:h,y:n.y-i.height};break;case"bottom":x={x:h,y:n.y+n.height};break;case"right":x={x:n.x+n.width,y:m};break;case"left":x={x:n.x-i.width,y:m};break;default:x={x:n.x,y:n.y}}switch(Ul(t)){case"start":x[l]-=v*(r&&f?-1:1);break;case"end":x[l]+=v*(r&&f?-1:1);break}return x}const Vre=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:l}=r,u=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:m}=q_(f,n,d),v=n,x={},w=0;for(let b=0;b<u.length;b++){const{name:y,fn:j}=u[b],{x:A,y:S,data:N,reset:z}=await j({x:h,y:m,initialPlacement:n,placement:v,strategy:i,middlewareData:x,rects:f,platform:l,elements:{reference:e,floating:t}});h=A??h,m=S??m,x={...x,[y]:{...x[y],...N}},z&&w<=50&&(w++,typeof z=="object"&&(z.placement&&(v=z.placement),z.rects&&(f=z.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):z.rects),{x:h,y:m}=q_(f,v,d)),b=-1)}return{x:h,y:m,placement:v,strategy:i,middlewareData:x}};async function $u(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:l,elements:u,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:v=!1,padding:x=0}=si(t,e),w=XI(x),y=u[v?m==="floating"?"reference":"floating":m],j=Xp(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(y)))==null||r?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:h,strategy:d})),A=m==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),N=await(o.isElement==null?void 0:o.isElement(S))?await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},z=Xp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:A,offsetParent:S,strategy:d}):A);return{top:(j.top-z.top+w.top)/N.y,bottom:(z.bottom-j.bottom+w.bottom)/N.y,left:(j.left-z.left+w.left)/N.x,right:(z.right-j.right+w.right)/N.x}}const Gre=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:l,elements:u,middlewareData:d}=t,{element:f,padding:h=0}=si(e,t)||{};if(f==null)return{};const m=XI(h),v={x:r,y:n},x=Sw(i),w=bw(x),b=await l.getDimensions(f),y=x==="y",j=y?"top":"left",A=y?"bottom":"right",S=y?"clientHeight":"clientWidth",N=o.reference[w]+o.reference[x]-v[x]-o.floating[w],z=v[x]-o.reference[x],O=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let _=O?O[S]:0;(!_||!await(l.isElement==null?void 0:l.isElement(O)))&&(_=u.floating[S]||o.floating[w]);const E=N/2-z/2,T=_/2-b[w]/2-1,B=Yi(m[j],T),R=Yi(m[A],T),F=B,K=_-b[w]-R,H=_/2-b[w]/2+E,M=KS(F,H,K),$=!d.arrow&&Ul(i)!=null&&H!==M&&o.reference[w]/2-(H<F?B:R)-b[w]/2<0,U=$?H<F?H-F:H-K:0;return{[x]:v[x]+U,data:{[x]:M,centerOffset:H-M-U,...$&&{alignmentOffset:U}},reset:$}}}),qre=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:l,initialPlacement:u,platform:d,elements:f}=t,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:b=!0,...y}=si(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const j=li(i),A=ka(u),S=li(u)===u,N=await(d.isRTL==null?void 0:d.isRTL(f.floating)),z=v||(S||!b?[Zp(u)]:Fre(u)),O=w!=="none";!v&&O&&z.push(...Hre(u,b,w,N));const _=[u,...z],E=await $u(t,y),T=[];let B=((n=o.flip)==null?void 0:n.overflows)||[];if(h&&T.push(E[j]),m){const H=Bre(i,l,N);T.push(E[H[0]],E[H[1]])}if(B=[...B,{placement:i,overflows:T}],!T.every(H=>H<=0)){var R,F;const H=(((R=o.flip)==null?void 0:R.index)||0)+1,M=_[H];if(M&&(!(m==="alignment"?A!==ka(M):!1)||B.every(I=>ka(I.placement)===A?I.overflows[0]>0:!0)))return{data:{index:H,overflows:B},reset:{placement:M}};let $=(F=B.filter(U=>U.overflows[0]<=0).sort((U,I)=>U.overflows[1]-I.overflows[1])[0])==null?void 0:F.placement;if(!$)switch(x){case"bestFit":{var K;const U=(K=B.filter(I=>{if(O){const Q=ka(I.placement);return Q===A||Q==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(Q=>Q>0).reduce((Q,L)=>Q+L,0)]).sort((I,Q)=>I[1]-Q[1])[0])==null?void 0:K[0];U&&($=U);break}case"initialPlacement":$=u;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function Z_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function X_(e){return Rre.some(t=>e[t]>=0)}const Zre=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=si(e,t);switch(n){case"referenceHidden":{const o=await $u(t,{...i,elementContext:"reference"}),l=Z_(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:X_(l)}}}case"escaped":{const o=await $u(t,{...i,altBoundary:!0}),l=Z_(o,r.floating);return{data:{escapedOffsets:l,escaped:X_(l)}}}default:return{}}}}},YI=new Set(["left","top"]);async function Xre(e,t){const{placement:r,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=li(r),u=Ul(r),d=ka(r)==="y",f=YI.has(l)?-1:1,h=o&&d?-1:1,m=si(t,e);let{mainAxis:v,crossAxis:x,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof w=="number"&&(x=u==="end"?w*-1:w),d?{x:x*h,y:v*f}:{x:v*f,y:x*h}}const Yre=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:l,middlewareData:u}=t,d=await Xre(t,e);return l===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:o+d.y,data:{...d,placement:l}}}}},Qre=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:y=>{let{x:j,y:A}=y;return{x:j,y:A}}},...d}=si(e,t),f={x:r,y:n},h=await $u(t,d),m=ka(li(i)),v=xw(m);let x=f[v],w=f[m];if(o){const y=v==="y"?"top":"left",j=v==="y"?"bottom":"right",A=x+h[y],S=x-h[j];x=KS(A,x,S)}if(l){const y=m==="y"?"top":"left",j=m==="y"?"bottom":"right",A=w+h[y],S=w-h[j];w=KS(A,w,S)}const b=u.fn({...t,[v]:x,[m]:w});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[v]:o,[m]:l}}}}}},Jre=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:o,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=si(e,t),h={x:r,y:n},m=ka(i),v=xw(m);let x=h[v],w=h[m];const b=si(u,t),y=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(d){const S=v==="y"?"height":"width",N=o.reference[v]-o.floating[S]+y.mainAxis,z=o.reference[v]+o.reference[S]-y.mainAxis;x<N?x=N:x>z&&(x=z)}if(f){var j,A;const S=v==="y"?"width":"height",N=YI.has(li(i)),z=o.reference[m]-o.floating[S]+(N&&((j=l.offset)==null?void 0:j[m])||0)+(N?0:y.crossAxis),O=o.reference[m]+o.reference[S]+(N?0:((A=l.offset)==null?void 0:A[m])||0)-(N?y.crossAxis:0);w<z?w=z:w>O&&(w=O)}return{[v]:x,[m]:w}}}},ene=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:o,platform:l,elements:u}=t,{apply:d=()=>{},...f}=si(e,t),h=await $u(t,f),m=li(i),v=Ul(i),x=ka(i)==="y",{width:w,height:b}=o.floating;let y,j;m==="top"||m==="bottom"?(y=m,j=v===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(j=m,y=v==="end"?"top":"bottom");const A=b-h.top-h.bottom,S=w-h.left-h.right,N=Yi(b-h[y],A),z=Yi(w-h[j],S),O=!t.middlewareData.shift;let _=N,E=z;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=S),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=A),O&&!v){const B=Cn(h.left,0),R=Cn(h.right,0),F=Cn(h.top,0),K=Cn(h.bottom,0);x?E=w-2*(B!==0||R!==0?B+R:Cn(h.left,h.right)):_=b-2*(F!==0||K!==0?F+K:Cn(h.top,h.bottom))}await d({...t,availableWidth:E,availableHeight:_});const T=await l.getDimensions(u.floating);return w!==T.width||b!==T.height?{reset:{rects:!0}}:{}}}};function $h(){return typeof window<"u"}function Hl(e){return QI(e)?(e.nodeName||"").toLowerCase():"#document"}function Nn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ea(e){var t;return(t=(QI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function QI(e){return $h()?e instanceof Node||e instanceof Nn(e).Node:!1}function da(e){return $h()?e instanceof Element||e instanceof Nn(e).Element:!1}function Pa(e){return $h()?e instanceof HTMLElement||e instanceof Nn(e).HTMLElement:!1}function Y_(e){return!$h()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Nn(e).ShadowRoot}const tne=new Set(["inline","contents"]);function ed(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=fa(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!tne.has(i)}const rne=new Set(["table","td","th"]);function nne(e){return rne.has(Hl(e))}const ane=[":popover-open",":modal"];function Uh(e){return ane.some(t=>{try{return e.matches(t)}catch{return!1}})}const ine=["transform","translate","scale","rotate","perspective"],one=["transform","translate","scale","rotate","perspective","filter"],sne=["paint","layout","strict","content"];function ww(e){const t=jw(),r=da(e)?fa(e):e;return ine.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||one.some(n=>(r.willChange||"").includes(n))||sne.some(n=>(r.contain||"").includes(n))}function lne(e){let t=Qi(e);for(;Pa(t)&&!zl(t);){if(ww(t))return t;if(Uh(t))return null;t=Qi(t)}return null}function jw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const cne=new Set(["html","body","#document"]);function zl(e){return cne.has(Hl(e))}function fa(e){return Nn(e).getComputedStyle(e)}function Hh(e){return da(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Qi(e){if(Hl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Y_(e)&&e.host||Ea(e);return Y_(t)?t.host:t}function JI(e){const t=Qi(e);return zl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Pa(t)&&ed(t)?t:JI(t)}function Uu(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=JI(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),l=Nn(i);if(o){const u=GS(l);return t.concat(l,l.visualViewport||[],ed(i)?i:[],u&&r?Uu(u):[])}return t.concat(i,Uu(i,[],r))}function GS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function e3(e){const t=fa(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Pa(e),o=i?e.offsetWidth:r,l=i?e.offsetHeight:n,u=qp(r)!==o||qp(n)!==l;return u&&(r=o,n=l),{width:r,height:n,$:u}}function kw(e){return da(e)?e:e.contextElement}function qs(e){const t=kw(e);if(!Pa(t))return za(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=e3(t);let l=(o?qp(r.width):r.width)/n,u=(o?qp(r.height):r.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const une=za(0);function t3(e){const t=Nn(e);return!jw()||!t.visualViewport?une:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function dne(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Nn(e)?!1:t}function Vo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=kw(e);let l=za(1);t&&(n?da(n)&&(l=qs(n)):l=qs(e));const u=dne(o,r,n)?t3(o):za(0);let d=(i.left+u.x)/l.x,f=(i.top+u.y)/l.y,h=i.width/l.x,m=i.height/l.y;if(o){const v=Nn(o),x=n&&da(n)?Nn(n):n;let w=v,b=GS(w);for(;b&&n&&x!==w;){const y=qs(b),j=b.getBoundingClientRect(),A=fa(b),S=j.left+(b.clientLeft+parseFloat(A.paddingLeft))*y.x,N=j.top+(b.clientTop+parseFloat(A.paddingTop))*y.y;d*=y.x,f*=y.y,h*=y.x,m*=y.y,d+=S,f+=N,w=Nn(b),b=GS(w)}}return Xp({width:h,height:m,x:d,y:f})}function Kh(e,t){const r=Hh(e).scrollLeft;return t?t.left+r:Vo(Ea(e)).left+r}function r3(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Kh(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function fne(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o=i==="fixed",l=Ea(n),u=t?Uh(t.floating):!1;if(n===l||u&&o)return r;let d={scrollLeft:0,scrollTop:0},f=za(1);const h=za(0),m=Pa(n);if((m||!m&&!o)&&((Hl(n)!=="body"||ed(l))&&(d=Hh(n)),Pa(n))){const x=Vo(n);f=qs(n),h.x=x.x+n.clientLeft,h.y=x.y+n.clientTop}const v=l&&!m&&!o?r3(l,d):za(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-d.scrollLeft*f.x+h.x+v.x,y:r.y*f.y-d.scrollTop*f.y+h.y+v.y}}function pne(e){return Array.from(e.getClientRects())}function hne(e){const t=Ea(e),r=Hh(e),n=e.ownerDocument.body,i=Cn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Cn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+Kh(e);const u=-r.scrollTop;return fa(n).direction==="rtl"&&(l+=Cn(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:l,y:u}}const Q_=25;function mne(e,t){const r=Nn(e),n=Ea(e),i=r.visualViewport;let o=n.clientWidth,l=n.clientHeight,u=0,d=0;if(i){o=i.width,l=i.height;const h=jw();(!h||h&&t==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}const f=Kh(n);if(f<=0){const h=n.ownerDocument,m=h.body,v=getComputedStyle(m),x=h.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,w=Math.abs(n.clientWidth-m.clientWidth-x);w<=Q_&&(o-=w)}else f<=Q_&&(o+=f);return{width:o,height:l,x:u,y:d}}const vne=new Set(["absolute","fixed"]);function gne(e,t){const r=Vo(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=Pa(e)?qs(e):za(1),l=e.clientWidth*o.x,u=e.clientHeight*o.y,d=i*o.x,f=n*o.y;return{width:l,height:u,x:d,y:f}}function J_(e,t,r){let n;if(t==="viewport")n=mne(e,r);else if(t==="document")n=hne(Ea(e));else if(da(t))n=gne(t,r);else{const i=t3(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Xp(n)}function n3(e,t){const r=Qi(e);return r===t||!da(r)||zl(r)?!1:fa(r).position==="fixed"||n3(r,t)}function yne(e,t){const r=t.get(e);if(r)return r;let n=Uu(e,[],!1).filter(u=>da(u)&&Hl(u)!=="body"),i=null;const o=fa(e).position==="fixed";let l=o?Qi(e):e;for(;da(l)&&!zl(l);){const u=fa(l),d=ww(l);!d&&u.position==="fixed"&&(i=null),(o?!d&&!i:!d&&u.position==="static"&&!!i&&vne.has(i.position)||ed(l)&&!d&&n3(e,l))?n=n.filter(h=>h!==l):i=u,l=Qi(l)}return t.set(e,n),n}function xne(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const l=[...r==="clippingAncestors"?Uh(t)?[]:yne(t,this._c):[].concat(r),n],u=l[0],d=l.reduce((f,h)=>{const m=J_(t,h,i);return f.top=Cn(m.top,f.top),f.right=Yi(m.right,f.right),f.bottom=Yi(m.bottom,f.bottom),f.left=Cn(m.left,f.left),f},J_(t,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function bne(e){const{width:t,height:r}=e3(e);return{width:t,height:r}}function Sne(e,t,r){const n=Pa(t),i=Ea(t),o=r==="fixed",l=Vo(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const d=za(0);function f(){d.x=Kh(i)}if(n||!n&&!o)if((Hl(t)!=="body"||ed(i))&&(u=Hh(t)),n){const x=Vo(t,!0,o,t);d.x=x.x+t.clientLeft,d.y=x.y+t.clientTop}else i&&f();o&&!n&&i&&f();const h=i&&!n&&!o?r3(i,u):za(0),m=l.left+u.scrollLeft-d.x-h.x,v=l.top+u.scrollTop-d.y-h.y;return{x:m,y:v,width:l.width,height:l.height}}function n0(e){return fa(e).position==="static"}function eT(e,t){if(!Pa(e)||fa(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ea(e)===r&&(r=r.ownerDocument.body),r}function a3(e,t){const r=Nn(e);if(Uh(e))return r;if(!Pa(e)){let i=Qi(e);for(;i&&!zl(i);){if(da(i)&&!n0(i))return i;i=Qi(i)}return r}let n=eT(e,t);for(;n&&nne(n)&&n0(n);)n=eT(n,t);return n&&zl(n)&&n0(n)&&!ww(n)?r:n||lne(e)||r}const wne=async function(e){const t=this.getOffsetParent||a3,r=this.getDimensions,n=await r(e.floating);return{reference:Sne(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function jne(e){return fa(e).direction==="rtl"}const kne={convertOffsetParentRelativeRectToViewportRelativeRect:fne,getDocumentElement:Ea,getClippingRect:xne,getOffsetParent:a3,getElementRects:wne,getClientRects:pne,getDimensions:bne,getScale:qs,isElement:da,isRTL:jne};function i3(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Cne(e,t){let r=null,n;const i=Ea(e);function o(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),o();const f=e.getBoundingClientRect(),{left:h,top:m,width:v,height:x}=f;if(u||t(),!v||!x)return;const w=_f(m),b=_f(i.clientWidth-(h+v)),y=_f(i.clientHeight-(m+x)),j=_f(h),S={rootMargin:-w+"px "+-b+"px "+-y+"px "+-j+"px",threshold:Cn(0,Yi(1,d))||1};let N=!0;function z(O){const _=O[0].intersectionRatio;if(_!==d){if(!N)return l();_?l(!1,_):n=setTimeout(()=>{l(!1,1e-7)},1e3)}_===1&&!i3(f,e.getBoundingClientRect())&&l(),N=!1}try{r=new IntersectionObserver(z,{...S,root:i.ownerDocument})}catch{r=new IntersectionObserver(z,S)}r.observe(e)}return l(!0),o}function Ane(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,f=kw(e),h=i||o?[...f?Uu(f):[],...Uu(t)]:[];h.forEach(j=>{i&&j.addEventListener("scroll",r,{passive:!0}),o&&j.addEventListener("resize",r)});const m=f&&u?Cne(f,r):null;let v=-1,x=null;l&&(x=new ResizeObserver(j=>{let[A]=j;A&&A.target===f&&x&&(x.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var S;(S=x)==null||S.observe(t)})),r()}),f&&!d&&x.observe(f),x.observe(t));let w,b=d?Vo(e):null;d&&y();function y(){const j=Vo(e);b&&!i3(b,j)&&r(),b=j,w=requestAnimationFrame(y)}return r(),()=>{var j;h.forEach(A=>{i&&A.removeEventListener("scroll",r),o&&A.removeEventListener("resize",r)}),m?.(),(j=x)==null||j.disconnect(),x=null,d&&cancelAnimationFrame(w)}}const zne=Yre,Nne=Qre,Pne=qre,One=ene,_ne=Zre,tT=Gre,Tne=Jre,Ene=(e,t,r)=>{const n=new Map,i={platform:kne,...r},o={...i.platform,_c:n};return Vre(e,t,{...i,platform:o})};var Dne=typeof document<"u",Rne=function(){},Wf=Dne?k.useLayoutEffect:Rne;function Yp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Yp(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const o=i[n];if(!(o==="_owner"&&e.$$typeof)&&!Yp(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function o3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function rT(e,t){const r=o3(e);return Math.round(t*r)/r}function a0(e){const t=k.useRef(e);return Wf(()=>{t.current=e}),t}function Ine(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:d,open:f}=e,[h,m]=k.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[v,x]=k.useState(n);Yp(v,n)||x(n);const[w,b]=k.useState(null),[y,j]=k.useState(null),A=k.useCallback(I=>{I!==O.current&&(O.current=I,b(I))},[]),S=k.useCallback(I=>{I!==_.current&&(_.current=I,j(I))},[]),N=o||w,z=l||y,O=k.useRef(null),_=k.useRef(null),E=k.useRef(h),T=d!=null,B=a0(d),R=a0(i),F=a0(f),K=k.useCallback(()=>{if(!O.current||!_.current)return;const I={placement:t,strategy:r,middleware:v};R.current&&(I.platform=R.current),Ene(O.current,_.current,I).then(Q=>{const L={...Q,isPositioned:F.current!==!1};H.current&&!Yp(E.current,L)&&(E.current=L,Yu.flushSync(()=>{m(L)}))})},[v,t,r,R,F]);Wf(()=>{f===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,m(I=>({...I,isPositioned:!1})))},[f]);const H=k.useRef(!1);Wf(()=>(H.current=!0,()=>{H.current=!1}),[]),Wf(()=>{if(N&&(O.current=N),z&&(_.current=z),N&&z){if(B.current)return B.current(N,z,K);K()}},[N,z,K,B,T]);const M=k.useMemo(()=>({reference:O,floating:_,setReference:A,setFloating:S}),[A,S]),$=k.useMemo(()=>({reference:N,floating:z}),[N,z]),U=k.useMemo(()=>{const I={position:r,left:0,top:0};if(!$.floating)return I;const Q=rT($.floating,h.x),L=rT($.floating,h.y);return u?{...I,transform:"translate("+Q+"px, "+L+"px)",...o3($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Q,top:L}},[r,u,$.floating,h.x,h.y]);return k.useMemo(()=>({...h,update:K,refs:M,elements:$,floatingStyles:U}),[h,K,M,$,U])}const Mne=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?tT({element:n.current,padding:i}).fn(r):{}:n?tT({element:n,padding:i}).fn(r):{}}}},Lne=(e,t)=>({...zne(e),options:[e,t]}),Bne=(e,t)=>({...Nne(e),options:[e,t]}),Fne=(e,t)=>({...Tne(e),options:[e,t]}),Wne=(e,t)=>({...Pne(e),options:[e,t]}),$ne=(e,t)=>({...One(e),options:[e,t]}),Une=(e,t)=>({..._ne(e),options:[e,t]}),Hne=(e,t)=>({...Mne(e),options:[e,t]});var Kne="Arrow",s3=k.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...o}=e;return a.jsx(dt.svg,{...o,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});s3.displayName=Kne;var Vne=s3,Cw="Popper",[l3,c3]=ts(Cw),[Gne,u3]=l3(Cw),d3=e=>{const{__scopePopper:t,children:r}=e,[n,i]=k.useState(null);return a.jsx(Gne,{scope:t,anchor:n,onAnchorChange:i,children:r})};d3.displayName=Cw;var f3="PopperAnchor",p3=k.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,o=u3(f3,r),l=k.useRef(null),u=Yt(t,l),d=k.useRef(null);return k.useEffect(()=>{const f=d.current;d.current=n?.current||l.current,f!==d.current&&o.onAnchorChange(d.current)}),n?null:a.jsx(dt.div,{...i,ref:u})});p3.displayName=f3;var Aw="PopperContent",[qne,Zne]=l3(Aw),h3=k.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:o="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:v=!1,updatePositionStrategy:x="optimized",onPlaced:w,...b}=e,y=u3(Aw,r),[j,A]=k.useState(null),S=Yt(t,ne=>A(ne)),[N,z]=k.useState(null),O=jI(N),_=O?.width??0,E=O?.height??0,T=n+(o!=="center"?"-"+o:""),B=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},R=Array.isArray(f)?f:[f],F=R.length>0,K={padding:B,boundary:R.filter(Yne),altBoundary:F},{refs:H,floatingStyles:M,placement:$,isPositioned:U,middlewareData:I}=Ine({strategy:"fixed",placement:T,whileElementsMounted:(...ne)=>Ane(...ne,{animationFrame:x==="always"}),elements:{reference:y.anchor},middleware:[Lne({mainAxis:i+E,alignmentAxis:l}),d&&Bne({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Fne():void 0,...K}),d&&Wne({...K}),$ne({...K,apply:({elements:ne,rects:ie,availableWidth:ce,availableHeight:fe})=>{const{width:q,height:ee}=ie.reference,Oe=ne.floating.style;Oe.setProperty("--radix-popper-available-width",`${ce}px`),Oe.setProperty("--radix-popper-available-height",`${fe}px`),Oe.setProperty("--radix-popper-anchor-width",`${q}px`),Oe.setProperty("--radix-popper-anchor-height",`${ee}px`)}}),N&&Hne({element:N,padding:u}),Qne({arrowWidth:_,arrowHeight:E}),v&&Une({strategy:"referenceHidden",...K})]}),[Q,L]=g3($),W=Xi(w);qr(()=>{U&&W?.()},[U,W]);const X=I.arrow?.x,se=I.arrow?.y,de=I.arrow?.centerOffset!==0,[ge,xe]=k.useState();return qr(()=>{j&&xe(window.getComputedStyle(j).zIndex)},[j]),a.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:U?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[I.transformOrigin?.x,I.transformOrigin?.y].join(" "),...I.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(qne,{scope:r,placedSide:Q,onArrowChange:z,arrowX:X,arrowY:se,shouldHideArrow:de,children:a.jsx(dt.div,{"data-side":Q,"data-align":L,...b,ref:S,style:{...b.style,animation:U?void 0:"none"}})})})});h3.displayName=Aw;var m3="PopperArrow",Xne={top:"bottom",right:"left",bottom:"top",left:"right"},v3=k.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,o=Zne(m3,n),l=Xne[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(Vne,{...i,ref:r,style:{...i.style,display:"block"}})})});v3.displayName=m3;function Yne(e){return e!==null}var Qne=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,l=i.arrow?.centerOffset!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[f,h]=g3(r),m={start:"0%",center:"50%",end:"100%"}[h],v=(i.arrow?.x??0)+u/2,x=(i.arrow?.y??0)+d/2;let w="",b="";return f==="bottom"?(w=l?m:`${v}px`,b=`${-d}px`):f==="top"?(w=l?m:`${v}px`,b=`${n.floating.height+d}px`):f==="right"?(w=`${-d}px`,b=l?m:`${x}px`):f==="left"&&(w=`${n.floating.width+d}px`,b=l?m:`${x}px`),{data:{x:w,y:b}}}});function g3(e){const[t,r="center"]=e.split("-");return[t,r]}var Jne=d3,eae=p3,tae=h3,rae=v3,nae="Portal",zw=k.forwardRef((e,t)=>{const{container:r,...n}=e,[i,o]=k.useState(!1);qr(()=>o(!0),[]);const l=r||i&&globalThis?.document?.body;return l?vq.createPortal(a.jsx(dt.div,{...n,ref:t}),l):null});zw.displayName=nae;function aae(e){const t=iae(e),r=k.forwardRef((n,i)=>{const{children:o,...l}=n,u=k.Children.toArray(o),d=u.find(sae);if(d){const f=d.props.children,h=u.map(m=>m===d?k.Children.count(f)>1?k.Children.only(null):k.isValidElement(f)?f.props.children:null:m);return a.jsx(t,{...l,ref:i,children:k.isValidElement(f)?k.cloneElement(f,void 0,h):null})}return a.jsx(t,{...l,ref:i,children:o})});return r.displayName=`${e}.Slot`,r}function iae(e){const t=k.forwardRef((r,n)=>{const{children:i,...o}=r;if(k.isValidElement(i)){const l=cae(i),u=lae(o,i.props);return i.type!==k.Fragment&&(u.ref=n?Bl(n,l):l),k.cloneElement(i,u)}return k.Children.count(i)>1?k.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oae=Symbol("radix.slottable");function sae(e){return k.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oae}function lae(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function cae(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var y3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),uae="VisuallyHidden",dae=k.forwardRef((e,t)=>a.jsx(dt.span,{...e,ref:t,style:{...y3,...e.style}}));dae.displayName=uae;var fae=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Is=new WeakMap,Tf=new WeakMap,Ef={},i0=0,x3=function(e){return e&&(e.host||x3(e.parentNode))},pae=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=x3(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},hae=function(e,t,r,n){var i=pae(t,Array.isArray(e)?e:[e]);Ef[r]||(Ef[r]=new WeakMap);var o=Ef[r],l=[],u=new Set,d=new Set(i),f=function(m){!m||u.has(m)||(u.add(m),f(m.parentNode))};i.forEach(f);var h=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(v){if(u.has(v))h(v);else try{var x=v.getAttribute(n),w=x!==null&&x!=="false",b=(Is.get(v)||0)+1,y=(o.get(v)||0)+1;Is.set(v,b),o.set(v,y),l.push(v),b===1&&w&&Tf.set(v,!0),y===1&&v.setAttribute(r,"true"),w||v.setAttribute(n,"true")}catch(j){console.error("aria-hidden: cannot operate on ",v,j)}})};return h(t),u.clear(),i0++,function(){l.forEach(function(m){var v=Is.get(m)-1,x=o.get(m)-1;Is.set(m,v),o.set(m,x),v||(Tf.has(m)||m.removeAttribute(n),Tf.delete(m)),x||m.removeAttribute(r)}),i0--,i0||(Is=new WeakMap,Is=new WeakMap,Tf=new WeakMap,Ef={})}},b3=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=fae(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),hae(n,i,r,"aria-hidden")):function(){return null}},Sa=function(){return Sa=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Sa.apply(this,arguments)};function S3(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function mae(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var $f="right-scroll-bar-position",Uf="width-before-scroll-bar",vae="with-scroll-bars-hidden",gae="--removed-body-scroll-bar-size";function o0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function yae(e,t){var r=k.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var xae=typeof window<"u"?k.useLayoutEffect:k.useEffect,nT=new WeakMap;function bae(e,t){var r=yae(null,function(n){return e.forEach(function(i){return o0(i,n)})});return xae(function(){var n=nT.get(r);if(n){var i=new Set(n),o=new Set(e),l=r.current;i.forEach(function(u){o.has(u)||o0(u,null)}),o.forEach(function(u){i.has(u)||o0(u,l)})}nT.set(r,e)},[e]),r}function Sae(e){return e}function wae(e,t){t===void 0&&(t=Sae);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var l=t(o,n);return r.push(l),function(){r=r.filter(function(u){return u!==l})}},assignSyncMedium:function(o){for(n=!0;r.length;){var l=r;r=[],l.forEach(o)}r={push:function(u){return o(u)},filter:function(){return r}}},assignMedium:function(o){n=!0;var l=[];if(r.length){var u=r;r=[],u.forEach(o),l=r}var d=function(){var h=l;l=[],h.forEach(o)},f=function(){return Promise.resolve().then(d)};f(),r={push:function(h){l.push(h),f()},filter:function(h){return l=l.filter(h),r}}}};return i}function jae(e){e===void 0&&(e={});var t=wae(null);return t.options=Sa({async:!0,ssr:!1},e),t}var w3=function(e){var t=e.sideCar,r=S3(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return k.createElement(n,Sa({},r))};w3.isSideCarExport=!0;function kae(e,t){return e.useMedium(t),w3}var j3=jae(),s0=function(){},Vh=k.forwardRef(function(e,t){var r=k.useRef(null),n=k.useState({onScrollCapture:s0,onWheelCapture:s0,onTouchMoveCapture:s0}),i=n[0],o=n[1],l=e.forwardProps,u=e.children,d=e.className,f=e.removeScrollBar,h=e.enabled,m=e.shards,v=e.sideCar,x=e.noRelative,w=e.noIsolation,b=e.inert,y=e.allowPinchZoom,j=e.as,A=j===void 0?"div":j,S=e.gapMode,N=S3(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=v,O=bae([r,t]),_=Sa(Sa({},N),i);return k.createElement(k.Fragment,null,h&&k.createElement(z,{sideCar:j3,removeScrollBar:f,shards:m,noRelative:x,noIsolation:w,inert:b,setCallbacks:o,allowPinchZoom:!!y,lockRef:r,gapMode:S}),l?k.cloneElement(k.Children.only(u),Sa(Sa({},_),{ref:O})):k.createElement(A,Sa({},_,{className:d,ref:O}),u))});Vh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vh.classNames={fullWidth:Uf,zeroRight:$f};var Cae=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Aae(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Cae();return t&&e.setAttribute("nonce",t),e}function zae(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Nae(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Pae=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Aae())&&(zae(t,r),Nae(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Oae=function(){var e=Pae();return function(t,r){k.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},k3=function(){var e=Oae(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},_ae={left:0,top:0,right:0,gap:0},l0=function(e){return parseInt(e||"",10)||0},Tae=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[l0(r),l0(n),l0(i)]},Eae=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return _ae;var t=Tae(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Dae=k3(),Zs="data-scroll-locked",Rae=function(e,t,r,n){var i=e.left,o=e.top,l=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(vae,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(Zs,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($f,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Uf,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat($f," .").concat($f,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Uf," .").concat(Uf,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Zs,`] {
    `).concat(gae,": ").concat(u,`px;
  }
`)},aT=function(){var e=parseInt(document.body.getAttribute(Zs)||"0",10);return isFinite(e)?e:0},Iae=function(){k.useEffect(function(){return document.body.setAttribute(Zs,(aT()+1).toString()),function(){var e=aT()-1;e<=0?document.body.removeAttribute(Zs):document.body.setAttribute(Zs,e.toString())}},[])},Mae=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;Iae();var o=k.useMemo(function(){return Eae(i)},[i]);return k.createElement(Dae,{styles:Rae(o,!t,i,r?"":"!important")})},qS=!1;if(typeof window<"u")try{var Df=Object.defineProperty({},"passive",{get:function(){return qS=!0,!0}});window.addEventListener("test",Df,Df),window.removeEventListener("test",Df,Df)}catch{qS=!1}var Ms=qS?{passive:!1}:!1,Lae=function(e){return e.tagName==="TEXTAREA"},C3=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Lae(e)&&r[t]==="visible")},Bae=function(e){return C3(e,"overflowY")},Fae=function(e){return C3(e,"overflowX")},iT=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=A3(e,n);if(i){var o=z3(e,n),l=o[1],u=o[2];if(l>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Wae=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},$ae=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},A3=function(e,t){return e==="v"?Bae(t):Fae(t)},z3=function(e,t){return e==="v"?Wae(t):$ae(t)},Uae=function(e,t){return e==="h"&&t==="rtl"?-1:1},Hae=function(e,t,r,n,i){var o=Uae(e,window.getComputedStyle(t).direction),l=o*n,u=r.target,d=t.contains(u),f=!1,h=l>0,m=0,v=0;do{if(!u)break;var x=z3(e,u),w=x[0],b=x[1],y=x[2],j=b-y-o*w;(w||j)&&A3(e,u)&&(m+=j,v+=w);var A=u.parentNode;u=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(h&&Math.abs(m)<1||!h&&Math.abs(v)<1)&&(f=!0),f},Rf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},oT=function(e){return[e.deltaX,e.deltaY]},sT=function(e){return e&&"current"in e?e.current:e},Kae=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Vae=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Gae=0,Ls=[];function qae(e){var t=k.useRef([]),r=k.useRef([0,0]),n=k.useRef(),i=k.useState(Gae++)[0],o=k.useState(k3)[0],l=k.useRef(e);k.useEffect(function(){l.current=e},[e]),k.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var b=mae([e.lockRef.current],(e.shards||[]).map(sT),!0).filter(Boolean);return b.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=k.useCallback(function(b,y){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!l.current.allowPinchZoom;var j=Rf(b),A=r.current,S="deltaX"in b?b.deltaX:A[0]-j[0],N="deltaY"in b?b.deltaY:A[1]-j[1],z,O=b.target,_=Math.abs(S)>Math.abs(N)?"h":"v";if("touches"in b&&_==="h"&&O.type==="range")return!1;var E=window.getSelection(),T=E&&E.anchorNode,B=T?T===O||T.contains(O):!1;if(B)return!1;var R=iT(_,O);if(!R)return!0;if(R?z=_:(z=_==="v"?"h":"v",R=iT(_,O)),!R)return!1;if(!n.current&&"changedTouches"in b&&(S||N)&&(n.current=z),!z)return!0;var F=n.current||z;return Hae(F,y,b,F==="h"?S:N)},[]),d=k.useCallback(function(b){var y=b;if(!(!Ls.length||Ls[Ls.length-1]!==o)){var j="deltaY"in y?oT(y):Rf(y),A=t.current.filter(function(z){return z.name===y.type&&(z.target===y.target||y.target===z.shadowParent)&&Kae(z.delta,j)})[0];if(A&&A.should){y.cancelable&&y.preventDefault();return}if(!A){var S=(l.current.shards||[]).map(sT).filter(Boolean).filter(function(z){return z.contains(y.target)}),N=S.length>0?u(y,S[0]):!l.current.noIsolation;N&&y.cancelable&&y.preventDefault()}}},[]),f=k.useCallback(function(b,y,j,A){var S={name:b,delta:y,target:j,should:A,shadowParent:Zae(j)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(N){return N!==S})},1)},[]),h=k.useCallback(function(b){r.current=Rf(b),n.current=void 0},[]),m=k.useCallback(function(b){f(b.type,oT(b),b.target,u(b,e.lockRef.current))},[]),v=k.useCallback(function(b){f(b.type,Rf(b),b.target,u(b,e.lockRef.current))},[]);k.useEffect(function(){return Ls.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",d,Ms),document.addEventListener("touchmove",d,Ms),document.addEventListener("touchstart",h,Ms),function(){Ls=Ls.filter(function(b){return b!==o}),document.removeEventListener("wheel",d,Ms),document.removeEventListener("touchmove",d,Ms),document.removeEventListener("touchstart",h,Ms)}},[]);var x=e.removeScrollBar,w=e.inert;return k.createElement(k.Fragment,null,w?k.createElement(o,{styles:Vae(i)}):null,x?k.createElement(Mae,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Zae(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Xae=kae(j3,qae);var Nw=k.forwardRef(function(e,t){return k.createElement(Vh,Sa({},e,{ref:t,sideCar:Xae}))});Nw.classNames=Vh.classNames;var Yae=[" ","Enter","ArrowUp","ArrowDown"],Qae=[" ","Enter"],Go="Select",[Gh,qh,Jae]=KI(Go),[Kl]=ts(Go,[Jae,c3]),Zh=c3(),[eie,io]=Kl(Go),[tie,rie]=Kl(Go),N3=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:o,value:l,defaultValue:u,onValueChange:d,dir:f,name:h,autoComplete:m,disabled:v,required:x,form:w}=e,b=Zh(t),[y,j]=k.useState(null),[A,S]=k.useState(null),[N,z]=k.useState(!1),O=vw(f),[_,E]=Al({prop:n,defaultProp:i??!1,onChange:o,caller:Go}),[T,B]=Al({prop:l,defaultProp:u,onChange:d,caller:Go}),R=k.useRef(null),F=y?w||!!y.closest("form"):!0,[K,H]=k.useState(new Set),M=Array.from(K).map($=>$.props.value).join(";");return a.jsx(Jne,{...b,children:a.jsxs(eie,{required:x,scope:t,trigger:y,onTriggerChange:j,valueNode:A,onValueNodeChange:S,valueNodeHasChildren:N,onValueNodeHasChildrenChange:z,contentId:Vi(),value:T,onValueChange:B,open:_,onOpenChange:E,dir:O,triggerPointerDownPosRef:R,disabled:v,children:[a.jsx(Gh.Provider,{scope:t,children:a.jsx(tie,{scope:e.__scopeSelect,onNativeOptionAdd:k.useCallback($=>{H(U=>new Set(U).add($))},[]),onNativeOptionRemove:k.useCallback($=>{H(U=>{const I=new Set(U);return I.delete($),I})},[]),children:r})}),F?a.jsxs(X3,{"aria-hidden":!0,required:x,tabIndex:-1,name:h,autoComplete:m,value:T,onChange:$=>B($.target.value),disabled:v,form:w,children:[T===void 0?a.jsx("option",{value:""}):null,Array.from(K)]},M):null]})})};N3.displayName=Go;var P3="SelectTrigger",O3=k.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,o=Zh(r),l=io(P3,r),u=l.disabled||n,d=Yt(t,l.onTriggerChange),f=qh(r),h=k.useRef("touch"),[m,v,x]=Q3(b=>{const y=f().filter(S=>!S.disabled),j=y.find(S=>S.value===l.value),A=J3(y,b,j);A!==void 0&&l.onValueChange(A.value)}),w=b=>{u||(l.onOpenChange(!0),x()),b&&(l.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return a.jsx(eae,{asChild:!0,...o,children:a.jsx(dt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":Y3(l.value)?"":void 0,...i,ref:d,onClick:ct(i.onClick,b=>{b.currentTarget.focus(),h.current!=="mouse"&&w(b)}),onPointerDown:ct(i.onPointerDown,b=>{h.current=b.pointerType;const y=b.target;y.hasPointerCapture(b.pointerId)&&y.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(w(b),b.preventDefault())}),onKeyDown:ct(i.onKeyDown,b=>{const y=m.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&v(b.key),!(y&&b.key===" ")&&Yae.includes(b.key)&&(w(),b.preventDefault())})})})});O3.displayName=P3;var _3="SelectValue",T3=k.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:o,placeholder:l="",...u}=e,d=io(_3,r),{onValueNodeHasChildrenChange:f}=d,h=o!==void 0,m=Yt(t,d.onValueNodeChange);return qr(()=>{f(h)},[f,h]),a.jsx(dt.span,{...u,ref:m,style:{pointerEvents:"none"},children:Y3(d.value)?a.jsx(a.Fragment,{children:l}):o})});T3.displayName=_3;var nie="SelectIcon",E3=k.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return a.jsx(dt.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});E3.displayName=nie;var aie="SelectPortal",D3=e=>a.jsx(zw,{asChild:!0,...e});D3.displayName=aie;var qo="SelectContent",R3=k.forwardRef((e,t)=>{const r=io(qo,e.__scopeSelect),[n,i]=k.useState();if(qr(()=>{i(new DocumentFragment)},[]),!r.open){const o=n;return o?Yu.createPortal(a.jsx(I3,{scope:e.__scopeSelect,children:a.jsx(Gh.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(M3,{...e,ref:t})});R3.displayName=qo;var na=10,[I3,oo]=Kl(qo),iie="SelectContentImpl",oie=aae("SelectContent.RemoveScroll"),M3=k.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:l,side:u,sideOffset:d,align:f,alignOffset:h,arrowPadding:m,collisionBoundary:v,collisionPadding:x,sticky:w,hideWhenDetached:b,avoidCollisions:y,...j}=e,A=io(qo,r),[S,N]=k.useState(null),[z,O]=k.useState(null),_=Yt(t,ne=>N(ne)),[E,T]=k.useState(null),[B,R]=k.useState(null),F=qh(r),[K,H]=k.useState(!1),M=k.useRef(!1);k.useEffect(()=>{if(S)return b3(S)},[S]),qI();const $=k.useCallback(ne=>{const[ie,...ce]=F().map(ee=>ee.ref.current),[fe]=ce.slice(-1),q=document.activeElement;for(const ee of ne)if(ee===q||(ee?.scrollIntoView({block:"nearest"}),ee===ie&&z&&(z.scrollTop=0),ee===fe&&z&&(z.scrollTop=z.scrollHeight),ee?.focus(),document.activeElement!==q))return},[F,z]),U=k.useCallback(()=>$([E,S]),[$,E,S]);k.useEffect(()=>{K&&U()},[K,U]);const{onOpenChange:I,triggerPointerDownPosRef:Q}=A;k.useEffect(()=>{if(S){let ne={x:0,y:0};const ie=fe=>{ne={x:Math.abs(Math.round(fe.pageX)-(Q.current?.x??0)),y:Math.abs(Math.round(fe.pageY)-(Q.current?.y??0))}},ce=fe=>{ne.x<=10&&ne.y<=10?fe.preventDefault():S.contains(fe.target)||I(!1),document.removeEventListener("pointermove",ie),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",ce,{capture:!0})}}},[S,I,Q]),k.useEffect(()=>{const ne=()=>I(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[I]);const[L,W]=Q3(ne=>{const ie=F().filter(q=>!q.disabled),ce=ie.find(q=>q.ref.current===document.activeElement),fe=J3(ie,ne,ce);fe&&setTimeout(()=>fe.ref.current.focus())}),X=k.useCallback((ne,ie,ce)=>{const fe=!M.current&&!ce;(A.value!==void 0&&A.value===ie||fe)&&(T(ne),fe&&(M.current=!0))},[A.value]),se=k.useCallback(()=>S?.focus(),[S]),de=k.useCallback((ne,ie,ce)=>{const fe=!M.current&&!ce;(A.value!==void 0&&A.value===ie||fe)&&R(ne)},[A.value]),ge=n==="popper"?ZS:L3,xe=ge===ZS?{side:u,sideOffset:d,align:f,alignOffset:h,arrowPadding:m,collisionBoundary:v,collisionPadding:x,sticky:w,hideWhenDetached:b,avoidCollisions:y}:{};return a.jsx(I3,{scope:r,content:S,viewport:z,onViewportChange:O,itemRefCallback:X,selectedItem:E,onItemLeave:se,itemTextRefCallback:de,focusSelectedItem:U,selectedItemText:B,position:n,isPositioned:K,searchRef:L,children:a.jsx(Nw,{as:oie,allowPinchZoom:!0,children:a.jsx(yw,{asChild:!0,trapped:A.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:ct(i,ne=>{A.trigger?.focus({preventScroll:!0}),ne.preventDefault()}),children:a.jsx(gw,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:a.jsx(ge,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:ne=>ne.preventDefault(),...j,...xe,onPlaced:()=>H(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:ct(j.onKeyDown,ne=>{const ie=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!ie&&ne.key.length===1&&W(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let fe=F().filter(q=>!q.disabled).map(q=>q.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const q=ne.target,ee=fe.indexOf(q);fe=fe.slice(ee+1)}setTimeout(()=>$(fe)),ne.preventDefault()}})})})})})})});M3.displayName=iie;var sie="SelectItemAlignedPosition",L3=k.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,o=io(qo,r),l=oo(qo,r),[u,d]=k.useState(null),[f,h]=k.useState(null),m=Yt(t,_=>h(_)),v=qh(r),x=k.useRef(!1),w=k.useRef(!0),{viewport:b,selectedItem:y,selectedItemText:j,focusSelectedItem:A}=l,S=k.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&f&&b&&y&&j){const _=o.trigger.getBoundingClientRect(),E=f.getBoundingClientRect(),T=o.valueNode.getBoundingClientRect(),B=j.getBoundingClientRect();if(o.dir!=="rtl"){const q=B.left-E.left,ee=T.left-q,Oe=_.left-ee,je=_.width+Oe,st=Math.max(je,E.width),Qe=window.innerWidth-na,bt=M_(ee,[na,Math.max(na,Qe-st)]);u.style.minWidth=je+"px",u.style.left=bt+"px"}else{const q=E.right-B.right,ee=window.innerWidth-T.right-q,Oe=window.innerWidth-_.right-ee,je=_.width+Oe,st=Math.max(je,E.width),Qe=window.innerWidth-na,bt=M_(ee,[na,Math.max(na,Qe-st)]);u.style.minWidth=je+"px",u.style.right=bt+"px"}const R=v(),F=window.innerHeight-na*2,K=b.scrollHeight,H=window.getComputedStyle(f),M=parseInt(H.borderTopWidth,10),$=parseInt(H.paddingTop,10),U=parseInt(H.borderBottomWidth,10),I=parseInt(H.paddingBottom,10),Q=M+$+K+I+U,L=Math.min(y.offsetHeight*5,Q),W=window.getComputedStyle(b),X=parseInt(W.paddingTop,10),se=parseInt(W.paddingBottom,10),de=_.top+_.height/2-na,ge=F-de,xe=y.offsetHeight/2,ne=y.offsetTop+xe,ie=M+$+ne,ce=Q-ie;if(ie<=de){const q=R.length>0&&y===R[R.length-1].ref.current;u.style.bottom="0px";const ee=f.clientHeight-b.offsetTop-b.offsetHeight,Oe=Math.max(ge,xe+(q?se:0)+ee+U),je=ie+Oe;u.style.height=je+"px"}else{const q=R.length>0&&y===R[0].ref.current;u.style.top="0px";const Oe=Math.max(de,M+b.offsetTop+(q?X:0)+xe)+ce;u.style.height=Oe+"px",b.scrollTop=ie-de+b.offsetTop}u.style.margin=`${na}px 0`,u.style.minHeight=L+"px",u.style.maxHeight=F+"px",n?.(),requestAnimationFrame(()=>x.current=!0)}},[v,o.trigger,o.valueNode,u,f,b,y,j,o.dir,n]);qr(()=>S(),[S]);const[N,z]=k.useState();qr(()=>{f&&z(window.getComputedStyle(f).zIndex)},[f]);const O=k.useCallback(_=>{_&&w.current===!0&&(S(),A?.(),w.current=!1)},[S,A]);return a.jsx(cie,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:x,onScrollButtonChange:O,children:a.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:a.jsx(dt.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});L3.displayName=sie;var lie="SelectPopperPosition",ZS=k.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=na,...o}=e,l=Zh(r);return a.jsx(tae,{...l,...o,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ZS.displayName=lie;var[cie,Pw]=Kl(qo,{}),XS="SelectViewport",B3=k.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,o=oo(XS,r),l=Pw(XS,r),u=Yt(t,o.onViewportChange),d=k.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Gh.Slot,{scope:r,children:a.jsx(dt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ct(i.onScroll,f=>{const h=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:v}=l;if(v?.current&&m){const x=Math.abs(d.current-h.scrollTop);if(x>0){const w=window.innerHeight-na*2,b=parseFloat(m.style.minHeight),y=parseFloat(m.style.height),j=Math.max(b,y);if(j<w){const A=j+x,S=Math.min(w,A),N=A-S;m.style.height=S+"px",m.style.bottom==="0px"&&(h.scrollTop=N>0?N:0,m.style.justifyContent="flex-end")}}}d.current=h.scrollTop})})})]})});B3.displayName=XS;var F3="SelectGroup",[uie,die]=Kl(F3),fie=k.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Vi();return a.jsx(uie,{scope:r,id:i,children:a.jsx(dt.div,{role:"group","aria-labelledby":i,...n,ref:t})})});fie.displayName=F3;var W3="SelectLabel",pie=k.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=die(W3,r);return a.jsx(dt.div,{id:i.id,...n,ref:t})});pie.displayName=W3;var Qp="SelectItem",[hie,$3]=Kl(Qp),U3=k.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:o,...l}=e,u=io(Qp,r),d=oo(Qp,r),f=u.value===n,[h,m]=k.useState(o??""),[v,x]=k.useState(!1),w=Yt(t,A=>d.itemRefCallback?.(A,n,i)),b=Vi(),y=k.useRef("touch"),j=()=>{i||(u.onValueChange(n),u.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(hie,{scope:r,value:n,disabled:i,textId:b,isSelected:f,onItemTextChange:k.useCallback(A=>{m(S=>S||(A?.textContent??"").trim())},[]),children:a.jsx(Gh.ItemSlot,{scope:r,value:n,disabled:i,textValue:h,children:a.jsx(dt.div,{role:"option","aria-labelledby":b,"data-highlighted":v?"":void 0,"aria-selected":f&&v,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:w,onFocus:ct(l.onFocus,()=>x(!0)),onBlur:ct(l.onBlur,()=>x(!1)),onClick:ct(l.onClick,()=>{y.current!=="mouse"&&j()}),onPointerUp:ct(l.onPointerUp,()=>{y.current==="mouse"&&j()}),onPointerDown:ct(l.onPointerDown,A=>{y.current=A.pointerType}),onPointerMove:ct(l.onPointerMove,A=>{y.current=A.pointerType,i?d.onItemLeave?.():y.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ct(l.onPointerLeave,A=>{A.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:ct(l.onKeyDown,A=>{d.searchRef?.current!==""&&A.key===" "||(Qae.includes(A.key)&&j(),A.key===" "&&A.preventDefault())})})})})});U3.displayName=Qp;var Gc="SelectItemText",H3=k.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...o}=e,l=io(Gc,r),u=oo(Gc,r),d=$3(Gc,r),f=rie(Gc,r),[h,m]=k.useState(null),v=Yt(t,j=>m(j),d.onItemTextChange,j=>u.itemTextRefCallback?.(j,d.value,d.disabled)),x=h?.textContent,w=k.useMemo(()=>a.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:b,onNativeOptionRemove:y}=f;return qr(()=>(b(w),()=>y(w)),[b,y,w]),a.jsxs(a.Fragment,{children:[a.jsx(dt.span,{id:d.textId,...o,ref:v}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Yu.createPortal(o.children,l.valueNode):null]})});H3.displayName=Gc;var K3="SelectItemIndicator",V3=k.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return $3(K3,r).isSelected?a.jsx(dt.span,{"aria-hidden":!0,...n,ref:t}):null});V3.displayName=K3;var YS="SelectScrollUpButton",G3=k.forwardRef((e,t)=>{const r=oo(YS,e.__scopeSelect),n=Pw(YS,e.__scopeSelect),[i,o]=k.useState(!1),l=Yt(t,n.onScrollButtonChange);return qr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollTop>0;o(f)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?a.jsx(Z3,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});G3.displayName=YS;var QS="SelectScrollDownButton",q3=k.forwardRef((e,t)=>{const r=oo(QS,e.__scopeSelect),n=Pw(QS,e.__scopeSelect),[i,o]=k.useState(!1),l=Yt(t,n.onScrollButtonChange);return qr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollHeight-d.clientHeight,h=Math.ceil(d.scrollTop)<f;o(h)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?a.jsx(Z3,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});q3.displayName=QS;var Z3=k.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,o=oo("SelectScrollButton",r),l=k.useRef(null),u=qh(r),d=k.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return k.useEffect(()=>()=>d(),[d]),qr(()=>{u().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),a.jsx(dt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:ct(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:ct(i.onPointerMove,()=>{o.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:ct(i.onPointerLeave,()=>{d()})})}),mie="SelectSeparator",vie=k.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(dt.div,{"aria-hidden":!0,...n,ref:t})});vie.displayName=mie;var JS="SelectArrow",gie=k.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Zh(r),o=io(JS,r),l=oo(JS,r);return o.open&&l.position==="popper"?a.jsx(rae,{...i,...n,ref:t}):null});gie.displayName=JS;var yie="SelectBubbleInput",X3=k.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=k.useRef(null),o=Yt(n,i),l=wI(t);return k.useEffect(()=>{const u=i.current;if(!u)return;const d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&h){const m=new Event("change",{bubbles:!0});h.call(u,t),u.dispatchEvent(m)}},[l,t]),a.jsx(dt.select,{...r,style:{...y3,...r.style},ref:o,defaultValue:t})});X3.displayName=yie;function Y3(e){return e===""||e===void 0}function Q3(e){const t=Xi(e),r=k.useRef(""),n=k.useRef(0),i=k.useCallback(l=>{const u=r.current+l;t(u),(function d(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(u)},[t]),o=k.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return k.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,o]}function J3(e,t,r){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let l=xie(e,Math.max(o,0));i.length===1&&(l=l.filter(f=>f!==r));const d=l.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==r?d:void 0}function xie(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var bie=N3,Sie=O3,wie=T3,jie=E3,kie=D3,Cie=R3,Aie=B3,zie=U3,Nie=H3,Pie=V3,Oie=G3,_ie=q3;function e1({...e}){return a.jsx(bie,{"data-slot":"select",...e})}function t1({...e}){return a.jsx(wie,{"data-slot":"select-value",...e})}function r1({className:e,size:t="default",children:r,...n}){return a.jsxs(Sie,{"data-slot":"select-trigger","data-size":t,className:tr("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,a.jsx(jie,{asChild:!0,children:a.jsx(Ji,{className:"size-4 opacity-50"})})]})}function n1({className:e,children:t,position:r="popper",...n}){return a.jsx(kie,{children:a.jsxs(Cie,{"data-slot":"select-content",className:tr("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(Tie,{}),a.jsx(Aie,{className:tr("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),a.jsx(Eie,{})]})})}function Mo({className:e,children:t,...r}){return a.jsxs(zie,{"data-slot":"select-item",className:tr("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx(Pie,{children:a.jsx(ci,{className:"size-4"})})}),a.jsx(Nie,{children:t})]})}function Tie({className:e,...t}){return a.jsx(Oie,{"data-slot":"select-scroll-up-button",className:tr("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(TT,{className:"size-4"})})}function Eie({className:e,...t}){return a.jsx(_ie,{"data-slot":"select-scroll-down-button",className:tr("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Ji,{className:"size-4"})})}var Die=Symbol.for("react.lazy"),Jp=o1[" use ".trim().toString()];function Rie(e){return typeof e=="object"&&e!==null&&"then"in e}function e4(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Die&&"_payload"in e&&Rie(e._payload)}function Iie(e){const t=Mie(e),r=k.forwardRef((n,i)=>{let{children:o,...l}=n;e4(o)&&typeof Jp=="function"&&(o=Jp(o._payload));const u=k.Children.toArray(o),d=u.find(Bie);if(d){const f=d.props.children,h=u.map(m=>m===d?k.Children.count(f)>1?k.Children.only(null):k.isValidElement(f)?f.props.children:null:m);return a.jsx(t,{...l,ref:i,children:k.isValidElement(f)?k.cloneElement(f,void 0,h):null})}return a.jsx(t,{...l,ref:i,children:o})});return r.displayName=`${e}.Slot`,r}var t4=Iie("Slot");function Mie(e){const t=k.forwardRef((r,n)=>{let{children:i,...o}=r;if(e4(i)&&typeof Jp=="function"&&(i=Jp(i._payload)),k.isValidElement(i)){const l=Wie(i),u=Fie(o,i.props);return i.type!==k.Fragment&&(u.ref=n?Bl(n,l):l),k.cloneElement(i,u)}return k.Children.count(i)>1?k.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Lie=Symbol("radix.slottable");function Bie(e){return k.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Lie}function Fie(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function Wie(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const lT=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cT=Ye,r4=(e,t)=>r=>{var n;if(t?.variants==null)return cT(e,r?.class,r?.className);const{variants:i,defaultVariants:o}=t,l=Object.keys(i).map(f=>{const h=r?.[f],m=o?.[f];if(h===null)return null;const v=lT(h)||lT(m);return i[f][v]}),u=r&&Object.entries(r).reduce((f,h)=>{let[m,v]=h;return v===void 0||(f[m]=v),f},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,h)=>{let{class:m,className:v,...x}=h;return Object.entries(x).every(w=>{let[b,y]=w;return Array.isArray(y)?y.includes({...o,...u}[b]):{...o,...u}[b]===y})?[...f,m,v]:f},[]);return cT(e,l,d,r?.class,r?.className)},$ie=r4("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function ra({className:e,variant:t,size:r,asChild:n=!1,...i}){const o=n?t4:"button";return a.jsx(o,{"data-slot":"button",className:tr($ie({variant:t,size:r,className:e})),...i})}const Uie=r4("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function n4({className:e,variant:t,asChild:r=!1,...n}){const i=r?t4:"span";return a.jsx(i,{"data-slot":"badge",className:tr(Uie({variant:t}),e),...n})}function Hie(e){const t=Kie(e),r=k.forwardRef((n,i)=>{const{children:o,...l}=n,u=k.Children.toArray(o),d=u.find(Gie);if(d){const f=d.props.children,h=u.map(m=>m===d?k.Children.count(f)>1?k.Children.only(null):k.isValidElement(f)?f.props.children:null:m);return a.jsx(t,{...l,ref:i,children:k.isValidElement(f)?k.cloneElement(f,void 0,h):null})}return a.jsx(t,{...l,ref:i,children:o})});return r.displayName=`${e}.Slot`,r}function Kie(e){const t=k.forwardRef((r,n)=>{const{children:i,...o}=r;if(k.isValidElement(i)){const l=Zie(i),u=qie(o,i.props);return i.type!==k.Fragment&&(u.ref=n?Bl(n,l):l),k.cloneElement(i,u)}return k.Children.count(i)>1?k.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Vie=Symbol("radix.slottable");function Gie(e){return k.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Vie}function qie(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function Zie(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Xh="Dialog",[a4]=ts(Xh),[Xie,ha]=a4(Xh),i4=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,u=k.useRef(null),d=k.useRef(null),[f,h]=Al({prop:n,defaultProp:i??!1,onChange:o,caller:Xh});return a.jsx(Xie,{scope:t,triggerRef:u,contentRef:d,contentId:Vi(),titleId:Vi(),descriptionId:Vi(),open:f,onOpenChange:h,onOpenToggle:k.useCallback(()=>h(m=>!m),[h]),modal:l,children:r})};i4.displayName=Xh;var o4="DialogTrigger",Yie=k.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=ha(o4,r),o=Yt(t,i.triggerRef);return a.jsx(dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Tw(i.open),...n,ref:o,onClick:ct(e.onClick,i.onOpenToggle)})});Yie.displayName=o4;var Ow="DialogPortal",[Qie,s4]=a4(Ow,{forceMount:void 0}),l4=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,o=ha(Ow,t);return a.jsx(Qie,{scope:t,forceMount:r,children:k.Children.map(n,l=>a.jsx(Fl,{present:r||o.open,children:a.jsx(zw,{asChild:!0,container:i,children:l})}))})};l4.displayName=Ow;var eh="DialogOverlay",c4=k.forwardRef((e,t)=>{const r=s4(eh,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,o=ha(eh,e.__scopeDialog);return o.modal?a.jsx(Fl,{present:n||o.open,children:a.jsx(eoe,{...i,ref:t})}):null});c4.displayName=eh;var Jie=Hie("DialogOverlay.RemoveScroll"),eoe=k.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=ha(eh,r);return a.jsx(Nw,{as:Jie,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(dt.div,{"data-state":Tw(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Zo="DialogContent",u4=k.forwardRef((e,t)=>{const r=s4(Zo,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,o=ha(Zo,e.__scopeDialog);return a.jsx(Fl,{present:n||o.open,children:o.modal?a.jsx(toe,{...i,ref:t}):a.jsx(roe,{...i,ref:t})})});u4.displayName=Zo;var toe=k.forwardRef((e,t)=>{const r=ha(Zo,e.__scopeDialog),n=k.useRef(null),i=Yt(t,r.contentRef,n);return k.useEffect(()=>{const o=n.current;if(o)return b3(o)},[]),a.jsx(d4,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ct(e.onCloseAutoFocus,o=>{o.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:ct(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&o.preventDefault()}),onFocusOutside:ct(e.onFocusOutside,o=>o.preventDefault())})}),roe=k.forwardRef((e,t)=>{const r=ha(Zo,e.__scopeDialog),n=k.useRef(!1),i=k.useRef(!1);return a.jsx(d4,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;r.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),d4=k.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,...l}=e,u=ha(Zo,r),d=k.useRef(null),f=Yt(t,d);return qI(),a.jsxs(a.Fragment,{children:[a.jsx(yw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:a.jsx(gw,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Tw(u.open),...l,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(noe,{titleId:u.titleId}),a.jsx(ioe,{contentRef:d,descriptionId:u.descriptionId})]})]})}),_w="DialogTitle",f4=k.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=ha(_w,r);return a.jsx(dt.h2,{id:i.titleId,...n,ref:t})});f4.displayName=_w;var p4="DialogDescription",h4=k.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=ha(p4,r);return a.jsx(dt.p,{id:i.descriptionId,...n,ref:t})});h4.displayName=p4;var m4="DialogClose",v4=k.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=ha(m4,r);return a.jsx(dt.button,{type:"button",...n,ref:t,onClick:ct(e.onClick,()=>i.onOpenChange(!1))})});v4.displayName=m4;function Tw(e){return e?"open":"closed"}var g4="DialogTitleWarning",[Dse,y4]=Nee(g4,{contentName:Zo,titleName:_w,docsSlug:"dialog"}),noe=({titleId:e})=>{const t=y4(g4),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return k.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},aoe="DialogDescriptionWarning",ioe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${y4(aoe).contentName}}.`;return k.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},ooe=i4,soe=l4,x4=c4,loe=u4,coe=f4,uoe=h4,doe=v4;function uT({...e}){return a.jsx(ooe,{"data-slot":"dialog",...e})}function foe({...e}){return a.jsx(soe,{"data-slot":"dialog-portal",...e})}const b4=k.forwardRef(({className:e,...t},r)=>a.jsx(x4,{ref:r,"data-slot":"dialog-overlay",className:tr("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));b4.displayName=x4.displayName;function dT({className:e,children:t,...r}){return a.jsxs(foe,{"data-slot":"dialog-portal",children:[a.jsx(b4,{}),a.jsxs(loe,{"data-slot":"dialog-content",className:tr("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,a.jsxs(doe,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(Ct,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function fT({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-header",className:tr("flex flex-col gap-2 text-center sm:text-left",e),...t})}function pT({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-footer",className:tr("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function hT({className:e,...t}){return a.jsx(coe,{"data-slot":"dialog-title",className:tr("text-lg leading-none font-semibold",e),...t})}function mT({className:e,...t}){return a.jsx(uoe,{"data-slot":"dialog-description",className:tr("text-muted-foreground text-sm",e),...t})}var c0="rovingFocusGroup.onEntryFocus",poe={bubbles:!1,cancelable:!0},td="RovingFocusGroup",[a1,S4,hoe]=KI(td),[moe,w4]=ts(td,[hoe]),[voe,goe]=moe(td),j4=k.forwardRef((e,t)=>a.jsx(a1.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(a1.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(yoe,{...e,ref:t})})}));j4.displayName=td;var yoe=k.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:h=!1,...m}=e,v=k.useRef(null),x=Yt(t,v),w=vw(o),[b,y]=Al({prop:l,defaultProp:u??null,onChange:d,caller:td}),[j,A]=k.useState(!1),S=Xi(f),N=S4(r),z=k.useRef(!1),[O,_]=k.useState(0);return k.useEffect(()=>{const E=v.current;if(E)return E.addEventListener(c0,S),()=>E.removeEventListener(c0,S)},[S]),a.jsx(voe,{scope:r,orientation:n,dir:w,loop:i,currentTabStopId:b,onItemFocus:k.useCallback(E=>y(E),[y]),onItemShiftTab:k.useCallback(()=>A(!0),[]),onFocusableItemAdd:k.useCallback(()=>_(E=>E+1),[]),onFocusableItemRemove:k.useCallback(()=>_(E=>E-1),[]),children:a.jsx(dt.div,{tabIndex:j||O===0?-1:0,"data-orientation":n,...m,ref:x,style:{outline:"none",...e.style},onMouseDown:ct(e.onMouseDown,()=>{z.current=!0}),onFocus:ct(e.onFocus,E=>{const T=!z.current;if(E.target===E.currentTarget&&T&&!j){const B=new CustomEvent(c0,poe);if(E.currentTarget.dispatchEvent(B),!B.defaultPrevented){const R=N().filter($=>$.focusable),F=R.find($=>$.active),K=R.find($=>$.id===b),M=[F,K,...R].filter(Boolean).map($=>$.ref.current);A4(M,h)}}z.current=!1}),onBlur:ct(e.onBlur,()=>A(!1))})})}),k4="RovingFocusGroupItem",C4=k.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:o,children:l,...u}=e,d=Vi(),f=o||d,h=goe(k4,r),m=h.currentTabStopId===f,v=S4(r),{onFocusableItemAdd:x,onFocusableItemRemove:w,currentTabStopId:b}=h;return k.useEffect(()=>{if(n)return x(),()=>w()},[n,x,w]),a.jsx(a1.ItemSlot,{scope:r,id:f,focusable:n,active:i,children:a.jsx(dt.span,{tabIndex:m?0:-1,"data-orientation":h.orientation,...u,ref:t,onMouseDown:ct(e.onMouseDown,y=>{n?h.onItemFocus(f):y.preventDefault()}),onFocus:ct(e.onFocus,()=>h.onItemFocus(f)),onKeyDown:ct(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){h.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const j=Soe(y,h.orientation,h.dir);if(j!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let S=v().filter(N=>N.focusable).map(N=>N.ref.current);if(j==="last")S.reverse();else if(j==="prev"||j==="next"){j==="prev"&&S.reverse();const N=S.indexOf(y.currentTarget);S=h.loop?woe(S,N+1):S.slice(N+1)}setTimeout(()=>A4(S))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:b!=null}):l})})});C4.displayName=k4;var xoe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function boe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Soe(e,t,r){const n=boe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return xoe[n]}function A4(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function woe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var joe=j4,koe=C4,Yh="Tabs",[Coe]=ts(Yh,[w4]),z4=w4(),[Aoe,Ew]=Coe(Yh),N4=k.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:o,orientation:l="horizontal",dir:u,activationMode:d="automatic",...f}=e,h=vw(u),[m,v]=Al({prop:n,onChange:i,defaultProp:o??"",caller:Yh});return a.jsx(Aoe,{scope:r,baseId:Vi(),value:m,onValueChange:v,orientation:l,dir:h,activationMode:d,children:a.jsx(dt.div,{dir:h,"data-orientation":l,...f,ref:t})})});N4.displayName=Yh;var P4="TabsList",O4=k.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,o=Ew(P4,r),l=z4(r);return a.jsx(joe,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:n,children:a.jsx(dt.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})});O4.displayName=P4;var _4="TabsTrigger",T4=k.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...o}=e,l=Ew(_4,r),u=z4(r),d=R4(l.baseId,n),f=I4(l.baseId,n),h=n===l.value;return a.jsx(koe,{asChild:!0,...u,focusable:!i,active:h,children:a.jsx(dt.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":f,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...o,ref:t,onMouseDown:ct(e.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?l.onValueChange(n):m.preventDefault()}),onKeyDown:ct(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&l.onValueChange(n)}),onFocus:ct(e.onFocus,()=>{const m=l.activationMode!=="manual";!h&&!i&&m&&l.onValueChange(n)})})})});T4.displayName=_4;var E4="TabsContent",D4=k.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:o,...l}=e,u=Ew(E4,r),d=R4(u.baseId,n),f=I4(u.baseId,n),h=n===u.value,m=k.useRef(h);return k.useEffect(()=>{const v=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(v)},[]),a.jsx(Fl,{present:i||h,children:({present:v})=>a.jsx(dt.div,{"data-state":h?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!v,id:f,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:v&&o})})});D4.displayName=E4;function R4(e,t){return`${e}-trigger-${t}`}function I4(e,t){return`${e}-content-${t}`}var zoe=N4,Noe=O4,Poe=T4,Ooe=D4;function _oe({className:e,...t}){return a.jsx(zoe,{"data-slot":"tabs",className:tr("flex flex-col gap-2",e),...t})}function Toe({className:e,...t}){return a.jsx(Noe,{"data-slot":"tabs-list",className:tr("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function vT({className:e,...t}){return a.jsx(Poe,{"data-slot":"tabs-trigger",className:tr("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function gT({className:e,...t}){return a.jsx(Ooe,{"data-slot":"tabs-content",className:tr("flex-1 outline-none",e),...t})}function Eoe({...e}){return a.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...e})}function Doe({className:e,...t}){return a.jsx("ol",{"data-slot":"breadcrumb-list",className:tr("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",e),...t})}function yT({className:e,...t}){return a.jsx("li",{"data-slot":"breadcrumb-item",className:tr("inline-flex items-center gap-1.5",e),...t})}function Roe({className:e,...t}){return a.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:tr("text-foreground font-normal",e),...t})}function Ioe({children:e,className:t,...r}){return a.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:tr("[&>svg]:size-3.5",t),...r,children:e??a.jsx(fn,{})})}const Qr={Schuhe:"#2563eb",Taschen:"#10b981",Accessoires:"#f59e0b",Mode:"#8b5cf6",Schmuck:"#ec4899",Seasonal:"#06b6d4",Promotion:"#f97316","Core Range":"#6366f1"};function Moe({store:e,placedFixtures:t}){const[r,n]=k.useState(null),[i,o]=k.useState(null),[l,u]=k.useState("product-groups"),d=t.map(j=>{if(j.productGroupDistribution)return j;const A=[],S=j.assignedCategory||"Mode",N=Qr[S]||"#2563eb";return S==="Mode"?A.push({productGroup:"Schuhe",area:j.capacity*.6,percentage:60,color:Qr.Schuhe,targetPercentage:55,deviation:5},{productGroup:"Accessoires",area:j.capacity*.4,percentage:40,color:Qr.Accessoires,targetPercentage:45,deviation:-5}):S==="Accessoires"?A.push({productGroup:"Taschen",area:j.capacity*.5,percentage:50,color:Qr.Taschen,targetPercentage:50,deviation:0},{productGroup:"Accessoires",area:j.capacity*.3,percentage:30,color:Qr.Accessoires,targetPercentage:30,deviation:0},{productGroup:"Schmuck",area:j.capacity*.2,percentage:20,color:Qr.Schmuck,targetPercentage:20,deviation:0}):S==="Seasonal"?A.push({productGroup:"Seasonal",area:j.capacity*.7,percentage:70,color:Qr.Seasonal,targetPercentage:60,deviation:10},{productGroup:"Promotion",area:j.capacity*.3,percentage:30,color:Qr.Promotion,targetPercentage:40,deviation:-10}):S==="Core Range"?A.push({productGroup:"Schuhe",area:j.capacity*.35,percentage:35,color:Qr.Schuhe,targetPercentage:30,deviation:5},{productGroup:"Mode",area:j.capacity*.35,percentage:35,color:Qr.Mode,targetPercentage:40,deviation:-5},{productGroup:"Taschen",area:j.capacity*.3,percentage:30,color:Qr.Taschen,targetPercentage:30,deviation:0}):S==="Schmuck"?A.push({productGroup:"Schmuck",area:j.capacity*.8,percentage:80,color:Qr.Schmuck,targetPercentage:75,deviation:5},{productGroup:"Accessoires",area:j.capacity*.2,percentage:20,color:Qr.Accessoires,targetPercentage:25,deviation:-5}):S==="Promotion"?A.push({productGroup:"Promotion",area:j.capacity*.6,percentage:60,color:Qr.Promotion,targetPercentage:50,deviation:10},{productGroup:"Seasonal",area:j.capacity*.4,percentage:40,color:Qr.Seasonal,targetPercentage:50,deviation:-10}):A.push({productGroup:S,area:j.capacity*1,percentage:100,color:N,targetPercentage:100,deviation:0}),{...j,productGroupDistribution:A}}),f=d.reduce((j,A)=>(A.productGroupDistribution?.forEach(S=>{const N=j.find(z=>z.productGroup===S.productGroup);N?N.area+=S.area:j.push({productGroup:S.productGroup,area:S.area,percentage:0,color:S.color,targetPercentage:S.targetPercentage,deviation:0})}),j),[]),h=f.reduce((j,A)=>j+A.area,0);f.forEach(j=>{j.percentage=h>0?j.area/h*100:0});const m=d.map(j=>{const A=j.productGroupDistribution?.reduce((z,O)=>z+Math.abs(O.deviation||0),0)||0,S=Math.max(...j.productGroupDistribution?.map(z=>Math.abs(z.deviation||0))||[0]),N={name:`${j.fixtureType} ${j.id.substring(0,6)}`,fixtureId:j.id,deviation:S,totalDeviation:A};return j.productGroupDistribution?.forEach(z=>{N[z.productGroup]=z.percentage}),N}).filter(j=>j.deviation>=5).sort((j,A)=>A.deviation-j.deviation).slice(0,10),v=d.reduce((j,A)=>j+A.capacity,0),w=(e.layout?.usableArea||0)-v,b=m.length,y=r?d.find(j=>j.id===r):null;return a.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[a.jsx("div",{className:"p-4 rounded-lg border mb-6",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)"},children:a.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[a.jsxs("div",{className:"flex-1 min-w-[300px]",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Filiale"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:e.name})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Zeitraum"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"KW 50-52, 2024"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Planungsebene"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Produktgruppe"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Datenbasis"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Prognose + Allokation"})]})]}),a.jsx("div",{className:"mt-3 p-2 rounded",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Die Verteilung basiert auf der aktuellen SOLL-Kapazitt und Prognose."})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Belegte Flche"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:[v.toFixed(1)," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Freie Flche"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:w<0?"var(--status-danger)":w<10?"var(--status-warning)":"var(--status-success)"},children:[w.toFixed(1)," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"ber-/Unterdeckung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:Math.abs(w)>10?"var(--status-warning)":"var(--status-success)"},children:[w>0?"+":"",w.toFixed(1)," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Warentrger m. Konflikt"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:b>0?"var(--status-warning)":"var(--status-success)"},children:b})]})]}),a.jsx("div",{className:"flex gap-2 ml-auto",children:a.jsxs(e1,{value:l,onValueChange:j=>u(j),children:[a.jsx(r1,{className:"w-[200px]",children:a.jsx(t1,{})}),a.jsxs(n1,{children:[a.jsx(Mo,{value:"aggregated",children:"Aggregiert"}),a.jsx(Mo,{value:"product-groups",children:"Nach Produktgruppen"}),a.jsx(Mo,{value:"hierarchy",children:"Nach Hierarchieebene"})]})]})})]})}),a.jsxs("div",{className:"flex-1 flex gap-6 min-h-0",children:[a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsxs("div",{className:"relative rounded-lg border flex-1 mb-6 overflow-auto",style:{backgroundColor:"#ffffff",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",minHeight:`${(e.layout?.height||500)+60}px`},children:[a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"linear-gradient(var(--border-subtle) 1px, transparent 1px), linear-gradient(90deg, var(--border-subtle) 1px, transparent 1px)",backgroundSize:"20px 20px"}}),a.jsxs("div",{className:"absolute border-2",style:{left:"20px",top:"20px",width:`${e.layout?.width||700}px`,height:`${(e.layout?.height||500)+20}px`,borderColor:"var(--text-primary)",borderStyle:"solid"},children:[e.layout?.aisles.map((j,A)=>a.jsx("div",{className:"absolute",style:{left:`${j.x}px`,top:`${j.y}px`,width:`${j.width}px`,height:`${j.height}px`,backgroundColor:"#e5e5e5",opacity:.5}},A)),e.layout?.zones.map((j,A)=>a.jsxs("div",{className:"absolute flex items-center justify-center",style:{left:`${j.x}px`,top:`${j.y}px`,width:`${j.width}px`,height:`${j.height}px`,backgroundColor:j.type==="emergency"?"#fee2e2":j.type==="cashier"?"#dbeafe":j.type==="window"?"#fef3c7":"#e0e7ff",border:j.type==="emergency"?"2px solid var(--status-danger)":"1px solid var(--border-default)",borderRadius:"var(--radius-sm)",fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[j.type==="emergency"&&a.jsx("span",{style:{fontSize:"20px"},children:""}),j.type==="cashier"&&a.jsx("span",{style:{fontSize:"20px"},children:""}),j.type==="window"&&a.jsx("span",{style:{fontSize:"20px"},children:""}),j.type==="storage"&&a.jsx("span",{style:{fontSize:"20px"},children:""})]},`zone-${A}`)),d.map(j=>{const A=i===j.id,S=r===j.id;return a.jsxs("div",{className:"absolute cursor-pointer border-2 transition-all overflow-hidden",style:{left:`${j.x}px`,top:`${j.y}px`,width:`${j.rotation%180===90?j.height:j.width}px`,height:`${j.rotation%180===90?j.width:j.height}px`,borderColor:S?"var(--brand-primary)":A?"var(--status-warning)":"var(--border-default)",borderRadius:"var(--radius-sm)",borderWidth:S?"3px":"2px",boxShadow:A?"var(--shadow-md)":void 0},onClick:()=>n(j.id),onMouseEnter:()=>o(j.id),onMouseLeave:()=>o(null),children:[l==="product-groups"&&j.productGroupDistribution&&a.jsx("div",{className:"h-full flex",children:j.productGroupDistribution.map((N,z)=>a.jsx("div",{style:{flex:N.percentage,backgroundColor:N.color,opacity:.7},title:`${N.productGroup}: ${N.percentage.toFixed(0)}%`},z))}),l==="aggregated"&&a.jsx("div",{className:"h-full",style:{backgroundColor:"var(--surface-subtle-tint)"}}),a.jsxs("div",{className:"absolute top-0 right-0 px-1.5 py-0.5 rounded-bl",style:{backgroundColor:"rgba(0, 0, 0, 0.7)",fontSize:"var(--font-size-xs)",color:"white",lineHeight:"1.2"},children:[a.jsx("div",{children:"IST: 100%"}),a.jsx("div",{style:{opacity:.8},children:"SOLL: 100%"})]}),m.some(N=>N.fixtureId===j.id)&&a.jsx("div",{className:"absolute top-0 left-0 p-1",style:{color:"var(--status-warning)"},children:a.jsx(Wn,{size:14})})]},j.id)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",height:"350px"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Flchenanteile nach Produktgruppe"}),a.jsx("div",{style:{width:"100%",height:"280px"},children:a.jsx(lr,{width:"100%",height:280,minWidth:0,minHeight:0,children:a.jsxs(bI,{children:[a.jsx(Ta,{data:f,cx:"50%",cy:"50%",labelLine:!1,label:j=>`${j.productGroup}: ${j.percentage.toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"area",nameKey:"productGroup",children:f.map((j,A)=>a.jsx(Tl,{fill:j.color},`cell-${A}`))}),a.jsx(gt,{formatter:j=>`${j.toFixed(1)} m`}),a.jsx(Lt,{})]})})})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",height:"350px"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Warentrgersegmentierung"}),a.jsx("div",{style:{width:"100%",height:"280px"},children:a.jsx(lr,{width:"100%",height:280,minWidth:0,minHeight:0,children:a.jsxs(Gr,{data:m,layout:"vertical",children:[a.jsx(la,{strokeDasharray:"3 3"}),a.jsx(Ot,{type:"number",domain:[0,100],ticks:[0,10,20,30,40,50,60,70,80,90,100],label:{value:"%",position:"insideRight"}}),a.jsx(_t,{dataKey:"name",type:"category",width:120,style:{fontSize:"var(--font-size-xs)"}}),a.jsx(gt,{formatter:j=>`${j.toFixed(1)}%`}),a.jsx(Lt,{}),f.map(j=>a.jsx($e,{dataKey:j.productGroup,stackId:"a",fill:j.color},j.productGroup))]})})})]})]}),a.jsxs("div",{className:"rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)"},children:[a.jsx("div",{className:"p-4 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)"},children:"Sortimentsverteilung (Warentrger)"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{backgroundColor:"var(--surface-alt)",borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Warentrger"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Zone"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Kapazitt (m)"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Belegte Flche (m)"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Hauptproduktgruppe"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Offene Flche (m)"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Status"})]})}),a.jsx("tbody",{children:d.map((j,A)=>{const S=j.productGroupDistribution?.[0],N=j.productGroupDistribution?.reduce((_,E)=>_+E.area,0)||0,z=j.capacity-N;let O;return z===0?O="success":z<0?O="danger":O="warning",a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)",backgroundColor:i===j.id?"var(--surface-subtle-tint)":void 0,cursor:"pointer"},onClick:()=>o(j.id),onMouseEnter:()=>o(j.id),onMouseLeave:()=>o(null),children:[a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:j.fixtureType}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:"Verkaufsflche"}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:j.capacity.toFixed(1)}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:N.toFixed(1)}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:S?.productGroup||"-"}),a.jsxs("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:[z>0?"+":"",z.toFixed(1)]}),a.jsx("td",{className:"p-3",children:a.jsx(n4,{variant:O==="success"?"default":"secondary",style:{backgroundColor:O==="danger"?"var(--status-danger)":O==="warning"?"var(--status-warning)":"var(--status-success)",color:"white"},children:O==="success"?"OK":O==="warning"?"Warnung":"Konflikt"})})]},A)})})]})})]}),a.jsxs("div",{className:"mt-4 p-3 rounded-lg border flex items-start gap-3",style:{backgroundColor:"var(--surface-subtle-tint)",borderColor:"var(--border-default)"},children:[a.jsx(Wn,{size:20,style:{color:"var(--brand-primary)",flexShrink:0,marginTop:"2px"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"2px"},children:"Bezug zur Kapazittsplanung"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Diese Analyse erklrt, wie sich die gewhlte Artikelhierarchie auf die belegte Flche verteilt. Anpassungen erfolgen ber: SOLL-Kapazitt, Prognose, Allokationsparameter"})]})]})]}),y&&a.jsxs("div",{className:"w-[350px] rounded-lg border p-4 overflow-y-auto",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",maxHeight:"calc(100vh - 300px)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)"},children:"Warentrger  Sortimentsverteilung"}),a.jsx(ra,{variant:"ghost",size:"sm",onClick:()=>n(null),children:a.jsx(Ct,{size:16})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)",textTransform:"uppercase",color:"var(--text-muted)"},children:"Kapazitt"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Kapazitt gesamt"}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[y.capacity.toFixed(1)," m"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Belegte Flche"}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[y.capacity.toFixed(1)," m"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Freie Flche"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"0.0 m"})]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)",textTransform:"uppercase",color:"var(--text-muted)"},children:"Verteilung"}),a.jsx("div",{className:"border rounded",style:{borderColor:"var(--border-default)"},children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{backgroundColor:"var(--surface-alt)",borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{className:"text-left p-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Produktgruppe"}),a.jsx("th",{className:"text-right p-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Flche"}),a.jsx("th",{className:"text-right p-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"IST"}),a.jsx("th",{className:"text-right p-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"SOLL"}),a.jsx("th",{className:"text-right p-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:""})]})}),a.jsx("tbody",{children:y.productGroupDistribution?.map((j,A)=>a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{className:"p-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"2px",backgroundColor:j.color}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:j.productGroup})]})}),a.jsxs("td",{className:"text-right p-2",style:{fontSize:"var(--font-size-sm)"},children:[j.area.toFixed(1)," m"]}),a.jsxs("td",{className:"text-right p-2",style:{fontSize:"var(--font-size-sm)"},children:[j.percentage.toFixed(0),"%"]}),a.jsxs("td",{className:"text-right p-2",style:{fontSize:"var(--font-size-sm)"},children:[j.targetPercentage?.toFixed(0),"%"]}),a.jsxs("td",{className:"text-right p-2",style:{fontSize:"var(--font-size-sm)",color:Math.abs(j.deviation||0)>5?"var(--status-danger)":"var(--status-success)"},children:[(j.deviation||0)>0?"+":"",j.deviation?.toFixed(0),"%"]})]},A))})]})})]}),a.jsxs("div",{children:[a.jsx("h4",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)",textTransform:"uppercase",color:"var(--text-muted)"},children:"Bewertung"}),a.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:m.some(j=>j.fixtureId===y.id)?"rgba(251, 191, 36, 0.1)":"rgba(34, 197, 94, 0.1)",border:`1px solid ${m.some(j=>j.fixtureId===y.id)?"var(--status-warning)":"var(--status-success)"}`},children:[a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)"},children:["Status: ",m.some(j=>j.fixtureId===y.id)?"Abweichung vorhanden":"OK"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Abweichungen wirken sich auf die Allokationskrzungen aus."})]})]})]})]})]})}const u0=[{id:"F001",name:"BLICK Zrich Hauptbahnhof",city:"Zrich",region:"Zrich",hasLayout:!0,layout:{width:700,height:500,totalArea:180,usableArea:150,aisles:[{x:0,y:200,width:700,height:80,orientation:"horizontal"},{x:150,y:0,width:60,height:520,orientation:"vertical"},{x:490,y:0,width:60,height:520,orientation:"vertical"}],zones:[{type:"emergency",x:660,y:210,width:40,height:80},{type:"cashier",x:0,y:420,width:140,height:100},{type:"window",x:0,y:0,width:140,height:60},{type:"storage",x:560,y:420,width:140,height:100}]}},{id:"F002",name:"BLICK Basel Marktplatz",city:"Basel",region:"Basel-Stadt",hasLayout:!0,layout:{width:600,height:450,totalArea:145,usableArea:120,aisles:[{x:0,y:150,width:600,height:70,orientation:"horizontal"},{x:280,y:0,width:70,height:470,orientation:"vertical"}],zones:[{type:"emergency",x:560,y:155,width:40,height:60},{type:"cashier",x:0,y:360,width:120,height:110},{type:"window",x:0,y:0,width:270,height:50},{type:"storage",x:480,y:360,width:120,height:110}]}},{id:"F003",name:"BLICK Bern Waisenhausplatz",city:"Bern",region:"Bern",hasLayout:!1,layout:{width:550,height:400,totalArea:125,usableArea:105,aisles:[{x:0,y:130,width:550,height:60,orientation:"horizontal"},{x:0,y:270,width:550,height:60,orientation:"horizontal"}],zones:[{type:"emergency",x:510,y:170,width:40,height:60},{type:"cashier",x:0,y:340,width:150,height:80},{type:"window",x:0,y:0,width:200,height:50}]}},{id:"F004",name:"BLICK Luzern Pilatusstrasse",city:"Luzern",region:"Luzern",hasLayout:!0,layout:{width:800,height:520,totalArea:210,usableArea:175,aisles:[{x:0,y:170,width:800,height:70,orientation:"horizontal"},{x:0,y:340,width:800,height:70,orientation:"horizontal"},{x:200,y:0,width:70,height:540,orientation:"vertical"},{x:530,y:0,width:70,height:540,orientation:"vertical"}],zones:[{type:"emergency",x:760,y:220,width:40,height:80},{type:"cashier",x:0,y:420,width:190,height:120},{type:"window",x:0,y:0,width:190,height:70},{type:"storage",x:610,y:420,width:190,height:120}]}},{id:"F005",name:"BLICK St. Gallen Marktgasse",city:"St. Gallen",region:"St. Gallen",hasLayout:!1,layout:{width:650,height:480,totalArea:160,usableArea:135,aisles:[{x:0,y:200,width:650,height:80,orientation:"horizontal"},{x:285,y:0,width:80,height:500,orientation:"vertical"}],zones:[{type:"emergency",x:610,y:210,width:40,height:70},{type:"cashier",x:0,y:390,width:140,height:110},{type:"window",x:0,y:0,width:275,height:60},{type:"storage",x:510,y:390,width:140,height:110}]}}],xT=[{id:"gondola",type:"Gondel",icon:"",capacity:4.8,preferredCategory:"Mode"},{id:"wallshelf",type:"Wandregal",icon:"",capacity:3.2,preferredCategory:"Accessoires"},{id:"table",type:"Tisch",icon:"",capacity:2.4,preferredCategory:"Promotion"},{id:"actionarea",type:"Aktionsflche",icon:"",capacity:6,preferredCategory:"Seasonal"},{id:"backwall",type:"Rckwand",icon:"",capacity:8,preferredCategory:"Core Range"},{id:"hookwall",type:"Hakenwand",icon:"",capacity:5.6,preferredCategory:"Schmuck"},{id:"checkout",type:"Kassenmodul",icon:"",capacity:1.2}],Loe=[{id:"aisle",type:"Gang",icon:"",isFixed:!0},{id:"emergency",type:"Notausgang",icon:"",isFixed:!0},{id:"cashier",type:"Kasse",icon:"",isFixed:!0},{id:"window",type:"Schaufenster",icon:"",isFixed:!0},{id:"storage",type:"Lagerzugang",icon:"",isFixed:!0}];function Boe({onNavigate:e}){const{t}=br(),[r,n]=k.useState(u0[0].id),[i,o]=k.useState(!1),[l,u]=k.useState(!1),[d,f]=k.useState([]),[h,m]=k.useState(null),[v,x]=k.useState(null),[w,b]=k.useState(null),[y,j]=k.useState({x:0,y:0}),[A,S]=k.useState(!1),N=u0.find(L=>L.id===r),z=L=>{n(L),f([]),m(null),S(!1)},_=(()=>{const L=d.reduce((W,X)=>W+X.capacity,0);return{totalArea:N?.layout?.totalArea||0,usableArea:N?.layout?.usableArea||0,occupiedArea:L,freeArea:N?.layout?.usableArea?N.layout.usableArea-L:0,capacityImpact:L-120}})(),E=()=>_.freeArea<0?"var(--status-danger)":_.freeArea<10?"var(--status-warning)":"var(--status-success)",T=L=>{x(L),b(null)},B=(L,W)=>{if(!d.find(xe=>xe.id===W))return;const se=L.target.getBoundingClientRect(),de=L.clientX-se.left,ge=L.clientY-se.top;j({x:de,y:ge}),b(W),x(null),L.dataTransfer&&(L.dataTransfer.effectAllowed="move")},R=L=>{L.preventDefault(),L.dataTransfer&&(L.dataTransfer.dropEffect=w?"move":"copy")},F=L=>{L.preventDefault();const W=L.currentTarget.getBoundingClientRect(),X=N?.layout;if(!X)return;const se=L.clientX-W.left-20-(w?y.x:40),de=L.clientY-W.top-20-(w?y.y:20);if(w){const ge=d.find(ie=>ie.id===w);if(!ge)return;const xe=X.width-ge.width,ne=X.height-ge.height;f(d.map(ie=>ie.id===w?{...ie,x:Math.max(0,Math.min(se,xe)),y:Math.max(0,Math.min(de,ne))}:ie)),b(null),S(!0)}else if(v){const ge=xT.find(ce=>ce.type===v);if(!ge)return;const xe=X.width-100,ne=X.height-40,ie={id:Date.now().toString(),fixtureType:v,x:Math.max(0,Math.min(se,xe)),y:Math.max(0,Math.min(de,ne)),width:100,height:40,rotation:0,capacity:ge.capacity,assignedCategory:ge.preferredCategory};f([...d,ie]),x(null),S(!0)}},K=L=>{f(d.map(W=>W.id===L?{...W,rotation:(W.rotation+90)%360}:W)),S(!0)},H=L=>{f(d.filter(W=>W.id!==L)),m(null),S(!0)},M=()=>{S(!1),alert("Layout erfolgreich gespeichert!")},$=()=>{S(!1),alert("nderungen verworfen")},U=()=>{u(!0)},I=()=>{if(!N?.layout)return;const L=N.layout,W=8,X=[];let se=1;const de=(Me,Ze,Et,lt)=>{for(const tt of L.aisles)if(!(Me+Et<=tt.x||Me>=tt.x+tt.width||Ze+lt<=tt.y||Ze>=tt.y+tt.height))return!0;for(const tt of L.zones)if(!(Me+Et<=tt.x||Me>=tt.x+tt.width||Ze+lt<=tt.y||Ze>=tt.y+tt.height))return!0;return!1},ge=(Me,Ze,Et,lt)=>{for(const tt of X)if(!(Me+Et+W<=tt.x||Me>=tt.x+tt.width+W||Ze+lt+W<=tt.y||Ze>=tt.y+tt.height+W))return!0;return!1},xe=(Me,Ze,Et,lt)=>!(Me<0||Ze<0||Me+Et>L.width||Ze+lt>L.height||de(Me,Ze,Et,lt)||ge(Me,Ze,Et,lt)),ne=(Me,Ze)=>{const Et=[{startX:0,startY:0,rotation:0,scanAxis:"x",maxScan:L.width-Me,checkWidth:Me,checkHeight:Ze},{startX:0,startY:L.height-Ze,rotation:0,scanAxis:"x",maxScan:L.width-Me,checkWidth:Me,checkHeight:Ze},{startX:0,startY:0,rotation:90,scanAxis:"y",maxScan:L.height-Me,checkWidth:Ze,checkHeight:Me},{startX:L.width-Ze,startY:0,rotation:90,scanAxis:"y",maxScan:L.height-Me,checkWidth:Ze,checkHeight:Me}];for(const lt of Et)if(!(lt.maxScan<0))for(let cr=0;cr<=lt.maxScan;cr+=20){const Nr=lt.scanAxis==="x"?cr:lt.startX,mt=lt.scanAxis==="y"?cr:lt.startY;if(xe(Nr,mt,lt.checkWidth,lt.checkHeight))return{x:Nr,y:mt,rotation:lt.rotation}}return null},ie=(Me,Ze,Et,lt,tt,cr=100)=>{const mt=L.height-Et,Ir=L.width-Ze;for(let Pr=0;Pr<=mt;Pr+=15)for(let Or=0;Or<=Ir;Or+=15){if(X.length>=cr)return;xe(Or,Pr,Ze,Et)&&X.push({id:`ki${se++}`,fixtureType:Me,x:Or,y:Pr,width:Ze,height:Et,rotation:0,capacity:lt,assignedCategory:tt})}},ce=180,fe=40,q=8;for(let Me=0;Me<4;Me++){const Ze=ne(ce,fe);Ze&&X.push({id:`ki${se++}`,fixtureType:"Rckwand",x:Ze.x,y:Ze.y,width:ce,height:fe,rotation:Ze.rotation,capacity:q,assignedCategory:"Core Range"})}ie("Gondel",100,40,4.8,"Mode",15),ie("Wandregal",100,30,3.2,"Accessoires",10),ie("Aktionsflche",100,80,6,"Seasonal",5),ie("Tisch",70,70,2.4,"Promotion",8),ie("Hakenwand",90,30,5.6,"Schmuck",6),ie("Wandregal",60,30,2,"Accessoires",10),f(X),u(!1),S(!0)},Q=d.reduce((L,W)=>{const X=L.find(se=>se.type===W.fixtureType);return X?(X.count++,X.area+=W.capacity):L.push({type:W.fixtureType,count:1,area:W.capacity,capacity:W.capacity,category:W.assignedCategory||"-"}),L},[]);return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"mb-4",children:a.jsx(Eoe,{children:a.jsxs(Doe,{children:[a.jsx(yT,{children:a.jsx("button",{onClick:()=>e("capacity"),style:{color:"var(--text-link-secondary)"},className:"hover:underline",children:"Kapazitt"})}),a.jsx(Ioe,{}),a.jsx(yT,{children:a.jsx(Roe,{children:t.storeLayout.title})})]})})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:t.storeLayout.title}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:t.storeLayout.subtitle})]}),a.jsxs(_oe,{defaultValue:"layout",className:"flex-1 flex flex-col min-h-0",children:[a.jsxs(Toe,{style:{width:"fit-content",marginBottom:"var(--space-6)"},children:[a.jsx(vT,{value:"layout",children:t.storeLayout.tabLayout}),a.jsx(vT,{value:"analysis",children:t.storeLayout.tabAnalysis})]}),a.jsxs(gT,{value:"layout",className:"flex-1 flex flex-col min-h-0 mt-0",children:[a.jsx("div",{className:"p-4 rounded-lg border mb-6",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)"},children:a.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[a.jsxs("div",{className:"flex-1 min-w-[250px]",children:[a.jsx("label",{htmlFor:"store-select",className:"block mb-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Filiale auswhlen"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(e1,{value:r,onValueChange:z,children:[a.jsx(r1,{className:"w-full",children:a.jsx(t1,{})}),a.jsx(n1,{children:u0.map(L=>a.jsx(Mo,{value:L.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_T,{size:16}),a.jsxs("span",{children:[L.id," - ",L.name]})]})},L.id))})]}),N&&a.jsx(n4,{variant:N.hasLayout?"default":"secondary",children:N.hasLayout?"Layout vorhanden":"Neu"})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:t.storeLayout.totalArea}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:[_.totalArea," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:t.storeLayout.availableArea}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:[_.usableArea," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:t.storeLayout.occupiedAreaKpi}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:[_.occupiedArea.toFixed(1)," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:t.storeLayout.freeArea}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:E()},children:[_.freeArea.toFixed(1)," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:t.storeLayout.capacityEffect}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:_.capacityImpact>=0?"var(--status-success)":"var(--status-danger)"},children:[_.capacityImpact>0?"+":"",_.capacityImpact.toFixed(1)," m"]})]})]}),a.jsxs("div",{className:"flex gap-2 ml-auto",children:[a.jsxs(ra,{variant:"outline",onClick:()=>o(!0),children:[a.jsx(_o,{size:16}),"Import Grundriss"]}),a.jsxs(ra,{variant:"outline",onClick:U,children:[a.jsx(qc,{size:16}),"KI-Vorschlag"]}),A&&a.jsxs(a.Fragment,{children:[a.jsxs(ra,{variant:"outline",onClick:$,children:[a.jsx(iu,{size:16}),"Verwerfen"]}),a.jsxs(ra,{onClick:M,children:[a.jsx(Fo,{size:16}),"Speichern"]})]})]})]})}),a.jsxs("div",{className:"flex-1 flex gap-6 min-h-0",children:[a.jsxs("div",{className:"w-[280px] rounded-lg border p-4 overflow-y-auto",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)"},children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:t.storeLayout.fixtures}),a.jsx("div",{className:"space-y-2",children:xT.map(L=>a.jsxs("div",{draggable:!0,onDragStart:()=>T(L.type),className:"p-3 rounded border cursor-move transition-all",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-subtle)",borderRadius:"var(--radius-md)"},onMouseEnter:W=>{W.currentTarget.style.borderColor="var(--brand-primary)",W.currentTarget.style.boxShadow="var(--shadow-sm)"},onMouseLeave:W=>{W.currentTarget.style.borderColor="var(--border-subtle)",W.currentTarget.style.boxShadow="none"},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{style:{fontSize:"18px"},children:L.icon}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:L.type})]}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[t.storeLayout.capacity,": ",L.capacity," m"]}),L.preferredCategory&&a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:["Bevorzugt: ",L.preferredCategory]})]},L.id))})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Zonen (fixe Elemente)"}),a.jsx("div",{className:"space-y-2",children:Loe.map(L=>a.jsx("div",{className:"p-3 rounded border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-subtle)",borderRadius:"var(--radius-md)",opacity:.6},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontSize:"18px"},children:L.icon}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:L.type})]})},L.id))})]})]}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsxs("div",{className:"relative rounded-lg border flex-1 mb-6 overflow-auto",style:{backgroundColor:"#ffffff",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",minHeight:`${(N?.layout?.height||500)+60}px`},onDragOver:R,onDrop:F,children:[a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"linear-gradient(var(--border-subtle) 1px, transparent 1px), linear-gradient(90deg, var(--border-subtle) 1px, transparent 1px)",backgroundSize:"20px 20px"}}),a.jsxs("div",{className:"absolute border-2",style:{left:"20px",top:"20px",width:`${N?.layout?.width||700}px`,height:`${(N?.layout?.height||500)+20}px`,borderColor:"var(--text-primary)",borderStyle:"solid"},children:[N?.layout?.aisles.map((L,W)=>a.jsx("div",{className:"absolute",style:{left:`${L.x}px`,top:`${L.y}px`,width:`${L.width}px`,height:`${L.height}px`,backgroundColor:"#e5e5e5",opacity:.5}},W)),N?.layout?.zones.map((L,W)=>a.jsxs("div",{className:"absolute flex items-center justify-center",style:{left:`${L.x}px`,top:`${L.y}px`,width:`${L.width}px`,height:`${L.height}px`,backgroundColor:L.type==="emergency"?"#fee2e2":L.type==="cashier"?"#dbeafe":L.type==="window"?"#fef3c7":"#e0e7ff",border:L.type==="emergency"?"2px solid var(--status-danger)":"1px solid var(--border-default)",borderRadius:"var(--radius-sm)",fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[L.type==="emergency"&&a.jsx("span",{style:{fontSize:"20px"},children:""}),L.type==="cashier"&&a.jsx("span",{style:{fontSize:"20px"},children:""}),L.type==="window"&&a.jsx("span",{style:{fontSize:"20px"},children:""}),L.type==="storage"&&a.jsx("span",{style:{fontSize:"20px"},children:""})]},`zone-${W}`)),d.map(L=>a.jsx("div",{className:"absolute cursor-pointer border-2 transition-all",style:{left:`${L.x}px`,top:`${L.y}px`,width:`${L.rotation%180===90?L.height:L.width}px`,height:`${L.rotation%180===90?L.width:L.height}px`,backgroundColor:"var(--surface-subtle-tint)",borderColor:h===L.id?"var(--brand-primary)":"var(--border-default)",borderRadius:"var(--radius-sm)",borderWidth:h===L.id?"3px":"2px"},onClick:()=>m(L.id),draggable:!0,onDragStart:W=>B(W,L.id),children:a.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:L.fixtureType}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[L.capacity," m"]})]})},L.id))]}),d.length===0&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)",pointerEvents:"none"},children:t.storeLayout.dragFixtureHint}),h&&a.jsx("div",{className:"absolute bottom-4 right-4 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-md)",minWidth:"200px"},children:(()=>{const L=d.find(W=>W.id===h);return L?a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Eigenschaften"}),a.jsxs("div",{className:"space-y-2 mb-3",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Typ"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:L.fixtureType})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:t.storeLayout.capacity}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)"},children:[L.capacity," m"]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Warengruppe"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:L.assignedCategory||"-"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ra,{variant:"outline",size:"sm",onClick:()=>K(L.id),children:a.jsx(CB,{size:14})}),a.jsx(ra,{variant:"outline",size:"sm",onClick:()=>H(L.id),children:a.jsx($n,{size:14})})]})]}):null})()})]}),a.jsxs("div",{className:"rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)"},children:[a.jsx("div",{className:"p-4 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)"},children:t.storeLayout.fixtureOverview})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{backgroundColor:"var(--surface-alt)",borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:t.storeLayout.fixtureType}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:t.storeLayout.count}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:t.storeLayout.occupiedArea}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Kapazitt (m)"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:t.storeLayout.assignedCategory})]})}),a.jsx("tbody",{children:Q.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"text-center p-6",style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:t.storeLayout.noFixturesPlaced})}):Q.map((L,W)=>a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:L.type}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:L.count}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:L.area.toFixed(1)}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:L.capacity.toFixed(1)}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:L.category})]},W))})]})})]}),a.jsxs("div",{className:"mt-4 p-3 rounded-lg border flex items-start gap-3",style:{backgroundColor:"var(--surface-subtle-tint)",borderColor:"var(--brand-primary)"},children:[a.jsx(Zt,{size:20,style:{color:"var(--brand-primary)",flexShrink:0,marginTop:"2px"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"2px"},children:t.storeLayout.integrationNote}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:t.storeLayout.integrationDesc})]})]})]})]}),a.jsx(uT,{open:i,onOpenChange:o,children:a.jsxs(dT,{children:[a.jsxs(fT,{children:[a.jsx(hT,{children:"Grundriss importieren"}),a.jsx(mT,{children:t.storeLayout.uploadFloorplanHint})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Dateiformat whlen"}),a.jsxs(e1,{children:[a.jsx(r1,{children:a.jsx(t1,{placeholder:"Format auswhlen"})}),a.jsxs(n1,{children:[a.jsx(Mo,{value:"cad",children:"CAD (DWG / DXF)"}),a.jsx(Mo,{value:"pdf",children:"PDF"}),a.jsx(Mo,{value:"image",children:"Bild (PNG / JPG)"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Mastab"}),a.jsx("input",{type:"text",placeholder:"z.B. 1:100",className:"w-full p-2 rounded border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer",style:{borderColor:"var(--border-default)"},children:[a.jsx(_o,{size:32,style:{margin:"0 auto",color:"var(--text-muted)",marginBottom:"var(--space-2)"}}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Datei hier ablegen oder klicken zum Hochladen"})]})]}),a.jsxs(pT,{children:[a.jsx(ra,{variant:"outline",onClick:()=>o(!1),children:"Abbrechen"}),a.jsx(ra,{onClick:()=>o(!1),children:"Grundriss bernehmen"})]})]})}),a.jsx(uT,{open:l,onOpenChange:u,children:a.jsxs(dT,{children:[a.jsxs(fT,{children:[a.jsx(hT,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qc,{size:20,style:{color:"var(--brand-primary)"}}),"KI-Vorschlag generieren"]})}),a.jsx(mT,{children:"Das System analysiert Ihre Filiale und erstellt einen optimierten Layout-Vorschlag"})]}),a.jsx("div",{className:"py-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Analysefaktoren:"}),a.jsxs("ul",{className:"space-y-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"var(--brand-primary)"}}),"Filialgre und Geometrie"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"var(--brand-primary)"}}),"Fixe Zonen (Kasse, Notausgnge, etc.)"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"var(--brand-primary)"}}),"Umsatzklasse und Kundenfrequenz"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"var(--brand-primary)"}}),"Warengruppenstruktur"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"var(--brand-primary)"}}),"Best Practices aus hnlichen Filialen"]})]}),a.jsx("div",{className:"p-3 rounded-lg mt-4",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:t.storeLayout.aiHint})]})}),a.jsxs(pT,{children:[a.jsx(ra,{variant:"outline",onClick:()=>u(!1),children:"Abbrechen"}),a.jsxs(ra,{onClick:I,children:[a.jsx(qc,{size:16}),"Vorschlag erzeugen"]})]})]})})]}),a.jsx(gT,{value:"analysis",className:"flex-1 flex flex-col min-h-0 mt-0",children:N&&a.jsx(Moe,{store:N,placedFixtures:d})})]})]})}const bT={draft:{label:"Entwurf",color:"#94a3b8",bgColor:"#f1f5f9",icon:IT},simulated:{label:"Simuliert",color:"#2563eb",bgColor:"#dbeafe",icon:Hu},validated:{label:"Validiert",color:"#7c3aed",bgColor:"#ede9fe",icon:Rr},approved:{label:"Freigegeben",color:"#10b981",bgColor:"#d1fae5",icon:Rr},transferred:{label:"Zur Umsetzung bertragen",color:"#059669",bgColor:"#d1fae5",icon:FT}},d0=[{id:"var-001",name:"Basisvariante  Standard",status:"transferred",capacityDeviation:120,criticalExceptions:0,lastSimulation:"2025-01-10 14:30",overCapacity:450,underCapacity:330,forecastCoverage:94.5,storeCount:42,articleCount:1250,validationResults:{recipientDetermination:!0,deliveryDates:!0,availability:!0,capacityAssumptions:!0,blockingExceptions:!0}},{id:"var-002",name:"Optimierte Verteilung  A-Stores",status:"approved",capacityDeviation:85,criticalExceptions:2,lastSimulation:"2025-01-12 09:15",overCapacity:380,underCapacity:295,forecastCoverage:96.2,storeCount:42,articleCount:1250,validationResults:{recipientDetermination:!0,deliveryDates:!0,availability:!0,capacityAssumptions:!0,blockingExceptions:!0}},{id:"var-003",name:"Gleichverteilung  Regional",status:"validated",capacityDeviation:210,criticalExceptions:5,lastSimulation:"2025-01-13 16:45",overCapacity:520,underCapacity:310,forecastCoverage:92.8,storeCount:42,articleCount:1250,validationResults:{recipientDetermination:!0,deliveryDates:!0,availability:!0,capacityAssumptions:!1,blockingExceptions:!0}},{id:"var-004",name:"Test  Konservative Allokation",status:"simulated",capacityDeviation:95,criticalExceptions:1,lastSimulation:"2025-01-14 11:20",overCapacity:320,underCapacity:225,forecastCoverage:89.5,storeCount:42,articleCount:1250},{id:"var-005",name:"Entwurf  Saisonbereinigt",status:"draft",capacityDeviation:0,criticalExceptions:0,lastSimulation:"",overCapacity:0,underCapacity:0,forecastCoverage:0,storeCount:42,articleCount:1250}],Foe=[{category:"Schuhe",variant1:450,variant2:380,variant3:520},{category:"Oberbekleidung",variant1:-280,variant2:-350,variant3:-200},{category:"Hosen",variant1:120,variant2:95,variant3:210},{category:"Accessoires",variant1:-150,variant2:-120,variant3:-180}],Woe=[{week:"KW 1",forecast:4500,variant1:4200,variant2:4350,variant3:4100},{week:"KW 2",forecast:5e3,variant1:4800,variant2:4900,variant3:4600},{week:"KW 3",forecast:4800,variant1:4600,variant2:4700,variant3:4450},{week:"KW 4",forecast:5500,variant1:5300,variant2:5400,variant3:5100}];function $oe({onNavigate:e}){const{t}=br(),[r,n]=k.useState("fs25-initial"),[i,o]=k.useState(d0[1]),[l,u]=k.useState("overview"),[d,f]=k.useState(!1),[h,m]=k.useState(!1),[v,x]=k.useState(!1),[w,b]=k.useState(""),[y,j]=k.useState("immediate"),[A,S]=k.useState(""),[N,z]=k.useState(""),O=()=>{x(!0),setTimeout(()=>{x(!1),f(!0)},2e3)},_=()=>{if(!w.trim()){alert("Bitte geben Sie eine Begrndung ein.");return}if(i){const U={...i,status:"approved"};o(U),b(""),alert(t.scenarios.variantReleased)}},E=()=>{if(y==="scheduled"&&(!A||!N)){alert("Bitte whlen Sie Datum und Uhrzeit fr die geplante Ausfhrung.");return}if(i){const U={...i,status:"transferred"};o(U),m(!1),alert("Allokationslauf wurde erfolgreich erzeugt")}},T=()=>{alert("Neue Variante wird erstellt (basierend auf aktueller Variante)")},B=i?.status==="simulated",R=i?.status==="validated",F=i?.status==="approved",K=i?.status==="transferred",H=i?bT[i.status]:null,M=H?.icon,$=U=>({draft:t.scenariosScreen.statusDraft,simulated:t.scenariosScreen.statusSimulated,validated:t.scenariosScreen.statusValidated,approved:t.scenarios.released,transferred:t.scenarios.transferredToRun})[U];return a.jsxs("div",{className:"flex h-screen",style:{backgroundColor:"var(--surface-base)"},children:[a.jsx("div",{className:"flex-shrink-0 border-r overflow-y-auto",style:{width:"300px",backgroundColor:"var(--surface-alt)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:t.scenarios.scenario}),a.jsxs("select",{value:r,onChange:U=>n(U.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"fs25-initial",children:"FS25  Erstallokation"}),a.jsx("option",{value:"hw25-initial",children:"HW25  Erstallokation"}),a.jsx("option",{value:"fs25-replenishment",children:"FS25  Nachschub"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",marginBottom:"12px",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em"},children:[t.scenarios.variants," (",d0.length,")"]}),a.jsx("div",{className:"space-y-2",children:d0.map(U=>{const I=bT[U.status],Q=I.icon,L=i?.id===U.id;return a.jsxs("button",{onClick:()=>o(U),className:"w-full text-left p-3 rounded-lg border transition-all",style:{backgroundColor:L?"var(--surface-page)":"transparent",borderColor:L?"var(--brand-primary)":"var(--border-subtle)",borderWidth:L?"2px":"1px"},children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",flex:1},children:U.name}),a.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 rounded-full",style:{backgroundColor:I.bgColor,color:I.color,fontSize:"var(--font-size-xs)",whiteSpace:"nowrap"},children:[a.jsx(Q,{size:12}),a.jsx("span",{children:$(U.status)})]})]}),U.status!=="draft"&&a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between",style:{fontSize:"var(--font-size-xs)"},children:[a.jsxs("span",{style:{color:"var(--text-muted)"},children:[t.scenarios.overUnderCoverage,":"]}),a.jsxs("span",{style:{fontWeight:"var(--font-weight-medium)",color:U.capacityDeviation>0?"#ef4444":"#10b981"},children:[U.capacityDeviation>0?"+":"",U.capacityDeviation," m"]})]}),a.jsxs("div",{className:"flex items-center justify-between",style:{fontSize:"var(--font-size-xs)"},children:[a.jsxs("span",{style:{color:"var(--text-muted)"},children:[t.scenarios.criticalExceptions,":"]}),a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)",color:U.criticalExceptions>0?"#ef4444":"var(--text-primary)"},children:U.criticalExceptions})]}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:[a.jsx(Xs,{size:10,className:"inline mr-1"}),U.lastSimulation]})]}),U.status==="draft"&&a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",fontStyle:"italic"},children:"Noch nicht simuliert"})]},U.id)})})]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6 flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:t.scenariosScreen.title}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:t.scenariosScreen.subtitle})]}),a.jsxs("button",{onClick:()=>e("scenarioManagement"),className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",whiteSpace:"nowrap"},children:[t.scenarios.extendedView," "]})]}),!i&&a.jsxs("div",{className:"p-12 text-center rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx(IT,{size:48,style:{color:"var(--text-muted)",margin:"0 auto 16px"}}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Whlen Sie eine Variante aus, um Details anzuzeigen"})]}),i&&i.status!=="draft"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:t.scenarios.overCapacity}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"#ef4444"},children:["+",i.overCapacity," m"]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:t.scenarios.underCapacity}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"#3b82f6"},children:["-",i.underCapacity," m"]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:t.scenarios.forecastCoverage}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)"},children:[i.forecastCoverage.toFixed(1),"%"]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:t.scenarios.criticalExceptions}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:i.criticalExceptions>0?"#ef4444":"#10b981"},children:i.criticalExceptions})]})]}),a.jsx("div",{className:"flex gap-1 mb-4 border-b",style:{borderColor:"var(--border-default)"},children:[{key:"overview",label:t.scenarios.overview},{key:"capacity",label:t.scenarios.capacity},{key:"forecast",label:t.scenarios.forecast},{key:"exceptions",label:t.scenarios.exceptions}].map(U=>a.jsx("button",{onClick:()=>u(U.key),className:"px-4 py-2 transition-colors",style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:l===U.key?"var(--brand-primary)":"var(--text-muted)",borderBottom:l===U.key?"2px solid var(--brand-primary)":"2px solid transparent"},children:U.label},U.key))}),a.jsxs("div",{children:[l==="overview"&&a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:t.scenarios.variantDetails}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:t.scenarios.variantName}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:i.name})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Status"}),a.jsxs("div",{className:"flex items-center gap-2",children:[M&&a.jsx(M,{size:16,style:{color:H?.color}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:H?.label})]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Filialen"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(HB,{size:16,style:{color:"var(--text-muted)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:i.storeCount})]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Artikel"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rh,{size:16,style:{color:"var(--text-muted)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:i.articleCount.toLocaleString("de-DE")})]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Letzte Simulation"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xs,{size:16,style:{color:"var(--text-muted)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:i.lastSimulation})]})]})]})]})}),l==="capacity"&&a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Kapazittsabweichung nach Kategorie"}),a.jsx(lr,{width:"100%",height:350,minWidth:0,minHeight:0,children:a.jsxs(Gr,{data:Foe,children:[a.jsx(la,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(Ot,{dataKey:"category",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(_t,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(gt,{}),a.jsx(Lt,{}),a.jsx($e,{dataKey:"variant1",fill:"#2563eb",name:"Basisvariante"}),a.jsx($e,{dataKey:"variant2",fill:"#7c3aed",name:"Optimierte Verteilung"}),a.jsx($e,{dataKey:"variant3",fill:"#10b981",name:"Gleichverteilung"})]})})]}),l==="forecast"&&a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:t.scenarios.forecastVsAllocation}),a.jsx(lr,{width:"100%",height:350,minWidth:0,minHeight:0,children:a.jsxs(xI,{data:Woe,children:[a.jsx(la,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(Ot,{dataKey:"week",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(_t,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(gt,{}),a.jsx(Lt,{}),a.jsx(dn,{type:"monotone",dataKey:"forecast",stroke:"#94a3b8",strokeWidth:2,strokeDasharray:"5 5",name:"Prognose"}),a.jsx(dn,{type:"monotone",dataKey:"variant1",stroke:"#2563eb",strokeWidth:2,name:"Basisvariante"}),a.jsx(dn,{type:"monotone",dataKey:"variant2",stroke:"#7c3aed",strokeWidth:2,name:"Optimierte Verteilung"}),a.jsx(dn,{type:"monotone",dataKey:"variant3",stroke:"#10b981",strokeWidth:2,name:"Gleichverteilung"})]})})]}),l==="exceptions"&&a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Ausnahmen & Risiken"}),i.criticalExceptions>0?a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"p-4 rounded-lg border-l-4 cursor-pointer hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},onClick:()=>alert("Navigation zum Exception-Cockpit (read-only)"),children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Mt,{size:20,style:{color:"var(--status-warning)"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Kapazittsberschreitung bei Store Z-001"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:"Kategorie: Schuhe | berschreitung: +35 m"})]})]})})}),a.jsx("div",{className:"p-4 rounded-lg border-l-4 cursor-pointer hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},onClick:()=>alert("Navigation zum Exception-Cockpit (read-only)"),children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Mt,{size:20,style:{color:"var(--status-warning)"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Fehlende Grenverteilung bei Artikel A-4532"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:"Kategorie: Hosen | Betroffene Filialen: 12"})]})]})})})]}):a.jsxs("div",{className:"p-6 text-center rounded-lg",style:{backgroundColor:"var(--surface-success-subtle)",color:"var(--status-success)"},children:[a.jsx(Rr,{size:32,className:"mx-auto mb-2"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)"},children:"Keine kritischen Ausnahmen"})]})]})]})]}),i&&i.status==="draft"&&a.jsxs("div",{className:"p-8 text-center rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx(Hu,{size:48,style:{color:"var(--text-muted)",margin:"0 auto 16px"}}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)",marginBottom:"16px"},children:"Diese Variante wurde noch nicht simuliert"}),a.jsx("button",{className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},onClick:()=>alert("Simulation starten (nicht implementiert)"),children:"Simulation starten"})]})]})}),a.jsx("div",{className:"flex-shrink-0 border-l overflow-y-auto",style:{width:"320px",backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"p-4",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:t.scenarios.decisionAndHandover}),!i&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Whlen Sie eine Variante aus"})}),i&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:H?.bgColor,borderColor:H?.color},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[M&&a.jsx(M,{size:20,style:{color:H?.color}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:H?.color},children:$(i.status)})]}),a.jsxs("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[i.status==="simulated"&&t.scenarios.simulationComplete,i.status==="validated"&&t.scenarios.allChecksPassed,i.status==="approved"&&t.scenarios.approvedForRelease,i.status==="transferred"&&t.scenarios.transferred,i.status==="draft"&&t.scenarios.draftStatus]})]}),B&&a.jsxs("div",{children:[a.jsx("button",{onClick:O,disabled:v,className:"w-full px-4 py-3 rounded-lg transition-colors",style:{backgroundColor:v?"var(--button-secondary-bg)":"var(--brand-primary)",color:v?"var(--text-muted)":"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:v?t.scenarios.validationRunning:t.scenarios.startValidation}),v&&a.jsx("div",{className:"mt-2 text-center",children:a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Systemprfungen werden durchgefhrt..."})})]}),R&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsxs("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:[t.scenarios.approvalReason," *"]}),a.jsx("textarea",{value:w,onChange:U=>b(U.target.value),rows:4,placeholder:t.scenarios.approvalPlaceholder,className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)",resize:"vertical"}})]}),a.jsx("button",{onClick:_,disabled:!w.trim(),className:"w-full px-4 py-3 rounded-lg transition-colors",style:{backgroundColor:w.trim()?"var(--brand-primary)":"var(--button-secondary-bg)",color:w.trim()?"var(--text-inverse)":"var(--text-muted)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:t.scenarios.releaseVariant})]}),F&&a.jsx("div",{children:a.jsxs("button",{onClick:()=>m(!0),className:"w-full px-4 py-3 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(Bf,{size:16,className:"inline mr-2"}),t.scenarios.transferToAllocation]})}),K&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(FT,{size:16,style:{color:"var(--text-muted)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Variante gesperrt"})]}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Diese Variante ist unvernderlich und wurde einem Allokationslauf zugeordnet."})]}),a.jsxs("button",{onClick:T,className:"w-full px-4 py-2 rounded-lg border transition-colors hover:bg-surface-tint",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(au,{size:16,className:"inline mr-2"}),"Neue Variante erstellen"]})]}),i.validationResults&&i.status!=="simulated"&&a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",marginBottom:"12px"},children:t.scenarios.validationResults}),a.jsx("div",{className:"space-y-2",children:Object.entries(i.validationResults).map(([U,I])=>{const Q={recipientDetermination:t.scenarios.recipientDetermination,deliveryDates:t.scenarios.deliveryDates,availability:t.scenarios.availability,capacityAssumptions:t.scenarios.capacityAssumptions,blockingExceptions:t.scenarios.blockingExceptions};return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:Q[U]}),I?a.jsx(Rr,{size:16,style:{color:"#10b981"}}):a.jsx(Mt,{size:16,style:{color:"#ef4444"}})]},U)})})]})]})]})}),d&&i&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:()=>f(!1),children:a.jsxs("div",{className:"rounded-lg shadow-xl max-w-lg w-full mx-4",style:{backgroundColor:"var(--surface-page)",maxHeight:"90vh",overflow:"auto"},onClick:U=>U.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:t.scenarios.validationReport})}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"space-y-4",children:i.validationResults&&Object.entries(i.validationResults).map(([U,I])=>{const Q={recipientDetermination:t.scenarios.recipientDetermination,deliveryDates:t.scenarios.deliveryDates,availability:t.scenarios.availability,capacityAssumptions:t.scenarios.capacityAssumptions,blockingExceptions:t.scenarios.blockingExceptions};return a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg",style:{backgroundColor:I?"var(--surface-success-subtle)":"var(--surface-error-subtle)"},children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:Q[U]}),I?a.jsx(Rr,{size:20,style:{color:"#10b981"}}):a.jsx(Mt,{size:20,style:{color:"#ef4444"}})]},U)})}),Object.values(i.validationResults||{}).every(Boolean)?a.jsxs("div",{className:"mt-6 p-4 rounded-lg",style:{backgroundColor:"var(--surface-success-subtle)",color:"var(--status-success)"},children:[a.jsx(Rr,{size:20,className:"inline mr-2"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Alle Prfungen erfolgreich bestanden"})]}):a.jsxs("div",{className:"mt-6 p-4 rounded-lg",style:{backgroundColor:"var(--surface-error-subtle)",color:"var(--status-error)"},children:[a.jsx(Mt,{size:20,className:"inline mr-2"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Einige Prfungen sind fehlgeschlagen"})]})]}),a.jsxs("div",{className:"p-6 border-t flex gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>f(!1),className:"flex-1 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:"Schlieen"}),Object.values(i.validationResults||{}).every(Boolean)?a.jsx("button",{onClick:()=>{const U={...i,status:"validated"};o(U),f(!1)},className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Variante als validiert markieren"}):a.jsx("button",{onClick:()=>{f(!1),alert("Zurck zur Simulation (nicht implementiert)")},className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Zur Simulation"})]})]})}),h&&i&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:()=>m(!1),children:a.jsxs("div",{className:"rounded-lg shadow-xl max-w-2xl w-full mx-4",style:{backgroundColor:"var(--surface-page)",maxHeight:"90vh",overflow:"auto"},onClick:U=>U.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Allokationslauf erzeugen"})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"12px"},children:"Snapshot (Read-Only)"}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-default)"},children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Szenario"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"FS25  Erstallokation"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Variante"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:i.name})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Simulation-ID"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:["SIM-",i.id]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Lieferzeitraum"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"KW 05-08 2025"})]})]})})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"12px"},children:"Ausfhrung"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border cursor-pointer hover:bg-surface-tint transition-colors",style:{borderColor:y==="immediate"?"var(--brand-primary)":"var(--border-default)",backgroundColor:y==="immediate"?"var(--surface-tint)":"transparent"},children:[a.jsx("input",{type:"radio",name:"transfer-type",value:"immediate",checked:y==="immediate",onChange:U=>j(U.target.value),style:{accentColor:"var(--brand-primary)"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Sofort starten"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Der Allokationslauf wird unmittelbar nach Besttigung ausgefhrt"})]})]}),a.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border cursor-pointer hover:bg-surface-tint transition-colors",style:{borderColor:y==="scheduled"?"var(--brand-primary)":"var(--border-default)",backgroundColor:y==="scheduled"?"var(--surface-tint)":"transparent"},children:[a.jsx("input",{type:"radio",name:"transfer-type",value:"scheduled",checked:y==="scheduled",onChange:U=>j(U.target.value),style:{accentColor:"var(--brand-primary)"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Geplant starten"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Der Allokationslauf startet zum angegebenen Zeitpunkt"}),y==="scheduled"&&a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Datum"}),a.jsx("input",{type:"date",value:A,onChange:U=>S(U.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Uhrzeit"}),a.jsx("input",{type:"time",value:N,onChange:U=>z(U.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"}})]})]})]})]})]})]}),a.jsx("div",{className:"p-4 rounded-lg border-l-4",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Mt,{size:20,style:{color:"var(--status-warning)",flexShrink:0}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"4px"},children:"Wichtiger Hinweis"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Die Variante wird als unvernderlicher Snapshot fr den Allokationslauf bernommen. Nach der bertragung knnen keine nderungen mehr vorgenommen werden."})]})]})})]}),a.jsxs("div",{className:"p-6 border-t flex gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>m(!1),className:"flex-1 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:"Abbrechen"}),a.jsx("button",{onClick:E,className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Lauf erzeugen"})]})]})})]})}function Hf({formula:e,inputs:t,result:r,explanation:n}){const[i,o]=k.useState(!1);return a.jsxs("div",{className:"relative inline-block",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[a.jsx(Zt,{size:16,style:{color:"var(--status-info)",cursor:"help"}}),i&&a.jsxs("div",{className:"absolute z-50 rounded-lg shadow-lg p-4",style:{backgroundColor:"var(--surface-page)",border:"1px solid var(--border-default)",boxShadow:"var(--shadow-lg)",minWidth:"320px",maxWidth:"450px",bottom:"100%",left:"50%",transform:"translateX(-50%)",marginBottom:"8px"},children:[a.jsx("div",{className:"mb-3 p-3 rounded",style:{backgroundColor:"var(--surface-subtle)",fontFamily:"monospace",fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:e}),t.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"Eingabewerte:"}),a.jsx("div",{className:"space-y-2",children:t.map((l,u)=>a.jsxs("div",{className:"flex items-start justify-between gap-3",style:{fontSize:"var(--font-size-xs)"},children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{style:{fontFamily:"monospace",color:"var(--brand-primary)",fontWeight:"var(--font-weight-medium)"},children:l.symbol}),l.description&&a.jsx("div",{style:{color:"var(--text-muted)",marginTop:"2px"},children:l.description}),a.jsxs("div",{style:{color:"var(--text-secondary)",fontSize:"var(--font-size-2xs)",marginTop:"2px"},children:["Quelle: ",l.source]})]}),a.jsxs("div",{style:{fontFamily:"monospace",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)",whiteSpace:"nowrap"},children:["= ",l.value]})]},u))})]}),r!==void 0&&a.jsxs("div",{className:"p-2 rounded flex items-center justify-between",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-info)"},children:"Ergebnis:"}),a.jsx("span",{style:{fontFamily:"monospace",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-info)"},children:r})]}),n&&a.jsx("div",{className:"mt-3 pt-3",style:{borderTop:"1px solid var(--border-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:n}),a.jsx("div",{style:{position:"absolute",bottom:"-6px",left:"50%",width:"12px",height:"12px",backgroundColor:"var(--surface-page)",border:"1px solid var(--border-default)",borderTop:"none",borderLeft:"none",transform:"translateX(-50%) rotate(45deg)"}})]})]})}const ST={success:"var(--status-success)",warning:"var(--status-warning)",critical:"var(--status-danger)",neutral:"var(--text-secondary)"};function qt({title:e,value:t,unit:r,delta:n,deltaLabel:i,state:o="neutral",formula:l,formulaInputs:u,onClick:d}){const f=n!==void 0,h=n&&n>0,m=n&&n<0;return a.jsxs("div",{className:"p-4 rounded-lg border transition-all",style:{backgroundColor:"var(--surface-page)",borderColor:o!=="neutral"?ST[o]:"var(--border-default)",cursor:d?"pointer":"default",borderWidth:o!=="neutral"?"2px":"1px"},onClick:d,children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-muted)"},children:e}),l&&u&&a.jsx(Hf,{formula:l,inputs:u,result:`${t}${r?" "+r:""}`})]}),a.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:o!=="neutral"?ST[o]:"var(--text-primary)"},children:t}),r&&a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:r})]}),f&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"px-2 py-1 rounded-full flex items-center gap-1",style:{backgroundColor:m?"var(--surface-danger-subtle)":h?"var(--surface-success-subtle)":"var(--surface-subtle)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[h&&a.jsx(Xo,{size:12,style:{color:"var(--status-success)"}}),m&&a.jsx(nh,{size:12,style:{color:"var(--status-danger)"}}),n===0&&a.jsx(vB,{size:12,style:{color:"var(--text-muted)"}}),a.jsxs("span",{style:{color:m?"var(--status-danger)":h?"var(--status-success)":"var(--text-muted)"},children:[h?"+":"",n,"%"]})]}),i&&a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:i})]})]})}const wT=[{id:"var-1",name:"Standard HW 2025",status:"Validated",allocationType:"Initial Allocation",season:"HW 2025",owner:"M. Weber",lastSimulation:"2025-01-10 14:23",hasFallback:!1,kpis:{supplyCoverage:92.5,capacityRisk:"green",forecastFulfillment:88.3}},{id:"var-2",name:"Optimiert - Hohe Prognosegewichtung",status:"Simulated",allocationType:"Initial Allocation",season:"HW 2025",owner:"M. Weber",lastSimulation:"2025-01-12 09:45",hasFallback:!0,kpis:{supplyCoverage:85.6,capacityRisk:"yellow",forecastFulfillment:95.2}},{id:"var-3",name:"Test - MinMax Fairness",status:"Draft",allocationType:"Initial Allocation",season:"HW 2025",owner:"M. Weber",hasFallback:!1,kpis:{supplyCoverage:0,capacityRisk:"green",forecastFulfillment:0}},{id:"var-4",name:"SW 2025 - Baseline",status:"Released",allocationType:"Initial Allocation",season:"SW 2025",owner:"A. Mller",lastSimulation:"2025-01-05 16:12",hasFallback:!1,kpis:{supplyCoverage:94.1,capacityRisk:"green",forecastFulfillment:91.7}},{id:"var-rep-1",name:"NOS Nachschub - Standard",status:"Validated",allocationType:"Replenishment",season:"NOS",owner:"K. Schmidt",lastSimulation:"2025-01-15 08:30",hasFallback:!1,kpis:{supplyCoverage:89.2,capacityRisk:"green",forecastFulfillment:87.3}},{id:"var-rep-2",name:"Nachschub - Hohe Service Level Priority",status:"Simulated",allocationType:"Replenishment",season:"NOS",owner:"K. Schmidt",lastSimulation:"2025-01-16 11:20",hasFallback:!0,kpis:{supplyCoverage:84.8,capacityRisk:"yellow",forecastFulfillment:92.1}},{id:"var-rep-3",name:"Nachschub - Test Substitution",status:"Draft",allocationType:"Replenishment",season:"NOS",owner:"K. Schmidt",hasFallback:!0,kpis:{supplyCoverage:0,capacityRisk:"green",forecastFulfillment:0}}],f0={Draft:{color:"var(--text-muted)",bg:"var(--surface-subtle)",icon:$i},Simulated:{color:"var(--status-info)",bg:"var(--surface-info-subtle)",icon:Xs},Validated:{color:"var(--status-success)",bg:"var(--surface-success-subtle)",icon:Rr},Released:{color:"var(--brand-primary)",bg:"var(--surface-subtle-tint)",icon:WT}};function Uoe({onNavigateToSimulation:e,onNavigateToExplainability:t,onNavigateToAllocationRun:r}){const[n,i]=k.useState("Initial Allocation"),[o,l]=k.useState(""),[u,d]=k.useState(""),[f,h]=k.useState(wT[1]),[m,v]=k.useState(1),[x,w]=k.useState(null),[b,y]=k.useState({recipientStrategy:"Plan Data",availabilitySources:{dcStock:!0,purchaseOrders:!0,deliveries:!0,external:!1},deliveryDateLogic:"Delivery Schedule",useForecast:!0,forecastSource:"Statistical Forecast v2.3",forecastWeight:60,forecastInfluencesSpace:!0,spaceDemandPlanningLevel:"Product Group",capacityUnit:"m",capacityPlanningLevel:"Product Group",capacityIsHardLimit:!1,softZonePercentage:10,softZonePenaltyWeight:.5,rationingStrategy:"Proportional",topPerformerDefinition:"Top 20% Sales",minFillPercentage:80,fairnessFactor:.8,allowFallback:!0,fallbackStrategy:"Core/NOS substitution",minFillProfile:"Core",fallbackThreshold:75,enforcePackSize:!0,packSize:6,sizeCurveActive:!0,minSizesPerStore:3,repairMode:"Best Effort"}),j=wT.filter(S=>!(S.allocationType!==n||u&&S.status!==u||o&&!S.name.toLowerCase().includes(o.toLowerCase()))),A=S=>{y(N=>({...N,...S}))};return a.jsxs("div",{className:"h-full flex",children:[a.jsx("div",{className:"overflow-y-auto border-r",style:{width:"25%",minWidth:"300px",backgroundColor:"var(--surface-subtle)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:"Varianten"}),a.jsx("button",{className:"p-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:a.jsx(ei,{size:18})})]}),a.jsx("div",{className:"flex gap-1 mb-4 p-1 rounded-lg",style:{backgroundColor:"var(--surface-page)"},children:["Initial Allocation","Replenishment","Manual Allocation"].map(S=>a.jsx("button",{onClick:()=>i(S),className:"flex-1 px-2 py-1 rounded text-center",style:{backgroundColor:n===S?"var(--brand-primary)":"transparent",color:n===S?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-xs)",fontWeight:n===S?"var(--font-weight-semibold)":"var(--font-weight-normal)"},children:S==="Initial Allocation"?"Initial":S==="Replenishment"?"Nachschub":"Manuell"},S))}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx(Vr,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),a.jsx("input",{type:"text",placeholder:"Variante suchen...",value:o,onChange:S=>l(S.target.value),className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"}})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("select",{value:u,onChange:S=>d(S.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"",children:"Alle Status"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Simulated",children:"Simulated"}),a.jsx("option",{value:"Validated",children:"Validated"}),a.jsx("option",{value:"Released",children:"Released"})]})}),a.jsx("div",{className:"space-y-2",children:j.map(S=>{const N=S.id===f.id,z=f0[S.status],O=z.icon;return a.jsxs("div",{onClick:()=>h(S),className:"relative p-3 rounded-lg cursor-pointer transition-all",style:{backgroundColor:N?"var(--surface-page)":"transparent",border:N?"2px solid var(--brand-primary)":"1px solid var(--border-subtle)"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"4px"},children:S.name}),a.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full",style:{backgroundColor:z.bg,color:z.color,fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(O,{size:12}),S.status]})]}),a.jsx("button",{onClick:_=>{_.stopPropagation(),w(x===S.id?null:S.id)},className:"p-1 rounded hover:bg-surface-tint",children:a.jsx(ET,{size:16,style:{color:"var(--text-muted)"}})})]}),a.jsxs("div",{className:"space-y-2 mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Supply Coverage"}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:S.kpis.supplyCoverage>90?"var(--status-success)":"var(--status-warning)"},children:S.kpis.supplyCoverage>0?`${S.kpis.supplyCoverage}%`:"-"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Capacity Risk"}),a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:S.kpis.capacityRisk==="green"?"var(--status-success)":S.kpis.capacityRisk==="yellow"?"var(--status-warning)":"var(--status-danger)"}})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Forecast Fulfillment"}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:S.kpis.forecastFulfillment>90?"var(--status-success)":"var(--status-warning)"},children:S.kpis.forecastFulfillment>0?`${S.kpis.forecastFulfillment}%`:"-"})]})]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:S.hasFallback&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-2xs)",fontWeight:"var(--font-weight-medium)"},children:"Fallback"})}),S.lastSimulation&&a.jsxs("div",{className:"mt-2 pt-2",style:{borderTop:"1px solid var(--border-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:["Simulation: ",S.lastSimulation]}),x===S.id&&a.jsxs("div",{className:"absolute right-3 top-12 z-10 rounded-lg shadow-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",boxShadow:"var(--shadow-lg)",minWidth:"180px"},onClick:_=>_.stopPropagation(),children:[a.jsxs("button",{className:"w-full px-4 py-2 text-left flex items-center gap-2 hover:bg-surface-tint",children:[a.jsx(au,{size:16}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Duplizieren"})]}),a.jsxs("button",{className:"w-full px-4 py-2 text-left flex items-center gap-2 hover:bg-surface-tint",children:[a.jsx($i,{size:16}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Umbenennen"})]}),a.jsxs("button",{className:"w-full px-4 py-2 text-left flex items-center gap-2 hover:bg-surface-tint",children:[a.jsx(aL,{size:16}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Archivieren"})]}),a.jsxs("button",{className:"w-full px-4 py-2 text-left flex items-center gap-2 hover:bg-surface-tint",children:[a.jsx(oa,{size:16}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Export JSON"})]})]})]},S.id)})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto",style:{width:"50%"},children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("input",{type:"text",value:f.name,onChange:()=>{},readOnly:!0,className:"text-2xl font-semibold mb-2 bg-transparent border-b-2 border-transparent hover:border-border-input focus:border-brand-primary outline-none",style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"}}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full",style:{backgroundColor:f0[f.status].bg,color:f0[f.status].color,fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:f.status}),f.lastSimulation&&a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:["Simulation: ",f.lastSimulation]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>e?.(f.id,f.allocationType),className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(Xo,{size:16}),"Simulation ffnen"]}),a.jsxs("button",{onClick:()=>t?.(f.id,f.allocationType),className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(Zt,{size:16}),"Explainability"]}),a.jsxs("button",{className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(au,{size:16}),"Duplizieren"]})]})]})}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(qt,{title:"Supply Coverage",value:f.kpis.supplyCoverage,unit:"%",delta:-2.3,deltaLabel:"vs baseline",state:f.kpis.supplyCoverage>90?"success":"warning",formula:"Coverage = (Supply / Demand)  100%",formulaInputs:[{symbol:"Supply",value:24365,source:"Verfgbarkeitsberechnung"},{symbol:"Demand",value:28456,source:"Bedarfsberechnung"}]}),a.jsx(qt,{title:"Forecast Fulfillment",value:f.kpis.forecastFulfillment,unit:"%",delta:5.8,deltaLabel:"vs baseline",state:f.kpis.forecastFulfillment>90?"success":"warning",formula:"FF = (Allocated / Forecast)  100%",formulaInputs:[{symbol:"Allocated",value:24365,source:"Allokationsergebnis"},{symbol:"Forecast",value:25600,source:"Prognosesystem"}]}),a.jsx(qt,{title:"Capacity Utilization",value:82.4,unit:"%",delta:1.2,deltaLabel:"vs baseline",state:"success",formula:"CU = ( Space_Used /  Space_Available)  100%",formulaInputs:[{symbol:"Space_Used",value:8240,source:"Flchenberechnung",description:"Genutzte Flche"},{symbol:"Space_Available",value:1e4,source:"Kapazittsplanung",description:"Verfgbare Flche"}]}),a.jsx(qt,{title:"Exception Count",value:32,delta:-15.8,deltaLabel:"vs baseline",state:"success"})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(qt,{title:"Stores in Fallback",value:18,state:"warning"}),a.jsx(qt,{title:"Undercoverage Units",value:4336,state:"warning"}),a.jsx(qt,{title:"Overcapacity",value:145,unit:"m",state:"neutral"}),a.jsx(qt,{title:"MinFill Fulfillment",value:85.2,unit:"%",state:"warning",formula:"MF = (Stores_Above_MinFill / Total_Stores)  100%",formulaInputs:[{symbol:"Stores_Above_MinFill",value:213,source:"Rationierungsberechnung"},{symbol:"Total_Stores",value:245,source:"Empfngerbestimmung"}]})]}),a.jsxs("div",{className:"border rounded-lg",style:{borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"flex border-b overflow-x-auto",style:{borderColor:"var(--border-default)"},children:[{id:1,label:"Empfnger & Daten"},{id:2,label:"Prognose & Raumbedarf"},{id:3,label:"Kapazitt"},{id:4,label:"Rationierung"},{id:5,label:"Fallback & MinFill"},{id:6,label:"LOT/Gre/Pack"}].map(S=>a.jsx("button",{onClick:()=>v(S.id),className:"px-4 py-3 border-b-2 whitespace-nowrap",style:{borderColor:m===S.id?"var(--brand-primary)":"transparent",color:m===S.id?"var(--brand-primary)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:m===S.id?"var(--font-weight-semibold)":"var(--font-weight-normal)"},children:S.label},S.id))}),a.jsxs("div",{className:"p-6",children:[m===1&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Empfnger & Datenquellen"}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"flex",alignItems:"center",gap:"var(--space-2)"},children:["Empfngerstrategie",a.jsx(Hf,{formula:"Recipients = f(Strategy, Season, Exclusions)",inputs:[{symbol:"Strategy",value:b.recipientStrategy,source:"Variantenkonfiguration"},{symbol:"Season",value:f.season,source:"Variantenkonfiguration"}],explanation:"Die Empfngerstrategie bestimmt, welche Filialen fr die Allokation in Frage kommen."})]}),a.jsxs("select",{value:b.recipientStrategy,onChange:S=>A({recipientStrategy:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Plan Data",children:"Planungsdaten"}),a.jsx("option",{value:"Manual Selection",children:"Manuelle Auswahl"}),a.jsx("option",{value:"Listing",children:"Listung"}),a.jsx("option",{value:"Transport Relations",children:"Transportrelationen"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Verfgbarkeitsquellen"}),a.jsx("div",{className:"space-y-2",children:Object.entries({dcStock:"DC-Bestnde",purchaseOrders:"Bestellungen",deliveries:"Lieferungen",external:"Externe Quellen"}).map(([S,N])=>a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:b.availabilitySources[S],onChange:z=>A({availabilitySources:{...b.availabilitySources,[S]:z.target.checked}}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:N})]},S))})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Lieferterminlogik"}),a.jsxs("select",{value:b.deliveryDateLogic,onChange:S=>A({deliveryDateLogic:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Delivery Schedule",children:"Lieferplan"}),a.jsx("option",{value:"Planned Lead Time",children:"Geplante Vorlaufzeit"})]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-subtle)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Vorschau"}),a.jsxs("div",{className:"space-y-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Empfngerfilialen:"}),a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:"245"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Ausgeschlossene Filialen:"}),a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:"12"})]}),a.jsx("button",{className:"mt-2 text-brand-primary hover:underline",style:{fontSize:"var(--font-size-sm)"},children:"Filialliste anzeigen "})]})]})]}),m===2&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Prognose & Raumbedarf"}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:b.useForecast,onChange:S=>A({useForecast:S.target.checked}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Prognose verwenden"})]}),b.useForecast&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Prognosequelle"}),a.jsxs("select",{value:b.forecastSource,onChange:S=>A({forecastSource:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Statistical Forecast v2.3",children:"Statistical Forecast v2.3"}),a.jsx("option",{value:"ML Forecast v1.0",children:"ML Forecast v1.0"}),a.jsx("option",{value:"Manual Forecast",children:"Manuelle Prognose"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"flex",alignItems:"center",gap:"var(--space-2)"},children:["Prognosegewichtung: ",b.forecastWeight,"%",a.jsx(Hf,{formula:"D = Plan  (1 - w) + Forecast  w",inputs:[{symbol:"Plan",value:150,source:"Planungsdaten"},{symbol:"Forecast",value:120,source:b.forecastSource},{symbol:"w",value:b.forecastWeight/100,source:"Slider"}],result:150*(1-b.forecastWeight/100)+120*(b.forecastWeight/100),explanation:"Der Bedarf wird als gewichteter Durchschnitt zwischen Plan und Prognose berechnet."})]}),a.jsx("input",{type:"range",min:0,max:100,step:5,value:b.forecastWeight,onChange:S=>A({forecastWeight:Number(S.target.value)}),className:"w-full"}),a.jsxs("div",{className:"flex justify-between mt-1",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[a.jsx("span",{children:"0% (Nur Plan)"}),a.jsx("span",{children:"50%"}),a.jsx("span",{children:"100% (Nur Prognose)"})]})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:b.forecastInfluencesSpace,onChange:S=>A({forecastInfluencesSpace:S.target.checked}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Prognose beeinflusst Raumbedarf"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Planungsebene fr Raumbedarf"}),a.jsxs("select",{value:b.spaceDemandPlanningLevel,onChange:S=>A({spaceDemandPlanningLevel:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Company",children:"Unternehmen"}),a.jsx("option",{value:"Buying Group",children:"Einkaufsbereich"}),a.jsx("option",{value:"Product Group",children:"Produktgruppe"}),a.jsx("option",{value:"Product",children:"Produkt"})]})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-info)",marginBottom:"var(--space-2)"},children:"Raumbedarf-Formel"}),a.jsxs("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:["SpaceDemand",a.jsx("sub",{children:"h"})," =  (Forecast",a.jsx("sub",{children:"i"}),"  p",a.jsx("sub",{children:"i"}),")"]}),a.jsx("div",{className:"mt-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:"Der Raumbedarf wird durch Summierung der prognostizierten Mengen multipliziert mit dem Flchenbedarf je Artikel berechnet."})]})]}),m===3&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Kapazitt & Restriktionen"}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Kapazittseinheit"}),a.jsx("div",{className:"flex gap-2",children:["m","Fixtures"].map(S=>a.jsx("button",{onClick:()=>A({capacityUnit:S}),className:"px-4 py-2 rounded-lg border",style:{backgroundColor:b.capacityUnit===S?"var(--brand-primary)":"var(--surface-page)",borderColor:b.capacityUnit===S?"var(--brand-primary)":"var(--border-input)",color:b.capacityUnit===S?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-sm)"},children:S},S))})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Kapazitts-Planungsebene"}),a.jsxs("select",{value:b.capacityPlanningLevel,onChange:S=>A({capacityPlanningLevel:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Company",children:"Unternehmen"}),a.jsx("option",{value:"Buying Group",children:"Einkaufsbereich"}),a.jsx("option",{value:"Product Group",children:"Produktgruppe"})]})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:b.capacityIsHardLimit,onChange:S=>A({capacityIsHardLimit:S.target.checked}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Kapazitt ist harte Grenze"})]}),!b.capacityIsHardLimit&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:["Soft Zone: +",b.softZonePercentage,"%"]}),a.jsx("input",{type:"range",min:0,max:20,step:1,value:b.softZonePercentage,onChange:S=>A({softZonePercentage:Number(S.target.value)}),className:"w-full"})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:["Penalty Weight: ",b.softZonePenaltyWeight]}),a.jsx("input",{type:"range",min:0,max:1,step:.1,value:b.softZonePenaltyWeight,onChange:S=>A({softZonePenaltyWeight:Number(S.target.value)}),className:"w-full"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-subtle)",fontFamily:"monospace",fontSize:"var(--font-size-sm)"},children:["Free",a.jsx("sub",{children:"s,h"})," = max(0, Cap",a.jsx("sub",{children:"soll,s,h"}),"  Occ",a.jsx("sub",{children:"ist,s,h"}),")"]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-subtle)",fontFamily:"monospace",fontSize:"var(--font-size-sm)"},children:[" (p",a.jsx("sub",{children:"i"}),"  x",a.jsx("sub",{children:"i,s"}),")  Free",a.jsx("sub",{children:"s,h"})]})]})]}),m===4&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Rationierung & Fairness"}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Rationierungsstrategie"}),a.jsxs("select",{value:b.rationingStrategy,onChange:S=>A({rationingStrategy:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Proportional",children:"Proportional"}),a.jsx("option",{value:"Top Performer First",children:"Top Performer zuerst"}),a.jsx("option",{value:"Min-Max Fairness",children:"Min-Max Fairness"}),a.jsx("option",{value:"Presentation Stock First",children:"Prsentationsbestand zuerst"})]})]}),b.rationingStrategy==="Top Performer First"&&a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Top Performer Definition"}),a.jsxs("select",{value:b.topPerformerDefinition,onChange:S=>A({topPerformerDefinition:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Top 20% Sales",children:"Top 20% Umsatz"}),a.jsx("option",{value:"Top 30% Sales",children:"Top 30% Umsatz"}),a.jsx("option",{value:"A-Stores",children:"A-Filialen"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:["MinFill-Prozentsatz: ",b.minFillPercentage,"%"]}),a.jsx("input",{type:"range",min:50,max:100,step:5,value:b.minFillPercentage,onChange:S=>A({minFillPercentage:Number(S.target.value)}),className:"w-full"})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"flex",alignItems:"center",gap:"var(--space-2)"},children:["Fairness-Faktor : ",b.fairnessFactor,a.jsx(Hf,{formula:"Fairness =   Equal_Distribution + (1 - )  Performance_Weight",inputs:[{symbol:"",value:b.fairnessFactor,source:"Slider"},{symbol:"Equal_Distribution",value:"1.0",source:"Gleichverteilung"},{symbol:"Performance_Weight",value:"0.85",source:"Performance-Gewichtung"}],explanation:"Ein hherer Fairness-Faktor fhrt zu gleichmigerer Verteilung, ein niedrigerer zu strkerer Performance-Gewichtung."})]}),a.jsx("input",{type:"range",min:0,max:1,step:.1,value:b.fairnessFactor,onChange:S=>A({fairnessFactor:Number(S.target.value)}),className:"w-full"}),a.jsxs("div",{className:"flex justify-between mt-1",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[a.jsx("span",{children:"0 (Performance)"}),a.jsx("span",{children:"0.5"}),a.jsx("span",{children:"1 (Gleichverteilung)"})]})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-info)",marginBottom:"var(--space-2)"},children:"Zielfunktion"}),a.jsxs("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:["max  (w",a.jsx("sub",{children:"i,s"}),"  x",a.jsx("sub",{children:"i,s"}),")    Underfill    Overcap"]})]})]}),m===5&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Fallback & MinFill"}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:b.allowFallback,onChange:S=>A({allowFallback:S.target.checked}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Fallback erlauben"})]}),b.allowFallback&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Fallback-Strategie"}),a.jsxs("select",{value:b.fallbackStrategy,onChange:S=>A({fallbackStrategy:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Core/NOS substitution",children:"Core/NOS Substitution"}),a.jsx("option",{value:"Fairness redistribution",children:"Fairness Redistribution"}),a.jsx("option",{value:"Rule-based replacement",children:"Regelbasierte Ersetzung"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:["Fallback-Schwelle: ",b.fallbackThreshold,"%"]}),a.jsx("input",{type:"range",min:50,max:100,step:5,value:b.fallbackThreshold,onChange:S=>A({fallbackThreshold:Number(S.target.value)}),className:"w-full"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"MinFill-Profil"}),a.jsxs("select",{value:b.minFillProfile,onChange:S=>A({minFillProfile:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Core",children:"Core"}),a.jsx("option",{value:"Premium",children:"Premium"}),a.jsx("option",{value:"Small Store",children:"Small Store"})]})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-warning-subtle)",border:"1px solid var(--status-warning)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-warning)",marginBottom:"var(--space-2)"},children:"Fallback-Trigger"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:["Fallback wird aktiviert wenn:",a.jsxs("ul",{className:"mt-2 ml-4 space-y-1",children:[a.jsx("li",{children:" Supply < Demand UND SpaceDemand > Capacity"}),a.jsxs("li",{children:[" ODER ForecastFulfillment < ",b.fallbackThreshold,"%"]})]})]})]})]}),m===6&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"LOT / Gre / Pack"}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:b.enforcePackSize,onChange:S=>A({enforcePackSize:S.target.checked}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Packgre erzwingen"})]}),b.enforcePackSize&&a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Packgre"}),a.jsx("input",{type:"number",min:1,value:b.packSize,onChange:S=>A({packSize:Number(S.target.value)}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:"Aus Artikelparameter"})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:b.sizeCurveActive,onChange:S=>A({sizeCurveActive:S.target.checked}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Grenkurve aktiv"})]}),b.sizeCurveActive&&a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Min. Gren pro Filiale"}),a.jsx("input",{type:"number",min:1,max:10,value:b.minSizesPerStore,onChange:S=>A({minSizesPerStore:Number(S.target.value)}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Reparatur-Modus"}),a.jsxs("select",{value:b.repairMode,onChange:S=>A({repairMode:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Strict",children:"Strict (Ablehnen bei Verletzung)"}),a.jsx("option",{value:"Best Effort",children:"Best Effort (Bestmglich reparieren)"})]})]})]})]})]})]})}),a.jsx("div",{className:"overflow-y-auto border-l",style:{width:"25%",minWidth:"300px",backgroundColor:"var(--surface-subtle)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Vergleich"}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block",color:"var(--text-muted)"},children:"Baseline-Variante"}),a.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Standard HW 2025"}),a.jsx("option",{children:"SW 2025 - Baseline"})]})]}),a.jsx("div",{className:"mt-4 space-y-2",children:[{label:"Supply",value:"85.6%",delta:-6.9,baseline:"92.5%"},{label:"Forecast",value:"95.2%",delta:6.9,baseline:"88.3%"},{label:"Capacity",value:"82.4%",delta:1.2,baseline:"81.2%"}].map(S=>a.jsxs("div",{className:"p-2 rounded",style:{backgroundColor:"var(--surface-page)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:S.label}),a.jsxs("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:S.delta>0?"var(--status-success)":"var(--status-danger)"},children:[S.delta>0?"+":"",S.delta,"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)"},children:S.value}),a.jsxs("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:["vs ",S.baseline]})]})]},S.label))})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Validierung"}),a.jsx("div",{className:"space-y-2",children:[{label:"Empfnger gltig",status:!0},{label:"Liefertermine gltig",status:!0},{label:"Kapazitts-Snapshot vorhanden",status:!0},{label:"Parameter vollstndig",status:!0},{label:"Keine blockierenden Ausnahmen",status:!1}].map((S,N)=>a.jsxs("div",{className:"flex items-center gap-2",children:[S.status?a.jsx(Rr,{size:16,style:{color:"var(--status-success)"}}):a.jsx(Mt,{size:16,style:{color:"var(--status-warning)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:S.status?"var(--text-primary)":"var(--status-warning)"},children:S.label})]},N))}),a.jsx("button",{className:"w-full mt-4 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Validieren"})]}),f.status==="Validated"&&a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Freigabe"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block",color:"var(--text-muted)"},children:"Kommentar (Pflichtfeld)"}),a.jsx("textarea",{placeholder:"Freigabekommentar...",rows:3,className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)",resize:"vertical"}})]}),a.jsx("button",{className:"w-full px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Variante freigeben"})]})]}),f.status==="Released"&&a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Allokations-Run"}),a.jsxs("button",{onClick:()=>r?.(f.id),className:"w-full px-4 py-2 rounded-lg flex items-center justify-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(WT,{size:18}),"Zu Allokations-Run bertragen"]})]})]})})]})}const Jr=[{id:"1",store:"Zrich HB",cluster:"Urban Premium",product:"Running Shoes Pro",productGroup:"Shoes",demand:150,allocated:127,forecast:120,spaceDemand:52.5,spaceAvailable:70,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"2",store:"Basel SBB",cluster:"Urban Standard",product:"Running Shoes Pro",productGroup:"Shoes",demand:120,allocated:102,forecast:95,spaceDemand:42,spaceAvailable:50,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"3",store:"Genf",cluster:"Urban Premium",product:"Running Shoes Pro",productGroup:"Shoes",demand:165,allocated:140,forecast:135,spaceDemand:57.8,spaceAvailable:80,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"4",store:"Bern Bahnhof",cluster:"Regional",product:"Running Shoes Pro",productGroup:"Shoes",demand:85,allocated:48,forecast:70,spaceDemand:35,spaceAvailable:25,inFallback:!0,rationingApplied:!0,minFillMet:!1,exception:"Capacity Limit"},{id:"5",store:"Luzern",cluster:"Regional",product:"Running Shoes Pro",productGroup:"Shoes",demand:95,allocated:81,forecast:80,spaceDemand:33.3,spaceAvailable:45,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"6",store:"Zrich HB",cluster:"Urban Premium",product:"Winter Jacket",productGroup:"Apparel",demand:200,allocated:170,forecast:165,spaceDemand:85,spaceAvailable:95,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"7",store:"Basel SBB",cluster:"Urban Standard",product:"Winter Jacket",productGroup:"Apparel",demand:160,allocated:136,forecast:130,spaceDemand:68,spaceAvailable:75,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"8",store:"Genf",cluster:"Urban Premium",product:"Winter Jacket",productGroup:"Apparel",demand:220,allocated:187,forecast:180,spaceDemand:93.5,spaceAvailable:105,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"9",store:"Bern Bahnhof",cluster:"Regional",product:"Winter Jacket",productGroup:"Apparel",demand:110,allocated:65,forecast:90,spaceDemand:55,spaceAvailable:40,inFallback:!0,rationingApplied:!0,minFillMet:!1,exception:"Capacity Limit"},{id:"10",store:"Luzern",cluster:"Regional",product:"Winter Jacket",productGroup:"Apparel",demand:125,allocated:106,forecast:100,spaceDemand:50,spaceAvailable:60,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"11",store:"St. Gallen",cluster:"Regional",product:"Hiking Boots",productGroup:"Shoes",demand:75,allocated:42,forecast:60,spaceDemand:31.5,spaceAvailable:22,inFallback:!0,rationingApplied:!0,minFillMet:!1,exception:"Capacity Limit"},{id:"12",store:"Lausanne",cluster:"Urban Standard",product:"Hiking Boots",productGroup:"Shoes",demand:105,allocated:89,forecast:85,spaceDemand:42,spaceAvailable:55,inFallback:!1,rationingApplied:!0,minFillMet:!0}];function Hoe({variantName:e,onBack:t,onSaveVariant:r,onNavigateToExplainability:n}){const[i,o]=k.useState("completed"),[l,u]=k.useState("overview"),[d,f]=k.useState(""),[h,m]=k.useState(""),v=Jr.reduce((T,B)=>T+B.demand,0),x=Jr.reduce((T,B)=>T+B.allocated,0),w=Jr.reduce((T,B)=>T+B.forecast,0),b=x/v*100,y=x/w*100,j=Jr.filter(T=>T.inFallback).length,A=Jr.filter(T=>T.minFillMet).length/Jr.length*100,S=Jr.filter(T=>T.exception).length,N=Object.entries(Jr.reduce((T,B)=>(T[B.cluster]||(T[B.cluster]={demand:0,allocated:0,forecast:0}),T[B.cluster].demand+=B.demand,T[B.cluster].allocated+=B.allocated,T[B.cluster].forecast+=B.forecast,T),{})).map(([T,B])=>({cluster:T,demand:B.demand,allocated:B.allocated,forecast:B.forecast,coverage:B.allocated/B.demand*100})),z=Object.entries(Jr.reduce((T,B)=>(T[B.productGroup]||(T[B.productGroup]={demand:0,allocated:0}),T[B.productGroup].demand+=B.demand,T[B.productGroup].allocated+=B.allocated,T),{})).map(([T,B])=>({productGroup:T,demand:B.demand,allocated:B.allocated,coverage:B.allocated/B.demand*100})),O=Jr.map(T=>({spaceDemand:T.spaceDemand,spaceAvailable:T.spaceAvailable,allocated:T.allocated,store:T.store,inFallback:T.inFallback})),_=Jr.filter(T=>!(d&&T.cluster!==d||h&&T.productGroup!==h)),E=[{key:"store",label:"Filiale",sortable:!0},{key:"cluster",label:"Cluster",sortable:!0},{key:"product",label:"Produkt",sortable:!0},{key:"productGroup",label:"Produktgruppe",sortable:!0},{key:"demand",label:"Bedarf",align:"right",sortable:!0,render:T=>T.toLocaleString("de-CH")},{key:"allocated",label:"Allokiert",align:"right",sortable:!0,render:(T,B)=>{const R=T/B.demand*100;return a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsx("span",{children:T.toLocaleString("de-CH")}),a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:R>=90?"var(--surface-success-subtle)":R>=75?"var(--surface-warning-subtle)":"var(--surface-danger-subtle)",color:R>=90?"var(--status-success)":R>=75?"var(--status-warning)":"var(--status-danger)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[R.toFixed(0),"%"]})]})}},{key:"forecast",label:"Prognose",align:"right",sortable:!0,render:T=>T.toLocaleString("de-CH")},{key:"spaceDemand",label:"Raumbedarf",align:"right",sortable:!0,render:T=>`${T.toFixed(1)} m`},{key:"spaceAvailable",label:"Kapazitt",align:"right",sortable:!0,render:(T,B)=>{const R=B.spaceDemand/T*100;return a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsxs("span",{children:[T.toFixed(1)," m"]}),R>100&&a.jsx(Mt,{size:16,style:{color:"var(--status-danger)"}})]})}},{key:"inFallback",label:"Status",render:(T,B)=>a.jsxs("div",{className:"flex flex-wrap gap-1",children:[T&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Fallback"}),B.rationingApplied&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--status-info)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Rationiert"}),!B.minFillMet&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-danger-subtle)",color:"var(--status-danger)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"MinFill "}),B.exception&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-danger-subtle)",color:"var(--status-danger)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:B.exception})]})}];return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-tint",children:a.jsx(OT,{size:20})}),a.jsxs("div",{children:[a.jsxs("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"4px"},children:["Simulationsanalyse: ",e]}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Analysiere die Allokationsergebnisse und speichere die Variante"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[i==="completed"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:n,className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(RT,{size:16}),"Explainability"]}),a.jsxs("button",{className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(oa,{size:16}),"Export"]}),a.jsxs("button",{onClick:r,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(Fo,{size:16}),"Variante speichern"]})]}),i==="idle"&&a.jsxs("button",{onClick:()=>o("running"),className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(Bf,{size:16}),"Simulation starten"]})]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[i==="completed"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6 p-4 rounded-lg border flex items-start gap-3",style:{backgroundColor:S>0?"var(--surface-warning-subtle)":"var(--surface-success-subtle)",borderColor:S>0?"var(--status-warning)":"var(--status-success)"},children:[S>0?a.jsx(Mt,{size:24,style:{color:"var(--status-warning)",flexShrink:0}}):a.jsx(Rr,{size:24,style:{color:"var(--status-success)",flexShrink:0}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"4px",color:S>0?"var(--status-warning)":"var(--status-success)"},children:S>0?"Simulation mit Warnungen abgeschlossen":"Simulation erfolgreich abgeschlossen"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:S>0?`${S} Ausnahmen erkannt - Fallback in ${j} Filialen aktiv`:"Alle Allokationen erfolgreich berechnet"})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(qt,{title:"Supply Coverage",value:b.toFixed(1),unit:"%",delta:-6.9,deltaLabel:"vs baseline",state:b>=90?"success":"warning",formula:"Coverage = (Allocated / Demand)  100%",formulaInputs:[{symbol:"Allocated",value:x,source:"Simulation"},{symbol:"Demand",value:v,source:"Bedarfsberechnung"}]}),a.jsx(qt,{title:"Forecast Fulfillment",value:y.toFixed(1),unit:"%",delta:6.9,deltaLabel:"vs baseline",state:y>=90?"success":"warning",formula:"FF = (Allocated / Forecast)  100%",formulaInputs:[{symbol:"Allocated",value:x,source:"Simulation"},{symbol:"Forecast",value:w,source:"Prognosesystem"}]}),a.jsx(qt,{title:"Stores in Fallback",value:j,state:j>0?"warning":"success"}),a.jsx(qt,{title:"MinFill Fulfillment",value:A.toFixed(1),unit:"%",state:A>=90?"success":"warning",formula:"MF = (Stores_MinFill_Met / Total_Stores)  100%",formulaInputs:[{symbol:"Stores_MinFill_Met",value:Jr.filter(T=>T.minFillMet).length,source:"Simulation"},{symbol:"Total_Stores",value:Jr.length,source:"Simulation"}]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(qt,{title:"Exception Count",value:S,state:S<5?"success":"warning"}),a.jsx(qt,{title:"Total Demand",value:v.toLocaleString("de-CH"),unit:"Einheiten",state:"neutral"}),a.jsx(qt,{title:"Total Allocated",value:x.toLocaleString("de-CH"),unit:"Einheiten",state:"neutral"}),a.jsx(qt,{title:"Undercoverage",value:(v-x).toLocaleString("de-CH"),unit:"Einheiten",state:"warning"})]}),a.jsxs("div",{className:"border rounded-lg mb-6",style:{borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"flex border-b",style:{borderColor:"var(--border-default)"},children:[{id:"overview",label:"bersicht"},{id:"details",label:"Details"},{id:"exceptions",label:`Ausnahmen (${S})`},{id:"fallback",label:`Fallback (${j})`}].map(T=>a.jsx("button",{onClick:()=>u(T.id),className:"px-4 py-3 border-b-2",style:{borderColor:l===T.id?"var(--brand-primary)":"transparent",color:l===T.id?"var(--brand-primary)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:l===T.id?"var(--font-weight-semibold)":"var(--font-weight-normal)"},children:T.label},T.id))}),a.jsxs("div",{className:"p-6",children:[l==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Coverage nach Cluster"}),a.jsx("div",{style:{width:"100%",height:"300px",minHeight:"300px"},children:a.jsx(lr,{width:"100%",height:"100%",minHeight:300,children:a.jsxs(Gr,{data:N,children:[a.jsx(Ot,{dataKey:"cluster",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(_t,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(gt,{}),a.jsx(Lt,{}),a.jsx($e,{dataKey:"demand",fill:"var(--text-muted)",name:"Bedarf",opacity:.4}),a.jsx($e,{dataKey:"allocated",fill:"var(--brand-primary)",name:"Allokiert"}),a.jsx($e,{dataKey:"forecast",fill:"var(--brand-accent)",name:"Prognose",opacity:.6})]})})})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Coverage nach Produktgruppe"}),a.jsx("div",{style:{width:"100%",height:"300px",minHeight:"300px"},children:a.jsx(lr,{width:"100%",height:"100%",minHeight:300,children:a.jsxs(Gr,{data:z,layout:"vertical",children:[a.jsx(Ot,{type:"number",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(_t,{dataKey:"productGroup",type:"category",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(gt,{}),a.jsx(Lt,{}),a.jsx($e,{dataKey:"demand",fill:"var(--text-muted)",name:"Bedarf",opacity:.4}),a.jsx($e,{dataKey:"allocated",fill:"var(--brand-primary)",name:"Allokiert"})]})})})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Kapazittsanalyse (Raumbedarf vs. Verfgbare Kapazitt)"}),a.jsx("div",{style:{width:"100%",height:"350px",minHeight:"350px"},children:a.jsx(lr,{width:"100%",height:"100%",minHeight:350,children:a.jsxs(SI,{children:[a.jsx(Ot,{dataKey:"spaceDemand",name:"Raumbedarf",unit:" m",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(_t,{dataKey:"spaceAvailable",name:"Verfgbare Kapazitt",unit:" m",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(Ll,{dataKey:"allocated",range:[50,400]}),a.jsx(gt,{cursor:{strokeDasharray:"3 3"}}),a.jsx(Lt,{}),a.jsx(Zi,{name:"Ohne Fallback",data:O.filter(T=>!T.inFallback),fill:"var(--brand-primary)"}),a.jsx(Zi,{name:"Mit Fallback",data:O.filter(T=>T.inFallback),fill:"var(--status-warning)"})]})})}),a.jsxs("div",{className:"mt-3 p-3 rounded-lg flex items-start gap-2",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx(Zt,{size:16,style:{color:"var(--status-info)",flexShrink:0,marginTop:"2px"}}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:"Punkte oberhalb der Diagonalen haben ausreichend Kapazitt. Punkte unterhalb der Diagonalen sind kapazittslimitiert und zeigen Fallback-Kandidaten."})]})]})]}),l==="details"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex gap-3 mb-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("select",{value:d,onChange:T=>f(T.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Cluster"}),a.jsx("option",{value:"Urban Premium",children:"Urban Premium"}),a.jsx("option",{value:"Urban Standard",children:"Urban Standard"}),a.jsx("option",{value:"Regional",children:"Regional"})]})}),a.jsx("div",{className:"flex-1",children:a.jsxs("select",{value:h,onChange:T=>m(T.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Produktgruppen"}),a.jsx("option",{value:"Shoes",children:"Shoes"}),a.jsx("option",{value:"Apparel",children:"Apparel"}),a.jsx("option",{value:"Accessories",children:"Accessories"})]})})]}),a.jsx(Kr,{columns:E,data:_,density:"comfortable"})]}),l==="exceptions"&&a.jsx("div",{children:a.jsx(Kr,{columns:E,data:Jr.filter(T=>T.exception),density:"comfortable"})}),l==="fallback"&&a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-warning)",marginBottom:"var(--space-2)"},children:"Fallback-Strategie: Core/NOS Substitution"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:["In ",j," Filialen konnte die geplante Produktgruppe aufgrund von Kapazittsengpssen nicht vollstndig allokiert werden. Stattdessen wurden effizientere Core/NOS-Artikel als Ersatz zugeteilt."]}),a.jsxs("div",{className:"mt-3 p-3 rounded",style:{backgroundColor:"var(--surface-page)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Effizienz-Verbesserung:"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-success)"},children:"+12.5%"})]})]}),a.jsx(Kr,{columns:E,data:Jr.filter(T=>T.inFallback),density:"comfortable"})]})]})]})]}),i==="running"&&a.jsx("div",{className:"flex items-center justify-center",style:{minHeight:"400px"},children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 rounded-full animate-spin mx-auto mb-4",style:{borderColor:"var(--border-default)",borderTopColor:"var(--brand-primary)"}}),a.jsx("div",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"8px"},children:"Simulation luft..."}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Berechne Allokation fr 245 Filialen"})]})}),i==="idle"&&a.jsx("div",{className:"flex items-center justify-center",style:{minHeight:"400px"},children:a.jsxs("div",{className:"text-center",children:[a.jsx(Bf,{size:48,style:{color:"var(--brand-primary)",margin:"0 auto 16px"}}),a.jsx("div",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"8px"},children:"Bereit zur Simulation"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginBottom:"24px"},children:'Klicken Sie auf "Simulation starten" um die Allokation zu berechnen'}),a.jsxs("button",{onClick:()=>o("running"),className:"px-6 py-3 rounded-lg flex items-center gap-2 mx-auto",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(Bf,{size:20}),"Simulation starten"]})]})})]})]})}const p0=[{id:"sku-1",sku:"RUN-PRO-001",articleColor:"Running Shoes Pro - Black",productGroup:"Shoes",season:"NOS",priorityScore:92.5,forecastDemand:1450,replenishmentNeed:1280,dcSupply:1100,allocated:1085,shortage:195,capacityLimitedStores:3,stockoutRiskStores:8,substitutionUsed:0,packSizeRepairs:12,sizeCurveRepairs:5,status:"shortage",packSize:6,spacePerUnit:.35},{id:"sku-2",sku:"JAC-WIN-045",articleColor:"Winter Jacket - Navy",productGroup:"Apparel",season:"HW 2025",priorityScore:88.3,forecastDemand:2100,replenishmentNeed:1850,dcSupply:1950,allocated:1835,shortage:15,capacityLimitedStores:5,stockoutRiskStores:2,substitutionUsed:0,packSizeRepairs:8,sizeCurveRepairs:3,status:"ok",packSize:4,spacePerUnit:.5},{id:"sku-3",sku:"HIK-BOO-023",articleColor:"Hiking Boots - Brown",productGroup:"Shoes",season:"NOS",priorityScore:85.7,forecastDemand:980,replenishmentNeed:820,dcSupply:550,allocated:545,shortage:275,capacityLimitedStores:2,stockoutRiskStores:15,substitutionUsed:6,packSizeRepairs:10,sizeCurveRepairs:8,status:"substitution_active",packSize:6,spacePerUnit:.42},{id:"sku-4",sku:"TRA-PAN-067",articleColor:"Training Pants - Black",productGroup:"Apparel",season:"NOS",priorityScore:91.2,forecastDemand:1680,replenishmentNeed:1420,dcSupply:1450,allocated:1410,shortage:10,capacityLimitedStores:1,stockoutRiskStores:3,substitutionUsed:0,packSizeRepairs:6,sizeCurveRepairs:2,status:"ok",packSize:8,spacePerUnit:.28},{id:"sku-5",sku:"CAP-BAS-012",articleColor:"Baseball Cap - Various",productGroup:"Accessories",season:"NOS",priorityScore:78.4,forecastDemand:1200,replenishmentNeed:1050,dcSupply:1100,allocated:1040,shortage:10,capacityLimitedStores:0,stockoutRiskStores:1,substitutionUsed:0,packSizeRepairs:4,sizeCurveRepairs:0,status:"ok",packSize:12,spacePerUnit:.15},{id:"sku-6",sku:"SOC-SHI-089",articleColor:"Soccer Shirt - Red",productGroup:"Apparel",season:"SW 2025",priorityScore:82.6,forecastDemand:1340,replenishmentNeed:1180,dcSupply:980,allocated:965,shortage:215,capacityLimitedStores:4,stockoutRiskStores:11,substitutionUsed:3,packSizeRepairs:7,sizeCurveRepairs:6,status:"shortage",packSize:6,spacePerUnit:.32}],If=[{id:"alloc-1",storeId:"S001",storeName:"Zrich HB",cluster:"Urban Premium",sku:"RUN-PRO-001",listingAllowed:!0,forecastSales:85,avgDailyForecast:3.04,onHand:12,inbound:6,targetServiceLevel:95,presentationMin:6,replenishmentNeed:67,capacityFree:25.5,capacityMaxUnits:72,allocationProposed:67,allocationFinal:66,coverage:98.5,expectedDOS:27.6,limitingFactor:"pack",substitutionUsed:!1,exceptionsCount:1,sizes:[{size:"38",targetShare:.1,onHand:1,allocated:6,repairDelta:0},{size:"39",targetShare:.15,onHand:2,allocated:10,repairDelta:0},{size:"40",targetShare:.2,onHand:3,allocated:13,repairDelta:1},{size:"41",targetShare:.25,onHand:3,allocated:17,repairDelta:1},{size:"42",targetShare:.2,onHand:2,allocated:13,repairDelta:0},{size:"43",targetShare:.1,onHand:1,allocated:7,repairDelta:1}]},{id:"alloc-2",storeId:"S002",storeName:"Basel SBB",cluster:"Urban Standard",sku:"RUN-PRO-001",listingAllowed:!0,forecastSales:68,avgDailyForecast:2.43,onHand:8,inbound:0,targetServiceLevel:92,presentationMin:5,replenishmentNeed:60,capacityFree:18.2,capacityMaxUnits:52,allocationProposed:52,allocationFinal:54,coverage:90,expectedDOS:25.5,limitingFactor:"capacity",substitutionUsed:!1,exceptionsCount:1,sizes:[{size:"38",targetShare:.1,onHand:1,allocated:5,repairDelta:0},{size:"39",targetShare:.15,onHand:1,allocated:8,repairDelta:0},{size:"40",targetShare:.2,onHand:2,allocated:11,repairDelta:0},{size:"41",targetShare:.25,onHand:2,allocated:14,repairDelta:1},{size:"42",targetShare:.2,onHand:1,allocated:11,repairDelta:0},{size:"43",targetShare:.1,onHand:1,allocated:5,repairDelta:0}]},{id:"alloc-3",storeId:"S003",storeName:"Genf",cluster:"Urban Premium",sku:"RUN-PRO-001",listingAllowed:!0,forecastSales:92,avgDailyForecast:3.29,onHand:15,inbound:12,targetServiceLevel:95,presentationMin:6,replenishmentNeed:65,capacityFree:28,capacityMaxUnits:80,allocationProposed:65,allocationFinal:66,coverage:101.5,expectedDOS:28.3,limitingFactor:"pack",substitutionUsed:!1,exceptionsCount:0,sizes:[{size:"38",targetShare:.1,onHand:2,allocated:7,repairDelta:1},{size:"39",targetShare:.15,onHand:2,allocated:10,repairDelta:0},{size:"40",targetShare:.2,onHand:3,allocated:13,repairDelta:0},{size:"41",targetShare:.25,onHand:4,allocated:17,repairDelta:1},{size:"42",targetShare:.2,onHand:2,allocated:13,repairDelta:0},{size:"43",targetShare:.1,onHand:2,allocated:6,repairDelta:0}]},{id:"alloc-4",storeId:"S004",storeName:"Bern Bahnhof",cluster:"Regional",sku:"RUN-PRO-001",listingAllowed:!0,forecastSales:48,avgDailyForecast:1.71,onHand:3,inbound:0,targetServiceLevel:88,presentationMin:4,replenishmentNeed:45,capacityFree:10.5,capacityMaxUnits:30,allocationProposed:30,allocationFinal:30,coverage:66.7,expectedDOS:19.3,limitingFactor:"capacity",substitutionUsed:!1,exceptionsCount:2,sizes:[{size:"38",targetShare:.1,onHand:0,allocated:3,repairDelta:0},{size:"39",targetShare:.15,onHand:1,allocated:5,repairDelta:1},{size:"40",targetShare:.2,onHand:1,allocated:6,repairDelta:0},{size:"41",targetShare:.25,onHand:1,allocated:8,repairDelta:1},{size:"42",targetShare:.2,onHand:0,allocated:6,repairDelta:0},{size:"43",targetShare:.1,onHand:0,allocated:2,repairDelta:-1}]},{id:"alloc-5",storeId:"S005",storeName:"Luzern",cluster:"Regional",sku:"RUN-PRO-001",listingAllowed:!0,forecastSales:56,avgDailyForecast:2,onHand:5,inbound:6,targetServiceLevel:90,presentationMin:4,replenishmentNeed:45,capacityFree:15.8,capacityMaxUnits:45,allocationProposed:45,allocationFinal:42,coverage:93.3,expectedDOS:26.5,limitingFactor:"pack",substitutionUsed:!1,exceptionsCount:0,sizes:[{size:"38",targetShare:.1,onHand:1,allocated:4,repairDelta:0},{size:"39",targetShare:.15,onHand:1,allocated:6,repairDelta:0},{size:"40",targetShare:.2,onHand:1,allocated:8,repairDelta:0},{size:"41",targetShare:.25,onHand:1,allocated:11,repairDelta:1},{size:"42",targetShare:.2,onHand:1,allocated:8,repairDelta:0},{size:"43",targetShare:.1,onHand:0,allocated:5,repairDelta:1}]},{id:"alloc-6",storeId:"S006",storeName:"St. Gallen",cluster:"Regional",sku:"HIK-BOO-023",listingAllowed:!0,forecastSales:42,avgDailyForecast:1.5,onHand:2,inbound:0,targetServiceLevel:85,presentationMin:3,replenishmentNeed:37,capacityFree:8.4,capacityMaxUnits:20,allocationProposed:20,allocationFinal:18,coverage:48.6,expectedDOS:13.3,limitingFactor:"supply",substitutionUsed:!0,exceptionsCount:2,sizes:[{size:"39",targetShare:.12,onHand:0,allocated:2,repairDelta:0},{size:"40",targetShare:.18,onHand:1,allocated:3,repairDelta:0},{size:"41",targetShare:.25,onHand:1,allocated:5,repairDelta:1},{size:"42",targetShare:.22,onHand:0,allocated:4,repairDelta:0},{size:"43",targetShare:.15,onHand:0,allocated:3,repairDelta:1},{size:"44",targetShare:.08,onHand:0,allocated:1,repairDelta:0}]}],Koe={serviceLevelFulfillment:87.3,stockoutRiskStores:12,capacityUtilizationImpact:78.5,supplyCoverageDC:84.8,substitutionActivated:6,repairsApplied:{pack:47,size:24},totalAllocated:6880,horizon:{from:"2025-01-20",to:"2025-02-16",weeks:4}};function Voe({variantName:e,onBack:t,onSaveVariant:r,onNavigateToExplainability:n}){const[i,o]=k.useState("completed"),[l,u]=k.useState("overview"),[d,f]=k.useState(""),h=Koe,m=p0.map(y=>({sku:y.articleColor.split(" - ")[0],need:y.replenishmentNeed,allocated:y.allocated,coverage:y.allocated/y.replenishmentNeed*100})),v=If.map(y=>({expectedDOS:y.expectedDOS,coverage:y.coverage,allocated:y.allocationFinal,store:y.storeName,stockoutRisk:y.expectedDOS<14})),x=If.filter(y=>!(d&&y.sku!==d)),w=[{key:"storeName",label:"Filiale",sortable:!0},{key:"cluster",label:"Cluster",sortable:!0},{key:"forecastSales",label:"Forecast (4W)",align:"right",sortable:!0,render:y=>y.toLocaleString("de-CH")},{key:"avgDailyForecast",label:" Daily",align:"right",sortable:!0,render:y=>y.toFixed(2)},{key:"onHand",label:"On-Hand",align:"right",sortable:!0},{key:"replenishmentNeed",label:"Need",align:"right",sortable:!0},{key:"allocationFinal",label:"Allocated",align:"right",sortable:!0,render:(y,j)=>a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsx("span",{children:y}),a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:j.coverage>=90?"var(--surface-success-subtle)":j.coverage>=75?"var(--surface-warning-subtle)":"var(--surface-danger-subtle)",color:j.coverage>=90?"var(--status-success)":j.coverage>=75?"var(--status-warning)":"var(--status-danger)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[j.coverage.toFixed(0),"%"]})]})},{key:"expectedDOS",label:"Expected DOS",align:"right",sortable:!0,render:y=>{const j=y;return a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsxs("span",{children:[j.toFixed(1)," Tage"]}),j<14&&a.jsx(Mt,{size:16,style:{color:"var(--status-danger)"}})]})}},{key:"limitingFactor",label:"Limit",render:y=>y?a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:y}):null},{key:"substitutionUsed",label:"Status",render:(y,j)=>a.jsxs("div",{className:"flex flex-wrap gap-1",children:[y&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Substitution"}),j.expectedDOS<14&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-danger-subtle)",color:"var(--status-danger)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Stockout Risk"})]})}],b=[{key:"articleColor",label:"Artikel",sortable:!0},{key:"productGroup",label:"Produktgruppe",sortable:!0},{key:"priorityScore",label:"Priority Score",align:"right",sortable:!0,render:y=>y.toFixed(1)},{key:"forecastDemand",label:"Forecast Demand",align:"right",sortable:!0,render:y=>y.toLocaleString("de-CH")},{key:"replenishmentNeed",label:"Need",align:"right",sortable:!0,render:y=>y.toLocaleString("de-CH")},{key:"dcSupply",label:"DC Supply",align:"right",sortable:!0,render:y=>y.toLocaleString("de-CH")},{key:"allocated",label:"Allocated",align:"right",sortable:!0,render:(y,j)=>{const A=y/j.replenishmentNeed*100;return a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsx("span",{children:y.toLocaleString("de-CH")}),a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:A>=90?"var(--surface-success-subtle)":A>=75?"var(--surface-warning-subtle)":"var(--surface-danger-subtle)",color:A>=90?"var(--status-success)":A>=75?"var(--status-warning)":"var(--status-danger)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[A.toFixed(0),"%"]})]})}},{key:"shortage",label:"Shortage",align:"right",sortable:!0,render:y=>y>0?a.jsx("span",{style:{color:"var(--status-danger)",fontWeight:"var(--font-weight-semibold)"},children:y.toLocaleString("de-CH")}):"-"},{key:"stockoutRiskStores",label:"Stockout Risk",align:"right",sortable:!0,render:y=>y>0?a.jsx("span",{style:{color:"var(--status-danger)",fontWeight:"var(--font-weight-semibold)"},children:y}):"-"},{key:"status",label:"Status",render:y=>{const A={ok:{bg:"var(--surface-success-subtle)",color:"var(--status-success)",label:"OK"},shortage:{bg:"var(--surface-danger-subtle)",color:"var(--status-danger)",label:"Shortage"},capacity_limited:{bg:"var(--surface-warning-subtle)",color:"var(--status-warning)",label:"Cap Limited"},substitution_active:{bg:"var(--surface-warning-subtle)",color:"var(--status-warning)",label:"Substitution"},repaired:{bg:"var(--surface-info-subtle)",color:"var(--status-info)",label:"Repaired"}}[y];return a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:A.bg,color:A.color,fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:A.label})}}];return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-tint",children:a.jsx(OT,{size:20})}),a.jsxs("div",{children:[a.jsxs("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"4px"},children:["Replenishment Simulation: ",e]}),a.jsxs("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:["Horizon: ",h.horizon.weeks," Wochen (",h.horizon.from," - ",h.horizon.to,")"]})]})]}),a.jsx("div",{className:"flex items-center gap-3",children:i==="completed"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:n,className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(RT,{size:16}),"Explainability"]}),a.jsxs("button",{className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(oa,{size:16}),"Export"]}),a.jsxs("button",{onClick:r,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(Fo,{size:16}),"Variante speichern"]})]})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i==="completed"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6 p-4 rounded-lg border flex items-start gap-3",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},children:[a.jsx(Mt,{size:24,style:{color:"var(--status-warning)",flexShrink:0}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"4px",color:"var(--status-warning)"},children:"Simulation mit Warnungen abgeschlossen"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:`${h.stockoutRiskStores} Filialen mit Stockout-Risiko - Substitution in ${h.substitutionActivated} Filialen aktiv`})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(qt,{title:"Service Level Fulfillment",value:h.serviceLevelFulfillment,unit:"%",delta:-7.7,deltaLabel:"vs target 95%",state:"warning",formula:"SLF =  min(1, Coverage_{i,s})  Weight_{i,s} /  Weight_{i,s}",formulaInputs:[{symbol:"Coverage_{i,s}",value:.873,source:"Allokation",description:"Allocated / Need"},{symbol:"Weight_{i,s}",value:12500,source:"Umsatzdaten",description:"Gewichtungsfaktor"}]}),a.jsx(qt,{title:"Stockout Risk Stores",value:h.stockoutRiskStores,delta:-3,deltaLabel:"vs baseline",state:"warning",formula:"StockoutRisk = stores where DOS < ThresholdDays",formulaInputs:[{symbol:"DOS_{i,s}",value:6.5,source:"DOS-Berechnung",description:"(OnHand + Allocated) / AvgDaily"},{symbol:"ThresholdDays",value:14,source:"Parameter",description:"Kritische Schwelle"}]}),a.jsx(qt,{title:"Capacity Utilization Impact",value:h.capacityUtilizationImpact,unit:"%",delta:2.1,deltaLabel:"vs current",state:"success"}),a.jsx(qt,{title:"Supply Coverage DC",value:h.supplyCoverageDC,unit:"%",delta:-6.2,deltaLabel:"vs need",state:"warning"})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(qt,{title:"Substitution Activated",value:h.substitutionActivated,state:"warning"}),a.jsx(qt,{title:"Pack Repairs",value:h.repairsApplied.pack,state:"neutral"}),a.jsx(qt,{title:"Size Curve Repairs",value:h.repairsApplied.size,state:"neutral"}),a.jsx(qt,{title:"Total Allocated",value:h.totalAllocated.toLocaleString("de-CH"),unit:"Einheiten",state:"neutral"})]}),a.jsxs("div",{className:"border rounded-lg mb-6",style:{borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"flex border-b",style:{borderColor:"var(--border-default)"},children:[{id:"overview",label:"bersicht"},{id:"details",label:"Store Details"},{id:"stockout",label:`Stockout Risk (${h.stockoutRiskStores})`},{id:"substitution",label:`Substitution (${h.substitutionActivated})`}].map(y=>a.jsx("button",{onClick:()=>u(y.id),className:"px-4 py-3 border-b-2",style:{borderColor:l===y.id?"var(--brand-primary)":"transparent",color:l===y.id?"var(--brand-primary)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:l===y.id?"var(--font-weight-semibold)":"var(--font-weight-normal)"},children:y.label},y.id))}),a.jsxs("div",{className:"p-6",children:[l==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Coverage nach SKU"}),a.jsx("div",{style:{width:"100%",height:"300px",minHeight:"300px"},children:a.jsx(lr,{width:"100%",height:"100%",minHeight:300,children:a.jsxs(Gr,{data:m,children:[a.jsx(Ot,{dataKey:"sku",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(_t,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(gt,{}),a.jsx(Lt,{}),a.jsx($e,{dataKey:"need",fill:"var(--text-muted)",name:"Need",opacity:.4}),a.jsx($e,{dataKey:"allocated",fill:"var(--brand-primary)",name:"Allocated"})]})})})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Days of Supply vs. Coverage"}),a.jsx("div",{style:{width:"100%",height:"350px",minHeight:"350px"},children:a.jsx(lr,{width:"100%",height:"100%",minHeight:350,children:a.jsxs(SI,{children:[a.jsx(Ot,{dataKey:"expectedDOS",name:"Expected DOS",unit:" Tage",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(_t,{dataKey:"coverage",name:"Coverage",unit:"%",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(Ll,{dataKey:"allocated",range:[50,400]}),a.jsx(gt,{cursor:{strokeDasharray:"3 3"}}),a.jsx(Lt,{}),a.jsx(Zi,{name:"Ohne Stockout Risk",data:v.filter(y=>!y.stockoutRisk),fill:"var(--brand-primary)"}),a.jsx(Zi,{name:"Mit Stockout Risk",data:v.filter(y=>y.stockoutRisk),fill:"var(--status-danger)"})]})})}),a.jsxs("div",{className:"mt-3 p-3 rounded-lg flex items-start gap-2",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx(Zt,{size:16,style:{color:"var(--status-info)",flexShrink:0,marginTop:"2px"}}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:"Punkte mit DOS < 14 Tage (rote Punkte) haben hohes Stockout-Risiko innerhalb der nchsten 2 Wochen."})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"SKU Overview"}),a.jsx(Kr,{columns:b,data:p0,density:"comfortable"})]})]}),l==="details"&&a.jsxs("div",{children:[a.jsx("div",{className:"mb-4",children:a.jsxs("select",{value:d,onChange:y=>f(y.target.value),className:"px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle SKUs"}),p0.map(y=>a.jsx("option",{value:y.sku,children:y.articleColor},y.id))]})}),a.jsx(Kr,{columns:w,data:x,density:"comfortable"})]}),l==="stockout"&&a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-danger-subtle)",borderColor:"var(--status-danger)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-danger)",marginBottom:"var(--space-2)"},children:"Stockout Risk Analysis"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:[h.stockoutRiskStores," Filialen haben einen erwarteten Days of Supply (DOS) unter 14 Tagen. Diese Filialen knnten innerhalb der nchsten 2 Wochen leerlaufen."]})]}),a.jsx(Kr,{columns:w,data:If.filter(y=>y.expectedDOS<14),density:"comfortable"})]}),l==="substitution"&&a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-warning)",marginBottom:"var(--space-2)"},children:"Substitution Strategy: Within Product Group"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:["In ",h.substitutionActivated," Filialen wurde Substitution aktiviert aufgrund von kritischem Stockout-Risiko oder MinFill-Unterschreitung. Ersatz-SKUs wurden nach Efficiency (Forecast/SpaceDemand) ausgewhlt."]}),a.jsxs("div",{className:"mt-3 p-3 rounded",style:{backgroundColor:"var(--surface-page)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Effizienz-Verbesserung:"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-success)"},children:"+8.5%"})]})]}),a.jsx(Kr,{columns:w,data:If.filter(y=>y.substitutionUsed),density:"comfortable"})]})]})]})]})})]})}const Goe=[{id:"step-1",step:1,title:"Scope & Eligibility",status:"OK",summary:"Zeitfenster und SKU-Scope definiert",what:"Der Scope des Replenishment-Laufs wurde festgelegt: Zeitfenster, betroffene SKUs, Filialen und Produktgruppen.",inputs:[{label:"Zeitfenster",value:"4 Wochen (20.01-16.02.2025)",source:"Variantenkonfiguration"},{label:"SKU-Anzahl",value:"1.247",source:"Produktstamm"},{label:"Filialscope",value:"245 Filialen",source:"Filialstamm"},{label:"Produktgruppen",value:"12 aktiv",source:"Hierarchie"}],output:"Scope: 1.247 SKUs  245 Filialen  4 Wochen",explanation:"Der Replenishment-Lauf arbeitet mit einem 4-Wochen-Horizont und umfasst alle aktiven SKUs in den definierten Produktgruppen fr alle belieferbaren Filialen."},{id:"step-2",step:2,title:"Recipient Determination",status:"OK",summary:"245 Filialen qualifiziert fr Belieferung",what:"Filialen wurden auf Basis von Listung, Transportrelationen und Liefersperren gefiltert.",inputs:[{label:"Gesamtfilialen",value:"258",source:"Filialstamm"},{label:"Listungskriterium aktiv",value:"Ja",source:"Variantenkonfiguration"},{label:"Ausgeschlossen",value:"13",source:"Filterung"}],output:"245 Filialen qualifiziert",explanation:"13 Filialen wurden ausgeschlossen: 5 wegen fehlender Listung, 4 wegen Liefersperre, 4 wegen blockierter Transportrelation."},{id:"step-3",step:3,title:"Forecast & Demand Signals",status:"OK",summary:"Absatzprognose und Recent Sales geladen",what:"Die Absatzprognose wurde fr den Horizont geladen und mit aktuellen Verkaufsdaten (Last 2 Weeks) abgeglichen.",inputs:[{label:"Prognosequelle",value:"Statistical Forecast v2.3",source:"Prognosesystem"},{label:"Prognose-Horizont",value:"4 Wochen",source:"Variantenkonfiguration"},{label:"Recent Sales Period",value:"14 Tage",source:"Systemparameter"},{label:"Gesamt Forecast Demand",value:"8.750 Einheiten",source:"Prognoseberechnung"}],formula:"ForecastDemand_{i,s} = _t ForecastSales_{i,s,t}",formulaInputs:[{symbol:"ForecastSales_{i,s,t}",value:"Variable",source:"Prognosesystem",description:"Prognose pro Tag/Woche"},{symbol:"t",value:"1-4 Wochen",source:"Zeitfenster",description:"Zeitbucket im Horizont"}],output:"Forecast fr 8.750 Einheiten ber 4 Wochen",explanation:"Die Prognose bercksichtigt saisonale Trends, aktuelle Verkaufsdaten und Lagerbestnde. Recent Sales der letzten 14 Tage wurden als Plausibilittscheck verwendet."},{id:"step-4",step:4,title:"Replenishment Need Calculation",status:"OK",summary:"Nachschubsbedarf: 7.600 Einheiten",what:"Der Nachschubsbedarf wurde berechnet als Ziellagerbestand minus aktuellem Bestand und Zulufen.",inputs:[{label:"Forecast Demand (Horizont)",value:"8.750 Einheiten",source:"Schritt 3"},{label:"Safety Stock",value:"620 Einheiten",source:"Sicherheitsbestand-Berechnung"},{label:"Presentation Min",value:"980 Einheiten",source:"Parameter"},{label:"On-Hand gesamt",value:"1.850 Einheiten",source:"Bestandssnapshot"},{label:"Inbound gesamt",value:"900 Einheiten",source:"Zulaufsdaten"}],formula:"Need_{i,s} = max(0, (ForecastDemand_{i,s} + Safety_{i,s} + Min_{i,s})  (OnHand_{i,s} + Inbound_{i,s}))",formulaInputs:[{symbol:"ForecastDemand_{i,s}",value:85,source:"Schritt 3",description:"Prognose fr Horizont"},{symbol:"Safety_{i,s}",value:8,source:"Sicherheitsbestandsberechnung",description:"z    LeadTime"},{symbol:"Min_{i,s}",value:6,source:"Prsentationsparameter",description:"Mindestprsentation"},{symbol:"OnHand_{i,s}",value:12,source:"Bestandssnapshot",description:"Aktueller Bestand"},{symbol:"Inbound_{i,s}",value:6,source:"Zulaufsdaten",description:"Zulufe im Horizont"}],output:"Replenishment Need: 7.600 Einheiten",explanation:"Der Nachschubsbedarf wurde so berechnet, dass der Ziellagerbestand (Forecast + Safety + MinPrsentation) erreicht wird, abzglich bereits vorhandenem Bestand und Zulufen. Safety Stock wurde mit Service Level 95% berechnet."},{id:"step-5",step:5,title:"Service Level Targeting",status:"WARN",summary:"Service Level Target: 95%, Erreicht: 87.3%",what:"Service Level Ziele wurden definiert und mit der erwarteten Coverage verglichen.",inputs:[{label:"Target Service Level ()",value:"95%",source:"Variantenkonfiguration"},{label:"Berechnete Coverage",value:"87.3%",source:"Allokationsberechnung"},{label:"Gewichtung",value:"Nach Umsatz",source:"Variantenkonfiguration"}],formula:"ServiceLevelFulfillment =  min(1, Coverage_{i,s})  Weight_{i,s} /  Weight_{i,s}",formulaInputs:[{symbol:"Coverage_{i,s}",value:.985,source:"Allokation",description:"Allocated / Need"},{symbol:"Weight_{i,s}",value:12500,source:"Umsatzdaten",description:"Gewichtungsfaktor (Umsatz)"}],output:"Service Level Fulfillment: 87.3%",limitingFactor:"Service Level Target von 95% nicht erreicht (Delta: -7.7%)",explanation:"Das Service Level Ziel von 95% konnte aufgrund von Supply-Engpssen nicht erreicht werden. Die erreichten 87.3% bedeuten, dass 87.3% der gewichteten Bedarfsmenge gedeckt werden kann.",warnings:["Service Level Target nicht erreicht","12 Filialen mit Stockout-Risiko","Kritische SKUs: RUN-PRO-001, HIK-BOO-023"]},{id:"step-6",step:6,title:"DC Supply Determination",status:"WARN",summary:"Verfgbarkeit DC: 7.130 Einheiten (93.8% des Bedarfs)",what:"Die verfgbare Menge im DC wurde aus Bestand, Bestellungen und Lieferungen ermittelt.",inputs:[{label:"DC On-Hand",value:"5.850 Einheiten",source:"DC Snapshot"},{label:"DC Inbound (besttigt)",value:"1.200 Einheiten",source:"Einkaufssystem"},{label:"DC Reservierungen",value:"-80 Einheiten",source:"Reservierungssystem"},{label:"Externe Quellen",value:"160 Einheiten",source:"Externe Lieferanten"}],formula:"Available_{i,DC} = OnHand_{i,DC} + Inbound_{i,DC}  Reservations_{i,DC} + External_i",formulaInputs:[{symbol:"OnHand_{i,DC}",value:5850,source:"DC Snapshot",description:"DC-Bestand"},{symbol:"Inbound_{i,DC}",value:1200,source:"Einkaufssystem",description:"Besttigte Bestellungen"},{symbol:"Reservations_{i,DC}",value:80,source:"Reservierungssystem",description:"Reservierte Mengen"},{symbol:"External_i",value:160,source:"Externe Lieferanten",description:"Externe Zulieferung"}],output:"DC Supply: 7.130 Einheiten",limitingFactor:"Supply deckt nur 93.8% des Bedarfs (Shortage: 470 Einheiten)",explanation:"Die DC-Verfgbarkeit reicht nicht aus, um den gesamten Nachschubsbedarf zu decken. Es besteht eine Unterdeckung von 470 Einheiten, die durch Rationierung verteilt werden muss.",warnings:["Supply Shortage: 470 Einheiten","Kritische SKUs mit <80% Coverage: 3","Rationierung erforderlich"]},{id:"step-7",step:7,title:"Capacity Snapshot & Space Constraints",status:"OK",summary:"Kapazittsdaten fr 245 Filialen  12 Warengruppen",what:"Die verfgbare Kapazitt wurde pro Filiale und Produktgruppe ermittelt und als Constraint hinterlegt.",inputs:[{label:"Kapazittseinheit",value:"m",source:"Variantenkonfiguration"},{label:"Planungsebene",value:"Produktgruppe",source:"Variantenkonfiguration"},{label:"Snapshot-Datum",value:"17.01.2025",source:"Kapazittsplanung"},{label:" Freie Kapazitt",value:"18.4 m pro Filiale",source:"Kapazittsberechnung"}],formula:"Free_{s,h,t} = max(0, CapSoll_{s,h,t}  OccIst_{s,h,t})",formulaInputs:[{symbol:"CapSoll_{s,h,t}",value:"450 m",source:"Kapazittsplanung",description:"SOLL-Kapazitt"},{symbol:"OccIst_{s,h,t}",value:"380 m",source:"Bestandssnapshot",description:"IST-Belegung inkl. Zulufe"}],output:"Freie Kapazitt erfasst, Constraint aktiv",explanation:"Die freie Kapazitt wurde als Differenz zwischen SOLL und IST berechnet. Die IST-Belegung bercksichtigt aktuellen Bestand, Reservierungen und eingehende Lieferungen innerhalb des Horizonts."},{id:"step-8",step:8,title:"Priority Scoring (w_i,s)",status:"OK",summary:"Prioritts-Scores berechnet fr SKU-Filial-Kombinationen",what:"Fr jede SKU-Filial-Kombination wurde ein Prioritts-Score berechnet, der Urgency, Sales Velocity, Service Level Gap und Overstock Risk kombiniert.",inputs:[{label:"Gewicht: Stockout Urgency (a)",value:"0.35",source:"Variantenkonfiguration"},{label:"Gewicht: Sales Velocity (b)",value:"0.25",source:"Variantenkonfiguration"},{label:"Gewicht: Service Level Gap (c)",value:"0.30",source:"Variantenkonfiguration"},{label:"Gewicht: Overstock Risk (e)",value:"-0.10",source:"Variantenkonfiguration"}],formula:"w_{i,s} = a  StockoutUrgency_{i,s} + b  SalesVelocity_{i,s} + c  ServiceLevelGap_{i,s}  e  OverstockRisk_{i,s}",formulaInputs:[{symbol:"StockoutUrgency_{i,s}",value:.82,source:"DOS-Berechnung",description:"max(0, Threshold  DOS)"},{symbol:"SalesVelocity_{i,s}",value:.75,source:"Recent Sales",description:"Normalisierte Verkaufsgeschwindigkeit"},{symbol:"ServiceLevelGap_{i,s}",value:.12,source:"Coverage-Berechnung",description:"max(0, Target  Coverage_pre)"},{symbol:"OverstockRisk_{i,s}",value:.05,source:"WOS-Berechnung",description:"Weeks of Supply > Threshold"}],output:"Priority Scores berechnet (: 82.5, Range: 45-95)",explanation:"Der Priority Score kombiniert verschiedene Faktoren: Stockout Urgency (basierend auf Days of Supply), Sales Velocity (Recent Sales), Service Level Gap (Target vs. aktuelle Coverage) und Overstock Risk (Weeks of Supply). Hhere Scores fhren zu bevorzugter Allokation."},{id:"step-9",step:9,title:"Allocation Core Solver",status:"OK",summary:"Min-Cost Flow Solver erfolgreich ausgefhrt",what:"Die Allokation wurde mit einem Min-Cost Flow Algorithmus berechnet unter Bercksichtigung von Supply-, Demand- und Capacity-Constraints.",inputs:[{label:"Solver-Typ",value:"Min-Cost Flow",source:"Variantenkonfiguration"},{label:"Decision Variables",value:"1.247 SKUs  245 Stores",source:"Berechnung"},{label:"Underfill Penalty ",value:"10.0",source:"Variantenkonfiguration"},{label:"Overcap Penalty ",value:"5.0",source:"Variantenkonfiguration"}],formula:"max _{i,s} w_{i,s}  x_{i,s}    _{i,s} Underfill_{i,s}    _{s,h} OvercapSlack_{s,h}",formulaInputs:[{symbol:"w_{i,s}",value:92.5,source:"Schritt 8",description:"Priority Score"},{symbol:"x_{i,s}",value:"Variable",source:"Solver",description:"Allokierte Menge (Entscheidungsvariable)"},{symbol:"Underfill_{i,s}",value:"max(0, Need - x)",source:"Solver",description:"Nicht gedeckter Bedarf"},{symbol:"",value:10,source:"Penalty Parameter",description:"Underfill Penalty"},{symbol:"",value:5,source:"Penalty Parameter",description:"Overcapacity Penalty"}],output:"Allokation berechnet: 6.880 Einheiten verteilt",explanation:"Der Min-Cost Flow Solver maximiert die gewichtete Summe der Allokationen unter Einhaltung von Supply-, Demand- und Capacity-Constraints. Underfill wird mit Penalty  bestraft, Overcapacity mit ."},{id:"step-10",step:10,title:"Rationing under Shortage",status:"WARN",summary:"Proportionale Rationierung angewendet (Supply: 93.8% des Bedarfs)",what:"Aufgrund der Supply-Unterdeckung wurde eine proportionale Rationierung durchgefhrt mit iterativer Kapazitts-Clipping.",inputs:[{label:"Rationierungsstrategie",value:"Proportional",source:"Variantenkonfiguration"},{label:"Gesamtbedarf",value:"7.600 Einheiten",source:"Schritt 4"},{label:"Verfgbar",value:"7.130 Einheiten",source:"Schritt 6"},{label:"Redistribution Iterationen",value:"3",source:"Algorithmus"}],formula:"x_{i,s} = min(Need_{i,s}, CapMaxUnits_{i,s}, Need_{i,s}  Available_i / _s Need_{i,s})",formulaInputs:[{symbol:"Need_{i,s}",value:67,source:"Schritt 4",description:"Nachschubsbedarf"},{symbol:"CapMaxUnits_{i,s}",value:72,source:"Kapazittsberechnung",description:"floor(Free / p_i)"},{symbol:"Available_i",value:1100,source:"Schritt 6",description:"DC-Verfgbarkeit fr SKU"},{symbol:"_s Need_{i,s}",value:1280,source:"Aggregation",description:"Gesamtbedarf fr SKU"}],output:"Rationierung abgeschlossen, 3 Iterationen bentigt",limitingFactor:"Supply-Shortage fhrt zu durchschnittlich 93.8% Coverage",explanation:"Bei proportionaler Rationierung erhlt jede Filiale einen Anteil proportional zu ihrem Bedarf. Nach Clipping an Kapazittsgrenzen wird die frei gewordene Menge in weiteren Iterationen auf nicht-kapazittsbeschrnkte Filialen umverteilt.",warnings:["Supply-Shortage: 470 Einheiten","Redistribution: 3 Iterationen","32 Filialen an Kapazittsgrenze geclippt"]},{id:"step-11",step:11,title:"Stockout Prevention (MinFill)",status:"WARN",summary:"MinFill erfllt fr 233/245 Filialen",what:"Sicherstellung der Mindestprsentation, um Leerregale zu vermeiden. Bei Nichterreichbarkeit wird Substitution vorbereitet.",inputs:[{label:"MinFill-Profil",value:"Core",source:"Variantenkonfiguration"},{label:"Presentation Min ()",value:"4.8 Einheiten",source:"Parameter"},{label:"Filialen unter MinFill",value:"12",source:"Validierung"}],formula:"x_{i,s} >= Min_{i,s} (soft constraint with penalty)",formulaInputs:[{symbol:"x_{i,s}",value:30,source:"Allokation",description:"Allokierte Menge"},{symbol:"Min_{i,s}",value:4,source:"Prsentationsparameter",description:"Mindestprsentation"}],output:"MinFill erfllt: 95.1% (233/245 Filialen)",limitingFactor:"12 Filialen unter MinFill-Schwelle  Substitution erforderlich",explanation:"Die Mindestprsentation wurde als Soft Constraint behandelt. Fr 12 Filialen konnte die MinFill-Schwelle aufgrund von Supply- oder Kapazittsengpssen nicht erreicht werden. Diese Filialen sind Kandidaten fr Substitution.",warnings:["12 Filialen unter MinFill","Stockout-Risiko fr diese Filialen: Hoch","Substitution wird in Schritt 12 geprft"]},{id:"step-12",step:12,title:"Substitution / Fallback",status:"WARN",summary:"6 Filialen mit aktiver Substitution",what:"In Filialen mit kritischem Stockout-Risiko oder MinFill-Unterschreitung wurde Substitution mit alternativen SKUs durchgefhrt.",inputs:[{label:"Substitutionsstrategie",value:"Within Product Group",source:"Variantenkonfiguration"},{label:"Trigger",value:"MinFill Gap > 50% OR DOS < 7 Tage",source:"Regel"},{label:"Betroffene Filialen",value:"6",source:"Schritt 11"},{label:"Substitute SKUs verwendet",value:"3",source:"Substitutionslogik"}],formula:"Efficiency_g = Forecast_g / SpaceDemand_g, SubFill_s = min(FreeCapacity_{s,h}, RemainingMinFillGap_s)",formulaInputs:[{symbol:"Forecast_g",value:425,source:"Prognosesystem",description:"Prognose fr Ersatz-SKU"},{symbol:"SpaceDemand_g",value:148.75,source:"p_i  Forecast_g",description:"Raumbedarf fr Ersatz-SKU"},{symbol:"FreeCapacity_{s,h}",value:8.4,source:"Kapazitt nach Primr-Allokation",description:"Freie Kapazitt"},{symbol:"RemainingMinFillGap_s",value:2,source:"MinFill - Allocated",description:"Verbleibende MinFill-Lcke"}],output:"Substitution in 6 Filialen durchgefhrt, +48 Einheiten allokiert",limitingFactor:"Substitution aktiv aufgrund Stockout-Risiko",explanation:"Fr 6 Filialen mit kritischem Stockout-Risiko wurden alternative SKUs aus der gleichen Produktgruppe allokiert. Die Auswahl erfolgte nach Efficiency (Forecast/SpaceDemand) und Verfgbarkeit. Die Substitution verbessert die Service-Level-Erfllung um 1.2%.",warnings:["Substitution aktiv in 6 Filialen","Primr-SKU HIK-BOO-023  Substitute: RUN-PRO-001 (Basic)","Effizienz-Verbesserung: +8.5%"]},{id:"step-13",step:13,title:"Pack/LOT Repair",status:"OK",summary:"47 Pack-Reparaturen durchgefhrt",what:"Allokationsmengen wurden auf volle Packgren gerundet (Best Effort Mode).",inputs:[{label:"Pack Enforcement",value:"Best Effort",source:"Variantenkonfiguration"},{label:"Reparaturen erforderlich",value:"47",source:"Validierung"},{label:"Aufrundungen",value:"32",source:"Reparatur"},{label:"Abrundungen",value:"15",source:"Reparatur"}],formula:"x_{i,s} = c_i  y_{i,s}, wobei y_{i,s} = round(x_{i,s}_proposed / c_i)",formulaInputs:[{symbol:"c_i",value:6,source:"Artikelparameter",description:"Packgre"},{symbol:"x_{i,s}_proposed",value:67,source:"Solver",description:"Vorgeschlagene Menge"},{symbol:"y_{i,s}",value:11,source:"round(67/6)",description:"Anzahl Packs"},{symbol:"x_{i,s}",value:66,source:"6  11",description:"Finale Menge"}],output:"Pack-Reparaturen: +156 Einheiten (Aufrundung), -85 Einheiten (Abrundung)",explanation:"Im Best Effort Mode wurden Mengen auf die nchste volle Packgre gerundet. Bei Kapazittskonflikten wurde abgerundet. Netto-nderung: +71 Einheiten durch Aufrundungen."},{id:"step-14",step:14,title:"Size Curve Repair",status:"OK",summary:"24 Size Curve Reparaturen durchgefhrt",what:"Grenverteilungen wurden an Zielkurven angepasst unter Einhaltung von Mindestgren und Kapazittsgrenzen.",inputs:[{label:"Size Curve Active",value:"Ja",source:"Variantenkonfiguration"},{label:"Min Sizes per Store",value:"3",source:"Variantenkonfiguration"},{label:"Reparaturen",value:"24",source:"Validierung"}],formula:"x_{i,s,k}  share_k  x_{i,s}, mit Constraints: min 1 in core sizes, capacity limits",formulaInputs:[{symbol:"share_k",value:.25,source:"Grenkurve",description:"Ziel-Anteil fr Gre k"},{symbol:"x_{i,s}",value:66,source:"Schritt 13",description:"Gesamt-Allokation"},{symbol:"x_{i,s,k}",value:17,source:"Reparatur",description:"Allokation fr Gre k"}],output:"Size Curves angepasst, Min-Gren-Constraint erfllt",explanation:"Die Grenverteilung wurde an die Zielkurve angepasst. In allen Stores wurden mindestens 3 Gren allokiert. Kleinere Abweichungen von der Zielkurve wurden akzeptiert, um Pack-Constraints zu erfllen."},{id:"step-15",step:15,title:"Finalization & Exceptions",status:"WARN",summary:"Allokation abgeschlossen: 6.880 Einheiten, 18 Exceptions",what:"Die finale Allokation wurde validiert und Exceptions wurden fr kritische Situationen erzeugt.",inputs:[{label:"Finale Allokation",value:"6.880 Einheiten",source:"Schritt 14"},{label:"Service Level erreicht",value:"87.3%",source:"KPI-Berechnung"},{label:"Exceptions erzeugt",value:"18",source:"Validierung"},{label:"Stockout Risk Stores",value:"12",source:"DOS-Berechnung"}],formula:"ServiceLevelFulfillment = (Allocated / Need)  100%",formulaInputs:[{symbol:"Allocated",value:6880,source:"Finale Allokation",description:"Allokierte Gesamtmenge"},{symbol:"Need",value:7600,source:"Schritt 4",description:"Nachschubsbedarf"}],output:"Replenishment Run abgeschlossen: 90.5% Coverage",limitingFactor:"Service Level Target nicht erreicht (87.3% vs. 95%)",explanation:"Der Replenishment-Lauf wurde erfolgreich abgeschlossen. Aufgrund von Supply-Engpssen konnten 90.5% des Nachschubsbedarfs gedeckt werden. 18 Exceptions wurden fr manuelle Nachbearbeitung erzeugt: 12 fr Stockout-Risiko, 6 fr Substitutions-Review.",warnings:["Service Level Target nicht erreicht: 87.3% (Ziel: 95%)","12 Filialen mit Stockout-Risiko (DOS < 14 Tage)","6 Filialen mit aktiver Substitution","18 Exceptions zur manuellen Prfung"]}],qoe=[{id:"step-1",step:1,title:"Empfngerbestimmung",status:"OK",summary:"245 Filialen aus Planungsdaten ermittelt",what:"Basierend auf der Planungsstrategie wurden alle Filialen ermittelt, die fr diese Allokation in Frage kommen.",inputs:[{label:"Planungsstrategie",value:"Planungsdaten",source:"Variantenkonfiguration"},{label:"Saison",value:"HW 2025",source:"Variantenkonfiguration"},{label:"Ausschlusskriterien",value:"3 aktiv",source:"Systemkonfiguration"}],output:"245 Filialen qualifiziert, 12 ausgeschlossen",explanation:"Die Filialen wurden anhand der Planungsdaten fr die Saison HW 2025 ermittelt. Ausgeschlossen wurden Filialen ohne aktive Listung, geschlossene Filialen und Filialen mit blockierten Transportrelationen.",warnings:["3 Filialen haben temporre Liefersperren"]},{id:"step-2",step:2,title:"Lieferterminauswahl",status:"OK",summary:"Liefertermine aus Lieferplan ermittelt",what:"Fr jede Filiale wurde der optimale Liefertermin basierend auf dem Lieferplan und der Vorlaufzeit bestimmt.",inputs:[{label:"Lieferplanlogik",value:"Lieferplan",source:"Variantenkonfiguration"},{label:"Standardvorlaufzeit",value:"14 Tage",source:"Systemparameter"},{label:"Frhester Termin",value:"15.01.2025",source:"Zeitfenster"}],output:" Liefertermin: 22.01.2025",explanation:"Der Liefertermin wurde fr jede Filiale individuell aus dem hinterlegten Lieferplan bernommen. Bei fehlenden Eintrgen wurde die Standardvorlaufzeit verwendet."},{id:"step-3",step:3,title:"Bedarfsberechnung",status:"OK",summary:"Bedarf fr 1.247 Produkt-Filialen-Kombinationen berechnet",what:"Der Bedarf wurde auf Basis von Plan, Bestand und Zulauf berechnet, optional gewichtet mit der Absatzprognose.",inputs:[{label:"Prognosegewicht",value:"60%",source:"Variantenkonfiguration"},{label:"Planungsdaten",value:"1.247 Zeilen",source:"Planungssystem"},{label:"Bestandsdaten",value:"Snapshot 10.01.2025",source:"Warenwirtschaft"}],formula:"D_{i,s} = max(0, T_{i,s} - (B_{i,s} + I_{i,s}))  (1 - w) + F_{i,s}  w",formulaInputs:[{symbol:"T_{i,s}",value:150,source:"Planungsdaten",description:"Geplante Menge"},{symbol:"B_{i,s}",value:45,source:"Bestandssnapshot",description:"Aktueller Bestand"},{symbol:"I_{i,s}",value:20,source:"Zulaufsdaten",description:"Zulufe"},{symbol:"F_{i,s}",value:120,source:"Prognosesystem",description:"Absatzprognose"},{symbol:"w",value:"0.6",source:"Variantenparameter",description:"Prognosegewicht"}],output:"Gesamtbedarf: 28.456 Einheiten",explanation:"Der Bedarf wurde als gewichteter Durchschnitt zwischen planbasiertem Bedarf und prognosebasiertem Bedarf berechnet. Das Prognosegewicht von 60% fhrt zu einer strkeren Bercksichtigung der Absatzprognose.",warnings:["128 Artikel ohne Prognose  nur Plan verwendet"]},{id:"step-4",step:4,title:"Verfgbarkeitsermittlung",status:"WARN",summary:"Verfgbarkeit: 24.120 Einheiten (84.8% des Bedarfs)",what:"Die verfgbare Menge wurde aus DC-Bestnden, Bestellungen und Lieferungen ermittelt.",inputs:[{label:"DC-Bestnde",value:"18.450 Einheiten",source:"DC Snapshot"},{label:"Bestellungen",value:"5.200 Einheiten",source:"Einkaufssystem"},{label:"Lieferungen",value:"470 Einheiten",source:"Logistiksystem"}],formula:"Supply = DC_{stock} + PO_{confirmed} + Delivery_{planned}",formulaInputs:[{symbol:"DC_{stock}",value:18450,source:"DC Snapshot 10.01.2025",description:"DC-Bestand"},{symbol:"PO_{confirmed}",value:5200,source:"Einkaufssystem",description:"Besttigte Bestellungen"},{symbol:"Delivery_{planned}",value:470,source:"Logistiksystem",description:"Geplante Lieferungen"}],output:"Verfgbar: 24.120 Einheiten",limitingFactor:"Verfgbarkeit ist limitierend (84.8% des Bedarfs)",explanation:"Die Gesamtverfgbarkeit deckt 84.8% des errechneten Bedarfs. Es besteht eine Unterdeckung von 4.336 Einheiten, die durch Rationierung verteilt werden muss.",warnings:["Unterdeckung: 4.336 Einheiten","Rationierung erforderlich"]},{id:"step-5",step:5,title:"Kapazittssnapshot",status:"OK",summary:"Kapazittsdaten fr 245 Filialen geladen",what:"Die verfgbare Kapazitt pro Filiale und Produktgruppe wurde aus dem Kapazittsplanungssystem bernommen.",inputs:[{label:"Kapazittseinheit",value:"m",source:"Variantenkonfiguration"},{label:"Planungsebene",value:"Produktgruppe",source:"Variantenkonfiguration"},{label:"Snapshot-Datum",value:"10.01.2025",source:"Kapazittsplanung"}],formula:"Free_{s,h} = max(0, Cap_{soll,s,h} - Occ_{ist,s,h})",formulaInputs:[{symbol:"Cap_{soll,s,h}",value:"450 m",source:"Kapazittsplanung",description:"SOLL-Kapazitt"},{symbol:"Occ_{ist,s,h}",value:"380 m",source:"Bestandssnapshot",description:"IST-Belegung"}],output:" Freie Kapazitt: 68.4 m pro Filiale",explanation:"Die freie Kapazitt wurde als Differenz zwischen SOLL-Kapazitt und IST-Belegung berechnet. Die IST-Belegung setzt sich zusammen aus aktuellem Bestand, Reservierungen und eingehenden Lieferungen."},{id:"step-6",step:6,title:"Optimierung / Heuristik",status:"OK",summary:"Allokation mit Proportional-Strategie berechnet",what:"Die verfgbare Menge wurde auf Basis der gewhlten Strategie auf die Filialen verteilt.",inputs:[{label:"Strategie",value:"Proportional",source:"Variantenkonfiguration"},{label:"Fairness-Faktor ",value:"0.8",source:"Variantenkonfiguration"},{label:"Supply",value:"24.120 Einheiten",source:"Schritt 4"},{label:"Demand",value:"28.456 Einheiten",source:"Schritt 3"}],formula:"x_{i,s} = min(D_{i,s}, Supply  (D_{i,s} /  D_{i,s}))",formulaInputs:[{symbol:"D_{i,s}",value:150,source:"Bedarfsberechnung",description:"Bedarf Artikel i, Filiale s"},{symbol:"Supply",value:24120,source:"Verfgbarkeit",description:"Gesamtverfgbarkeit"},{symbol:" D_{i,s}",value:28456,source:"Bedarfsberechnung",description:"Gesamtbedarf"}],output:"Allokation fr 1.247 Zeilen berechnet",explanation:"Bei der proportionalen Strategie erhlt jede Filiale einen Anteil entsprechend ihrem Bedarf. Die Summe aller Allokationen entspricht der verfgbaren Menge."},{id:"step-7",step:7,title:"Rationierung",status:"WARN",summary:"187 Filialen betroffen, MinFill: 85.2%",what:"Aufgrund der Unterdeckung musste eine Rationierung durchgefhrt werden. MinFill-Regeln wurden angewendet.",inputs:[{label:"MinFill-Profil",value:"Core",source:"Variantenkonfiguration"},{label:"MinFill-Prozentsatz",value:"80%",source:"Variantenkonfiguration"},{label:"Rationierte Menge",value:"4.336 Einheiten",source:"Schritt 4"}],output:"MinFill-Erfllung: 85.2%",limitingFactor:"MinFill-Ziel von 90% nicht erreicht",explanation:"Die Rationierung wurde so durchgefhrt, dass mglichst viele Filialen mindestens 80% ihrer Bedarfsmenge erhalten. Filialen mit sehr geringem Bedarf wurden priorisiert, um Prsentationsbestnde sicherzustellen.",warnings:["32 Filialen unter MinFill-Schwelle","MinFill-Ziel 90% nicht erreicht (ist: 85.2%)"]},{id:"step-8",step:8,title:"Fallback",status:"WARN",summary:"18 Filialen in Fallback-Modus",what:"Fr Filialen, die weder aus Verfgbarkeit noch aus Kapazitt beliefert werden konnten, wurde ein Fallback aktiviert.",inputs:[{label:"Fallback-Strategie",value:"Core/NOS Substitution",source:"Variantenkonfiguration"},{label:"Trigger",value:"Supply < Demand AND Space > Capacity",source:"Variantenkonfiguration"},{label:"Betroffene Filialen",value:"18",source:"Schritt 7"}],output:"18 Filialen mit Ersatzartikeln",limitingFactor:"Fallback aktiv aufgrund Kapazittsengpass",explanation:"In 18 Filialen konnte die geplante Produktgruppe aufgrund von Kapazittsengpssen nicht vollstndig allokiert werden. Stattdessen wurden effizientere Core/NOS-Artikel als Ersatz zugeteilt.",warnings:["Fallback aktiv in 18 Filialen",'Ersatz: Produktgruppe "Shoes"  "Basic Shoes"',"Effizienz-Verbesserung: +12.5%"]},{id:"step-9",step:9,title:"Nachbearbeitung (LOT/Gre)",status:"OK",summary:"Packgren und Grenkurven angewendet",what:"Die berechneten Allokationsmengen wurden auf Packgren gerundet und Grenkurven wurden angewendet.",inputs:[{label:"Pack-Gre erzwingen",value:"Ja",source:"Variantenkonfiguration"},{label:"Grenkurve aktiv",value:"Ja",source:"Variantenkonfiguration"},{label:"Min. Gren pro Filiale",value:"3",source:"Variantenkonfiguration"},{label:"Reparatur-Modus",value:"Best Effort",source:"Variantenkonfiguration"}],output:"Mengen angepasst: +245 Einheiten (Aufrundung)",explanation:"Die berechneten Mengen wurden auf volle Packgren aufgerundet. Grenkurven wurden angewendet, um sicherzustellen, dass jede Filiale mindestens 3 Gren erhlt."},{id:"step-10",step:10,title:"Endergebnis",status:"OK",summary:"Allokation abgeschlossen: 24.365 Einheiten verteilt",what:"Die finale Allokation wurde erstellt und validiert.",inputs:[{label:"Allokierte Menge",value:"24.365 Einheiten",source:"Schritt 9"},{label:"Filialen beliefert",value:"245",source:"Schritt 1"},{label:"Artikel-Filiale Zeilen",value:"1.247",source:"Berechnung"}],formula:"Coverage = (Supply / Demand)  100%",formulaInputs:[{symbol:"Supply",value:24365,source:"Finale Allokation",description:"Allokierte Menge"},{symbol:"Demand",value:28456,source:"Bedarfsberechnung",description:"Gesamtbedarf"}],output:"Coverage: 85.6%",explanation:"Die Allokation wurde erfolgreich abgeschlossen. Aufgrund der Unterdeckung konnten 85.6% des Bedarfs gedeckt werden. 18 Filialen befinden sich im Fallback-Modus."}],jT={OK:{icon:ci,color:"var(--status-success)",bgColor:"var(--surface-success-subtle)",label:"OK"},WARN:{icon:Mt,color:"var(--status-warning)",bgColor:"var(--surface-warning-subtle)",label:"Warnung"},FAIL:{icon:Bs,color:"var(--status-danger)",bgColor:"var(--surface-danger-subtle)",label:"Fehler"}};function Zoe({allocationType:e="Initial Allocation"}={}){const t=e==="Replenishment"?Goe:qoe,[r,n]=k.useState(t[0]),i=jT[r.status],o=i.icon;return a.jsxs("div",{className:"h-full flex gap-6",children:[a.jsxs("div",{className:"overflow-y-auto p-6",style:{width:"350px",backgroundColor:"var(--surface-subtle)",borderRight:"1px solid var(--border-default)"},children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Entscheidungspfad"}),a.jsx("div",{className:"space-y-2",children:t.map((l,u)=>{const d=l.id===r.id,f=jT[l.status],h=f.icon;return a.jsxs("div",{className:"relative",children:[u<t.length-1&&a.jsx("div",{style:{position:"absolute",left:"19px",top:"40px",width:"2px",height:"calc(100% + 8px)",backgroundColor:"var(--border-default)"}}),a.jsxs("button",{onClick:()=>n(l),className:"w-full p-3 rounded-lg flex items-start gap-3 text-left transition-all",style:{backgroundColor:d?"var(--surface-page)":"transparent",border:d?"2px solid var(--brand-primary)":"1px solid transparent"},children:[a.jsx("div",{className:"flex-shrink-0 rounded-full flex items-center justify-center",style:{width:"40px",height:"40px",backgroundColor:f.bgColor,border:`2px solid ${f.color}`,position:"relative",zIndex:1},children:a.jsx(h,{size:20,style:{color:f.color}})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"2px"},children:["Schritt ",l.step]}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)",marginBottom:"4px"},children:l.title}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:l.summary})]}),d&&a.jsx(fn,{size:20,style:{color:"var(--brand-primary)"}})]})]},l.id)})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[a.jsx("div",{className:"flex-shrink-0 rounded-full flex items-center justify-center",style:{width:"60px",height:"60px",backgroundColor:i.bgColor,border:`3px solid ${i.color}`},children:a.jsx(o,{size:32,style:{color:i.color}})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:["Schritt ",r.step," von ",t.length]}),a.jsx("h1",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:r.title}),a.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full",style:{backgroundColor:i.bgColor,color:i.color,fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(o,{size:16}),i.label]})]})]}),r.warnings&&r.warnings.length>0&&a.jsxs("div",{className:"mb-6 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-warning)"},children:[a.jsx(Mt,{size:18}),"Warnungen"]}),a.jsx("ul",{className:"space-y-1",style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:r.warnings.map((l,u)=>a.jsxs("li",{children:[" ",l]},u))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Was wurde berechnet?"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)",lineHeight:1.6},children:r.what})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Eingabewerte"}),a.jsx("div",{className:"space-y-3",children:r.inputs.map((l,u)=>a.jsxs("div",{className:"flex items-start justify-between p-3 rounded-lg",style:{backgroundColor:"var(--surface-subtle)"},children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"2px"},children:l.label}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:["Quelle: ",l.source]})]}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:l.value})]},u))})]}),r.formula&&r.formulaInputs&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Formel"}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-subtle)",fontFamily:"monospace",fontSize:"var(--font-size-md)",color:"var(--text-primary)"},children:r.formula}),a.jsx("div",{className:"mt-4 space-y-2",children:r.formulaInputs.map((l,u)=>a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg",style:{backgroundColor:"var(--surface-page)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-sm)",color:"var(--brand-primary)",fontWeight:"var(--font-weight-semibold)",minWidth:"80px"},children:l.symbol}),a.jsxs("div",{className:"flex-1",children:[l.description&&a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)",marginBottom:"2px"},children:l.description}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:["Quelle: ",l.source]})]}),a.jsxs("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:["= ",l.value]})]},u))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Ergebnis"}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-info-subtle)",border:"2px solid var(--status-info)"},children:a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-info)"},children:r.output})})]}),r.limitingFactor&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Limitierender Faktor"}),a.jsxs("div",{className:"p-4 rounded-lg flex items-start gap-3",style:{backgroundColor:"var(--surface-warning-subtle)",border:"1px solid var(--status-warning)"},children:[a.jsx(Zt,{size:20,style:{color:"var(--status-warning)",flexShrink:0,marginTop:"2px"}}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:r.limitingFactor})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Erklrung (Warum?)"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)",lineHeight:1.6},children:r.explanation})]})]})]})}const Ao=[{id:"ZH-001",name:"Zrich HB",description:"Hauptbahnhof",address:"Bahnhofstrasse 1, 8001 Zrich",country:"Schweiz",size:850},{id:"BS-001",name:"Basel SBB",description:"Bahnhof",address:"Centralbahnplatz 1, 4051 Basel",country:"Schweiz",size:720},{id:"BE-001",name:"Bern Westside",description:"Shopping-Center",address:"Riedbachstrasse 100, 3027 Bern",country:"Schweiz",size:650},{id:"GE-001",name:"Genve Cornavin",description:"Bahnhof",address:"Place de Cornavin, 1201 Genve",country:"Schweiz",size:780},{id:"LU-001",name:"Luzern Bahnhof",description:"Bahnhof",address:"Bahnhofplatz 1, 6003 Luzern",country:"Schweiz",size:580},{id:"SG-001",name:"St. Gallen",description:"Innenstadt",address:"Multergasse 25, 9000 St. Gallen",country:"Schweiz",size:620},{id:"WI-001",name:"Winterthur",description:"Altstadt",address:"Marktgasse 68, 8400 Winterthur",country:"Schweiz",size:540}];function Xoe({onAddCluster:e}){const{t}=br(),[r,n]=k.useState([{id:"cluster-1",name:"Cluster A - Grostdte",stores:[Ao[0],Ao[1],Ao[3]],color:"#2563eb",isExpanded:!0},{id:"cluster-2",name:"Cluster B - Mittelstdte",stores:[Ao[2],Ao[4]],color:"#10b981",isExpanded:!0},{id:"cluster-3",name:"Cluster C - Kleinstdte",stores:[Ao[5],Ao[6]],color:"#f59e0b",isExpanded:!0},{id:"unassigned",name:t.clusterScreen.unassigned,stores:[],color:"#6b7280",isExpanded:!0}]),[i,o]=k.useState(null),[l,u]=k.useState(null),d=j=>{n(A=>A.map(S=>S.id===j?{...S,isExpanded:!S.isExpanded}:S))},f=(j,A)=>{o({store:j,sourceClusterId:A})},h=()=>{o(null),u(null)},m=(j,A)=>{j.preventDefault(),u(A)},v=()=>{u(null)},x=(j,A)=>{if(j.preventDefault(),!i)return;const{store:S,sourceClusterId:N}=i;if(N===A){o(null),u(null);return}n(z=>z.map(_=>_.id===N?{..._,stores:_.stores.filter(E=>E.id!==S.id)}:_).map(_=>_.id===A?{..._,stores:[..._.stores,S]}:_)),o(null),u(null)},w=j=>{j!=="unassigned"&&n(A=>{const S=A.find(z=>z.id===j);return!S||!A.find(z=>z.id==="unassigned")?A:A.filter(z=>z.id!==j).map(z=>z.id==="unassigned"?{...z,stores:[...z.stores,...S.stores]}:z)})},b=["#2563eb","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#84cc16"],y=()=>{const j=r.filter(z=>z.id!=="unassigned"),A=String.fromCharCode(65+j.length),S=b[j.length%b.length],N={id:`cluster-${Date.now()}`,name:`Cluster ${A} - Neu`,stores:[],color:S,isExpanded:!0};n(z=>{const O=z.findIndex(_=>_.id==="unassigned");return O===-1?[...z,N]:[...z.slice(0,O),N,...z.slice(O)]})};return a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)"},children:t.clusterScreen.clusterAssignment}),a.jsxs("button",{onClick:y,className:"px-3 py-1.5 rounded-lg border flex items-center gap-2 transition-colors",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",borderColor:"var(--brand-primary)",fontSize:"var(--font-size-sm)"},children:[a.jsx(ei,{size:14}),t.clusterScreen.newCluster]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)"},children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{style:{position:"sticky",top:0,backgroundColor:"var(--surface-alt)",zIndex:10},children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",width:"40px"}}),a.jsxs("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",width:"250px"},children:[t.clusterScreen.clusters," / ",t.clusterScreen.stores]}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:t.clusterScreen.description}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:t.clusterScreen.address}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:t.clusterScreen.country}),a.jsx("th",{className:"text-right p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:t.clusterScreen.size}),a.jsx("th",{className:"text-right p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",width:"50px"}})]})}),a.jsx("tbody",{children:r.map(j=>a.jsx(Yoe,{cluster:j,isExpanded:j.isExpanded,isDragOver:l===j.id,onToggle:()=>d(j.id),onDragStart:f,onDragEnd:h,onDragOver:m,onDragLeave:v,onDrop:x,onDelete:()=>w(j.id)},j.id))})]})})]})}function Yoe({cluster:e,isExpanded:t,isDragOver:r,onToggle:n,onDragStart:i,onDragEnd:o,onDragOver:l,onDragLeave:u,onDrop:d,onDelete:f}){return a.jsxs(a.Fragment,{children:[a.jsxs("tr",{onDragOver:h=>l(h,e.id),onDragLeave:u,onDrop:h=>d(h,e.id),style:{backgroundColor:r?`${e.color}20`:`${e.color}15`,borderLeft:`4px solid ${e.color}`,borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{className:"p-3",children:a.jsx("button",{onClick:n,className:"p-1 rounded hover:bg-black/5 transition-colors",children:t?a.jsx(Ji,{size:16}):a.jsx(fn,{size:16})})}),a.jsx("td",{className:"p-3",colSpan:5,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:e.color},children:e.name}),a.jsxs("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:`${e.color}25`,color:e.color,fontSize:"var(--font-size-xs)"},children:[e.stores.length," ",e.stores.length===1?"Filiale":"Filialen"]})]})}),a.jsx("td",{className:"p-3 text-right",children:e.id!=="unassigned"&&a.jsx("button",{onClick:f,className:"p-1 rounded opacity-50 hover:opacity-100 transition-opacity",style:{color:"var(--status-danger)"},children:a.jsx($n,{size:14})})})]}),t&&e.stores.map(h=>a.jsxs("tr",{draggable:!0,onDragStart:()=>i(h,e.id),onDragEnd:o,className:"group cursor-move hover:bg-black/5",style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{className:"p-3"}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(JL,{size:14,style:{color:"var(--text-muted)"},className:"opacity-0 group-hover:opacity-100 transition-opacity"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:h.id}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:h.name})]})}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:h.description}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:h.address}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:h.country}),a.jsx("td",{className:"p-3 text-right",style:{fontSize:"var(--font-size-sm)"},children:h.size}),a.jsx("td",{className:"p-3"})]},h.id)),t&&e.stores.length===0&&a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{className:"p-3"}),a.jsx("td",{className:"p-6 text-center",colSpan:6,style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:e.id==="unassigned"?"Alle Filialen sind zugeordnet":"Ziehen Sie Filialen hierher, um sie diesem Cluster zuzuweisen"})]})]})}function Qoe({onClose:e,onConfirm:t}){const{t:r}=br(),[n,i]=k.useState(""),[o,l]=k.useState(""),[u,d]=k.useState(""),[f,h]=k.useState([]),v=[{id:"ZH-001",name:"Zrich HB",address:"Bahnhofstrasse 1, 8001 Zrich",country:"Schweiz",size:850},{id:"BS-001",name:"Basel SBB",address:"Centralbahnplatz 1, 4051 Basel",country:"Schweiz",size:720},{id:"BE-001",name:"Bern Westside",address:"Riedbachstrasse 100, 3027 Bern",country:"Schweiz",size:650},{id:"GE-001",name:"Genve Cornavin",address:"Place de Cornavin, 1201 Genve",country:"Schweiz",size:780},{id:"LU-001",name:"Luzern Bahnhof",address:"Bahnhofplatz 1, 6003 Luzern",country:"Schweiz",size:580}].filter(w=>w.id.toLowerCase().includes(n.toLowerCase())&&w.name.toLowerCase().includes(o.toLowerCase())&&w.country.toLowerCase().includes(u.toLowerCase())),x=w=>{h(b=>b.includes(w)?b.filter(y=>y!==w):[...b,w])};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:e,children:a.jsxs("div",{className:"rounded-lg border shadow-xl",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",width:"90%",maxWidth:"800px",maxHeight:"80vh",display:"flex",flexDirection:"column"},onClick:w=>w.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-default)"},children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:r.clusterScreen.selectStores}),a.jsx("button",{onClick:e,className:"p-1 rounded",style:{color:"var(--text-muted)"},children:a.jsx(Ct,{size:20})})]}),a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsx("input",{type:"text",placeholder:r.clusterScreen.storeId,value:n,onChange:w=>i(w.target.value),className:"px-3 py-2 rounded-lg border",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}}),a.jsx("input",{type:"text",placeholder:"Name",value:o,onChange:w=>l(w.target.value),className:"px-3 py-2 rounded-lg border",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}}),a.jsx("input",{type:"text",placeholder:r.clusterScreen.country,value:u,onChange:w=>d(w.target.value),className:"px-3 py-2 rounded-lg border",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{className:"text-left pb-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",width:"40px"},children:a.jsx("input",{type:"checkbox",checked:f.length===v.length&&v.length>0,onChange:()=>{f.length===v.length?h([]):h(v.map(w=>w.id))}})}),a.jsx("th",{className:"text-left pb-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:r.clusterScreen.storeId}),a.jsx("th",{className:"text-left pb-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:r.clusterScreen.name}),a.jsx("th",{className:"text-left pb-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:r.clusterScreen.address}),a.jsx("th",{className:"text-left pb-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:r.clusterScreen.country}),a.jsx("th",{className:"text-right pb-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:r.clusterScreen.size})]})}),a.jsx("tbody",{children:v.map(w=>a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{className:"py-3",children:a.jsx("input",{type:"checkbox",checked:f.includes(w.id),onChange:()=>x(w.id)})}),a.jsx("td",{className:"py-3",style:{fontSize:"var(--font-size-sm)"},children:w.id}),a.jsx("td",{className:"py-3",style:{fontSize:"var(--font-size-sm)"},children:w.name}),a.jsx("td",{className:"py-3",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:w.address}),a.jsx("td",{className:"py-3",style:{fontSize:"var(--font-size-sm)"},children:w.country}),a.jsx("td",{className:"py-3 text-right",style:{fontSize:"var(--font-size-sm)"},children:w.size})]},w.id))})]})}),a.jsxs("div",{className:"flex items-center justify-between p-6 border-t",style:{borderColor:"var(--border-default)"},children:[a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[f.length," ",r.clusterScreen.storesSelected]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"},children:r.actions.cancel}),a.jsx("button",{onClick:()=>t(f),className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)"},children:"Besttigen"})]})]})]})})}function Joe({onClose:e,onCalculate:t}){const{t:r}=br(),[n,i]=k.useState(["Region","Umsatz (jhrlich)","Verkaufsflche (m)"]),[o,l]=k.useState(3),[u,d]=k.useState(7),f=["Region","Land","Umsatz (jhrlich)","Umsatz (rollierend)","Verkaufsflche (m)","Sortimentstiefe","Umsatz je m","Abverkaufsrate","Kapazittsauslastung","Kundensegmente","Preisniveau","Logistikdistanz"],h=m=>{i(v=>v.includes(m)?v.filter(x=>x!==m):[...v,m])};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:e,children:a.jsxs("div",{className:"rounded-lg border shadow-xl",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",width:"600px",maxHeight:"80vh",display:"flex",flexDirection:"column"},onClick:m=>m.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-default)"},children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:r.clusterScreen.selectAttributes}),a.jsx("button",{onClick:e,className:"p-1 rounded",style:{color:"var(--text-muted)"},children:a.jsx(Ct,{size:20})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginBottom:"var(--space-4)"},children:r.clusterScreen.attributeHint}),a.jsx("div",{className:"space-y-2 mb-6",children:f.map(m=>a.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border cursor-pointer",style:{borderColor:n.includes(m)?"var(--brand-primary)":"var(--border-subtle)",backgroundColor:n.includes(m)?"var(--surface-subtle-tint)":"transparent"},children:[a.jsx("input",{type:"checkbox",checked:n.includes(m),onChange:()=>h(m)}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:m})]},m))}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",marginBottom:"var(--space-2)",display:"block"},children:[r.clusterScreen.minClusterCount,": ",o]}),a.jsx("input",{type:"range",min:"2",max:"10",value:o,onChange:m=>l(Number(m.target.value)),className:"w-full"})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",marginBottom:"var(--space-2)",display:"block"},children:[r.clusterScreen.maxClusterCount,": ",u]}),a.jsx("input",{type:"range",min:"2",max:"15",value:u,onChange:m=>d(Number(m.target.value)),className:"w-full"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-6 border-t",style:{borderColor:"var(--border-default)"},children:[a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[n.length," ",r.clusterScreen.attributesSelected]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"},children:r.actions.cancel}),a.jsxs("button",{onClick:()=>t(n,o,u),disabled:n.length===0,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{backgroundColor:n.length>0?"var(--brand-primary)":"var(--surface-subtle)",color:n.length>0?"var(--text-inverse)":"var(--text-muted)",fontSize:"var(--font-size-sm)",cursor:n.length>0?"pointer":"not-allowed"},children:[a.jsx(qc,{size:16}),"Vorschlag berechnen"]})]})]})]})})}const kT=[{id:"cs-001",name:"Standard Cluster 2025",description:"Hauptcluster fr Allokation HW/SW 2025",clusterCount:5,storeCount:48,type:"Hybrid",status:"Active",lastModified:"2025-01-15T10:30:00",owner:"John Doe",createdAt:"2024-11-20T09:00:00"},{id:"cs-002",name:"Umsatz-basiert Q1 2025",description:"Systemvorschlag basierend auf Umsatz und Flche",clusterCount:6,storeCount:48,type:"System-generated",status:"Active",lastModified:"2025-01-12T14:20:00",owner:"Jane Smith",createdAt:"2025-01-10T11:00:00"},{id:"cs-003",name:"Regionale Cluster CH",description:"Manuelle Gruppierung nach Regionen",clusterCount:4,storeCount:35,type:"Manual",status:"Draft",lastModified:"2025-01-08T16:45:00",owner:"John Doe",createdAt:"2025-01-05T10:30:00"},{id:"cs-004",name:"Pilot Cluster Winter 2024",description:"Test-Setup fr Winter-Saison",clusterCount:3,storeCount:20,type:"Manual",status:"Archived",lastModified:"2024-12-15T10:00:00",owner:"Jane Smith",createdAt:"2024-11-01T09:00:00"},{id:"cs-005",name:"Kapazitts-optimiert",description:"Systemvorschlag mit Fokus auf Verkaufsflchenoptimierung",clusterCount:7,storeCount:48,type:"System-generated",status:"Draft",lastModified:"2025-01-14T09:15:00",owner:"John Doe",createdAt:"2025-01-13T08:00:00"}],Mf=e=>{switch(e){case"Active":return"var(--status-success)";case"Draft":return"var(--status-warning)";case"Archived":return"var(--text-muted)";default:return"var(--text-secondary)"}},Lf=e=>{switch(e){case"Manual":return"var(--brand-primary)";case"System-generated":return"var(--status-info)";case"Hybrid":return"#ec4899";default:return"var(--text-secondary)"}},CT=e=>{const t=new Date(e),n=Math.abs(new Date().getTime()-t.getTime()),i=Math.floor(n/(1e3*60*60*24));if(i===0){const o=Math.floor(n/36e5);return o===0?`vor ${Math.floor(n/6e4)} Min.`:`vor ${o} Std.`}return i===1?"gestern":i<7?`vor ${i} Tagen`:t.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})};function ese({onNavigate:e}){const{t}=br(),[r,n]=k.useState(""),[i,o]=k.useState("All"),[l,u]=k.useState(kT[0]),[d,f]=k.useState(null),[h,m]=k.useState(!1),[v,x]=k.useState(!1),[w,b]=k.useState(""),[y,j]=k.useState(""),A=k.useMemo(()=>kT.filter(S=>{const N=S.name.toLowerCase().includes(r.toLowerCase())||S.description.toLowerCase().includes(r.toLowerCase()),z=i==="All"||S.status===i;return N&&z}),[r,i]);return a.jsxs("div",{className:"flex h-full gap-6",children:[a.jsxs("div",{className:"flex flex-col border-r",style:{width:"25%",minWidth:"320px",backgroundColor:"var(--surface-alt)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",padding:"var(--space-4)"},children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:t.cluster.title}),a.jsxs("button",{className:"px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},onMouseEnter:S=>S.currentTarget.style.opacity="0.9",onMouseLeave:S=>S.currentTarget.style.opacity="1",children:[a.jsx(ei,{size:16}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:t.common.create})]})]}),a.jsxs("div",{className:"relative mb-3",children:[a.jsx(Vr,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),a.jsx("input",{type:"text",placeholder:t.common.search+"...",value:r,onChange:S=>n(S.target.value),className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]}),a.jsx("div",{className:"flex gap-2",children:["All","Active","Draft","Archived"].map(S=>a.jsx("button",{onClick:()=>o(S),className:"px-3 py-1.5 rounded-lg transition-colors",style:{backgroundColor:i===S?"var(--brand-primary)":"var(--surface-subtle)",color:i===S?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-xs)",border:"1px solid",borderColor:i===S?"var(--brand-primary)":"var(--border-subtle)"},children:S==="All"?t.common.all:S},S))})]}),a.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:A.map(S=>a.jsxs("div",{onClick:()=>u(S),className:"w-full p-4 rounded-lg border transition-all text-left relative group cursor-pointer",style:{backgroundColor:l?.id===S.id?"var(--surface-subtle-tint)":"var(--surface-page)",borderColor:l?.id===S.id?"var(--brand-primary)":"var(--border-subtle)",borderWidth:l?.id===S.id?"2px":"1px"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"4px"},children:S.name}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",lineHeight:"1.4"},children:S.description})]}),a.jsx("button",{onClick:N=>{N.stopPropagation(),f(d===S.id?null:S.id)},className:"p-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",style:{backgroundColor:"var(--surface-subtle)",color:"var(--text-secondary)"},children:a.jsx(ET,{size:14})})]}),a.jsx("div",{className:"flex items-center gap-2 mb-2",children:a.jsxs("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[S.clusterCount," Cluster  ",S.storeCount," ",t.allocation.stores]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:`${Lf(S.type)}15`,color:Lf(S.type),fontSize:"var(--font-size-xs)"},children:S.type}),a.jsx("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:`${Mf(S.status)}15`,color:Mf(S.status),fontSize:"var(--font-size-xs)"},children:S.status})]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"8px"},children:CT(S.lastModified)}),d===S.id&&a.jsx("div",{className:"absolute right-2 top-12 z-10 rounded-lg border shadow-lg py-1",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",minWidth:"150px"},onClick:N=>N.stopPropagation(),children:[t.common.edit,t.common.delete,t.common.export].map(N=>a.jsx("button",{className:"w-full px-3 py-2 text-left transition-colors",style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},onMouseEnter:z=>z.currentTarget.style.backgroundColor="var(--surface-subtle)",onMouseLeave:z=>z.currentTarget.style.backgroundColor="transparent",children:N},N))})]},S.id))})]}),a.jsx("div",{className:"flex-1 flex flex-col",style:{backgroundColor:"var(--surface-alt)",borderRadius:"var(--radius-lg)",padding:"var(--space-6)"},children:l?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6 pb-6 border-b",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("input",{type:"text",value:w||l.name,onChange:S=>b(S.target.value),className:"text-2xl font-semibold mb-2 bg-transparent border-0 focus:outline-none w-full",style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"}}),a.jsx("textarea",{value:y||l.description,onChange:S=>j(S.target.value),placeholder:t.common.description+"...",className:"w-full bg-transparent border-0 focus:outline-none resize-none",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",minHeight:"40px"}})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"px-4 py-2 rounded-lg border transition-colors",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"},children:t.common.cancel}),a.jsx("button",{className:"px-4 py-2 rounded-lg transition-colors",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)"},children:t.common.save})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[t.common.date,":"]}),a.jsxs("span",{style:{fontSize:"var(--font-size-xs)"},children:[CT(l.createdAt)," von ",l.owner]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[t.common.type,":"]}),a.jsx("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:`${Lf(l.type)}15`,color:Lf(l.type),fontSize:"var(--font-size-xs)"},children:l.type})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[t.common.status,":"]}),a.jsx("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:`${Mf(l.status)}15`,color:Mf(l.status),fontSize:"var(--font-size-xs)"},children:l.status})]})]})]}),a.jsxs("div",{className:"flex gap-3 mb-6",children:[a.jsxs("button",{onClick:()=>m(!0),className:"px-4 py-2 rounded-lg border flex items-center gap-2 transition-colors",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"},onMouseEnter:S=>S.currentTarget.style.borderColor="var(--brand-primary)",onMouseLeave:S=>S.currentTarget.style.borderColor="var(--border-default)",children:[a.jsx(_T,{size:16}),t.cluster.assignStores]}),a.jsxs("button",{onClick:()=>x(!0),className:"px-4 py-2 rounded-lg border flex items-center gap-2 transition-colors",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"},onMouseEnter:S=>S.currentTarget.style.borderColor="var(--brand-primary)",onMouseLeave:S=>S.currentTarget.style.borderColor="var(--border-default)",children:[a.jsx(qc,{size:16}),t.common.filter]})]}),a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsx(Xoe,{onAddCluster:()=>console.log("Add new cluster")})})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center",style:{color:"var(--text-muted)"},children:a.jsx("p",{children:t.common.noData})})}),h&&a.jsx(Qoe,{onClose:()=>m(!1),onConfirm:S=>{console.log("Selected stores:",S),m(!1)}}),v&&a.jsx(Joe,{onClose:()=>x(!1),onCalculate:(S,N,z)=>{console.log("Calculate with:",S,N,z),x(!1)}})]})}const tse="https://allocation-api.onrender.com/api";async function Nt(e,t={}){try{const r=await fetch(`${tse}${e}`,{...t,headers:{"Content-Type":"application/json",...t.headers}}),n=await r.json();return r.ok?n:{success:!1,error:n.error||"Request failed"}}catch(r){return console.error("API Error:",r),{success:!1,error:r.message||"Network error"}}}async function rse(){return Nt("/kpis")}async function nse(){return Nt("/stores")}async function ase(e){return Nt(`/stores/${e}`)}async function ise(e){const t=new URLSearchParams;e?.product_group&&t.append("product_group",e.product_group),e?.season&&t.append("season",e.season),e?.brand&&t.append("brand",e.brand);const r=t.toString();return Nt(`/articles${r?`?${r}`:""}`)}async function ose(e){const t=new URLSearchParams;e?.type&&t.append("type",e.type),e?.status&&t.append("status",e.status),e?.user_name&&t.append("user_name",e.user_name);const r=t.toString();return Nt(`/runs${r?`?${r}`:""}`)}async function sse(e){return Nt(`/runs/${e}`)}async function lse(e){return Nt("/runs",{method:"POST",body:JSON.stringify(e)})}async function cse(e,t){return Nt(`/runs/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function use(e){return Nt(`/runs/${e}`,{method:"DELETE"})}async function dse(e){const t=new URLSearchParams;e?.status&&t.append("status",e.status),e?.allocation_type&&t.append("allocation_type",e.allocation_type);const r=t.toString();return Nt(`/scenarios${r?`?${r}`:""}`)}async function fse(e){return Nt(`/scenarios/${e}`)}async function pse(e){return Nt("/scenarios",{method:"POST",body:JSON.stringify(e)})}async function hse(e,t){return Nt(`/scenarios/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function mse(e){return Nt(`/scenarios/${e}`,{method:"DELETE"})}async function vse(e){const t=new URLSearchParams;e?.status&&t.append("status",e.status),e?.severity&&t.append("severity",e.severity),e?.type&&t.append("type",e.type);const r=t.toString();return Nt(`/exceptions${r?`?${r}`:""}`)}async function gse(e){return Nt("/exceptions",{method:"POST",body:JSON.stringify(e)})}async function yse(e,t){return Nt(`/exceptions/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function xse(e){const t=new URLSearchParams;e?.status&&t.append("status",e.status),e?.priority&&t.append("priority",e.priority),e?.assigned_to&&t.append("assigned_to",e.assigned_to);const r=t.toString();return Nt(`/tasks${r?`?${r}`:""}`)}async function bse(e){return Nt("/tasks",{method:"POST",body:JSON.stringify(e)})}async function Sse(e,t){return Nt(`/tasks/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function wse(e){return Nt(`/tasks/${e}`,{method:"DELETE"})}async function jse(e){const t=e?`?category=${e}`:"";return Nt(`/parameters${t}`)}async function kse(e,t,r){return Nt(`/parameters/${e}`,{method:"PUT",body:JSON.stringify({value:t,updated_by:r})})}async function Cse(){return Nt("/data-manager/config")}async function Ase(e,t){return Nt(`/data-manager/config/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function zse(e){return Nt(`/data-manager/logs/${e}`)}async function Nse(e,t,r){return Nt(`/data-manager/import/${e}`,{method:"POST",headers:r?{"X-API-Key":r}:{},body:JSON.stringify({data:t})})}async function Pse(e,t,r){const i=new URLSearchParams(t).toString();return Nt(`/data-manager/export/${e}${i?`?${i}`:""}`,{headers:r?{"X-API-Key":r}:{}})}const Wc={kpis:{fetch:rse},stores:{fetch:nse,fetchOne:ase},articles:{fetch:ise},runs:{fetch:ose,fetchOne:sse,create:lse,update:cse,delete:use},scenarios:{fetch:dse,fetchOne:fse,create:pse,update:hse,delete:mse},exceptions:{fetch:vse,create:gse,update:yse},tasks:{fetch:xse,create:bse,update:Sse,delete:wse},parameters:{fetch:jse,update:kse},dataManager:{fetchConfigs:Cse,updateConfig:Ase,fetchLogs:zse,import:Nse,export:Pse}};function Ose({t:e,cmsSelectedSection:t,setCmsSelectedSection:r,cmsSearchQuery:n,setCmsSearchQuery:i,cmsEditingKey:o,setCmsEditingKey:l,cmsEditValues:u,setCmsEditValues:d,cmsLoading:f,setCmsLoading:h,cmsExpandedSections:m,setCmsExpandedSections:v}){const{reloadTranslations:x}=br(),[w,b]=k.useState(new Map),[y,j]=k.useState("idle"),A=k.useMemo(()=>ba.getSections(),[]);k.useEffect(()=>{S()},[]);const S=async()=>{h(!0);try{const M=await ba.getAllCustomTranslations(),$=new Map;M.forEach(U=>{$.set(U.id,U.value)}),b($)}catch(M){console.error("Failed to load custom translations:",M)}finally{h(!1)}},N=(M,$="")=>{const U={};for(const I in M){const Q=$?`${$}.${I}`:I;typeof M[I]=="object"&&M[I]!==null&&!Array.isArray(M[I])?Object.assign(U,N(M[I],Q)):U[Q]=String(M[I])}return U},z=k.useMemo(()=>{const M=N(Bn.de),$=N(Bn.en),U=[];for(const I of Object.keys(M)){const Q=I.split("."),L=Q[0],W=Q.slice(1).join(".");if(!W)continue;const X=`de:${I}`,se=`en:${I}`;U.push({fullKey:I,section:L,key:W,deValue:w.get(X)||M[I]||"",enValue:w.get(se)||$[I]||"",isCustom:w.has(X)||w.has(se)})}return U},[w]),O=k.useMemo(()=>{let M=z;if(t&&(M=M.filter($=>$.section===t)),n){const $=n.toLowerCase();M=M.filter(U=>U.fullKey.toLowerCase().includes($)||U.deValue.toLowerCase().includes($)||U.enValue.toLowerCase().includes($))}return M},[z,t,n]),_=k.useMemo(()=>{const M={};for(const $ of O)M[$.section]||(M[$.section]=[]),M[$.section].push($);return M},[O]),E=M=>{const $=new Set(m);$.has(M)?$.delete(M):$.add(M),v($)},T=M=>{l(M.fullKey),d({de:M.deValue,en:M.enValue})},B=async()=>{if(o){j("saving");try{const M=o.split("."),$=M[0],U=M.slice(1).join(".");await ba.saveTranslation("de",$,U,u.de),await ba.saveTranslation("en",$,U,u.en);const I=new Map(w);I.set(`de:${o}`,u.de),I.set(`en:${o}`,u.en),b(I),await x(),j("saved"),setTimeout(()=>j("idle"),2e3),l(null)}catch(M){console.error("Failed to save translation:",M),j("error"),setTimeout(()=>j("idle"),3e3)}}},R=async M=>{if(confirm(`"${M.fullKey}" auf Standardwert zurcksetzen?`))try{const $=M.fullKey.split("."),U=$[0],I=$.slice(1).join(".");await ba.deleteTranslation("de",U,I),await ba.deleteTranslation("en",U,I);const Q=new Map(w);Q.delete(`de:${M.fullKey}`),Q.delete(`en:${M.fullKey}`),b(Q),await x()}catch($){console.error("Failed to reset translation:",$)}},F=async()=>{const M=await ba.exportTranslations(),$=new Blob([M],{type:"application/json"}),U=URL.createObjectURL($),I=document.createElement("a");I.href=U,I.download=`translations_${new Date().toISOString().split("T")[0]}.json`,I.click(),URL.revokeObjectURL(U)},K=async M=>{const $=M.target.files?.[0];if($){try{const U=await $.text(),I=await ba.importTranslations(U);I.success?(alert(`${I.count} bersetzungen importiert`),await S(),await x()):alert("Import fehlgeschlagen: "+I.error)}catch{alert("Import fehlgeschlagen")}M.target.value=""}},H=async()=>{confirm("Alle benutzerdefinierten bersetzungen lschen und auf Standard zurcksetzen?")&&(await ba.clearAllCustom(),b(new Map),await x())};return a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(LT,{size:18,className:"inline mr-2"}),"CMS - Textpflege"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:S,className:"px-3 py-1 rounded flex items-center gap-1 text-sm",style:{border:"1px solid var(--border-default)"},disabled:f,children:[a.jsx(Er,{size:14,className:f?"animate-spin":""}),"Aktualisieren"]}),a.jsxs("button",{onClick:F,className:"px-3 py-1 rounded flex items-center gap-1 text-sm",style:{border:"1px solid var(--border-default)"},children:[a.jsx(oa,{size:14}),"Exportieren"]}),a.jsxs("label",{className:"px-3 py-1 rounded flex items-center gap-1 text-sm cursor-pointer",style:{border:"1px solid var(--border-default)"},children:[a.jsx(_o,{size:14}),"Importieren",a.jsx("input",{type:"file",accept:".json",onChange:K,className:"hidden"})]}),a.jsxs("button",{onClick:H,className:"px-3 py-1 rounded flex items-center gap-1 text-sm",style:{border:"1px solid var(--border-default)",color:"var(--status-error)"},children:[a.jsx($n,{size:14}),"Alle zurcksetzen"]})]})]}),a.jsx("div",{className:"mb-4 p-3 rounded-lg",style:{background:"var(--status-info)",opacity:.9},children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Wn,{size:16,className:"mt-0.5",style:{color:"var(--text-primary)"}}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)"},children:[a.jsx("strong",{children:"Hinweis:"})," Hier knnen Sie alle statischen Texte der Anwendung bearbeiten. nderungen werden in der lokalen Datenbank gespeichert und berschreiben die Standardwerte. Falls die Datenbank nicht erreichbar ist, werden automatisch die Standardtexte verwendet."]})]})}),a.jsxs("div",{className:"flex gap-4 mb-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Vr,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{type:"text",placeholder:"Suchen (Schlssel oder Text)...",value:n,onChange:M=>i(M.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg",style:{border:"1px solid var(--border-default)",background:"var(--surface-page)"}})]})}),a.jsxs("select",{value:t,onChange:M=>r(M.target.value),className:"px-4 py-2 rounded-lg",style:{border:"1px solid var(--border-default)",background:"var(--surface-page)"},children:[a.jsx("option",{value:"",children:"Alle Bereiche"}),A.map(M=>a.jsx("option",{value:M,children:M},M))]})]}),a.jsxs("div",{className:"mb-4 flex gap-4 text-sm",style:{color:"var(--text-muted)"},children:[a.jsxs("span",{children:[O.length," Eintrge"]}),a.jsx("span",{children:"|"}),a.jsxs("span",{style:{color:"var(--status-success)"},children:[O.filter(M=>M.isCustom).length," angepasst"]})]}),a.jsx("div",{className:"space-y-2",style:{maxHeight:"500px",overflowY:"auto"},children:Object.entries(_).map(([M,$])=>a.jsxs("div",{className:"border rounded-lg",style:{borderColor:"var(--border-default)"},children:[a.jsxs("button",{onClick:()=>E(M),className:"w-full px-4 py-3 flex items-center justify-between text-left",style:{background:"var(--surface-tint)"},children:[a.jsxs("div",{className:"flex items-center gap-2",children:[m.has(M)?a.jsx(Ji,{size:16}):a.jsx(fn,{size:16}),a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:M}),a.jsxs("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:["(",$.length,")"]})]}),$.some(U=>U.isCustom)&&a.jsx("span",{className:"px-2 py-0.5 rounded text-xs",style:{background:"var(--status-success)",color:"white"},children:"Angepasst"})]}),m.has(M)&&a.jsx("div",{className:"divide-y",style:{borderColor:"var(--border-default)"},children:$.map(U=>a.jsx("div",{className:"px-4 py-3",children:o===U.fullKey?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("code",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:U.fullKey}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:B,className:"px-3 py-1 rounded flex items-center gap-1 text-sm",style:{background:"var(--status-success)",color:"white"},disabled:y==="saving",children:[y==="saving"?a.jsx(Er,{size:14,className:"animate-spin"}):a.jsx(Fo,{size:14}),"Speichern"]}),a.jsxs("button",{onClick:()=>l(null),className:"px-3 py-1 rounded flex items-center gap-1 text-sm",style:{border:"1px solid var(--border-default)"},children:[a.jsx(Ct,{size:14}),"Abbrechen"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--text-muted)"},children:" Deutsch"}),a.jsx("textarea",{value:u.de,onChange:I=>d({...u,de:I.target.value}),className:"w-full px-3 py-2 rounded-lg",style:{border:"1px solid var(--border-default)",background:"var(--surface-page)",minHeight:"80px"}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--text-muted)"},children:" English"}),a.jsx("textarea",{value:u.en,onChange:I=>d({...u,en:I.target.value}),className:"w-full px-3 py-2 rounded-lg",style:{border:"1px solid var(--border-default)",background:"var(--surface-page)",minHeight:"80px"}})]})]})]}):a.jsxs("div",{className:"flex items-start justify-between cursor-pointer hover:bg-opacity-50",onClick:()=>T(U),children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("code",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:U.key}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-1",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:""})," ",a.jsx("span",{style:{color:U.isCustom?"var(--status-success)":"inherit"},children:U.deValue.length>60?U.deValue.substring(0,60)+"...":U.deValue})]}),a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:""})," ",a.jsx("span",{style:{color:U.isCustom?"var(--status-success)":"inherit"},children:U.enValue.length>60?U.enValue.substring(0,60)+"...":U.enValue})]})]})]}),a.jsx("div",{className:"flex items-center gap-2 ml-4",children:U.isCustom&&a.jsx("button",{onClick:I=>{I.stopPropagation(),R(U)},className:"p-1 rounded hover:bg-opacity-80",style:{color:"var(--text-muted)"},title:"Auf Standard zurcksetzen",children:a.jsx(iu,{size:14})})})]})},U.fullKey))})]},M))}),O.length===0&&a.jsx("div",{className:"text-center py-8",style:{color:"var(--text-muted)"},children:"Keine bersetzungen gefunden"})]})}const _se={master:{bg:"var(--status-info)"},transaction:{bg:"var(--status-success)"}},$c=[{id:"1",entity_name:"stores",data_category:"master",inbound_enabled:!0,outbound_enabled:!1,api_key:null,webhook_url:null,sync_interval_minutes:null,last_sync_at:null},{id:"2",entity_name:"articles",data_category:"master",inbound_enabled:!0,outbound_enabled:!1,api_key:null,webhook_url:null,sync_interval_minutes:null,last_sync_at:null},{id:"3",entity_name:"allocation_runs",data_category:"transaction",inbound_enabled:!0,outbound_enabled:!0,api_key:null,webhook_url:null,sync_interval_minutes:60,last_sync_at:"2025-01-07T10:00:00Z"},{id:"4",entity_name:"scenarios",data_category:"transaction",inbound_enabled:!0,outbound_enabled:!0,api_key:null,webhook_url:null,sync_interval_minutes:null,last_sync_at:null},{id:"5",entity_name:"exceptions",data_category:"transaction",inbound_enabled:!0,outbound_enabled:!0,api_key:null,webhook_url:null,sync_interval_minutes:30,last_sync_at:"2025-01-07T11:30:00Z"},{id:"6",entity_name:"tasks",data_category:"transaction",inbound_enabled:!0,outbound_enabled:!0,api_key:null,webhook_url:null,sync_interval_minutes:null,last_sync_at:null}];function Tse({onNavigate:e}){const{t}=br(),r=Y=>({stores:{name:t.dataManager.stores,description:t.dataManager.storesDesc},articles:{name:t.dataManager.articles,description:t.dataManager.articlesDesc},allocation_runs:{name:t.dataManager.allocationRuns,description:t.dataManager.allocationRunsDesc},scenarios:{name:t.dataManager.scenariosEntity,description:t.dataManager.scenariosDesc},exceptions:{name:t.dataManager.exceptionsEntity,description:t.dataManager.exceptionsDesc},tasks:{name:t.dataManager.tasksEntity,description:t.dataManager.tasksDesc}})[Y]||{name:Y,description:""},n=Y=>Y==="master"?t.dataManager.masterData:t.dataManager.transactionData,[i,o]=k.useState($c),[l,u]=k.useState(null),[d,f]=k.useState([]),[h,m]=k.useState(!0),[v,x]=k.useState(!1),[w,b]=k.useState({}),[y,j]=k.useState("data"),[A,S]=k.useState(""),[N,z]=k.useState(""),[O,_]=k.useState(null),[E,T]=k.useState({de:"",en:""}),[B,R]=k.useState([]),[F,K]=k.useState(!1),[H,M]=k.useState(new Set),[$,U]=k.useState(""),[I,Q]=k.useState(null),[L,W]=k.useState([]),[X,se]=k.useState(!1),[de,ge]=k.useState(null),[xe,ne]=k.useState(""),[ie,ce]=k.useState({connected:!1,loading:!0}),[fe,q]=k.useState(null),[ee,Oe]=k.useState(null),[je,st]=k.useState(null),[Qe,bt]=k.useState(null),[Kt,rr]=k.useState(null),[ft,xt]=k.useState<Array([]),[Ft,ut]=k.useState({isOpen:!1,title:"",message:"",type:"confirm",onConfirm:()=>{}}),Me=(Y,ze,Be)=>{xt(Vt=>[{id:`log-${Date.now()}`,action:Y,details:ze,status:Be,timestamp:new Date},...Vt].slice(0,50))},[Ze,Et]=k.useState(""),[lt,tt]=k.useState("id"),[cr,Nr]=k.useState("asc"),[mt,Ir]=k.useState(new Set),[Pr,Or]=k.useState(!0),ot=f1(),mn=async Y=>{se(!0);try{let ze=[];switch(Y){case"stores":ze=await Xa.getStores();break;case"articles":ze=[];break;case"allocation_runs":ze=await Xa.getRuns();break;case"scenarios":ze=await Xa.getScenarios();break;case"exceptions":ze=await Xa.getExceptions();break;case"tasks":ze=await Xa.getTasks();break}W(ze)}catch(ze){console.error("Failed to load entity data:",ze),W([])}finally{se(!1)}},Gn=()=>{confirm("Alle lokalen Daten auf Standardwerte zurcksetzen? Dies kann nicht rckgngig gemacht werden.")&&(Xa.resetToDefaults(),l&&mn(l),ot.success("Daten zurckgesetzt","Alle lokalen Daten wurden auf die Standardwerte zurckgesetzt."))},ae=k.useMemo(()=>{let Y=L;if(Ze){const ze=Ze.toLowerCase();Y=Y.filter(Be=>Object.values(Be).some(Vt=>String(Vt).toLowerCase().includes(ze)))}return Y=[...Y].sort((ze,Be)=>{const Vt=ze[lt]??"",Mr=Be[lt]??"",gn=String(Vt).localeCompare(String(Mr));return cr==="asc"?gn:-gn}),Y},[L,Ze,lt,cr]),Ce=Y=>{const ze=new Set(mt);ze.has(Y)?ze.delete(Y):ze.add(Y),Ir(ze)},me=()=>{mt.size===ae.length?Ir(new Set):Ir(new Set(ae.map(Y=>Y.id)))},te=()=>{mt.size!==0&&confirm(`${mt.size} Eintrge wirklich lschen?`)&&(W(Y=>Y.filter(ze=>!mt.has(ze.id))),ot.success("Eintrge gelscht",`${mt.size} Eintrge wurden erfolgreich gelscht.`),Ir(new Set))},pe=()=>{const Y=L.filter(ze=>mt.has(ze.id));navigator.clipboard.writeText(JSON.stringify(Y,null,2)),ot.success("Kopiert",`${mt.size} Eintrge in die Zwischenablage kopiert.`)},Ne=()=>{if(!(!de||!xe))try{const Y=JSON.parse(xe);W(ze=>ze.map(Be=>Be.id===de.id?Y:Be)),ge(null),ne("")}catch{alert("Ungltiges JSON-Format")}},rt=Y=>{confirm(t.actions.deleteConfirm)&&W(ze=>ze.filter(Be=>Be.id!==Y))},nt=async()=>{ce(Be=>({...Be,loading:!0}));const Y="https://allocation-api.onrender.com/api",ze=Y.replace("/api","");try{const Be=await fetch(`${ze}/health`,{method:"GET",signal:AbortSignal.timeout(1e4)});if(!Be.ok){ce({connected:!1,error:`API nicht erreichbar (Status: ${Be.status})`,loading:!1});return}const Mr=await(await fetch(`${Y}/db/status`,{signal:AbortSignal.timeout(1e4)})).json();Mr.success?ce({...Mr.data,loading:!1}):ce({connected:!1,error:Mr.data?.error||"DB-Verbindung fehlgeschlagen",loading:!1})}catch(Be){let Vt=Be.message;Be.name==="AbortError"||Be.message.includes("timeout")?Vt="Zeitberschreitung - API antwortet nicht":(Be.message.includes("Failed to fetch")||Be.message.includes("NetworkError"))&&(Vt=`API nicht erreichbar (${ze}). Render-Service mglicherweise nicht gestartet.`),ce({connected:!1,error:Vt,loading:!1})}},Z=()=>{ut({isOpen:!0,title:"Datenbank-Migration",message:"Datenbank-Tabellen erstellen? Dies erstellt alle fehlenden Tabellen.",type:"confirm",onConfirm:async()=>{ut(Y=>({...Y,isOpen:!1})),q("migrate");try{const Be=await(await fetch("https://allocation-api.onrender.com/api/db/migrate",{method:"POST"})).json();Be.success?(ot.success("Migration erfolgreich","Tabellen wurden erstellt."),Me("Migration","Datenbank-Tabellen erstellt","success"),nt()):(ot.error("Migration fehlgeschlagen",Be.error),Me("Migration",Be.error,"error"))}catch(Y){ot.error("Fehler",Y.message),Me("Migration",Y.message,"error")}finally{q(null)}}})},Se=()=>{ut({isOpen:!0,title:"Testdaten laden",message:"Testdaten einfgen? Bestehende Daten bleiben erhalten.",type:"confirm",onConfirm:async()=>{ut(Y=>({...Y,isOpen:!1})),q("seed");try{const Be=await(await fetch("https://allocation-api.onrender.com/api/db/seed",{method:"POST"})).json();Be.success?(ot.success("Seed erfolgreich","Testdaten wurden eingefgt."),Me("Seed","Testdaten eingefgt","success"),nt()):(ot.error("Seed fehlgeschlagen",Be.error),Me("Seed",Be.error,"error"))}catch(Y){ot.error("Fehler",Y.message),Me("Seed",Y.message,"error")}finally{q(null)}}})},_e=Y=>{ut({isOpen:!0,title:"Tabelle leeren",message:`Tabelle "${Y}" wirklich leeren? Diese Aktion kann nicht rckgngig gemacht werden.`,type:"danger",onConfirm:async()=>{ut(ze=>({...ze,isOpen:!1})),q(`clear-${Y}`);try{const Vt=await(await fetch(`https://allocation-api.onrender.com/api/db/truncate/${Y}`,{method:"POST"})).json();Vt.success?(ot.success("Tabelle geleert",`Tabelle "${Y}" wurde geleert.`),Me("Tabelle leeren",`${Y} geleert`,"success"),nt()):(ot.error("Fehler",Vt.error),Me("Tabelle leeren",Vt.error,"error"))}catch(ze){ot.error("Fehler",ze.message),Me("Tabelle leeren",ze.message,"error")}finally{q(null)}}})},pt=async()=>{q("health");try{const Be=await(await fetch("https://allocation-api.onrender.com/api/db/health")).json();Be.success&&Oe(Be.data)}catch(Y){console.error("Health check failed:",Y)}finally{q(null)}},Je=async()=>{q("backup");try{const Be=await(await fetch("https://allocation-api.onrender.com/api/db/backup")).json();if(Be.success){const Vt=new Blob([JSON.stringify(Be.data,null,2)],{type:"application/json"}),Mr=URL.createObjectURL(Vt),gn=document.createElement("a");gn.href=Mr,gn.download=`backup_${new Date().toISOString().split("T")[0]}.json`,gn.click(),URL.revokeObjectURL(Mr),ot.success("Backup erstellt","Backup wurde heruntergeladen."),Me("Backup","Datenbank-Backup erstellt","success")}else ot.error("Backup fehlgeschlagen",Be.error),Me("Backup",Be.error,"error")}catch(Y){ot.error("Fehler",Y.message),Me("Backup",Y.message,"error")}finally{q(null)}},Ue=Y=>{const ze=Y.target.files?.[0];ze&&ut({isOpen:!0,title:"Backup wiederherstellen",message:"Datenbank aus Backup wiederherstellen? Bestehende Daten werden berschrieben.",type:"warning",onConfirm:async()=>{ut(Be=>({...Be,isOpen:!1})),await Pt(ze),Y.target.value=""}})},Pt=async Y=>{q("restore");try{const ze=await Y.text(),Be=JSON.parse(ze),gn=await(await fetch("https://allocation-api.onrender.com/api/db/restore",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tables:Be.tables})})).json();gn.success?(ot.success("Wiederherstellung erfolgreich","Backup wurde wiederhergestellt."),Me("Restore","Datenbank aus Backup wiederhergestellt","success"),nt()):(ot.error("Wiederherstellung fehlgeschlagen",gn.error),Me("Restore",gn.error,"error"))}catch(ze){ot.error("Fehler",ze.message),Me("Restore",ze.message,"error")}finally{q(null)}},vn=()=>{ut({isOpen:!0,title:"Datenbank optimieren",message:"Datenbank optimieren? Dies kann einige Sekunden dauern.",type:"confirm",onConfirm:async()=>{ut(Y=>({...Y,isOpen:!1})),q("optimize");try{const Be=await(await fetch("https://allocation-api.onrender.com/api/db/vacuum",{method:"POST"})).json();Be.success?(ot.success("Optimierung abgeschlossen","Datenbank wurde optimiert."),Me("Optimize","Datenbank optimiert","success"),pt()):(ot.error("Optimierung fehlgeschlagen",Be.error),Me("Optimize",Be.error,"error"))}catch(Y){ot.error("Fehler",Y.message),Me("Optimize",Y.message,"error")}finally{q(null)}}})},so=()=>{ut({isOpen:!0,title:" Datenbank komplett zurcksetzen",message:"ACHTUNG: Alle Daten werden unwiderruflich gelscht! Diese Aktion kann nicht rckgngig gemacht werden.",type:"danger",onConfirm:async()=>{ut(Y=>({...Y,isOpen:!1})),q("reset");try{const Be=await(await fetch("https://allocation-api.onrender.com/api/db/reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirm:"RESET_ALL_DATA"})})).json();Be.success?(ot.warning("Datenbank zurckgesetzt","Bitte fhren Sie die Migration erneut aus."),Me("Reset","Datenbank komplett zurckgesetzt","warning"),nt()):(ot.error("Reset fehlgeschlagen",Be.error),Me("Reset",Be.error,"error"))}catch(Y){ot.error("Fehler",Y.message),Me("Reset",Y.message,"error")}finally{q(null)}}})};k.useEffect(()=>{lo(),nt()},[]),k.useEffect(()=>{l&&mn(l)},[l]),k.useEffect(()=>{if(l){hi(l);const Y=i.find(ze=>ze.entity_name===l);Y&&b({inbound_enabled:Y.inbound_enabled,outbound_enabled:Y.outbound_enabled,api_key:Y.api_key,webhook_url:Y.webhook_url,sync_interval_minutes:Y.sync_interval_minutes})}},[l,i]);const lo=async()=>{m(!0);try{const Y=await Wc.dataManager.fetchConfigs();Y.success&&Y.data&&Y.data.length>0?(o(Y.data),l||u(Y.data[0].entity_name)):(o($c),l||u($c[0].entity_name))}catch(Y){console.error("Failed to load configs:",Y),o($c),l||u($c[0].entity_name)}m(!1)},hi=async Y=>{const ze=await Wc.dataManager.fetchLogs(Y);ze.success&&ze.data&&f(ze.data)},Vl=async()=>{if(!l)return;x(!0),(await Wc.dataManager.updateConfig(l,w)).success&&await lo(),x(!1)},Qh=async()=>{if(!(!l||!$))try{const Y=JSON.parse($),ze=i.find(Vt=>Vt.entity_name===l),Be=await Wc.dataManager.import(l,Array.isArray(Y)?Y:[Y],ze?.api_key||void 0);Be.success&&Be.data&&(Q(Be.data),await hi(l))}catch(Y){Q({processed:0,failed:1,errors:["Invalid JSON: "+Y.message]})}},Jh=async()=>{if(!l)return;const Y=i.find(Be=>Be.entity_name===l),ze=await Wc.dataManager.export(l,{},Y?.api_key||void 0);if(ze.success&&ze.data){const Be=new Blob([JSON.stringify(ze.data,null,2)],{type:"application/json"}),Vt=URL.createObjectURL(Be),Mr=document.createElement("a");Mr.href=Vt,Mr.download=`${l}_export_${new Date().toISOString().split("T")[0]}.json`,Mr.click(),URL.revokeObjectURL(Vt)}},Zr=i.find(Y=>Y.entity_name===l);return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:[a.jsx(Uc,{className:"inline mr-2",size:24}),t.dataManager.title]}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:t.dataManager.selectEntity})]}),a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsx("div",{className:"col-span-3",children:a.jsxs("div",{style:{background:"var(--surface-raised)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-default)"},children:[a.jsx("div",{style:{padding:"var(--space-4)",borderBottom:"1px solid var(--border-default)"},children:a.jsx("h2",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)"},children:t.common.all})}),a.jsx("div",{className:"p-2",children:i.map(Y=>a.jsxs("button",{onClick:()=>u(Y.entity_name),className:"w-full text-left p-3 rounded-lg mb-1 transition-colors",style:{background:l===Y.entity_name?"var(--brand-primary-light)":"transparent",border:l===Y.entity_name?"1px solid var(--brand-primary)":"1px solid transparent"},children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:r(Y.entity_name).name}),a.jsx("span",{className:"text-xs px-2 py-0.5 rounded",style:{background:_se[Y.data_category].bg,color:"white"},children:n(Y.data_category)})]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"2px"},children:r(Y.entity_name).description}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[Y.inbound_enabled&&a.jsxs("span",{className:"flex items-center text-xs",style:{color:"var(--status-success)"},children:[a.jsx(oa,{size:12,className:"mr-1"})," Inbound"]}),Y.outbound_enabled&&a.jsxs("span",{className:"flex items-center text-xs",style:{color:"var(--status-info)"},children:[a.jsx(_o,{size:12,className:"mr-1"})," Outbound"]})]})]},Y.entity_name))})]})}),a.jsx("div",{className:"col-span-9",children:Zr&&a.jsxs("div",{style:{background:"var(--surface-raised)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-default)"},children:[a.jsx("div",{style:{borderBottom:"1px solid var(--border-default)",padding:"var(--space-2) var(--space-4)"},children:a.jsx("div",{className:"flex gap-2",children:["data","config","logs","import","export","db","cms"].map(Y=>a.jsxs("button",{onClick:()=>j(Y),className:"px-4 py-2 rounded-lg transition-colors",style:{background:y===Y?"var(--brand-primary)":"transparent",color:y===Y?"white":"var(--text-primary)"},children:[Y==="data"&&a.jsxs(a.Fragment,{children:[a.jsx(pf,{size:16,className:"inline mr-2"}),t.dataManager.tabData]}),Y==="config"&&a.jsxs(a.Fragment,{children:[a.jsx(ou,{size:16,className:"inline mr-2"}),t.dataManager.tabConfig]}),Y==="logs"&&a.jsxs(a.Fragment,{children:[a.jsx(m0,{size:16,className:"inline mr-2"}),t.dataManager.tabLogs]}),Y==="import"&&a.jsxs(a.Fragment,{children:[a.jsx(oa,{size:16,className:"inline mr-2"}),t.dataManager.tabImport]}),Y==="export"&&a.jsxs(a.Fragment,{children:[a.jsx(_o,{size:16,className:"inline mr-2"}),t.dataManager.tabExport]}),Y==="db"&&a.jsxs(a.Fragment,{children:[a.jsx(b2,{size:16,className:"inline mr-2"}),t.dataManager.tabDb]}),Y==="cms"&&a.jsxs(a.Fragment,{children:[a.jsx(LT,{size:16,className:"inline mr-2"}),"CMS"]})]},Y))})}),a.jsxs("div",{className:"p-6",children:[y==="data"&&a.jsxs("div",{children:[Pr&&L.length>0&&a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{className:"p-4 rounded-lg",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(d1,{size:16,style:{color:"var(--brand-primary)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Gesamt"})]}),a.jsx("div",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)"},children:L.length})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(u1,{size:16,style:{color:"var(--status-info)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Gefiltert"})]}),a.jsx("div",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)"},children:ae.length})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Bv,{size:16,style:{color:"var(--status-success)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Ausgewhlt"})]}),a.jsx("div",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)"},children:mt.size})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Xo,{size:16,style:{color:"var(--status-warning)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Kategorie"})]}),a.jsx("div",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)"},children:n(Zr?.data_category||"master")})]})]}),a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(pf,{size:18,className:"inline mr-2"}),r(l).name]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>Or(!Pr),className:"px-3 py-1 rounded flex items-center gap-1 text-sm",style:{border:"1px solid var(--border-default)",background:Pr?"var(--brand-primary-light)":"transparent"},title:"Statistiken ein/ausblenden",children:a.jsx(Hu,{size:14})}),a.jsxs("button",{onClick:()=>mn(l),className:"px-3 py-1 rounded flex items-center gap-1 text-sm",style:{border:"1px solid var(--border-default)"},children:[a.jsx(Er,{size:14}),t.common.refresh]}),a.jsxs("button",{onClick:()=>{const Y={id:`new-${Date.now()}`,name:"Neuer Eintrag"};ge(Y),ne(JSON.stringify(Y,null,2))},className:"px-3 py-1 rounded flex items-center gap-1 text-sm",style:{background:"var(--brand-primary)",color:"white"},children:[a.jsx(ei,{size:14}),"Neu"]})]})]}),a.jsxs("div",{className:"flex gap-3 mb-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Vr,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{type:"text",placeholder:"Suchen...",value:Ze,onChange:Y=>Et(Y.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg",style:{border:"1px solid var(--border-default)",background:"var(--surface-page)"}})]}),a.jsxs("select",{value:lt,onChange:Y=>tt(Y.target.value),className:"px-3 py-2 rounded-lg",style:{border:"1px solid var(--border-default)",background:"var(--surface-page)"},children:[a.jsx("option",{value:"id",children:"ID"}),a.jsx("option",{value:"name",children:"Name"}),a.jsx("option",{value:"status",children:"Status"}),a.jsx("option",{value:"created_at",children:"Erstellt"})]}),a.jsxs("button",{onClick:()=>Nr(Y=>Y==="asc"?"desc":"asc"),className:"px-3 py-2 rounded-lg flex items-center gap-1",style:{border:"1px solid var(--border-default)",background:"var(--surface-page)"},title:cr==="asc"?"Aufsteigend":"Absteigend",children:[a.jsx(cL,{size:14}),cr==="asc"?"":""]})]}),mt.size>0&&a.jsxs("div",{className:"flex items-center gap-3 mb-4 p-3 rounded-lg",style:{background:"var(--brand-primary-light)",border:"1px solid var(--brand-primary)"},children:[a.jsxs("span",{style:{fontWeight:"var(--font-weight-medium)"},children:[mt.size," ausgewhlt"]}),a.jsxs("div",{className:"flex gap-2 ml-auto",children:[a.jsxs("button",{onClick:pe,className:"px-3 py-1 rounded flex items-center gap-1 text-sm",style:{background:"white",border:"1px solid var(--border-default)"},children:[a.jsx(au,{size:14}),"Kopieren"]}),a.jsxs("button",{onClick:te,className:"px-3 py-1 rounded flex items-center gap-1 text-sm",style:{background:"var(--status-danger)",color:"white"},children:[a.jsx($n,{size:14}),"Lschen"]}),a.jsx("button",{onClick:()=>Ir(new Set),className:"px-3 py-1 rounded flex items-center gap-1 text-sm",style:{background:"white",border:"1px solid var(--border-default)"},children:"Auswahl aufheben"})]})]}),X?a.jsxs("div",{className:"text-center py-8",style:{color:"var(--text-muted)"},children:[a.jsx(Er,{size:24,className:"mx-auto mb-2 animate-spin"}),a.jsx("p",{children:t.common.loading})]}):L.length===0?a.jsxs("div",{className:"text-center py-8",style:{color:"var(--text-muted)"},children:[a.jsx(Uc,{size:32,className:"mx-auto mb-2 opacity-50"}),a.jsx("p",{children:t.common.noData})]}):ae.length===0?a.jsxs("div",{className:"text-center py-8",style:{color:"var(--text-muted)"},children:[a.jsx(Vr,{size:32,className:"mx-auto mb-2 opacity-50"}),a.jsxs("p",{children:['Keine Ergebnisse fr "',Ze,'"']}),a.jsx("button",{onClick:()=>Et(""),className:"mt-2 text-sm underline",style:{color:"var(--brand-primary)"},children:"Filter zurcksetzen"})]}):a.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center gap-3 px-3 py-2",style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("button",{onClick:me,className:"p-1",children:mt.size===ae.length?a.jsx(Bv,{size:18,style:{color:"var(--brand-primary)"}}):a.jsx(S2,{size:18,style:{color:"var(--text-muted)"}})}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[ae.length," Eintrge"]})]}),ae.map(Y=>a.jsxs("div",{className:"p-3 rounded-lg flex items-center gap-3",style:{background:mt.has(Y.id)?"var(--brand-primary-light)":"var(--surface-page)",border:`1px solid ${mt.has(Y.id)?"var(--brand-primary)":"var(--border-default)"}`},children:[a.jsx("button",{onClick:()=>Ce(Y.id),className:"p-1",children:mt.has(Y.id)?a.jsx(Bv,{size:18,style:{color:"var(--brand-primary)"}}):a.jsx(S2,{size:18,style:{color:"var(--text-muted)"}})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:Y.name||Y.title||Y.id}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:["ID: ",Y.id," ",Y.status&&`| Status: ${Y.status}`]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>{ge(Y),ne(JSON.stringify(Y,null,2))},className:"p-2 rounded hover:bg-gray-100",title:t.actions.edit,children:a.jsx($i,{size:16})}),a.jsx("button",{onClick:()=>rt(Y.id),className:"p-2 rounded hover:bg-red-50",style:{color:"var(--status-danger)"},title:t.actions.delete,children:a.jsx($n,{size:16})})]})]},Y.id))]}),de&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:de.id?.startsWith("new-")?t.actions.newEntry:t.actions.editEntry}),a.jsx("textarea",{value:xe,onChange:Y=>ne(Y.target.value),className:"w-full h-64 p-3 rounded-lg font-mono text-sm mb-4",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"}}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>{ge(null),ne("")},className:"px-4 py-2 rounded-lg",style:{border:"1px solid var(--border-default)"},children:t.actions.cancel}),a.jsxs("button",{onClick:Ne,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{background:"var(--brand-primary)",color:"white"},children:[a.jsx(Fo,{size:16}),t.actions.save]})]})]})})]}),y==="config"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{style:{padding:"var(--space-4)",background:"var(--surface-page)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-default)"},children:[a.jsxs("h3",{className:"flex items-center gap-2 mb-4",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(oa,{size:18,style:{color:"var(--status-success)"}}),"Inbound (Eingehend)"]}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-3)"},children:Zr.data_category==="master"?"Stammdaten knnen nur von externen Systemen eingespielt werden":"Daten von externen Systemen empfangen"}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:w.inbound_enabled||!1,onChange:Y=>b({...w,inbound_enabled:Y.target.checked}),className:"w-4 h-4"}),a.jsx("span",{children:"Inbound aktiviert"})]})]}),a.jsxs("div",{style:{padding:"var(--space-4)",background:"var(--surface-page)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-default)"},children:[a.jsxs("h3",{className:"flex items-center gap-2 mb-4",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(_o,{size:18,style:{color:"var(--status-info)"}}),"Outbound (Ausgehend)"]}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-3)"},children:Zr.data_category==="master"?"Stammdaten knnen nicht nach auen bertragen werden":"Daten an externe Systeme senden"}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:w.outbound_enabled||!1,onChange:Y=>b({...w,outbound_enabled:Y.target.checked}),disabled:Zr.data_category==="master",className:"w-4 h-4"}),a.jsx("span",{style:{color:Zr.data_category==="master"?"var(--text-muted)":"inherit"},children:"Outbound aktiviert"})]}),Zr.data_category==="master"&&a.jsxs("div",{className:"mt-2 text-xs flex items-center gap-1",style:{color:"var(--status-warning)"},children:[a.jsx(Mt,{size:12}),"Fr Stammdaten nicht verfgbar"]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 mb-2",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(oB,{size:16}),"API-Schlssel"]}),a.jsx("input",{type:"text",value:w.api_key||"",onChange:Y=>b({...w,api_key:Y.target.value||null}),placeholder:"Optional: Authentifizierungsschlssel fr API-Zugriffe",className:"w-full px-3 py-2 rounded-lg",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"}})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 mb-2",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(VB,{size:16}),"Webhook URL"]}),a.jsx("input",{type:"url",value:w.webhook_url||"",onChange:Y=>b({...w,webhook_url:Y.target.value||null}),placeholder:"https://example.com/webhook",className:"w-full px-3 py-2 rounded-lg",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"},disabled:!w.outbound_enabled}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"var(--space-1)"},children:"Wird bei nderungen an dieser Entitt aufgerufen (nur bei aktiviertem Outbound)"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 mb-2",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(Er,{size:16}),"Sync-Intervall (Minuten)"]}),a.jsx("input",{type:"number",value:w.sync_interval_minutes||"",onChange:Y=>b({...w,sync_interval_minutes:Y.target.value?parseInt(Y.target.value):null}),placeholder:"Optional: Automatisches Sync-Intervall",className:"w-full px-3 py-2 rounded-lg",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"},min:1})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",style:{borderTop:"1px solid var(--border-default)"},children:[a.jsxs("button",{onClick:()=>{const Y=i.find(ze=>ze.entity_name===l);Y&&b({inbound_enabled:Y.inbound_enabled,outbound_enabled:Y.outbound_enabled,api_key:Y.api_key,webhook_url:Y.webhook_url,sync_interval_minutes:Y.sync_interval_minutes})},className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{border:"1px solid var(--border-default)"},children:[a.jsx(iu,{size:16}),"Zurcksetzen"]}),a.jsxs("button",{onClick:Vl,disabled:v,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{background:"var(--brand-primary)",color:"white"},children:[a.jsx(Fo,{size:16}),v?t.actions.saving:t.actions.save]})]})]}),y==="logs"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{style:{fontWeight:"var(--font-weight-medium)"},children:"Synchronisations-Protokoll"}),a.jsxs("button",{onClick:()=>hi(l),className:"px-3 py-1 rounded flex items-center gap-1 text-sm",style:{border:"1px solid var(--border-default)"},children:[a.jsx(Er,{size:14}),"Aktualisieren"]})]}),d.length===0?a.jsxs("div",{className:"text-center py-8",style:{color:"var(--text-muted)"},children:[a.jsx(Xs,{size:32,className:"mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"Keine Sync-Eintrge vorhanden"})]}):a.jsx("div",{className:"space-y-2",children:d.map(Y=>a.jsxs("div",{className:"p-3 rounded-lg flex items-center justify-between",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[Y.status==="success"&&a.jsx(Rr,{size:18,style:{color:"var(--status-success)"}}),Y.status==="failed"&&a.jsx(Bs,{size:18,style:{color:"var(--status-danger)"}}),Y.status==="partial"&&a.jsx(Mt,{size:18,style:{color:"var(--status-warning)"}}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:Y.direction==="inbound"?"Import":"Export"}),a.jsx("span",{className:"text-xs px-2 py-0.5 rounded",style:{background:Y.status==="success"?"var(--status-success)":Y.status==="failed"?"var(--status-danger)":"var(--status-warning)",color:"white"},children:Y.status})]}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[Y.records_processed," verarbeitet, ",Y.records_failed," fehlgeschlagen"]}),Y.error_message&&a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--status-danger)"},children:Y.error_message})]})]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:new Date(Y.started_at).toLocaleString("de-CH")})]},Y.id))})]}),y==="import"&&a.jsxs("div",{children:[a.jsxs("h3",{className:"mb-4",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(KL,{size:18,className:"inline mr-2"}),"Daten importieren"]}),Zr.inbound_enabled?a.jsxs(a.Fragment,{children:[a.jsx("textarea",{value:$,onChange:Y=>U(Y.target.value),placeholder:'JSON-Daten hier einfgen, z.B.:\\n[\\n  { "id": "...", "name": "..." }\\n]',className:"w-full h-64 p-3 rounded-lg font-mono text-sm",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"}}),I&&a.jsxs("div",{className:"mt-4 p-4 rounded-lg",style:{background:I.failed>0?"var(--status-danger-light)":"var(--status-success-light)",border:`1px solid ${I.failed>0?"var(--status-danger)":"var(--status-success)"}`},children:[a.jsxs("p",{style:{fontWeight:"var(--font-weight-medium)"},children:["Import abgeschlossen: ",I.processed," erfolgreich, ",I.failed," fehlgeschlagen"]}),I.errors.length>0&&a.jsx("ul",{className:"mt-2 text-sm",children:I.errors.map((Y,ze)=>a.jsx("li",{style:{color:"var(--status-danger)"},children:Y},ze))})]}),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsxs("button",{onClick:Qh,disabled:!$,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{background:"var(--brand-primary)",color:"white",opacity:$?1:.5},children:[a.jsx(oa,{size:16}),"Importieren"]})})]}):a.jsxs("div",{className:"text-center py-8",style:{color:"var(--text-muted)"},children:[a.jsx(Mt,{size:32,className:"mx-auto mb-2",style:{color:"var(--status-warning)"}}),a.jsx("p",{children:"Inbound ist fr diese Entitt deaktiviert"}),a.jsx("p",{className:"text-sm",children:"Aktivieren Sie Inbound in der Konfiguration"})]})]}),y==="export"&&a.jsxs("div",{children:[a.jsxs("h3",{className:"mb-4",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(_o,{size:18,className:"inline mr-2"}),"Daten exportieren"]}),Zr.data_category==="master"||!Zr.outbound_enabled?a.jsxs("div",{className:"text-center py-8",style:{color:"var(--text-muted)"},children:[a.jsx(Mt,{size:32,className:"mx-auto mb-2",style:{color:"var(--status-warning)"}}),a.jsx("p",{children:Zr.data_category==="master"?"Stammdaten knnen nicht exportiert werden":"Outbound ist fr diese Entitt deaktiviert"})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(h0,{size:48,className:"mx-auto mb-4",style:{color:"var(--brand-primary)"}}),a.jsx("p",{className:"mb-4",children:"Exportieren Sie alle Daten dieser Entitt als JSON-Datei"}),a.jsxs("button",{onClick:Jh,className:"px-6 py-3 rounded-lg flex items-center gap-2 mx-auto",style:{background:"var(--brand-primary)",color:"white"},children:[a.jsx(oa,{size:20}),"JSON exportieren"]})]})]}),y==="db"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(b2,{size:18,className:"inline mr-2"}),"Datenbank-Verwaltung"]}),a.jsxs("button",{onClick:nt,disabled:ie.loading,className:"px-3 py-1.5 rounded-lg flex items-center gap-2",style:{background:"var(--surface-subtle)",border:"1px solid var(--border-default)"},children:[a.jsx(Er,{size:14,className:ie.loading?"animate-spin":""}),"Aktualisieren"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{style:{padding:"var(--space-4)",background:"var(--surface-page)",borderRadius:"var(--radius-md)",border:`1px solid ${ie.connected?"var(--status-success)":"var(--status-danger)"}`},children:[a.jsxs("h4",{className:"flex items-center gap-2 mb-3",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(Uc,{size:18,style:{color:ie.connected?"var(--status-success)":"var(--status-danger)"}}),"PostgreSQL Datenbank"]}),ie.loading?a.jsxs("div",{className:"flex items-center gap-2",style:{color:"var(--text-muted)"},children:[a.jsx(Er,{size:14,className:"animate-spin"})," Verbindung wird geprft..."]}):a.jsxs("div",{style:{fontSize:"var(--font-size-sm)"},children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"Status:"}),a.jsx("span",{className:"flex items-center gap-1",style:{color:ie.connected?"var(--status-success)":"var(--status-danger)"},children:ie.connected?a.jsxs(a.Fragment,{children:[a.jsx(Rr,{size:14})," Verbunden"]}):a.jsxs(a.Fragment,{children:[a.jsx(Bs,{size:14})," Nicht verbunden"]})})]}),ie.connected&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"Datenbank:"}),a.jsx("span",{className:"font-mono",children:ie.database})]}),a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"Umgebung:"}),a.jsx("span",{children:ie.environment})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"Server-Zeit:"}),a.jsx("span",{children:ie.serverTime?new Date(ie.serverTime).toLocaleString("de-CH"):"-"})]})]}),ie.error&&a.jsxs("div",{className:"mt-2 p-2 rounded",style:{background:"var(--status-danger-light)",color:"var(--status-danger)",fontSize:"var(--font-size-xs)"},children:["Fehler: ",ie.error]})]})]}),a.jsxs("div",{style:{padding:"var(--space-4)",background:"var(--surface-page)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-default)"},children:[a.jsxs("h4",{className:"flex items-center gap-2 mb-3",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(h0,{size:18,style:{color:"var(--status-info)"}}),"API-Verbindung"]}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)"},children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"API URL:"}),a.jsx("span",{className:"font-mono text-xs",children:"https://allocation-api.onrender.com/api"})]}),a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"Modus:"}),a.jsx("span",{style:{color:ie.connected?"var(--status-success)":"var(--status-warning)"},children:ie.connected?"Live-Datenbank":"Fallback (localStorage)"})]})]})]}),a.jsxs("div",{style:{padding:"var(--space-4)",background:"var(--surface-page)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-default)"},children:[a.jsxs("h4",{className:"flex items-center gap-2 mb-3",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(pf,{size:18,style:{color:"var(--brand-primary)"}}),"Tabellen-Statistik"]}),ie.tables?a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:a.jsx("div",{className:"space-y-2",children:Object.entries(ie.tables).map(([Y,ze])=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{style:{color:"var(--text-muted)"},children:[Y,":"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-mono",children:ze===-1?"":ze}),ze>0&&["allocation_runs","scenarios","exceptions","tasks"].includes(Y)&&a.jsx("button",{onClick:()=>_e(Y),disabled:fe===`clear-${Y}`,className:"p-1 rounded hover:bg-red-100",style:{color:"var(--status-danger)"},title:"Tabelle leeren",children:fe===`clear-${Y}`?a.jsx(Er,{size:12,className:"animate-spin"}):a.jsx($n,{size:12})})]})]},Y))})}):a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:ie.loading?"Wird geladen...":"Keine Verbindung zur Datenbank"})]}),a.jsxs("div",{style:{padding:"var(--space-4)",background:"var(--surface-page)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-default)"},children:[a.jsxs("h4",{className:"flex items-center gap-2 mb-3",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(ou,{size:18,style:{color:"var(--status-warning)"}}),"Schema & Daten"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{onClick:Z,disabled:!ie.connected||fe==="migrate",className:"w-full px-3 py-2 rounded-lg flex items-center gap-2 justify-center text-sm",style:{background:ie.connected?"var(--brand-primary)":"var(--surface-subtle)",color:ie.connected?"white":"var(--text-muted)",cursor:ie.connected?"pointer":"not-allowed"},children:[fe==="migrate"?a.jsx(Er,{size:14,className:"animate-spin"}):a.jsx(pf,{size:14}),"Tabellen erstellen (Migration)"]}),a.jsxs("button",{onClick:Se,disabled:!ie.connected||fe==="seed",className:"w-full px-3 py-2 rounded-lg flex items-center gap-2 justify-center text-sm",style:{background:ie.connected?"var(--status-info)":"var(--surface-subtle)",color:ie.connected?"white":"var(--text-muted)",cursor:ie.connected?"pointer":"not-allowed"},children:[fe==="seed"?a.jsx(Er,{size:14,className:"animate-spin"}):a.jsx(Uc,{size:14}),"Testdaten laden (Seed)"]})]})]}),a.jsxs("div",{style:{padding:"var(--space-4)",background:"var(--surface-page)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-default)"},children:[a.jsxs("h4",{className:"flex items-center gap-2 mb-3",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(x2,{size:18,style:{color:"var(--status-success)"}}),"Gesundheit & Performance"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{onClick:pt,disabled:!ie.connected||fe==="health",className:"w-full px-3 py-2 rounded-lg flex items-center gap-2 justify-center text-sm",style:{background:"var(--surface-subtle)",border:"1px solid var(--border-default)"},children:[fe==="health"?a.jsx(Er,{size:14,className:"animate-spin"}):a.jsx(x2,{size:14}),"Health-Check ausfhren"]}),ee&&a.jsxs("div",{className:"mt-2 p-2 rounded text-xs",style:{background:"var(--surface-raised)",border:"1px solid var(--border-default)"},children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"Latenz:"}),a.jsxs("span",{style:{color:(ee.latency_ms||0)<100?"var(--status-success)":"var(--status-warning)"},children:[ee.latency_ms,"ms"]})]}),a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"DB-Gre:"}),a.jsx("span",{children:ee.database_size})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"Verbindungen:"}),a.jsx("span",{children:ee.active_connections})]})]}),a.jsxs("button",{onClick:vn,disabled:!ie.connected||fe==="optimize",className:"w-full px-3 py-2 rounded-lg flex items-center gap-2 justify-center text-sm",style:{background:"var(--surface-subtle)",border:"1px solid var(--border-default)"},children:[fe==="optimize"?a.jsx(Er,{size:14,className:"animate-spin"}):a.jsx(ZB,{size:14}),"Datenbank optimieren"]})]})]}),a.jsxs("div",{style:{padding:"var(--space-4)",background:"var(--surface-page)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-default)"},children:[a.jsxs("h4",{className:"flex items-center gap-2 mb-3",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(OB,{size:18,style:{color:"var(--status-info)"}}),"Backup & Wiederherstellung"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{onClick:Je,disabled:!ie.connected||fe==="backup",className:"w-full px-3 py-2 rounded-lg flex items-center gap-2 justify-center text-sm",style:{background:"var(--status-info)",color:"white"},children:[fe==="backup"?a.jsx(Er,{size:14,className:"animate-spin"}):a.jsx(oa,{size:14}),"Backup herunterladen"]}),a.jsxs("label",{className:"w-full px-3 py-2 rounded-lg flex items-center gap-2 justify-center text-sm cursor-pointer",style:{background:ie.connected?"var(--surface-subtle)":"var(--surface-page)",border:"1px solid var(--border-default)",color:ie.connected?"inherit":"var(--text-muted)",cursor:ie.connected?"pointer":"not-allowed"},children:[fe==="restore"?a.jsx(Er,{size:14,className:"animate-spin"}):a.jsx(qL,{size:14}),"Backup wiederherstellen",a.jsx("input",{type:"file",accept:".json",onChange:Ue,disabled:!ie.connected||fe==="restore",className:"hidden"})]})]})]}),a.jsxs("div",{style:{padding:"var(--space-4)",background:"var(--surface-page)",borderRadius:"var(--radius-md)",border:"1px solid var(--status-danger)"},children:[a.jsxs("h4",{className:"flex items-center gap-2 mb-3",style:{fontWeight:"var(--font-weight-medium)",color:"var(--status-danger)"},children:[a.jsx(Wn,{size:18}),"Gefahrenzone"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{onClick:so,disabled:!ie.connected||fe==="reset",className:"w-full px-3 py-2 rounded-lg flex items-center gap-2 justify-center text-sm",style:{background:"var(--status-danger)",color:"white"},children:[fe==="reset"?a.jsx(Er,{size:14,className:"animate-spin"}):a.jsx($n,{size:14}),"Datenbank komplett zurcksetzen"]}),a.jsxs("button",{onClick:Gn,className:"w-full px-3 py-2 rounded-lg flex items-center gap-2 justify-center text-sm",style:{background:"var(--status-warning)",color:"white"},children:[a.jsx(iu,{size:14}),"Lokale Daten zurcksetzen"]})]})]}),je&&a.jsxs("div",{style:{gridColumn:"span 2",padding:"var(--space-4)",background:"var(--surface-page)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h4",{className:"flex items-center gap-2",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(Zt,{size:18,style:{color:"var(--brand-primary)"}}),"Tabellendetails: ",je]}),a.jsx("button",{onClick:()=>st(null),className:"p-1 rounded hover:bg-gray-100",children:a.jsx(Bs,{size:18})})]}),Qe?a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"text-sm font-medium mb-2",children:"Spalten"}),a.jsx("div",{className:"space-y-1 text-xs",children:Qe.columns?.map(Y=>a.jsxs("div",{className:"flex justify-between p-1 rounded",style:{background:"var(--surface-raised)"},children:[a.jsx("span",{className:"font-mono",children:Y.column_name}),a.jsx("span",{style:{color:"var(--text-muted)"},children:Y.data_type})]},Y.column_name))})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-sm font-medium mb-2",children:"Statistiken"}),a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"Zeilen:"}),a.jsx("span",{children:Qe.row_count})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"Gre:"}),a.jsx("span",{children:Qe.size})]})]}),Qe.recent_records&&Qe.recent_records.length>0&&a.jsxs("div",{className:"mt-3",children:[a.jsx("h5",{className:"text-sm font-medium mb-2",children:"Letzte Eintrge"}),a.jsx("div",{className:"text-xs space-y-1 max-h-32 overflow-y-auto",children:Qe.recent_records.map((Y,ze)=>a.jsx("div",{className:"p-1 rounded truncate",style:{background:"var(--surface-raised)"},children:Y.name||Y.title||Y.id},ze))})]})]})]}):a.jsxs("div",{className:"flex items-center gap-2",style:{color:"var(--text-muted)"},children:[a.jsx(Er,{size:14,className:"animate-spin"})," Lade Details..."]})]})]})]}),y==="cms"&&a.jsx(Ose,{t,cmsSelectedSection:A,setCmsSelectedSection:S,cmsSearchQuery:N,setCmsSearchQuery:z,cmsEditingKey:O,setCmsEditingKey:_,cmsEditValues:E,setCmsEditValues:T,cmsLoading:F,setCmsLoading:K,cmsExpandedSections:H,setCmsExpandedSections:M})]}),Zr.last_sync_at&&a.jsx("div",{className:"px-6 py-3",style:{background:"var(--surface-page)",borderTop:"1px solid var(--border-default)"},children:a.jsxs("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[a.jsx(Xs,{size:12,className:"inline mr-1"}),"Letzte Synchronisation: ",new Date(Zr.last_sync_at).toLocaleString("de-CH")]})})]})})]}),a.jsx(nre,{isOpen:Ft.isOpen,onClose:()=>ut(Y=>({...Y,isOpen:!1})),onConfirm:Ft.onConfirm,title:Ft.title,message:Ft.message,type:Ft.type}),ft.length>0&&a.jsxs("div",{className:"fixed bottom-4 right-4 w-80 max-h-64 overflow-y-auto rounded-lg shadow-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",zIndex:40},children:[a.jsxs("div",{className:"p-3 border-b flex items-center justify-between",style:{borderColor:"var(--border-default)"},children:[a.jsxs("span",{className:"flex items-center gap-2",style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(m0,{size:14}),"Admin-Aktivitten"]}),a.jsx("button",{onClick:()=>xt([]),className:"text-xs px-2 py-1 rounded",style:{color:"var(--text-muted)"},children:"Leeren"})]}),a.jsx("div",{className:"p-2 space-y-1",children:ft.slice(0,10).map(Y=>a.jsxs("div",{className:"p-2 rounded text-xs flex items-start gap-2",style:{backgroundColor:"var(--surface-subtle)"},children:[Y.status==="success"&&a.jsx(Rr,{size:12,style:{color:"var(--status-success)",flexShrink:0,marginTop:2}}),Y.status==="error"&&a.jsx(Bs,{size:12,style:{color:"var(--status-danger)",flexShrink:0,marginTop:2}}),Y.status==="warning"&&a.jsx(Mt,{size:12,style:{color:"var(--status-warning)",flexShrink:0,marginTop:2}}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:Y.action}),a.jsx("div",{style:{color:"var(--text-muted)"},className:"truncate",children:Y.details}),a.jsx("div",{style:{color:"var(--text-muted)",fontSize:"10px"},children:Y.timestamp.toLocaleTimeString("de-CH")})]})]},Y.id))})]})]})}function Ese(){const[e,t]=k.useState("home"),[r,n]=k.useState(null),[i,o]=k.useState(null),[l,u]=k.useState(""),[d,f]=k.useState("Initial Allocation"),h=(v,x)=>{t(v),v==="runs"&&n(x?.runId||null),x?.variantId&&o(x.variantId),x?.variantName&&u(x.variantName),x?.allocationType&&f(x.allocationType)},m=()=>{switch(e){case"home":return a.jsx(w2,{onNavigate:h});case"settings":return a.jsx(mF,{onNavigate:h});case"parameters":return a.jsx(tre,{});case"capacity":return a.jsx(Fte,{onNavigate:h});case"work":return a.jsx(Kte,{onNavigate:h});case"runs":return a.jsx(Zte,{onNavigate:h,runId:r});case"scenarios":return a.jsx($oe,{onNavigate:h});case"scenarioManagement":return a.jsx(Uoe,{onNavigateToSimulation:(v,x)=>{h(x==="Replenishment"?"replenishmentSimulation":"simulationAnalysis",{variantId:v,variantName:"Optimiert - Hohe Prognosegewichtung",allocationType:x})},onNavigateToExplainability:(v,x)=>h("explainability",{variantId:v,allocationType:x}),onNavigateToAllocationRun:v=>h("runs",{variantId:v})});case"simulationAnalysis":return a.jsx(Hoe,{variantName:l||"Optimiert - Hohe Prognosegewichtung",onBack:()=>h("scenarioManagement"),onSaveVariant:()=>{h("scenarioManagement")},onNavigateToExplainability:()=>h("explainability",{allocationType:"Initial Allocation"})});case"replenishmentSimulation":return a.jsx(Voe,{variantName:l||"NOS Nachschub - Standard",onBack:()=>h("scenarioManagement"),onSaveVariant:()=>{h("scenarioManagement")},onNavigateToExplainability:()=>h("explainability",{allocationType:"Replenishment"})});case"explainability":return a.jsx(Zoe,{allocationType:d});case"exceptions":return a.jsx(Xte,{onNavigate:h});case"analytics":return a.jsx(ure,{onNavigate:h});case"allocationAnalysis":return a.jsx(dre,{onNavigate:h});case"storeLayout":return a.jsx(Boe,{onNavigate:h});case"cluster":return a.jsx(ese,{onNavigate:h});case"dataManager":return a.jsx(Tse,{onNavigate:h});default:return a.jsx(w2,{onNavigate:h})}};return a.jsx(nF,{currentScreen:e,onNavigate:h,children:m()})}D5.createRoot(document.getElementById("root")).render(a.jsx(Y5,{children:a.jsx(K5,{children:a.jsx(JB,{children:a.jsx(Ese,{})})})}));
