function g4(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xm={exports:{}},dc={},bm={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qk;function y4(){if(qk)return Xe;qk=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),h=Symbol.iterator;function m(U){return U===null||typeof U!="object"?null:(U=h&&U[h]||U["@@iterator"],typeof U=="function"?U:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function y(U,B,te){this.props=U,this.context=B,this.refs=x,this.updater=te||b}y.prototype.isReactComponent={},y.prototype.setState=function(U,B){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,B,"setState")},y.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function j(){}j.prototype=y.prototype;function k(U,B,te){this.props=U,this.context=B,this.refs=x,this.updater=te||b}var S=k.prototype=new j;S.constructor=k,w(S,y.prototype),S.isPureReactComponent=!0;var N=Array.isArray,A=Object.prototype.hasOwnProperty,O={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function E(U,B,te){var ce,he={},ue=null,ae=null;if(B!=null)for(ce in B.ref!==void 0&&(ae=B.ref),B.key!==void 0&&(ue=""+B.key),B)A.call(B,ce)&&!_.hasOwnProperty(ce)&&(he[ce]=B[ce]);var ge=arguments.length-2;if(ge===1)he.children=te;else if(1<ge){for(var W=Array(ge),oe=0;oe<ge;oe++)W[oe]=arguments[oe+2];he.children=W}if(U&&U.defaultProps)for(ce in ge=U.defaultProps,ge)he[ce]===void 0&&(he[ce]=ge[ce]);return{$$typeof:e,type:U,key:ue,ref:ae,props:he,_owner:O.current}}function T(U,B){return{$$typeof:e,type:U.type,key:B,ref:U.ref,props:U.props,_owner:U._owner}}function I(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function R(U){var B={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(te){return B[te]})}var L=/\/+/g;function M(U,B){return typeof U=="object"&&U!==null&&U.key!=null?R(""+U.key):B.toString(36)}function q(U,B,te,ce,he){var ue=typeof U;(ue==="undefined"||ue==="boolean")&&(U=null);var ae=!1;if(U===null)ae=!0;else switch(ue){case"string":case"number":ae=!0;break;case"object":switch(U.$$typeof){case e:case t:ae=!0}}if(ae)return ae=U,he=he(ae),U=ce===""?"."+M(ae,0):ce,N(he)?(te="",U!=null&&(te=U.replace(L,"$&/")+"/"),q(he,B,te,"",function(oe){return oe})):he!=null&&(I(he)&&(he=T(he,te+(!he.key||ae&&ae.key===he.key?"":(""+he.key).replace(L,"$&/")+"/")+U)),B.push(he)),1;if(ae=0,ce=ce===""?".":ce+":",N(U))for(var ge=0;ge<U.length;ge++){ue=U[ge];var W=ce+M(ue,ge);ae+=q(ue,B,te,W,he)}else if(W=m(U),typeof W=="function")for(U=W.call(U),ge=0;!(ue=U.next()).done;)ue=ue.value,W=ce+M(ue,ge++),ae+=q(ue,B,te,W,he);else if(ue==="object")throw B=String(U),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return ae}function H(U,B,te){if(U==null)return U;var ce=[],he=0;return q(U,ce,"","",function(ue){return B.call(te,ue,he++)}),ce}function Z(U){if(U._status===-1){var B=U._result;B=B(),B.then(function(te){(U._status===0||U._status===-1)&&(U._status=1,U._result=te)},function(te){(U._status===0||U._status===-1)&&(U._status=2,U._result=te)}),U._status===-1&&(U._status=0,U._result=B)}if(U._status===1)return U._result.default;throw U._result}var Y={current:null},$={transition:null},F={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:$,ReactCurrentOwner:O};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Xe.Children={map:H,forEach:function(U,B,te){H(U,function(){B.apply(this,arguments)},te)},count:function(U){var B=0;return H(U,function(){B++}),B},toArray:function(U){return H(U,function(B){return B})||[]},only:function(U){if(!I(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Xe.Component=y,Xe.Fragment=r,Xe.Profiler=i,Xe.PureComponent=k,Xe.StrictMode=n,Xe.Suspense=d,Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,Xe.act=Q,Xe.cloneElement=function(U,B,te){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ce=w({},U.props),he=U.key,ue=U.ref,ae=U._owner;if(B!=null){if(B.ref!==void 0&&(ue=B.ref,ae=O.current),B.key!==void 0&&(he=""+B.key),U.type&&U.type.defaultProps)var ge=U.type.defaultProps;for(W in B)A.call(B,W)&&!_.hasOwnProperty(W)&&(ce[W]=B[W]===void 0&&ge!==void 0?ge[W]:B[W])}var W=arguments.length-2;if(W===1)ce.children=te;else if(1<W){ge=Array(W);for(var oe=0;oe<W;oe++)ge[oe]=arguments[oe+2];ce.children=ge}return{$$typeof:e,type:U.type,key:he,ref:ue,props:ce,_owner:ae}},Xe.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:o,_context:U},U.Consumer=U},Xe.createElement=E,Xe.createFactory=function(U){var B=E.bind(null,U);return B.type=U,B},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(U){return{$$typeof:u,render:U}},Xe.isValidElement=I,Xe.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:Z}},Xe.memo=function(U,B){return{$$typeof:f,type:U,compare:B===void 0?null:B}},Xe.startTransition=function(U){var B=$.transition;$.transition={};try{U()}finally{$.transition=B}},Xe.unstable_act=Q,Xe.useCallback=function(U,B){return Y.current.useCallback(U,B)},Xe.useContext=function(U){return Y.current.useContext(U)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(U){return Y.current.useDeferredValue(U)},Xe.useEffect=function(U,B){return Y.current.useEffect(U,B)},Xe.useId=function(){return Y.current.useId()},Xe.useImperativeHandle=function(U,B,te){return Y.current.useImperativeHandle(U,B,te)},Xe.useInsertionEffect=function(U,B){return Y.current.useInsertionEffect(U,B)},Xe.useLayoutEffect=function(U,B){return Y.current.useLayoutEffect(U,B)},Xe.useMemo=function(U,B){return Y.current.useMemo(U,B)},Xe.useReducer=function(U,B,te){return Y.current.useReducer(U,B,te)},Xe.useRef=function(U){return Y.current.useRef(U)},Xe.useState=function(U){return Y.current.useState(U)},Xe.useSyncExternalStore=function(U,B,te){return Y.current.useSyncExternalStore(U,B,te)},Xe.useTransition=function(){return Y.current.useTransition()},Xe.version="18.3.1",Xe}var Zk;function KS(){return Zk||(Zk=1,bm.exports=y4()),bm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xk;function x4(){if(Xk)return dc;Xk=1;var e=KS(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var v,h={},m=null,b=null;f!==void 0&&(m=""+f),d.key!==void 0&&(m=""+d.key),d.ref!==void 0&&(b=d.ref);for(v in d)n.call(d,v)&&!o.hasOwnProperty(v)&&(h[v]=d[v]);if(u&&u.defaultProps)for(v in d=u.defaultProps,d)h[v]===void 0&&(h[v]=d[v]);return{$$typeof:t,type:u,key:m,ref:b,props:h,_owner:i.current}}return dc.Fragment=r,dc.jsx=l,dc.jsxs=l,dc}var Yk;function b4(){return Yk||(Yk=1,xm.exports=x4()),xm.exports}var a=b4(),Kd={},Sm={exports:{}},Vr={},wm={exports:{}},jm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qk;function S4(){return Qk||(Qk=1,(function(e){function t($,F){var Q=$.length;$.push(F);e:for(;0<Q;){var U=Q-1>>>1,B=$[U];if(0<i(B,F))$[U]=F,$[Q]=B,Q=U;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var F=$[0],Q=$.pop();if(Q!==F){$[0]=Q;e:for(var U=0,B=$.length,te=B>>>1;U<te;){var ce=2*(U+1)-1,he=$[ce],ue=ce+1,ae=$[ue];if(0>i(he,Q))ue<B&&0>i(ae,he)?($[U]=ae,$[ue]=Q,U=ue):($[U]=he,$[ce]=Q,U=ce);else if(ue<B&&0>i(ae,Q))$[U]=ae,$[ue]=Q,U=ue;else break e}}return F}function i($,F){var Q=$.sortIndex-F.sortIndex;return Q!==0?Q:$.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],v=1,h=null,m=3,b=!1,w=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S($){for(var F=r(f);F!==null;){if(F.callback===null)n(f);else if(F.startTime<=$)n(f),F.sortIndex=F.expirationTime,t(d,F);else break;F=r(f)}}function N($){if(x=!1,S($),!w)if(r(d)!==null)w=!0,Z(A);else{var F=r(f);F!==null&&Y(N,F.startTime-$)}}function A($,F){w=!1,x&&(x=!1,j(E),E=-1),b=!0;var Q=m;try{for(S(F),h=r(d);h!==null&&(!(h.expirationTime>F)||$&&!R());){var U=h.callback;if(typeof U=="function"){h.callback=null,m=h.priorityLevel;var B=U(h.expirationTime<=F);F=e.unstable_now(),typeof B=="function"?h.callback=B:h===r(d)&&n(d),S(F)}else n(d);h=r(d)}if(h!==null)var te=!0;else{var ce=r(f);ce!==null&&Y(N,ce.startTime-F),te=!1}return te}finally{h=null,m=Q,b=!1}}var O=!1,_=null,E=-1,T=5,I=-1;function R(){return!(e.unstable_now()-I<T)}function L(){if(_!==null){var $=e.unstable_now();I=$;var F=!0;try{F=_(!0,$)}finally{F?M():(O=!1,_=null)}}else O=!1}var M;if(typeof k=="function")M=function(){k(L)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,H=q.port2;q.port1.onmessage=L,M=function(){H.postMessage(null)}}else M=function(){y(L,0)};function Z($){_=$,O||(O=!0,M())}function Y($,F){E=y(function(){$(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){w||b||(w=!0,Z(A))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function($){switch(m){case 1:case 2:case 3:var F=3;break;default:F=m}var Q=m;m=F;try{return $()}finally{m=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,F){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Q=m;m=$;try{return F()}finally{m=Q}},e.unstable_scheduleCallback=function($,F,Q){var U=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?U+Q:U):Q=U,$){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Q+B,$={id:v++,callback:F,priorityLevel:$,startTime:Q,expirationTime:B,sortIndex:-1},Q>U?($.sortIndex=Q,t(f,$),r(d)===null&&$===r(f)&&(x?(j(E),E=-1):x=!0,Y(N,Q-U))):($.sortIndex=B,t(d,$),w||b||(w=!0,Z(A))),$},e.unstable_shouldYield=R,e.unstable_wrapCallback=function($){var F=m;return function(){var Q=m;m=F;try{return $.apply(this,arguments)}finally{m=Q}}}})(jm)),jm}var Jk;function w4(){return Jk||(Jk=1,wm.exports=S4()),wm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e2;function j4(){if(e2)return Vr;e2=1;var e=KS(),t=w4();function r(s){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+s,p=1;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(s,c){l(s,c),l(s+"Capture",c)}function l(s,c){for(i[s]=c,s=0;s<c.length;s++)n.add(c[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},h={};function m(s){return d.call(h,s)?!0:d.call(v,s)?!1:f.test(s)?h[s]=!0:(v[s]=!0,!1)}function b(s,c,p,g){if(p!==null&&p.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return g?!1:p!==null?!p.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function w(s,c,p,g){if(c===null||typeof c>"u"||b(s,c,p,g))return!0;if(g)return!1;if(p!==null)switch(p.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function x(s,c,p,g,C,P,D){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=g,this.attributeNamespace=C,this.mustUseProperty=p,this.propertyName=s,this.type=c,this.sanitizeURL=P,this.removeEmptyString=D}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){y[s]=new x(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var c=s[0];y[c]=new x(c,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){y[s]=new x(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){y[s]=new x(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){y[s]=new x(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){y[s]=new x(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){y[s]=new x(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){y[s]=new x(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){y[s]=new x(s,5,!1,s.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function k(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var c=s.replace(j,k);y[c]=new x(c,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var c=s.replace(j,k);y[c]=new x(c,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var c=s.replace(j,k);y[c]=new x(c,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){y[s]=new x(s,1,!1,s.toLowerCase(),null,!1,!1)}),y.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){y[s]=new x(s,1,!1,s.toLowerCase(),null,!0,!0)});function S(s,c,p,g){var C=y.hasOwnProperty(c)?y[c]:null;(C!==null?C.type!==0:g||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(w(c,p,C,g)&&(p=null),g||C===null?m(c)&&(p===null?s.removeAttribute(c):s.setAttribute(c,""+p)):C.mustUseProperty?s[C.propertyName]=p===null?C.type===3?!1:"":p:(c=C.attributeName,g=C.attributeNamespace,p===null?s.removeAttribute(c):(C=C.type,p=C===3||C===4&&p===!0?"":""+p,g?s.setAttributeNS(g,c,p):s.setAttribute(c,p))))}var N=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),O=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),R=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),$=Symbol.iterator;function F(s){return s===null||typeof s!="object"?null:(s=$&&s[$]||s["@@iterator"],typeof s=="function"?s:null)}var Q=Object.assign,U;function B(s){if(U===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);U=c&&c[1]||""}return`
`+U+s}var te=!1;function ce(s,c){if(!s||te)return"";te=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(le){var g=le}Reflect.construct(s,[],c)}else{try{c.call()}catch(le){g=le}s.call(c.prototype)}else{try{throw Error()}catch(le){g=le}s()}}catch(le){if(le&&g&&typeof le.stack=="string"){for(var C=le.stack.split(`
`),P=g.stack.split(`
`),D=C.length-1,V=P.length-1;1<=D&&0<=V&&C[D]!==P[V];)V--;for(;1<=D&&0<=V;D--,V--)if(C[D]!==P[V]){if(D!==1||V!==1)do if(D--,V--,0>V||C[D]!==P[V]){var X=`
`+C[D].replace(" at new "," at ");return s.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",s.displayName)),X}while(1<=D&&0<=V);break}}}finally{te=!1,Error.prepareStackTrace=p}return(s=s?s.displayName||s.name:"")?B(s):""}function he(s){switch(s.tag){case 5:return B(s.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return s=ce(s.type,!1),s;case 11:return s=ce(s.type.render,!1),s;case 1:return s=ce(s.type,!0),s;default:return""}}function ue(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case O:return"Portal";case T:return"Profiler";case E:return"StrictMode";case M:return"Suspense";case q:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case R:return(s.displayName||"Context")+".Consumer";case I:return(s._context.displayName||"Context")+".Provider";case L:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case H:return c=s.displayName||null,c!==null?c:ue(s.type)||"Memo";case Z:c=s._payload,s=s._init;try{return ue(s(c))}catch{}}return null}function ae(s){var c=s.type;switch(s.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=c.render,s=s.displayName||s.name||"",c.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(c);case 8:return c===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function ge(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function W(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function oe(s){var c=W(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,c),g=""+s[c];if(!s.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var C=p.get,P=p.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return C.call(this)},set:function(D){g=""+D,P.call(this,D)}}),Object.defineProperty(s,c,{enumerable:p.enumerable}),{getValue:function(){return g},setValue:function(D){g=""+D},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function ve(s){s._valueTracker||(s._valueTracker=oe(s))}function se(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var p=c.getValue(),g="";return s&&(g=W(s)?s.checked?"true":"false":s.value),s=g,s!==p?(c.setValue(s),!0):!1}function De(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Me(s,c){var p=c.checked;return Q({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??s._wrapperState.initialChecked})}function tt(s,c){var p=c.defaultValue==null?"":c.defaultValue,g=c.checked!=null?c.checked:c.defaultChecked;p=ge(c.value!=null?c.value:p),s._wrapperState={initialChecked:g,initialValue:p,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function rt(s,c){c=c.checked,c!=null&&S(s,"checked",c,!1)}function Ye(s,c){rt(s,c);var p=ge(c.value),g=c.type;if(p!=null)g==="number"?(p===0&&s.value===""||s.value!=p)&&(s.value=""+p):s.value!==""+p&&(s.value=""+p);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}c.hasOwnProperty("value")?ct(s,c.type,p):c.hasOwnProperty("defaultValue")&&ct(s,c.type,ge(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(s.defaultChecked=!!c.defaultChecked)}function Ut(s,c,p){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var g=c.type;if(!(g!=="submit"&&g!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+s._wrapperState.initialValue,p||c===s.value||(s.value=c),s.defaultValue=c}p=s.name,p!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,p!==""&&(s.name=p)}function ct(s,c,p){(c!=="number"||De(s.ownerDocument)!==s)&&(p==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+p&&(s.defaultValue=""+p))}var it=Array.isArray;function Ht(s,c,p,g){if(s=s.options,c){c={};for(var C=0;C<p.length;C++)c["$"+p[C]]=!0;for(p=0;p<s.length;p++)C=c.hasOwnProperty("$"+s[p].value),s[p].selected!==C&&(s[p].selected=C),C&&g&&(s[p].defaultSelected=!0)}else{for(p=""+ge(p),c=null,C=0;C<s.length;C++){if(s[C].value===p){s[C].selected=!0,g&&(s[C].defaultSelected=!0);return}c!==null||s[C].disabled||(c=s[C])}c!==null&&(c.selected=!0)}}function nr(s,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return Q({},c,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ge(s,c){var p=c.value;if(p==null){if(p=c.children,c=c.defaultValue,p!=null){if(c!=null)throw Error(r(92));if(it(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),p=c}s._wrapperState={initialValue:ge(p)}}function qe(s,c){var p=ge(c.value),g=ge(c.defaultValue);p!=null&&(p=""+p,p!==s.value&&(s.value=p),c.defaultValue==null&&s.defaultValue!==p&&(s.defaultValue=p)),g!=null&&(s.defaultValue=""+g)}function ht(s){var c=s.textContent;c===s._wrapperState.initialValue&&c!==""&&c!==null&&(s.value=c)}function ut(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nt(s,c){return s==null||s==="http://www.w3.org/1999/xhtml"?ut(c):s==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var gr,vn=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,p,g,C){MSApp.execUnsafeLocalFunction(function(){return s(c,p,g,C)})}:s})(function(s,c){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=c;else{for(gr=gr||document.createElement("div"),gr.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=gr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;c.firstChild;)s.appendChild(c.firstChild)}});function Sr(s,c){if(c){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=c;return}}s.textContent=c}var Wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mn=["Webkit","ms","Moz","O"];Object.keys(Wr).forEach(function(s){mn.forEach(function(c){c=c+s.charAt(0).toUpperCase()+s.substring(1),Wr[c]=Wr[s]})});function Or(s,c,p){return c==null||typeof c=="boolean"||c===""?"":p||typeof c!="number"||c===0||Wr.hasOwnProperty(s)&&Wr[s]?(""+c).trim():c+"px"}function Qr(s,c){s=s.style;for(var p in c)if(c.hasOwnProperty(p)){var g=p.indexOf("--")===0,C=Or(p,c[p],g);p==="float"&&(p="cssFloat"),g?s.setProperty(p,C):s[p]=C}}var Ki=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ya(s,c){if(c){if(Ki[s]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function re(s,c){if(s.indexOf("-")===-1)return typeof c.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function de(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ee=null,fe=null,K=null;function me(s){if(s=Xl(s)){if(typeof ee!="function")throw Error(r(280));var c=s.stateNode;c&&(c=id(c),ee(s.stateNode,s.type,c))}}function je(s){fe?K?K.push(s):K=[s]:fe=s}function vt(){if(fe){var s=fe,c=K;if(K=fe=null,me(s),c)for(s=0;s<c.length;s++)me(c[s])}}function Jr(s,c){return s(c)}function Kt(){}var Tt=!1;function et(s,c,p){if(Tt)return s(c,p);Tt=!0;try{return Jr(s,c,p)}finally{Tt=!1,(fe!==null||K!==null)&&(Kt(),vt())}}function Ve(s,c){var p=s.stateNode;if(p===null)return null;var g=id(p);if(g===null)return null;p=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var en=!1;if(u)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){en=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch{en=!1}function j5(s,c,p,g,C,P,D,V,X){var le=Array.prototype.slice.call(arguments,3);try{c.apply(p,le)}catch(xe){this.onError(xe)}}var Ol=!1,Mu=null,Lu=!1,Lh=null,k5={onError:function(s){Ol=!0,Mu=s}};function C5(s,c,p,g,C,P,D,V,X){Ol=!1,Mu=null,j5.apply(k5,arguments)}function z5(s,c,p,g,C,P,D,V,X){if(C5.apply(this,arguments),Ol){if(Ol){var le=Mu;Ol=!1,Mu=null}else throw Error(r(198));Lu||(Lu=!0,Lh=le)}}function Gi(s){var c=s,p=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(p=c.return),s=c.return;while(s)}return c.tag===3?p:null}function gw(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function yw(s){if(Gi(s)!==s)throw Error(r(188))}function A5(s){var c=s.alternate;if(!c){if(c=Gi(s),c===null)throw Error(r(188));return c!==s?null:s}for(var p=s,g=c;;){var C=p.return;if(C===null)break;var P=C.alternate;if(P===null){if(g=C.return,g!==null){p=g;continue}break}if(C.child===P.child){for(P=C.child;P;){if(P===p)return yw(C),s;if(P===g)return yw(C),c;P=P.sibling}throw Error(r(188))}if(p.return!==g.return)p=C,g=P;else{for(var D=!1,V=C.child;V;){if(V===p){D=!0,p=C,g=P;break}if(V===g){D=!0,g=C,p=P;break}V=V.sibling}if(!D){for(V=P.child;V;){if(V===p){D=!0,p=P,g=C;break}if(V===g){D=!0,g=P,p=C;break}V=V.sibling}if(!D)throw Error(r(189))}}if(p.alternate!==g)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?s:c}function xw(s){return s=A5(s),s!==null?bw(s):null}function bw(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var c=bw(s);if(c!==null)return c;s=s.sibling}return null}var Sw=t.unstable_scheduleCallback,ww=t.unstable_cancelCallback,N5=t.unstable_shouldYield,P5=t.unstable_requestPaint,qt=t.unstable_now,_5=t.unstable_getCurrentPriorityLevel,Bh=t.unstable_ImmediatePriority,jw=t.unstable_UserBlockingPriority,Bu=t.unstable_NormalPriority,O5=t.unstable_LowPriority,kw=t.unstable_IdlePriority,Fu=null,Qn=null;function E5(s){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(Fu,s,void 0,(s.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:R5,T5=Math.log,D5=Math.LN2;function R5(s){return s>>>=0,s===0?32:31-(T5(s)/D5|0)|0}var Wu=64,$u=4194304;function El(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Uu(s,c){var p=s.pendingLanes;if(p===0)return 0;var g=0,C=s.suspendedLanes,P=s.pingedLanes,D=p&268435455;if(D!==0){var V=D&~C;V!==0?g=El(V):(P&=D,P!==0&&(g=El(P)))}else D=p&~C,D!==0?g=El(D):P!==0&&(g=El(P));if(g===0)return 0;if(c!==0&&c!==g&&(c&C)===0&&(C=g&-g,P=c&-c,C>=P||C===16&&(P&4194240)!==0))return c;if((g&4)!==0&&(g|=p&16),c=s.entangledLanes,c!==0)for(s=s.entanglements,c&=g;0<c;)p=31-En(c),C=1<<p,g|=s[p],c&=~C;return g}function I5(s,c){switch(s){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M5(s,c){for(var p=s.suspendedLanes,g=s.pingedLanes,C=s.expirationTimes,P=s.pendingLanes;0<P;){var D=31-En(P),V=1<<D,X=C[D];X===-1?((V&p)===0||(V&g)!==0)&&(C[D]=I5(V,c)):X<=c&&(s.expiredLanes|=V),P&=~V}}function Fh(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Cw(){var s=Wu;return Wu<<=1,(Wu&4194240)===0&&(Wu=64),s}function Wh(s){for(var c=[],p=0;31>p;p++)c.push(s);return c}function Tl(s,c,p){s.pendingLanes|=c,c!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,c=31-En(c),s[c]=p}function L5(s,c){var p=s.pendingLanes&~c;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=c,s.mutableReadLanes&=c,s.entangledLanes&=c,c=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<p;){var C=31-En(p),P=1<<C;c[C]=0,g[C]=-1,s[C]=-1,p&=~P}}function $h(s,c){var p=s.entangledLanes|=c;for(s=s.entanglements;p;){var g=31-En(p),C=1<<g;C&c|s[g]&c&&(s[g]|=c),p&=~C}}var mt=0;function zw(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Aw,Uh,Nw,Pw,_w,Hh=!1,Hu=[],ei=null,ti=null,ri=null,Dl=new Map,Rl=new Map,ni=[],B5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ow(s,c){switch(s){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":Dl.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(c.pointerId)}}function Il(s,c,p,g,C,P){return s===null||s.nativeEvent!==P?(s={blockedOn:c,domEventName:p,eventSystemFlags:g,nativeEvent:P,targetContainers:[C]},c!==null&&(c=Xl(c),c!==null&&Uh(c)),s):(s.eventSystemFlags|=g,c=s.targetContainers,C!==null&&c.indexOf(C)===-1&&c.push(C),s)}function F5(s,c,p,g,C){switch(c){case"focusin":return ei=Il(ei,s,c,p,g,C),!0;case"dragenter":return ti=Il(ti,s,c,p,g,C),!0;case"mouseover":return ri=Il(ri,s,c,p,g,C),!0;case"pointerover":var P=C.pointerId;return Dl.set(P,Il(Dl.get(P)||null,s,c,p,g,C)),!0;case"gotpointercapture":return P=C.pointerId,Rl.set(P,Il(Rl.get(P)||null,s,c,p,g,C)),!0}return!1}function Ew(s){var c=Vi(s.target);if(c!==null){var p=Gi(c);if(p!==null){if(c=p.tag,c===13){if(c=gw(p),c!==null){s.blockedOn=c,_w(s.priority,function(){Nw(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ku(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var p=Gh(s.domEventName,s.eventSystemFlags,c[0],s.nativeEvent);if(p===null){p=s.nativeEvent;var g=new p.constructor(p.type,p);ke=g,p.target.dispatchEvent(g),ke=null}else return c=Xl(p),c!==null&&Uh(c),s.blockedOn=p,!1;c.shift()}return!0}function Tw(s,c,p){Ku(s)&&p.delete(c)}function W5(){Hh=!1,ei!==null&&Ku(ei)&&(ei=null),ti!==null&&Ku(ti)&&(ti=null),ri!==null&&Ku(ri)&&(ri=null),Dl.forEach(Tw),Rl.forEach(Tw)}function Ml(s,c){s.blockedOn===c&&(s.blockedOn=null,Hh||(Hh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,W5)))}function Ll(s){function c(C){return Ml(C,s)}if(0<Hu.length){Ml(Hu[0],s);for(var p=1;p<Hu.length;p++){var g=Hu[p];g.blockedOn===s&&(g.blockedOn=null)}}for(ei!==null&&Ml(ei,s),ti!==null&&Ml(ti,s),ri!==null&&Ml(ri,s),Dl.forEach(c),Rl.forEach(c),p=0;p<ni.length;p++)g=ni[p],g.blockedOn===s&&(g.blockedOn=null);for(;0<ni.length&&(p=ni[0],p.blockedOn===null);)Ew(p),p.blockedOn===null&&ni.shift()}var Bo=N.ReactCurrentBatchConfig,Gu=!0;function $5(s,c,p,g){var C=mt,P=Bo.transition;Bo.transition=null;try{mt=1,Kh(s,c,p,g)}finally{mt=C,Bo.transition=P}}function U5(s,c,p,g){var C=mt,P=Bo.transition;Bo.transition=null;try{mt=4,Kh(s,c,p,g)}finally{mt=C,Bo.transition=P}}function Kh(s,c,p,g){if(Gu){var C=Gh(s,c,p,g);if(C===null)cv(s,c,g,Vu,p),Ow(s,g);else if(F5(C,s,c,p,g))g.stopPropagation();else if(Ow(s,g),c&4&&-1<B5.indexOf(s)){for(;C!==null;){var P=Xl(C);if(P!==null&&Aw(P),P=Gh(s,c,p,g),P===null&&cv(s,c,g,Vu,p),P===C)break;C=P}C!==null&&g.stopPropagation()}else cv(s,c,g,null,p)}}var Vu=null;function Gh(s,c,p,g){if(Vu=null,s=de(g),s=Vi(s),s!==null)if(c=Gi(s),c===null)s=null;else if(p=c.tag,p===13){if(s=gw(c),s!==null)return s;s=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null);return Vu=s,null}function Dw(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_5()){case Bh:return 1;case jw:return 4;case Bu:case O5:return 16;case kw:return 536870912;default:return 16}default:return 16}}var ai=null,Vh=null,qu=null;function Rw(){if(qu)return qu;var s,c=Vh,p=c.length,g,C="value"in ai?ai.value:ai.textContent,P=C.length;for(s=0;s<p&&c[s]===C[s];s++);var D=p-s;for(g=1;g<=D&&c[p-g]===C[P-g];g++);return qu=C.slice(s,1<g?1-g:void 0)}function Zu(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function Xu(){return!0}function Iw(){return!1}function tn(s){function c(p,g,C,P,D){this._reactName=p,this._targetInst=C,this.type=g,this.nativeEvent=P,this.target=D,this.currentTarget=null;for(var V in s)s.hasOwnProperty(V)&&(p=s[V],this[V]=p?p(P):P[V]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?Xu:Iw,this.isPropagationStopped=Iw,this}return Q(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Xu)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Xu)},persist:function(){},isPersistent:Xu}),c}var Fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qh=tn(Fo),Bl=Q({},Fo,{view:0,detail:0}),H5=tn(Bl),Zh,Xh,Fl,Yu=Q({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Fl&&(Fl&&s.type==="mousemove"?(Zh=s.screenX-Fl.screenX,Xh=s.screenY-Fl.screenY):Xh=Zh=0,Fl=s),Zh)},movementY:function(s){return"movementY"in s?s.movementY:Xh}}),Mw=tn(Yu),K5=Q({},Yu,{dataTransfer:0}),G5=tn(K5),V5=Q({},Bl,{relatedTarget:0}),Yh=tn(V5),q5=Q({},Fo,{animationName:0,elapsedTime:0,pseudoElement:0}),Z5=tn(q5),X5=Q({},Fo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Y5=tn(X5),Q5=Q({},Fo,{data:0}),Lw=tn(Q5),J5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rM(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=tM[s])?!!c[s]:!1}function Qh(){return rM}var nM=Q({},Bl,{key:function(s){if(s.key){var c=J5[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Zu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?eM[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qh,charCode:function(s){return s.type==="keypress"?Zu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Zu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),aM=tn(nM),iM=Q({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bw=tn(iM),oM=Q({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qh}),sM=tn(oM),lM=Q({},Fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),cM=tn(lM),uM=Q({},Yu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),dM=tn(uM),fM=[9,13,27,32],Jh=u&&"CompositionEvent"in window,Wl=null;u&&"documentMode"in document&&(Wl=document.documentMode);var pM=u&&"TextEvent"in window&&!Wl,Fw=u&&(!Jh||Wl&&8<Wl&&11>=Wl),Ww=" ",$w=!1;function Uw(s,c){switch(s){case"keyup":return fM.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hw(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Wo=!1;function hM(s,c){switch(s){case"compositionend":return Hw(c);case"keypress":return c.which!==32?null:($w=!0,Ww);case"textInput":return s=c.data,s===Ww&&$w?null:s;default:return null}}function vM(s,c){if(Wo)return s==="compositionend"||!Jh&&Uw(s,c)?(s=Rw(),qu=Vh=ai=null,Wo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Fw&&c.locale!=="ko"?null:c.data;default:return null}}var mM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kw(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!mM[s.type]:c==="textarea"}function Gw(s,c,p,g){je(g),c=rd(c,"onChange"),0<c.length&&(p=new qh("onChange","change",null,p,g),s.push({event:p,listeners:c}))}var $l=null,Ul=null;function gM(s){uj(s,0)}function Qu(s){var c=Go(s);if(se(c))return s}function yM(s,c){if(s==="change")return c}var Vw=!1;if(u){var ev;if(u){var tv="oninput"in document;if(!tv){var qw=document.createElement("div");qw.setAttribute("oninput","return;"),tv=typeof qw.oninput=="function"}ev=tv}else ev=!1;Vw=ev&&(!document.documentMode||9<document.documentMode)}function Zw(){$l&&($l.detachEvent("onpropertychange",Xw),Ul=$l=null)}function Xw(s){if(s.propertyName==="value"&&Qu(Ul)){var c=[];Gw(c,Ul,s,de(s)),et(gM,c)}}function xM(s,c,p){s==="focusin"?(Zw(),$l=c,Ul=p,$l.attachEvent("onpropertychange",Xw)):s==="focusout"&&Zw()}function bM(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Qu(Ul)}function SM(s,c){if(s==="click")return Qu(c)}function wM(s,c){if(s==="input"||s==="change")return Qu(c)}function jM(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var Tn=typeof Object.is=="function"?Object.is:jM;function Hl(s,c){if(Tn(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var p=Object.keys(s),g=Object.keys(c);if(p.length!==g.length)return!1;for(g=0;g<p.length;g++){var C=p[g];if(!d.call(c,C)||!Tn(s[C],c[C]))return!1}return!0}function Yw(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Qw(s,c){var p=Yw(s);s=0;for(var g;p;){if(p.nodeType===3){if(g=s+p.textContent.length,s<=c&&g>=c)return{node:p,offset:c-s};s=g}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Yw(p)}}function Jw(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?Jw(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function ej(){for(var s=window,c=De();c instanceof s.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)s=c.contentWindow;else break;c=De(s.document)}return c}function rv(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}function kM(s){var c=ej(),p=s.focusedElem,g=s.selectionRange;if(c!==p&&p&&p.ownerDocument&&Jw(p.ownerDocument.documentElement,p)){if(g!==null&&rv(p)){if(c=g.start,s=g.end,s===void 0&&(s=c),"selectionStart"in p)p.selectionStart=c,p.selectionEnd=Math.min(s,p.value.length);else if(s=(c=p.ownerDocument||document)&&c.defaultView||window,s.getSelection){s=s.getSelection();var C=p.textContent.length,P=Math.min(g.start,C);g=g.end===void 0?P:Math.min(g.end,C),!s.extend&&P>g&&(C=g,g=P,P=C),C=Qw(p,P);var D=Qw(p,g);C&&D&&(s.rangeCount!==1||s.anchorNode!==C.node||s.anchorOffset!==C.offset||s.focusNode!==D.node||s.focusOffset!==D.offset)&&(c=c.createRange(),c.setStart(C.node,C.offset),s.removeAllRanges(),P>g?(s.addRange(c),s.extend(D.node,D.offset)):(c.setEnd(D.node,D.offset),s.addRange(c)))}}for(c=[],s=p;s=s.parentNode;)s.nodeType===1&&c.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<c.length;p++)s=c[p],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var CM=u&&"documentMode"in document&&11>=document.documentMode,$o=null,nv=null,Kl=null,av=!1;function tj(s,c,p){var g=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;av||$o==null||$o!==De(g)||(g=$o,"selectionStart"in g&&rv(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Kl&&Hl(Kl,g)||(Kl=g,g=rd(nv,"onSelect"),0<g.length&&(c=new qh("onSelect","select",null,c,p),s.push({event:c,listeners:g}),c.target=$o)))}function Ju(s,c){var p={};return p[s.toLowerCase()]=c.toLowerCase(),p["Webkit"+s]="webkit"+c,p["Moz"+s]="moz"+c,p}var Uo={animationend:Ju("Animation","AnimationEnd"),animationiteration:Ju("Animation","AnimationIteration"),animationstart:Ju("Animation","AnimationStart"),transitionend:Ju("Transition","TransitionEnd")},iv={},rj={};u&&(rj=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function ed(s){if(iv[s])return iv[s];if(!Uo[s])return s;var c=Uo[s],p;for(p in c)if(c.hasOwnProperty(p)&&p in rj)return iv[s]=c[p];return s}var nj=ed("animationend"),aj=ed("animationiteration"),ij=ed("animationstart"),oj=ed("transitionend"),sj=new Map,lj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ii(s,c){sj.set(s,c),o(c,[s])}for(var ov=0;ov<lj.length;ov++){var sv=lj[ov],zM=sv.toLowerCase(),AM=sv[0].toUpperCase()+sv.slice(1);ii(zM,"on"+AM)}ii(nj,"onAnimationEnd"),ii(aj,"onAnimationIteration"),ii(ij,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(oj,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gl));function cj(s,c,p){var g=s.type||"unknown-event";s.currentTarget=p,z5(g,c,void 0,s),s.currentTarget=null}function uj(s,c){c=(c&4)!==0;for(var p=0;p<s.length;p++){var g=s[p],C=g.event;g=g.listeners;e:{var P=void 0;if(c)for(var D=g.length-1;0<=D;D--){var V=g[D],X=V.instance,le=V.currentTarget;if(V=V.listener,X!==P&&C.isPropagationStopped())break e;cj(C,V,le),P=X}else for(D=0;D<g.length;D++){if(V=g[D],X=V.instance,le=V.currentTarget,V=V.listener,X!==P&&C.isPropagationStopped())break e;cj(C,V,le),P=X}}}if(Lu)throw s=Lh,Lu=!1,Lh=null,s}function Nt(s,c){var p=c[vv];p===void 0&&(p=c[vv]=new Set);var g=s+"__bubble";p.has(g)||(dj(c,s,2,!1),p.add(g))}function lv(s,c,p){var g=0;c&&(g|=4),dj(p,s,g,c)}var td="_reactListening"+Math.random().toString(36).slice(2);function Vl(s){if(!s[td]){s[td]=!0,n.forEach(function(p){p!=="selectionchange"&&(NM.has(p)||lv(p,!1,s),lv(p,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[td]||(c[td]=!0,lv("selectionchange",!1,c))}}function dj(s,c,p,g){switch(Dw(c)){case 1:var C=$5;break;case 4:C=U5;break;default:C=Kh}p=C.bind(null,c,p,s),C=void 0,!en||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(C=!0),g?C!==void 0?s.addEventListener(c,p,{capture:!0,passive:C}):s.addEventListener(c,p,!0):C!==void 0?s.addEventListener(c,p,{passive:C}):s.addEventListener(c,p,!1)}function cv(s,c,p,g,C){var P=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var D=g.tag;if(D===3||D===4){var V=g.stateNode.containerInfo;if(V===C||V.nodeType===8&&V.parentNode===C)break;if(D===4)for(D=g.return;D!==null;){var X=D.tag;if((X===3||X===4)&&(X=D.stateNode.containerInfo,X===C||X.nodeType===8&&X.parentNode===C))return;D=D.return}for(;V!==null;){if(D=Vi(V),D===null)return;if(X=D.tag,X===5||X===6){g=P=D;continue e}V=V.parentNode}}g=g.return}et(function(){var le=P,xe=de(p),be=[];e:{var ye=sj.get(s);if(ye!==void 0){var Ce=qh,Pe=s;switch(s){case"keypress":if(Zu(p)===0)break e;case"keydown":case"keyup":Ce=aM;break;case"focusin":Pe="focus",Ce=Yh;break;case"focusout":Pe="blur",Ce=Yh;break;case"beforeblur":case"afterblur":Ce=Yh;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Mw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=G5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=sM;break;case nj:case aj:case ij:Ce=Z5;break;case oj:Ce=cM;break;case"scroll":Ce=H5;break;case"wheel":Ce=dM;break;case"copy":case"cut":case"paste":Ce=Y5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=Bw}var Ee=(c&4)!==0,Zt=!Ee&&s==="scroll",ne=Ee?ye!==null?ye+"Capture":null:ye;Ee=[];for(var J=le,ie;J!==null;){ie=J;var we=ie.stateNode;if(ie.tag===5&&we!==null&&(ie=we,ne!==null&&(we=Ve(J,ne),we!=null&&Ee.push(ql(J,we,ie)))),Zt)break;J=J.return}0<Ee.length&&(ye=new Ce(ye,Pe,null,p,xe),be.push({event:ye,listeners:Ee}))}}if((c&7)===0){e:{if(ye=s==="mouseover"||s==="pointerover",Ce=s==="mouseout"||s==="pointerout",ye&&p!==ke&&(Pe=p.relatedTarget||p.fromElement)&&(Vi(Pe)||Pe[xa]))break e;if((Ce||ye)&&(ye=xe.window===xe?xe:(ye=xe.ownerDocument)?ye.defaultView||ye.parentWindow:window,Ce?(Pe=p.relatedTarget||p.toElement,Ce=le,Pe=Pe?Vi(Pe):null,Pe!==null&&(Zt=Gi(Pe),Pe!==Zt||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(Ce=null,Pe=le),Ce!==Pe)){if(Ee=Mw,we="onMouseLeave",ne="onMouseEnter",J="mouse",(s==="pointerout"||s==="pointerover")&&(Ee=Bw,we="onPointerLeave",ne="onPointerEnter",J="pointer"),Zt=Ce==null?ye:Go(Ce),ie=Pe==null?ye:Go(Pe),ye=new Ee(we,J+"leave",Ce,p,xe),ye.target=Zt,ye.relatedTarget=ie,we=null,Vi(xe)===le&&(Ee=new Ee(ne,J+"enter",Pe,p,xe),Ee.target=ie,Ee.relatedTarget=Zt,we=Ee),Zt=we,Ce&&Pe)t:{for(Ee=Ce,ne=Pe,J=0,ie=Ee;ie;ie=Ho(ie))J++;for(ie=0,we=ne;we;we=Ho(we))ie++;for(;0<J-ie;)Ee=Ho(Ee),J--;for(;0<ie-J;)ne=Ho(ne),ie--;for(;J--;){if(Ee===ne||ne!==null&&Ee===ne.alternate)break t;Ee=Ho(Ee),ne=Ho(ne)}Ee=null}else Ee=null;Ce!==null&&fj(be,ye,Ce,Ee,!1),Pe!==null&&Zt!==null&&fj(be,Zt,Pe,Ee,!0)}}e:{if(ye=le?Go(le):window,Ce=ye.nodeName&&ye.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&ye.type==="file")var Re=yM;else if(Kw(ye))if(Vw)Re=wM;else{Re=bM;var Le=xM}else(Ce=ye.nodeName)&&Ce.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(Re=SM);if(Re&&(Re=Re(s,le))){Gw(be,Re,p,xe);break e}Le&&Le(s,ye,le),s==="focusout"&&(Le=ye._wrapperState)&&Le.controlled&&ye.type==="number"&&ct(ye,"number",ye.value)}switch(Le=le?Go(le):window,s){case"focusin":(Kw(Le)||Le.contentEditable==="true")&&($o=Le,nv=le,Kl=null);break;case"focusout":Kl=nv=$o=null;break;case"mousedown":av=!0;break;case"contextmenu":case"mouseup":case"dragend":av=!1,tj(be,p,xe);break;case"selectionchange":if(CM)break;case"keydown":case"keyup":tj(be,p,xe)}var Be;if(Jh)e:{switch(s){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Wo?Uw(s,p)&&(Ue="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(Ue="onCompositionStart");Ue&&(Fw&&p.locale!=="ko"&&(Wo||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Wo&&(Be=Rw()):(ai=xe,Vh="value"in ai?ai.value:ai.textContent,Wo=!0)),Le=rd(le,Ue),0<Le.length&&(Ue=new Lw(Ue,s,null,p,xe),be.push({event:Ue,listeners:Le}),Be?Ue.data=Be:(Be=Hw(p),Be!==null&&(Ue.data=Be)))),(Be=pM?hM(s,p):vM(s,p))&&(le=rd(le,"onBeforeInput"),0<le.length&&(xe=new Lw("onBeforeInput","beforeinput",null,p,xe),be.push({event:xe,listeners:le}),xe.data=Be))}uj(be,c)})}function ql(s,c,p){return{instance:s,listener:c,currentTarget:p}}function rd(s,c){for(var p=c+"Capture",g=[];s!==null;){var C=s,P=C.stateNode;C.tag===5&&P!==null&&(C=P,P=Ve(s,p),P!=null&&g.unshift(ql(s,P,C)),P=Ve(s,c),P!=null&&g.push(ql(s,P,C))),s=s.return}return g}function Ho(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function fj(s,c,p,g,C){for(var P=c._reactName,D=[];p!==null&&p!==g;){var V=p,X=V.alternate,le=V.stateNode;if(X!==null&&X===g)break;V.tag===5&&le!==null&&(V=le,C?(X=Ve(p,P),X!=null&&D.unshift(ql(p,X,V))):C||(X=Ve(p,P),X!=null&&D.push(ql(p,X,V)))),p=p.return}D.length!==0&&s.push({event:c,listeners:D})}var PM=/\r\n?/g,_M=/\u0000|\uFFFD/g;function pj(s){return(typeof s=="string"?s:""+s).replace(PM,`
`).replace(_M,"")}function nd(s,c,p){if(c=pj(c),pj(s)!==c&&p)throw Error(r(425))}function ad(){}var uv=null,dv=null;function fv(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var pv=typeof setTimeout=="function"?setTimeout:void 0,OM=typeof clearTimeout=="function"?clearTimeout:void 0,hj=typeof Promise=="function"?Promise:void 0,EM=typeof queueMicrotask=="function"?queueMicrotask:typeof hj<"u"?function(s){return hj.resolve(null).then(s).catch(TM)}:pv;function TM(s){setTimeout(function(){throw s})}function hv(s,c){var p=c,g=0;do{var C=p.nextSibling;if(s.removeChild(p),C&&C.nodeType===8)if(p=C.data,p==="/$"){if(g===0){s.removeChild(C),Ll(c);return}g--}else p!=="$"&&p!=="$?"&&p!=="$!"||g++;p=C}while(p);Ll(c)}function oi(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return s}function vj(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return s;c--}else p==="/$"&&c++}s=s.previousSibling}return null}var Ko=Math.random().toString(36).slice(2),Jn="__reactFiber$"+Ko,Zl="__reactProps$"+Ko,xa="__reactContainer$"+Ko,vv="__reactEvents$"+Ko,DM="__reactListeners$"+Ko,RM="__reactHandles$"+Ko;function Vi(s){var c=s[Jn];if(c)return c;for(var p=s.parentNode;p;){if(c=p[xa]||p[Jn]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(s=vj(s);s!==null;){if(p=s[Jn])return p;s=vj(s)}return c}s=p,p=s.parentNode}return null}function Xl(s){return s=s[Jn]||s[xa],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Go(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function id(s){return s[Zl]||null}var mv=[],Vo=-1;function si(s){return{current:s}}function Pt(s){0>Vo||(s.current=mv[Vo],mv[Vo]=null,Vo--)}function jt(s,c){Vo++,mv[Vo]=s.current,s.current=c}var li={},wr=si(li),$r=si(!1),qi=li;function qo(s,c){var p=s.type.contextTypes;if(!p)return li;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===c)return g.__reactInternalMemoizedMaskedChildContext;var C={},P;for(P in p)C[P]=c[P];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=c,s.__reactInternalMemoizedMaskedChildContext=C),C}function Ur(s){return s=s.childContextTypes,s!=null}function od(){Pt($r),Pt(wr)}function mj(s,c,p){if(wr.current!==li)throw Error(r(168));jt(wr,c),jt($r,p)}function gj(s,c,p){var g=s.stateNode;if(c=c.childContextTypes,typeof g.getChildContext!="function")return p;g=g.getChildContext();for(var C in g)if(!(C in c))throw Error(r(108,ae(s)||"Unknown",C));return Q({},p,g)}function sd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||li,qi=wr.current,jt(wr,s),jt($r,$r.current),!0}function yj(s,c,p){var g=s.stateNode;if(!g)throw Error(r(169));p?(s=gj(s,c,qi),g.__reactInternalMemoizedMergedChildContext=s,Pt($r),Pt(wr),jt(wr,s)):Pt($r),jt($r,p)}var ba=null,ld=!1,gv=!1;function xj(s){ba===null?ba=[s]:ba.push(s)}function IM(s){ld=!0,xj(s)}function ci(){if(!gv&&ba!==null){gv=!0;var s=0,c=mt;try{var p=ba;for(mt=1;s<p.length;s++){var g=p[s];do g=g(!0);while(g!==null)}ba=null,ld=!1}catch(C){throw ba!==null&&(ba=ba.slice(s+1)),Sw(Bh,ci),C}finally{mt=c,gv=!1}}return null}var Zo=[],Xo=0,cd=null,ud=0,gn=[],yn=0,Zi=null,Sa=1,wa="";function Xi(s,c){Zo[Xo++]=ud,Zo[Xo++]=cd,cd=s,ud=c}function bj(s,c,p){gn[yn++]=Sa,gn[yn++]=wa,gn[yn++]=Zi,Zi=s;var g=Sa;s=wa;var C=32-En(g)-1;g&=~(1<<C),p+=1;var P=32-En(c)+C;if(30<P){var D=C-C%5;P=(g&(1<<D)-1).toString(32),g>>=D,C-=D,Sa=1<<32-En(c)+C|p<<C|g,wa=P+s}else Sa=1<<P|p<<C|g,wa=s}function yv(s){s.return!==null&&(Xi(s,1),bj(s,1,0))}function xv(s){for(;s===cd;)cd=Zo[--Xo],Zo[Xo]=null,ud=Zo[--Xo],Zo[Xo]=null;for(;s===Zi;)Zi=gn[--yn],gn[yn]=null,wa=gn[--yn],gn[yn]=null,Sa=gn[--yn],gn[yn]=null}var rn=null,nn=null,Dt=!1,Dn=null;function Sj(s,c){var p=wn(5,null,null,0);p.elementType="DELETED",p.stateNode=c,p.return=s,c=s.deletions,c===null?(s.deletions=[p],s.flags|=16):c.push(p)}function wj(s,c){switch(s.tag){case 5:var p=s.type;return c=c.nodeType!==1||p.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(s.stateNode=c,rn=s,nn=oi(c.firstChild),!0):!1;case 6:return c=s.pendingProps===""||c.nodeType!==3?null:c,c!==null?(s.stateNode=c,rn=s,nn=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(p=Zi!==null?{id:Sa,overflow:wa}:null,s.memoizedState={dehydrated:c,treeContext:p,retryLane:1073741824},p=wn(18,null,null,0),p.stateNode=c,p.return=s,s.child=p,rn=s,nn=null,!0):!1;default:return!1}}function bv(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Sv(s){if(Dt){var c=nn;if(c){var p=c;if(!wj(s,c)){if(bv(s))throw Error(r(418));c=oi(p.nextSibling);var g=rn;c&&wj(s,c)?Sj(g,p):(s.flags=s.flags&-4097|2,Dt=!1,rn=s)}}else{if(bv(s))throw Error(r(418));s.flags=s.flags&-4097|2,Dt=!1,rn=s}}}function jj(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;rn=s}function dd(s){if(s!==rn)return!1;if(!Dt)return jj(s),Dt=!0,!1;var c;if((c=s.tag!==3)&&!(c=s.tag!==5)&&(c=s.type,c=c!=="head"&&c!=="body"&&!fv(s.type,s.memoizedProps)),c&&(c=nn)){if(bv(s))throw kj(),Error(r(418));for(;c;)Sj(s,c),c=oi(c.nextSibling)}if(jj(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,c=0;s;){if(s.nodeType===8){var p=s.data;if(p==="/$"){if(c===0){nn=oi(s.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++}s=s.nextSibling}nn=null}}else nn=rn?oi(s.stateNode.nextSibling):null;return!0}function kj(){for(var s=nn;s;)s=oi(s.nextSibling)}function Yo(){nn=rn=null,Dt=!1}function wv(s){Dn===null?Dn=[s]:Dn.push(s)}var MM=N.ReactCurrentBatchConfig;function Yl(s,c,p){if(s=p.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(r(309));var g=p.stateNode}if(!g)throw Error(r(147,s));var C=g,P=""+s;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===P?c.ref:(c=function(D){var V=C.refs;D===null?delete V[P]:V[P]=D},c._stringRef=P,c)}if(typeof s!="string")throw Error(r(284));if(!p._owner)throw Error(r(290,s))}return s}function fd(s,c){throw s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s))}function Cj(s){var c=s._init;return c(s._payload)}function zj(s){function c(ne,J){if(s){var ie=ne.deletions;ie===null?(ne.deletions=[J],ne.flags|=16):ie.push(J)}}function p(ne,J){if(!s)return null;for(;J!==null;)c(ne,J),J=J.sibling;return null}function g(ne,J){for(ne=new Map;J!==null;)J.key!==null?ne.set(J.key,J):ne.set(J.index,J),J=J.sibling;return ne}function C(ne,J){return ne=gi(ne,J),ne.index=0,ne.sibling=null,ne}function P(ne,J,ie){return ne.index=ie,s?(ie=ne.alternate,ie!==null?(ie=ie.index,ie<J?(ne.flags|=2,J):ie):(ne.flags|=2,J)):(ne.flags|=1048576,J)}function D(ne){return s&&ne.alternate===null&&(ne.flags|=2),ne}function V(ne,J,ie,we){return J===null||J.tag!==6?(J=pm(ie,ne.mode,we),J.return=ne,J):(J=C(J,ie),J.return=ne,J)}function X(ne,J,ie,we){var Re=ie.type;return Re===_?xe(ne,J,ie.props.children,we,ie.key):J!==null&&(J.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Z&&Cj(Re)===J.type)?(we=C(J,ie.props),we.ref=Yl(ne,J,ie),we.return=ne,we):(we=Id(ie.type,ie.key,ie.props,null,ne.mode,we),we.ref=Yl(ne,J,ie),we.return=ne,we)}function le(ne,J,ie,we){return J===null||J.tag!==4||J.stateNode.containerInfo!==ie.containerInfo||J.stateNode.implementation!==ie.implementation?(J=hm(ie,ne.mode,we),J.return=ne,J):(J=C(J,ie.children||[]),J.return=ne,J)}function xe(ne,J,ie,we,Re){return J===null||J.tag!==7?(J=ao(ie,ne.mode,we,Re),J.return=ne,J):(J=C(J,ie),J.return=ne,J)}function be(ne,J,ie){if(typeof J=="string"&&J!==""||typeof J=="number")return J=pm(""+J,ne.mode,ie),J.return=ne,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return ie=Id(J.type,J.key,J.props,null,ne.mode,ie),ie.ref=Yl(ne,null,J),ie.return=ne,ie;case O:return J=hm(J,ne.mode,ie),J.return=ne,J;case Z:var we=J._init;return be(ne,we(J._payload),ie)}if(it(J)||F(J))return J=ao(J,ne.mode,ie,null),J.return=ne,J;fd(ne,J)}return null}function ye(ne,J,ie,we){var Re=J!==null?J.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Re!==null?null:V(ne,J,""+ie,we);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case A:return ie.key===Re?X(ne,J,ie,we):null;case O:return ie.key===Re?le(ne,J,ie,we):null;case Z:return Re=ie._init,ye(ne,J,Re(ie._payload),we)}if(it(ie)||F(ie))return Re!==null?null:xe(ne,J,ie,we,null);fd(ne,ie)}return null}function Ce(ne,J,ie,we,Re){if(typeof we=="string"&&we!==""||typeof we=="number")return ne=ne.get(ie)||null,V(J,ne,""+we,Re);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case A:return ne=ne.get(we.key===null?ie:we.key)||null,X(J,ne,we,Re);case O:return ne=ne.get(we.key===null?ie:we.key)||null,le(J,ne,we,Re);case Z:var Le=we._init;return Ce(ne,J,ie,Le(we._payload),Re)}if(it(we)||F(we))return ne=ne.get(ie)||null,xe(J,ne,we,Re,null);fd(J,we)}return null}function Pe(ne,J,ie,we){for(var Re=null,Le=null,Be=J,Ue=J=0,pr=null;Be!==null&&Ue<ie.length;Ue++){Be.index>Ue?(pr=Be,Be=null):pr=Be.sibling;var ot=ye(ne,Be,ie[Ue],we);if(ot===null){Be===null&&(Be=pr);break}s&&Be&&ot.alternate===null&&c(ne,Be),J=P(ot,J,Ue),Le===null?Re=ot:Le.sibling=ot,Le=ot,Be=pr}if(Ue===ie.length)return p(ne,Be),Dt&&Xi(ne,Ue),Re;if(Be===null){for(;Ue<ie.length;Ue++)Be=be(ne,ie[Ue],we),Be!==null&&(J=P(Be,J,Ue),Le===null?Re=Be:Le.sibling=Be,Le=Be);return Dt&&Xi(ne,Ue),Re}for(Be=g(ne,Be);Ue<ie.length;Ue++)pr=Ce(Be,ne,Ue,ie[Ue],we),pr!==null&&(s&&pr.alternate!==null&&Be.delete(pr.key===null?Ue:pr.key),J=P(pr,J,Ue),Le===null?Re=pr:Le.sibling=pr,Le=pr);return s&&Be.forEach(function(yi){return c(ne,yi)}),Dt&&Xi(ne,Ue),Re}function Ee(ne,J,ie,we){var Re=F(ie);if(typeof Re!="function")throw Error(r(150));if(ie=Re.call(ie),ie==null)throw Error(r(151));for(var Le=Re=null,Be=J,Ue=J=0,pr=null,ot=ie.next();Be!==null&&!ot.done;Ue++,ot=ie.next()){Be.index>Ue?(pr=Be,Be=null):pr=Be.sibling;var yi=ye(ne,Be,ot.value,we);if(yi===null){Be===null&&(Be=pr);break}s&&Be&&yi.alternate===null&&c(ne,Be),J=P(yi,J,Ue),Le===null?Re=yi:Le.sibling=yi,Le=yi,Be=pr}if(ot.done)return p(ne,Be),Dt&&Xi(ne,Ue),Re;if(Be===null){for(;!ot.done;Ue++,ot=ie.next())ot=be(ne,ot.value,we),ot!==null&&(J=P(ot,J,Ue),Le===null?Re=ot:Le.sibling=ot,Le=ot);return Dt&&Xi(ne,Ue),Re}for(Be=g(ne,Be);!ot.done;Ue++,ot=ie.next())ot=Ce(Be,ne,Ue,ot.value,we),ot!==null&&(s&&ot.alternate!==null&&Be.delete(ot.key===null?Ue:ot.key),J=P(ot,J,Ue),Le===null?Re=ot:Le.sibling=ot,Le=ot);return s&&Be.forEach(function(m4){return c(ne,m4)}),Dt&&Xi(ne,Ue),Re}function Zt(ne,J,ie,we){if(typeof ie=="object"&&ie!==null&&ie.type===_&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case A:e:{for(var Re=ie.key,Le=J;Le!==null;){if(Le.key===Re){if(Re=ie.type,Re===_){if(Le.tag===7){p(ne,Le.sibling),J=C(Le,ie.props.children),J.return=ne,ne=J;break e}}else if(Le.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Z&&Cj(Re)===Le.type){p(ne,Le.sibling),J=C(Le,ie.props),J.ref=Yl(ne,Le,ie),J.return=ne,ne=J;break e}p(ne,Le);break}else c(ne,Le);Le=Le.sibling}ie.type===_?(J=ao(ie.props.children,ne.mode,we,ie.key),J.return=ne,ne=J):(we=Id(ie.type,ie.key,ie.props,null,ne.mode,we),we.ref=Yl(ne,J,ie),we.return=ne,ne=we)}return D(ne);case O:e:{for(Le=ie.key;J!==null;){if(J.key===Le)if(J.tag===4&&J.stateNode.containerInfo===ie.containerInfo&&J.stateNode.implementation===ie.implementation){p(ne,J.sibling),J=C(J,ie.children||[]),J.return=ne,ne=J;break e}else{p(ne,J);break}else c(ne,J);J=J.sibling}J=hm(ie,ne.mode,we),J.return=ne,ne=J}return D(ne);case Z:return Le=ie._init,Zt(ne,J,Le(ie._payload),we)}if(it(ie))return Pe(ne,J,ie,we);if(F(ie))return Ee(ne,J,ie,we);fd(ne,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,J!==null&&J.tag===6?(p(ne,J.sibling),J=C(J,ie),J.return=ne,ne=J):(p(ne,J),J=pm(ie,ne.mode,we),J.return=ne,ne=J),D(ne)):p(ne,J)}return Zt}var Qo=zj(!0),Aj=zj(!1),pd=si(null),hd=null,Jo=null,jv=null;function kv(){jv=Jo=hd=null}function Cv(s){var c=pd.current;Pt(pd),s._currentValue=c}function zv(s,c,p){for(;s!==null;){var g=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),s===p)break;s=s.return}}function es(s,c){hd=s,jv=Jo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&c)!==0&&(Hr=!0),s.firstContext=null)}function xn(s){var c=s._currentValue;if(jv!==s)if(s={context:s,memoizedValue:c,next:null},Jo===null){if(hd===null)throw Error(r(308));Jo=s,hd.dependencies={lanes:0,firstContext:s}}else Jo=Jo.next=s;return c}var Yi=null;function Av(s){Yi===null?Yi=[s]:Yi.push(s)}function Nj(s,c,p,g){var C=c.interleaved;return C===null?(p.next=p,Av(c)):(p.next=C.next,C.next=p),c.interleaved=p,ja(s,g)}function ja(s,c){s.lanes|=c;var p=s.alternate;for(p!==null&&(p.lanes|=c),p=s,s=s.return;s!==null;)s.childLanes|=c,p=s.alternate,p!==null&&(p.childLanes|=c),p=s,s=s.return;return p.tag===3?p.stateNode:null}var ui=!1;function Nv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pj(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ka(s,c){return{eventTime:s,lane:c,tag:0,payload:null,callback:null,next:null}}function di(s,c,p){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(at&2)!==0){var C=g.pending;return C===null?c.next=c:(c.next=C.next,C.next=c),g.pending=c,ja(s,p)}return C=g.interleaved,C===null?(c.next=c,Av(g)):(c.next=C.next,C.next=c),g.interleaved=c,ja(s,p)}function vd(s,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194240)!==0)){var g=c.lanes;g&=s.pendingLanes,p|=g,c.lanes=p,$h(s,p)}}function _j(s,c){var p=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,p===g)){var C=null,P=null;if(p=p.firstBaseUpdate,p!==null){do{var D={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};P===null?C=P=D:P=P.next=D,p=p.next}while(p!==null);P===null?C=P=c:P=P.next=c}else C=P=c;p={baseState:g.baseState,firstBaseUpdate:C,lastBaseUpdate:P,shared:g.shared,effects:g.effects},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=c:s.next=c,p.lastBaseUpdate=c}function md(s,c,p,g){var C=s.updateQueue;ui=!1;var P=C.firstBaseUpdate,D=C.lastBaseUpdate,V=C.shared.pending;if(V!==null){C.shared.pending=null;var X=V,le=X.next;X.next=null,D===null?P=le:D.next=le,D=X;var xe=s.alternate;xe!==null&&(xe=xe.updateQueue,V=xe.lastBaseUpdate,V!==D&&(V===null?xe.firstBaseUpdate=le:V.next=le,xe.lastBaseUpdate=X))}if(P!==null){var be=C.baseState;D=0,xe=le=X=null,V=P;do{var ye=V.lane,Ce=V.eventTime;if((g&ye)===ye){xe!==null&&(xe=xe.next={eventTime:Ce,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var Pe=s,Ee=V;switch(ye=c,Ce=p,Ee.tag){case 1:if(Pe=Ee.payload,typeof Pe=="function"){be=Pe.call(Ce,be,ye);break e}be=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ee.payload,ye=typeof Pe=="function"?Pe.call(Ce,be,ye):Pe,ye==null)break e;be=Q({},be,ye);break e;case 2:ui=!0}}V.callback!==null&&V.lane!==0&&(s.flags|=64,ye=C.effects,ye===null?C.effects=[V]:ye.push(V))}else Ce={eventTime:Ce,lane:ye,tag:V.tag,payload:V.payload,callback:V.callback,next:null},xe===null?(le=xe=Ce,X=be):xe=xe.next=Ce,D|=ye;if(V=V.next,V===null){if(V=C.shared.pending,V===null)break;ye=V,V=ye.next,ye.next=null,C.lastBaseUpdate=ye,C.shared.pending=null}}while(!0);if(xe===null&&(X=be),C.baseState=X,C.firstBaseUpdate=le,C.lastBaseUpdate=xe,c=C.shared.interleaved,c!==null){C=c;do D|=C.lane,C=C.next;while(C!==c)}else P===null&&(C.shared.lanes=0);eo|=D,s.lanes=D,s.memoizedState=be}}function Oj(s,c,p){if(s=c.effects,c.effects=null,s!==null)for(c=0;c<s.length;c++){var g=s[c],C=g.callback;if(C!==null){if(g.callback=null,g=p,typeof C!="function")throw Error(r(191,C));C.call(g)}}}var Ql={},ea=si(Ql),Jl=si(Ql),ec=si(Ql);function Qi(s){if(s===Ql)throw Error(r(174));return s}function Pv(s,c){switch(jt(ec,c),jt(Jl,s),jt(ea,Ql),s=c.nodeType,s){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:nt(null,"");break;default:s=s===8?c.parentNode:c,c=s.namespaceURI||null,s=s.tagName,c=nt(c,s)}Pt(ea),jt(ea,c)}function ts(){Pt(ea),Pt(Jl),Pt(ec)}function Ej(s){Qi(ec.current);var c=Qi(ea.current),p=nt(c,s.type);c!==p&&(jt(Jl,s),jt(ea,p))}function _v(s){Jl.current===s&&(Pt(ea),Pt(Jl))}var Lt=si(0);function gd(s){for(var c=s;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Ov=[];function Ev(){for(var s=0;s<Ov.length;s++)Ov[s]._workInProgressVersionPrimary=null;Ov.length=0}var yd=N.ReactCurrentDispatcher,Tv=N.ReactCurrentBatchConfig,Ji=0,Bt=null,ar=null,dr=null,xd=!1,tc=!1,rc=0,LM=0;function jr(){throw Error(r(321))}function Dv(s,c){if(c===null)return!1;for(var p=0;p<c.length&&p<s.length;p++)if(!Tn(s[p],c[p]))return!1;return!0}function Rv(s,c,p,g,C,P){if(Ji=P,Bt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,yd.current=s===null||s.memoizedState===null?$M:UM,s=p(g,C),tc){P=0;do{if(tc=!1,rc=0,25<=P)throw Error(r(301));P+=1,dr=ar=null,c.updateQueue=null,yd.current=HM,s=p(g,C)}while(tc)}if(yd.current=wd,c=ar!==null&&ar.next!==null,Ji=0,dr=ar=Bt=null,xd=!1,c)throw Error(r(300));return s}function Iv(){var s=rc!==0;return rc=0,s}function ta(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Bt.memoizedState=dr=s:dr=dr.next=s,dr}function bn(){if(ar===null){var s=Bt.alternate;s=s!==null?s.memoizedState:null}else s=ar.next;var c=dr===null?Bt.memoizedState:dr.next;if(c!==null)dr=c,ar=s;else{if(s===null)throw Error(r(310));ar=s,s={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},dr===null?Bt.memoizedState=dr=s:dr=dr.next=s}return dr}function nc(s,c){return typeof c=="function"?c(s):c}function Mv(s){var c=bn(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=s;var g=ar,C=g.baseQueue,P=p.pending;if(P!==null){if(C!==null){var D=C.next;C.next=P.next,P.next=D}g.baseQueue=C=P,p.pending=null}if(C!==null){P=C.next,g=g.baseState;var V=D=null,X=null,le=P;do{var xe=le.lane;if((Ji&xe)===xe)X!==null&&(X=X.next={lane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),g=le.hasEagerState?le.eagerState:s(g,le.action);else{var be={lane:xe,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null};X===null?(V=X=be,D=g):X=X.next=be,Bt.lanes|=xe,eo|=xe}le=le.next}while(le!==null&&le!==P);X===null?D=g:X.next=V,Tn(g,c.memoizedState)||(Hr=!0),c.memoizedState=g,c.baseState=D,c.baseQueue=X,p.lastRenderedState=g}if(s=p.interleaved,s!==null){C=s;do P=C.lane,Bt.lanes|=P,eo|=P,C=C.next;while(C!==s)}else C===null&&(p.lanes=0);return[c.memoizedState,p.dispatch]}function Lv(s){var c=bn(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=s;var g=p.dispatch,C=p.pending,P=c.memoizedState;if(C!==null){p.pending=null;var D=C=C.next;do P=s(P,D.action),D=D.next;while(D!==C);Tn(P,c.memoizedState)||(Hr=!0),c.memoizedState=P,c.baseQueue===null&&(c.baseState=P),p.lastRenderedState=P}return[P,g]}function Tj(){}function Dj(s,c){var p=Bt,g=bn(),C=c(),P=!Tn(g.memoizedState,C);if(P&&(g.memoizedState=C,Hr=!0),g=g.queue,Bv(Mj.bind(null,p,g,s),[s]),g.getSnapshot!==c||P||dr!==null&&dr.memoizedState.tag&1){if(p.flags|=2048,ac(9,Ij.bind(null,p,g,C,c),void 0,null),fr===null)throw Error(r(349));(Ji&30)!==0||Rj(p,c,C)}return C}function Rj(s,c,p){s.flags|=16384,s={getSnapshot:c,value:p},c=Bt.updateQueue,c===null?(c={lastEffect:null,stores:null},Bt.updateQueue=c,c.stores=[s]):(p=c.stores,p===null?c.stores=[s]:p.push(s))}function Ij(s,c,p,g){c.value=p,c.getSnapshot=g,Lj(c)&&Bj(s)}function Mj(s,c,p){return p(function(){Lj(c)&&Bj(s)})}function Lj(s){var c=s.getSnapshot;s=s.value;try{var p=c();return!Tn(s,p)}catch{return!0}}function Bj(s){var c=ja(s,1);c!==null&&Ln(c,s,1,-1)}function Fj(s){var c=ta();return typeof s=="function"&&(s=s()),c.memoizedState=c.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nc,lastRenderedState:s},c.queue=s,s=s.dispatch=WM.bind(null,Bt,s),[c.memoizedState,s]}function ac(s,c,p,g){return s={tag:s,create:c,destroy:p,deps:g,next:null},c=Bt.updateQueue,c===null?(c={lastEffect:null,stores:null},Bt.updateQueue=c,c.lastEffect=s.next=s):(p=c.lastEffect,p===null?c.lastEffect=s.next=s:(g=p.next,p.next=s,s.next=g,c.lastEffect=s)),s}function Wj(){return bn().memoizedState}function bd(s,c,p,g){var C=ta();Bt.flags|=s,C.memoizedState=ac(1|c,p,void 0,g===void 0?null:g)}function Sd(s,c,p,g){var C=bn();g=g===void 0?null:g;var P=void 0;if(ar!==null){var D=ar.memoizedState;if(P=D.destroy,g!==null&&Dv(g,D.deps)){C.memoizedState=ac(c,p,P,g);return}}Bt.flags|=s,C.memoizedState=ac(1|c,p,P,g)}function $j(s,c){return bd(8390656,8,s,c)}function Bv(s,c){return Sd(2048,8,s,c)}function Uj(s,c){return Sd(4,2,s,c)}function Hj(s,c){return Sd(4,4,s,c)}function Kj(s,c){if(typeof c=="function")return s=s(),c(s),function(){c(null)};if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function Gj(s,c,p){return p=p!=null?p.concat([s]):null,Sd(4,4,Kj.bind(null,c,s),p)}function Fv(){}function Vj(s,c){var p=bn();c=c===void 0?null:c;var g=p.memoizedState;return g!==null&&c!==null&&Dv(c,g[1])?g[0]:(p.memoizedState=[s,c],s)}function qj(s,c){var p=bn();c=c===void 0?null:c;var g=p.memoizedState;return g!==null&&c!==null&&Dv(c,g[1])?g[0]:(s=s(),p.memoizedState=[s,c],s)}function Zj(s,c,p){return(Ji&21)===0?(s.baseState&&(s.baseState=!1,Hr=!0),s.memoizedState=p):(Tn(p,c)||(p=Cw(),Bt.lanes|=p,eo|=p,s.baseState=!0),c)}function BM(s,c){var p=mt;mt=p!==0&&4>p?p:4,s(!0);var g=Tv.transition;Tv.transition={};try{s(!1),c()}finally{mt=p,Tv.transition=g}}function Xj(){return bn().memoizedState}function FM(s,c,p){var g=vi(s);if(p={lane:g,action:p,hasEagerState:!1,eagerState:null,next:null},Yj(s))Qj(c,p);else if(p=Nj(s,c,p,g),p!==null){var C=Dr();Ln(p,s,g,C),Jj(p,c,g)}}function WM(s,c,p){var g=vi(s),C={lane:g,action:p,hasEagerState:!1,eagerState:null,next:null};if(Yj(s))Qj(c,C);else{var P=s.alternate;if(s.lanes===0&&(P===null||P.lanes===0)&&(P=c.lastRenderedReducer,P!==null))try{var D=c.lastRenderedState,V=P(D,p);if(C.hasEagerState=!0,C.eagerState=V,Tn(V,D)){var X=c.interleaved;X===null?(C.next=C,Av(c)):(C.next=X.next,X.next=C),c.interleaved=C;return}}catch{}finally{}p=Nj(s,c,C,g),p!==null&&(C=Dr(),Ln(p,s,g,C),Jj(p,c,g))}}function Yj(s){var c=s.alternate;return s===Bt||c!==null&&c===Bt}function Qj(s,c){tc=xd=!0;var p=s.pending;p===null?c.next=c:(c.next=p.next,p.next=c),s.pending=c}function Jj(s,c,p){if((p&4194240)!==0){var g=c.lanes;g&=s.pendingLanes,p|=g,c.lanes=p,$h(s,p)}}var wd={readContext:xn,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useInsertionEffect:jr,useLayoutEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useMutableSource:jr,useSyncExternalStore:jr,useId:jr,unstable_isNewReconciler:!1},$M={readContext:xn,useCallback:function(s,c){return ta().memoizedState=[s,c===void 0?null:c],s},useContext:xn,useEffect:$j,useImperativeHandle:function(s,c,p){return p=p!=null?p.concat([s]):null,bd(4194308,4,Kj.bind(null,c,s),p)},useLayoutEffect:function(s,c){return bd(4194308,4,s,c)},useInsertionEffect:function(s,c){return bd(4,2,s,c)},useMemo:function(s,c){var p=ta();return c=c===void 0?null:c,s=s(),p.memoizedState=[s,c],s},useReducer:function(s,c,p){var g=ta();return c=p!==void 0?p(c):c,g.memoizedState=g.baseState=c,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:c},g.queue=s,s=s.dispatch=FM.bind(null,Bt,s),[g.memoizedState,s]},useRef:function(s){var c=ta();return s={current:s},c.memoizedState=s},useState:Fj,useDebugValue:Fv,useDeferredValue:function(s){return ta().memoizedState=s},useTransition:function(){var s=Fj(!1),c=s[0];return s=BM.bind(null,s[1]),ta().memoizedState=s,[c,s]},useMutableSource:function(){},useSyncExternalStore:function(s,c,p){var g=Bt,C=ta();if(Dt){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),fr===null)throw Error(r(349));(Ji&30)!==0||Rj(g,c,p)}C.memoizedState=p;var P={value:p,getSnapshot:c};return C.queue=P,$j(Mj.bind(null,g,P,s),[s]),g.flags|=2048,ac(9,Ij.bind(null,g,P,p,c),void 0,null),p},useId:function(){var s=ta(),c=fr.identifierPrefix;if(Dt){var p=wa,g=Sa;p=(g&~(1<<32-En(g)-1)).toString(32)+p,c=":"+c+"R"+p,p=rc++,0<p&&(c+="H"+p.toString(32)),c+=":"}else p=LM++,c=":"+c+"r"+p.toString(32)+":";return s.memoizedState=c},unstable_isNewReconciler:!1},UM={readContext:xn,useCallback:Vj,useContext:xn,useEffect:Bv,useImperativeHandle:Gj,useInsertionEffect:Uj,useLayoutEffect:Hj,useMemo:qj,useReducer:Mv,useRef:Wj,useState:function(){return Mv(nc)},useDebugValue:Fv,useDeferredValue:function(s){var c=bn();return Zj(c,ar.memoizedState,s)},useTransition:function(){var s=Mv(nc)[0],c=bn().memoizedState;return[s,c]},useMutableSource:Tj,useSyncExternalStore:Dj,useId:Xj,unstable_isNewReconciler:!1},HM={readContext:xn,useCallback:Vj,useContext:xn,useEffect:Bv,useImperativeHandle:Gj,useInsertionEffect:Uj,useLayoutEffect:Hj,useMemo:qj,useReducer:Lv,useRef:Wj,useState:function(){return Lv(nc)},useDebugValue:Fv,useDeferredValue:function(s){var c=bn();return ar===null?c.memoizedState=s:Zj(c,ar.memoizedState,s)},useTransition:function(){var s=Lv(nc)[0],c=bn().memoizedState;return[s,c]},useMutableSource:Tj,useSyncExternalStore:Dj,useId:Xj,unstable_isNewReconciler:!1};function Rn(s,c){if(s&&s.defaultProps){c=Q({},c),s=s.defaultProps;for(var p in s)c[p]===void 0&&(c[p]=s[p]);return c}return c}function Wv(s,c,p,g){c=s.memoizedState,p=p(g,c),p=p==null?c:Q({},c,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var jd={isMounted:function(s){return(s=s._reactInternals)?Gi(s)===s:!1},enqueueSetState:function(s,c,p){s=s._reactInternals;var g=Dr(),C=vi(s),P=ka(g,C);P.payload=c,p!=null&&(P.callback=p),c=di(s,P,C),c!==null&&(Ln(c,s,C,g),vd(c,s,C))},enqueueReplaceState:function(s,c,p){s=s._reactInternals;var g=Dr(),C=vi(s),P=ka(g,C);P.tag=1,P.payload=c,p!=null&&(P.callback=p),c=di(s,P,C),c!==null&&(Ln(c,s,C,g),vd(c,s,C))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var p=Dr(),g=vi(s),C=ka(p,g);C.tag=2,c!=null&&(C.callback=c),c=di(s,C,g),c!==null&&(Ln(c,s,g,p),vd(c,s,g))}};function ek(s,c,p,g,C,P,D){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,P,D):c.prototype&&c.prototype.isPureReactComponent?!Hl(p,g)||!Hl(C,P):!0}function tk(s,c,p){var g=!1,C=li,P=c.contextType;return typeof P=="object"&&P!==null?P=xn(P):(C=Ur(c)?qi:wr.current,g=c.contextTypes,P=(g=g!=null)?qo(s,C):li),c=new c(p,P),s.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=jd,s.stateNode=c,c._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=C,s.__reactInternalMemoizedMaskedChildContext=P),c}function rk(s,c,p,g){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,g),c.state!==s&&jd.enqueueReplaceState(c,c.state,null)}function $v(s,c,p,g){var C=s.stateNode;C.props=p,C.state=s.memoizedState,C.refs={},Nv(s);var P=c.contextType;typeof P=="object"&&P!==null?C.context=xn(P):(P=Ur(c)?qi:wr.current,C.context=qo(s,P)),C.state=s.memoizedState,P=c.getDerivedStateFromProps,typeof P=="function"&&(Wv(s,c,P,p),C.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(c=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),c!==C.state&&jd.enqueueReplaceState(C,C.state,null),md(s,p,C,g),C.state=s.memoizedState),typeof C.componentDidMount=="function"&&(s.flags|=4194308)}function rs(s,c){try{var p="",g=c;do p+=he(g),g=g.return;while(g);var C=p}catch(P){C=`
Error generating stack: `+P.message+`
`+P.stack}return{value:s,source:c,stack:C,digest:null}}function Uv(s,c,p){return{value:s,source:null,stack:p??null,digest:c??null}}function Hv(s,c){try{console.error(c.value)}catch(p){setTimeout(function(){throw p})}}var KM=typeof WeakMap=="function"?WeakMap:Map;function nk(s,c,p){p=ka(-1,p),p.tag=3,p.payload={element:null};var g=c.value;return p.callback=function(){_d||(_d=!0,im=g),Hv(s,c)},p}function ak(s,c,p){p=ka(-1,p),p.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var C=c.value;p.payload=function(){return g(C)},p.callback=function(){Hv(s,c)}}var P=s.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(p.callback=function(){Hv(s,c),typeof g!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})}),p}function ik(s,c,p){var g=s.pingCache;if(g===null){g=s.pingCache=new KM;var C=new Set;g.set(c,C)}else C=g.get(c),C===void 0&&(C=new Set,g.set(c,C));C.has(p)||(C.add(p),s=i4.bind(null,s,c,p),c.then(s,s))}function ok(s){do{var c;if((c=s.tag===13)&&(c=s.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return s;s=s.return}while(s!==null);return null}function sk(s,c,p,g,C){return(s.mode&1)===0?(s===c?s.flags|=65536:(s.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(c=ka(-1,1),c.tag=2,di(p,c,1))),p.lanes|=1),s):(s.flags|=65536,s.lanes=C,s)}var GM=N.ReactCurrentOwner,Hr=!1;function Tr(s,c,p,g){c.child=s===null?Aj(c,null,p,g):Qo(c,s.child,p,g)}function lk(s,c,p,g,C){p=p.render;var P=c.ref;return es(c,C),g=Rv(s,c,p,g,P,C),p=Iv(),s!==null&&!Hr?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~C,Ca(s,c,C)):(Dt&&p&&yv(c),c.flags|=1,Tr(s,c,g,C),c.child)}function ck(s,c,p,g,C){if(s===null){var P=p.type;return typeof P=="function"&&!fm(P)&&P.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(c.tag=15,c.type=P,uk(s,c,P,g,C)):(s=Id(p.type,null,g,c,c.mode,C),s.ref=c.ref,s.return=c,c.child=s)}if(P=s.child,(s.lanes&C)===0){var D=P.memoizedProps;if(p=p.compare,p=p!==null?p:Hl,p(D,g)&&s.ref===c.ref)return Ca(s,c,C)}return c.flags|=1,s=gi(P,g),s.ref=c.ref,s.return=c,c.child=s}function uk(s,c,p,g,C){if(s!==null){var P=s.memoizedProps;if(Hl(P,g)&&s.ref===c.ref)if(Hr=!1,c.pendingProps=g=P,(s.lanes&C)!==0)(s.flags&131072)!==0&&(Hr=!0);else return c.lanes=s.lanes,Ca(s,c,C)}return Kv(s,c,p,g,C)}function dk(s,c,p){var g=c.pendingProps,C=g.children,P=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(as,an),an|=p;else{if((p&1073741824)===0)return s=P!==null?P.baseLanes|p:p,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:s,cachePool:null,transitions:null},c.updateQueue=null,jt(as,an),an|=s,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=P!==null?P.baseLanes:p,jt(as,an),an|=g}else P!==null?(g=P.baseLanes|p,c.memoizedState=null):g=p,jt(as,an),an|=g;return Tr(s,c,C,p),c.child}function fk(s,c){var p=c.ref;(s===null&&p!==null||s!==null&&s.ref!==p)&&(c.flags|=512,c.flags|=2097152)}function Kv(s,c,p,g,C){var P=Ur(p)?qi:wr.current;return P=qo(c,P),es(c,C),p=Rv(s,c,p,g,P,C),g=Iv(),s!==null&&!Hr?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~C,Ca(s,c,C)):(Dt&&g&&yv(c),c.flags|=1,Tr(s,c,p,C),c.child)}function pk(s,c,p,g,C){if(Ur(p)){var P=!0;sd(c)}else P=!1;if(es(c,C),c.stateNode===null)Cd(s,c),tk(c,p,g),$v(c,p,g,C),g=!0;else if(s===null){var D=c.stateNode,V=c.memoizedProps;D.props=V;var X=D.context,le=p.contextType;typeof le=="object"&&le!==null?le=xn(le):(le=Ur(p)?qi:wr.current,le=qo(c,le));var xe=p.getDerivedStateFromProps,be=typeof xe=="function"||typeof D.getSnapshotBeforeUpdate=="function";be||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(V!==g||X!==le)&&rk(c,D,g,le),ui=!1;var ye=c.memoizedState;D.state=ye,md(c,g,D,C),X=c.memoizedState,V!==g||ye!==X||$r.current||ui?(typeof xe=="function"&&(Wv(c,p,xe,g),X=c.memoizedState),(V=ui||ek(c,p,V,g,ye,X,le))?(be||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(c.flags|=4194308)):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=X),D.props=g,D.state=X,D.context=le,g=V):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{D=c.stateNode,Pj(s,c),V=c.memoizedProps,le=c.type===c.elementType?V:Rn(c.type,V),D.props=le,be=c.pendingProps,ye=D.context,X=p.contextType,typeof X=="object"&&X!==null?X=xn(X):(X=Ur(p)?qi:wr.current,X=qo(c,X));var Ce=p.getDerivedStateFromProps;(xe=typeof Ce=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(V!==be||ye!==X)&&rk(c,D,g,X),ui=!1,ye=c.memoizedState,D.state=ye,md(c,g,D,C);var Pe=c.memoizedState;V!==be||ye!==Pe||$r.current||ui?(typeof Ce=="function"&&(Wv(c,p,Ce,g),Pe=c.memoizedState),(le=ui||ek(c,p,le,g,ye,Pe,X)||!1)?(xe||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(g,Pe,X),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(g,Pe,X)),typeof D.componentDidUpdate=="function"&&(c.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof D.componentDidUpdate!="function"||V===s.memoizedProps&&ye===s.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&ye===s.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=Pe),D.props=g,D.state=Pe,D.context=X,g=le):(typeof D.componentDidUpdate!="function"||V===s.memoizedProps&&ye===s.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&ye===s.memoizedState||(c.flags|=1024),g=!1)}return Gv(s,c,p,g,P,C)}function Gv(s,c,p,g,C,P){fk(s,c);var D=(c.flags&128)!==0;if(!g&&!D)return C&&yj(c,p,!1),Ca(s,c,P);g=c.stateNode,GM.current=c;var V=D&&typeof p.getDerivedStateFromError!="function"?null:g.render();return c.flags|=1,s!==null&&D?(c.child=Qo(c,s.child,null,P),c.child=Qo(c,null,V,P)):Tr(s,c,V,P),c.memoizedState=g.state,C&&yj(c,p,!0),c.child}function hk(s){var c=s.stateNode;c.pendingContext?mj(s,c.pendingContext,c.pendingContext!==c.context):c.context&&mj(s,c.context,!1),Pv(s,c.containerInfo)}function vk(s,c,p,g,C){return Yo(),wv(C),c.flags|=256,Tr(s,c,p,g),c.child}var Vv={dehydrated:null,treeContext:null,retryLane:0};function qv(s){return{baseLanes:s,cachePool:null,transitions:null}}function mk(s,c,p){var g=c.pendingProps,C=Lt.current,P=!1,D=(c.flags&128)!==0,V;if((V=D)||(V=s!==null&&s.memoizedState===null?!1:(C&2)!==0),V?(P=!0,c.flags&=-129):(s===null||s.memoizedState!==null)&&(C|=1),jt(Lt,C&1),s===null)return Sv(c),s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((c.mode&1)===0?c.lanes=1:s.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(D=g.children,s=g.fallback,P?(g=c.mode,P=c.child,D={mode:"hidden",children:D},(g&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=D):P=Md(D,g,0,null),s=ao(s,g,p,null),P.return=c,s.return=c,P.sibling=s,c.child=P,c.child.memoizedState=qv(p),c.memoizedState=Vv,s):Zv(c,D));if(C=s.memoizedState,C!==null&&(V=C.dehydrated,V!==null))return VM(s,c,D,g,V,C,p);if(P){P=g.fallback,D=c.mode,C=s.child,V=C.sibling;var X={mode:"hidden",children:g.children};return(D&1)===0&&c.child!==C?(g=c.child,g.childLanes=0,g.pendingProps=X,c.deletions=null):(g=gi(C,X),g.subtreeFlags=C.subtreeFlags&14680064),V!==null?P=gi(V,P):(P=ao(P,D,p,null),P.flags|=2),P.return=c,g.return=c,g.sibling=P,c.child=g,g=P,P=c.child,D=s.child.memoizedState,D=D===null?qv(p):{baseLanes:D.baseLanes|p,cachePool:null,transitions:D.transitions},P.memoizedState=D,P.childLanes=s.childLanes&~p,c.memoizedState=Vv,g}return P=s.child,s=P.sibling,g=gi(P,{mode:"visible",children:g.children}),(c.mode&1)===0&&(g.lanes=p),g.return=c,g.sibling=null,s!==null&&(p=c.deletions,p===null?(c.deletions=[s],c.flags|=16):p.push(s)),c.child=g,c.memoizedState=null,g}function Zv(s,c){return c=Md({mode:"visible",children:c},s.mode,0,null),c.return=s,s.child=c}function kd(s,c,p,g){return g!==null&&wv(g),Qo(c,s.child,null,p),s=Zv(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function VM(s,c,p,g,C,P,D){if(p)return c.flags&256?(c.flags&=-257,g=Uv(Error(r(422))),kd(s,c,D,g)):c.memoizedState!==null?(c.child=s.child,c.flags|=128,null):(P=g.fallback,C=c.mode,g=Md({mode:"visible",children:g.children},C,0,null),P=ao(P,C,D,null),P.flags|=2,g.return=c,P.return=c,g.sibling=P,c.child=g,(c.mode&1)!==0&&Qo(c,s.child,null,D),c.child.memoizedState=qv(D),c.memoizedState=Vv,P);if((c.mode&1)===0)return kd(s,c,D,null);if(C.data==="$!"){if(g=C.nextSibling&&C.nextSibling.dataset,g)var V=g.dgst;return g=V,P=Error(r(419)),g=Uv(P,g,void 0),kd(s,c,D,g)}if(V=(D&s.childLanes)!==0,Hr||V){if(g=fr,g!==null){switch(D&-D){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(g.suspendedLanes|D))!==0?0:C,C!==0&&C!==P.retryLane&&(P.retryLane=C,ja(s,C),Ln(g,s,C,-1))}return dm(),g=Uv(Error(r(421))),kd(s,c,D,g)}return C.data==="$?"?(c.flags|=128,c.child=s.child,c=o4.bind(null,s),C._reactRetry=c,null):(s=P.treeContext,nn=oi(C.nextSibling),rn=c,Dt=!0,Dn=null,s!==null&&(gn[yn++]=Sa,gn[yn++]=wa,gn[yn++]=Zi,Sa=s.id,wa=s.overflow,Zi=c),c=Zv(c,g.children),c.flags|=4096,c)}function gk(s,c,p){s.lanes|=c;var g=s.alternate;g!==null&&(g.lanes|=c),zv(s.return,c,p)}function Xv(s,c,p,g,C){var P=s.memoizedState;P===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:p,tailMode:C}:(P.isBackwards=c,P.rendering=null,P.renderingStartTime=0,P.last=g,P.tail=p,P.tailMode=C)}function yk(s,c,p){var g=c.pendingProps,C=g.revealOrder,P=g.tail;if(Tr(s,c,g.children,p),g=Lt.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&gk(s,p,c);else if(s.tag===19)gk(s,p,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(jt(Lt,g),(c.mode&1)===0)c.memoizedState=null;else switch(C){case"forwards":for(p=c.child,C=null;p!==null;)s=p.alternate,s!==null&&gd(s)===null&&(C=p),p=p.sibling;p=C,p===null?(C=c.child,c.child=null):(C=p.sibling,p.sibling=null),Xv(c,!1,C,p,P);break;case"backwards":for(p=null,C=c.child,c.child=null;C!==null;){if(s=C.alternate,s!==null&&gd(s)===null){c.child=C;break}s=C.sibling,C.sibling=p,p=C,C=s}Xv(c,!0,p,null,P);break;case"together":Xv(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Cd(s,c){(c.mode&1)===0&&s!==null&&(s.alternate=null,c.alternate=null,c.flags|=2)}function Ca(s,c,p){if(s!==null&&(c.dependencies=s.dependencies),eo|=c.lanes,(p&c.childLanes)===0)return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,p=gi(s,s.pendingProps),c.child=p,p.return=c;s.sibling!==null;)s=s.sibling,p=p.sibling=gi(s,s.pendingProps),p.return=c;p.sibling=null}return c.child}function qM(s,c,p){switch(c.tag){case 3:hk(c),Yo();break;case 5:Ej(c);break;case 1:Ur(c.type)&&sd(c);break;case 4:Pv(c,c.stateNode.containerInfo);break;case 10:var g=c.type._context,C=c.memoizedProps.value;jt(pd,g._currentValue),g._currentValue=C;break;case 13:if(g=c.memoizedState,g!==null)return g.dehydrated!==null?(jt(Lt,Lt.current&1),c.flags|=128,null):(p&c.child.childLanes)!==0?mk(s,c,p):(jt(Lt,Lt.current&1),s=Ca(s,c,p),s!==null?s.sibling:null);jt(Lt,Lt.current&1);break;case 19:if(g=(p&c.childLanes)!==0,(s.flags&128)!==0){if(g)return yk(s,c,p);c.flags|=128}if(C=c.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),jt(Lt,Lt.current),g)break;return null;case 22:case 23:return c.lanes=0,dk(s,c,p)}return Ca(s,c,p)}var xk,Yv,bk,Sk;xk=function(s,c){for(var p=c.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Yv=function(){},bk=function(s,c,p,g){var C=s.memoizedProps;if(C!==g){s=c.stateNode,Qi(ea.current);var P=null;switch(p){case"input":C=Me(s,C),g=Me(s,g),P=[];break;case"select":C=Q({},C,{value:void 0}),g=Q({},g,{value:void 0}),P=[];break;case"textarea":C=nr(s,C),g=nr(s,g),P=[];break;default:typeof C.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=ad)}ya(p,g);var D;p=null;for(le in C)if(!g.hasOwnProperty(le)&&C.hasOwnProperty(le)&&C[le]!=null)if(le==="style"){var V=C[le];for(D in V)V.hasOwnProperty(D)&&(p||(p={}),p[D]="")}else le!=="dangerouslySetInnerHTML"&&le!=="children"&&le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&le!=="autoFocus"&&(i.hasOwnProperty(le)?P||(P=[]):(P=P||[]).push(le,null));for(le in g){var X=g[le];if(V=C?.[le],g.hasOwnProperty(le)&&X!==V&&(X!=null||V!=null))if(le==="style")if(V){for(D in V)!V.hasOwnProperty(D)||X&&X.hasOwnProperty(D)||(p||(p={}),p[D]="");for(D in X)X.hasOwnProperty(D)&&V[D]!==X[D]&&(p||(p={}),p[D]=X[D])}else p||(P||(P=[]),P.push(le,p)),p=X;else le==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,V=V?V.__html:void 0,X!=null&&V!==X&&(P=P||[]).push(le,X)):le==="children"?typeof X!="string"&&typeof X!="number"||(P=P||[]).push(le,""+X):le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&(i.hasOwnProperty(le)?(X!=null&&le==="onScroll"&&Nt("scroll",s),P||V===X||(P=[])):(P=P||[]).push(le,X))}p&&(P=P||[]).push("style",p);var le=P;(c.updateQueue=le)&&(c.flags|=4)}},Sk=function(s,c,p,g){p!==g&&(c.flags|=4)};function ic(s,c){if(!Dt)switch(s.tailMode){case"hidden":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var g=null;p!==null;)p.alternate!==null&&(g=p),p=p.sibling;g===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function kr(s){var c=s.alternate!==null&&s.alternate.child===s.child,p=0,g=0;if(c)for(var C=s.child;C!==null;)p|=C.lanes|C.childLanes,g|=C.subtreeFlags&14680064,g|=C.flags&14680064,C.return=s,C=C.sibling;else for(C=s.child;C!==null;)p|=C.lanes|C.childLanes,g|=C.subtreeFlags,g|=C.flags,C.return=s,C=C.sibling;return s.subtreeFlags|=g,s.childLanes=p,c}function ZM(s,c,p){var g=c.pendingProps;switch(xv(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(c),null;case 1:return Ur(c.type)&&od(),kr(c),null;case 3:return g=c.stateNode,ts(),Pt($r),Pt(wr),Ev(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(dd(c)?c.flags|=4:s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Dn!==null&&(lm(Dn),Dn=null))),Yv(s,c),kr(c),null;case 5:_v(c);var C=Qi(ec.current);if(p=c.type,s!==null&&c.stateNode!=null)bk(s,c,p,g,C),s.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!g){if(c.stateNode===null)throw Error(r(166));return kr(c),null}if(s=Qi(ea.current),dd(c)){g=c.stateNode,p=c.type;var P=c.memoizedProps;switch(g[Jn]=c,g[Zl]=P,s=(c.mode&1)!==0,p){case"dialog":Nt("cancel",g),Nt("close",g);break;case"iframe":case"object":case"embed":Nt("load",g);break;case"video":case"audio":for(C=0;C<Gl.length;C++)Nt(Gl[C],g);break;case"source":Nt("error",g);break;case"img":case"image":case"link":Nt("error",g),Nt("load",g);break;case"details":Nt("toggle",g);break;case"input":tt(g,P),Nt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!P.multiple},Nt("invalid",g);break;case"textarea":Ge(g,P),Nt("invalid",g)}ya(p,P),C=null;for(var D in P)if(P.hasOwnProperty(D)){var V=P[D];D==="children"?typeof V=="string"?g.textContent!==V&&(P.suppressHydrationWarning!==!0&&nd(g.textContent,V,s),C=["children",V]):typeof V=="number"&&g.textContent!==""+V&&(P.suppressHydrationWarning!==!0&&nd(g.textContent,V,s),C=["children",""+V]):i.hasOwnProperty(D)&&V!=null&&D==="onScroll"&&Nt("scroll",g)}switch(p){case"input":ve(g),Ut(g,P,!0);break;case"textarea":ve(g),ht(g);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(g.onclick=ad)}g=C,c.updateQueue=g,g!==null&&(c.flags|=4)}else{D=C.nodeType===9?C:C.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ut(p)),s==="http://www.w3.org/1999/xhtml"?p==="script"?(s=D.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=D.createElement(p,{is:g.is}):(s=D.createElement(p),p==="select"&&(D=s,g.multiple?D.multiple=!0:g.size&&(D.size=g.size))):s=D.createElementNS(s,p),s[Jn]=c,s[Zl]=g,xk(s,c,!1,!1),c.stateNode=s;e:{switch(D=re(p,g),p){case"dialog":Nt("cancel",s),Nt("close",s),C=g;break;case"iframe":case"object":case"embed":Nt("load",s),C=g;break;case"video":case"audio":for(C=0;C<Gl.length;C++)Nt(Gl[C],s);C=g;break;case"source":Nt("error",s),C=g;break;case"img":case"image":case"link":Nt("error",s),Nt("load",s),C=g;break;case"details":Nt("toggle",s),C=g;break;case"input":tt(s,g),C=Me(s,g),Nt("invalid",s);break;case"option":C=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},C=Q({},g,{value:void 0}),Nt("invalid",s);break;case"textarea":Ge(s,g),C=nr(s,g),Nt("invalid",s);break;default:C=g}ya(p,C),V=C;for(P in V)if(V.hasOwnProperty(P)){var X=V[P];P==="style"?Qr(s,X):P==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&vn(s,X)):P==="children"?typeof X=="string"?(p!=="textarea"||X!=="")&&Sr(s,X):typeof X=="number"&&Sr(s,""+X):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(i.hasOwnProperty(P)?X!=null&&P==="onScroll"&&Nt("scroll",s):X!=null&&S(s,P,X,D))}switch(p){case"input":ve(s),Ut(s,g,!1);break;case"textarea":ve(s),ht(s);break;case"option":g.value!=null&&s.setAttribute("value",""+ge(g.value));break;case"select":s.multiple=!!g.multiple,P=g.value,P!=null?Ht(s,!!g.multiple,P,!1):g.defaultValue!=null&&Ht(s,!!g.multiple,g.defaultValue,!0);break;default:typeof C.onClick=="function"&&(s.onclick=ad)}switch(p){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return kr(c),null;case 6:if(s&&c.stateNode!=null)Sk(s,c,s.memoizedProps,g);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(p=Qi(ec.current),Qi(ea.current),dd(c)){if(g=c.stateNode,p=c.memoizedProps,g[Jn]=c,(P=g.nodeValue!==p)&&(s=rn,s!==null))switch(s.tag){case 3:nd(g.nodeValue,p,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&nd(g.nodeValue,p,(s.mode&1)!==0)}P&&(c.flags|=4)}else g=(p.nodeType===9?p:p.ownerDocument).createTextNode(g),g[Jn]=c,c.stateNode=g}return kr(c),null;case 13:if(Pt(Lt),g=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Dt&&nn!==null&&(c.mode&1)!==0&&(c.flags&128)===0)kj(),Yo(),c.flags|=98560,P=!1;else if(P=dd(c),g!==null&&g.dehydrated!==null){if(s===null){if(!P)throw Error(r(318));if(P=c.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(r(317));P[Jn]=c}else Yo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;kr(c),P=!1}else Dn!==null&&(lm(Dn),Dn=null),P=!0;if(!P)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=p,c):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(c.child.flags|=8192,(c.mode&1)!==0&&(s===null||(Lt.current&1)!==0?ir===0&&(ir=3):dm())),c.updateQueue!==null&&(c.flags|=4),kr(c),null);case 4:return ts(),Yv(s,c),s===null&&Vl(c.stateNode.containerInfo),kr(c),null;case 10:return Cv(c.type._context),kr(c),null;case 17:return Ur(c.type)&&od(),kr(c),null;case 19:if(Pt(Lt),P=c.memoizedState,P===null)return kr(c),null;if(g=(c.flags&128)!==0,D=P.rendering,D===null)if(g)ic(P,!1);else{if(ir!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(D=gd(s),D!==null){for(c.flags|=128,ic(P,!1),g=D.updateQueue,g!==null&&(c.updateQueue=g,c.flags|=4),c.subtreeFlags=0,g=p,p=c.child;p!==null;)P=p,s=g,P.flags&=14680066,D=P.alternate,D===null?(P.childLanes=0,P.lanes=s,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=D.childLanes,P.lanes=D.lanes,P.child=D.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=D.memoizedProps,P.memoizedState=D.memoizedState,P.updateQueue=D.updateQueue,P.type=D.type,s=D.dependencies,P.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),p=p.sibling;return jt(Lt,Lt.current&1|2),c.child}s=s.sibling}P.tail!==null&&qt()>is&&(c.flags|=128,g=!0,ic(P,!1),c.lanes=4194304)}else{if(!g)if(s=gd(D),s!==null){if(c.flags|=128,g=!0,p=s.updateQueue,p!==null&&(c.updateQueue=p,c.flags|=4),ic(P,!0),P.tail===null&&P.tailMode==="hidden"&&!D.alternate&&!Dt)return kr(c),null}else 2*qt()-P.renderingStartTime>is&&p!==1073741824&&(c.flags|=128,g=!0,ic(P,!1),c.lanes=4194304);P.isBackwards?(D.sibling=c.child,c.child=D):(p=P.last,p!==null?p.sibling=D:c.child=D,P.last=D)}return P.tail!==null?(c=P.tail,P.rendering=c,P.tail=c.sibling,P.renderingStartTime=qt(),c.sibling=null,p=Lt.current,jt(Lt,g?p&1|2:p&1),c):(kr(c),null);case 22:case 23:return um(),g=c.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(c.flags|=8192),g&&(c.mode&1)!==0?(an&1073741824)!==0&&(kr(c),c.subtreeFlags&6&&(c.flags|=8192)):kr(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function XM(s,c){switch(xv(c),c.tag){case 1:return Ur(c.type)&&od(),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return ts(),Pt($r),Pt(wr),Ev(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 5:return _v(c),null;case 13:if(Pt(Lt),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Yo()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return Pt(Lt),null;case 4:return ts(),null;case 10:return Cv(c.type._context),null;case 22:case 23:return um(),null;case 24:return null;default:return null}}var zd=!1,Cr=!1,YM=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function ns(s,c){var p=s.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(g){Gt(s,c,g)}else p.current=null}function Qv(s,c,p){try{p()}catch(g){Gt(s,c,g)}}var wk=!1;function QM(s,c){if(uv=Gu,s=ej(),rv(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var g=p.getSelection&&p.getSelection();if(g&&g.rangeCount!==0){p=g.anchorNode;var C=g.anchorOffset,P=g.focusNode;g=g.focusOffset;try{p.nodeType,P.nodeType}catch{p=null;break e}var D=0,V=-1,X=-1,le=0,xe=0,be=s,ye=null;t:for(;;){for(var Ce;be!==p||C!==0&&be.nodeType!==3||(V=D+C),be!==P||g!==0&&be.nodeType!==3||(X=D+g),be.nodeType===3&&(D+=be.nodeValue.length),(Ce=be.firstChild)!==null;)ye=be,be=Ce;for(;;){if(be===s)break t;if(ye===p&&++le===C&&(V=D),ye===P&&++xe===g&&(X=D),(Ce=be.nextSibling)!==null)break;be=ye,ye=be.parentNode}be=Ce}p=V===-1||X===-1?null:{start:V,end:X}}else p=null}p=p||{start:0,end:0}}else p=null;for(dv={focusedElem:s,selectionRange:p},Gu=!1,Ae=c;Ae!==null;)if(c=Ae,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,Ae=s;else for(;Ae!==null;){c=Ae;try{var Pe=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Ee=Pe.memoizedProps,Zt=Pe.memoizedState,ne=c.stateNode,J=ne.getSnapshotBeforeUpdate(c.elementType===c.type?Ee:Rn(c.type,Ee),Zt);ne.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var ie=c.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(we){Gt(c,c.return,we)}if(s=c.sibling,s!==null){s.return=c.return,Ae=s;break}Ae=c.return}return Pe=wk,wk=!1,Pe}function oc(s,c,p){var g=c.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var C=g=g.next;do{if((C.tag&s)===s){var P=C.destroy;C.destroy=void 0,P!==void 0&&Qv(c,p,P)}C=C.next}while(C!==g)}}function Ad(s,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&s)===s){var g=p.create;p.destroy=g()}p=p.next}while(p!==c)}}function Jv(s){var c=s.ref;if(c!==null){var p=s.stateNode;switch(s.tag){case 5:s=p;break;default:s=p}typeof c=="function"?c(s):c.current=s}}function jk(s){var c=s.alternate;c!==null&&(s.alternate=null,jk(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&(delete c[Jn],delete c[Zl],delete c[vv],delete c[DM],delete c[RM])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function kk(s){return s.tag===5||s.tag===3||s.tag===4}function Ck(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||kk(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function em(s,c,p){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?p.nodeType===8?p.parentNode.insertBefore(s,c):p.insertBefore(s,c):(p.nodeType===8?(c=p.parentNode,c.insertBefore(s,p)):(c=p,c.appendChild(s)),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=ad));else if(g!==4&&(s=s.child,s!==null))for(em(s,c,p),s=s.sibling;s!==null;)em(s,c,p),s=s.sibling}function tm(s,c,p){var g=s.tag;if(g===5||g===6)s=s.stateNode,c?p.insertBefore(s,c):p.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(tm(s,c,p),s=s.sibling;s!==null;)tm(s,c,p),s=s.sibling}var yr=null,In=!1;function fi(s,c,p){for(p=p.child;p!==null;)zk(s,c,p),p=p.sibling}function zk(s,c,p){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(Fu,p)}catch{}switch(p.tag){case 5:Cr||ns(p,c);case 6:var g=yr,C=In;yr=null,fi(s,c,p),yr=g,In=C,yr!==null&&(In?(s=yr,p=p.stateNode,s.nodeType===8?s.parentNode.removeChild(p):s.removeChild(p)):yr.removeChild(p.stateNode));break;case 18:yr!==null&&(In?(s=yr,p=p.stateNode,s.nodeType===8?hv(s.parentNode,p):s.nodeType===1&&hv(s,p),Ll(s)):hv(yr,p.stateNode));break;case 4:g=yr,C=In,yr=p.stateNode.containerInfo,In=!0,fi(s,c,p),yr=g,In=C;break;case 0:case 11:case 14:case 15:if(!Cr&&(g=p.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){C=g=g.next;do{var P=C,D=P.destroy;P=P.tag,D!==void 0&&((P&2)!==0||(P&4)!==0)&&Qv(p,c,D),C=C.next}while(C!==g)}fi(s,c,p);break;case 1:if(!Cr&&(ns(p,c),g=p.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=p.memoizedProps,g.state=p.memoizedState,g.componentWillUnmount()}catch(V){Gt(p,c,V)}fi(s,c,p);break;case 21:fi(s,c,p);break;case 22:p.mode&1?(Cr=(g=Cr)||p.memoizedState!==null,fi(s,c,p),Cr=g):fi(s,c,p);break;default:fi(s,c,p)}}function Ak(s){var c=s.updateQueue;if(c!==null){s.updateQueue=null;var p=s.stateNode;p===null&&(p=s.stateNode=new YM),c.forEach(function(g){var C=s4.bind(null,s,g);p.has(g)||(p.add(g),g.then(C,C))})}}function Mn(s,c){var p=c.deletions;if(p!==null)for(var g=0;g<p.length;g++){var C=p[g];try{var P=s,D=c,V=D;e:for(;V!==null;){switch(V.tag){case 5:yr=V.stateNode,In=!1;break e;case 3:yr=V.stateNode.containerInfo,In=!0;break e;case 4:yr=V.stateNode.containerInfo,In=!0;break e}V=V.return}if(yr===null)throw Error(r(160));zk(P,D,C),yr=null,In=!1;var X=C.alternate;X!==null&&(X.return=null),C.return=null}catch(le){Gt(C,c,le)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)Nk(c,s),c=c.sibling}function Nk(s,c){var p=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Mn(c,s),ra(s),g&4){try{oc(3,s,s.return),Ad(3,s)}catch(Ee){Gt(s,s.return,Ee)}try{oc(5,s,s.return)}catch(Ee){Gt(s,s.return,Ee)}}break;case 1:Mn(c,s),ra(s),g&512&&p!==null&&ns(p,p.return);break;case 5:if(Mn(c,s),ra(s),g&512&&p!==null&&ns(p,p.return),s.flags&32){var C=s.stateNode;try{Sr(C,"")}catch(Ee){Gt(s,s.return,Ee)}}if(g&4&&(C=s.stateNode,C!=null)){var P=s.memoizedProps,D=p!==null?p.memoizedProps:P,V=s.type,X=s.updateQueue;if(s.updateQueue=null,X!==null)try{V==="input"&&P.type==="radio"&&P.name!=null&&rt(C,P),re(V,D);var le=re(V,P);for(D=0;D<X.length;D+=2){var xe=X[D],be=X[D+1];xe==="style"?Qr(C,be):xe==="dangerouslySetInnerHTML"?vn(C,be):xe==="children"?Sr(C,be):S(C,xe,be,le)}switch(V){case"input":Ye(C,P);break;case"textarea":qe(C,P);break;case"select":var ye=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!P.multiple;var Ce=P.value;Ce!=null?Ht(C,!!P.multiple,Ce,!1):ye!==!!P.multiple&&(P.defaultValue!=null?Ht(C,!!P.multiple,P.defaultValue,!0):Ht(C,!!P.multiple,P.multiple?[]:"",!1))}C[Zl]=P}catch(Ee){Gt(s,s.return,Ee)}}break;case 6:if(Mn(c,s),ra(s),g&4){if(s.stateNode===null)throw Error(r(162));C=s.stateNode,P=s.memoizedProps;try{C.nodeValue=P}catch(Ee){Gt(s,s.return,Ee)}}break;case 3:if(Mn(c,s),ra(s),g&4&&p!==null&&p.memoizedState.isDehydrated)try{Ll(c.containerInfo)}catch(Ee){Gt(s,s.return,Ee)}break;case 4:Mn(c,s),ra(s);break;case 13:Mn(c,s),ra(s),C=s.child,C.flags&8192&&(P=C.memoizedState!==null,C.stateNode.isHidden=P,!P||C.alternate!==null&&C.alternate.memoizedState!==null||(am=qt())),g&4&&Ak(s);break;case 22:if(xe=p!==null&&p.memoizedState!==null,s.mode&1?(Cr=(le=Cr)||xe,Mn(c,s),Cr=le):Mn(c,s),ra(s),g&8192){if(le=s.memoizedState!==null,(s.stateNode.isHidden=le)&&!xe&&(s.mode&1)!==0)for(Ae=s,xe=s.child;xe!==null;){for(be=Ae=xe;Ae!==null;){switch(ye=Ae,Ce=ye.child,ye.tag){case 0:case 11:case 14:case 15:oc(4,ye,ye.return);break;case 1:ns(ye,ye.return);var Pe=ye.stateNode;if(typeof Pe.componentWillUnmount=="function"){g=ye,p=ye.return;try{c=g,Pe.props=c.memoizedProps,Pe.state=c.memoizedState,Pe.componentWillUnmount()}catch(Ee){Gt(g,p,Ee)}}break;case 5:ns(ye,ye.return);break;case 22:if(ye.memoizedState!==null){Ok(be);continue}}Ce!==null?(Ce.return=ye,Ae=Ce):Ok(be)}xe=xe.sibling}e:for(xe=null,be=s;;){if(be.tag===5){if(xe===null){xe=be;try{C=be.stateNode,le?(P=C.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(V=be.stateNode,X=be.memoizedProps.style,D=X!=null&&X.hasOwnProperty("display")?X.display:null,V.style.display=Or("display",D))}catch(Ee){Gt(s,s.return,Ee)}}}else if(be.tag===6){if(xe===null)try{be.stateNode.nodeValue=le?"":be.memoizedProps}catch(Ee){Gt(s,s.return,Ee)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===s)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===s)break e;for(;be.sibling===null;){if(be.return===null||be.return===s)break e;xe===be&&(xe=null),be=be.return}xe===be&&(xe=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:Mn(c,s),ra(s),g&4&&Ak(s);break;case 21:break;default:Mn(c,s),ra(s)}}function ra(s){var c=s.flags;if(c&2){try{e:{for(var p=s.return;p!==null;){if(kk(p)){var g=p;break e}p=p.return}throw Error(r(160))}switch(g.tag){case 5:var C=g.stateNode;g.flags&32&&(Sr(C,""),g.flags&=-33);var P=Ck(s);tm(s,P,C);break;case 3:case 4:var D=g.stateNode.containerInfo,V=Ck(s);em(s,V,D);break;default:throw Error(r(161))}}catch(X){Gt(s,s.return,X)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function JM(s,c,p){Ae=s,Pk(s)}function Pk(s,c,p){for(var g=(s.mode&1)!==0;Ae!==null;){var C=Ae,P=C.child;if(C.tag===22&&g){var D=C.memoizedState!==null||zd;if(!D){var V=C.alternate,X=V!==null&&V.memoizedState!==null||Cr;V=zd;var le=Cr;if(zd=D,(Cr=X)&&!le)for(Ae=C;Ae!==null;)D=Ae,X=D.child,D.tag===22&&D.memoizedState!==null?Ek(C):X!==null?(X.return=D,Ae=X):Ek(C);for(;P!==null;)Ae=P,Pk(P),P=P.sibling;Ae=C,zd=V,Cr=le}_k(s)}else(C.subtreeFlags&8772)!==0&&P!==null?(P.return=C,Ae=P):_k(s)}}function _k(s){for(;Ae!==null;){var c=Ae;if((c.flags&8772)!==0){var p=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Cr||Ad(5,c);break;case 1:var g=c.stateNode;if(c.flags&4&&!Cr)if(p===null)g.componentDidMount();else{var C=c.elementType===c.type?p.memoizedProps:Rn(c.type,p.memoizedProps);g.componentDidUpdate(C,p.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var P=c.updateQueue;P!==null&&Oj(c,P,g);break;case 3:var D=c.updateQueue;if(D!==null){if(p=null,c.child!==null)switch(c.child.tag){case 5:p=c.child.stateNode;break;case 1:p=c.child.stateNode}Oj(c,D,p)}break;case 5:var V=c.stateNode;if(p===null&&c.flags&4){p=V;var X=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&p.focus();break;case"img":X.src&&(p.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var le=c.alternate;if(le!==null){var xe=le.memoizedState;if(xe!==null){var be=xe.dehydrated;be!==null&&Ll(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Cr||c.flags&512&&Jv(c)}catch(ye){Gt(c,c.return,ye)}}if(c===s){Ae=null;break}if(p=c.sibling,p!==null){p.return=c.return,Ae=p;break}Ae=c.return}}function Ok(s){for(;Ae!==null;){var c=Ae;if(c===s){Ae=null;break}var p=c.sibling;if(p!==null){p.return=c.return,Ae=p;break}Ae=c.return}}function Ek(s){for(;Ae!==null;){var c=Ae;try{switch(c.tag){case 0:case 11:case 15:var p=c.return;try{Ad(4,c)}catch(X){Gt(c,p,X)}break;case 1:var g=c.stateNode;if(typeof g.componentDidMount=="function"){var C=c.return;try{g.componentDidMount()}catch(X){Gt(c,C,X)}}var P=c.return;try{Jv(c)}catch(X){Gt(c,P,X)}break;case 5:var D=c.return;try{Jv(c)}catch(X){Gt(c,D,X)}}}catch(X){Gt(c,c.return,X)}if(c===s){Ae=null;break}var V=c.sibling;if(V!==null){V.return=c.return,Ae=V;break}Ae=c.return}}var e4=Math.ceil,Nd=N.ReactCurrentDispatcher,rm=N.ReactCurrentOwner,Sn=N.ReactCurrentBatchConfig,at=0,fr=null,Jt=null,xr=0,an=0,as=si(0),ir=0,sc=null,eo=0,Pd=0,nm=0,lc=null,Kr=null,am=0,is=1/0,za=null,_d=!1,im=null,pi=null,Od=!1,hi=null,Ed=0,cc=0,om=null,Td=-1,Dd=0;function Dr(){return(at&6)!==0?qt():Td!==-1?Td:Td=qt()}function vi(s){return(s.mode&1)===0?1:(at&2)!==0&&xr!==0?xr&-xr:MM.transition!==null?(Dd===0&&(Dd=Cw()),Dd):(s=mt,s!==0||(s=window.event,s=s===void 0?16:Dw(s.type)),s)}function Ln(s,c,p,g){if(50<cc)throw cc=0,om=null,Error(r(185));Tl(s,p,g),((at&2)===0||s!==fr)&&(s===fr&&((at&2)===0&&(Pd|=p),ir===4&&mi(s,xr)),Gr(s,g),p===1&&at===0&&(c.mode&1)===0&&(is=qt()+500,ld&&ci()))}function Gr(s,c){var p=s.callbackNode;M5(s,c);var g=Uu(s,s===fr?xr:0);if(g===0)p!==null&&ww(p),s.callbackNode=null,s.callbackPriority=0;else if(c=g&-g,s.callbackPriority!==c){if(p!=null&&ww(p),c===1)s.tag===0?IM(Dk.bind(null,s)):xj(Dk.bind(null,s)),EM(function(){(at&6)===0&&ci()}),p=null;else{switch(zw(g)){case 1:p=Bh;break;case 4:p=jw;break;case 16:p=Bu;break;case 536870912:p=kw;break;default:p=Bu}p=$k(p,Tk.bind(null,s))}s.callbackPriority=c,s.callbackNode=p}}function Tk(s,c){if(Td=-1,Dd=0,(at&6)!==0)throw Error(r(327));var p=s.callbackNode;if(os()&&s.callbackNode!==p)return null;var g=Uu(s,s===fr?xr:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||c)c=Rd(s,g);else{c=g;var C=at;at|=2;var P=Ik();(fr!==s||xr!==c)&&(za=null,is=qt()+500,ro(s,c));do try{n4();break}catch(V){Rk(s,V)}while(!0);kv(),Nd.current=P,at=C,Jt!==null?c=0:(fr=null,xr=0,c=ir)}if(c!==0){if(c===2&&(C=Fh(s),C!==0&&(g=C,c=sm(s,C))),c===1)throw p=sc,ro(s,0),mi(s,g),Gr(s,qt()),p;if(c===6)mi(s,g);else{if(C=s.current.alternate,(g&30)===0&&!t4(C)&&(c=Rd(s,g),c===2&&(P=Fh(s),P!==0&&(g=P,c=sm(s,P))),c===1))throw p=sc,ro(s,0),mi(s,g),Gr(s,qt()),p;switch(s.finishedWork=C,s.finishedLanes=g,c){case 0:case 1:throw Error(r(345));case 2:no(s,Kr,za);break;case 3:if(mi(s,g),(g&130023424)===g&&(c=am+500-qt(),10<c)){if(Uu(s,0)!==0)break;if(C=s.suspendedLanes,(C&g)!==g){Dr(),s.pingedLanes|=s.suspendedLanes&C;break}s.timeoutHandle=pv(no.bind(null,s,Kr,za),c);break}no(s,Kr,za);break;case 4:if(mi(s,g),(g&4194240)===g)break;for(c=s.eventTimes,C=-1;0<g;){var D=31-En(g);P=1<<D,D=c[D],D>C&&(C=D),g&=~P}if(g=C,g=qt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*e4(g/1960))-g,10<g){s.timeoutHandle=pv(no.bind(null,s,Kr,za),g);break}no(s,Kr,za);break;case 5:no(s,Kr,za);break;default:throw Error(r(329))}}}return Gr(s,qt()),s.callbackNode===p?Tk.bind(null,s):null}function sm(s,c){var p=lc;return s.current.memoizedState.isDehydrated&&(ro(s,c).flags|=256),s=Rd(s,c),s!==2&&(c=Kr,Kr=p,c!==null&&lm(c)),s}function lm(s){Kr===null?Kr=s:Kr.push.apply(Kr,s)}function t4(s){for(var c=s;;){if(c.flags&16384){var p=c.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var g=0;g<p.length;g++){var C=p[g],P=C.getSnapshot;C=C.value;try{if(!Tn(P(),C))return!1}catch{return!1}}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function mi(s,c){for(c&=~nm,c&=~Pd,s.suspendedLanes|=c,s.pingedLanes&=~c,s=s.expirationTimes;0<c;){var p=31-En(c),g=1<<p;s[p]=-1,c&=~g}}function Dk(s){if((at&6)!==0)throw Error(r(327));os();var c=Uu(s,0);if((c&1)===0)return Gr(s,qt()),null;var p=Rd(s,c);if(s.tag!==0&&p===2){var g=Fh(s);g!==0&&(c=g,p=sm(s,g))}if(p===1)throw p=sc,ro(s,0),mi(s,c),Gr(s,qt()),p;if(p===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=c,no(s,Kr,za),Gr(s,qt()),null}function cm(s,c){var p=at;at|=1;try{return s(c)}finally{at=p,at===0&&(is=qt()+500,ld&&ci())}}function to(s){hi!==null&&hi.tag===0&&(at&6)===0&&os();var c=at;at|=1;var p=Sn.transition,g=mt;try{if(Sn.transition=null,mt=1,s)return s()}finally{mt=g,Sn.transition=p,at=c,(at&6)===0&&ci()}}function um(){an=as.current,Pt(as)}function ro(s,c){s.finishedWork=null,s.finishedLanes=0;var p=s.timeoutHandle;if(p!==-1&&(s.timeoutHandle=-1,OM(p)),Jt!==null)for(p=Jt.return;p!==null;){var g=p;switch(xv(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&od();break;case 3:ts(),Pt($r),Pt(wr),Ev();break;case 5:_v(g);break;case 4:ts();break;case 13:Pt(Lt);break;case 19:Pt(Lt);break;case 10:Cv(g.type._context);break;case 22:case 23:um()}p=p.return}if(fr=s,Jt=s=gi(s.current,null),xr=an=c,ir=0,sc=null,nm=Pd=eo=0,Kr=lc=null,Yi!==null){for(c=0;c<Yi.length;c++)if(p=Yi[c],g=p.interleaved,g!==null){p.interleaved=null;var C=g.next,P=p.pending;if(P!==null){var D=P.next;P.next=C,g.next=D}p.pending=g}Yi=null}return s}function Rk(s,c){do{var p=Jt;try{if(kv(),yd.current=wd,xd){for(var g=Bt.memoizedState;g!==null;){var C=g.queue;C!==null&&(C.pending=null),g=g.next}xd=!1}if(Ji=0,dr=ar=Bt=null,tc=!1,rc=0,rm.current=null,p===null||p.return===null){ir=1,sc=c,Jt=null;break}e:{var P=s,D=p.return,V=p,X=c;if(c=xr,V.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var le=X,xe=V,be=xe.tag;if((xe.mode&1)===0&&(be===0||be===11||be===15)){var ye=xe.alternate;ye?(xe.updateQueue=ye.updateQueue,xe.memoizedState=ye.memoizedState,xe.lanes=ye.lanes):(xe.updateQueue=null,xe.memoizedState=null)}var Ce=ok(D);if(Ce!==null){Ce.flags&=-257,sk(Ce,D,V,P,c),Ce.mode&1&&ik(P,le,c),c=Ce,X=le;var Pe=c.updateQueue;if(Pe===null){var Ee=new Set;Ee.add(X),c.updateQueue=Ee}else Pe.add(X);break e}else{if((c&1)===0){ik(P,le,c),dm();break e}X=Error(r(426))}}else if(Dt&&V.mode&1){var Zt=ok(D);if(Zt!==null){(Zt.flags&65536)===0&&(Zt.flags|=256),sk(Zt,D,V,P,c),wv(rs(X,V));break e}}P=X=rs(X,V),ir!==4&&(ir=2),lc===null?lc=[P]:lc.push(P),P=D;do{switch(P.tag){case 3:P.flags|=65536,c&=-c,P.lanes|=c;var ne=nk(P,X,c);_j(P,ne);break e;case 1:V=X;var J=P.type,ie=P.stateNode;if((P.flags&128)===0&&(typeof J.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(pi===null||!pi.has(ie)))){P.flags|=65536,c&=-c,P.lanes|=c;var we=ak(P,V,c);_j(P,we);break e}}P=P.return}while(P!==null)}Lk(p)}catch(Re){c=Re,Jt===p&&p!==null&&(Jt=p=p.return);continue}break}while(!0)}function Ik(){var s=Nd.current;return Nd.current=wd,s===null?wd:s}function dm(){(ir===0||ir===3||ir===2)&&(ir=4),fr===null||(eo&268435455)===0&&(Pd&268435455)===0||mi(fr,xr)}function Rd(s,c){var p=at;at|=2;var g=Ik();(fr!==s||xr!==c)&&(za=null,ro(s,c));do try{r4();break}catch(C){Rk(s,C)}while(!0);if(kv(),at=p,Nd.current=g,Jt!==null)throw Error(r(261));return fr=null,xr=0,ir}function r4(){for(;Jt!==null;)Mk(Jt)}function n4(){for(;Jt!==null&&!N5();)Mk(Jt)}function Mk(s){var c=Wk(s.alternate,s,an);s.memoizedProps=s.pendingProps,c===null?Lk(s):Jt=c,rm.current=null}function Lk(s){var c=s;do{var p=c.alternate;if(s=c.return,(c.flags&32768)===0){if(p=ZM(p,c,an),p!==null){Jt=p;return}}else{if(p=XM(p,c),p!==null){p.flags&=32767,Jt=p;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{ir=6,Jt=null;return}}if(c=c.sibling,c!==null){Jt=c;return}Jt=c=s}while(c!==null);ir===0&&(ir=5)}function no(s,c,p){var g=mt,C=Sn.transition;try{Sn.transition=null,mt=1,a4(s,c,p,g)}finally{Sn.transition=C,mt=g}return null}function a4(s,c,p,g){do os();while(hi!==null);if((at&6)!==0)throw Error(r(327));p=s.finishedWork;var C=s.finishedLanes;if(p===null)return null;if(s.finishedWork=null,s.finishedLanes=0,p===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var P=p.lanes|p.childLanes;if(L5(s,P),s===fr&&(Jt=fr=null,xr=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Od||(Od=!0,$k(Bu,function(){return os(),null})),P=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||P){P=Sn.transition,Sn.transition=null;var D=mt;mt=1;var V=at;at|=4,rm.current=null,QM(s,p),Nk(p,s),kM(dv),Gu=!!uv,dv=uv=null,s.current=p,JM(p),P5(),at=V,mt=D,Sn.transition=P}else s.current=p;if(Od&&(Od=!1,hi=s,Ed=C),P=s.pendingLanes,P===0&&(pi=null),E5(p.stateNode),Gr(s,qt()),c!==null)for(g=s.onRecoverableError,p=0;p<c.length;p++)C=c[p],g(C.value,{componentStack:C.stack,digest:C.digest});if(_d)throw _d=!1,s=im,im=null,s;return(Ed&1)!==0&&s.tag!==0&&os(),P=s.pendingLanes,(P&1)!==0?s===om?cc++:(cc=0,om=s):cc=0,ci(),null}function os(){if(hi!==null){var s=zw(Ed),c=Sn.transition,p=mt;try{if(Sn.transition=null,mt=16>s?16:s,hi===null)var g=!1;else{if(s=hi,hi=null,Ed=0,(at&6)!==0)throw Error(r(331));var C=at;for(at|=4,Ae=s.current;Ae!==null;){var P=Ae,D=P.child;if((Ae.flags&16)!==0){var V=P.deletions;if(V!==null){for(var X=0;X<V.length;X++){var le=V[X];for(Ae=le;Ae!==null;){var xe=Ae;switch(xe.tag){case 0:case 11:case 15:oc(8,xe,P)}var be=xe.child;if(be!==null)be.return=xe,Ae=be;else for(;Ae!==null;){xe=Ae;var ye=xe.sibling,Ce=xe.return;if(jk(xe),xe===le){Ae=null;break}if(ye!==null){ye.return=Ce,Ae=ye;break}Ae=Ce}}}var Pe=P.alternate;if(Pe!==null){var Ee=Pe.child;if(Ee!==null){Pe.child=null;do{var Zt=Ee.sibling;Ee.sibling=null,Ee=Zt}while(Ee!==null)}}Ae=P}}if((P.subtreeFlags&2064)!==0&&D!==null)D.return=P,Ae=D;else e:for(;Ae!==null;){if(P=Ae,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:oc(9,P,P.return)}var ne=P.sibling;if(ne!==null){ne.return=P.return,Ae=ne;break e}Ae=P.return}}var J=s.current;for(Ae=J;Ae!==null;){D=Ae;var ie=D.child;if((D.subtreeFlags&2064)!==0&&ie!==null)ie.return=D,Ae=ie;else e:for(D=J;Ae!==null;){if(V=Ae,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:Ad(9,V)}}catch(Re){Gt(V,V.return,Re)}if(V===D){Ae=null;break e}var we=V.sibling;if(we!==null){we.return=V.return,Ae=we;break e}Ae=V.return}}if(at=C,ci(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(Fu,s)}catch{}g=!0}return g}finally{mt=p,Sn.transition=c}}return!1}function Bk(s,c,p){c=rs(p,c),c=nk(s,c,1),s=di(s,c,1),c=Dr(),s!==null&&(Tl(s,1,c),Gr(s,c))}function Gt(s,c,p){if(s.tag===3)Bk(s,s,p);else for(;c!==null;){if(c.tag===3){Bk(c,s,p);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(pi===null||!pi.has(g))){s=rs(p,s),s=ak(c,s,1),c=di(c,s,1),s=Dr(),c!==null&&(Tl(c,1,s),Gr(c,s));break}}c=c.return}}function i4(s,c,p){var g=s.pingCache;g!==null&&g.delete(c),c=Dr(),s.pingedLanes|=s.suspendedLanes&p,fr===s&&(xr&p)===p&&(ir===4||ir===3&&(xr&130023424)===xr&&500>qt()-am?ro(s,0):nm|=p),Gr(s,c)}function Fk(s,c){c===0&&((s.mode&1)===0?c=1:(c=$u,$u<<=1,($u&130023424)===0&&($u=4194304)));var p=Dr();s=ja(s,c),s!==null&&(Tl(s,c,p),Gr(s,p))}function o4(s){var c=s.memoizedState,p=0;c!==null&&(p=c.retryLane),Fk(s,p)}function s4(s,c){var p=0;switch(s.tag){case 13:var g=s.stateNode,C=s.memoizedState;C!==null&&(p=C.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(c),Fk(s,p)}var Wk;Wk=function(s,c,p){if(s!==null)if(s.memoizedProps!==c.pendingProps||$r.current)Hr=!0;else{if((s.lanes&p)===0&&(c.flags&128)===0)return Hr=!1,qM(s,c,p);Hr=(s.flags&131072)!==0}else Hr=!1,Dt&&(c.flags&1048576)!==0&&bj(c,ud,c.index);switch(c.lanes=0,c.tag){case 2:var g=c.type;Cd(s,c),s=c.pendingProps;var C=qo(c,wr.current);es(c,p),C=Rv(null,c,g,s,C,p);var P=Iv();return c.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Ur(g)?(P=!0,sd(c)):P=!1,c.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,Nv(c),C.updater=jd,c.stateNode=C,C._reactInternals=c,$v(c,g,s,p),c=Gv(null,c,g,!0,P,p)):(c.tag=0,Dt&&P&&yv(c),Tr(null,c,C,p),c=c.child),c;case 16:g=c.elementType;e:{switch(Cd(s,c),s=c.pendingProps,C=g._init,g=C(g._payload),c.type=g,C=c.tag=c4(g),s=Rn(g,s),C){case 0:c=Kv(null,c,g,s,p);break e;case 1:c=pk(null,c,g,s,p);break e;case 11:c=lk(null,c,g,s,p);break e;case 14:c=ck(null,c,g,Rn(g.type,s),p);break e}throw Error(r(306,g,""))}return c;case 0:return g=c.type,C=c.pendingProps,C=c.elementType===g?C:Rn(g,C),Kv(s,c,g,C,p);case 1:return g=c.type,C=c.pendingProps,C=c.elementType===g?C:Rn(g,C),pk(s,c,g,C,p);case 3:e:{if(hk(c),s===null)throw Error(r(387));g=c.pendingProps,P=c.memoizedState,C=P.element,Pj(s,c),md(c,g,null,p);var D=c.memoizedState;if(g=D.element,P.isDehydrated)if(P={element:g,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},c.updateQueue.baseState=P,c.memoizedState=P,c.flags&256){C=rs(Error(r(423)),c),c=vk(s,c,g,p,C);break e}else if(g!==C){C=rs(Error(r(424)),c),c=vk(s,c,g,p,C);break e}else for(nn=oi(c.stateNode.containerInfo.firstChild),rn=c,Dt=!0,Dn=null,p=Aj(c,null,g,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Yo(),g===C){c=Ca(s,c,p);break e}Tr(s,c,g,p)}c=c.child}return c;case 5:return Ej(c),s===null&&Sv(c),g=c.type,C=c.pendingProps,P=s!==null?s.memoizedProps:null,D=C.children,fv(g,C)?D=null:P!==null&&fv(g,P)&&(c.flags|=32),fk(s,c),Tr(s,c,D,p),c.child;case 6:return s===null&&Sv(c),null;case 13:return mk(s,c,p);case 4:return Pv(c,c.stateNode.containerInfo),g=c.pendingProps,s===null?c.child=Qo(c,null,g,p):Tr(s,c,g,p),c.child;case 11:return g=c.type,C=c.pendingProps,C=c.elementType===g?C:Rn(g,C),lk(s,c,g,C,p);case 7:return Tr(s,c,c.pendingProps,p),c.child;case 8:return Tr(s,c,c.pendingProps.children,p),c.child;case 12:return Tr(s,c,c.pendingProps.children,p),c.child;case 10:e:{if(g=c.type._context,C=c.pendingProps,P=c.memoizedProps,D=C.value,jt(pd,g._currentValue),g._currentValue=D,P!==null)if(Tn(P.value,D)){if(P.children===C.children&&!$r.current){c=Ca(s,c,p);break e}}else for(P=c.child,P!==null&&(P.return=c);P!==null;){var V=P.dependencies;if(V!==null){D=P.child;for(var X=V.firstContext;X!==null;){if(X.context===g){if(P.tag===1){X=ka(-1,p&-p),X.tag=2;var le=P.updateQueue;if(le!==null){le=le.shared;var xe=le.pending;xe===null?X.next=X:(X.next=xe.next,xe.next=X),le.pending=X}}P.lanes|=p,X=P.alternate,X!==null&&(X.lanes|=p),zv(P.return,p,c),V.lanes|=p;break}X=X.next}}else if(P.tag===10)D=P.type===c.type?null:P.child;else if(P.tag===18){if(D=P.return,D===null)throw Error(r(341));D.lanes|=p,V=D.alternate,V!==null&&(V.lanes|=p),zv(D,p,c),D=P.sibling}else D=P.child;if(D!==null)D.return=P;else for(D=P;D!==null;){if(D===c){D=null;break}if(P=D.sibling,P!==null){P.return=D.return,D=P;break}D=D.return}P=D}Tr(s,c,C.children,p),c=c.child}return c;case 9:return C=c.type,g=c.pendingProps.children,es(c,p),C=xn(C),g=g(C),c.flags|=1,Tr(s,c,g,p),c.child;case 14:return g=c.type,C=Rn(g,c.pendingProps),C=Rn(g.type,C),ck(s,c,g,C,p);case 15:return uk(s,c,c.type,c.pendingProps,p);case 17:return g=c.type,C=c.pendingProps,C=c.elementType===g?C:Rn(g,C),Cd(s,c),c.tag=1,Ur(g)?(s=!0,sd(c)):s=!1,es(c,p),tk(c,g,C),$v(c,g,C,p),Gv(null,c,g,!0,s,p);case 19:return yk(s,c,p);case 22:return dk(s,c,p)}throw Error(r(156,c.tag))};function $k(s,c){return Sw(s,c)}function l4(s,c,p,g){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(s,c,p,g){return new l4(s,c,p,g)}function fm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function c4(s){if(typeof s=="function")return fm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===L)return 11;if(s===H)return 14}return 2}function gi(s,c){var p=s.alternate;return p===null?(p=wn(s.tag,c,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=c,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&14680064,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,c=s.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p}function Id(s,c,p,g,C,P){var D=2;if(g=s,typeof s=="function")fm(s)&&(D=1);else if(typeof s=="string")D=5;else e:switch(s){case _:return ao(p.children,C,P,c);case E:D=8,C|=8;break;case T:return s=wn(12,p,c,C|2),s.elementType=T,s.lanes=P,s;case M:return s=wn(13,p,c,C),s.elementType=M,s.lanes=P,s;case q:return s=wn(19,p,c,C),s.elementType=q,s.lanes=P,s;case Y:return Md(p,C,P,c);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case I:D=10;break e;case R:D=9;break e;case L:D=11;break e;case H:D=14;break e;case Z:D=16,g=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return c=wn(D,p,c,C),c.elementType=s,c.type=g,c.lanes=P,c}function ao(s,c,p,g){return s=wn(7,s,g,c),s.lanes=p,s}function Md(s,c,p,g){return s=wn(22,s,g,c),s.elementType=Y,s.lanes=p,s.stateNode={isHidden:!1},s}function pm(s,c,p){return s=wn(6,s,null,c),s.lanes=p,s}function hm(s,c,p){return c=wn(4,s.children!==null?s.children:[],s.key,c),c.lanes=p,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}function u4(s,c,p,g,C){this.tag=c,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wh(0),this.expirationTimes=Wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wh(0),this.identifierPrefix=g,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function vm(s,c,p,g,C,P,D,V,X){return s=new u4(s,c,p,V,X),c===1?(c=1,P===!0&&(c|=8)):c=0,P=wn(3,null,null,c),s.current=P,P.stateNode=s,P.memoizedState={element:g,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nv(P),s}function d4(s,c,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:g==null?null:""+g,children:s,containerInfo:c,implementation:p}}function Uk(s){if(!s)return li;s=s._reactInternals;e:{if(Gi(s)!==s||s.tag!==1)throw Error(r(170));var c=s;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Ur(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(s.tag===1){var p=s.type;if(Ur(p))return gj(s,p,c)}return c}function Hk(s,c,p,g,C,P,D,V,X){return s=vm(p,g,!0,s,C,P,D,V,X),s.context=Uk(null),p=s.current,g=Dr(),C=vi(p),P=ka(g,C),P.callback=c??null,di(p,P,C),s.current.lanes=C,Tl(s,C,g),Gr(s,g),s}function Ld(s,c,p,g){var C=c.current,P=Dr(),D=vi(C);return p=Uk(p),c.context===null?c.context=p:c.pendingContext=p,c=ka(P,D),c.payload={element:s},g=g===void 0?null:g,g!==null&&(c.callback=g),s=di(C,c,D),s!==null&&(Ln(s,C,D,P),vd(s,C,D)),D}function Bd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Kk(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<c?p:c}}function mm(s,c){Kk(s,c),(s=s.alternate)&&Kk(s,c)}function f4(){return null}var Gk=typeof reportError=="function"?reportError:function(s){console.error(s)};function gm(s){this._internalRoot=s}Fd.prototype.render=gm.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));Ld(s,c,null,null)},Fd.prototype.unmount=gm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;to(function(){Ld(null,s,null,null)}),c[xa]=null}};function Fd(s){this._internalRoot=s}Fd.prototype.unstable_scheduleHydration=function(s){if(s){var c=Pw();s={blockedOn:null,target:s,priority:c};for(var p=0;p<ni.length&&c!==0&&c<ni[p].priority;p++);ni.splice(p,0,s),p===0&&Ew(s)}};function ym(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Wd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Vk(){}function p4(s,c,p,g,C){if(C){if(typeof g=="function"){var P=g;g=function(){var le=Bd(D);P.call(le)}}var D=Hk(c,g,s,0,null,!1,!1,"",Vk);return s._reactRootContainer=D,s[xa]=D.current,Vl(s.nodeType===8?s.parentNode:s),to(),D}for(;C=s.lastChild;)s.removeChild(C);if(typeof g=="function"){var V=g;g=function(){var le=Bd(X);V.call(le)}}var X=vm(s,0,!1,null,null,!1,!1,"",Vk);return s._reactRootContainer=X,s[xa]=X.current,Vl(s.nodeType===8?s.parentNode:s),to(function(){Ld(c,X,p,g)}),X}function $d(s,c,p,g,C){var P=p._reactRootContainer;if(P){var D=P;if(typeof C=="function"){var V=C;C=function(){var X=Bd(D);V.call(X)}}Ld(c,D,s,C)}else D=p4(p,c,s,C,g);return Bd(D)}Aw=function(s){switch(s.tag){case 3:var c=s.stateNode;if(c.current.memoizedState.isDehydrated){var p=El(c.pendingLanes);p!==0&&($h(c,p|1),Gr(c,qt()),(at&6)===0&&(is=qt()+500,ci()))}break;case 13:to(function(){var g=ja(s,1);if(g!==null){var C=Dr();Ln(g,s,1,C)}}),mm(s,1)}},Uh=function(s){if(s.tag===13){var c=ja(s,134217728);if(c!==null){var p=Dr();Ln(c,s,134217728,p)}mm(s,134217728)}},Nw=function(s){if(s.tag===13){var c=vi(s),p=ja(s,c);if(p!==null){var g=Dr();Ln(p,s,c,g)}mm(s,c)}},Pw=function(){return mt},_w=function(s,c){var p=mt;try{return mt=s,c()}finally{mt=p}},ee=function(s,c,p){switch(c){case"input":if(Ye(s,p),c=p.name,p.type==="radio"&&c!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<p.length;c++){var g=p[c];if(g!==s&&g.form===s.form){var C=id(g);if(!C)throw Error(r(90));se(g),Ye(g,C)}}}break;case"textarea":qe(s,p);break;case"select":c=p.value,c!=null&&Ht(s,!!p.multiple,c,!1)}},Jr=cm,Kt=to;var h4={usingClientEntryPoint:!1,Events:[Xl,Go,id,je,vt,cm]},uc={findFiberByHostInstance:Vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},v4={bundleType:uc.bundleType,version:uc.version,rendererPackageName:uc.rendererPackageName,rendererConfig:uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=xw(s),s===null?null:s.stateNode},findFiberByHostInstance:uc.findFiberByHostInstance||f4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ud.isDisabled&&Ud.supportsFiber)try{Fu=Ud.inject(v4),Qn=Ud}catch{}}return Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h4,Vr.createPortal=function(s,c){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ym(c))throw Error(r(200));return d4(s,c,null,p)},Vr.createRoot=function(s,c){if(!ym(s))throw Error(r(299));var p=!1,g="",C=Gk;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),c=vm(s,1,!1,null,null,p,!1,g,C),s[xa]=c.current,Vl(s.nodeType===8?s.parentNode:s),new gm(c)},Vr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=xw(c),s=s===null?null:s.stateNode,s},Vr.flushSync=function(s){return to(s)},Vr.hydrate=function(s,c,p){if(!Wd(c))throw Error(r(200));return $d(null,s,c,!0,p)},Vr.hydrateRoot=function(s,c,p){if(!ym(s))throw Error(r(405));var g=p!=null&&p.hydratedSources||null,C=!1,P="",D=Gk;if(p!=null&&(p.unstable_strictMode===!0&&(C=!0),p.identifierPrefix!==void 0&&(P=p.identifierPrefix),p.onRecoverableError!==void 0&&(D=p.onRecoverableError)),c=Hk(c,null,s,1,p??null,C,!1,P,D),s[xa]=c.current,Vl(s),g)for(s=0;s<g.length;s++)p=g[s],C=p._getVersion,C=C(p._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[p,C]:c.mutableSourceEagerHydrationData.push(p,C);return new Fd(c)},Vr.render=function(s,c,p){if(!Wd(c))throw Error(r(200));return $d(null,s,c,!1,p)},Vr.unmountComponentAtNode=function(s){if(!Wd(s))throw Error(r(40));return s._reactRootContainer?(to(function(){$d(null,null,s,!1,function(){s._reactRootContainer=null,s[xa]=null})}),!0):!1},Vr.unstable_batchedUpdates=cm,Vr.unstable_renderSubtreeIntoContainer=function(s,c,p,g){if(!Wd(p))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return $d(s,c,p,!1,g)},Vr.version="18.3.1-next-f1338f8080-20240426",Vr}var t2;function fE(){if(t2)return Sm.exports;t2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Sm.exports=j4(),Sm.exports}var r2;function k4(){if(r2)return Kd;r2=1;var e=fE();return Kd.createRoot=e.createRoot,Kd.hydrateRoot=e.hydrateRoot,Kd}var C4=k4(),z=KS();const G=pt(z),GS=g4({__proto__:null,default:G},[z]),er={RUNS:"allocation_runs",ARTICLES:"allocation_articles",STORES:"allocation_stores",CAPACITY:"allocation_capacity",SCENARIOS:"allocation_scenarios",EXCEPTIONS:"allocation_exceptions",PARAMETERS:"allocation_parameters",TASKS:"allocation_tasks",USER:"allocation_user"};function Aa(e,t){try{const r=localStorage.getItem(e);return r?JSON.parse(r):t}catch(r){return console.error(`Error reading from localStorage: ${e}`,r),t}}function Na(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.error(`Error saving to localStorage: ${e}`,r)}}function z4(e){try{localStorage.removeItem(e)}catch(t){console.error(`Error removing from localStorage: ${e}`,t)}}const gt={getRuns:()=>Aa(er.RUNS,[]),saveRuns:e=>Na(er.RUNS,e),getArticles:()=>Aa(er.ARTICLES,[]),saveArticles:e=>Na(er.ARTICLES,e),getStores:()=>Aa(er.STORES,[]),saveStores:e=>Na(er.STORES,e),getCapacity:()=>Aa(er.CAPACITY,[]),saveCapacity:e=>Na(er.CAPACITY,e),getScenarios:()=>Aa(er.SCENARIOS,[]),saveScenarios:e=>Na(er.SCENARIOS,e),getExceptions:()=>Aa(er.EXCEPTIONS,[]),saveExceptions:e=>Na(er.EXCEPTIONS,e),getParameters:()=>Aa(er.PARAMETERS,[]),saveParameters:e=>Na(er.PARAMETERS,e),getTasks:()=>Aa(er.TASKS,[]),saveTasks:e=>Na(er.TASKS,e),getUser:()=>Aa(er.USER,null),saveUser:e=>Na(er.USER,e),clearAll:()=>{Object.values(er).forEach(e=>z4(e))},isInitialized:()=>localStorage.getItem(er.RUNS)!==null},A4={id:"user-001",name:"Max Mustermann",email:"max.mustermann@company.ch",role:"manager",department:"Allocation Management"},N4=[{id:"store-zh-hb",name:"Zrich HB",description:"Hauptbahnhof Zrich",cluster:"Urban Premium",region:"Zrich",address:"Bahnhofplatz 15, 8001 Zrich",totalCapacity:500,isActive:!0,createdAt:"2024-01-01"},{id:"store-bs-sbb",name:"Basel SBB",description:"Basel Bahnhof SBB",cluster:"Urban Standard",region:"Basel",address:"Centralbahnplatz 1, 4051 Basel",totalCapacity:400,isActive:!0,createdAt:"2024-01-01"},{id:"store-be-bhf",name:"Bern Bahnhof",description:"Bern Hauptbahnhof",cluster:"Regional",region:"Bern",address:"Bahnhofplatz 10, 3011 Bern",totalCapacity:350,isActive:!0,createdAt:"2024-01-01"},{id:"store-lu",name:"Luzern",description:"Luzern Bahnhofstrasse",cluster:"Regional",region:"Zentralschweiz",address:"Bahnhofstrasse 5, 6003 Luzern",totalCapacity:300,isActive:!0,createdAt:"2024-01-01"},{id:"store-ge",name:"Genf",description:"Genve Centre",cluster:"Urban Premium",region:"Romandie",address:"Rue du Mont-Blanc 22, 1201 Genve",totalCapacity:450,isActive:!0,createdAt:"2024-01-01"},{id:"store-ls",name:"Lausanne",description:"Lausanne Gare",cluster:"Urban Standard",region:"Romandie",address:"Place de la Gare 9, 1003 Lausanne",totalCapacity:380,isActive:!0,createdAt:"2024-01-01"},{id:"store-sg",name:"St. Gallen",description:"St. Gallen Zentrum",cluster:"Regional",region:"Ostschweiz",address:"Multergasse 15, 9000 St. Gallen",totalCapacity:280,isActive:!0,createdAt:"2024-01-01"},{id:"store-wi",name:"Winterthur",description:"Winterthur Altstadt",cluster:"Regional",region:"Zrich",address:"Marktgasse 25, 8400 Winterthur",totalCapacity:260,isActive:!0,createdAt:"2024-01-01"}],P4=[{id:"RUN-2025-001",type:"initial",status:"completed",startDate:"2025-01-06T09:00:00",endDate:"2025-01-06T11:30:00",articleCount:156,storeCount:8,user:"M. Weber",createdAt:"2025-01-06T09:00:00",updatedAt:"2025-01-06T11:30:00"},{id:"RUN-2025-002",type:"replenishment",status:"completed",startDate:"2025-01-05T14:00:00",endDate:"2025-01-05T15:30:00",articleCount:89,storeCount:6,user:"S. Mller",createdAt:"2025-01-05T14:00:00",updatedAt:"2025-01-05T15:30:00"},{id:"RUN-2025-003",type:"manual",status:"with_exceptions",startDate:"2025-01-04T10:00:00",endDate:"2025-01-04T12:00:00",articleCount:45,storeCount:4,user:"A. Schmidt",createdAt:"2025-01-04T10:00:00",updatedAt:"2025-01-04T12:00:00"},{id:"RUN-2025-004",type:"initial",status:"running",startDate:"2025-01-07T08:00:00",articleCount:203,storeCount:8,progress:65,user:"M. Weber",createdAt:"2025-01-07T08:00:00",updatedAt:"2025-01-07T09:30:00"},{id:"RUN-2025-005",type:"replenishment",status:"planned",startDate:"2025-01-08T09:00:00",articleCount:120,storeCount:8,user:"T. Fischer",createdAt:"2025-01-06T16:00:00",updatedAt:"2025-01-06T16:00:00"}],_4=[{id:"scenario-001",name:"Standard Allokation HW 2025",description:"Standardszenario fr die Herbst/Winter Saison 2025",status:"approved",allocationType:"initial",createdBy:"M. Weber",createdAt:"2024-12-15T10:00:00",updatedAt:"2025-01-02T14:30:00",parameters:{forecastWeight:.6,historicalWeight:.4,safetyStockFactor:1.2,minAllocationQty:5,maxAllocationQty:100,clusterPriority:{"Urban Premium":1,"Urban Standard":2,Regional:3,Outlet:4}},results:{totalAllocated:15420,storesCovered:8,expectedFillRate:94.5,capacityUtilization:87.2,exceptions:3,simulatedAt:"2025-01-02T14:30:00"}},{id:"scenario-002",name:"Optimiert - Hohe Prognosegewichtung",description:"Szenario mit erhhter Gewichtung der Absatzprognose",status:"simulated",allocationType:"initial",createdBy:"S. Mller",createdAt:"2025-01-03T09:00:00",updatedAt:"2025-01-05T11:00:00",parameters:{forecastWeight:.8,historicalWeight:.2,safetyStockFactor:1.1,minAllocationQty:3,maxAllocationQty:120,clusterPriority:{"Urban Premium":1,"Urban Standard":2,Regional:3,Outlet:4}},results:{totalAllocated:16800,storesCovered:8,expectedFillRate:96.2,capacityUtilization:91.5,exceptions:5,simulatedAt:"2025-01-05T11:00:00"}},{id:"scenario-003",name:"NOS Nachschub - Standard",description:"Standardszenario fr Never-out-of-Stock Nachschub",status:"approved",allocationType:"replenishment",createdBy:"T. Fischer",createdAt:"2024-11-20T14:00:00",updatedAt:"2024-12-10T09:00:00",parameters:{forecastWeight:.5,historicalWeight:.5,safetyStockFactor:1.5,minAllocationQty:10,maxAllocationQty:50,clusterPriority:{"Urban Premium":1,"Urban Standard":1,Regional:2,Outlet:3}},results:{totalAllocated:8500,storesCovered:8,expectedFillRate:98.1,capacityUtilization:72.3,exceptions:1,simulatedAt:"2024-12-10T09:00:00"}},{id:"scenario-004",name:"Konservativ - Niedriger Sicherheitsbestand",description:"Testversion mit reduziertem Sicherheitsbestand",status:"draft",allocationType:"initial",createdBy:"A. Schmidt",createdAt:"2025-01-06T15:00:00",updatedAt:"2025-01-06T15:00:00",parameters:{forecastWeight:.5,historicalWeight:.5,safetyStockFactor:.9,minAllocationQty:5,maxAllocationQty:80,clusterPriority:{"Urban Premium":1,"Urban Standard":2,Regional:3,Outlet:4}}}],O4=[{id:"exc-001",type:"capacity",severity:"high",status:"open",title:"Kapazittsberschreitung Zrich HB",description:"Die geplante Allokation berschreitet die verfgbare Kapazitt um 15%",storeId:"store-zh-hb",runId:"RUN-2025-003",createdAt:"2025-01-04T11:30:00"},{id:"exc-002",type:"stock",severity:"medium",status:"in_progress",title:"Niedriger Lagerbestand Running Shoes",description:"Der zentrale Lagerbestand reicht nicht fr alle geplanten Allokationen",articleId:"art-001",assignedTo:"S. Mller",createdAt:"2025-01-05T09:00:00"},{id:"exc-003",type:"forecast",severity:"low",status:"open",title:"Prognoseabweichung Basel SBB",description:"Die Ist-Verkufe weichen um mehr als 20% von der Prognose ab",storeId:"store-bs-sbb",createdAt:"2025-01-06T14:00:00"},{id:"exc-004",type:"manual",severity:"critical",status:"open",title:"Dringende Nachlieferung Winterjacken",description:"Kundenanfrage fr Sonderlieferung aufgrund hoher Nachfrage",storeId:"store-ge",articleId:"art-004",createdAt:"2025-01-07T08:30:00"},{id:"exc-005",type:"capacity",severity:"medium",status:"resolved",title:"Warentrger-Konflikt Luzern",description:"Zwei Produktgruppen beanspruchen denselben Warentrger",storeId:"store-lu",resolvedAt:"2025-01-03T16:00:00",createdAt:"2025-01-02T10:00:00"}],E4=[{id:"task-001",title:"HW 2025 Allokation prfen",description:"berprfung der initialen Allokation fr die Herbst/Winter Saison",type:"review",status:"in_progress",priority:"high",assignedTo:"M. Weber",dueDate:"2025-01-10",relatedScenarioId:"scenario-001",createdAt:"2025-01-05T09:00:00"},{id:"task-002",title:"Exception Zrich HB bearbeiten",description:"Kapazittsberschreitung in Zrich HB lsen",type:"exception",status:"pending",priority:"urgent",assignedTo:"S. Mller",dueDate:"2025-01-08",relatedRunId:"RUN-2025-003",createdAt:"2025-01-04T12:00:00"},{id:"task-003",title:"Nachschub-Szenario freigeben",description:"NOS Nachschub Szenario zur Produktion freigeben",type:"approval",status:"pending",priority:"medium",assignedTo:"A. Schmidt",dueDate:"2025-01-09",relatedScenarioId:"scenario-003",createdAt:"2025-01-06T10:00:00"},{id:"task-004",title:"Neue Filiale St. Gallen einrichten",description:"Kapazitten und Parameter fr neue Filiale konfigurieren",type:"allocation",status:"completed",priority:"low",assignedTo:"T. Fischer",dueDate:"2025-01-05",completedAt:"2025-01-04T15:00:00",createdAt:"2025-01-02T14:00:00"},{id:"task-005",title:"Prognose-Parameter optimieren",description:"Forecast-Gewichtung basierend auf Q4 Ergebnissen anpassen",type:"allocation",status:"pending",priority:"medium",assignedTo:"M. Weber",dueDate:"2025-01-12",createdAt:"2025-01-06T11:00:00"}],T4=[{id:"param-001",category:"capacity",name:"Standard Kapazittsfaktor",key:"capacity_factor",value:1,unit:"Faktor",description:"Multiplikator fr die Basiskapazitt",minValue:.5,maxValue:2,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-002",category:"capacity",name:"Maximale Auslastung",key:"max_utilization",value:95,unit:"%",description:"Maximale erlaubte Kapazittsauslastung",minValue:70,maxValue:100,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-003",category:"presentation",name:"Mindest-Prsentationsmenge",key:"min_presentation",value:3,unit:"Stck",description:"Minimale Anzahl pro Gre auf der Flche",minValue:1,maxValue:10,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-004",category:"presentation",name:"Grenspiegel-Faktor",key:"size_curve_factor",value:1,unit:"Faktor",description:"Anpassung der Standard-Grenverteilung",minValue:.5,maxValue:1.5,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-005",category:"control",name:"Prognose-Horizont",key:"forecast_horizon",value:8,unit:"Wochen",description:"Zeitraum fr Absatzprognose",minValue:2,maxValue:16,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-006",category:"control",name:"Sicherheitsbestand-Tage",key:"safety_stock_days",value:14,unit:"Tage",description:"Puffer fr Nachschub-Verzgerungen",minValue:7,maxValue:30,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-007",category:"blocking",name:"Mindestverkaufstage",key:"min_selling_days",value:21,unit:"Tage",description:"Minimum Verkaufszeitraum vor Sperrung",minValue:7,maxValue:60,updatedAt:"2025-01-01",updatedBy:"System"},{id:"param-008",category:"blocking",name:"Abverkaufs-Schwelle",key:"sellthrough_threshold",value:30,unit:"%",description:"Mindest-Abverkaufsrate fr Nachschub",minValue:10,maxValue:80,updatedAt:"2025-01-01",updatedBy:"System"}];function n2(){return{user:A4,stores:N4,runs:P4,scenarios:_4,exceptions:O4,tasks:E4,parameters:T4}}const D4={runs:[],stores:[],scenarios:[],exceptions:[],parameters:[],tasks:[],currentUser:null,isLoading:!0,isInitialized:!1};function R4(e,t){switch(t.type){case"SET_LOADING":return{...e,isLoading:t.payload};case"INITIALIZE":return{...e,...t.payload,isLoading:!1,isInitialized:!0};case"SET_USER":return{...e,currentUser:t.payload};case"SET_RUNS":return{...e,runs:t.payload};case"ADD_RUN":return{...e,runs:[...e.runs,t.payload]};case"UPDATE_RUN":return{...e,runs:e.runs.map(r=>r.id===t.payload.id?t.payload:r)};case"DELETE_RUN":return{...e,runs:e.runs.filter(r=>r.id!==t.payload)};case"SET_STORES":return{...e,stores:t.payload};case"ADD_STORE":return{...e,stores:[...e.stores,t.payload]};case"UPDATE_STORE":return{...e,stores:e.stores.map(r=>r.id===t.payload.id?t.payload:r)};case"DELETE_STORE":return{...e,stores:e.stores.filter(r=>r.id!==t.payload)};case"SET_SCENARIOS":return{...e,scenarios:t.payload};case"ADD_SCENARIO":return{...e,scenarios:[...e.scenarios,t.payload]};case"UPDATE_SCENARIO":return{...e,scenarios:e.scenarios.map(r=>r.id===t.payload.id?t.payload:r)};case"DELETE_SCENARIO":return{...e,scenarios:e.scenarios.filter(r=>r.id!==t.payload)};case"SET_EXCEPTIONS":return{...e,exceptions:t.payload};case"ADD_EXCEPTION":return{...e,exceptions:[...e.exceptions,t.payload]};case"UPDATE_EXCEPTION":return{...e,exceptions:e.exceptions.map(r=>r.id===t.payload.id?t.payload:r)};case"DELETE_EXCEPTION":return{...e,exceptions:e.exceptions.filter(r=>r.id!==t.payload)};case"SET_PARAMETERS":return{...e,parameters:t.payload};case"UPDATE_PARAMETER":return{...e,parameters:e.parameters.map(r=>r.id===t.payload.id?t.payload:r)};case"SET_TASKS":return{...e,tasks:t.payload};case"ADD_TASK":return{...e,tasks:[...e.tasks,t.payload]};case"UPDATE_TASK":return{...e,tasks:e.tasks.map(r=>r.id===t.payload.id?t.payload:r)};case"DELETE_TASK":return{...e,tasks:e.tasks.filter(r=>r.id!==t.payload)};default:return e}}const pE=z.createContext(null);function Gd(e){return`${e}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function I4({children:e}){const[t,r]=z.useReducer(R4,D4);z.useEffect(()=>{(()=>{if(gt.isInitialized())r({type:"INITIALIZE",payload:{runs:gt.getRuns(),stores:gt.getStores(),scenarios:gt.getScenarios(),exceptions:gt.getExceptions(),tasks:gt.getTasks(),parameters:gt.getParameters(),currentUser:gt.getUser()}});else{const N=n2();gt.saveRuns(N.runs),gt.saveStores(N.stores),gt.saveScenarios(N.scenarios),gt.saveExceptions(N.exceptions),gt.saveTasks(N.tasks),gt.saveParameters(N.parameters),gt.saveUser(N.user),r({type:"INITIALIZE",payload:{runs:N.runs,stores:N.stores,scenarios:N.scenarios,exceptions:N.exceptions,tasks:N.tasks,parameters:N.parameters,currentUser:N.user}})}})()},[]),z.useEffect(()=>{t.isInitialized&&gt.saveRuns(t.runs)},[t.runs,t.isInitialized]),z.useEffect(()=>{t.isInitialized&&gt.saveScenarios(t.scenarios)},[t.scenarios,t.isInitialized]),z.useEffect(()=>{t.isInitialized&&gt.saveExceptions(t.exceptions)},[t.exceptions,t.isInitialized]),z.useEffect(()=>{t.isInitialized&&gt.saveTasks(t.tasks)},[t.tasks,t.isInitialized]),z.useEffect(()=>{t.isInitialized&&gt.saveParameters(t.parameters)},[t.parameters,t.isInitialized]);const k={state:t,dispatch:r,addRun:S=>{const N=new Date().toISOString(),A={...S,id:Gd("RUN"),createdAt:N,updatedAt:N};return r({type:"ADD_RUN",payload:A}),A},updateRun:S=>{const N={...S,updatedAt:new Date().toISOString()};r({type:"UPDATE_RUN",payload:N})},deleteRun:S=>{r({type:"DELETE_RUN",payload:S})},addScenario:S=>{const N=new Date().toISOString(),A={...S,id:Gd("scenario"),createdAt:N,updatedAt:N};return r({type:"ADD_SCENARIO",payload:A}),A},updateScenario:S=>{const N={...S,updatedAt:new Date().toISOString()};r({type:"UPDATE_SCENARIO",payload:N})},deleteScenario:S=>{r({type:"DELETE_SCENARIO",payload:S})},addException:S=>{const N={...S,id:Gd("exc"),createdAt:new Date().toISOString()};return r({type:"ADD_EXCEPTION",payload:N}),N},updateException:S=>{r({type:"UPDATE_EXCEPTION",payload:S})},resolveException:S=>{const N=t.exceptions.find(A=>A.id===S);N&&r({type:"UPDATE_EXCEPTION",payload:{...N,status:"resolved",resolvedAt:new Date().toISOString()}})},addTask:S=>{const N={...S,id:Gd("task"),createdAt:new Date().toISOString()};return r({type:"ADD_TASK",payload:N}),N},updateTask:S=>{r({type:"UPDATE_TASK",payload:S})},completeTask:S=>{const N=t.tasks.find(A=>A.id===S);N&&r({type:"UPDATE_TASK",payload:{...N,status:"completed",completedAt:new Date().toISOString()}})},deleteTask:S=>{r({type:"DELETE_TASK",payload:S})},updateParameter:S=>{const N={...S,updatedAt:new Date().toISOString()};r({type:"UPDATE_PARAMETER",payload:N})},resetData:()=>{gt.clearAll();const S=n2();gt.saveRuns(S.runs),gt.saveStores(S.stores),gt.saveScenarios(S.scenarios),gt.saveExceptions(S.exceptions),gt.saveTasks(S.tasks),gt.saveParameters(S.parameters),gt.saveUser(S.user),r({type:"INITIALIZE",payload:{runs:S.runs,stores:S.stores,scenarios:S.scenarios,exceptions:S.exceptions,tasks:S.tasks,parameters:S.parameters,currentUser:S.user}})}};return a.jsx(pE.Provider,{value:k,children:e})}function M4(){const e=z.useContext(pE);if(!e)throw new Error("useApp must be used within an AppProvider");return e}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),B4=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),a2=e=>{const t=B4(e);return t.charAt(0).toUpperCase()+t.slice(1)},hE=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var F4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=z.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:l,...u},d)=>z.createElement("svg",{ref:d,...F4,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:hE("lucide",i),...u},[...l.map(([f,v])=>z.createElement(f,v)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(e,t)=>{const r=z.forwardRef(({className:n,...i},o)=>z.createElement(W4,{ref:o,iconNode:t,className:hE(`lucide-${L4(a2(e))}`,`lucide-${e}`,n),...i}));return r.displayName=a2(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],U4=ze("archive",$4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],vE=ze("arrow-left",H4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],G4=ze("arrow-right",K4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],q4=ze("arrow-up-right",V4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],X4=ze("ban",Z4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],Vd=ze("beaker",Y4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],J4=ze("bell",Q4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],VS=ze("briefcase",eL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],mE=ze("building-2",tL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nL=ze("calendar",rL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Fp=ze("chart-column",aL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Za=ze("check",iL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],To=ze("chevron-down",oL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],qS=ze("chevron-left",sL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],dn=ze("chevron-right",lL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],gE=ze("chevron-up",cL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],aa=ze("circle-alert",uL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Zr=ze("circle-check-big",dL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qd=ze("circle-check",fL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],Wp=ze("circle-play",pL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],t0=ze("circle-x",hL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ZS=ze("circle",vL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Ts=ze("clock",mL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Nf=ze("copy",gL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ac=ze("database",yL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ia=ze("download",xL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],yE=ze("ellipsis-vertical",bL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],xE=ze("external-link",SL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bE=ze("eye",wL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],kL=ze("file-json",jL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],SE=ze("file-text",CL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],wE=ze("funnel",zL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],jE=ze("git-branch",AL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],i2=ze("globe",NL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],_L=ze("grip-vertical",PL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],km=ze("hard-drive",OL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],kE=ze("history",EL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],DL=ze("house",TL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Qt=ze("info",RL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],ML=ze("key",IL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],CE=ze("layers",LL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],zE=ze("layout-grid",BL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],WL=ze("loader-circle",FL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],AE=ze("lock",$L);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],HL=ze("map-pin",UL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=[["path",{d:"M5 12h14",key:"1ays0h"}]],GL=ze("minus",KL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],$p=ze("package",VL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ai=ze("pen",qL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],wf=ze("play",ZL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Fa=ze("plus",XL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Pa=ze("refresh-cw",YL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],NE=ze("rocket",QL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Pf=ze("rotate-ccw",JL);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],tB=ze("rotate-cw",eB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ds=ze("save",rB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],fn=ze("search",nB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$c=ze("settings",aB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]],r0=ze("sliders-vertical",iB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Ec=ze("sparkles",oB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],Zd=ze("table",sB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ia=ze("trash-2",lB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Up=ze("trending-down",cB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],fl=ze("trending-up",uB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ft=ze("triangle-alert",dB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ws=ze("upload",fB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hB=ze("user",pB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],mB=ze("users",vB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],yB=ze("webhook",gB);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Et=ze("x",xB),bB=[{id:"home",label:"Home",icon:DL},{id:"settings",label:"Einstellungen",icon:$c},{id:"parameters",label:"Parameter",icon:r0},{id:"capacity",label:"Kapazitt",icon:$p},{id:"cluster",label:"Cluster",icon:CE},{id:"storeLayout",label:"Filiallayout",icon:zE},{id:"work",label:"Arbeitsvorrat",icon:VS,badge:3},{id:"runs",label:"Runs",icon:Wp},{id:"scenarios",label:"Szenarien",icon:jE},{id:"exceptions",label:"Exceptions",icon:Ft,badge:12},{id:"dataManager",label:"Datenmanager",icon:Ac}];function SB({currentScreen:e,onNavigate:t}){return a.jsxs("aside",{className:"flex flex-col border-r",style:{width:"var(--sidenav-width-desktop)",backgroundColor:"var(--surface-surface)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"p-6",children:[a.jsx("img",{src:"https://realcore.info/bilder/rc-logo.png",alt:"RealCore Logo",style:{height:"40px",marginBottom:"var(--space-2)"}}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"var(--space-1)"},children:"Allocation Tool"})]}),a.jsx("nav",{className:"flex-1 px-3",children:a.jsxs("div",{style:{marginBottom:"var(--space-4)"},children:[a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em",padding:"0 var(--space-3)",marginBottom:"var(--space-2)"},children:"Navigation"}),a.jsx("div",{className:"space-y-1",children:bB.map(r=>{const n=r.icon,i=e===r.id;return a.jsxs("button",{onClick:()=>t(r.id),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all relative",style:{backgroundColor:i?"var(--surface-subtle-tint)":"transparent",color:i?"var(--text-primary)":"var(--text-secondary)",borderLeft:i?"3px solid var(--brand-accent)":"3px solid transparent",marginLeft:"-3px",paddingLeft:"calc(var(--space-3) + 3px)"},onMouseEnter:o=>{i||(o.currentTarget.style.backgroundColor="var(--bg-tint)")},onMouseLeave:o=>{i||(o.currentTarget.style.backgroundColor="transparent")},children:[a.jsx(n,{size:20}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:i?"var(--font-weight-medium)":"var(--font-weight-regular)"},children:r.label}),r.badge&&a.jsx("span",{className:"ml-auto rounded-full px-2 py-0.5",style:{backgroundColor:"var(--status-danger)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",minWidth:"20px",textAlign:"center"},children:r.badge})]},r.id)})})]})}),a.jsx("div",{className:"p-4 border-t",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center gap-3 px-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)"},children:"JD"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"John Doe"}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Administrator"})]})]})})]})}function wB(){return a.jsxs("header",{className:"flex items-center justify-between px-6 border-b",style:{height:"var(--height-topbar)",backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"flex items-center gap-4 flex-1",children:a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(fn,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{type:"search",placeholder:"Suchen...",className:"w-full pl-10 pr-4 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)",borderRadius:"var(--radius-md)"}})]})}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("button",{className:"p-2 rounded-lg relative",style:{backgroundColor:"transparent",color:"var(--text-secondary)"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="var(--bg-tint)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:[a.jsx(J4,{size:20}),a.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 rounded-full",style:{backgroundColor:"var(--status-danger)"}})]})})]})}function jB({children:e,currentScreen:t,onNavigate:r}){return a.jsxs("div",{className:"flex h-screen overflow-hidden",style:{backgroundColor:"var(--surface-page)"},children:[a.jsx(SB,{currentScreen:t,onNavigate:r}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(wB,{}),a.jsx("main",{className:"flex-1 overflow-auto p-6",children:e})]})]})}const fo="http://localhost:3002/api",Cm=[{id:"store-zh-hb",name:"Zrich HB",description:"Hauptbahnhof Zrich",cluster:"Urban Premium",region:"Zrich",address:"Bahnhofplatz 15",total_capacity:500},{id:"store-bs-sbb",name:"Basel SBB",description:"Basel Bahnhof SBB",cluster:"Urban Standard",region:"Basel",address:"Centralbahnplatz 1",total_capacity:400},{id:"store-be-bhf",name:"Bern",description:"Bern Innenstadt",cluster:"Regional",region:"Bern",address:"Bahnhofplatz 10",total_capacity:350},{id:"store-lu",name:"Luzern",description:"Luzern Bahnhofstrasse",cluster:"Regional",region:"Zentralschweiz",address:"Bahnhofstrasse 5",total_capacity:300},{id:"store-ge",name:"Genf",description:"Genve Centre",cluster:"Urban Premium",region:"Romandie",address:"Rue du Mont-Blanc 22",total_capacity:450},{id:"store-ls",name:"Lausanne",description:"Lausanne Gare",cluster:"Urban Standard",region:"Romandie",address:"Place de la Gare 9",total_capacity:380},{id:"store-sg",name:"St. Gallen",description:"St. Gallen Zentrum",cluster:"Regional",region:"Ostschweiz",address:"Multergasse 15",total_capacity:280},{id:"store-wi",name:"Winterthur",description:"Winterthur Altstadt",cluster:"Regional",region:"Zrich",address:"Marktgasse 25",total_capacity:260}],zm=[{id:"RUN-2025-W50-001",type:"initial",status:"completed",startDate:"2025-12-16 09:30",endDate:"2025-12-16 11:45",articleCount:156,storeCount:12,userName:"M. Weber"},{id:"RUN-2025-W50-002",type:"replenishment",status:"completed",startDate:"2025-12-15 14:20",endDate:"2025-12-15 15:30",articleCount:89,storeCount:10,userName:"S. Mller"},{id:"RUN-2025-W50-003",type:"manual",status:"with_exceptions",startDate:"2025-12-14 10:15",endDate:"2025-12-14 12:00",articleCount:45,storeCount:8,userName:"A. Schmidt"},{id:"RUN-2025-W49-001",type:"initial",status:"completed",startDate:"2025-12-09 08:00",endDate:"2025-12-09 10:30",articleCount:203,storeCount:12,userName:"M. Weber"},{id:"RUN-2025-W49-002",type:"replenishment",status:"completed",startDate:"2025-12-08 13:45",endDate:"2025-12-08 14:50",articleCount:67,storeCount:9,userName:"T. Fischer"},{id:"RUN-2025-W48-001",type:"manual",status:"completed",startDate:"2025-12-02 11:30",endDate:"2025-12-02 13:15",articleCount:34,storeCount:6,userName:"S. Mller"},{id:"RUN-2025-W47-001",type:"initial",status:"running",startDate:"2025-11-25 09:00",articleCount:178,storeCount:12,userName:"M. Weber",progress:65}],Am=[{id:"EXC-001",type:"overcapacity",severity:"critical",status:"open",title:"berkapazitt Running Shoes",description:'SOLL-Kapazitt wird im Cluster "Urban Premium" um 23% berschritten',article:"ART-10245 - Running Shoes Elite",category:"Shoes  Running",cause:'SOLL-Kapazitt wird im Cluster "Urban Premium" um 23% berschritten',process:"initial",source:"simulation",recommendedAction:"Liefertermin verschieben oder Artikel reduzieren",createdAt:"2025-12-16 09:45",season:"SS 2026",cluster:"Urban Premium",capacityDeviation:23},{id:"EXC-002",type:"lot-conflict",severity:"blocking",status:"open",title:"LOT-Konflikt Casual Jacket",description:"LOT-Zwang verletzt: Nur 4 von 6 Gren verfgbar",article:"ART-10892 - Casual Jacket Spring",category:"Apparel  Jackets",cause:"LOT-Zwang verletzt: Nur 4 von 6 Gren verfgbar",process:"initial",source:"planning",recommendedAction:"Artikel aus Lauf entfernen oder fehlende Gren beschaffen",createdAt:"2025-12-16 08:12",season:"SS 2026"},{id:"EXC-003",type:"delivery-conflict",severity:"critical",status:"in_progress",title:"Liefertermin-Konflikt Summer Dress",description:"Zeitliche Verdichtung: 3 Kollektionen in KW 15",article:"ART-11234 - Summer Dress Collection",category:"Apparel  Dresses",cause:"Zeitliche Verdichtung: 3 Kollektionen in KW 15",process:"replenishment",source:"simulation",recommendedAction:"Liefertermin um 1 Woche verschieben",createdAt:"2025-12-15 14:30",season:"SS 2026",cluster:"Alle",capacityDeviation:45,assignedTo:"Maria Mller"},{id:"EXC-004",type:"undercapacity",severity:"info",status:"ignored",title:"Untererfllung Accessories",description:"SOLL-Kapazitt wird nur zu 78% ausgelastet",article:"Kategorie: Accessories",category:"Accessories",cause:"SOLL-Kapazitt wird nur zu 78% ausgelastet",process:"initial",source:"planning",recommendedAction:"Zustzliche Artikel einplanen oder Abweichung akzeptieren",createdAt:"2025-12-14 11:20",season:"SS 2026",capacityDeviation:-22},{id:"EXC-005",type:"parameter-conflict",severity:"blocking",status:"open",title:"Parameter-Konflikt Premium Sneakers",description:"Mindestprsentationsmenge (8 Stk.) > verfgbare Kapazitt (5 Stk.)",article:"ART-10567 - Premium Sneakers",category:"Shoes  Sneakers",cause:"Mindestprsentationsmenge (8 Stk.) > verfgbare Kapazitt (5 Stk.)",process:"initial",source:"planning",recommendedAction:"Parameter prfen und anpassen",createdAt:"2025-12-16 10:05",season:"SS 2026"},{id:"EXC-006",type:"manual-deviation",severity:"info",status:"ignored",title:"Manuelle Abweichung Special Edition",description:"Bewusste berallokation fr Marketingaktion",article:"ART-10123 - Special Edition",category:"Shoes  Limited",cause:"Bewusste berallokation fr Marketingaktion",process:"initial",source:"production",recommendedAction:"Keine Aktion erforderlich (akzeptiert)",createdAt:"2025-12-13 16:45",season:"SS 2026",capacityDeviation:15,assignedTo:"Andreas Schmidt"},{id:"EXC-007",type:"overcapacity",severity:"critical",status:"in_progress",title:"berkapazitt Electronics",description:"Nachschub berschreitet verfgbare Lagerflche",article:"Kategorie: Electronics",category:"Electronics",cause:"Nachschub berschreitet verfgbare Lagerflche",process:"replenishment",source:"simulation",recommendedAction:"Mengereduktion oder zeitliche Staffelung",createdAt:"2025-12-15 09:30",season:"AW 2025",cluster:"Regional",capacityDeviation:18,assignedTo:"Julia Weber"},{id:"EXC-008",type:"delivery-conflict",severity:"info",status:"resolved",title:"Liefertermin Winter Boots",description:"Ursprnglicher Liefertermin zu spt",article:"ART-10889 - Winter Boots",category:"Shoes  Boots",cause:"Ursprnglicher Liefertermin zu spt",process:"initial",source:"planning",recommendedAction:"Liefertermin angepasst",createdAt:"2025-12-10 08:00",season:"AW 2025"}],Nm=[{id:"task-001",title:"HW 2025 Allokation prfen",description:"berprfung der initialen Allokation fr die Herbst/Winter Saison",type:"review",status:"in_progress",priority:"high",assignedTo:"M. Weber",dueDate:"2025-01-10",relatedScenarioId:"scenario-001"},{id:"task-002",title:"Exception Zrich HB bearbeiten",description:"Kapazittsberschreitung in Zrich HB lsen",type:"exception",status:"pending",priority:"urgent",assignedTo:"S. Mller",dueDate:"2025-01-08",relatedRunId:"RUN-2025-003"},{id:"task-003",title:"Nachschub-Szenario freigeben",description:"NOS Nachschub Szenario zur Produktion freigeben",type:"approval",status:"pending",priority:"medium",assignedTo:"A. Schmidt",dueDate:"2025-01-09",relatedScenarioId:"scenario-003"},{id:"task-004",title:"Prognose-Parameter optimieren",description:"Forecast-Gewichtung basierend auf Q4 Ergebnissen anpassen",type:"allocation",status:"pending",priority:"medium",assignedTo:"M. Weber",dueDate:"2025-01-12"},{id:"task-005",title:"Neue Artikel SS26 einplanen",description:"Spring/Summer 2026 Kollektion in Planung aufnehmen",type:"allocation",status:"pending",priority:"low",assignedTo:"T. Fischer",dueDate:"2025-01-15"}],Pm=[{id:"scenario-001",name:"Standard Allokation HW 2025",description:"Standardszenario fr die Herbst/Winter Saison 2025",status:"approved",allocationType:"initial",createdBy:"M. Weber",parameters:{forecast_weight:.6,historical_weight:.4,safety_stock_factor:1.2},results:{total_allocated:15420,stores_covered:8,expected_fill_rate:94.5,capacity_utilization:87.2,exceptions:3}},{id:"scenario-002",name:"Optimiert - Hohe Prognosegewichtung",description:"Szenario mit erhhter Gewichtung der Absatzprognose",status:"simulated",allocationType:"initial",createdBy:"S. Mller",parameters:{forecast_weight:.8,historical_weight:.2,safety_stock_factor:1.1},results:{total_allocated:16800,stores_covered:8,expected_fill_rate:96.2,capacity_utilization:91.5,exceptions:5}},{id:"scenario-003",name:"NOS Nachschub - Standard",description:"Standardszenario fr Never-out-of-Stock Nachschub",status:"approved",allocationType:"replenishment",createdBy:"T. Fischer",parameters:{forecast_weight:.5,historical_weight:.5,safety_stock_factor:1.5},results:{total_allocated:8500,stores_covered:8,expected_fill_rate:98.1,capacity_utilization:72.3,exceptions:1}},{id:"scenario-004",name:"SS 2026 Initial Draft",description:"Erster Entwurf fr Spring/Summer 2026",status:"draft",allocationType:"initial",createdBy:"M. Weber",parameters:{forecast_weight:.7,historical_weight:.3,safety_stock_factor:1.3}}],_m=[{id:"param-001",category:"capacity",name:"Flchenbedarf pro Einheit",key:"area_per_unit",value:.035,unit:"m",description:"Durchschnittlicher Prsentationsflchenbedarf je Stck"},{id:"param-002",category:"capacity",name:"Maximale Auslastung",key:"max_utilization",value:95,unit:"%",description:"Maximale erlaubte Kapazittsauslastung"},{id:"param-003",category:"presentation",name:"Mindestprsentationsmenge",key:"min_presentation",value:3,unit:"Stck",description:"Mindestmenge, um Artikel prsentieren zu drfen"},{id:"param-004",category:"presentation",name:"Mindestmenge je Gre",key:"min_per_size",value:2,unit:"Stck",description:"Mindestanzahl pro Gre fr vollstndige Darstellung"},{id:"param-005",category:"presentation",name:"LOT-Zwang",key:"lot_required",value:!0,unit:"",description:"Allokation nur bei vollstndigem Grenlauf erlaubt"},{id:"param-006",category:"control",name:"Prognose-Horizont",key:"forecast_horizon",value:8,unit:"Wochen",description:"Zeitraum fr Absatzprognose"},{id:"param-007",category:"control",name:"Sicherheitsbestand-Tage",key:"safety_stock_days",value:14,unit:"Tage",description:"Puffer fr Nachschub-Verzgerungen"},{id:"param-008",category:"forecast",name:"Prognose-Gewichtung",key:"forecast_weight",value:.6,unit:"",description:"Gewichtung der Absatzprognose vs. historische Daten"},{id:"param-009",category:"forecast",name:"Saisonalittsfaktor",key:"seasonality_factor",value:1.2,unit:"",description:"Multiplikator fr saisonale Schwankungen"},{id:"param-010",category:"governance",name:"Freigabe-Schwellwert",key:"approval_threshold",value:1e4,unit:"",description:"Ab diesem Wert ist eine Freigabe erforderlich"}],Xt={stores:"allocation_stores",runs:"allocation_runs",exceptions:"allocation_exceptions",tasks:"allocation_tasks",scenarios:"allocation_scenarios",parameters:"allocation_parameters"};function ss(e,t){try{const r=localStorage.getItem(e);return r?JSON.parse(r):(localStorage.setItem(e,JSON.stringify(t)),t)}catch{return t}}function _a(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.error("Failed to save to localStorage:",r)}}async function ls(e,t){try{if((await fetch(`${fo}/health`,{method:"GET"})).ok)return await e()}catch{}return t()}const Ra={async getStores(){return ls(async()=>{const t=await(await fetch(`${fo}/stores`)).json();return t.success?t.data:Cm},()=>ss(Xt.stores,Cm))},async getStore(e){return(await this.getStores()).find(r=>r.id===e)},async getRuns(){return ls(async()=>{const t=await(await fetch(`${fo}/runs`)).json();return t.success?t.data.map(r=>({id:r.id,type:r.type,status:r.status==="with_exceptions"?"with_exceptions":r.status,startDate:r.start_date,endDate:r.end_date,articleCount:r.article_count,storeCount:r.store_count,progress:r.progress,userName:r.user_name})):zm},()=>ss(Xt.runs,zm))},async getRun(e){return(await this.getRuns()).find(r=>r.id===e)},async createRun(e){const t={...e,id:`RUN-${Date.now()}`},r=await this.getRuns();return r.unshift(t),_a(Xt.runs,r),t},async updateRun(e,t){const r=await this.getRuns(),n=r.findIndex(i=>i.id===e);if(n>=0)return r[n]={...r[n],...t},_a(Xt.runs,r),r[n]},async getExceptions(){return ls(async()=>{const t=await(await fetch(`${fo}/exceptions`)).json();return t.success?t.data.map(r=>({...r,createdAt:r.created_at||r.createdAt})):Am},()=>ss(Xt.exceptions,Am))},async updateException(e,t){const r=await this.getExceptions(),n=r.findIndex(i=>i.id===e);if(n>=0)return r[n]={...r[n],...t},_a(Xt.exceptions,r),r[n]},async getTasks(){return ls(async()=>{const t=await(await fetch(`${fo}/tasks`)).json();return t.success?t.data.map(r=>({id:r.id,title:r.title,description:r.description,type:r.type,status:r.status,priority:r.priority,assignedTo:r.assigned_to,dueDate:r.due_date,relatedRunId:r.related_run_id,relatedScenarioId:r.related_scenario_id})):Nm},()=>ss(Xt.tasks,Nm))},async createTask(e){const t={...e,id:`task-${Date.now()}`},r=await this.getTasks();return r.unshift(t),_a(Xt.tasks,r),t},async updateTask(e,t){const r=await this.getTasks(),n=r.findIndex(i=>i.id===e);if(n>=0)return r[n]={...r[n],...t},_a(Xt.tasks,r),r[n]},async deleteTask(e){const t=await this.getTasks(),r=t.filter(n=>n.id!==e);return r.length<t.length?(_a(Xt.tasks,r),!0):!1},async getScenarios(){return ls(async()=>{const t=await(await fetch(`${fo}/scenarios`)).json();return t.success?t.data.map(r=>({id:r.id,name:r.name,description:r.description,status:r.status,allocationType:r.allocation_type,createdBy:r.created_by,parameters:r.parameters,results:r.results})):Pm},()=>ss(Xt.scenarios,Pm))},async createScenario(e){const t={...e,id:`scenario-${Date.now()}`},r=await this.getScenarios();return r.unshift(t),_a(Xt.scenarios,r),t},async updateScenario(e,t){const r=await this.getScenarios(),n=r.findIndex(i=>i.id===e);if(n>=0)return r[n]={...r[n],...t},_a(Xt.scenarios,r),r[n]},async getParameters(){return ls(async()=>{const t=await(await fetch(`${fo}/parameters`)).json();return t.success?t.data:_m},()=>ss(Xt.parameters,_m))},async updateParameter(e,t){const r=await this.getParameters(),n=r.findIndex(i=>i.id===e);if(n>=0)return r[n]={...r[n],value:t},_a(Xt.parameters,r),r[n]},async getKPIs(){const[e,t,r,n,i]=await Promise.all([this.getTasks(),this.getRuns(),this.getExceptions(),this.getScenarios(),this.getStores()]);return{openTasks:e.filter(o=>o.status==="pending"||o.status==="in_progress").length,activeRuns:t.filter(o=>o.status==="running"||o.status==="planned").length,openExceptions:r.filter(o=>o.status==="open"||o.status==="in_progress").length,approvedScenarios:n.filter(o=>o.status==="approved").length,totalStores:i.length,totalArticles:156}},resetToDefaults(){localStorage.setItem(Xt.stores,JSON.stringify(Cm)),localStorage.setItem(Xt.runs,JSON.stringify(zm)),localStorage.setItem(Xt.exceptions,JSON.stringify(Am)),localStorage.setItem(Xt.tasks,JSON.stringify(Nm)),localStorage.setItem(Xt.scenarios,JSON.stringify(Pm)),localStorage.setItem(Xt.parameters,JSON.stringify(_m))}},kB=[{id:"settings",title:"Allokationseinstellungen",description:"Konfigurieren Sie Zuweisungsregeln, Prioritten und automatische Optimierungen",icon:$c,color:"var(--brand-primary)"},{id:"parameters",title:"Allokationsparameter",description:"Zentrale Pflege von Kapazitts-, Prsentations- und Steuerungsparametern",icon:r0,color:"var(--status-info)"},{id:"capacity",title:"Kapazittsplanung",description:"Analysieren und optimieren Sie Raumkapazitten mit Space-Fit-Visualisierung",icon:$p,color:"var(--status-success)"},{id:"cluster",title:"Filial-Cluster",description:"Filialen gruppieren & systemgesttzt optimieren",icon:CE,color:"#ec4899"},{id:"storeLayout",title:"Filiallayout & Warentrger",description:"Visualisieren und planen Sie Verkaufsflchen mit Warentrger-Drag & Drop",icon:zE,color:"#6366f1"},{id:"work",title:"Arbeitsvorrat",description:"Verwalten Sie Allokationsaufgaben und erstellen Sie neue Zuweisungen",icon:VS,color:"var(--brand-accent)"},{id:"runs",title:"Ausfhrungs-Runs",description:"berwachen Sie laufende und abgeschlossene Allokationsprozesse",icon:Wp,color:"var(--status-warning)"},{id:"scenarios",title:"Szenario- & Variantenmanagement",description:"Vergleichen, validieren und freigeben Sie Allokationsvarianten",icon:jE,color:"#7c3aed"},{id:"scenarioManagement",title:"Erweiterte Variantenverwaltung",description:"Policy-Parameter, Forecast-Logik, Explainability und Simulationsanalyse",icon:r0,color:"#8b5cf6"},{id:"exceptions",title:"Exception Cockpit",description:"Behandeln Sie Ausnahmen und Konflikte in der Allokation",icon:Ft,color:"var(--status-danger)"},{id:"analytics",title:"Analytics & Reports",description:"Detaillierte Auswertungen und KPI-Dashboards",icon:Fp,color:"var(--text-secondary)"}];function o2({onNavigate:e}){const{state:t}=M4(),[r,n]=z.useState({openTasks:0,activeRuns:0,openExceptions:0});z.useEffect(()=>{(async()=>{try{const d=await Ra.getKPIs();n(d)}catch(d){console.error("Failed to load KPIs:",d);const f=t.tasks?.filter(m=>m.status==="pending"||m.status==="in_progress").length||0,v=t.runs?.filter(m=>m.status==="running"||m.status==="planned").length||0,h=t.exceptions?.filter(m=>m.status==="open"||m.status==="in_progress").length||0;n({openTasks:f,activeRuns:v,openExceptions:h})}})()},[t]);const{openTasks:i,activeRuns:o,openExceptions:l}=r;return a.jsxs("div",{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Willkommen im Allocation Tool"}),a.jsxs("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:["Verwalten Sie Ihre Allokationsprozesse zentral und effizient",t.currentUser&&`  Angemeldet als ${t.currentUser.name}`]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:kB.map(u=>{const d=u.icon;return a.jsxs("button",{onClick:()=>e(u.id),className:"group text-left p-6 rounded-lg border transition-all",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-subtle)",borderRadius:"var(--radius-lg)"},onMouseEnter:f=>{f.currentTarget.style.boxShadow="var(--shadow-sm)",f.currentTarget.style.borderColor=u.color},onMouseLeave:f=>{f.currentTarget.style.boxShadow="none",f.currentTarget.style.borderColor="var(--border-subtle)"},children:[a.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center mb-4",style:{backgroundColor:`${u.color}15`,color:u.color},children:a.jsx(d,{size:24})}),a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:u.title}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)",lineHeight:"var(--line-height-sm)"},children:u.description}),a.jsxs("div",{className:"mt-4 flex items-center gap-2",style:{color:u.color},children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"ffnen"}),a.jsx("span",{className:"transition-transform group-hover:translate-x-1",children:""})]})]},u.id)})}),a.jsxs("div",{className:"mt-8 p-6 rounded-lg border",style:{backgroundColor:"var(--surface-subtle-tint)",borderColor:"var(--border-subtle)",borderRadius:"var(--radius-lg)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Schnellzugriff"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--status-info)",color:"var(--text-inverse)"},children:a.jsx(VS,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Offene Tasks"}),a.jsx("p",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:i})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--status-success)",color:"var(--text-inverse)"},children:a.jsx(Wp,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Aktive Runs"}),a.jsx("p",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:o})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--status-danger)",color:"var(--text-inverse)"},children:a.jsx(Ft,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Exceptions"}),a.jsx("p",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:l})]})]})]})]})]})}function Nr({columns:e,data:t,density:r="comfortable",hasSelection:n=!1,onRowClick:i,sortBy:o,sortDirection:l,onSort:u,emptyMessage:d="Keine Daten verfgbar"}){const f=r==="compact"?"var(--height-table-row-compact)":"var(--height-table-row)",v=r==="compact"?"var(--height-table-header-compact)":"var(--height-table-header)";return t.length===0?a.jsx("div",{className:"flex items-center justify-center border rounded-lg p-12",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-alt)"},children:a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:d})}):a.jsx("div",{className:"border rounded-lg overflow-hidden",style:{borderColor:"var(--border-default)"},children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",style:{borderCollapse:"collapse"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{backgroundColor:"var(--surface-surface)",height:v,borderBottom:"1px solid var(--border-default)"},children:[n&&a.jsx("th",{style:{width:"48px",padding:"0 var(--space-4)"},children:a.jsx("input",{type:"checkbox"})}),e.map(h=>a.jsx("th",{style:{textAlign:h.align||"left",padding:"0 var(--space-4)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",width:h.width,whiteSpace:"nowrap"},children:h.sortable?a.jsxs("button",{onClick:()=>u?.(h.key),className:"flex items-center gap-2 hover:opacity-70",children:[h.label,o===h.key&&(l==="asc"?a.jsx(gE,{size:16}):a.jsx(To,{size:16}))]}):h.label},h.key))]})}),a.jsx("tbody",{children:t.map((h,m)=>a.jsxs("tr",{onClick:()=>i?.(h),className:"border-t transition-colors",style:{height:f,borderColor:"var(--border-default)",cursor:i?"pointer":"default"},onMouseEnter:b=>{b.currentTarget.style.backgroundColor="var(--bg-tint)"},onMouseLeave:b=>{b.currentTarget.style.backgroundColor="transparent"},children:[n&&a.jsx("td",{style:{padding:"0 var(--space-4)"},children:a.jsx("input",{type:"checkbox"})}),e.map(b=>a.jsx("td",{style:{textAlign:b.align||"left",padding:"0 var(--space-4)",fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:b.render?b.render(h[b.key],h):h[b.key]},b.key))]},m))})]})})})}function n0({isOpen:e,onClose:t,title:r,availableLocations:n,selectedLocations:i,onConfirm:o,multiSelect:l=!0}){const[u,d]=z.useState(""),[f,v]=z.useState(""),[h,m]=z.useState(""),[b,w]=z.useState(i),x=z.useMemo(()=>n.filter(N=>{const A=u===""||N.id.toLowerCase().includes(u.toLowerCase()),O=f===""||N.name.toLowerCase().includes(f.toLowerCase()),_=h===""||N.address.toLowerCase().includes(h.toLowerCase());return A&&O&&_}),[n,u,f,h]);if(!e)return null;const y=N=>{w(l?A=>A.some(_=>_.id===N.id)?A.filter(_=>_.id!==N.id):[...A,N]:[N])},j=N=>b.some(A=>A.id===N.id),k=()=>{o(b),t()},S=()=>{w(i),d(""),v(""),m(""),t()};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:S,children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-4xl",style:{boxShadow:"var(--shadow-lg)",maxHeight:"85vh",display:"flex",flexDirection:"column"},onClick:N=>N.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:r}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:l?"Whlen Sie eine oder mehrere Lokationen aus":"Whlen Sie eine Lokation aus"})]}),a.jsx("button",{onClick:S,className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search-id",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"ID"}),a.jsxs("div",{className:"relative",children:[a.jsx(fn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{id:"search-id",type:"text",value:u,onChange:N=>d(N.target.value),placeholder:"Suchen...",className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search-name",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(fn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{id:"search-name",type:"text",value:f,onChange:N=>v(N.target.value),placeholder:"Suchen...",className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search-address",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Adresse"}),a.jsxs("div",{className:"relative",children:[a.jsx(fn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{id:"search-address",type:"text",value:h,onChange:N=>m(N.target.value),placeholder:"Suchen...",className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]})]})]}),a.jsxs("div",{className:"mt-3",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[x.length," ",x.length===1?"Eintrag":"Eintrge"," gefunden",b.length>0&&`  ${b.length} ausgewhlt`]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{style:{position:"sticky",top:0,backgroundColor:"var(--surface-alt)",zIndex:1},children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"50px"}}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"ID"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Name"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Adresse"})]})}),a.jsxs("tbody",{children:[x.map((N,A)=>{const O=j(N);return a.jsxs("tr",{onClick:()=>y(N),className:"cursor-pointer hover:bg-surface-tint transition-colors",style:{borderBottom:A<x.length-1?"1px solid var(--border-subtle)":"none",backgroundColor:O?"var(--surface-info-subtle)":"transparent"},children:[a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded border",style:{borderColor:O?"var(--brand-primary)":"var(--border-default)",backgroundColor:O?"var(--brand-primary)":"transparent"},children:O&&a.jsx(Za,{size:14,style:{color:"var(--text-inverse)"}})})}),a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:N.id})}),a.jsx("td",{style:{padding:"12px 16px",fontWeight:"var(--font-weight-medium)"},children:N.name}),a.jsx("td",{style:{padding:"12px 16px",color:"var(--text-secondary)"},children:N.address})]},N.id)}),x.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,style:{padding:"40px 16px",textAlign:"center",color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Keine Eintrge gefunden"})})]})]})}),a.jsxs("div",{className:"p-6 border-t flex justify-end gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:S,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)"},children:"Abbrechen"}),a.jsxs("button",{onClick:k,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:["bernehmen (",b.length,")"]})]})]})})}function CB({isOpen:e,onClose:t,distributionCenterName:r,availableLocations:n,selectedLocations:i,onConfirm:o}){const[l,u]=z.useState(i);if(!e)return null;const d=w=>{u(x=>x.includes(w)?x.filter(j=>j!==w):[...x,w])},f=w=>l.includes(w),v=()=>{o(l),t()},h=()=>{u(i),t()},m=()=>{u(n)},b=()=>{u([])};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:h,children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl",style:{boxShadow:"var(--shadow-lg)",maxHeight:"85vh",display:"flex",flexDirection:"column"},onClick:w=>w.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:"Lagerorte auswhlen"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:r})]}),a.jsx("button",{onClick:h,className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsxs("div",{className:"p-6 border-b flex items-center justify-between",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[l.length," von ",n.length," ausgewhlt"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:m,className:"px-3 py-1.5 rounded-lg border text-sm",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-xs)"},children:"Alle auswhlen"}),a.jsx("button",{onClick:b,className:"px-3 py-1.5 rounded-lg border text-sm",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-xs)"},children:"Keine auswhlen"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsx("div",{className:"grid grid-cols-2 gap-3",children:n.map(w=>{const x=f(w);return a.jsxs("button",{onClick:()=>d(w),className:"flex items-center gap-3 p-3 rounded-lg border hover:border-brand-primary transition-colors",style:{backgroundColor:x?"var(--surface-info-subtle)":"var(--surface-page)",borderColor:x?"var(--brand-primary)":"var(--border-default)",textAlign:"left"},children:[a.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded border flex-shrink-0",style:{borderColor:x?"var(--brand-primary)":"var(--border-default)",backgroundColor:x?"var(--brand-primary)":"transparent"},children:x&&a.jsx(Za,{size:14,style:{color:"var(--text-inverse)"}})}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:x?"var(--font-weight-medium)":"var(--font-weight-regular)"},children:w})]},w)})})}),a.jsxs("div",{className:"p-6 border-t flex justify-end gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:h,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)"},children:"Abbrechen"}),a.jsxs("button",{onClick:v,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:["bernehmen (",l.length,")"]})]})]})})}function zB({isOpen:e,onClose:t,availableAllocators:r,selectedAllocators:n,onConfirm:i,multiSelect:o=!0}){const[l,u]=z.useState(""),[d,f]=z.useState(""),[v,h]=z.useState(""),[m,b]=z.useState(n),w=z.useMemo(()=>r.filter(S=>{const N=l===""||S.id.toLowerCase().includes(l.toLowerCase()),A=d===""||S.name.toLowerCase().includes(d.toLowerCase()),O=v===""||S.role.toLowerCase().includes(v.toLowerCase());return N&&A&&O}),[r,l,d,v]);if(!e)return null;const x=S=>{b(o?N=>N.some(O=>O.id===S.id)?N.filter(O=>O.id!==S.id):[...N,S]:[S])},y=S=>m.some(N=>N.id===S.id),j=()=>{i(m),t()},k=()=>{b(n),u(""),f(""),h(""),t()};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:k,children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-4xl",style:{boxShadow:"var(--shadow-lg)",maxHeight:"85vh",display:"flex",flexDirection:"column"},onClick:S=>S.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:"Allokator hinzufgen"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:o?"Whlen Sie einen oder mehrere Mitarbeiter aus":"Whlen Sie einen Mitarbeiter aus"})]}),a.jsx("button",{onClick:k,className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search-id",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"ID"}),a.jsxs("div",{className:"relative",children:[a.jsx(fn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{id:"search-id",type:"text",value:l,onChange:S=>u(S.target.value),placeholder:"Suchen...",className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search-name",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(fn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{id:"search-name",type:"text",value:d,onChange:S=>f(S.target.value),placeholder:"Suchen...",className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"search-role",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Rolle"}),a.jsxs("div",{className:"relative",children:[a.jsx(fn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{id:"search-role",type:"text",value:v,onChange:S=>h(S.target.value),placeholder:"Suchen...",className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]})]})]}),a.jsxs("div",{className:"mt-3",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[w.length," ",(w.length===1,"Mitarbeiter")," gefunden",m.length>0&&`  ${m.length} ausgewhlt`]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{style:{position:"sticky",top:0,backgroundColor:"var(--surface-alt)",zIndex:1},children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"50px"}}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"ID"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Name"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Rolle"})]})}),a.jsxs("tbody",{children:[w.map((S,N)=>{const A=y(S);return a.jsxs("tr",{onClick:()=>x(S),className:"cursor-pointer hover:bg-surface-tint transition-colors",style:{borderBottom:N<w.length-1?"1px solid var(--border-subtle)":"none",backgroundColor:A?"var(--surface-info-subtle)":"transparent"},children:[a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded border",style:{borderColor:A?"var(--brand-primary)":"var(--border-default)",backgroundColor:A?"var(--brand-primary)":"transparent"},children:A&&a.jsx(Za,{size:14,style:{color:"var(--text-inverse)"}})})}),a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:S.id})}),a.jsx("td",{style:{padding:"12px 16px",fontWeight:"var(--font-weight-medium)"},children:S.name}),a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:S.role==="Admin"?"var(--surface-error-subtle)":"var(--surface-info-subtle)",color:S.role==="Admin"?"var(--text-error)":"var(--text-info)"},children:S.role})})]},S.id)}),w.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,style:{padding:"40px 16px",textAlign:"center",color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Keine Mitarbeiter gefunden"})})]})]})}),a.jsxs("div",{className:"p-6 border-t flex justify-end gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:k,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)"},children:"Abbrechen"}),a.jsxs("button",{onClick:j,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:["bernehmen (",m.length,")"]})]})]})})}const Om=[{id:"fashion",label:"Fashion",children:[{id:"fashion-apparel",label:"Apparel",children:[{id:"fashion-apparel-tops",label:"Tops"},{id:"fashion-apparel-bottoms",label:"Bottoms"},{id:"fashion-apparel-dresses",label:"Dresses"}]},{id:"fashion-shoes",label:"Shoes",children:[{id:"fashion-shoes-sneakers",label:"Sneakers"},{id:"fashion-shoes-boots",label:"Boots"},{id:"fashion-shoes-sandals",label:"Sandals"}]},{id:"fashion-accessories",label:"Accessories",children:[{id:"fashion-accessories-bags",label:"Bags"},{id:"fashion-accessories-belts",label:"Belts"},{id:"fashion-accessories-jewelry",label:"Jewelry"}]}]},{id:"electronics",label:"Electronics",children:[{id:"electronics-computers",label:"Computers",children:[{id:"electronics-computers-laptops",label:"Laptops"},{id:"electronics-computers-desktops",label:"Desktops"},{id:"electronics-computers-tablets",label:"Tablets"}]},{id:"electronics-phones",label:"Phones",children:[{id:"electronics-phones-smartphones",label:"Smartphones"},{id:"electronics-phones-accessories",label:"Accessories"}]},{id:"electronics-audio",label:"Audio",children:[{id:"electronics-audio-headphones",label:"Headphones"},{id:"electronics-audio-speakers",label:"Speakers"}]}]},{id:"home",label:"Home & Living",children:[{id:"home-furniture",label:"Furniture",children:[{id:"home-furniture-seating",label:"Seating"},{id:"home-furniture-tables",label:"Tables"},{id:"home-furniture-storage",label:"Storage"}]},{id:"home-decor",label:"Decor",children:[{id:"home-decor-lighting",label:"Lighting"},{id:"home-decor-textiles",label:"Textiles"},{id:"home-decor-wall-art",label:"Wall Art"}]}]}];function PE({node:e,level:t=0,selectedIds:r,expandedIds:n,onToggleExpand:i,onToggleSelect:o}){const l=e.children&&e.children.length>0,u=n.has(e.id),d=r.has(e.id);return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 py-2 px-3 cursor-pointer hover:bg-surface-tint rounded transition-colors",style:{paddingLeft:`${t*24+12}px`},children:[a.jsx("div",{style:{width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:l?a.jsx("button",{onClick:f=>{f.stopPropagation(),i(e.id)},className:"p-0.5 hover:bg-surface-subtle-tint rounded",children:u?a.jsx(To,{size:16,style:{color:"var(--text-muted)"}}):a.jsx(dn,{size:16,style:{color:"var(--text-muted)"}})}):null}),a.jsx("div",{onClick:()=>o(e.id,e.label),className:"flex items-center justify-center w-5 h-5 rounded border",style:{borderColor:d?"var(--brand-primary)":"var(--border-default)",backgroundColor:d?"var(--brand-primary)":"transparent"},children:d&&a.jsx(Za,{size:14,style:{color:"var(--text-inverse)"}})}),a.jsx("span",{onClick:()=>o(e.id,e.label),style:{fontSize:"var(--font-size-sm)",fontWeight:t===0?"var(--font-weight-semibold)":"var(--font-weight-regular)",flex:1},children:e.label})]}),l&&u&&a.jsx("div",{children:e.children.map(f=>a.jsx(PE,{node:f,level:t+1,selectedIds:r,expandedIds:n,onToggleExpand:i,onToggleSelect:o},f.id))})]})}function AB({isOpen:e,onClose:t,selectedAreas:r,onConfirm:n}){const[i,o]=z.useState(()=>{const m=new Map;return r.forEach(b=>{const w=y=>{for(const j of y){if(j.label===b)return j;if(j.children){const k=w(j.children);if(k)return k}}return null},x=w(Om);x&&m.set(x.id,x.label)}),m}),[l,u]=z.useState(new Set(["fashion","electronics","home"]));if(!e)return null;const d=m=>{u(b=>{const w=new Set(b);return w.has(m)?w.delete(m):w.add(m),w})},f=(m,b)=>{o(w=>{const x=new Map(w);return x.has(m)?x.delete(m):x.set(m,b),x})},v=()=>{const m=Array.from(i.values());n(m),t()},h=()=>{const m=new Map;r.forEach(b=>{const w=y=>{for(const j of y){if(j.label===b)return j;if(j.children){const k=w(j.children);if(k)return k}}return null},x=w(Om);x&&m.set(x.id,x.label)}),o(m),t()};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:h,children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-3xl",style:{boxShadow:"var(--shadow-lg)",maxHeight:"85vh",display:"flex",flexDirection:"column"},onClick:m=>m.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:"Verantwortungsbereich festlegen"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Whlen Sie die relevanten Artikelhierarchieebenen aus"})]}),a.jsx("button",{onClick:h,className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsx("div",{className:"px-6 py-3 border-b",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-alt)"},children:a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[i.size," ",i.size===1?"Bereich":"Bereiche"," ausgewhlt"]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:Om.map(m=>a.jsx(PE,{node:m,selectedIds:new Set(i.keys()),expandedIds:l,onToggleExpand:d,onToggleSelect:f},m.id))}),i.size>0&&a.jsxs("div",{className:"px-6 py-4 border-t",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-subtle-tint)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Ausgewhlte Bereiche:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from(i.values()).map((m,b)=>a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--text-info)",fontSize:"var(--font-size-xs)"},children:m},b))})]}),a.jsxs("div",{className:"p-6 border-t flex justify-end gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:h,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)"},children:"Abbrechen"}),a.jsxs("button",{onClick:v,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:["bernehmen (",i.size,")"]})]})]})})}const NB=[{id:"DC-001",name:"Zentrallager Zrich",address:"Industriestrasse 45, 8005 Zrich",warehouses:[]},{id:"DC-002",name:"Regionallager Basel",address:"Hafenweg 12, 4052 Basel",warehouses:[]},{id:"DC-003",name:"Logistikzentrum Bern",address:"Industrieweg 23, 3013 Bern",warehouses:[]},{id:"DC-004",name:"Verteilzentrum Luzern",address:"Obergrundstrasse 88, 6005 Luzern",warehouses:[]},{id:"DC-005",name:"Zentrallager St. Gallen",address:"Industriestrasse 14, 9014 St. Gallen",warehouses:[]},{id:"DC-006",name:"Regionallager Genf",address:"Route de la Chapelle 12, 1212 Genf",warehouses:[]}],PB=[{id:"FL-001",name:"Zrich HB",address:"Bahnhofplatz 1, 8001 Zrich",cluster:"Urban Premium",isReference:!1},{id:"FL-002",name:"Bern Zentrum",address:"Spitalgasse 4, 3011 Bern",cluster:"Urban Premium",isReference:!1},{id:"FL-003",name:"Basel SBB",address:"Centralbahnplatz 1, 4051 Basel",cluster:"Urban Premium",isReference:!1},{id:"FL-004",name:"Genf Cornavin",address:"Place de Cornavin 7, 1201 Genf",cluster:"Urban Premium",isReference:!1},{id:"FL-005",name:"Lausanne Centre",address:"Rue du Pont 5, 1003 Lausanne",cluster:"Urban Standard",isReference:!1},{id:"FL-006",name:"Luzern Bahnhof",address:"Bahnhofstrasse 3, 6003 Luzern",cluster:"Urban Standard",isReference:!1},{id:"FL-007",name:"St. Gallen Marktplatz",address:"Marktgasse 12, 9004 St. Gallen",cluster:"Urban Standard",isReference:!1},{id:"FL-008",name:"Winterthur Stadtgarten",address:"Stadthausstrasse 8, 8400 Winterthur",cluster:"Regional",isReference:!1},{id:"FL-009",name:"Lugano Centro",address:"Via Nassa 15, 6900 Lugano",cluster:"Regional",isReference:!1},{id:"FL-010",name:"Thun Blliz",address:"Blliz 45, 3600 Thun",cluster:"Regional",isReference:!1}],_B=["Lager A","Lager B","Lager C","Lager D","Lager E","Lager 1","Lager 2","Lager 3","Hochregallager Nord","Hochregallager Sd","Kommissionierzone 1","Kommissionierzone 2","Khlhaus","Freilager"],OB=[{id:"DC-001",name:"Zentrallager Zrich",address:"Industriestrasse 45, 8005 Zrich",warehouses:["Lager A","Lager B","Lager C"]},{id:"DC-002",name:"Regionallager Basel",address:"Hafenweg 12, 4052 Basel",warehouses:["Lager 1","Lager 2"]}],EB=[{id:"FL-001",name:"Zrich HB",address:"Bahnhofplatz 1, 8001 Zrich",cluster:"Urban Premium",isReference:!0},{id:"FL-002",name:"Bern Zentrum",address:"Spitalgasse 4, 3011 Bern",cluster:"Urban Premium",isReference:!1},{id:"FL-003",name:"Basel Marktplatz",address:"Marktplatz 10, 4001 Basel",cluster:"Urban Standard",isReference:!1}],TB=[{id:"USR-001",name:"Maria Mller",role:"Allocator",responsibilityArea:""},{id:"USR-002",name:"Andreas Schmidt",role:"Admin",responsibilityArea:""},{id:"USR-003",name:"Julia Weber",role:"Allocator",responsibilityArea:""},{id:"USR-004",name:"Thomas Fischer",role:"Allocator",responsibilityArea:""},{id:"USR-005",name:"Sarah Meier",role:"Allocator",responsibilityArea:""},{id:"USR-006",name:"Michael Huber",role:"Manager",responsibilityArea:""},{id:"USR-007",name:"Laura Zimmermann",role:"Planner",responsibilityArea:""},{id:"USR-008",name:"David Keller",role:"Allocator",responsibilityArea:""},{id:"USR-009",name:"Anna Brunner",role:"Allocator",responsibilityArea:""},{id:"USR-010",name:"Stefan Wyss",role:"Admin",responsibilityArea:""}],DB=[{id:"USR-001",name:"Maria Mller",role:"Allocator",responsibilityArea:"Shoes, Apparel"},{id:"USR-002",name:"Andreas Schmidt",role:"Admin",responsibilityArea:"Alle Bereiche"},{id:"USR-003",name:"Julia Weber",role:"Allocator",responsibilityArea:"Electronics, Accessories"}];function RB({onNavigate:e}){const[t,r]=z.useState("locations"),[n,i]=z.useState("initial"),[o,l]=z.useState(!1),[u,d]=z.useState(!1),[f,v]=z.useState(!1),[h,m]=z.useState(EB),[b,w]=z.useState(OB),[x,y]=z.useState(DB),[j,k]=z.useState(!1),[S,N]=z.useState(!1),[A,O]=z.useState(!1),[_,E]=z.useState(null),[T,I]=z.useState(!1),[R,L]=z.useState(!1),[M,q]=z.useState(null),[H,Z]=z.useState(null),[Y,$]=z.useState({id:"",name:"",address:"",warehouses:[]}),[F,Q]=z.useState(!1),[U,B]=z.useState(null),[te,ce]=z.useState({id:"",name:"",role:"Allocator",responsibilityArea:""}),[he,ue]=z.useState([]),[ae,ge]=z.useState({initial:{active:!0,recipientDetermination:"Plandaten",deliveryDateDetermination:"Lieferplan",availabilityDetermination:"VZ-Bestand",reductionStrategy:"Proportional",allocationAlgorithm:"Kapazittsgesteuerte Allokation"},replenishment:{active:!0,recipientDetermination:"Listung",deliveryDateDetermination:"Planlieferzeit",availabilityDetermination:"Bestellung",reductionStrategy:"Sollbestand fr Top-Performer",allocationAlgorithm:"Prognosegesteuerter Nachschub mit Kapazittsanpassung"},manual:{active:!1,recipientDetermination:"Manuelle Selektion",deliveryDateDetermination:"Lieferplan",availabilityDetermination:"Extern",reductionStrategy:"Prsentationsbestand fr alle",allocationAlgorithm:"Sollbestandsgesteuerte Allokation"}}),[W,oe]=z.useState({capacityPlanningEnabled:!0,hierarchyLevel:"Produktgruppe",quantityUnit:"Stck"}),[ve,se]=z.useState(ae),[De,Me]=z.useState(W),[tt,rt]=z.useState(h),Ye=()=>{se(ae),Me(W),rt(h),v(!1),alert("Allokationseinstellungen gespeichert")},Ut=()=>{ge(ve),oe(De),m(tt),v(!1)},ct=()=>{k(!0)},it=ee=>{w(fe=>[...fe,...ee]),v(!0)},Ht=ee=>{Z(ee),$({...ee}),l(!0)},nr=()=>{w(H?ee=>ee.map(fe=>fe.id===H.id?Y:fe):ee=>[...ee,Y]),v(!0),l(!1),Z(null)},Ge=()=>{l(!1),Z(null),$({id:"",name:"",address:"",warehouses:[]})},qe=()=>{N(!0)},ht=ee=>{m(fe=>[...fe,...ee]),v(!0)},ut=ee=>{E(ee),O(!0)},nt=ee=>{_&&(w(fe=>fe.map(K=>K.id===_.id?{...K,warehouses:ee}:K)),v(!0))},gr=()=>{I(!0)},vn=ee=>{y(fe=>[...fe,...ee]),v(!0)},Sr=ee=>{if(M){const fe={...M,responsibilityArea:ee.join(", ")};y(K=>K.map(me=>me.id===M.id?fe:me)),v(!0),q(null)}},Wr=ee=>{B(ee),ce({...ee}),ue(ee.responsibilityArea.split(", ")),Q(!0)},mn=()=>{const ee={...te,responsibilityArea:he.join(", ")};y(U?fe=>fe.map(K=>K.id===U.id?ee:K):fe=>[...fe,ee]),v(!0),Q(!1),B(null)},Or=()=>{Q(!1),B(null),ce({id:"",name:"",role:"Allocator",responsibilityArea:""}),ue([])},Qr=ee=>{ue(fe=>fe.includes(ee)?fe.filter(K=>K!==ee):[...fe,ee])},Ki=[{key:"id",label:"ID",render:ee=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:ee}),a.jsx("button",{className:"p-1 rounded hover:bg-surface-tint",children:a.jsx(Nf,{size:14,style:{color:"var(--text-muted)"}})})]})},{key:"name",label:"Name",sortable:!0},{key:"address",label:"Adresse",render:ee=>a.jsx("div",{style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:ee})},{key:"warehouses",label:"Lagerorte",render:(ee,fe)=>a.jsx("button",{onClick:K=>{K.stopPropagation(),ut(fe)},className:"flex items-center gap-1 flex-wrap hover:bg-surface-tint p-2 rounded transition-colors w-full text-left",children:ee.length===0?a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Klicken zum Auswhlen..."}):a.jsxs(a.Fragment,{children:[ee.slice(0,3).map((K,me)=>a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:K},me)),ee.length>3&&a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:["+",ee.length-3]})]})})},{key:"actions",label:"Aktionen",align:"right",render:(ee,fe)=>a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{className:"p-1.5 rounded hover:bg-surface-tint",onClick:K=>{K.stopPropagation(),Ht(fe)},children:a.jsx(Ai,{size:16,style:{color:"var(--text-secondary)"}})}),a.jsx("button",{className:"p-1.5 rounded hover:bg-surface-tint",onClick:K=>K.stopPropagation(),children:a.jsx(ia,{size:16,style:{color:"var(--status-danger)"}})})]})}],ya=[{key:"id",label:"ID",render:ee=>a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:ee})},{key:"name",label:"Name",sortable:!0},{key:"address",label:"Adresse"},{key:"cluster",label:"Clusterzuordnung",render:(ee,fe)=>a.jsxs("select",{value:ee,onChange:K=>{m(me=>me.map(je=>je.id===fe.id?{...je,cluster:K.target.value}:je)),v(!0)},className:"px-2 py-1 border rounded",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"},onClick:K=>K.stopPropagation(),children:[a.jsx("option",{children:"Urban Premium"}),a.jsx("option",{children:"Urban Standard"}),a.jsx("option",{children:"Regional"})]})},{key:"isReference",label:"Referenzkennzeichen",render:(ee,fe)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{value:ee?"ja":"nein",onChange:K=>{m(me=>me.map(je=>je.id===fe.id?{...je,isReference:K.target.value==="ja"}:je)),v(!0)},className:"px-2 py-1 border rounded",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"},onClick:K=>K.stopPropagation(),children:[a.jsx("option",{value:"nein",children:"Nein"}),a.jsx("option",{value:"ja",children:"Ja"})]}),a.jsxs("button",{className:"p-1 group relative",children:[a.jsx(Qt,{size:14,style:{color:"var(--text-muted)"}}),a.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 rounded shadow-lg opacity-0 pointer-events-none group-hover:opacity-100 transition-opacity whitespace-nowrap",style:{backgroundColor:"var(--text-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",boxShadow:"var(--shadow-md)",zIndex:10},children:"Diese Filiale dient als Referenz fr Preise und andere abgeleitete Werte."})]})]})},{key:"actions",label:"Aktionen",align:"right",render:()=>a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{className:"p-1.5 rounded hover:bg-surface-tint",onClick:ee=>ee.stopPropagation(),children:a.jsx(Ai,{size:16,style:{color:"var(--text-secondary)"}})}),a.jsx("button",{className:"p-1.5 rounded hover:bg-surface-tint",onClick:ee=>ee.stopPropagation(),children:a.jsx(ia,{size:16,style:{color:"var(--status-danger)"}})})]})}],re=[{key:"id",label:"ID"},{key:"name",label:"Name",sortable:!0},{key:"role",label:"Rolle",render:ee=>a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:ee==="Admin"?"var(--status-info)":"var(--status-success)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:ee})},{key:"responsibilityArea",label:"Verantwortungsbereich",render:(ee,fe)=>a.jsx("button",{onClick:K=>{K.stopPropagation(),q(fe),L(!0)},className:"flex items-center gap-1 flex-wrap hover:bg-surface-tint p-2 rounded transition-colors w-full text-left",children:!ee||ee===""?a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Klicken zum Festlegen..."}):a.jsxs(a.Fragment,{children:[ee.split(", ").slice(0,3).map((K,me)=>a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-info-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-info)"},children:K},me)),ee.split(", ").length>3&&a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:["+",ee.split(", ").length-3]})]})})},{key:"actions",label:"Aktionen",align:"right",render:(ee,fe)=>a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{className:"p-1.5 rounded hover:bg-surface-tint",onClick:K=>{K.stopPropagation(),Wr(fe)},children:a.jsx(Ai,{size:16,style:{color:"var(--text-secondary)"}})}),a.jsx("button",{className:"p-1.5 rounded hover:bg-surface-tint",onClick:K=>{K.stopPropagation(),y(me=>me.filter(je=>je.id!==fe.id)),v(!0)},children:a.jsx(ia,{size:16,style:{color:"var(--status-danger)"}})})]})}],ke=[{id:"initial",name:"Initiale Allokation"},{id:"replenishment",name:"Nachschub"},{id:"manual",name:"Manuelle Allokation"}],de=ae[n];return a.jsxs("div",{className:"pb-20",children:[a.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Allokationseinstellungen"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Verwalten Sie Lokationen, Verantwortlichkeiten und Allokationslogiken"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>e("parameters"),className:"flex items-center gap-2 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",height:"var(--height-button-md)"},children:["Allokationsparameter",a.jsx(dn,{size:18})]}),a.jsxs("button",{onClick:()=>e("capacity"),className:"flex items-center gap-2 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",height:"var(--height-button-md)"},children:["Weiter zu Kapazitt",a.jsx(dn,{size:18})]})]})]}),a.jsx("div",{className:"mb-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("div",{className:"flex gap-1",children:[{id:"locations",label:"Lokationen"},{id:"responsibilities",label:"Verantwortlichkeiten"},{id:"allocation",label:"Allokationseinstellungen"}].map(ee=>a.jsxs("button",{onClick:()=>r(ee.id),className:"px-6 py-3 relative transition-all",style:{backgroundColor:t===ee.id?"var(--brand-primary)":"transparent",color:t===ee.id?"var(--text-inverse)":"var(--text-muted)",fontWeight:t===ee.id?"var(--font-weight-medium)":"var(--font-weight-regular)",fontSize:"var(--font-size-sm)",borderRadius:t===ee.id?"8px 8px 0 0":"0"},onMouseEnter:fe=>{t!==ee.id&&(fe.currentTarget.style.backgroundColor="var(--surface-subtle-tint)")},onMouseLeave:fe=>{t!==ee.id&&(fe.currentTarget.style.backgroundColor="transparent")},children:[ee.label,t===ee.id&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1",style:{backgroundColor:"var(--brand-accent)"}})]},ee.id))})}),t==="locations"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Verteilzentren"}),a.jsxs("button",{onClick:ct,className:"flex items-center gap-2 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:[a.jsx(Fa,{size:18}),"Neues Verteilzentrum"]})]}),a.jsx(Nr,{columns:Ki,data:b,density:"comfortable"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Filialen"}),a.jsxs("button",{onClick:qe,className:"flex items-center gap-2 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:[a.jsx(Fa,{size:18}),"Neue Filiale"]})]}),a.jsx(Nr,{columns:ya,data:h,density:"comfortable"})]})]}),t==="responsibilities"&&a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Verantwortlichkeiten"}),a.jsxs("button",{onClick:gr,className:"flex items-center gap-2 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:[a.jsx(Fa,{size:18}),"Allokator hinzufgen"]})]}),a.jsx(Nr,{columns:re,data:x,density:"comfortable"})]}),t==="allocation"&&a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsx("div",{className:"col-span-3",children:a.jsx("div",{className:"space-y-1",children:ke.map(ee=>a.jsx("button",{onClick:()=>i(ee.id),className:"w-full text-left px-4 py-3 rounded-lg transition-all relative",style:{backgroundColor:n===ee.id?"var(--surface-subtle-tint)":"transparent",fontWeight:n===ee.id?"var(--font-weight-semibold)":"var(--font-weight-regular)",fontSize:"var(--font-size-sm)",borderLeft:n===ee.id?"4px solid var(--brand-accent)":"4px solid transparent",marginLeft:"-4px",paddingLeft:"calc(var(--space-4) + 4px)"},onMouseEnter:fe=>{n!==ee.id&&(fe.currentTarget.style.backgroundColor="var(--surface-subtle-tint)")},onMouseLeave:fe=>{n!==ee.id&&(fe.currentTarget.style.backgroundColor="transparent")},children:ee.name},ee.id))})}),a.jsx("div",{className:"col-span-9",children:a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)"},children:[a.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:ke.find(ee=>ee.id===n)?.name}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:["Szenario ",de.active?"aktiv":"inaktiv"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:de.active,onChange:ee=>{ge(fe=>({...fe,[n]:{...fe[n],active:ee.target.checked}})),v(!0)},className:"sr-only"}),a.jsx("div",{className:"w-11 h-6 rounded-full transition-colors",style:{backgroundColor:de.active?"var(--brand-primary)":"var(--border-input)"},children:a.jsx("div",{className:"w-5 h-5 bg-white rounded-full shadow transition-transform",style:{transform:de.active?"translateX(22px) translateY(2px)":"translateX(2px) translateY(2px)"}})})]})]})]}),a.jsxs("div",{className:"space-y-5",style:{opacity:de.active?1:.5},children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Empfngerermittlung"}),a.jsxs("select",{value:de.recipientDetermination,disabled:!de.active,onChange:ee=>{ge(fe=>({...fe,[n]:{...fe[n],recipientDetermination:ee.target.value}})),v(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Plandaten"}),a.jsx("option",{children:"Manuelle Selektion"}),a.jsx("option",{children:"Listung"}),a.jsx("option",{children:"Transportbeziehungen"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Lieferterminermittlung"}),a.jsxs("select",{value:de.deliveryDateDetermination,disabled:!de.active,onChange:ee=>{ge(fe=>({...fe,[n]:{...fe[n],deliveryDateDetermination:ee.target.value}})),v(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Lieferplan"}),a.jsx("option",{children:"Planlieferzeit"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Verfgbarkeitsermittlung"}),a.jsxs("select",{value:de.availabilityDetermination,disabled:!de.active,onChange:ee=>{ge(fe=>({...fe,[n]:{...fe[n],availabilityDetermination:ee.target.value}})),v(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Extern"}),a.jsx("option",{children:"VZ-Bestand"}),a.jsx("option",{children:"Bestellung"}),a.jsx("option",{children:"Lieferung"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Krzungsstrategie"}),a.jsxs("select",{value:de.reductionStrategy,disabled:!de.active,onChange:ee=>{ge(fe=>({...fe,[n]:{...fe[n],reductionStrategy:ee.target.value}})),v(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Proportional"}),a.jsx("option",{children:"Sollbestand fr Top-Performer"}),a.jsx("option",{children:"Prsentationsbestand fr alle"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Allokationsalgorithmus"}),a.jsxs("select",{value:de.allocationAlgorithm,disabled:!de.active,onChange:ee=>{ge(fe=>({...fe,[n]:{...fe[n],allocationAlgorithm:ee.target.value}})),v(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Kapazittsgesteuerte Allokation"}),a.jsx("option",{children:"Sollbestandsgesteuerte Allokation"}),a.jsx("option",{children:"KPI-basierte Allokation"}),a.jsx("option",{children:"Prognosegesteuerter Nachschub mit Kapazittsanpassung"})]}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"var(--space-1)"},children:"Der Algorithmus bestimmt die Berechnungslogik der Verteilung."})]})]}),a.jsx("div",{className:"my-6",style:{height:"1px",backgroundColor:"var(--border-default)"}}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-5)"},children:"Globale Allokationseinstellungen"}),a.jsxs("div",{className:"space-y-5",children:[a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Kapazittsplanung"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:W.capacityPlanningEnabled,onChange:ee=>{oe(fe=>({...fe,capacityPlanningEnabled:ee.target.checked})),v(!0)},className:"sr-only"}),a.jsx("div",{className:"w-11 h-6 rounded-full transition-colors",style:{backgroundColor:W.capacityPlanningEnabled?"var(--brand-primary)":"var(--border-input)"},children:a.jsx("div",{className:"w-5 h-5 bg-white rounded-full shadow transition-transform",style:{transform:W.capacityPlanningEnabled?"translateX(22px) translateY(2px)":"translateX(2px) translateY(2px)"}})})]})]})}),a.jsxs("div",{style:{opacity:W.capacityPlanningEnabled?1:.5},children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Artikelhierarchieebene fr Kapazittsplanung"}),a.jsxs("select",{value:W.hierarchyLevel,disabled:!W.capacityPlanningEnabled,onChange:ee=>{oe(fe=>({...fe,hierarchyLevel:ee.target.value})),v(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Unternehmen"}),a.jsx("option",{children:"Einkaufsbereich"}),a.jsx("option",{children:"Produktgruppe"}),a.jsx("option",{children:"Produkt"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Mengeneinheit"}),a.jsxs("select",{value:W.quantityUnit,onChange:ee=>{oe(fe=>({...fe,quantityUnit:ee.target.value})),v(!0)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Stck"}),a.jsx("option",{children:"Karton"}),a.jsx("option",{children:"Palette"})]})]})]})]})]})})]}),a.jsxs("div",{className:"fixed bottom-0 left-0 right-0 flex items-center justify-end gap-3 px-6 border-t",style:{height:"64px",backgroundColor:"var(--surface-page)",borderColor:"var(--border-subtle)",marginLeft:"var(--sidenav-width-desktop)",zIndex:10},children:[a.jsx("button",{disabled:!f,onClick:Ut,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)",opacity:f?1:.5,cursor:f?"pointer":"not-allowed"},children:"nderungen verwerfen"}),a.jsx("button",{disabled:!f,onClick:Ye,className:"px-4 py-2 rounded-lg",style:{backgroundColor:f?"var(--button-primary-bg)":"var(--border-default)",color:"var(--button-primary-text)",height:"var(--height-button-md)",cursor:f?"pointer":"not-allowed"},children:"Speichern"})]}),o&&a.jsxs("div",{className:"fixed inset-0 z-50 flex",onClick:()=>l(!1),children:[a.jsx("div",{className:"flex-1",style:{backgroundColor:"var(--bg-overlay)"}}),a.jsxs("div",{className:"bg-white shadow-lg overflow-y-auto",style:{width:"var(--drawer-width)",boxShadow:"var(--shadow-lg)"},onClick:ee=>ee.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b sticky top-0 bg-white",style:{borderColor:"var(--border-default)"},children:a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Verteilzentrum bearbeiten"})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block",color:"var(--text-muted)"},children:"ID (nur lesbar)"}),a.jsx("input",{type:"text",value:Y.id,readOnly:!0,className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-alt)",color:"var(--text-muted)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Name"}),a.jsx("input",{type:"text",value:Y.name,onChange:ee=>$(fe=>({...fe,name:ee.target.value})),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Adresse"}),a.jsx("textarea",{value:Y.address,onChange:ee=>$(fe=>({...fe,address:ee.target.value})),rows:3,className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",resize:"vertical"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Lagerorte"}),a.jsxs("select",{multiple:!0,value:Y.warehouses,onChange:ee=>{const fe=Array.from(ee.target.selectedOptions,K=>K.value);$(K=>({...K,warehouses:fe}))},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",minHeight:"120px"},children:[a.jsx("option",{value:"Lager A",children:"Lager A"}),a.jsx("option",{value:"Lager B",children:"Lager B"}),a.jsx("option",{value:"Lager C",children:"Lager C"}),a.jsx("option",{value:"Lager D",children:"Lager D"}),a.jsx("option",{value:"Lager E",children:"Lager E"}),a.jsx("option",{value:"Lager 1",children:"Lager 1"}),a.jsx("option",{value:"Lager 2",children:"Lager 2"}),a.jsx("option",{value:"Lager 3",children:"Lager 3"})]})]})]}),a.jsxs("div",{className:"p-6 border-t sticky bottom-0 bg-white flex gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:Ge,className:"flex-1 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsx("button",{onClick:nr,className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:"Speichern"})]})]})]}),u&&a.jsxs("div",{className:"fixed inset-0 z-50 flex",onClick:()=>d(!1),children:[a.jsx("div",{className:"flex-1",style:{backgroundColor:"var(--bg-overlay)"}}),a.jsxs("div",{className:"bg-white shadow-lg overflow-y-auto",style:{width:"var(--drawer-width)",boxShadow:"var(--shadow-lg)"},onClick:ee=>ee.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b sticky top-0 bg-white",style:{borderColor:"var(--border-default)"},children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Verantwortungsbereich definieren"}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[a.jsxs("span",{className:"px-3 py-1 rounded-full flex items-center gap-2",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)"},children:["Shoes",a.jsx("button",{className:"hover:opacity-70",children:""})]}),a.jsxs("span",{className:"px-3 py-1 rounded-full flex items-center gap-2",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)"},children:["Apparel",a.jsx("button",{className:"hover:opacity-70",children:""})]})]})]}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Unternehmen"})]}),a.jsxs("div",{className:"ml-6 mt-2 space-y-2",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Fashion"})]}),a.jsxs("div",{className:"ml-6 mt-2 space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",defaultChecked:!0}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Shoes"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",defaultChecked:!0}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Apparel"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Accessories"})]})]})]}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Electronics"})]})})]})]})})}),a.jsxs("div",{className:"p-6 border-t sticky bottom-0 bg-white flex gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:"bernehmen"})]})]})]}),F&&a.jsxs("div",{className:"fixed inset-0 z-50 flex",onClick:Or,children:[a.jsx("div",{className:"flex-1",style:{backgroundColor:"var(--bg-overlay)"}}),a.jsxs("div",{className:"bg-white shadow-lg overflow-y-auto",style:{width:"var(--drawer-width)",boxShadow:"var(--shadow-lg)"},onClick:ee=>ee.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b sticky top-0 bg-white",style:{borderColor:"var(--border-default)"},children:a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:U?"Allokator bearbeiten":"Allokator hinzufgen"})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"ID"}),a.jsx("input",{type:"text",value:te.id,onChange:ee=>ce(fe=>({...fe,id:ee.target.value})),placeholder:"z.B. USR-004",className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Name"}),a.jsx("input",{type:"text",value:te.name,onChange:ee=>ce(fe=>({...fe,name:ee.target.value})),placeholder:"z.B. Max Mustermann",className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Rolle"}),a.jsxs("select",{value:te.role,onChange:ee=>ce(fe=>({...fe,role:ee.target.value})),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"Allocator",children:"Allocator"}),a.jsx("option",{value:"Admin",children:"Admin"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Verantwortungsbereich"}),he.length>0&&a.jsx("div",{className:"mb-3 flex flex-wrap gap-2",children:he.map((ee,fe)=>a.jsxs("span",{className:"px-3 py-1 rounded-full flex items-center gap-2",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)"},children:[ee,a.jsx("button",{onClick:()=>Qr(ee),className:"hover:opacity-70",children:""})]},fe))}),a.jsxs("div",{className:"space-y-2 p-3 border rounded-lg",style:{borderColor:"var(--border-default)"},children:[a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:he.includes("Alle Bereiche"),onChange:()=>Qr("Alle Bereiche")}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Alle Bereiche"})]})}),a.jsxs("div",{className:"ml-6 space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:he.includes("Shoes"),onChange:()=>Qr("Shoes")}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Shoes"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:he.includes("Apparel"),onChange:()=>Qr("Apparel")}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Apparel"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:he.includes("Accessories"),onChange:()=>Qr("Accessories")}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Accessories"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:he.includes("Electronics"),onChange:()=>Qr("Electronics")}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Electronics"})]})]})]})]})]}),a.jsxs("div",{className:"p-6 border-t sticky bottom-0 bg-white flex gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:Or,className:"flex-1 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsx("button",{onClick:mn,className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:"Speichern"})]})]})]}),a.jsx(n0,{isOpen:j,onClose:()=>k(!1),title:"Verteilzentrum auswhlen",availableLocations:NB.filter(ee=>!b.some(fe=>fe.id===ee.id)),selectedLocations:[],onConfirm:it,multiSelect:!0}),a.jsx(n0,{isOpen:S,onClose:()=>N(!1),title:"Filiale auswhlen",availableLocations:PB.filter(ee=>!h.some(fe=>fe.id===ee.id)),selectedLocations:[],onConfirm:ht,multiSelect:!0}),a.jsx(CB,{isOpen:A,onClose:()=>{O(!1),E(null)},distributionCenterName:_?.name||"",availableLocations:_B,selectedLocations:_?.warehouses||[],onConfirm:nt}),a.jsx(zB,{isOpen:T,onClose:()=>I(!1),availableAllocators:TB.filter(ee=>!x.some(fe=>fe.id===ee.id)),selectedAllocators:[],onConfirm:vn,multiSelect:!0}),a.jsx(AB,{isOpen:R,onClose:()=>{L(!1),q(null)},selectedAreas:M?.responsibilityArea?M.responsibilityArea.split(", ").filter(ee=>ee!==""):[],onConfirm:Sr})]})}function _E(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=_E(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function He(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=_E(e))&&(n&&(n+=" "),n+=t);return n}var Em,s2;function Yr(){if(s2)return Em;s2=1;var e=Array.isArray;return Em=e,Em}var Tm,l2;function OE(){if(l2)return Tm;l2=1;var e=typeof Hd=="object"&&Hd&&Hd.Object===Object&&Hd;return Tm=e,Tm}var Dm,c2;function ha(){if(c2)return Dm;c2=1;var e=OE(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Dm=r,Dm}var Rm,u2;function zu(){if(u2)return Rm;u2=1;var e=ha(),t=e.Symbol;return Rm=t,Rm}var Im,d2;function IB(){if(d2)return Im;d2=1;var e=zu(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function o(l){var u=r.call(l,i),d=l[i];try{l[i]=void 0;var f=!0}catch{}var v=n.call(l);return f&&(u?l[i]=d:delete l[i]),v}return Im=o,Im}var Mm,f2;function MB(){if(f2)return Mm;f2=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Mm=r,Mm}var Lm,p2;function Xa(){if(p2)return Lm;p2=1;var e=zu(),t=IB(),r=MB(),n="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?i:n:o&&o in Object(u)?t(u):r(u)}return Lm=l,Lm}var Bm,h2;function Ya(){if(h2)return Bm;h2=1;function e(t){return t!=null&&typeof t=="object"}return Bm=e,Bm}var Fm,v2;function pl(){if(v2)return Fm;v2=1;var e=Xa(),t=Ya(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return Fm=n,Fm}var Wm,m2;function XS(){if(m2)return Wm;m2=1;var e=Yr(),t=pl(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,l){if(e(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||t(o)?!0:n.test(o)||!r.test(o)||l!=null&&o in Object(l)}return Wm=i,Wm}var $m,g2;function Li(){if(g2)return $m;g2=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return $m=e,$m}var Um,y2;function YS(){if(y2)return Um;y2=1;var e=Xa(),t=Li(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function l(u){if(!t(u))return!1;var d=e(u);return d==n||d==i||d==r||d==o}return Um=l,Um}var Hm,x2;function LB(){if(x2)return Hm;x2=1;var e=ha(),t=e["__core-js_shared__"];return Hm=t,Hm}var Km,b2;function BB(){if(b2)return Km;b2=1;var e=LB(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return Km=r,Km}var Gm,S2;function EE(){if(S2)return Gm;S2=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Gm=r,Gm}var Vm,w2;function FB(){if(w2)return Vm;w2=1;var e=YS(),t=BB(),r=Li(),n=EE(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,f=u.hasOwnProperty,v=RegExp("^"+d.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!r(m)||t(m))return!1;var b=e(m)?v:o;return b.test(n(m))}return Vm=h,Vm}var qm,j2;function WB(){if(j2)return qm;j2=1;function e(t,r){return t?.[r]}return qm=e,qm}var Zm,k2;function Do(){if(k2)return Zm;k2=1;var e=FB(),t=WB();function r(n,i){var o=t(n,i);return e(o)?o:void 0}return Zm=r,Zm}var Xm,C2;function Hp(){if(C2)return Xm;C2=1;var e=Do(),t=e(Object,"create");return Xm=t,Xm}var Ym,z2;function $B(){if(z2)return Ym;z2=1;var e=Hp();function t(){this.__data__=e?e(null):{},this.size=0}return Ym=t,Ym}var Qm,A2;function UB(){if(A2)return Qm;A2=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Qm=e,Qm}var Jm,N2;function HB(){if(N2)return Jm;N2=1;var e=Hp(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var l=this.__data__;if(e){var u=l[o];return u===t?void 0:u}return n.call(l,o)?l[o]:void 0}return Jm=i,Jm}var eg,P2;function KB(){if(P2)return eg;P2=1;var e=Hp(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var o=this.__data__;return e?o[i]!==void 0:r.call(o,i)}return eg=n,eg}var tg,_2;function GB(){if(_2)return tg;_2=1;var e=Hp(),t="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=e&&i===void 0?t:i,this}return tg=r,tg}var rg,O2;function VB(){if(O2)return rg;O2=1;var e=$B(),t=UB(),r=HB(),n=KB(),i=GB();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,rg=o,rg}var ng,E2;function qB(){if(E2)return ng;E2=1;function e(){this.__data__=[],this.size=0}return ng=e,ng}var ag,T2;function QS(){if(T2)return ag;T2=1;function e(t,r){return t===r||t!==t&&r!==r}return ag=e,ag}var ig,D2;function Kp(){if(D2)return ig;D2=1;var e=QS();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return ig=t,ig}var og,R2;function ZB(){if(R2)return og;R2=1;var e=Kp(),t=Array.prototype,r=t.splice;function n(i){var o=this.__data__,l=e(o,i);if(l<0)return!1;var u=o.length-1;return l==u?o.pop():r.call(o,l,1),--this.size,!0}return og=n,og}var sg,I2;function XB(){if(I2)return sg;I2=1;var e=Kp();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return sg=t,sg}var lg,M2;function YB(){if(M2)return lg;M2=1;var e=Kp();function t(r){return e(this.__data__,r)>-1}return lg=t,lg}var cg,L2;function QB(){if(L2)return cg;L2=1;var e=Kp();function t(r,n){var i=this.__data__,o=e(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return cg=t,cg}var ug,B2;function Gp(){if(B2)return ug;B2=1;var e=qB(),t=ZB(),r=XB(),n=YB(),i=QB();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,ug=o,ug}var dg,F2;function JS(){if(F2)return dg;F2=1;var e=Do(),t=ha(),r=e(t,"Map");return dg=r,dg}var fg,W2;function JB(){if(W2)return fg;W2=1;var e=VB(),t=Gp(),r=JS();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return fg=n,fg}var pg,$2;function eF(){if($2)return pg;$2=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return pg=e,pg}var hg,U2;function Vp(){if(U2)return hg;U2=1;var e=eF();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return hg=t,hg}var vg,H2;function tF(){if(H2)return vg;H2=1;var e=Vp();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return vg=t,vg}var mg,K2;function rF(){if(K2)return mg;K2=1;var e=Vp();function t(r){return e(this,r).get(r)}return mg=t,mg}var gg,G2;function nF(){if(G2)return gg;G2=1;var e=Vp();function t(r){return e(this,r).has(r)}return gg=t,gg}var yg,V2;function aF(){if(V2)return yg;V2=1;var e=Vp();function t(r,n){var i=e(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return yg=t,yg}var xg,q2;function e1(){if(q2)return xg;q2=1;var e=JB(),t=tF(),r=rF(),n=nF(),i=aF();function o(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,xg=o,xg}var bg,Z2;function TE(){if(Z2)return bg;Z2=1;var e=e1(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var l=arguments,u=i?i.apply(this,l):l[0],d=o.cache;if(d.has(u))return d.get(u);var f=n.apply(this,l);return o.cache=d.set(u,f)||d,f};return o.cache=new(r.Cache||e),o}return r.Cache=e,bg=r,bg}var Sg,X2;function iF(){if(X2)return Sg;X2=1;var e=TE(),t=500;function r(n){var i=e(n,function(l){return o.size===t&&o.clear(),l}),o=i.cache;return i}return Sg=r,Sg}var wg,Y2;function oF(){if(Y2)return wg;Y2=1;var e=iF(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(l,u,d,f){o.push(d?f.replace(r,"$1"):u||l)}),o});return wg=n,wg}var jg,Q2;function t1(){if(Q2)return jg;Q2=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,o=Array(i);++n<i;)o[n]=r(t[n],n,t);return o}return jg=e,jg}var kg,J2;function sF(){if(J2)return kg;J2=1;var e=zu(),t=t1(),r=Yr(),n=pl(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function l(u){if(typeof u=="string")return u;if(r(u))return t(u,l)+"";if(n(u))return o?o.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return kg=l,kg}var Cg,eC;function DE(){if(eC)return Cg;eC=1;var e=sF();function t(r){return r==null?"":e(r)}return Cg=t,Cg}var zg,tC;function RE(){if(tC)return zg;tC=1;var e=Yr(),t=XS(),r=oF(),n=DE();function i(o,l){return e(o)?o:t(o,l)?[o]:r(n(o))}return zg=i,zg}var Ag,rC;function qp(){if(rC)return Ag;rC=1;var e=pl();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Ag=t,Ag}var Ng,nC;function r1(){if(nC)return Ng;nC=1;var e=RE(),t=qp();function r(n,i){i=e(i,n);for(var o=0,l=i.length;n!=null&&o<l;)n=n[t(i[o++])];return o&&o==l?n:void 0}return Ng=r,Ng}var Pg,aC;function IE(){if(aC)return Pg;aC=1;var e=r1();function t(r,n,i){var o=r==null?void 0:e(r,n);return o===void 0?i:o}return Pg=t,Pg}var lF=IE();const pn=pt(lF);var _g,iC;function cF(){if(iC)return _g;iC=1;function e(t){return t==null}return _g=e,_g}var uF=cF();const Fe=pt(uF);var Og,oC;function dF(){if(oC)return Og;oC=1;var e=Xa(),t=Yr(),r=Ya(),n="[object String]";function i(o){return typeof o=="string"||!t(o)&&r(o)&&e(o)==n}return Og=i,Og}var fF=dF();const ko=pt(fF);var pF=YS();const We=pt(pF);var hF=Li();const hl=pt(hF);var Eg={exports:{}},dt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sC;function vF(){if(sC)return dt;sC=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function x(y){if(typeof y=="object"&&y!==null){var j=y.$$typeof;switch(j){case e:switch(y=y.type,y){case r:case i:case n:case f:case v:return y;default:switch(y=y&&y.$$typeof,y){case u:case l:case d:case m:case h:case o:return y;default:return j}}case t:return j}}}return dt.ContextConsumer=l,dt.ContextProvider=o,dt.Element=e,dt.ForwardRef=d,dt.Fragment=r,dt.Lazy=m,dt.Memo=h,dt.Portal=t,dt.Profiler=i,dt.StrictMode=n,dt.Suspense=f,dt.SuspenseList=v,dt.isAsyncMode=function(){return!1},dt.isConcurrentMode=function(){return!1},dt.isContextConsumer=function(y){return x(y)===l},dt.isContextProvider=function(y){return x(y)===o},dt.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},dt.isForwardRef=function(y){return x(y)===d},dt.isFragment=function(y){return x(y)===r},dt.isLazy=function(y){return x(y)===m},dt.isMemo=function(y){return x(y)===h},dt.isPortal=function(y){return x(y)===t},dt.isProfiler=function(y){return x(y)===i},dt.isStrictMode=function(y){return x(y)===n},dt.isSuspense=function(y){return x(y)===f},dt.isSuspenseList=function(y){return x(y)===v},dt.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===i||y===n||y===f||y===v||y===b||typeof y=="object"&&y!==null&&(y.$$typeof===m||y.$$typeof===h||y.$$typeof===o||y.$$typeof===l||y.$$typeof===d||y.$$typeof===w||y.getModuleId!==void 0)},dt.typeOf=x,dt}var lC;function mF(){return lC||(lC=1,Eg.exports=vF()),Eg.exports}var gF=mF(),Tg,cC;function ME(){if(cC)return Tg;cC=1;var e=Xa(),t=Ya(),r="[object Number]";function n(i){return typeof i=="number"||t(i)&&e(i)==r}return Tg=n,Tg}var Dg,uC;function yF(){if(uC)return Dg;uC=1;var e=ME();function t(r){return e(r)&&r!=+r}return Dg=t,Dg}var xF=yF();const vl=pt(xF);var bF=ME();const SF=pt(bF);var Mr=function(t){return t===0?0:t>0?1:-1},mo=function(t){return ko(t)&&t.indexOf("%")===t.length-1},Se=function(t){return SF(t)&&!vl(t)},wF=function(t){return Fe(t)},cr=function(t){return Se(t)||ko(t)},jF=0,Bi=function(t){var r=++jF;return"".concat(t||"").concat(r)},Lr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Se(t)&&!ko(t))return n;var o;if(mo(t)){var l=t.indexOf("%");o=r*parseFloat(t.slice(0,l))/100}else o=+t;return vl(o)&&(o=n),i&&o>r&&(o=r),o},ji=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},kF=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},Wt=function(t,r){return Se(t)&&Se(r)?function(n){return t+n*(r-t)}:function(){return r}};function _f(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):pn(n,t))===r})}var CF=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,i=0,o=0,l=0,u=1/0,d=-1/0,f=0,v=0,h=0;h<r;h++)f=t[h].cx||0,v=t[h].cy||0,n+=f,i+=v,o+=f*v,l+=f*f,u=Math.min(u,f),d=Math.max(d,f);var m=r*l!==n*n?(r*o-n*i)/(r*l-n*n):0;return{xmin:u,xmax:d,a:m,b:(i-m*n)/r}},zF=function(t,r){return Se(t)&&Se(r)?t-r:ko(t)&&ko(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ns(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function a0(e){"@babel/helpers - typeof";return a0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a0(e)}var AF=["viewBox","children"],NF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],dC=["points","pathLength"],Rg={svg:AF,polygon:dC,polyline:dC},n1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Of=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(z.isValidElement(t)&&(n=t.props),!hl(n))return null;var i={};return Object.keys(n).forEach(function(o){n1.includes(o)&&(i[o]=r||function(l){return n[o](n,l)})}),i},PF=function(t,r,n){return function(i){return t(r,n,i),null}},Ei=function(t,r,n){if(!hl(t)||a0(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var l=t[o];n1.includes(o)&&typeof l=="function"&&(i||(i={}),i[o]=PF(l,r,n))}),i},_F=["children"],OF=["children"];function fC(e,t){if(e==null)return{};var r=EF(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function i0(e){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i0(e)}var pC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Wa=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},hC=null,Ig=null,a1=function e(t){if(t===hC&&Array.isArray(Ig))return Ig;var r=[];return z.Children.forEach(t,function(n){Fe(n)||(gF.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Ig=r,hC=t,r};function Fr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return Wa(i)}):n=[Wa(t)],a1(e).forEach(function(i){var o=pn(i,"type.displayName")||pn(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function ln(e,t){var r=Fr(e,t);return r&&r[0]}var vC=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!Se(n)||n<=0||!Se(i)||i<=0)},TF=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],DF=function(t){return t&&t.type&&ko(t.type)&&TF.indexOf(t.type)>=0},LE=function(t){return t&&i0(t)==="object"&&"clipDot"in t},RF=function(t,r,n,i){var o,l=(o=Rg?.[i])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!We(t)&&(i&&l.includes(r)||NF.includes(r))||n&&n1.includes(r)},Te=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(z.isValidElement(t)&&(i=t.props),!hl(i))return null;var o={};return Object.keys(i).forEach(function(l){var u;RF((u=i)===null||u===void 0?void 0:u[l],l,r,n)&&(o[l]=i[l])}),o},o0=function e(t,r){if(t===r)return!0;var n=z.Children.count(t);if(n!==z.Children.count(r))return!1;if(n===0)return!0;if(n===1)return mC(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=t[i],l=r[i];if(Array.isArray(o)||Array.isArray(l)){if(!e(o,l))return!1}else if(!mC(o,l))return!1}return!0},mC=function(t,r){if(Fe(t)&&Fe(r))return!0;if(!Fe(t)&&!Fe(r)){var n=t.props||{},i=n.children,o=fC(n,_F),l=r.props||{},u=l.children,d=fC(l,OF);return i&&u?Ns(o,d)&&o0(i,u):!i&&!u?Ns(o,d):!1}return!1},gC=function(t,r){var n=[],i={};return a1(t).forEach(function(o,l){if(DF(o))n.push(o);else if(o){var u=Wa(o.type),d=r[u]||{},f=d.handler,v=d.once;if(f&&(!v||!i[u])){var h=f(o,u,l);n.push(h),i[u]=!0}}}),n},IF=function(t){var r=t&&t.type;return r&&pC[r]?pC[r]:null},MF=function(t,r){return a1(r).indexOf(t)},LF=["children","width","height","viewBox","className","style","title","desc"];function s0(){return s0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s0.apply(this,arguments)}function BF(e,t){if(e==null)return{};var r=FF(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function l0(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,o=e.className,l=e.style,u=e.title,d=e.desc,f=BF(e,LF),v=i||{width:r,height:n,x:0,y:0},h=He("recharts-surface",o);return G.createElement("svg",s0({},Te(f,!0,"svg"),{className:h,width:r,height:n,style:l,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height)}),G.createElement("title",null,u),G.createElement("desc",null,d),t)}var WF=["children","className"];function c0(){return c0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c0.apply(this,arguments)}function $F(e,t){if(e==null)return{};var r=UF(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ke=G.forwardRef(function(e,t){var r=e.children,n=e.className,i=$F(e,WF),o=He("recharts-layer",n);return G.createElement("g",c0({className:o},Te(i,!0),{ref:t}),r)}),Gn=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]},Mg,yC;function HF(){if(yC)return Mg;yC=1;function e(t,r,n){var i=-1,o=t.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var l=Array(o);++i<o;)l[i]=t[i+r];return l}return Mg=e,Mg}var Lg,xC;function KF(){if(xC)return Lg;xC=1;var e=HF();function t(r,n,i){var o=r.length;return i=i===void 0?o:i,!n&&i>=o?r:e(r,n,i)}return Lg=t,Lg}var Bg,bC;function BE(){if(bC)return Bg;bC=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,o="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+i+o+"]");function d(f){return u.test(f)}return Bg=d,Bg}var Fg,SC;function GF(){if(SC)return Fg;SC=1;function e(t){return t.split("")}return Fg=e,Fg}var Wg,wC;function VF(){if(wC)return Wg;wC=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,o="\\ufe0e\\ufe0f",l="["+e+"]",u="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",v="[^"+e+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",w=f+"?",x="["+o+"]?",y="(?:"+b+"(?:"+[v,h,m].join("|")+")"+x+w+")*",j=x+w+y,k="(?:"+[v+u+"?",u,h,m,l].join("|")+")",S=RegExp(d+"(?="+d+")|"+k+j,"g");function N(A){return A.match(S)||[]}return Wg=N,Wg}var $g,jC;function qF(){if(jC)return $g;jC=1;var e=GF(),t=BE(),r=VF();function n(i){return t(i)?r(i):e(i)}return $g=n,$g}var Ug,kC;function ZF(){if(kC)return Ug;kC=1;var e=KF(),t=BE(),r=qF(),n=DE();function i(o){return function(l){l=n(l);var u=t(l)?r(l):void 0,d=u?u[0]:l.charAt(0),f=u?e(u,1).join(""):l.slice(1);return d[o]()+f}}return Ug=i,Ug}var Hg,CC;function XF(){if(CC)return Hg;CC=1;var e=ZF(),t=e("toUpperCase");return Hg=t,Hg}var YF=XF();const Zp=pt(YF);function Ct(e){return function(){return e}}const FE=Math.cos,Ef=Math.sin,Xn=Math.sqrt,Tf=Math.PI,Xp=2*Tf,u0=Math.PI,d0=2*u0,po=1e-6,QF=d0-po;function WE(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function JF(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return WE;const r=10**t;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class eW{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?WE:JF(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,o,l){this._append`C${+t},${+r},${+n},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,r,n,i,o){if(t=+t,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,d=n-t,f=i-r,v=l-t,h=u-r,m=v*v+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>po)if(!(Math.abs(h*d-f*v)>po)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let b=n-l,w=i-u,x=d*d+f*f,y=b*b+w*w,j=Math.sqrt(x),k=Math.sqrt(m),S=o*Math.tan((u0-Math.acos((x+m-y)/(2*j*k)))/2),N=S/k,A=S/j;Math.abs(N-1)>po&&this._append`L${t+N*v},${r+N*h}`,this._append`A${o},${o},0,0,${+(h*b>v*w)},${this._x1=t+A*d},${this._y1=r+A*f}`}}arc(t,r,n,i,o,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),d=n*Math.sin(i),f=t+u,v=r+d,h=1^l,m=l?i-o:o-i;this._x1===null?this._append`M${f},${v}`:(Math.abs(this._x1-f)>po||Math.abs(this._y1-v)>po)&&this._append`L${f},${v}`,n&&(m<0&&(m=m%d0+d0),m>QF?this._append`A${n},${n},0,1,${h},${t-u},${r-d}A${n},${n},0,1,${h},${this._x1=f},${this._y1=v}`:m>po&&this._append`A${n},${n},0,${+(m>=u0)},${h},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function i1(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new eW(t)}function o1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $E(e){this._context=e}$E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Yp(e){return new $E(e)}function UE(e){return e[0]}function HE(e){return e[1]}function KE(e,t){var r=Ct(!0),n=null,i=Yp,o=null,l=i1(u);e=typeof e=="function"?e:e===void 0?UE:Ct(e),t=typeof t=="function"?t:t===void 0?HE:Ct(t);function u(d){var f,v=(d=o1(d)).length,h,m=!1,b;for(n==null&&(o=i(b=l())),f=0;f<=v;++f)!(f<v&&r(h=d[f],f,d))===m&&((m=!m)?o.lineStart():o.lineEnd()),m&&o.point(+e(h,f,d),+t(h,f,d));if(b)return o=null,b+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ct(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ct(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Ct(!!d),u):r},u.curve=function(d){return arguments.length?(i=d,n!=null&&(o=i(n)),u):i},u.context=function(d){return arguments.length?(d==null?n=o=null:o=i(n=d),u):n},u}function Xd(e,t,r){var n=null,i=Ct(!0),o=null,l=Yp,u=null,d=i1(f);e=typeof e=="function"?e:e===void 0?UE:Ct(+e),t=typeof t=="function"?t:Ct(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?HE:Ct(+r);function f(h){var m,b,w,x=(h=o1(h)).length,y,j=!1,k,S=new Array(x),N=new Array(x);for(o==null&&(u=l(k=d())),m=0;m<=x;++m){if(!(m<x&&i(y=h[m],m,h))===j)if(j=!j)b=m,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=m-1;w>=b;--w)u.point(S[w],N[w]);u.lineEnd(),u.areaEnd()}j&&(S[m]=+e(y,m,h),N[m]=+t(y,m,h),u.point(n?+n(y,m,h):S[m],r?+r(y,m,h):N[m]))}if(k)return u=null,k+""||null}function v(){return KE().defined(i).curve(l).context(o)}return f.x=function(h){return arguments.length?(e=typeof h=="function"?h:Ct(+h),n=null,f):e},f.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Ct(+h),f):e},f.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ct(+h),f):n},f.y=function(h){return arguments.length?(t=typeof h=="function"?h:Ct(+h),r=null,f):t},f.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Ct(+h),f):t},f.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ct(+h),f):r},f.lineX0=f.lineY0=function(){return v().x(e).y(t)},f.lineY1=function(){return v().x(e).y(r)},f.lineX1=function(){return v().x(n).y(t)},f.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Ct(!!h),f):i},f.curve=function(h){return arguments.length?(l=h,o!=null&&(u=l(o)),f):l},f.context=function(h){return arguments.length?(h==null?o=u=null:u=l(o=h),f):o},f}class GE{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function tW(e){return new GE(e,!0)}function rW(e){return new GE(e,!1)}const s1={draw(e,t){const r=Xn(t/Tf);e.moveTo(r,0),e.arc(0,0,r,0,Xp)}},nW={draw(e,t){const r=Xn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},VE=Xn(1/3),aW=VE*2,iW={draw(e,t){const r=Xn(t/aW),n=r*VE;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},oW={draw(e,t){const r=Xn(t),n=-r/2;e.rect(n,n,r,r)}},sW=.8908130915292852,qE=Ef(Tf/10)/Ef(7*Tf/10),lW=Ef(Xp/10)*qE,cW=-FE(Xp/10)*qE,uW={draw(e,t){const r=Xn(t*sW),n=lW*r,i=cW*r;e.moveTo(0,-r),e.lineTo(n,i);for(let o=1;o<5;++o){const l=Xp*o/5,u=FE(l),d=Ef(l);e.lineTo(d*r,-u*r),e.lineTo(u*n-d*i,d*n+u*i)}e.closePath()}},Kg=Xn(3),dW={draw(e,t){const r=-Xn(t/(Kg*3));e.moveTo(0,r*2),e.lineTo(-Kg*r,-r),e.lineTo(Kg*r,-r),e.closePath()}},jn=-.5,kn=Xn(3)/2,f0=1/Xn(12),fW=(f0/2+1)*3,pW={draw(e,t){const r=Xn(t/fW),n=r/2,i=r*f0,o=n,l=r*f0+r,u=-o,d=l;e.moveTo(n,i),e.lineTo(o,l),e.lineTo(u,d),e.lineTo(jn*n-kn*i,kn*n+jn*i),e.lineTo(jn*o-kn*l,kn*o+jn*l),e.lineTo(jn*u-kn*d,kn*u+jn*d),e.lineTo(jn*n+kn*i,jn*i-kn*n),e.lineTo(jn*o+kn*l,jn*l-kn*o),e.lineTo(jn*u+kn*d,jn*d-kn*u),e.closePath()}};function hW(e,t){let r=null,n=i1(i);e=typeof e=="function"?e:Ct(e||s1),t=typeof t=="function"?t:Ct(t===void 0?64:+t);function i(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Ct(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Ct(+o),i):t},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function Df(){}function Rf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function ZE(e){this._context=e}ZE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Rf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Rf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vW(e){return new ZE(e)}function XE(e){this._context=e}XE.prototype={areaStart:Df,areaEnd:Df,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Rf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mW(e){return new XE(e)}function YE(e){this._context=e}YE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Rf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gW(e){return new YE(e)}function QE(e){this._context=e}QE.prototype={areaStart:Df,areaEnd:Df,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function yW(e){return new QE(e)}function zC(e){return e<0?-1:1}function AC(e,t,r){var n=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(n||i<0&&-0),l=(r-e._y1)/(i||n<0&&-0),u=(o*i+l*n)/(n+i);return(zC(o)+zC(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function NC(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Gg(e,t,r){var n=e._x0,i=e._y0,o=e._x1,l=e._y1,u=(o-n)/3;e._context.bezierCurveTo(n+u,i+u*t,o-u,l-u*r,o,l)}function If(e){this._context=e}If.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Gg(this,this._t0,NC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Gg(this,NC(this,r=AC(this,e,t)),r);break;default:Gg(this,this._t0,r=AC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function JE(e){this._context=new eT(e)}(JE.prototype=Object.create(If.prototype)).point=function(e,t){If.prototype.point.call(this,t,e)};function eT(e){this._context=e}eT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,o){this._context.bezierCurveTo(t,e,n,r,o,i)}};function xW(e){return new If(e)}function bW(e){return new JE(e)}function tT(e){this._context=e}tT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=PC(e),i=PC(t),o=0,l=1;l<r;++o,++l)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function PC(e){var t,r=e.length-1,n,i=new Array(r),o=new Array(r),l=new Array(r);for(i[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,l[t]-=n*l[t-1];for(i[r-1]=l[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(l[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function SW(e){return new tT(e)}function Qp(e,t){this._context=e,this._t=t}Qp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function wW(e){return new Qp(e,.5)}function jW(e){return new Qp(e,0)}function kW(e){return new Qp(e,1)}function Rs(e,t){if((l=e.length)>1)for(var r=1,n,i,o=e[t[0]],l,u=o.length;r<l;++r)for(i=o,o=e[t[r]],n=0;n<u;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function p0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function CW(e,t){return e[t]}function zW(e){const t=[];return t.key=e,t}function AW(){var e=Ct([]),t=p0,r=Rs,n=CW;function i(o){var l=Array.from(e.apply(this,arguments),zW),u,d=l.length,f=-1,v;for(const h of o)for(u=0,++f;u<d;++u)(l[u][f]=[0,+n(h,l[u].key,f,o)]).data=h;for(u=0,v=o1(t(l));u<d;++u)l[v[u]].index=u;return r(l,v),l}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Ct(Array.from(o)),i):e},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:Ct(+o),i):n},i.order=function(o){return arguments.length?(t=o==null?p0:typeof o=="function"?o:Ct(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(r=o??Rs,i):r},i}function NW(e,t){if((n=e.length)>0){for(var r,n,i=0,o=e[0].length,l;i<o;++i){for(l=r=0;r<n;++r)l+=e[r][i][1]||0;if(l)for(r=0;r<n;++r)e[r][i][1]/=l}Rs(e,t)}}function PW(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,o=n.length;r<o;++r){for(var l=0,u=0;l<i;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}Rs(e,t)}}function _W(e,t){if(!(!((l=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,o,l;n<o;++n){for(var u=0,d=0,f=0;u<l;++u){for(var v=e[t[u]],h=v[n][1]||0,m=v[n-1][1]||0,b=(h-m)/2,w=0;w<u;++w){var x=e[t[w]],y=x[n][1]||0,j=x[n-1][1]||0;b+=y-j}d+=h,f+=b*h}i[n-1][1]+=i[n-1][0]=r,d&&(r-=f/d)}i[n-1][1]+=i[n-1][0]=r,Rs(e,t)}}function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}var OW=["type","size","sizeType"];function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h0.apply(this,arguments)}function _C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function OC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_C(Object(r),!0).forEach(function(n){EW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EW(e,t,r){return t=TW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TW(e){var t=DW(e,"string");return Uc(t)=="symbol"?t:t+""}function DW(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RW(e,t){if(e==null)return{};var r=IW(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var rT={symbolCircle:s1,symbolCross:nW,symbolDiamond:iW,symbolSquare:oW,symbolStar:uW,symbolTriangle:dW,symbolWye:pW},MW=Math.PI/180,LW=function(t){var r="symbol".concat(Zp(t));return rT[r]||s1},BW=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*MW;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},FW=function(t,r){rT["symbol".concat(Zp(t))]=r},Jp=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,o=i===void 0?64:i,l=t.sizeType,u=l===void 0?"area":l,d=RW(t,OW),f=OC(OC({},d),{},{type:n,size:o,sizeType:u}),v=function(){var y=LW(n),j=hW().type(y).size(BW(o,u,n));return j()},h=f.className,m=f.cx,b=f.cy,w=Te(f,!0);return m===+m&&b===+b&&o===+o?G.createElement("path",h0({},w,{className:He("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(b,")"),d:v()})):null};Jp.registerSymbol=FW;function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function v0(){return v0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v0.apply(this,arguments)}function EC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EC(Object(r),!0).forEach(function(n){Hc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aT(n.key),n)}}function HW(e,t,r){return t&&UW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KW(e,t,r){return t=Mf(t),GW(e,nT()?Reflect.construct(t,r||[],Mf(e).constructor):t.apply(e,r))}function GW(e,t){if(t&&(Is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VW(e)}function VW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nT=function(){return!!e})()}function Mf(e){return Mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mf(e)}function qW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m0(e,t)}function m0(e,t){return m0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},m0(e,t)}function Hc(e,t,r){return t=aT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aT(e){var t=ZW(e,"string");return Is(t)=="symbol"?t:t+""}function ZW(e,t){if(Is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cn=32,l1=(function(e){function t(){return $W(this,t),KW(this,t,arguments)}return qW(t,e),HW(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=Cn/2,l=Cn/6,u=Cn/3,d=n.inactive?i:n.color;if(n.type==="plainline")return G.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Cn,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return G.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(o,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(o,`
            H`).concat(Cn,"M").concat(2*u,",").concat(o,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return G.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Cn/8,"h").concat(Cn,"v").concat(Cn*3/4,"h").concat(-Cn,"z"),className:"recharts-legend-icon"});if(G.isValidElement(n.legendIcon)){var f=WW({},n);return delete f.legendIcon,G.cloneElement(n.legendIcon,f)}return G.createElement(Jp,{fill:d,cx:o,cy:o,size:Cn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,l=i.iconSize,u=i.layout,d=i.formatter,f=i.inactiveColor,v={x:0,y:0,width:Cn,height:Cn},h={display:u==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(b,w){var x=b.formatter||d,y=He(Hc(Hc({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",b.inactive));if(b.type==="none")return null;var j=We(b.value)?null:b.value;Gn(!We(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=b.inactive?f:b.color;return G.createElement("li",v0({className:y,style:h,key:"legend-item-".concat(w)},Ei(n.props,b,w)),G.createElement(l0,{width:l,height:l,viewBox:v,style:m},n.renderIcon(b)),G.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},x?x(j,b,w):j))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,l=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:o==="horizontal"?l:"left"};return G.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(z.PureComponent);Hc(l1,"displayName","Legend");Hc(l1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Vg,TC;function XW(){if(TC)return Vg;TC=1;var e=Gp();function t(){this.__data__=new e,this.size=0}return Vg=t,Vg}var qg,DC;function YW(){if(DC)return qg;DC=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return qg=e,qg}var Zg,RC;function QW(){if(RC)return Zg;RC=1;function e(t){return this.__data__.get(t)}return Zg=e,Zg}var Xg,IC;function JW(){if(IC)return Xg;IC=1;function e(t){return this.__data__.has(t)}return Xg=e,Xg}var Yg,MC;function e6(){if(MC)return Yg;MC=1;var e=Gp(),t=JS(),r=e1(),n=200;function i(o,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<n-1)return d.push([o,l]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(o,l),this.size=u.size,this}return Yg=i,Yg}var Qg,LC;function iT(){if(LC)return Qg;LC=1;var e=Gp(),t=XW(),r=YW(),n=QW(),i=JW(),o=e6();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=t,l.prototype.delete=r,l.prototype.get=n,l.prototype.has=i,l.prototype.set=o,Qg=l,Qg}var Jg,BC;function t6(){if(BC)return Jg;BC=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Jg=t,Jg}var ey,FC;function r6(){if(FC)return ey;FC=1;function e(t){return this.__data__.has(t)}return ey=e,ey}var ty,WC;function oT(){if(WC)return ty;WC=1;var e=e1(),t=t6(),r=r6();function n(i){var o=-1,l=i==null?0:i.length;for(this.__data__=new e;++o<l;)this.add(i[o])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,ty=n,ty}var ry,$C;function sT(){if($C)return ry;$C=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return ry=e,ry}var ny,UC;function lT(){if(UC)return ny;UC=1;function e(t,r){return t.has(r)}return ny=e,ny}var ay,HC;function cT(){if(HC)return ay;HC=1;var e=oT(),t=sT(),r=lT(),n=1,i=2;function o(l,u,d,f,v,h){var m=d&n,b=l.length,w=u.length;if(b!=w&&!(m&&w>b))return!1;var x=h.get(l),y=h.get(u);if(x&&y)return x==u&&y==l;var j=-1,k=!0,S=d&i?new e:void 0;for(h.set(l,u),h.set(u,l);++j<b;){var N=l[j],A=u[j];if(f)var O=m?f(A,N,j,u,l,h):f(N,A,j,l,u,h);if(O!==void 0){if(O)continue;k=!1;break}if(S){if(!t(u,function(_,E){if(!r(S,E)&&(N===_||v(N,_,d,f,h)))return S.push(E)})){k=!1;break}}else if(!(N===A||v(N,A,d,f,h))){k=!1;break}}return h.delete(l),h.delete(u),k}return ay=o,ay}var iy,KC;function n6(){if(KC)return iy;KC=1;var e=ha(),t=e.Uint8Array;return iy=t,iy}var oy,GC;function a6(){if(GC)return oy;GC=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,o){n[++r]=[o,i]}),n}return oy=e,oy}var sy,VC;function c1(){if(VC)return sy;VC=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return sy=e,sy}var ly,qC;function i6(){if(qC)return ly;qC=1;var e=zu(),t=n6(),r=QS(),n=cT(),i=a6(),o=c1(),l=1,u=2,d="[object Boolean]",f="[object Date]",v="[object Error]",h="[object Map]",m="[object Number]",b="[object RegExp]",w="[object Set]",x="[object String]",y="[object Symbol]",j="[object ArrayBuffer]",k="[object DataView]",S=e?e.prototype:void 0,N=S?S.valueOf:void 0;function A(O,_,E,T,I,R,L){switch(E){case k:if(O.byteLength!=_.byteLength||O.byteOffset!=_.byteOffset)return!1;O=O.buffer,_=_.buffer;case j:return!(O.byteLength!=_.byteLength||!R(new t(O),new t(_)));case d:case f:case m:return r(+O,+_);case v:return O.name==_.name&&O.message==_.message;case b:case x:return O==_+"";case h:var M=i;case w:var q=T&l;if(M||(M=o),O.size!=_.size&&!q)return!1;var H=L.get(O);if(H)return H==_;T|=u,L.set(O,_);var Z=n(M(O),M(_),T,I,R,L);return L.delete(O),Z;case y:if(N)return N.call(O)==N.call(_)}return!1}return ly=A,ly}var cy,ZC;function uT(){if(ZC)return cy;ZC=1;function e(t,r){for(var n=-1,i=r.length,o=t.length;++n<i;)t[o+n]=r[n];return t}return cy=e,cy}var uy,XC;function o6(){if(XC)return uy;XC=1;var e=uT(),t=Yr();function r(n,i,o){var l=i(n);return t(n)?l:e(l,o(n))}return uy=r,uy}var dy,YC;function s6(){if(YC)return dy;YC=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,o=0,l=[];++n<i;){var u=t[n];r(u,n,t)&&(l[o++]=u)}return l}return dy=e,dy}var fy,QC;function l6(){if(QC)return fy;QC=1;function e(){return[]}return fy=e,fy}var py,JC;function c6(){if(JC)return py;JC=1;var e=s6(),t=l6(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(l){return l==null?[]:(l=Object(l),e(i(l),function(u){return n.call(l,u)}))}:t;return py=o,py}var hy,ez;function u6(){if(ez)return hy;ez=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return hy=e,hy}var vy,tz;function d6(){if(tz)return vy;tz=1;var e=Xa(),t=Ya(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return vy=n,vy}var my,rz;function u1(){if(rz)return my;rz=1;var e=d6(),t=Ya(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=e((function(){return arguments})())?e:function(l){return t(l)&&n.call(l,"callee")&&!i.call(l,"callee")};return my=o,my}var Nc={exports:{}},gy,nz;function f6(){if(nz)return gy;nz=1;function e(){return!1}return gy=e,gy}Nc.exports;var az;function dT(){return az||(az=1,(function(e,t){var r=ha(),n=f6(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,l=o&&o.exports===i,u=l?r.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||n;e.exports=f})(Nc,Nc.exports)),Nc.exports}var yy,iz;function d1(){if(iz)return yy;iz=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var o=typeof n;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return yy=r,yy}var xy,oz;function f1(){if(oz)return xy;oz=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return xy=t,xy}var by,sz;function p6(){if(sz)return by;sz=1;var e=Xa(),t=f1(),r=Ya(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",v="[object Number]",h="[object Object]",m="[object RegExp]",b="[object Set]",w="[object String]",x="[object WeakMap]",y="[object ArrayBuffer]",j="[object DataView]",k="[object Float32Array]",S="[object Float64Array]",N="[object Int8Array]",A="[object Int16Array]",O="[object Int32Array]",_="[object Uint8Array]",E="[object Uint8ClampedArray]",T="[object Uint16Array]",I="[object Uint32Array]",R={};R[k]=R[S]=R[N]=R[A]=R[O]=R[_]=R[E]=R[T]=R[I]=!0,R[n]=R[i]=R[y]=R[o]=R[j]=R[l]=R[u]=R[d]=R[f]=R[v]=R[h]=R[m]=R[b]=R[w]=R[x]=!1;function L(M){return r(M)&&t(M.length)&&!!R[e(M)]}return by=L,by}var Sy,lz;function fT(){if(lz)return Sy;lz=1;function e(t){return function(r){return t(r)}}return Sy=e,Sy}var Pc={exports:{}};Pc.exports;var cz;function h6(){return cz||(cz=1,(function(e,t){var r=OE(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,l=o&&r.process,u=(function(){try{var d=i&&i.require&&i.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(Pc,Pc.exports)),Pc.exports}var wy,uz;function pT(){if(uz)return wy;uz=1;var e=p6(),t=fT(),r=h6(),n=r&&r.isTypedArray,i=n?t(n):e;return wy=i,wy}var jy,dz;function v6(){if(dz)return jy;dz=1;var e=u6(),t=u1(),r=Yr(),n=dT(),i=d1(),o=pT(),l=Object.prototype,u=l.hasOwnProperty;function d(f,v){var h=r(f),m=!h&&t(f),b=!h&&!m&&n(f),w=!h&&!m&&!b&&o(f),x=h||m||b||w,y=x?e(f.length,String):[],j=y.length;for(var k in f)(v||u.call(f,k))&&!(x&&(k=="length"||b&&(k=="offset"||k=="parent")||w&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||i(k,j)))&&y.push(k);return y}return jy=d,jy}var ky,fz;function m6(){if(fz)return ky;fz=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return ky=t,ky}var Cy,pz;function hT(){if(pz)return Cy;pz=1;function e(t,r){return function(n){return t(r(n))}}return Cy=e,Cy}var zy,hz;function g6(){if(hz)return zy;hz=1;var e=hT(),t=e(Object.keys,Object);return zy=t,zy}var Ay,vz;function y6(){if(vz)return Ay;vz=1;var e=m6(),t=g6(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!e(o))return t(o);var l=[];for(var u in Object(o))n.call(o,u)&&u!="constructor"&&l.push(u);return l}return Ay=i,Ay}var Ny,mz;function Au(){if(mz)return Ny;mz=1;var e=YS(),t=f1();function r(n){return n!=null&&t(n.length)&&!e(n)}return Ny=r,Ny}var Py,gz;function eh(){if(gz)return Py;gz=1;var e=v6(),t=y6(),r=Au();function n(i){return r(i)?e(i):t(i)}return Py=n,Py}var _y,yz;function x6(){if(yz)return _y;yz=1;var e=o6(),t=c6(),r=eh();function n(i){return e(i,r,t)}return _y=n,_y}var Oy,xz;function b6(){if(xz)return Oy;xz=1;var e=x6(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,l,u,d,f,v){var h=u&t,m=e(o),b=m.length,w=e(l),x=w.length;if(b!=x&&!h)return!1;for(var y=b;y--;){var j=m[y];if(!(h?j in l:n.call(l,j)))return!1}var k=v.get(o),S=v.get(l);if(k&&S)return k==l&&S==o;var N=!0;v.set(o,l),v.set(l,o);for(var A=h;++y<b;){j=m[y];var O=o[j],_=l[j];if(d)var E=h?d(_,O,j,l,o,v):d(O,_,j,o,l,v);if(!(E===void 0?O===_||f(O,_,u,d,v):E)){N=!1;break}A||(A=j=="constructor")}if(N&&!A){var T=o.constructor,I=l.constructor;T!=I&&"constructor"in o&&"constructor"in l&&!(typeof T=="function"&&T instanceof T&&typeof I=="function"&&I instanceof I)&&(N=!1)}return v.delete(o),v.delete(l),N}return Oy=i,Oy}var Ey,bz;function S6(){if(bz)return Ey;bz=1;var e=Do(),t=ha(),r=e(t,"DataView");return Ey=r,Ey}var Ty,Sz;function w6(){if(Sz)return Ty;Sz=1;var e=Do(),t=ha(),r=e(t,"Promise");return Ty=r,Ty}var Dy,wz;function vT(){if(wz)return Dy;wz=1;var e=Do(),t=ha(),r=e(t,"Set");return Dy=r,Dy}var Ry,jz;function j6(){if(jz)return Ry;jz=1;var e=Do(),t=ha(),r=e(t,"WeakMap");return Ry=r,Ry}var Iy,kz;function k6(){if(kz)return Iy;kz=1;var e=S6(),t=JS(),r=w6(),n=vT(),i=j6(),o=Xa(),l=EE(),u="[object Map]",d="[object Object]",f="[object Promise]",v="[object Set]",h="[object WeakMap]",m="[object DataView]",b=l(e),w=l(t),x=l(r),y=l(n),j=l(i),k=o;return(e&&k(new e(new ArrayBuffer(1)))!=m||t&&k(new t)!=u||r&&k(r.resolve())!=f||n&&k(new n)!=v||i&&k(new i)!=h)&&(k=function(S){var N=o(S),A=N==d?S.constructor:void 0,O=A?l(A):"";if(O)switch(O){case b:return m;case w:return u;case x:return f;case y:return v;case j:return h}return N}),Iy=k,Iy}var My,Cz;function C6(){if(Cz)return My;Cz=1;var e=iT(),t=cT(),r=i6(),n=b6(),i=k6(),o=Yr(),l=dT(),u=pT(),d=1,f="[object Arguments]",v="[object Array]",h="[object Object]",m=Object.prototype,b=m.hasOwnProperty;function w(x,y,j,k,S,N){var A=o(x),O=o(y),_=A?v:i(x),E=O?v:i(y);_=_==f?h:_,E=E==f?h:E;var T=_==h,I=E==h,R=_==E;if(R&&l(x)){if(!l(y))return!1;A=!0,T=!1}if(R&&!T)return N||(N=new e),A||u(x)?t(x,y,j,k,S,N):r(x,y,_,j,k,S,N);if(!(j&d)){var L=T&&b.call(x,"__wrapped__"),M=I&&b.call(y,"__wrapped__");if(L||M){var q=L?x.value():x,H=M?y.value():y;return N||(N=new e),S(q,H,j,k,N)}}return R?(N||(N=new e),n(x,y,j,k,S,N)):!1}return My=w,My}var Ly,zz;function p1(){if(zz)return Ly;zz=1;var e=C6(),t=Ya();function r(n,i,o,l,u){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,o,l,r,u)}return Ly=r,Ly}var By,Az;function z6(){if(Az)return By;Az=1;var e=iT(),t=p1(),r=1,n=2;function i(o,l,u,d){var f=u.length,v=f,h=!d;if(o==null)return!v;for(o=Object(o);f--;){var m=u[f];if(h&&m[2]?m[1]!==o[m[0]]:!(m[0]in o))return!1}for(;++f<v;){m=u[f];var b=m[0],w=o[b],x=m[1];if(h&&m[2]){if(w===void 0&&!(b in o))return!1}else{var y=new e;if(d)var j=d(w,x,b,o,l,y);if(!(j===void 0?t(x,w,r|n,d,y):j))return!1}}return!0}return By=i,By}var Fy,Nz;function mT(){if(Nz)return Fy;Nz=1;var e=Li();function t(r){return r===r&&!e(r)}return Fy=t,Fy}var Wy,Pz;function A6(){if(Pz)return Wy;Pz=1;var e=mT(),t=eh();function r(n){for(var i=t(n),o=i.length;o--;){var l=i[o],u=n[l];i[o]=[l,u,e(u)]}return i}return Wy=r,Wy}var $y,_z;function gT(){if(_z)return $y;_z=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return $y=e,$y}var Uy,Oz;function N6(){if(Oz)return Uy;Oz=1;var e=z6(),t=A6(),r=gT();function n(i){var o=t(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(l){return l===i||e(l,i,o)}}return Uy=n,Uy}var Hy,Ez;function P6(){if(Ez)return Hy;Ez=1;function e(t,r){return t!=null&&r in Object(t)}return Hy=e,Hy}var Ky,Tz;function _6(){if(Tz)return Ky;Tz=1;var e=RE(),t=u1(),r=Yr(),n=d1(),i=f1(),o=qp();function l(u,d,f){d=e(d,u);for(var v=-1,h=d.length,m=!1;++v<h;){var b=o(d[v]);if(!(m=u!=null&&f(u,b)))break;u=u[b]}return m||++v!=h?m:(h=u==null?0:u.length,!!h&&i(h)&&n(b,h)&&(r(u)||t(u)))}return Ky=l,Ky}var Gy,Dz;function O6(){if(Dz)return Gy;Dz=1;var e=P6(),t=_6();function r(n,i){return n!=null&&t(n,i,e)}return Gy=r,Gy}var Vy,Rz;function E6(){if(Rz)return Vy;Rz=1;var e=p1(),t=IE(),r=O6(),n=XS(),i=mT(),o=gT(),l=qp(),u=1,d=2;function f(v,h){return n(v)&&i(h)?o(l(v),h):function(m){var b=t(m,v);return b===void 0&&b===h?r(m,v):e(h,b,u|d)}}return Vy=f,Vy}var qy,Iz;function ml(){if(Iz)return qy;Iz=1;function e(t){return t}return qy=e,qy}var Zy,Mz;function T6(){if(Mz)return Zy;Mz=1;function e(t){return function(r){return r?.[t]}}return Zy=e,Zy}var Xy,Lz;function D6(){if(Lz)return Xy;Lz=1;var e=r1();function t(r){return function(n){return e(n,r)}}return Xy=t,Xy}var Yy,Bz;function R6(){if(Bz)return Yy;Bz=1;var e=T6(),t=D6(),r=XS(),n=qp();function i(o){return r(o)?e(n(o)):t(o)}return Yy=i,Yy}var Qy,Fz;function va(){if(Fz)return Qy;Fz=1;var e=N6(),t=E6(),r=ml(),n=Yr(),i=R6();function o(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?n(l)?t(l[0],l[1]):e(l):i(l)}return Qy=o,Qy}var Jy,Wz;function yT(){if(Wz)return Jy;Wz=1;function e(t,r,n,i){for(var o=t.length,l=n+(i?1:-1);i?l--:++l<o;)if(r(t[l],l,t))return l;return-1}return Jy=e,Jy}var ex,$z;function I6(){if($z)return ex;$z=1;function e(t){return t!==t}return ex=e,ex}var tx,Uz;function M6(){if(Uz)return tx;Uz=1;function e(t,r,n){for(var i=n-1,o=t.length;++i<o;)if(t[i]===r)return i;return-1}return tx=e,tx}var rx,Hz;function L6(){if(Hz)return rx;Hz=1;var e=yT(),t=I6(),r=M6();function n(i,o,l){return o===o?r(i,o,l):e(i,t,l)}return rx=n,rx}var nx,Kz;function B6(){if(Kz)return nx;Kz=1;var e=L6();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return nx=t,nx}var ax,Gz;function F6(){if(Gz)return ax;Gz=1;function e(t,r,n){for(var i=-1,o=t==null?0:t.length;++i<o;)if(n(r,t[i]))return!0;return!1}return ax=e,ax}var ix,Vz;function W6(){if(Vz)return ix;Vz=1;function e(){}return ix=e,ix}var ox,qz;function $6(){if(qz)return ox;qz=1;var e=vT(),t=W6(),r=c1(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(o){return new e(o)}:t;return ox=i,ox}var sx,Zz;function U6(){if(Zz)return sx;Zz=1;var e=oT(),t=B6(),r=F6(),n=lT(),i=$6(),o=c1(),l=200;function u(d,f,v){var h=-1,m=t,b=d.length,w=!0,x=[],y=x;if(v)w=!1,m=r;else if(b>=l){var j=f?null:i(d);if(j)return o(j);w=!1,m=n,y=new e}else y=f?[]:x;e:for(;++h<b;){var k=d[h],S=f?f(k):k;if(k=v||k!==0?k:0,w&&S===S){for(var N=y.length;N--;)if(y[N]===S)continue e;f&&y.push(S),x.push(k)}else m(y,S,v)||(y!==x&&y.push(S),x.push(k))}return x}return sx=u,sx}var lx,Xz;function H6(){if(Xz)return lx;Xz=1;var e=va(),t=U6();function r(n,i){return n&&n.length?t(n,e(i,2)):[]}return lx=r,lx}var K6=H6();const Yz=pt(K6);function xT(e,t,r){return t===!0?Yz(e,r):We(t)?Yz(e,t):e}function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}var G6=["ref"];function Qz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qz(Object(r),!0).forEach(function(n){th(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ST(n.key),n)}}function q6(e,t,r){return t&&Jz(e.prototype,t),r&&Jz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z6(e,t,r){return t=Lf(t),X6(e,bT()?Reflect.construct(t,r||[],Lf(e).constructor):t.apply(e,r))}function X6(e,t){if(t&&(Ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y6(e)}function Y6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bT=function(){return!!e})()}function Lf(e){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lf(e)}function Q6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g0(e,t)}function g0(e,t){return g0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},g0(e,t)}function th(e,t,r){return t=ST(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ST(e){var t=J6(e,"string");return Ms(t)=="symbol"?t:t+""}function J6(e,t){if(Ms(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function e$(e,t){if(e==null)return{};var r=t$(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function t$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function r$(e){return e.value}function n$(e,t){if(G.isValidElement(e))return G.cloneElement(e,t);if(typeof e=="function")return G.createElement(e,t);t.ref;var r=e$(t,G6);return G.createElement(l1,r)}var eA=1,zt=(function(e){function t(){var r;V6(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=Z6(this,t,[].concat(i)),th(r,"lastBoundingBox",{width:-1,height:-1}),r}return Q6(t,e),q6(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>eA||Math.abs(i.height-this.lastBoundingBox.height)>eA)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Oa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,l=i.align,u=i.verticalAlign,d=i.margin,f=i.chartWidth,v=i.chartHeight,h,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(l==="center"&&o==="vertical"){var b=this.getBBoxSnapshot();h={left:((f||0)-b.width)/2}}else h=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var w=this.getBBoxSnapshot();m={top:((v||0)-w.height)/2}}else m=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Oa(Oa({},h),m)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,l=i.width,u=i.height,d=i.wrapperStyle,f=i.payloadUniqBy,v=i.payload,h=Oa(Oa({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return G.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(b){n.wrapperNode=b}},n$(o,Oa(Oa({},this.props),{},{payload:xT(v,f,r$)})))}}],[{key:"getWithHeight",value:function(n,i){var o=Oa(Oa({},this.defaultProps),n.props),l=o.layout;return l==="vertical"&&Se(n.props.height)?{height:n.props.height}:l==="horizontal"?{width:n.props.width||i}:null}}])})(z.PureComponent);th(zt,"displayName","Legend");th(zt,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var cx,tA;function a$(){if(tA)return cx;tA=1;var e=zu(),t=u1(),r=Yr(),n=e?e.isConcatSpreadable:void 0;function i(o){return r(o)||t(o)||!!(n&&o&&o[n])}return cx=i,cx}var ux,rA;function wT(){if(rA)return ux;rA=1;var e=uT(),t=a$();function r(n,i,o,l,u){var d=-1,f=n.length;for(o||(o=t),u||(u=[]);++d<f;){var v=n[d];i>0&&o(v)?i>1?r(v,i-1,o,l,u):e(u,v):l||(u[u.length]=v)}return u}return ux=r,ux}var dx,nA;function i$(){if(nA)return dx;nA=1;function e(t){return function(r,n,i){for(var o=-1,l=Object(r),u=i(r),d=u.length;d--;){var f=u[t?d:++o];if(n(l[f],f,l)===!1)break}return r}}return dx=e,dx}var fx,aA;function o$(){if(aA)return fx;aA=1;var e=i$(),t=e();return fx=t,fx}var px,iA;function jT(){if(iA)return px;iA=1;var e=o$(),t=eh();function r(n,i){return n&&e(n,i,t)}return px=r,px}var hx,oA;function s$(){if(oA)return hx;oA=1;var e=Au();function t(r,n){return function(i,o){if(i==null)return i;if(!e(i))return r(i,o);for(var l=i.length,u=n?l:-1,d=Object(i);(n?u--:++u<l)&&o(d[u],u,d)!==!1;);return i}}return hx=t,hx}var vx,sA;function h1(){if(sA)return vx;sA=1;var e=jT(),t=s$(),r=t(e);return vx=r,vx}var mx,lA;function kT(){if(lA)return mx;lA=1;var e=h1(),t=Au();function r(n,i){var o=-1,l=t(n)?Array(n.length):[];return e(n,function(u,d,f){l[++o]=i(u,d,f)}),l}return mx=r,mx}var gx,cA;function l$(){if(cA)return gx;cA=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return gx=e,gx}var yx,uA;function c$(){if(uA)return yx;uA=1;var e=pl();function t(r,n){if(r!==n){var i=r!==void 0,o=r===null,l=r===r,u=e(r),d=n!==void 0,f=n===null,v=n===n,h=e(n);if(!f&&!h&&!u&&r>n||u&&d&&v&&!f&&!h||o&&d&&v||!i&&v||!l)return 1;if(!o&&!u&&!h&&r<n||h&&i&&l&&!o&&!u||f&&i&&l||!d&&l||!v)return-1}return 0}return yx=t,yx}var xx,dA;function u$(){if(dA)return xx;dA=1;var e=c$();function t(r,n,i){for(var o=-1,l=r.criteria,u=n.criteria,d=l.length,f=i.length;++o<d;){var v=e(l[o],u[o]);if(v){if(o>=f)return v;var h=i[o];return v*(h=="desc"?-1:1)}}return r.index-n.index}return xx=t,xx}var bx,fA;function d$(){if(fA)return bx;fA=1;var e=t1(),t=r1(),r=va(),n=kT(),i=l$(),o=fT(),l=u$(),u=ml(),d=Yr();function f(v,h,m){h.length?h=e(h,function(x){return d(x)?function(y){return t(y,x.length===1?x[0]:x)}:x}):h=[u];var b=-1;h=e(h,o(r));var w=n(v,function(x,y,j){var k=e(h,function(S){return S(x)});return{criteria:k,index:++b,value:x}});return i(w,function(x,y){return l(x,y,m)})}return bx=f,bx}var Sx,pA;function f$(){if(pA)return Sx;pA=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return Sx=e,Sx}var wx,hA;function p$(){if(hA)return wx;hA=1;var e=f$(),t=Math.max;function r(n,i,o){return i=t(i===void 0?n.length-1:i,0),function(){for(var l=arguments,u=-1,d=t(l.length-i,0),f=Array(d);++u<d;)f[u]=l[i+u];u=-1;for(var v=Array(i+1);++u<i;)v[u]=l[u];return v[i]=o(f),e(n,this,v)}}return wx=r,wx}var jx,vA;function h$(){if(vA)return jx;vA=1;function e(t){return function(){return t}}return jx=e,jx}var kx,mA;function CT(){if(mA)return kx;mA=1;var e=Do(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return kx=t,kx}var Cx,gA;function v$(){if(gA)return Cx;gA=1;var e=h$(),t=CT(),r=ml(),n=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:r;return Cx=n,Cx}var zx,yA;function m$(){if(yA)return zx;yA=1;var e=800,t=16,r=Date.now;function n(i){var o=0,l=0;return function(){var u=r(),d=t-(u-l);if(l=u,d>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return zx=n,zx}var Ax,xA;function g$(){if(xA)return Ax;xA=1;var e=v$(),t=m$(),r=t(e);return Ax=r,Ax}var Nx,bA;function y$(){if(bA)return Nx;bA=1;var e=ml(),t=p$(),r=g$();function n(i,o){return r(t(i,o,e),i+"")}return Nx=n,Nx}var Px,SA;function rh(){if(SA)return Px;SA=1;var e=QS(),t=Au(),r=d1(),n=Li();function i(o,l,u){if(!n(u))return!1;var d=typeof l;return(d=="number"?t(u)&&r(l,u.length):d=="string"&&l in u)?e(u[l],o):!1}return Px=i,Px}var _x,wA;function x$(){if(wA)return _x;wA=1;var e=wT(),t=d$(),r=y$(),n=rh(),i=r(function(o,l){if(o==null)return[];var u=l.length;return u>1&&n(o,l[0],l[1])?l=[]:u>2&&n(l[0],l[1],l[2])&&(l=[l[0]]),t(o,e(l,1),[])});return _x=i,_x}var b$=x$();const v1=pt(b$);function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function y0(){return y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y0.apply(this,arguments)}function S$(e,t){return C$(e)||k$(e,t)||j$(e,t)||w$()}function w$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j$(e,t){if(e){if(typeof e=="string")return jA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jA(e,t)}}function jA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function C$(e){if(Array.isArray(e))return e}function kA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ox(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kA(Object(r),!0).forEach(function(n){z$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z$(e,t,r){return t=A$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A$(e){var t=N$(e,"string");return Kc(t)=="symbol"?t:t+""}function N$(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P$(e){return Array.isArray(e)&&cr(e[0])&&cr(e[1])?e.join(" ~ "):e}var _$=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,o=i===void 0?{}:i,l=t.itemStyle,u=l===void 0?{}:l,d=t.labelStyle,f=d===void 0?{}:d,v=t.payload,h=t.formatter,m=t.itemSorter,b=t.wrapperClassName,w=t.labelClassName,x=t.label,y=t.labelFormatter,j=t.accessibilityLayer,k=j===void 0?!1:j,S=function(){if(v&&v.length){var L={padding:0,margin:0},M=(m?v1(v,m):v).map(function(q,H){if(q.type==="none")return null;var Z=Ox({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},u),Y=q.formatter||h||P$,$=q.value,F=q.name,Q=$,U=F;if(Y&&Q!=null&&U!=null){var B=Y($,F,q,H,v);if(Array.isArray(B)){var te=S$(B,2);Q=te[0],U=te[1]}else Q=B}return G.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:Z},cr(U)?G.createElement("span",{className:"recharts-tooltip-item-name"},U):null,cr(U)?G.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,G.createElement("span",{className:"recharts-tooltip-item-value"},Q),G.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return G.createElement("ul",{className:"recharts-tooltip-item-list",style:L},M)}return null},N=Ox({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),A=Ox({margin:0},f),O=!Fe(x),_=O?x:"",E=He("recharts-default-tooltip",b),T=He("recharts-tooltip-label",w);O&&y&&v!==void 0&&v!==null&&(_=y(x,v));var I=k?{role:"status","aria-live":"assertive"}:{};return G.createElement("div",y0({className:E,style:N},I),G.createElement("p",{className:T,style:A},G.isValidElement(_)?_:"".concat(_)),S())};function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function Yd(e,t,r){return t=O$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O$(e){var t=E$(e,"string");return Gc(t)=="symbol"?t:t+""}function E$(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fc="recharts-tooltip-wrapper",T$={visibility:"hidden"};function D$(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return He(fc,Yd(Yd(Yd(Yd({},"".concat(fc,"-right"),Se(r)&&t&&Se(t.x)&&r>=t.x),"".concat(fc,"-left"),Se(r)&&t&&Se(t.x)&&r<t.x),"".concat(fc,"-bottom"),Se(n)&&t&&Se(t.y)&&n>=t.y),"".concat(fc,"-top"),Se(n)&&t&&Se(t.y)&&n<t.y))}function CA(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,o=e.position,l=e.reverseDirection,u=e.tooltipDimension,d=e.viewBox,f=e.viewBoxDimension;if(o&&Se(o[n]))return o[n];var v=r[n]-u-i,h=r[n]+i;if(t[n])return l[n]?v:h;if(l[n]){var m=v,b=d[n];return m<b?Math.max(h,d[n]):Math.max(v,d[n])}var w=h+u,x=d[n]+f;return w>x?Math.max(v,d[n]):Math.max(h,d[n])}function R$(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function I$(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,d=e.viewBox,f,v,h;return l.height>0&&l.width>0&&r?(v=CA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),h=CA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=R$({translateX:v,translateY:h,useTranslate3d:u})):f=T$,{cssProperties:f,cssClasses:D$({translateX:v,translateY:h,coordinate:r})}}function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function zA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(r),!0).forEach(function(n){b0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AT(n.key),n)}}function B$(e,t,r){return t&&L$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F$(e,t,r){return t=Bf(t),W$(e,zT()?Reflect.construct(t,r||[],Bf(e).constructor):t.apply(e,r))}function W$(e,t){if(t&&(Ls(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $$(e)}function $$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zT=function(){return!!e})()}function Bf(e){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bf(e)}function U$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x0(e,t)}function x0(e,t){return x0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},x0(e,t)}function b0(e,t,r){return t=AT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AT(e){var t=H$(e,"string");return Ls(t)=="symbol"?t:t+""}function H$(e,t){if(Ls(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var NA=1,K$=(function(e){function t(){var r;M$(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=F$(this,t,[].concat(i)),b0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),b0(r,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,f,v;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(v=r.props.coordinate)===null||v===void 0?void 0:v.y)!==null&&f!==void 0?f:0}})}}),r}return U$(t,e),B$(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>NA||Math.abs(n.height-this.state.lastBoundingBox.height)>NA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.children,v=i.coordinate,h=i.hasPayload,m=i.isAnimationActive,b=i.offset,w=i.position,x=i.reverseDirection,y=i.useTranslate3d,j=i.viewBox,k=i.wrapperStyle,S=I$({allowEscapeViewBox:l,coordinate:v,offsetTopLeft:b,position:w,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:j}),N=S.cssClasses,A=S.cssProperties,O=AA(AA({transition:m&&o?"transform ".concat(u,"ms ").concat(d):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&h?"visible":"hidden",position:"absolute",top:0,left:0},k);return G.createElement("div",{tabIndex:-1,className:N,style:O,ref:function(E){n.wrapperNode=E}},f)}}])})(z.PureComponent),G$=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Qa={isSsr:G$()};function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function PA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _A(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(r),!0).forEach(function(n){m1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PT(n.key),n)}}function Z$(e,t,r){return t&&q$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function X$(e,t,r){return t=Ff(t),Y$(e,NT()?Reflect.construct(t,r||[],Ff(e).constructor):t.apply(e,r))}function Y$(e,t){if(t&&(Bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q$(e)}function Q$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NT=function(){return!!e})()}function Ff(e){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ff(e)}function J$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S0(e,t)}function S0(e,t){return S0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},S0(e,t)}function m1(e,t,r){return t=PT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PT(e){var t=e8(e,"string");return Bs(t)=="symbol"?t:t+""}function e8(e,t){if(Bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function t8(e){return e.dataKey}function r8(e,t){return G.isValidElement(e)?G.cloneElement(e,t):typeof e=="function"?G.createElement(e,t):G.createElement(_$,t)}var st=(function(e){function t(){return V$(this,t),X$(this,t,arguments)}return J$(t,e),Z$(t,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,l=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.content,v=i.coordinate,h=i.filterNull,m=i.isAnimationActive,b=i.offset,w=i.payload,x=i.payloadUniqBy,y=i.position,j=i.reverseDirection,k=i.useTranslate3d,S=i.viewBox,N=i.wrapperStyle,A=w??[];h&&A.length&&(A=xT(w.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),x,t8));var O=A.length>0;return G.createElement(K$,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:m,active:o,coordinate:v,hasPayload:O,offset:b,position:y,reverseDirection:j,useTranslate3d:k,viewBox:S,wrapperStyle:N},r8(f,_A(_A({},this.props),{},{payload:A})))}}])})(z.PureComponent);m1(st,"displayName","Tooltip");m1(st,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Qa.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ex,OA;function n8(){if(OA)return Ex;OA=1;var e=ha(),t=function(){return e.Date.now()};return Ex=t,Ex}var Tx,EA;function a8(){if(EA)return Tx;EA=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return Tx=t,Tx}var Dx,TA;function i8(){if(TA)return Dx;TA=1;var e=a8(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return Dx=r,Dx}var Rx,DA;function _T(){if(DA)return Rx;DA=1;var e=i8(),t=Li(),r=pl(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(t(f)){var v=typeof f.valueOf=="function"?f.valueOf():f;f=t(v)?v+"":v}if(typeof f!="string")return f===0?f:+f;f=e(f);var h=o.test(f);return h||l.test(f)?u(f.slice(2),h?2:8):i.test(f)?n:+f}return Rx=d,Rx}var Ix,RA;function o8(){if(RA)return Ix;RA=1;var e=Li(),t=n8(),r=_T(),n="Expected a function",i=Math.max,o=Math.min;function l(u,d,f){var v,h,m,b,w,x,y=0,j=!1,k=!1,S=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,e(f)&&(j=!!f.leading,k="maxWait"in f,m=k?i(r(f.maxWait)||0,d):m,S="trailing"in f?!!f.trailing:S);function N(M){var q=v,H=h;return v=h=void 0,y=M,b=u.apply(H,q),b}function A(M){return y=M,w=setTimeout(E,d),j?N(M):b}function O(M){var q=M-x,H=M-y,Z=d-q;return k?o(Z,m-H):Z}function _(M){var q=M-x,H=M-y;return x===void 0||q>=d||q<0||k&&H>=m}function E(){var M=t();if(_(M))return T(M);w=setTimeout(E,O(M))}function T(M){return w=void 0,S&&v?N(M):(v=h=void 0,b)}function I(){w!==void 0&&clearTimeout(w),y=0,v=x=h=w=void 0}function R(){return w===void 0?b:T(t())}function L(){var M=t(),q=_(M);if(v=arguments,h=this,x=M,q){if(w===void 0)return A(x);if(k)return clearTimeout(w),w=setTimeout(E,d),N(x)}return w===void 0&&(w=setTimeout(E,d)),b}return L.cancel=I,L.flush=R,L}return Ix=l,Ix}var Mx,IA;function s8(){if(IA)return Mx;IA=1;var e=o8(),t=Li(),r="Expected a function";function n(i,o,l){var u=!0,d=!0;if(typeof i!="function")throw new TypeError(r);return t(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),e(i,o,{leading:u,maxWait:o,trailing:d})}return Mx=n,Mx}var l8=s8();const OT=pt(l8);function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function MA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(r),!0).forEach(function(n){c8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c8(e,t,r){return t=u8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u8(e){var t=d8(e,"string");return Vc(t)=="symbol"?t:t+""}function d8(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f8(e,t){return m8(e)||v8(e,t)||h8(e,t)||p8()}function p8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h8(e,t){if(e){if(typeof e=="string")return LA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LA(e,t)}}function LA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function m8(e){if(Array.isArray(e))return e}var Yt=z.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=e.width,l=o===void 0?"100%":o,u=e.height,d=u===void 0?"100%":u,f=e.minWidth,v=f===void 0?0:f,h=e.minHeight,m=e.maxHeight,b=e.children,w=e.debounce,x=w===void 0?0:w,y=e.id,j=e.className,k=e.onResize,S=e.style,N=S===void 0?{}:S,A=z.useRef(null),O=z.useRef();O.current=k,z.useImperativeHandle(t,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var _=z.useState({containerWidth:i.width,containerHeight:i.height}),E=f8(_,2),T=E[0],I=E[1],R=z.useCallback(function(M,q){I(function(H){var Z=Math.round(M),Y=Math.round(q);return H.containerWidth===Z&&H.containerHeight===Y?H:{containerWidth:Z,containerHeight:Y}})},[]);z.useEffect(function(){var M=function(F){var Q,U=F[0].contentRect,B=U.width,te=U.height;R(B,te),(Q=O.current)===null||Q===void 0||Q.call(O,B,te)};x>0&&(M=OT(M,x,{trailing:!0,leading:!1}));var q=new ResizeObserver(M),H=A.current.getBoundingClientRect(),Z=H.width,Y=H.height;return R(Z,Y),q.observe(A.current),function(){q.disconnect()}},[R,x]);var L=z.useMemo(function(){var M=T.containerWidth,q=T.containerHeight;if(M<0||q<0)return null;Gn(mo(l)||mo(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),Gn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var H=mo(l)?M:l,Z=mo(d)?q:d;r&&r>0&&(H?Z=H/r:Z&&(H=Z*r),m&&Z>m&&(Z=m)),Gn(H>0||Z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,Z,l,d,v,h,r);var Y=!Array.isArray(b)&&Wa(b.type).endsWith("Chart");return G.Children.map(b,function($){return G.isValidElement($)?z.cloneElement($,Qd({width:H,height:Z},Y?{style:Qd({height:"100%",width:"100%",maxHeight:Z,maxWidth:H},$.props.style)}:{})):$})},[r,b,d,m,h,v,T,l]);return G.createElement("div",{id:y?"".concat(y):void 0,className:He("recharts-responsive-container",j),style:Qd(Qd({},N),{},{width:l,height:d,minWidth:v,minHeight:h,maxHeight:m}),ref:A},L)}),gl=function(t){return null};gl.displayName="Cell";function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function BA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function w0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(r),!0).forEach(function(n){g8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g8(e,t,r){return t=y8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y8(e){var t=x8(e,"string");return qc(t)=="symbol"?t:t+""}function x8(e,t){if(qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cs={widthCache:{},cacheCount:0},b8=2e3,S8={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},FA="recharts_measurement_span";function w8(e){var t=w0({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Tc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Qa.isSsr)return{width:0,height:0};var n=w8(r),i=JSON.stringify({text:t,copyStyle:n});if(cs.widthCache[i])return cs.widthCache[i];try{var o=document.getElementById(FA);o||(o=document.createElement("span"),o.setAttribute("id",FA),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var l=w0(w0({},S8),n);Object.assign(o.style,l),o.textContent="".concat(t);var u=o.getBoundingClientRect(),d={width:u.width,height:u.height};return cs.widthCache[i]=d,++cs.cacheCount>b8&&(cs.cacheCount=0,cs.widthCache={}),d}catch{return{width:0,height:0}}},j8=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function Wf(e,t){return A8(e)||z8(e,t)||C8(e,t)||k8()}function k8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C8(e,t){if(e){if(typeof e=="string")return WA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WA(e,t)}}function WA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function A8(e){if(Array.isArray(e))return e}function N8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_8(n.key),n)}}function P8(e,t,r){return t&&$A(e.prototype,t),r&&$A(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _8(e){var t=O8(e,"string");return Zc(t)=="symbol"?t:t+""}function O8(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var UA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,E8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,T8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ET={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},D8=Object.keys(ET),js="NaN";function R8(e,t){return e*ET[t]}var Jd=(function(){function e(t,r){N8(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!E8.test(r)&&(this.num=NaN,this.unit=""),D8.includes(r)&&(this.num=R8(t,r),this.unit="px")}return P8(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=T8.exec(r))!==null&&n!==void 0?n:[],o=Wf(i,3),l=o[1],u=o[2];return new e(parseFloat(l),u??"")}}])})();function TT(e){if(e.includes(js))return js;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=UA.exec(t))!==null&&r!==void 0?r:[],i=Wf(n,4),o=i[1],l=i[2],u=i[3],d=Jd.parse(o??""),f=Jd.parse(u??""),v=l==="*"?d.multiply(f):d.divide(f);if(v.isNaN())return js;t=t.replace(UA,v.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,m=(h=HA.exec(t))!==null&&h!==void 0?h:[],b=Wf(m,4),w=b[1],x=b[2],y=b[3],j=Jd.parse(w??""),k=Jd.parse(y??""),S=x==="+"?j.add(k):j.subtract(k);if(S.isNaN())return js;t=t.replace(HA,S.toString())}return t}var KA=/\(([^()]*)\)/;function I8(e){for(var t=e;t.includes("(");){var r=KA.exec(t),n=Wf(r,2),i=n[1];t=t.replace(KA,TT(i))}return t}function M8(e){var t=e.replace(/\s+/g,"");return t=I8(t),t=TT(t),t}function L8(e){try{return M8(e)}catch{return js}}function Lx(e){var t=L8(e.slice(5,-1));return t===js?"":t}var B8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],F8=["dx","dy","angle","className","breakAll"];function j0(){return j0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j0.apply(this,arguments)}function GA(e,t){if(e==null)return{};var r=W8(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function W8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VA(e,t){return K8(e)||H8(e,t)||U8(e,t)||$8()}function $8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U8(e,t){if(e){if(typeof e=="string")return qA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qA(e,t)}}function qA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function K8(e){if(Array.isArray(e))return e}var DT=/[ \f\n\r\t\v\u2028\u2029]+/,RT=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var o=[];Fe(r)||(n?o=r.toString().split(""):o=r.toString().split(DT));var l=o.map(function(d){return{word:d,width:Tc(d,i).width}}),u=n?0:Tc("",i).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},G8=function(t,r,n,i,o){var l=t.maxLines,u=t.children,d=t.style,f=t.breakAll,v=Se(l),h=u,m=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(Z,Y){var $=Y.word,F=Y.width,Q=Z[Z.length-1];if(Q&&(i==null||o||Q.width+F+n<Number(i)))Q.words.push($),Q.width+=F+n;else{var U={words:[$],width:F};Z.push(U)}return Z},[])},b=m(r),w=function(H){return H.reduce(function(Z,Y){return Z.width>Y.width?Z:Y})};if(!v)return b;for(var x="",y=function(H){var Z=h.slice(0,H),Y=RT({breakAll:f,style:d,children:Z+x}).wordsWithComputedWidth,$=m(Y),F=$.length>l||w($).width>Number(i);return[F,$]},j=0,k=h.length-1,S=0,N;j<=k&&S<=h.length-1;){var A=Math.floor((j+k)/2),O=A-1,_=y(O),E=VA(_,2),T=E[0],I=E[1],R=y(A),L=VA(R,1),M=L[0];if(!T&&!M&&(j=A+1),T&&M&&(k=A-1),!T&&M){N=I;break}S++}return N||b},ZA=function(t){var r=Fe(t)?[]:t.toString().split(DT);return[{words:r}]},V8=function(t){var r=t.width,n=t.scaleToFit,i=t.children,o=t.style,l=t.breakAll,u=t.maxLines;if((r||n)&&!Qa.isSsr){var d,f,v=RT({breakAll:l,children:i,style:o});if(v){var h=v.wordsWithComputedWidth,m=v.spaceWidth;d=h,f=m}else return ZA(i);return G8({breakAll:l,children:i,maxLines:u,style:o},d,f,r,n)}return ZA(i)},XA="#808080",Co=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,o=i===void 0?0:i,l=t.lineHeight,u=l===void 0?"1em":l,d=t.capHeight,f=d===void 0?"0.71em":d,v=t.scaleToFit,h=v===void 0?!1:v,m=t.textAnchor,b=m===void 0?"start":m,w=t.verticalAnchor,x=w===void 0?"end":w,y=t.fill,j=y===void 0?XA:y,k=GA(t,B8),S=z.useMemo(function(){return V8({breakAll:k.breakAll,children:k.children,maxLines:k.maxLines,scaleToFit:h,style:k.style,width:k.width})},[k.breakAll,k.children,k.maxLines,h,k.style,k.width]),N=k.dx,A=k.dy,O=k.angle,_=k.className,E=k.breakAll,T=GA(k,F8);if(!cr(n)||!cr(o))return null;var I=n+(Se(N)?N:0),R=o+(Se(A)?A:0),L;switch(x){case"start":L=Lx("calc(".concat(f,")"));break;case"middle":L=Lx("calc(".concat((S.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:L=Lx("calc(".concat(S.length-1," * -").concat(u,")"));break}var M=[];if(h){var q=S[0].width,H=k.width;M.push("scale(".concat((Se(H)?H/q:1)/q,")"))}return O&&M.push("rotate(".concat(O,", ").concat(I,", ").concat(R,")")),M.length&&(T.transform=M.join(" ")),G.createElement("text",j0({},Te(T,!0),{x:I,y:R,className:He("recharts-text",_),textAnchor:b,fill:j.includes("url")?XA:j}),S.map(function(Z,Y){var $=Z.words.join(E?"":" ");return G.createElement("tspan",{x:I,dy:Y===0?L:u,key:"".concat($,"-").concat(Y)},$)}))};function Ni(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function q8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function g1(e){let t,r,n;e.length!==2?(t=Ni,r=(u,d)=>Ni(e(u),d),n=(u,d)=>e(u)-d):(t=e===Ni||e===q8?e:Z8,r=e,n=e);function i(u,d,f=0,v=u.length){if(f<v){if(t(d,d)!==0)return v;do{const h=f+v>>>1;r(u[h],d)<0?f=h+1:v=h}while(f<v)}return f}function o(u,d,f=0,v=u.length){if(f<v){if(t(d,d)!==0)return v;do{const h=f+v>>>1;r(u[h],d)<=0?f=h+1:v=h}while(f<v)}return f}function l(u,d,f=0,v=u.length){const h=i(u,d,f,v-1);return h>f&&n(u[h-1],d)>-n(u[h],d)?h-1:h}return{left:i,center:l,right:o}}function Z8(){return 0}function IT(e){return e===null?NaN:+e}function*X8(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Y8=g1(Ni),Nu=Y8.right;g1(IT).center;class YA extends Map{constructor(t,r=eU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(QA(this,t))}has(t){return super.has(QA(this,t))}set(t,r){return super.set(Q8(this,t),r)}delete(t){return super.delete(J8(this,t))}}function QA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Q8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function J8({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function eU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function tU(e=Ni){if(e===Ni)return MT;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function MT(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const rU=Math.sqrt(50),nU=Math.sqrt(10),aU=Math.sqrt(2);function $f(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),l=o>=rU?10:o>=nU?5:o>=aU?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=r&&r<2?$f(e,t,r*2):[u,d,f]}function k0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,o,l]=n?$f(t,e,r):$f(e,t,r);if(!(o>=i))return[];const u=o-i+1,d=new Array(u);if(n)if(l<0)for(let f=0;f<u;++f)d[f]=(o-f)/-l;else for(let f=0;f<u;++f)d[f]=(o-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(i+f)/-l;else for(let f=0;f<u;++f)d[f]=(i+f)*l;return d}function C0(e,t,r){return t=+t,e=+e,r=+r,$f(e,t,r)[2]}function z0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?C0(t,e,r):C0(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function JA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function eN(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function LT(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?MT:tU(i);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,v=Math.log(d),h=.5*Math.exp(2*v/3),m=.5*Math.sqrt(v*h*(d-h)/d)*(f-d/2<0?-1:1),b=Math.max(r,Math.floor(t-f*h/d+m)),w=Math.min(n,Math.floor(t+(d-f)*h/d+m));LT(e,t,b,w,i)}const o=e[t];let l=r,u=n;for(pc(e,r,t),i(e[n],o)>0&&pc(e,r,n);l<u;){for(pc(e,l,u),++l,--u;i(e[l],o)<0;)++l;for(;i(e[u],o)>0;)--u}i(e[r],o)===0?pc(e,r,u):(++u,pc(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function pc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function iU(e,t,r){if(e=Float64Array.from(X8(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return eN(e);if(t>=1)return JA(e);var n,i=(n-1)*t,o=Math.floor(i),l=JA(LT(e,o).subarray(0,o+1)),u=eN(e.subarray(o+1));return l+(u-l)*(i-o)}}function oU(e,t,r=IT){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,o=Math.floor(i),l=+r(e[o],o,e),u=+r(e[o+1],o+1,e);return l+(u-l)*(i-o)}}function sU(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(i);++n<i;)o[n]=e+n*r;return o}function On(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ja(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const A0=Symbol("implicit");function y1(){var e=new YA,t=[],r=[],n=A0;function i(o){let l=e.get(o);if(l===void 0){if(n!==A0)return n;e.set(o,l=t.push(o)-1)}return r[l%r.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new YA;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return y1(t,r).unknown(n)},On.apply(i,arguments),i}function Xc(){var e=y1().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,o,l,u=!1,d=0,f=0,v=.5;delete e.unknown;function h(){var m=t().length,b=i<n,w=b?i:n,x=b?n:i;o=(x-w)/Math.max(1,m-d+f*2),u&&(o=Math.floor(o)),w+=(x-w-o*(m-d))*v,l=o*(1-d),u&&(w=Math.round(w),l=Math.round(l));var y=sU(m).map(function(j){return w+o*j});return r(b?y.reverse():y)}return e.domain=function(m){return arguments.length?(t(m),h()):t()},e.range=function(m){return arguments.length?([n,i]=m,n=+n,i=+i,h()):[n,i]},e.rangeRound=function(m){return[n,i]=m,n=+n,i=+i,u=!0,h()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(m){return arguments.length?(u=!!m,h()):u},e.padding=function(m){return arguments.length?(d=Math.min(1,f=+m),h()):d},e.paddingInner=function(m){return arguments.length?(d=Math.min(1,m),h()):d},e.paddingOuter=function(m){return arguments.length?(f=+m,h()):f},e.align=function(m){return arguments.length?(v=Math.max(0,Math.min(1,m)),h()):v},e.copy=function(){return Xc(t(),[n,i]).round(u).paddingInner(d).paddingOuter(f).align(v)},On.apply(h(),arguments)}function BT(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return BT(t())},e}function Dc(){return BT(Xc.apply(null,arguments).paddingInner(1))}function x1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function FT(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Pu(){}var Yc=.7,Uf=1/Yc,Ps="\\s*([+-]?\\d+)\\s*",Qc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ca="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lU=/^#([0-9a-f]{3,8})$/,cU=new RegExp(`^rgb\\(${Ps},${Ps},${Ps}\\)$`),uU=new RegExp(`^rgb\\(${ca},${ca},${ca}\\)$`),dU=new RegExp(`^rgba\\(${Ps},${Ps},${Ps},${Qc}\\)$`),fU=new RegExp(`^rgba\\(${ca},${ca},${ca},${Qc}\\)$`),pU=new RegExp(`^hsl\\(${Qc},${ca},${ca}\\)$`),hU=new RegExp(`^hsla\\(${Qc},${ca},${ca},${Qc}\\)$`),tN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};x1(Pu,Jc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:rN,formatHex:rN,formatHex8:vU,formatHsl:mU,formatRgb:nN,toString:nN});function rN(){return this.rgb().formatHex()}function vU(){return this.rgb().formatHex8()}function mU(){return WT(this).formatHsl()}function nN(){return this.rgb().formatRgb()}function Jc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=lU.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?aN(t):r===3?new Xr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ef(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ef(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=cU.exec(e))?new Xr(t[1],t[2],t[3],1):(t=uU.exec(e))?new Xr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=dU.exec(e))?ef(t[1],t[2],t[3],t[4]):(t=fU.exec(e))?ef(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=pU.exec(e))?sN(t[1],t[2]/100,t[3]/100,1):(t=hU.exec(e))?sN(t[1],t[2]/100,t[3]/100,t[4]):tN.hasOwnProperty(e)?aN(tN[e]):e==="transparent"?new Xr(NaN,NaN,NaN,0):null}function aN(e){return new Xr(e>>16&255,e>>8&255,e&255,1)}function ef(e,t,r,n){return n<=0&&(e=t=r=NaN),new Xr(e,t,r,n)}function gU(e){return e instanceof Pu||(e=Jc(e)),e?(e=e.rgb(),new Xr(e.r,e.g,e.b,e.opacity)):new Xr}function N0(e,t,r,n){return arguments.length===1?gU(e):new Xr(e,t,r,n??1)}function Xr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}x1(Xr,N0,FT(Pu,{brighter(e){return e=e==null?Uf:Math.pow(Uf,e),new Xr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yc:Math.pow(Yc,e),new Xr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xr(wo(this.r),wo(this.g),wo(this.b),Hf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iN,formatHex:iN,formatHex8:yU,formatRgb:oN,toString:oN}));function iN(){return`#${go(this.r)}${go(this.g)}${go(this.b)}`}function yU(){return`#${go(this.r)}${go(this.g)}${go(this.b)}${go((isNaN(this.opacity)?1:this.opacity)*255)}`}function oN(){const e=Hf(this.opacity);return`${e===1?"rgb(":"rgba("}${wo(this.r)}, ${wo(this.g)}, ${wo(this.b)}${e===1?")":`, ${e})`}`}function Hf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function go(e){return e=wo(e),(e<16?"0":"")+e.toString(16)}function sN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Hn(e,t,r,n)}function WT(e){if(e instanceof Hn)return new Hn(e.h,e.s,e.l,e.opacity);if(e instanceof Pu||(e=Jc(e)),!e)return new Hn;if(e instanceof Hn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),l=NaN,u=o-i,d=(o+i)/2;return u?(t===o?l=(r-n)/u+(r<n)*6:r===o?l=(n-t)/u+2:l=(t-r)/u+4,u/=d<.5?o+i:2-o-i,l*=60):u=d>0&&d<1?0:l,new Hn(l,u,d,e.opacity)}function xU(e,t,r,n){return arguments.length===1?WT(e):new Hn(e,t,r,n??1)}function Hn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}x1(Hn,xU,FT(Pu,{brighter(e){return e=e==null?Uf:Math.pow(Uf,e),new Hn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yc:Math.pow(Yc,e),new Hn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Xr(Bx(e>=240?e-240:e+120,i,n),Bx(e,i,n),Bx(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Hn(lN(this.h),tf(this.s),tf(this.l),Hf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Hf(this.opacity);return`${e===1?"hsl(":"hsla("}${lN(this.h)}, ${tf(this.s)*100}%, ${tf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function lN(e){return e=(e||0)%360,e<0?e+360:e}function tf(e){return Math.max(0,Math.min(1,e||0))}function Bx(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const b1=e=>()=>e;function bU(e,t){return function(r){return e+r*t}}function SU(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function wU(e){return(e=+e)==1?$T:function(t,r){return r-t?SU(t,r,e):b1(isNaN(t)?r:t)}}function $T(e,t){var r=t-e;return r?bU(e,r):b1(isNaN(e)?t:e)}const cN=(function e(t){var r=wU(t);function n(i,o){var l=r((i=N0(i)).r,(o=N0(o)).r),u=r(i.g,o.g),d=r(i.b,o.b),f=$T(i.opacity,o.opacity);return function(v){return i.r=l(v),i.g=u(v),i.b=d(v),i.opacity=f(v),i+""}}return n.gamma=e,n})(1);function jU(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=e[i]*(1-o)+t[i]*o;return n}}function kU(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function CU(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),o=new Array(r),l;for(l=0;l<n;++l)i[l]=yl(e[l],t[l]);for(;l<r;++l)o[l]=t[l];return function(u){for(l=0;l<n;++l)o[l]=i[l](u);return o}}function zU(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Kf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function AU(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=yl(e[i],t[i]):n[i]=t[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var P0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fx=new RegExp(P0.source,"g");function NU(e){return function(){return e}}function PU(e){return function(t){return e(t)+""}}function _U(e,t){var r=P0.lastIndex=Fx.lastIndex=0,n,i,o,l=-1,u=[],d=[];for(e=e+"",t=t+"";(n=P0.exec(e))&&(i=Fx.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),u[l]?u[l]+=o:u[++l]=o),(n=n[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:Kf(n,i)})),r=Fx.lastIndex;return r<t.length&&(o=t.slice(r),u[l]?u[l]+=o:u[++l]=o),u.length<2?d[0]?PU(d[0].x):NU(t):(t=d.length,function(f){for(var v=0,h;v<t;++v)u[(h=d[v]).i]=h.x(f);return u.join("")})}function yl(e,t){var r=typeof t,n;return t==null||r==="boolean"?b1(t):(r==="number"?Kf:r==="string"?(n=Jc(t))?(t=n,cN):_U:t instanceof Jc?cN:t instanceof Date?zU:kU(t)?jU:Array.isArray(t)?CU:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?AU:Kf)(e,t)}function S1(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function OU(e,t){t===void 0&&(t=e,e=yl);for(var r=0,n=t.length-1,i=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(i,i=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return o[u](l-u)}}function EU(e){return function(){return e}}function Gf(e){return+e}var uN=[0,1];function Br(e){return e}function _0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:EU(isNaN(t)?NaN:.5)}function TU(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function DU(e,t,r){var n=e[0],i=e[1],o=t[0],l=t[1];return i<n?(n=_0(i,n),o=r(l,o)):(n=_0(n,i),o=r(o,l)),function(u){return o(n(u))}}function RU(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),o=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)i[l]=_0(e[l],e[l+1]),o[l]=r(t[l],t[l+1]);return function(u){var d=Nu(e,u,1,n)-1;return o[d](i[d](u))}}function _u(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function nh(){var e=uN,t=uN,r=yl,n,i,o,l=Br,u,d,f;function v(){var m=Math.min(e.length,t.length);return l!==Br&&(l=TU(e[0],e[m-1])),u=m>2?RU:DU,d=f=null,h}function h(m){return m==null||isNaN(m=+m)?o:(d||(d=u(e.map(n),t,r)))(n(l(m)))}return h.invert=function(m){return l(i((f||(f=u(t,e.map(n),Kf)))(m)))},h.domain=function(m){return arguments.length?(e=Array.from(m,Gf),v()):e.slice()},h.range=function(m){return arguments.length?(t=Array.from(m),v()):t.slice()},h.rangeRound=function(m){return t=Array.from(m),r=S1,v()},h.clamp=function(m){return arguments.length?(l=m?!0:Br,v()):l!==Br},h.interpolate=function(m){return arguments.length?(r=m,v()):r},h.unknown=function(m){return arguments.length?(o=m,h):o},function(m,b){return n=m,i=b,v()}}function w1(){return nh()(Br,Br)}function IU(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Vf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Fs(e){return e=Vf(Math.abs(e)),e?e[1]:NaN}function MU(e,t){return function(r,n){for(var i=r.length,o=[],l=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),o.push(r.substring(i-=u,i+u)),!((d+=u+1)>n));)u=e[l=(l+1)%e.length];return o.reverse().join(t)}}function LU(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var BU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function eu(e){if(!(t=BU.exec(e)))throw new Error("invalid format: "+e);var t;return new j1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}eu.prototype=j1.prototype;function j1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}j1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function FU(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var UT;function WU(e,t){var r=Vf(e,t);if(!r)return e+"";var n=r[0],i=r[1],o=i-(UT=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=n.length;return o===l?n:o>l?n+new Array(o-l+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Vf(e,Math.max(0,t+o-1))[0]}function dN(e,t){var r=Vf(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const fN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:IU,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>dN(e*100,t),r:dN,s:WU,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function pN(e){return e}var hN=Array.prototype.map,vN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $U(e){var t=e.grouping===void 0||e.thousands===void 0?pN:MU(hN.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?pN:LU(hN.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(h){h=eu(h);var m=h.fill,b=h.align,w=h.sign,x=h.symbol,y=h.zero,j=h.width,k=h.comma,S=h.precision,N=h.trim,A=h.type;A==="n"?(k=!0,A="g"):fN[A]||(S===void 0&&(S=12),N=!0,A="g"),(y||m==="0"&&b==="=")&&(y=!0,m="0",b="=");var O=x==="$"?r:x==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",_=x==="$"?n:/[%p]/.test(A)?l:"",E=fN[A],T=/[defgprs%]/.test(A);S=S===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(R){var L=O,M=_,q,H,Z;if(A==="c")M=E(R)+M,R="";else{R=+R;var Y=R<0||1/R<0;if(R=isNaN(R)?d:E(Math.abs(R),S),N&&(R=FU(R)),Y&&+R==0&&w!=="+"&&(Y=!1),L=(Y?w==="("?w:u:w==="-"||w==="("?"":w)+L,M=(A==="s"?vN[8+UT/3]:"")+M+(Y&&w==="("?")":""),T){for(q=-1,H=R.length;++q<H;)if(Z=R.charCodeAt(q),48>Z||Z>57){M=(Z===46?i+R.slice(q+1):R.slice(q))+M,R=R.slice(0,q);break}}}k&&!y&&(R=t(R,1/0));var $=L.length+R.length+M.length,F=$<j?new Array(j-$+1).join(m):"";switch(k&&y&&(R=t(F+R,F.length?j-M.length:1/0),F=""),b){case"<":R=L+R+M+F;break;case"=":R=L+F+R+M;break;case"^":R=F.slice(0,$=F.length>>1)+L+R+M+F.slice($);break;default:R=F+L+R+M;break}return o(R)}return I.toString=function(){return h+""},I}function v(h,m){var b=f((h=eu(h),h.type="f",h)),w=Math.max(-8,Math.min(8,Math.floor(Fs(m)/3)))*3,x=Math.pow(10,-w),y=vN[8+w/3];return function(j){return b(x*j)+y}}return{format:f,formatPrefix:v}}var rf,k1,HT;UU({thousands:",",grouping:[3],currency:["$",""]});function UU(e){return rf=$U(e),k1=rf.format,HT=rf.formatPrefix,rf}function HU(e){return Math.max(0,-Fs(Math.abs(e)))}function KU(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fs(t)/3)))*3-Fs(Math.abs(e)))}function GU(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Fs(t)-Fs(e))+1}function KT(e,t,r,n){var i=z0(e,t,r),o;switch(n=eu(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=KU(i,l))&&(n.precision=o),HT(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=GU(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=HU(i))&&(n.precision=o-(n.type==="%")*2);break}}return k1(n)}function Fi(e){var t=e.domain;return e.ticks=function(r){var n=t();return k0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return KT(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,o=n.length-1,l=n[i],u=n[o],d,f,v=10;for(u<l&&(f=l,l=u,u=f,f=i,i=o,o=f);v-- >0;){if(f=C0(l,u,r),f===d)return n[i]=l,n[o]=u,t(n);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function qf(){var e=w1();return e.copy=function(){return _u(e,qf())},On.apply(e,arguments),Fi(e)}function GT(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Gf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return GT(e).unknown(t)},e=arguments.length?Array.from(e,Gf):[0,1],Fi(r)}function VT(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],o=e[n],l;return o<i&&(l=r,r=n,n=l,l=i,i=o,o=l),e[r]=t.floor(i),e[n]=t.ceil(o),e}function mN(e){return Math.log(e)}function gN(e){return Math.exp(e)}function VU(e){return-Math.log(-e)}function qU(e){return-Math.exp(-e)}function ZU(e){return isFinite(e)?+("1e"+e):e<0?0:e}function XU(e){return e===10?ZU:e===Math.E?Math.exp:t=>Math.pow(e,t)}function YU(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function yN(e){return(t,r)=>-e(-t,r)}function C1(e){const t=e(mN,gN),r=t.domain;let n=10,i,o;function l(){return i=YU(n),o=XU(n),r()[0]<0?(i=yN(i),o=yN(o),e(VU,qU)):e(mN,gN),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let f=d[0],v=d[d.length-1];const h=v<f;h&&([f,v]=[v,f]);let m=i(f),b=i(v),w,x;const y=u==null?10:+u;let j=[];if(!(n%1)&&b-m<y){if(m=Math.floor(m),b=Math.ceil(b),f>0){for(;m<=b;++m)for(w=1;w<n;++w)if(x=m<0?w/o(-m):w*o(m),!(x<f)){if(x>v)break;j.push(x)}}else for(;m<=b;++m)for(w=n-1;w>=1;--w)if(x=m>0?w/o(-m):w*o(m),!(x<f)){if(x>v)break;j.push(x)}j.length*2<y&&(j=k0(f,v,y))}else j=k0(m,b,Math.min(b-m,y)).map(o);return h?j.reverse():j},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=eu(d)).precision==null&&(d.trim=!0),d=k1(d)),u===1/0)return d;const f=Math.max(1,n*u/t.ticks().length);return v=>{let h=v/o(Math.round(i(v)));return h*n<n-.5&&(h*=n),h<=f?d(v):""}},t.nice=()=>r(VT(r(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),t}function qT(){const e=C1(nh()).domain([1,10]);return e.copy=()=>_u(e,qT()).base(e.base()),On.apply(e,arguments),e}function xN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function bN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function z1(e){var t=1,r=e(xN(t),bN(t));return r.constant=function(n){return arguments.length?e(xN(t=+n),bN(t)):t},Fi(r)}function ZT(){var e=z1(nh());return e.copy=function(){return _u(e,ZT()).constant(e.constant())},On.apply(e,arguments)}function SN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function QU(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function JU(e){return e<0?-e*e:e*e}function A1(e){var t=e(Br,Br),r=1;function n(){return r===1?e(Br,Br):r===.5?e(QU,JU):e(SN(r),SN(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Fi(t)}function N1(){var e=A1(nh());return e.copy=function(){return _u(e,N1()).exponent(e.exponent())},On.apply(e,arguments),e}function eH(){return N1.apply(null,arguments).exponent(.5)}function wN(e){return Math.sign(e)*e*e}function tH(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function XT(){var e=w1(),t=[0,1],r=!1,n;function i(o){var l=tH(e(o));return isNaN(l)?n:r?Math.round(l):l}return i.invert=function(o){return e.invert(wN(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Gf)).map(wN)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return XT(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},On.apply(i,arguments),Fi(i)}function YT(){var e=[],t=[],r=[],n;function i(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=oU(e,l/u);return o}function o(l){return l==null||isNaN(l=+l)?n:t[Nu(r,l)]}return o.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ni),i()},o.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},o.unknown=function(l){return arguments.length?(n=l,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return YT().domain(e).range(t).unknown(n)},On.apply(o,arguments)}function QT(){var e=0,t=1,r=1,n=[.5],i=[0,1],o;function l(d){return d!=null&&d<=d?i[Nu(n,d,0,r)]:o}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},l.unknown=function(d){return arguments.length&&(o=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return QT().domain([e,t]).range(i).unknown(o)},On.apply(Fi(l),arguments)}function JT(){var e=[.5],t=[0,1],r,n=1;function i(o){return o!=null&&o<=o?t[Nu(e,o,0,n)]:r}return i.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return JT().domain(e).range(t).unknown(r)},On.apply(i,arguments)}const Wx=new Date,$x=new Date;function ur(e,t,r,n){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const d=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return d;let f;do d.push(f=new Date(+o)),t(o,u),e(o);while(f<o&&o<l);return d},i.filter=o=>ur(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!o(l););else for(;--u>=0;)for(;t(l,1),!o(l););}),r&&(i.count=(o,l)=>(Wx.setTime(+o),$x.setTime(+l),e(Wx),e($x),Math.floor(r(Wx,$x))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?l=>n(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const Zf=ur(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Zf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ur(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Zf);Zf.range;const Ma=1e3,Nn=Ma*60,La=Nn*60,Ua=La*24,P1=Ua*7,jN=Ua*30,Ux=Ua*365,yo=ur(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ma)},(e,t)=>(t-e)/Ma,e=>e.getUTCSeconds());yo.range;const _1=ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ma)},(e,t)=>{e.setTime(+e+t*Nn)},(e,t)=>(t-e)/Nn,e=>e.getMinutes());_1.range;const O1=ur(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Nn)},(e,t)=>(t-e)/Nn,e=>e.getUTCMinutes());O1.range;const E1=ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ma-e.getMinutes()*Nn)},(e,t)=>{e.setTime(+e+t*La)},(e,t)=>(t-e)/La,e=>e.getHours());E1.range;const T1=ur(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*La)},(e,t)=>(t-e)/La,e=>e.getUTCHours());T1.range;const Ou=ur(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Nn)/Ua,e=>e.getDate()-1);Ou.range;const ah=ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ua,e=>e.getUTCDate()-1);ah.range;const eD=ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ua,e=>Math.floor(e/Ua));eD.range;function Ro(e){return ur(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Nn)/P1)}const ih=Ro(0),Xf=Ro(1),rH=Ro(2),nH=Ro(3),Ws=Ro(4),aH=Ro(5),iH=Ro(6);ih.range;Xf.range;rH.range;nH.range;Ws.range;aH.range;iH.range;function Io(e){return ur(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/P1)}const oh=Io(0),Yf=Io(1),oH=Io(2),sH=Io(3),$s=Io(4),lH=Io(5),cH=Io(6);oh.range;Yf.range;oH.range;sH.range;$s.range;lH.range;cH.range;const D1=ur(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());D1.range;const R1=ur(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());R1.range;const Ha=ur(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ha.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ur(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ha.range;const Ka=ur(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ka.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ur(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ka.range;function tD(e,t,r,n,i,o){const l=[[yo,1,Ma],[yo,5,5*Ma],[yo,15,15*Ma],[yo,30,30*Ma],[o,1,Nn],[o,5,5*Nn],[o,15,15*Nn],[o,30,30*Nn],[i,1,La],[i,3,3*La],[i,6,6*La],[i,12,12*La],[n,1,Ua],[n,2,2*Ua],[r,1,P1],[t,1,jN],[t,3,3*jN],[e,1,Ux]];function u(f,v,h){const m=v<f;m&&([f,v]=[v,f]);const b=h&&typeof h.range=="function"?h:d(f,v,h),w=b?b.range(f,+v+1):[];return m?w.reverse():w}function d(f,v,h){const m=Math.abs(v-f)/h,b=g1(([,,y])=>y).right(l,m);if(b===l.length)return e.every(z0(f/Ux,v/Ux,h));if(b===0)return Zf.every(Math.max(z0(f,v,h),1));const[w,x]=l[m/l[b-1][2]<l[b][2]/m?b-1:b];return w.every(x)}return[u,d]}const[uH,dH]=tD(Ka,R1,oh,eD,T1,O1),[fH,pH]=tD(Ha,D1,ih,Ou,E1,_1);function Hx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Kx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function hc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function hH(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,o=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=vc(i),v=mc(i),h=vc(o),m=mc(o),b=vc(l),w=mc(l),x=vc(u),y=mc(u),j=vc(d),k=mc(d),S={a:Y,A:$,b:F,B:Q,c:null,d:PN,e:PN,f:MH,g:VH,G:ZH,H:DH,I:RH,j:IH,L:rD,m:LH,M:BH,p:U,q:B,Q:EN,s:TN,S:FH,u:WH,U:$H,V:UH,w:HH,W:KH,x:null,X:null,y:GH,Y:qH,Z:XH,"%":ON},N={a:te,A:ce,b:he,B:ue,c:null,d:_N,e:_N,f:eK,g:uK,G:fK,H:YH,I:QH,j:JH,L:aD,m:tK,M:rK,p:ae,q:ge,Q:EN,s:TN,S:nK,u:aK,U:iK,V:oK,w:sK,W:lK,x:null,X:null,y:cK,Y:dK,Z:pK,"%":ON},A={a:I,A:R,b:L,B:M,c:q,d:AN,e:AN,f:_H,g:zN,G:CN,H:NN,I:NN,j:zH,L:PH,m:CH,M:AH,p:T,q:kH,Q:EH,s:TH,S:NH,u:xH,U:bH,V:SH,w:yH,W:wH,x:H,X:Z,y:zN,Y:CN,Z:jH,"%":OH};S.x=O(r,S),S.X=O(n,S),S.c=O(t,S),N.x=O(r,N),N.X=O(n,N),N.c=O(t,N);function O(W,oe){return function(ve){var se=[],De=-1,Me=0,tt=W.length,rt,Ye,Ut;for(ve instanceof Date||(ve=new Date(+ve));++De<tt;)W.charCodeAt(De)===37&&(se.push(W.slice(Me,De)),(Ye=kN[rt=W.charAt(++De)])!=null?rt=W.charAt(++De):Ye=rt==="e"?" ":"0",(Ut=oe[rt])&&(rt=Ut(ve,Ye)),se.push(rt),Me=De+1);return se.push(W.slice(Me,De)),se.join("")}}function _(W,oe){return function(ve){var se=hc(1900,void 0,1),De=E(se,W,ve+="",0),Me,tt;if(De!=ve.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(oe&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(Me=Kx(hc(se.y,0,1)),tt=Me.getUTCDay(),Me=tt>4||tt===0?Yf.ceil(Me):Yf(Me),Me=ah.offset(Me,(se.V-1)*7),se.y=Me.getUTCFullYear(),se.m=Me.getUTCMonth(),se.d=Me.getUTCDate()+(se.w+6)%7):(Me=Hx(hc(se.y,0,1)),tt=Me.getDay(),Me=tt>4||tt===0?Xf.ceil(Me):Xf(Me),Me=Ou.offset(Me,(se.V-1)*7),se.y=Me.getFullYear(),se.m=Me.getMonth(),se.d=Me.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),tt="Z"in se?Kx(hc(se.y,0,1)).getUTCDay():Hx(hc(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(tt+5)%7:se.w+se.U*7-(tt+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,Kx(se)):Hx(se)}}function E(W,oe,ve,se){for(var De=0,Me=oe.length,tt=ve.length,rt,Ye;De<Me;){if(se>=tt)return-1;if(rt=oe.charCodeAt(De++),rt===37){if(rt=oe.charAt(De++),Ye=A[rt in kN?oe.charAt(De++):rt],!Ye||(se=Ye(W,ve,se))<0)return-1}else if(rt!=ve.charCodeAt(se++))return-1}return se}function T(W,oe,ve){var se=f.exec(oe.slice(ve));return se?(W.p=v.get(se[0].toLowerCase()),ve+se[0].length):-1}function I(W,oe,ve){var se=b.exec(oe.slice(ve));return se?(W.w=w.get(se[0].toLowerCase()),ve+se[0].length):-1}function R(W,oe,ve){var se=h.exec(oe.slice(ve));return se?(W.w=m.get(se[0].toLowerCase()),ve+se[0].length):-1}function L(W,oe,ve){var se=j.exec(oe.slice(ve));return se?(W.m=k.get(se[0].toLowerCase()),ve+se[0].length):-1}function M(W,oe,ve){var se=x.exec(oe.slice(ve));return se?(W.m=y.get(se[0].toLowerCase()),ve+se[0].length):-1}function q(W,oe,ve){return E(W,t,oe,ve)}function H(W,oe,ve){return E(W,r,oe,ve)}function Z(W,oe,ve){return E(W,n,oe,ve)}function Y(W){return l[W.getDay()]}function $(W){return o[W.getDay()]}function F(W){return d[W.getMonth()]}function Q(W){return u[W.getMonth()]}function U(W){return i[+(W.getHours()>=12)]}function B(W){return 1+~~(W.getMonth()/3)}function te(W){return l[W.getUTCDay()]}function ce(W){return o[W.getUTCDay()]}function he(W){return d[W.getUTCMonth()]}function ue(W){return u[W.getUTCMonth()]}function ae(W){return i[+(W.getUTCHours()>=12)]}function ge(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var oe=O(W+="",S);return oe.toString=function(){return W},oe},parse:function(W){var oe=_(W+="",!1);return oe.toString=function(){return W},oe},utcFormat:function(W){var oe=O(W+="",N);return oe.toString=function(){return W},oe},utcParse:function(W){var oe=_(W+="",!0);return oe.toString=function(){return W},oe}}}var kN={"-":"",_:" ",0:"0"},mr=/^\s*\d+/,vH=/^%/,mH=/[\\^$*+?|[\]().{}]/g;function lt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(t)+i:i)}function gH(e){return e.replace(mH,"\\$&")}function vc(e){return new RegExp("^(?:"+e.map(gH).join("|")+")","i")}function mc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function yH(e,t,r){var n=mr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function xH(e,t,r){var n=mr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function bH(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function SH(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function wH(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function CN(e,t,r){var n=mr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function zN(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function jH(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function kH(e,t,r){var n=mr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function CH(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function AN(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function zH(e,t,r){var n=mr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function NN(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function AH(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function NH(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function PH(e,t,r){var n=mr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function _H(e,t,r){var n=mr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function OH(e,t,r){var n=vH.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function EH(e,t,r){var n=mr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function TH(e,t,r){var n=mr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function PN(e,t){return lt(e.getDate(),t,2)}function DH(e,t){return lt(e.getHours(),t,2)}function RH(e,t){return lt(e.getHours()%12||12,t,2)}function IH(e,t){return lt(1+Ou.count(Ha(e),e),t,3)}function rD(e,t){return lt(e.getMilliseconds(),t,3)}function MH(e,t){return rD(e,t)+"000"}function LH(e,t){return lt(e.getMonth()+1,t,2)}function BH(e,t){return lt(e.getMinutes(),t,2)}function FH(e,t){return lt(e.getSeconds(),t,2)}function WH(e){var t=e.getDay();return t===0?7:t}function $H(e,t){return lt(ih.count(Ha(e)-1,e),t,2)}function nD(e){var t=e.getDay();return t>=4||t===0?Ws(e):Ws.ceil(e)}function UH(e,t){return e=nD(e),lt(Ws.count(Ha(e),e)+(Ha(e).getDay()===4),t,2)}function HH(e){return e.getDay()}function KH(e,t){return lt(Xf.count(Ha(e)-1,e),t,2)}function GH(e,t){return lt(e.getFullYear()%100,t,2)}function VH(e,t){return e=nD(e),lt(e.getFullYear()%100,t,2)}function qH(e,t){return lt(e.getFullYear()%1e4,t,4)}function ZH(e,t){var r=e.getDay();return e=r>=4||r===0?Ws(e):Ws.ceil(e),lt(e.getFullYear()%1e4,t,4)}function XH(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+lt(t/60|0,"0",2)+lt(t%60,"0",2)}function _N(e,t){return lt(e.getUTCDate(),t,2)}function YH(e,t){return lt(e.getUTCHours(),t,2)}function QH(e,t){return lt(e.getUTCHours()%12||12,t,2)}function JH(e,t){return lt(1+ah.count(Ka(e),e),t,3)}function aD(e,t){return lt(e.getUTCMilliseconds(),t,3)}function eK(e,t){return aD(e,t)+"000"}function tK(e,t){return lt(e.getUTCMonth()+1,t,2)}function rK(e,t){return lt(e.getUTCMinutes(),t,2)}function nK(e,t){return lt(e.getUTCSeconds(),t,2)}function aK(e){var t=e.getUTCDay();return t===0?7:t}function iK(e,t){return lt(oh.count(Ka(e)-1,e),t,2)}function iD(e){var t=e.getUTCDay();return t>=4||t===0?$s(e):$s.ceil(e)}function oK(e,t){return e=iD(e),lt($s.count(Ka(e),e)+(Ka(e).getUTCDay()===4),t,2)}function sK(e){return e.getUTCDay()}function lK(e,t){return lt(Yf.count(Ka(e)-1,e),t,2)}function cK(e,t){return lt(e.getUTCFullYear()%100,t,2)}function uK(e,t){return e=iD(e),lt(e.getUTCFullYear()%100,t,2)}function dK(e,t){return lt(e.getUTCFullYear()%1e4,t,4)}function fK(e,t){var r=e.getUTCDay();return e=r>=4||r===0?$s(e):$s.ceil(e),lt(e.getUTCFullYear()%1e4,t,4)}function pK(){return"+0000"}function ON(){return"%"}function EN(e){return+e}function TN(e){return Math.floor(+e/1e3)}var us,oD,sD;hK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hK(e){return us=hH(e),oD=us.format,us.parse,sD=us.utcFormat,us.utcParse,us}function vK(e){return new Date(e)}function mK(e){return e instanceof Date?+e:+new Date(+e)}function I1(e,t,r,n,i,o,l,u,d,f){var v=w1(),h=v.invert,m=v.domain,b=f(".%L"),w=f(":%S"),x=f("%I:%M"),y=f("%I %p"),j=f("%a %d"),k=f("%b %d"),S=f("%B"),N=f("%Y");function A(O){return(d(O)<O?b:u(O)<O?w:l(O)<O?x:o(O)<O?y:n(O)<O?i(O)<O?j:k:r(O)<O?S:N)(O)}return v.invert=function(O){return new Date(h(O))},v.domain=function(O){return arguments.length?m(Array.from(O,mK)):m().map(vK)},v.ticks=function(O){var _=m();return e(_[0],_[_.length-1],O??10)},v.tickFormat=function(O,_){return _==null?A:f(_)},v.nice=function(O){var _=m();return(!O||typeof O.range!="function")&&(O=t(_[0],_[_.length-1],O??10)),O?m(VT(_,O)):v},v.copy=function(){return _u(v,I1(e,t,r,n,i,o,l,u,d,f))},v}function gK(){return On.apply(I1(fH,pH,Ha,D1,ih,Ou,E1,_1,yo,oD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yK(){return On.apply(I1(uH,dH,Ka,R1,oh,ah,T1,O1,yo,sD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sh(){var e=0,t=1,r,n,i,o,l=Br,u=!1,d;function f(h){return h==null||isNaN(h=+h)?d:l(i===0?.5:(h=(o(h)-r)*i,u?Math.max(0,Math.min(1,h)):h))}f.domain=function(h){return arguments.length?([e,t]=h,r=o(e=+e),n=o(t=+t),i=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(h){return arguments.length?(u=!!h,f):u},f.interpolator=function(h){return arguments.length?(l=h,f):l};function v(h){return function(m){var b,w;return arguments.length?([b,w]=m,l=h(b,w),f):[l(0),l(1)]}}return f.range=v(yl),f.rangeRound=v(S1),f.unknown=function(h){return arguments.length?(d=h,f):d},function(h){return o=h,r=h(e),n=h(t),i=r===n?0:1/(n-r),f}}function Wi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function lD(){var e=Fi(sh()(Br));return e.copy=function(){return Wi(e,lD())},Ja.apply(e,arguments)}function cD(){var e=C1(sh()).domain([1,10]);return e.copy=function(){return Wi(e,cD()).base(e.base())},Ja.apply(e,arguments)}function uD(){var e=z1(sh());return e.copy=function(){return Wi(e,uD()).constant(e.constant())},Ja.apply(e,arguments)}function M1(){var e=A1(sh());return e.copy=function(){return Wi(e,M1()).exponent(e.exponent())},Ja.apply(e,arguments)}function xK(){return M1.apply(null,arguments).exponent(.5)}function dD(){var e=[],t=Br;function r(n){if(n!=null&&!isNaN(n=+n))return t((Nu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ni),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>iU(e,o/n))},r.copy=function(){return dD(t).domain(e)},Ja.apply(r,arguments)}function lh(){var e=0,t=.5,r=1,n=1,i,o,l,u,d,f=Br,v,h=!1,m;function b(x){return isNaN(x=+x)?m:(x=.5+((x=+v(x))-o)*(n*x<n*o?u:d),f(h?Math.max(0,Math.min(1,x)):x))}b.domain=function(x){return arguments.length?([e,t,r]=x,i=v(e=+e),o=v(t=+t),l=v(r=+r),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),n=o<i?-1:1,b):[e,t,r]},b.clamp=function(x){return arguments.length?(h=!!x,b):h},b.interpolator=function(x){return arguments.length?(f=x,b):f};function w(x){return function(y){var j,k,S;return arguments.length?([j,k,S]=y,f=OU(x,[j,k,S]),b):[f(0),f(.5),f(1)]}}return b.range=w(yl),b.rangeRound=w(S1),b.unknown=function(x){return arguments.length?(m=x,b):m},function(x){return v=x,i=x(e),o=x(t),l=x(r),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),n=o<i?-1:1,b}}function fD(){var e=Fi(lh()(Br));return e.copy=function(){return Wi(e,fD())},Ja.apply(e,arguments)}function pD(){var e=C1(lh()).domain([.1,1,10]);return e.copy=function(){return Wi(e,pD()).base(e.base())},Ja.apply(e,arguments)}function hD(){var e=z1(lh());return e.copy=function(){return Wi(e,hD()).constant(e.constant())},Ja.apply(e,arguments)}function L1(){var e=A1(lh());return e.copy=function(){return Wi(e,L1()).exponent(e.exponent())},Ja.apply(e,arguments)}function bK(){return L1.apply(null,arguments).exponent(.5)}const DN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Xc,scaleDiverging:fD,scaleDivergingLog:pD,scaleDivergingPow:L1,scaleDivergingSqrt:bK,scaleDivergingSymlog:hD,scaleIdentity:GT,scaleImplicit:A0,scaleLinear:qf,scaleLog:qT,scaleOrdinal:y1,scalePoint:Dc,scalePow:N1,scaleQuantile:YT,scaleQuantize:QT,scaleRadial:XT,scaleSequential:lD,scaleSequentialLog:cD,scaleSequentialPow:M1,scaleSequentialQuantile:dD,scaleSequentialSqrt:xK,scaleSequentialSymlog:uD,scaleSqrt:eH,scaleSymlog:ZT,scaleThreshold:JT,scaleTime:gK,scaleUtc:yK,tickFormat:KT},Symbol.toStringTag,{value:"Module"}));var Gx,RN;function ch(){if(RN)return Gx;RN=1;var e=pl();function t(r,n,i){for(var o=-1,l=r.length;++o<l;){var u=r[o],d=n(u);if(d!=null&&(f===void 0?d===d&&!e(d):i(d,f)))var f=d,v=u}return v}return Gx=t,Gx}var Vx,IN;function vD(){if(IN)return Vx;IN=1;function e(t,r){return t>r}return Vx=e,Vx}var qx,MN;function SK(){if(MN)return qx;MN=1;var e=ch(),t=vD(),r=ml();function n(i){return i&&i.length?e(i,r,t):void 0}return qx=n,qx}var wK=SK();const ki=pt(wK);var Zx,LN;function mD(){if(LN)return Zx;LN=1;function e(t,r){return t<r}return Zx=e,Zx}var Xx,BN;function jK(){if(BN)return Xx;BN=1;var e=ch(),t=mD(),r=ml();function n(i){return i&&i.length?e(i,r,t):void 0}return Xx=n,Xx}var kK=jK();const uh=pt(kK);var Yx,FN;function CK(){if(FN)return Yx;FN=1;var e=t1(),t=va(),r=kT(),n=Yr();function i(o,l){var u=n(o)?e:r;return u(o,t(l,3))}return Yx=i,Yx}var Qx,WN;function zK(){if(WN)return Qx;WN=1;var e=wT(),t=CK();function r(n,i){return e(t(n,i),1)}return Qx=r,Qx}var AK=zK();const NK=pt(AK);var Jx,$N;function PK(){if($N)return Jx;$N=1;var e=p1();function t(r,n){return e(r,n)}return Jx=t,Jx}var _K=PK();const Ti=pt(_K);var xl=1e9,OK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},F1,It=!0,Pn="[DecimalError] ",jo=Pn+"Invalid argument: ",B1=Pn+"Exponent out of range: ",bl=Math.floor,ho=Math.pow,EK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,un,hr=1e7,_t=7,gD=9007199254740991,Qf=bl(gD/_t),Ne={};Ne.absoluteValue=Ne.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ne.comparedTo=Ne.cmp=function(e){var t,r,n,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};Ne.decimalPlaces=Ne.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*_t;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ne.dividedBy=Ne.div=function(e){return $a(this,new this.constructor(e))};Ne.dividedToIntegerBy=Ne.idiv=function(e){var t=this,r=t.constructor;return wt($a(t,new r(e),0,1),r.precision)};Ne.equals=Ne.eq=function(e){return!this.cmp(e)};Ne.exponent=function(){return rr(this)};Ne.greaterThan=Ne.gt=function(e){return this.cmp(e)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(e){return this.cmp(e)>=0};Ne.isInteger=Ne.isint=function(){return this.e>this.d.length-2};Ne.isNegative=Ne.isneg=function(){return this.s<0};Ne.isPositive=Ne.ispos=function(){return this.s>0};Ne.isZero=function(){return this.s===0};Ne.lessThan=Ne.lt=function(e){return this.cmp(e)<0};Ne.lessThanOrEqualTo=Ne.lte=function(e){return this.cmp(e)<1};Ne.logarithm=Ne.log=function(e){var t,r=this,n=r.constructor,i=n.precision,o=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(un))throw Error(Pn+"NaN");if(r.s<1)throw Error(Pn+(r.s?"NaN":"-Infinity"));return r.eq(un)?new n(0):(It=!1,t=$a(tu(r,o),tu(e,o),o),It=!0,wt(t,i))};Ne.minus=Ne.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bD(t,e):yD(t,(e.s=-e.s,e))};Ne.modulo=Ne.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Pn+"NaN");return r.s?(It=!1,t=$a(r,e,0,1).times(e),It=!0,r.minus(t)):wt(new n(r),i)};Ne.naturalExponential=Ne.exp=function(){return xD(this)};Ne.naturalLogarithm=Ne.ln=function(){return tu(this)};Ne.negated=Ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ne.plus=Ne.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yD(t,e):bD(t,(e.s=-e.s,e))};Ne.precision=Ne.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(jo+e);if(t=rr(i)+1,n=i.d.length-1,r=n*_t+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ne.squareRoot=Ne.sqrt=function(){var e,t,r,n,i,o,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Pn+"NaN")}for(e=rr(u),It=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=oa(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=bl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(i.toString()),r=d.precision,i=l=r+3;;)if(o=n,n=o.plus($a(u,o,l+2)).times(.5),oa(o.d).slice(0,l)===(t=oa(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(wt(o,r+1,0),o.times(o).eq(u)){n=o;break}}else if(t!="9999")break;l+=4}return It=!0,wt(n,r)};Ne.times=Ne.mul=function(e){var t,r,n,i,o,l,u,d,f,v=this,h=v.constructor,m=v.d,b=(e=new h(e)).d;if(!v.s||!e.s)return new h(0);for(e.s*=v.s,r=v.e+e.e,d=m.length,f=b.length,d<f&&(o=m,m=b,b=o,l=d,d=f,f=l),o=[],l=d+f,n=l;n--;)o.push(0);for(n=f;--n>=0;){for(t=0,i=d+n;i>n;)u=o[i]+b[n]*m[i-n-1]+t,o[i--]=u%hr|0,t=u/hr|0;o[i]=(o[i]+t)%hr|0}for(;!o[--l];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,It?wt(e,h.precision):e};Ne.toDecimalPlaces=Ne.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(fa(e,0,xl),t===void 0?t=n.rounding:fa(t,0,8),wt(r,e+rr(r)+1,t))};Ne.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=zo(n,!0):(fa(e,0,xl),t===void 0?t=i.rounding:fa(t,0,8),n=wt(new i(n),e+1,t),r=zo(n,!0,e+1)),r};Ne.toFixed=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?zo(i):(fa(e,0,xl),t===void 0?t=o.rounding:fa(t,0,8),n=wt(new o(i),e+rr(i)+1,t),r=zo(n.abs(),!1,e+rr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ne.toInteger=Ne.toint=function(){var e=this,t=e.constructor;return wt(new t(e),rr(e)+1,t.rounding)};Ne.toNumber=function(){return+this};Ne.toPower=Ne.pow=function(e){var t,r,n,i,o,l,u=this,d=u.constructor,f=12,v=+(e=new d(e));if(!e.s)return new d(un);if(u=new d(u),!u.s){if(e.s<1)throw Error(Pn+"Infinity");return u}if(u.eq(un))return u;if(n=d.precision,e.eq(un))return wt(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,o=u.s,l){if((r=v<0?-v:v)<=gD){for(i=new d(un),t=Math.ceil(n/_t+4),It=!1;r%2&&(i=i.times(u),HN(i.d,t)),r=bl(r/2),r!==0;)u=u.times(u),HN(u.d,t);return It=!0,e.s<0?new d(un).div(i):wt(i,n)}}else if(o<0)throw Error(Pn+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,It=!1,i=e.times(tu(u,n+f)),It=!0,i=xD(i),i.s=o,i};Ne.toPrecision=function(e,t){var r,n,i=this,o=i.constructor;return e===void 0?(r=rr(i),n=zo(i,r<=o.toExpNeg||r>=o.toExpPos)):(fa(e,1,xl),t===void 0?t=o.rounding:fa(t,0,8),i=wt(new o(i),e,t),r=rr(i),n=zo(i,e<=r||r<=o.toExpNeg,e)),n};Ne.toSignificantDigits=Ne.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(fa(e,1,xl),t===void 0?t=n.rounding:fa(t,0,8)),wt(new n(r),e,t)};Ne.toString=Ne.valueOf=Ne.val=Ne.toJSON=Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=rr(e),r=e.constructor;return zo(e,t<=r.toExpNeg||t>=r.toExpPos)};function yD(e,t){var r,n,i,o,l,u,d,f,v=e.constructor,h=v.precision;if(!e.s||!t.s)return t.s||(t=new v(e)),It?wt(t,h):t;if(d=e.d,f=t.d,l=e.e,i=t.e,d=d.slice(),o=l-i,o){for(o<0?(n=d,o=-o,u=f.length):(n=f,i=l,u=d.length),l=Math.ceil(h/_t),u=l>u?l+1:u+1,o>u&&(o=u,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(u=d.length,o=f.length,u-o<0&&(o=u,n=f,f=d,d=n),r=0;o;)r=(d[--o]=d[o]+f[o]+r)/hr|0,d[o]%=hr;for(r&&(d.unshift(r),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,It?wt(t,h):t}function fa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(jo+e)}function oa(e){var t,r,n,i=e.length-1,o="",l=e[0];if(i>0){for(o+=l,t=1;t<i;t++)n=e[t]+"",r=_t-n.length,r&&(o+=wi(r)),o+=n;l=e[t],n=l+"",r=_t-n.length,r&&(o+=wi(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var $a=(function(){function e(n,i){var o,l=0,u=n.length;for(n=n.slice();u--;)o=n[u]*i+l,n[u]=o%hr|0,l=o/hr|0;return l&&n.unshift(l),n}function t(n,i,o,l){var u,d;if(o!=l)d=o>l?1:-1;else for(u=d=0;u<o;u++)if(n[u]!=i[u]){d=n[u]>i[u]?1:-1;break}return d}function r(n,i,o){for(var l=0;o--;)n[o]-=l,l=n[o]<i[o]?1:0,n[o]=l*hr+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,l){var u,d,f,v,h,m,b,w,x,y,j,k,S,N,A,O,_,E,T=n.constructor,I=n.s==i.s?1:-1,R=n.d,L=i.d;if(!n.s)return new T(n);if(!i.s)throw Error(Pn+"Division by zero");for(d=n.e-i.e,_=L.length,A=R.length,b=new T(I),w=b.d=[],f=0;L[f]==(R[f]||0);)++f;if(L[f]>(R[f]||0)&&--d,o==null?k=o=T.precision:l?k=o+(rr(n)-rr(i))+1:k=o,k<0)return new T(0);if(k=k/_t+2|0,f=0,_==1)for(v=0,L=L[0],k++;(f<A||v)&&k--;f++)S=v*hr+(R[f]||0),w[f]=S/L|0,v=S%L|0;else{for(v=hr/(L[0]+1)|0,v>1&&(L=e(L,v),R=e(R,v),_=L.length,A=R.length),N=_,x=R.slice(0,_),y=x.length;y<_;)x[y++]=0;E=L.slice(),E.unshift(0),O=L[0],L[1]>=hr/2&&++O;do v=0,u=t(L,x,_,y),u<0?(j=x[0],_!=y&&(j=j*hr+(x[1]||0)),v=j/O|0,v>1?(v>=hr&&(v=hr-1),h=e(L,v),m=h.length,y=x.length,u=t(h,x,m,y),u==1&&(v--,r(h,_<m?E:L,m))):(v==0&&(u=v=1),h=L.slice()),m=h.length,m<y&&h.unshift(0),r(x,h,y),u==-1&&(y=x.length,u=t(L,x,_,y),u<1&&(v++,r(x,_<y?E:L,y))),y=x.length):u===0&&(v++,x=[0]),w[f++]=v,u&&x[0]?x[y++]=R[N]||0:(x=[R[N]],y=1);while((N++<A||x[0]!==void 0)&&k--)}return w[0]||w.shift(),b.e=d,wt(b,l?o+rr(b)+1:o)}})();function xD(e,t){var r,n,i,o,l,u,d=0,f=0,v=e.constructor,h=v.precision;if(rr(e)>16)throw Error(B1+rr(e));if(!e.s)return new v(un);for(It=!1,u=h,l=new v(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(n=Math.log(ho(2,f))/Math.LN10*2+5|0,u+=n,r=i=o=new v(un),v.precision=u;;){if(i=wt(i.times(e),u),r=r.times(++d),l=o.plus($a(i,r,u)),oa(l.d).slice(0,u)===oa(o.d).slice(0,u)){for(;f--;)o=wt(o.times(o),u);return v.precision=h,t==null?(It=!0,wt(o,h)):o}o=l}}function rr(e){for(var t=e.e*_t,r=e.d[0];r>=10;r/=10)t++;return t}function eb(e,t,r){if(t>e.LN10.sd())throw It=!0,r&&(e.precision=r),Error(Pn+"LN10 precision limit exceeded");return wt(new e(e.LN10),t)}function wi(e){for(var t="";e--;)t+="0";return t}function tu(e,t){var r,n,i,o,l,u,d,f,v,h=1,m=10,b=e,w=b.d,x=b.constructor,y=x.precision;if(b.s<1)throw Error(Pn+(b.s?"NaN":"-Infinity"));if(b.eq(un))return new x(0);if(t==null?(It=!1,f=y):f=t,b.eq(10))return t==null&&(It=!0),eb(x,f);if(f+=m,x.precision=f,r=oa(w),n=r.charAt(0),o=rr(b),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(e),r=oa(b.d),n=r.charAt(0),h++;o=rr(b),n>1?(b=new x("0."+r),o++):b=new x(n+"."+r.slice(1))}else return d=eb(x,f+2,y).times(o+""),b=tu(new x(n+"."+r.slice(1)),f-m).plus(d),x.precision=y,t==null?(It=!0,wt(b,y)):b;for(u=l=b=$a(b.minus(un),b.plus(un),f),v=wt(b.times(b),f),i=3;;){if(l=wt(l.times(v),f),d=u.plus($a(l,new x(i),f)),oa(d.d).slice(0,f)===oa(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(eb(x,f+2,y).times(o+""))),u=$a(u,new x(h),f),x.precision=y,t==null?(It=!0,wt(u,y)):u;u=d,i+=2}}function UN(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=bl(r/_t),e.d=[],n=(r+1)%_t,r<0&&(n+=_t),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=_t;n<i;)e.d.push(+t.slice(n,n+=_t));t=t.slice(n),n=_t-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),It&&(e.e>Qf||e.e<-Qf))throw Error(B1+r)}else e.s=0,e.e=0,e.d=[0];return e}function wt(e,t,r){var n,i,o,l,u,d,f,v,h=e.d;for(l=1,o=h[0];o>=10;o/=10)l++;if(n=t-l,n<0)n+=_t,i=t,f=h[v=0];else{if(v=Math.ceil((n+1)/_t),o=h.length,v>=o)return e;for(f=o=h[v],l=1;o>=10;o/=10)l++;n%=_t,i=n-_t+l}if(r!==void 0&&(o=ho(10,l-i-1),u=f/o%10|0,d=t<0||h[v+1]!==void 0||f%o,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?i>0?f/ho(10,l-i):0:h[v-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return d?(o=rr(e),h.length=1,t=t-o-1,h[0]=ho(10,(_t-t%_t)%_t),e.e=bl(-t/_t)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=v,o=1,v--):(h.length=v+1,o=ho(10,_t-n),h[v]=i>0?(f/ho(10,l-i)%ho(10,i)|0)*o:0),d)for(;;)if(v==0){(h[0]+=o)==hr&&(h[0]=1,++e.e);break}else{if(h[v]+=o,h[v]!=hr)break;h[v--]=0,o=1}for(n=h.length;h[--n]===0;)h.pop();if(It&&(e.e>Qf||e.e<-Qf))throw Error(B1+rr(e));return e}function bD(e,t){var r,n,i,o,l,u,d,f,v,h,m=e.constructor,b=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),It?wt(t,b):t;if(d=e.d,h=t.d,n=t.e,f=e.e,d=d.slice(),l=f-n,l){for(v=l<0,v?(r=d,l=-l,u=h.length):(r=h,n=f,u=d.length),i=Math.max(Math.ceil(b/_t),u)+2,l>i&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for(i=d.length,u=h.length,v=i<u,v&&(u=i),i=0;i<u;i++)if(d[i]!=h[i]){v=d[i]<h[i];break}l=0}for(v&&(r=d,d=h,h=r,t.s=-t.s),u=d.length,i=h.length-u;i>0;--i)d[u++]=0;for(i=h.length;i>l;){if(d[--i]<h[i]){for(o=i;o&&d[--o]===0;)d[o]=hr-1;--d[o],d[i]+=hr}d[i]-=h[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,It?wt(t,b):t):new m(0)}function zo(e,t,r){var n,i=rr(e),o=oa(e.d),l=o.length;return t?(r&&(n=r-l)>0?o=o.charAt(0)+"."+o.slice(1)+wi(n):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+wi(-i-1)+o,r&&(n=r-l)>0&&(o+=wi(n))):i>=l?(o+=wi(i+1-l),r&&(n=r-i-1)>0&&(o=o+"."+wi(n))):((n=i+1)<l&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-l)>0&&(i+1===l&&(o+="."),o+=wi(n))),e.s<0?"-"+o:o}function HN(e,t){if(e.length>t)return e.length=t,!0}function SD(e){var t,r,n;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(jo+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return UN(l,o.toString())}else if(typeof o!="string")throw Error(jo+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,EK.test(o))UN(l,o);else throw Error(jo+o)}if(i.prototype=Ne,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=SD,i.config=i.set=TK,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function TK(e){if(!e||typeof e!="object")throw Error(Pn+"Object expected");var t,r,n,i=["precision",1,xl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(bl(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(jo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(jo+r+": "+n);return this}var F1=SD(OK);un=new F1(1);const yt=F1;function DK(e){return LK(e)||MK(e)||IK(e)||RK()}function RK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IK(e,t){if(e){if(typeof e=="string")return O0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O0(e,t)}}function MK(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function LK(e){if(Array.isArray(e))return O0(e)}function O0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var BK=function(t){return t},wD={},jD=function(t){return t===wD},KN=function(t){return function r(){return arguments.length===0||arguments.length===1&&jD(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},FK=function e(t,r){return t===1?r:KN(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var l=i.filter(function(u){return u!==wD}).length;return l>=t?r.apply(void 0,i):e(t-l,KN(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var v=i.map(function(h){return jD(h)?d.shift():h});return r.apply(void 0,DK(v).concat(d))}))})},dh=function(t){return FK(t.length,t)},E0=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},WK=dh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),$K=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return BK;var i=r.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce(function(u,d){return d(u)},o.apply(void 0,arguments))}},T0=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},kD=function(t){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r&&o.every(function(u,d){return u===r[d]})||(r=o,n=t.apply(void 0,o)),n}};function UK(e){var t;return e===0?t=1:t=Math.floor(new yt(e).abs().log(10).toNumber())+1,t}function HK(e,t,r){for(var n=new yt(e),i=0,o=[];n.lt(t)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var KK=dh(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),GK=dh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),VK=dh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const fh={rangeStep:HK,getDigitCount:UK,interpolateNumber:KK,uninterpolateNumber:GK,uninterpolateTruncation:VK};function D0(e){return XK(e)||ZK(e)||CD(e)||qK()}function qK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZK(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function XK(e){if(Array.isArray(e))return R0(e)}function ru(e,t){return JK(e)||QK(e,t)||CD(e,t)||YK()}function YK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CD(e,t){if(e){if(typeof e=="string")return R0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R0(e,t)}}function R0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QK(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,o=void 0;try{for(var l=e[Symbol.iterator](),u;!(n=(u=l.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(d){i=!0,o=d}finally{try{!n&&l.return!=null&&l.return()}finally{if(i)throw o}}return r}}function JK(e){if(Array.isArray(e))return e}function zD(e){var t=ru(e,2),r=t[0],n=t[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function AD(e,t,r){if(e.lte(0))return new yt(0);var n=fh.getDigitCount(e.toNumber()),i=new yt(10).pow(n),o=e.div(i),l=n!==1?.05:.1,u=new yt(Math.ceil(o.div(l).toNumber())).add(r).mul(l),d=u.mul(i);return t?d:new yt(Math.ceil(d))}function eG(e,t,r){var n=1,i=new yt(e);if(!i.isint()&&r){var o=Math.abs(e);o<1?(n=new yt(10).pow(fh.getDigitCount(e)-1),i=new yt(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new yt(Math.floor(e)))}else e===0?i=new yt(Math.floor((t-1)/2)):r||(i=new yt(Math.floor(e)));var l=Math.floor((t-1)/2),u=$K(WK(function(d){return i.add(new yt(d-l).mul(n)).toNumber()}),E0);return u(0,t)}function ND(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new yt(0),tickMin:new yt(0),tickMax:new yt(0)};var o=AD(new yt(t).sub(e).div(r-1),n,i),l;e<=0&&t>=0?l=new yt(0):(l=new yt(e).add(t).div(2),l=l.sub(new yt(l).mod(o)));var u=Math.ceil(l.sub(e).div(o).toNumber()),d=Math.ceil(new yt(t).sub(l).div(o).toNumber()),f=u+d+1;return f>r?ND(e,t,r,n,i+1):(f<r&&(d=t>0?d+(r-f):d,u=t>0?u:u+(r-f)),{step:o,tickMin:l.sub(new yt(u).mul(o)),tickMax:l.add(new yt(d).mul(o))})}function tG(e){var t=ru(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),u=zD([r,n]),d=ru(u,2),f=d[0],v=d[1];if(f===-1/0||v===1/0){var h=v===1/0?[f].concat(D0(E0(0,i-1).map(function(){return 1/0}))):[].concat(D0(E0(0,i-1).map(function(){return-1/0})),[v]);return r>n?T0(h):h}if(f===v)return eG(f,i,o);var m=ND(f,v,l,o),b=m.step,w=m.tickMin,x=m.tickMax,y=fh.rangeStep(w,x.add(new yt(.1).mul(b)),b);return r>n?T0(y):y}function rG(e,t){var r=ru(e,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=zD([n,i]),u=ru(l,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[n,i];if(d===f)return[d];var v=Math.max(t,2),h=AD(new yt(f).sub(d).div(v-1),o,0),m=[].concat(D0(fh.rangeStep(new yt(d),new yt(f).sub(new yt(.99).mul(h)),h)),[f]);return n>i?T0(m):m}var nG=kD(tG),aG=kD(rG),iG="Invariant failed";function Ao(e,t){throw new Error(iG)}var oG=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function Jf(){return Jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jf.apply(this,arguments)}function sG(e,t){return dG(e)||uG(e,t)||cG(e,t)||lG()}function lG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cG(e,t){if(e){if(typeof e=="string")return GN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GN(e,t)}}function GN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function dG(e){if(Array.isArray(e))return e}function fG(e,t){if(e==null)return{};var r=pG(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OD(n.key),n)}}function mG(e,t,r){return t&&vG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gG(e,t,r){return t=ep(t),yG(e,PD()?Reflect.construct(t,r||[],ep(e).constructor):t.apply(e,r))}function yG(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xG(e)}function xG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PD=function(){return!!e})()}function ep(e){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ep(e)}function bG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I0(e,t)}function I0(e,t){return I0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},I0(e,t)}function _D(e,t,r){return t=OD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OD(e){var t=SG(e,"string");return Us(t)=="symbol"?t:t+""}function SG(e,t){if(Us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Sl=(function(e){function t(){return hG(this,t),gG(this,t,arguments)}return bG(t,e),mG(t,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,l=n.width,u=n.dataKey,d=n.data,f=n.dataPointFormatter,v=n.xAxis,h=n.yAxis,m=fG(n,oG),b=Te(m,!1);this.props.direction==="x"&&v.type!=="number"&&Ao();var w=d.map(function(x){var y=f(x,u),j=y.x,k=y.y,S=y.value,N=y.errorVal;if(!N)return null;var A=[],O,_;if(Array.isArray(N)){var E=sG(N,2);O=E[0],_=E[1]}else O=_=N;if(o==="vertical"){var T=v.scale,I=k+i,R=I+l,L=I-l,M=T(S-O),q=T(S+_);A.push({x1:q,y1:R,x2:q,y2:L}),A.push({x1:M,y1:I,x2:q,y2:I}),A.push({x1:M,y1:R,x2:M,y2:L})}else if(o==="horizontal"){var H=h.scale,Z=j+i,Y=Z-l,$=Z+l,F=H(S-O),Q=H(S+_);A.push({x1:Y,y1:Q,x2:$,y2:Q}),A.push({x1:Z,y1:F,x2:Z,y2:Q}),A.push({x1:Y,y1:F,x2:$,y2:F})}return G.createElement(Ke,Jf({className:"recharts-errorBar",key:"bar-".concat(A.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},b),A.map(function(U){return G.createElement("line",Jf({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return G.createElement(Ke,{className:"recharts-errorBars"},w)}}])})(G.Component);_D(Sl,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_D(Sl,"displayName","ErrorBar");function nu(e){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function VN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(r),!0).forEach(function(n){wG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wG(e,t,r){return t=jG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jG(e){var t=kG(e,"string");return nu(t)=="symbol"?t:t+""}function kG(e,t){if(nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ED=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,l=ln(r,zt);if(!l)return null;var u=zt.defaultProps,d=u!==void 0?io(io({},u),l.props):{},f;return l.props&&l.props.payload?f=l.props&&l.props.payload:o==="children"?f=(n||[]).reduce(function(v,h){var m=h.item,b=h.props,w=b.sectors||b.data||[];return v.concat(w.map(function(x){return{type:l.props.iconType||m.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):f=(n||[]).map(function(v){var h=v.item,m=h.type.defaultProps,b=m!==void 0?io(io({},m),h.props):{},w=b.dataKey,x=b.name,y=b.legendType,j=b.hide;return{inactive:j,dataKey:w,type:d.iconType||y||"square",color:W1(h),value:x||w,payload:b}}),io(io(io({},d),zt.getWithHeight(l,i)),{},{payload:f,item:l})};function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function qN(e){return NG(e)||AG(e)||zG(e)||CG()}function CG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zG(e,t){if(e){if(typeof e=="string")return M0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M0(e,t)}}function AG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NG(e){if(Array.isArray(e))return M0(e)}function M0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(n){_s(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _s(e,t,r){return t=PG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PG(e){var t=_G(e,"string");return au(t)=="symbol"?t:t+""}function _G(e,t){if(au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ot(e,t,r){return Fe(e)||Fe(t)?r:cr(t)?pn(e,t,r):We(t)?t(e):r}function Rc(e,t,r,n){var i=NK(e,function(u){return Ot(u,t)});if(r==="number"){var o=i.filter(function(u){return Se(u)||parseFloat(u)});return o.length?[uh(o),ki(o)]:[1/0,-1/0]}var l=n?i.filter(function(u){return!Fe(u)}):i;return l.map(function(u){return cr(u)||u instanceof Date?u:""})}var OG=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,l=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var d=o.range,f=0;f<u;f++){var v=f>0?i[f-1].coordinate:i[u-1].coordinate,h=i[f].coordinate,m=f>=u-1?i[0].coordinate:i[f+1].coordinate,b=void 0;if(Mr(h-v)!==Mr(m-h)){var w=[];if(Mr(m-h)===Mr(d[1]-d[0])){b=m;var x=h+d[1]-d[0];w[0]=Math.min(x,(x+v)/2),w[1]=Math.max(x,(x+v)/2)}else{b=v;var y=m+d[1]-d[0];w[0]=Math.min(h,(y+h)/2),w[1]=Math.max(h,(y+h)/2)}var j=[Math.min(h,(b+h)/2),Math.max(h,(b+h)/2)];if(t>j[0]&&t<=j[1]||t>=w[0]&&t<=w[1]){l=i[f].index;break}}else{var k=Math.min(v,m),S=Math.max(v,m);if(t>(k+h)/2&&t<=(S+h)/2){l=i[f].index;break}}}else for(var N=0;N<u;N++)if(N===0&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<u-1&&t>(n[N].coordinate+n[N-1].coordinate)/2&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N===u-1&&t>(n[N].coordinate+n[N-1].coordinate)/2){l=n[N].index;break}return l},W1=function(t){var r,n=t,i=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Vt(Vt({},t.type.defaultProps),t.props):t.props,l=o.stroke,u=o.fill,d;switch(i){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},EG=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var l={},u=Object.keys(o),d=0,f=u.length;d<f;d++)for(var v=o[u[d]].stackGroups,h=Object.keys(v),m=0,b=h.length;m<b;m++){var w=v[h[m]],x=w.items,y=w.cateAxisId,j=x.filter(function(_){return Wa(_.type).indexOf("Bar")>=0});if(j&&j.length){var k=j[0].type.defaultProps,S=k!==void 0?Vt(Vt({},k),j[0].props):j[0].props,N=S.barSize,A=S[y];l[A]||(l[A]=[]);var O=Fe(N)?r:N;l[A].push({item:j[0],stackList:j.slice(1),barSize:Fe(O)?void 0:Lr(O,n,0)})}}return l},TG=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,o=t.sizeList,l=o===void 0?[]:o,u=t.maxBarSize,d=l.length;if(d<1)return null;var f=Lr(r,i,0,!0),v,h=[];if(l[0].barSize===+l[0].barSize){var m=!1,b=i/d,w=l.reduce(function(N,A){return N+A.barSize||0},0);w+=(d-1)*f,w>=i&&(w-=(d-1)*f,f=0),w>=i&&b>0&&(m=!0,b*=.9,w=d*b);var x=(i-w)/2>>0,y={offset:x-f,size:0};v=l.reduce(function(N,A){var O={item:A.item,position:{offset:y.offset+y.size+f,size:m?b:A.barSize}},_=[].concat(qN(N),[O]);return y=_[_.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(E){_.push({item:E,position:y})}),_},h)}else{var j=Lr(n,i,0,!0);i-2*j-(d-1)*f<=0&&(f=0);var k=(i-2*j-(d-1)*f)/d;k>1&&(k>>=0);var S=u===+u?Math.min(k,u):k;v=l.reduce(function(N,A,O){var _=[].concat(qN(N),[{item:A.item,position:{offset:j+(k+f)*O+(k-S)/2,size:S}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(E){_.push({item:E,position:_[_.length-1].position})}),_},h)}return v},DG=function(t,r,n,i){var o=n.children,l=n.width,u=n.margin,d=l-(u.left||0)-(u.right||0),f=ED({children:o,legendWidth:d});if(f){var v=i||{},h=v.width,m=v.height,b=f.align,w=f.verticalAlign,x=f.layout;if((x==="vertical"||x==="horizontal"&&w==="middle")&&b!=="center"&&Se(t[b]))return Vt(Vt({},t),{},_s({},b,t[b]+(h||0)));if((x==="horizontal"||x==="vertical"&&b==="center")&&w!=="middle"&&Se(t[w]))return Vt(Vt({},t),{},_s({},w,t[w]+(m||0)))}return t},RG=function(t,r,n){return Fe(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},TD=function(t,r,n,i,o){var l=r.props.children,u=Fr(l,Sl).filter(function(f){return RG(i,o,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return t.reduce(function(f,v){var h=Ot(v,n);if(Fe(h))return f;var m=Array.isArray(h)?[uh(h),ki(h)]:[h,h],b=d.reduce(function(w,x){var y=Ot(v,x,0),j=m[0]-Math.abs(Array.isArray(y)?y[0]:y),k=m[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(j,w[0]),Math.max(k,w[1])]},[1/0,-1/0]);return[Math.min(b[0],f[0]),Math.max(b[1],f[1])]},[1/0,-1/0])}return null},IG=function(t,r,n,i,o){var l=r.map(function(u){return TD(t,u,n,o,i)}).filter(function(u){return!Fe(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},DD=function(t,r,n,i,o){var l=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&TD(t,d,f,i)||Rc(t,f,n,o)});if(n==="number")return l.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,f){for(var v=0,h=f.length;v<h;v++)u[f[v]]||(u[f[v]]=!0,d.push(f[v]));return d},[])},RD=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},ID=function(t,r,n,i){if(i)return t.map(function(d){return d.coordinate});var o,l,u=t.map(function(d){return d.coordinate===r&&(o=!0),d.coordinate===n&&(l=!0),d.coordinate});return o||u.push(r),l||u.push(n),u},Ba=function(t,r,n){if(!t)return null;var i=t.scale,o=t.duplicateDomain,l=t.type,u=t.range,d=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&l==="category"&&i.bandwidth?i.bandwidth()/d:0;if(f=t.axisType==="angleAxis"&&u?.length>=2?Mr(u[0]-u[1])*2*f:f,r&&(t.ticks||t.niceTicks)){var v=(t.ticks||t.niceTicks).map(function(h){var m=o?o.indexOf(h):h;return{coordinate:i(m)+f,value:h,offset:f}});return v.filter(function(h){return!vl(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,m){return{coordinate:i(h)+f,value:h,index:m,offset:f}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(h){return{coordinate:i(h)+f,value:h,offset:f}}):i.domain().map(function(h,m){return{coordinate:i(h)+f,value:o?o[h]:h,index:m,offset:f}})},tb=new WeakMap,nf=function(t,r){if(typeof r!="function")return t;tb.has(t)||tb.set(t,new WeakMap);var n=tb.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},MD=function(t,r,n){var i=t.scale,o=t.type,l=t.layout,u=t.axisType;if(i==="auto")return l==="radial"&&u==="radiusAxis"?{scale:Xc(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:qf(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Dc(),realScaleType:"point"}:o==="category"?{scale:Xc(),realScaleType:"band"}:{scale:qf(),realScaleType:"linear"};if(ko(i)){var d="scale".concat(Zp(i));return{scale:(DN[d]||Dc)(),realScaleType:DN[d]?d:"point"}}return We(i)?{scale:i}:{scale:Dc(),realScaleType:"point"}},XN=1e-4,LD=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),o=Math.min(i[0],i[1])-XN,l=Math.max(i[0],i[1])+XN,u=t(r[0]),d=t(r[n-1]);(u<o||u>l||d<o||d>l)&&t.domain([r[0],r[n-1]])}},MG=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},LG=function(t,r){if(!r||r.length!==2||!Se(r[0])||!Se(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!Se(t[0])||t[0]<n)&&(o[0]=n),(!Se(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},BG=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var o=0,l=0,u=0;u<r;++u){var d=vl(t[u][n][1])?t[u][n][0]:t[u][n][1];d>=0?(t[u][n][0]=o,t[u][n][1]=o+d,o=t[u][n][1]):(t[u][n][0]=l,t[u][n][1]=l+d,l=t[u][n][1])}},FG=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var o=0,l=0;l<r;++l){var u=vl(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=o,t[l][n][1]=o+u,o=t[l][n][1]):(t[l][n][0]=0,t[l][n][1]=0)}},WG={sign:BG,expand:NW,none:Rs,silhouette:PW,wiggle:_W,positive:FG},$G=function(t,r,n){var i=r.map(function(u){return u.props.dataKey}),o=WG[n],l=AW().keys(i).value(function(u,d){return+Ot(u,d,0)}).order(p0).offset(o);return l(t)},UG=function(t,r,n,i,o,l){if(!t)return null;var u=l?r.reverse():r,d={},f=u.reduce(function(h,m){var b,w=(b=m.type)!==null&&b!==void 0&&b.defaultProps?Vt(Vt({},m.type.defaultProps),m.props):m.props,x=w.stackId,y=w.hide;if(y)return h;var j=w[n],k=h[j]||{hasStack:!1,stackGroups:{}};if(cr(x)){var S=k.stackGroups[x]||{numericAxisId:n,cateAxisId:i,items:[]};S.items.push(m),k.hasStack=!0,k.stackGroups[x]=S}else k.stackGroups[Bi("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[m]};return Vt(Vt({},h),{},_s({},j,k))},d),v={};return Object.keys(f).reduce(function(h,m){var b=f[m];if(b.hasStack){var w={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(x,y){var j=b.stackGroups[y];return Vt(Vt({},x),{},_s({},y,{numericAxisId:n,cateAxisId:i,items:j.items,stackedData:$G(t,j.items,o)}))},w)}return Vt(Vt({},h),{},_s({},m,b))},v)},BD=function(t,r){var n=r.realScaleType,i=r.type,o=r.tickCount,l=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(o&&i==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var f=t.domain();if(!f.length)return null;var v=nG(f,o,u);return t.domain([uh(v),ki(v)]),{niceTicks:v}}if(o&&i==="number"){var h=t.domain(),m=aG(h,o,u);return{niceTicks:m}}return null};function Hs(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,o=e.index,l=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Fe(i[t.dataKey])){var u=_f(r,"value",i[t.dataKey]);if(u)return u.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var d=Ot(i,Fe(l)?t.dataKey:l);return Fe(d)?null:t.scale(d)}var YN=function(t){var r=t.axis,n=t.ticks,i=t.offset,o=t.bandSize,l=t.entry,u=t.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var d=Ot(l,r.dataKey,r.domain[u]);return Fe(d)?null:r.scale(d)-o/2+i},HG=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},KG=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Vt(Vt({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(cr(o)){var l=r[o];if(l){var u=l.items.indexOf(t);return u>=0?l.stackedData[u]:null}}return null},GG=function(t){return t.reduce(function(r,n){return[uh(n.concat([r[0]]).filter(Se)),ki(n.concat([r[1]]).filter(Se))]},[1/0,-1/0])},FD=function(t,r,n){return Object.keys(t).reduce(function(i,o){var l=t[o],u=l.stackedData,d=u.reduce(function(f,v){var h=GG(v.slice(r,n+1));return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},QN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,L0=function(t,r,n){if(We(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(Se(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(QN.test(t[0])){var o=+QN.exec(t[0])[1];i[0]=r[0]-o}else We(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(Se(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(JN.test(t[1])){var l=+JN.exec(t[1])[1];i[1]=r[1]+l}else We(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},tp=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var o=v1(r,function(h){return h.coordinate}),l=1/0,u=1,d=o.length;u<d;u++){var f=o[u],v=o[u-1];l=Math.min((f.coordinate||0)-(v.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0},eP=function(t,r,n){return!t||!t.length||Ti(t,pn(n,"type.defaultProps.domain"))?r:t},WD=function(t,r){var n=t.type.defaultProps?Vt(Vt({},t.type.defaultProps),t.props):t.props,i=n.dataKey,o=n.name,l=n.unit,u=n.formatter,d=n.tooltipType,f=n.chartType,v=n.hide;return Vt(Vt({},Te(t,!1)),{},{dataKey:i,unit:l,formatter:u,name:o||i,color:W1(t),value:Ot(r,i),type:d,payload:r,chartType:f,hide:v})};function iu(e){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}function tP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tP(Object(r),!0).forEach(function(n){$D(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $D(e,t,r){return t=VG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VG(e){var t=qG(e,"string");return iu(t)=="symbol"?t:t+""}function qG(e,t){if(iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZG(e,t){return JG(e)||QG(e,t)||YG(e,t)||XG()}function XG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YG(e,t){if(e){if(typeof e=="string")return rP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rP(e,t)}}function rP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function JG(e){if(Array.isArray(e))return e}var rp=Math.PI/180,e9=function(t){return t*180/Math.PI},At=function(t,r,n,i){return{x:t+Math.cos(-rp*i)*n,y:r+Math.sin(-rp*i)*n}},UD=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},t9=function(t,r,n,i,o){var l=t.width,u=t.height,d=t.startAngle,f=t.endAngle,v=Lr(t.cx,l,l/2),h=Lr(t.cy,u,u/2),m=UD(l,u,n),b=Lr(t.innerRadius,m,0),w=Lr(t.outerRadius,m,m*.8),x=Object.keys(r);return x.reduce(function(y,j){var k=r[j],S=k.domain,N=k.reversed,A;if(Fe(k.range))i==="angleAxis"?A=[d,f]:i==="radiusAxis"&&(A=[b,w]),N&&(A=[A[1],A[0]]);else{A=k.range;var O=A,_=ZG(O,2);d=_[0],f=_[1]}var E=MD(k,o),T=E.realScaleType,I=E.scale;I.domain(S).range(A),LD(I);var R=BD(I,Da(Da({},k),{},{realScaleType:T})),L=Da(Da(Da({},k),R),{},{range:A,radius:w,realScaleType:T,scale:I,cx:v,cy:h,innerRadius:b,outerRadius:w,startAngle:d,endAngle:f});return Da(Da({},y),{},$D({},j,L))},{})},r9=function(t,r){var n=t.x,i=t.y,o=r.x,l=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-l,2))},n9=function(t,r){var n=t.x,i=t.y,o=r.cx,l=r.cy,u=r9({x:n,y:i},{x:o,y:l});if(u<=0)return{radius:u};var d=(n-o)/u,f=Math.acos(d);return i>l&&(f=2*Math.PI-f),{radius:u,angle:e9(f),angleInRadian:f}},a9=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),l=Math.min(i,o);return{startAngle:r-l*360,endAngle:n-l*360}},i9=function(t,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),l=Math.floor(i/360),u=Math.min(o,l);return t+u*360},nP=function(t,r){var n=t.x,i=t.y,o=n9({x:n,y:i},r),l=o.radius,u=o.angle,d=r.innerRadius,f=r.outerRadius;if(l<d||l>f)return!1;if(l===0)return!0;var v=a9(r),h=v.startAngle,m=v.endAngle,b=u,w;if(h<=m){for(;b>m;)b-=360;for(;b<h;)b+=360;w=b>=h&&b<=m}else{for(;b>h;)b-=360;for(;b<m;)b+=360;w=b>=m&&b<=h}return w?Da(Da({},r),{},{radius:l,angle:i9(b,r)}):null},HD=function(t){return!z.isValidElement(t)&&!We(t)&&typeof t!="boolean"?t.className:""};function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}var o9=["offset"];function s9(e){return d9(e)||u9(e)||c9(e)||l9()}function l9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c9(e,t){if(e){if(typeof e=="string")return B0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B0(e,t)}}function u9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function d9(e){if(Array.isArray(e))return B0(e)}function B0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f9(e,t){if(e==null)return{};var r=p9(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(r),!0).forEach(function(n){h9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h9(e,t,r){return t=v9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v9(e){var t=m9(e,"string");return ou(t)=="symbol"?t:t+""}function m9(e,t){if(ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},su.apply(this,arguments)}var g9=function(t){var r=t.value,n=t.formatter,i=Fe(t.children)?r:t.children;return We(n)?n(i):i},y9=function(t,r){var n=Mr(r-t),i=Math.min(Math.abs(r-t),360);return n*i},x9=function(t,r,n){var i=t.position,o=t.viewBox,l=t.offset,u=t.className,d=o,f=d.cx,v=d.cy,h=d.innerRadius,m=d.outerRadius,b=d.startAngle,w=d.endAngle,x=d.clockWise,y=(h+m)/2,j=y9(b,w),k=j>=0?1:-1,S,N;i==="insideStart"?(S=b+k*l,N=x):i==="insideEnd"?(S=w-k*l,N=!x):i==="end"&&(S=w+k*l,N=x),N=j<=0?N:!N;var A=At(f,v,y,S),O=At(f,v,y,S+(N?1:-1)*359),_="M".concat(A.x,",").concat(A.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(N?0:1,`,
    `).concat(O.x,",").concat(O.y),E=Fe(t.id)?Bi("recharts-radial-line-"):t.id;return G.createElement("text",su({},n,{dominantBaseline:"central",className:He("recharts-radial-bar-label",u)}),G.createElement("defs",null,G.createElement("path",{id:E,d:_})),G.createElement("textPath",{xlinkHref:"#".concat(E)},r))},b9=function(t){var r=t.viewBox,n=t.offset,i=t.position,o=r,l=o.cx,u=o.cy,d=o.innerRadius,f=o.outerRadius,v=o.startAngle,h=o.endAngle,m=(v+h)/2;if(i==="outside"){var b=At(l,u,f+n,m),w=b.x,x=b.y;return{x:w,y:x,textAnchor:w>=l?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var y=(d+f)/2,j=At(l,u,y,m),k=j.x,S=j.y;return{x:k,y:S,textAnchor:"middle",verticalAnchor:"middle"}},S9=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,o=t.position,l=r,u=l.x,d=l.y,f=l.width,v=l.height,h=v>=0?1:-1,m=h*i,b=h>0?"end":"start",w=h>0?"start":"end",x=f>=0?1:-1,y=x*i,j=x>0?"end":"start",k=x>0?"start":"end";if(o==="top"){var S={x:u+f/2,y:d-h*i,textAnchor:"middle",verticalAnchor:b};return lr(lr({},S),n?{height:Math.max(d-n.y,0),width:f}:{})}if(o==="bottom"){var N={x:u+f/2,y:d+v+m,textAnchor:"middle",verticalAnchor:w};return lr(lr({},N),n?{height:Math.max(n.y+n.height-(d+v),0),width:f}:{})}if(o==="left"){var A={x:u-y,y:d+v/2,textAnchor:j,verticalAnchor:"middle"};return lr(lr({},A),n?{width:Math.max(A.x-n.x,0),height:v}:{})}if(o==="right"){var O={x:u+f+y,y:d+v/2,textAnchor:k,verticalAnchor:"middle"};return lr(lr({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:v}:{})}var _=n?{width:f,height:v}:{};return o==="insideLeft"?lr({x:u+y,y:d+v/2,textAnchor:k,verticalAnchor:"middle"},_):o==="insideRight"?lr({x:u+f-y,y:d+v/2,textAnchor:j,verticalAnchor:"middle"},_):o==="insideTop"?lr({x:u+f/2,y:d+m,textAnchor:"middle",verticalAnchor:w},_):o==="insideBottom"?lr({x:u+f/2,y:d+v-m,textAnchor:"middle",verticalAnchor:b},_):o==="insideTopLeft"?lr({x:u+y,y:d+m,textAnchor:k,verticalAnchor:w},_):o==="insideTopRight"?lr({x:u+f-y,y:d+m,textAnchor:j,verticalAnchor:w},_):o==="insideBottomLeft"?lr({x:u+y,y:d+v-m,textAnchor:k,verticalAnchor:b},_):o==="insideBottomRight"?lr({x:u+f-y,y:d+v-m,textAnchor:j,verticalAnchor:b},_):hl(o)&&(Se(o.x)||mo(o.x))&&(Se(o.y)||mo(o.y))?lr({x:u+Lr(o.x,f),y:d+Lr(o.y,v),textAnchor:"end",verticalAnchor:"end"},_):lr({x:u+f/2,y:d+v/2,textAnchor:"middle",verticalAnchor:"middle"},_)},w9=function(t){return"cx"in t&&Se(t.cx)};function vr(e){var t=e.offset,r=t===void 0?5:t,n=f9(e,o9),i=lr({offset:r},n),o=i.viewBox,l=i.position,u=i.value,d=i.children,f=i.content,v=i.className,h=v===void 0?"":v,m=i.textBreakAll;if(!o||Fe(u)&&Fe(d)&&!z.isValidElement(f)&&!We(f))return null;if(z.isValidElement(f))return z.cloneElement(f,i);var b;if(We(f)){if(b=z.createElement(f,i),z.isValidElement(b))return b}else b=g9(i);var w=w9(o),x=Te(i,!0);if(w&&(l==="insideStart"||l==="insideEnd"||l==="end"))return x9(i,b,x);var y=w?b9(i):S9(i);return G.createElement(Co,su({className:He("recharts-label",h)},x,y,{breakAll:m}),b)}vr.displayName="Label";var KD=function(t){var r=t.cx,n=t.cy,i=t.angle,o=t.startAngle,l=t.endAngle,u=t.r,d=t.radius,f=t.innerRadius,v=t.outerRadius,h=t.x,m=t.y,b=t.top,w=t.left,x=t.width,y=t.height,j=t.clockWise,k=t.labelViewBox;if(k)return k;if(Se(x)&&Se(y)){if(Se(h)&&Se(m))return{x:h,y:m,width:x,height:y};if(Se(b)&&Se(w))return{x:b,y:w,width:x,height:y}}return Se(h)&&Se(m)?{x:h,y:m,width:0,height:0}:Se(r)&&Se(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:l||i||0,innerRadius:f||0,outerRadius:v||d||u||0,clockWise:j}:t.viewBox?t.viewBox:{}},j9=function(t,r){return t?t===!0?G.createElement(vr,{key:"label-implicit",viewBox:r}):cr(t)?G.createElement(vr,{key:"label-implicit",viewBox:r,value:t}):z.isValidElement(t)?t.type===vr?z.cloneElement(t,{key:"label-implicit",viewBox:r}):G.createElement(vr,{key:"label-implicit",content:t,viewBox:r}):We(t)?G.createElement(vr,{key:"label-implicit",content:t,viewBox:r}):hl(t)?G.createElement(vr,su({viewBox:r},t,{key:"label-implicit"})):null:null},k9=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,o=KD(t),l=Fr(i,vr).map(function(d,f){return z.cloneElement(d,{viewBox:r||o,key:"label-".concat(f)})});if(!n)return l;var u=j9(t.label,r||o);return[u].concat(s9(l))};vr.parseViewBox=KD;vr.renderCallByParent=k9;var rb,iP;function C9(){if(iP)return rb;iP=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return rb=e,rb}var z9=C9();const A9=pt(z9);function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}var N9=["valueAccessor"],P9=["data","dataKey","clockWise","id","textBreakAll"];function _9(e){return D9(e)||T9(e)||E9(e)||O9()}function O9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E9(e,t){if(e){if(typeof e=="string")return F0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F0(e,t)}}function T9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function D9(e){if(Array.isArray(e))return F0(e)}function F0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function np(){return np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},np.apply(this,arguments)}function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(n){R9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R9(e,t,r){return t=I9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I9(e){var t=M9(e,"string");return lu(t)=="symbol"?t:t+""}function M9(e,t){if(lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lP(e,t){if(e==null)return{};var r=L9(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function L9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var B9=function(t){return Array.isArray(t.value)?A9(t.value):t.value};function Vn(e){var t=e.valueAccessor,r=t===void 0?B9:t,n=lP(e,N9),i=n.data,o=n.dataKey,l=n.clockWise,u=n.id,d=n.textBreakAll,f=lP(n,P9);return!i||!i.length?null:G.createElement(Ke,{className:"recharts-label-list"},i.map(function(v,h){var m=Fe(o)?r(v,h):Ot(v&&v.payload,o),b=Fe(u)?{}:{id:"".concat(u,"-").concat(h)};return G.createElement(vr,np({},Te(v,!0),f,b,{parentViewBox:v.parentViewBox,value:m,textBreakAll:d,viewBox:vr.parseViewBox(Fe(l)?v:sP(sP({},v),{},{clockWise:l})),key:"label-".concat(h),index:h}))}))}Vn.displayName="LabelList";function F9(e,t){return e?e===!0?G.createElement(Vn,{key:"labelList-implicit",data:t}):G.isValidElement(e)||We(e)?G.createElement(Vn,{key:"labelList-implicit",data:t,content:e}):hl(e)?G.createElement(Vn,np({data:t},e,{key:"labelList-implicit"})):null:null}function W9(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Fr(n,Vn).map(function(l,u){return z.cloneElement(l,{data:t,key:"labelList-".concat(u)})});if(!r)return i;var o=F9(e.label,t);return[o].concat(_9(i))}Vn.renderCallByParent=W9;function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W0.apply(this,arguments)}function cP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(r),!0).forEach(function(n){$9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $9(e,t,r){return t=U9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U9(e){var t=H9(e,"string");return cu(t)=="symbol"?t:t+""}function H9(e,t){if(cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K9=function(t,r){var n=Mr(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},af=function(t){var r=t.cx,n=t.cy,i=t.radius,o=t.angle,l=t.sign,u=t.isExternal,d=t.cornerRadius,f=t.cornerIsExternal,v=d*(u?1:-1)+i,h=Math.asin(d/v)/rp,m=f?o:o+l*h,b=At(r,n,v,m),w=At(r,n,i,m),x=f?o-l*h:o,y=At(r,n,v*Math.cos(h*rp),x);return{center:b,circleTangency:w,lineTangency:y,theta:h}},GD=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,o=t.outerRadius,l=t.startAngle,u=t.endAngle,d=K9(l,u),f=l+d,v=At(r,n,o,l),h=At(r,n,o,f),m="M ".concat(v.x,",").concat(v.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var b=At(r,n,i,l),w=At(r,n,i,f);m+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},G9=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,o=t.outerRadius,l=t.cornerRadius,u=t.forceCornerRadius,d=t.cornerIsExternal,f=t.startAngle,v=t.endAngle,h=Mr(v-f),m=af({cx:r,cy:n,radius:o,angle:f,sign:h,cornerRadius:l,cornerIsExternal:d}),b=m.circleTangency,w=m.lineTangency,x=m.theta,y=af({cx:r,cy:n,radius:o,angle:v,sign:-h,cornerRadius:l,cornerIsExternal:d}),j=y.circleTangency,k=y.lineTangency,S=y.theta,N=d?Math.abs(f-v):Math.abs(f-v)-x-S;if(N<0)return u?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):GD({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:f,endAngle:v});var A="M ".concat(w.x,",").concat(w.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
  `);if(i>0){var O=af({cx:r,cy:n,radius:i,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),_=O.circleTangency,E=O.lineTangency,T=O.theta,I=af({cx:r,cy:n,radius:i,angle:v,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),R=I.circleTangency,L=I.lineTangency,M=I.theta,q=d?Math.abs(f-v):Math.abs(f-v)-T-M;if(q<0&&l===0)return"".concat(A,"L").concat(r,",").concat(n,"Z");A+="L".concat(L.x,",").concat(L.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(q>180),",").concat(+(h>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,"Z")}else A+="L".concat(r,",").concat(n,"Z");return A},V9={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},VD=function(t){var r=uP(uP({},V9),t),n=r.cx,i=r.cy,o=r.innerRadius,l=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,v=r.startAngle,h=r.endAngle,m=r.className;if(l<o||v===h)return null;var b=He("recharts-sector",m),w=l-o,x=Lr(u,w,0,!0),y;return x>0&&Math.abs(v-h)<360?y=G9({cx:n,cy:i,innerRadius:o,outerRadius:l,cornerRadius:Math.min(x,w/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:v,endAngle:h}):y=GD({cx:n,cy:i,innerRadius:o,outerRadius:l,startAngle:v,endAngle:h}),G.createElement("path",W0({},Te(r,!0),{className:b,d:y,role:"img"}))};function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$0.apply(this,arguments)}function dP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(r),!0).forEach(function(n){q9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q9(e,t,r){return t=Z9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z9(e){var t=X9(e,"string");return uu(t)=="symbol"?t:t+""}function X9(e,t){if(uu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pP={curveBasisClosed:mW,curveBasisOpen:gW,curveBasis:vW,curveBumpX:tW,curveBumpY:rW,curveLinearClosed:yW,curveLinear:Yp,curveMonotoneX:xW,curveMonotoneY:bW,curveNatural:SW,curveStep:wW,curveStepAfter:kW,curveStepBefore:jW},of=function(t){return t.x===+t.x&&t.y===+t.y},gc=function(t){return t.x},yc=function(t){return t.y},Y9=function(t,r){if(We(t))return t;var n="curve".concat(Zp(t));return(n==="curveMonotone"||n==="curveBump")&&r?pP["".concat(n).concat(r==="vertical"?"Y":"X")]:pP[n]||Yp},Q9=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,o=i===void 0?[]:i,l=t.baseLine,u=t.layout,d=t.connectNulls,f=d===void 0?!1:d,v=Y9(n,u),h=f?o.filter(function(x){return of(x)}):o,m;if(Array.isArray(l)){var b=f?l.filter(function(x){return of(x)}):l,w=h.map(function(x,y){return fP(fP({},x),{},{base:b[y]})});return u==="vertical"?m=Xd().y(yc).x1(gc).x0(function(x){return x.base.x}):m=Xd().x(gc).y1(yc).y0(function(x){return x.base.y}),m.defined(of).curve(v),m(w)}return u==="vertical"&&Se(l)?m=Xd().y(yc).x1(gc).x0(l):Se(l)?m=Xd().x(gc).y1(yc).y0(l):m=KE().x(gc).y(yc),m.defined(of).curve(v),m(h)},Pi=function(t){var r=t.className,n=t.points,i=t.path,o=t.pathRef;if((!n||!n.length)&&!i)return null;var l=n&&n.length?Q9(t):i;return z.createElement("path",$0({},Te(t,!1),Of(t),{className:He("recharts-curve",r),d:l,ref:o}))},nb={exports:{}},ab,hP;function J9(){if(hP)return ab;hP=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ab=e,ab}var ib,vP;function eV(){if(vP)return ib;vP=1;var e=J9();function t(){}function r(){}return r.resetWarningCache=t,ib=function(){function n(l,u,d,f,v,h){if(h!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return o.PropTypes=o,o},ib}var mP;function tV(){return mP||(mP=1,nb.exports=eV()()),nb.exports}var rV=tV();const ft=pt(rV),{getOwnPropertyNames:nV,getOwnPropertySymbols:aV}=Object,{hasOwnProperty:iV}=Object.prototype;function ob(e,t){return function(n,i,o){return e(n,i,o)&&t(n,i,o)}}function sf(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);const{cache:o}=i,l=o.get(r),u=o.get(n);if(l&&u)return l===n&&u===r;o.set(r,n),o.set(n,r);const d=e(r,n,i);return o.delete(r),o.delete(n),d}}function oV(e){return e?.[Symbol.toStringTag]}function gP(e){return nV(e).concat(aV(e))}const sV=Object.hasOwn||((e,t)=>iV.call(e,t));function Mo(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const lV="__v",cV="__o",uV="_owner",{getOwnPropertyDescriptor:yP,keys:xP}=Object;function dV(e,t){return e.byteLength===t.byteLength&&ap(new Uint8Array(e),new Uint8Array(t))}function fV(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function pV(e,t){return e.byteLength===t.byteLength&&ap(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function hV(e,t){return Mo(e.getTime(),t.getTime())}function vV(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function mV(e,t){return e===t}function bP(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),o=e.entries();let l,u,d=0;for(;(l=o.next())&&!l.done;){const f=t.entries();let v=!1,h=0;for(;(u=f.next())&&!u.done;){if(i[h]){h++;continue}const m=l.value,b=u.value;if(r.equals(m[0],b[0],d,h,e,t,r)&&r.equals(m[1],b[1],m[0],b[0],e,t,r)){v=i[h]=!0;break}h++}if(!v)return!1;d++}return!0}const gV=Mo;function yV(e,t,r){const n=xP(e);let i=n.length;if(xP(t).length!==i)return!1;for(;i-- >0;)if(!qD(e,t,r,n[i]))return!1;return!0}function xc(e,t,r){const n=gP(e);let i=n.length;if(gP(t).length!==i)return!1;let o,l,u;for(;i-- >0;)if(o=n[i],!qD(e,t,r,o)||(l=yP(e,o),u=yP(t,o),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function xV(e,t){return Mo(e.valueOf(),t.valueOf())}function bV(e,t){return e.source===t.source&&e.flags===t.flags}function SP(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),o=e.values();let l,u;for(;(l=o.next())&&!l.done;){const d=t.values();let f=!1,v=0;for(;(u=d.next())&&!u.done;){if(!i[v]&&r.equals(l.value,u.value,l.value,u.value,e,t,r)){f=i[v]=!0;break}v++}if(!f)return!1}return!0}function ap(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function SV(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function qD(e,t,r,n){return(n===uV||n===cV||n===lV)&&(e.$$typeof||t.$$typeof)?!0:sV(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const wV="[object ArrayBuffer]",jV="[object Arguments]",kV="[object Boolean]",CV="[object DataView]",zV="[object Date]",AV="[object Error]",NV="[object Map]",PV="[object Number]",_V="[object Object]",OV="[object RegExp]",EV="[object Set]",TV="[object String]",DV={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},RV="[object URL]",IV=Object.prototype.toString;function MV({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:l,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:f,areRegExpsEqual:v,areSetsEqual:h,areTypedArraysEqual:m,areUrlsEqual:b,unknownTagComparators:w}){return function(y,j,k){if(y===j)return!0;if(y==null||j==null)return!1;const S=typeof y;if(S!==typeof j)return!1;if(S!=="object")return S==="number"?u(y,j,k):S==="function"?o(y,j,k):!1;const N=y.constructor;if(N!==j.constructor)return!1;if(N===Object)return d(y,j,k);if(Array.isArray(y))return t(y,j,k);if(N===Date)return n(y,j,k);if(N===RegExp)return v(y,j,k);if(N===Map)return l(y,j,k);if(N===Set)return h(y,j,k);const A=IV.call(y);if(A===zV)return n(y,j,k);if(A===OV)return v(y,j,k);if(A===NV)return l(y,j,k);if(A===EV)return h(y,j,k);if(A===_V)return typeof y.then!="function"&&typeof j.then!="function"&&d(y,j,k);if(A===RV)return b(y,j,k);if(A===AV)return i(y,j,k);if(A===jV)return d(y,j,k);if(DV[A])return m(y,j,k);if(A===wV)return e(y,j,k);if(A===CV)return r(y,j,k);if(A===kV||A===PV||A===TV)return f(y,j,k);if(w){let O=w[A];if(!O){const _=oV(y);_&&(O=w[_])}if(O)return O(y,j,k)}return!1}}function LV({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:dV,areArraysEqual:r?xc:fV,areDataViewsEqual:pV,areDatesEqual:hV,areErrorsEqual:vV,areFunctionsEqual:mV,areMapsEqual:r?ob(bP,xc):bP,areNumbersEqual:gV,areObjectsEqual:r?xc:yV,arePrimitiveWrappersEqual:xV,areRegExpsEqual:bV,areSetsEqual:r?ob(SP,xc):SP,areTypedArraysEqual:r?ob(ap,xc):ap,areUrlsEqual:SV,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const i=sf(n.areArraysEqual),o=sf(n.areMapsEqual),l=sf(n.areObjectsEqual),u=sf(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:u})}return n}function BV(e){return function(t,r,n,i,o,l,u){return e(t,r,u)}}function FV({circular:e,comparator:t,createState:r,equals:n,strict:i}){if(r)return function(u,d){const{cache:f=e?new WeakMap:void 0,meta:v}=r();return t(u,d,{cache:f,equals:n,meta:v,strict:i})};if(e)return function(u,d){return t(u,d,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const o={cache:void 0,equals:n,meta:void 0,strict:i};return function(u,d){return t(u,d,o)}}const WV=$i();$i({strict:!0});$i({circular:!0});$i({circular:!0,strict:!0});$i({createInternalComparator:()=>Mo});$i({strict:!0,createInternalComparator:()=>Mo});$i({circular:!0,createInternalComparator:()=>Mo});$i({circular:!0,createInternalComparator:()=>Mo,strict:!0});function $i(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:i=!1}=e,o=LV(e),l=MV(o),u=r?r(l):BV(l);return FV({circular:t,comparator:l,createState:n,equals:u,strict:i})}function $V(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function wP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>t?(e(o),r=-1):$V(i)};requestAnimationFrame(n)}function U0(e){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U0(e)}function UV(e){return VV(e)||GV(e)||KV(e)||HV()}function HV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KV(e,t){if(e){if(typeof e=="string")return jP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jP(e,t)}}function jP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VV(e){if(Array.isArray(e))return e}function qV(){var e={},t=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,u=UV(l),d=u[0],f=u.slice(1);if(typeof d=="number"){wP(i.bind(null,f),d);return}i(d),wP(i.bind(null,f));return}U0(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function kP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(r),!0).forEach(function(n){ZD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZD(e,t,r){return t=ZV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZV(e){var t=XV(e,"string");return du(t)==="symbol"?t:String(t)}function XV(e,t){if(du(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(du(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YV=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},QV=function(t){return t},JV=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ic=function(t,r){return Object.keys(r).reduce(function(n,i){return CP(CP({},n),{},ZD({},i,t(i,r[i])))},{})},zP=function(t,r,n){return t.map(function(i){return"".concat(JV(i)," ").concat(r,"ms ").concat(n)}).join(",")};function e7(e,t){return n7(e)||r7(e,t)||XD(e,t)||t7()}function t7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function n7(e){if(Array.isArray(e))return e}function a7(e){return s7(e)||o7(e)||XD(e)||i7()}function i7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XD(e,t){if(e){if(typeof e=="string")return H0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H0(e,t)}}function o7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s7(e){if(Array.isArray(e))return H0(e)}function H0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ip=1e-4,YD=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},QD=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},AP=function(t,r){return function(n){var i=YD(t,r);return QD(i,n)}},l7=function(t,r){return function(n){var i=YD(t,r),o=[].concat(a7(i.map(function(l,u){return l*u}).slice(1)),[0]);return QD(o,n)}},NP=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],o=r[1],l=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,l=1,u=1;break;case"ease":i=.25,o=.1,l=.25,u=1;break;case"ease-in":i=.42,o=0,l=1,u=1;break;case"ease-out":i=.42,o=0,l=.58,u=1;break;case"ease-in-out":i=0,o=0,l=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),v=e7(f,4);i=v[0],o=v[1],l=v[2],u=v[3]}}}var h=AP(i,l),m=AP(o,u),b=l7(i,l),w=function(j){return j>1?1:j<0?0:j},x=function(j){for(var k=j>1?1:j,S=k,N=0;N<8;++N){var A=h(S)-k,O=b(S);if(Math.abs(A-k)<ip||O<ip)return m(S);S=w(S-A/O)}return m(S)};return x.isStepper=!1,x},c7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,o=i===void 0?8:i,l=t.dt,u=l===void 0?17:l,d=function(v,h,m){var b=-(v-h)*n,w=m*o,x=m+(b-w)*u/1e3,y=m*u/1e3+v;return Math.abs(y-h)<ip&&Math.abs(x)<ip?[h,0]:[y,x]};return d.isStepper=!0,d.dt=u,d},u7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return NP(i);case"spring":return c7();default:if(i.split("(")[0]==="cubic-bezier")return NP(i)}return typeof i=="function"?i:null};function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function PP(e){return p7(e)||f7(e)||JD(e)||d7()}function d7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function p7(e){if(Array.isArray(e))return G0(e)}function _P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(r),!0).forEach(function(n){K0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K0(e,t,r){return t=h7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h7(e){var t=v7(e,"string");return fu(t)==="symbol"?t:String(t)}function v7(e,t){if(fu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m7(e,t){return x7(e)||y7(e,t)||JD(e,t)||g7()}function g7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JD(e,t){if(e){if(typeof e=="string")return G0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G0(e,t)}}function G0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function x7(e){if(Array.isArray(e))return e}var op=function(t,r,n){return t+(r-t)*n},V0=function(t){var r=t.from,n=t.to;return r!==n},b7=function e(t,r,n){var i=Ic(function(o,l){if(V0(l)){var u=t(l.from,l.to,l.velocity),d=m7(u,2),f=d[0],v=d[1];return br(br({},l),{},{from:f,velocity:v})}return l},r);return n<1?Ic(function(o,l){return V0(l)?br(br({},l),{},{velocity:op(l.velocity,i[o].velocity,n),from:op(l.from,i[o].from,n)}):l},r):e(t,i,n-1)};const S7=(function(e,t,r,n,i){var o=YV(e,t),l=o.reduce(function(y,j){return br(br({},y),{},K0({},j,[e[j],t[j]]))},{}),u=o.reduce(function(y,j){return br(br({},y),{},K0({},j,{from:e[j],velocity:0,to:t[j]}))},{}),d=-1,f,v,h=function(){return null},m=function(){return Ic(function(j,k){return k.from},u)},b=function(){return!Object.values(u).filter(V0).length},w=function(j){f||(f=j);var k=j-f,S=k/r.dt;u=b7(r,u,S),i(br(br(br({},e),t),m())),f=j,b()||(d=requestAnimationFrame(h))},x=function(j){v||(v=j);var k=(j-v)/n,S=Ic(function(A,O){return op.apply(void 0,PP(O).concat([r(k)]))},l);if(i(br(br(br({},e),t),S)),k<1)d=requestAnimationFrame(h);else{var N=Ic(function(A,O){return op.apply(void 0,PP(O).concat([r(1)]))},l);i(br(br(br({},e),t),N))}};return h=r.isStepper?w:x,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(d)}}});function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}var w7=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function j7(e,t){if(e==null)return{};var r=k7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k7(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function sb(e){return N7(e)||A7(e)||z7(e)||C7()}function C7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z7(e,t){if(e){if(typeof e=="string")return q0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q0(e,t)}}function A7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function N7(e){if(Array.isArray(e))return q0(e)}function q0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(n){_c(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _c(e,t,r){return t=eR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eR(n.key),n)}}function O7(e,t,r){return t&&_7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eR(e){var t=E7(e,"string");return Ks(t)==="symbol"?t:String(t)}function E7(e,t){if(Ks(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ks(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z0(e,t)}function Z0(e,t){return Z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Z0(e,t)}function D7(e){var t=R7();return function(){var n=sp(e),i;if(t){var o=sp(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return X0(this,i)}}function X0(e,t){if(t&&(Ks(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y0(e)}function Y0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R7(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sp(e){return sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sp(e)}var _n=(function(e){T7(r,e);var t=D7(r);function r(n,i){var o;P7(this,r),o=t.call(this,n,i);var l=o.props,u=l.isActive,d=l.attributeName,f=l.from,v=l.to,h=l.steps,m=l.children,b=l.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Y0(o)),o.changeStyle=o.changeStyle.bind(Y0(o)),!u||b<=0)return o.state={style:{}},typeof m=="function"&&(o.state={style:v}),X0(o);if(h&&h.length)o.state={style:h[0].style};else if(f){if(typeof m=="function")return o.state={style:f},X0(o);o.state={style:d?_c({},d,f):f}}else o.state={style:{}};return o}return O7(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,l=i.canBegin;this.mounted=!0,!(!o||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,l=o.isActive,u=o.canBegin,d=o.attributeName,f=o.shouldReAnimate,v=o.to,h=o.from,m=this.state.style;if(u){if(!l){var b={style:d?_c({},d,v):v};this.state&&m&&(d&&m[d]!==v||!d&&m!==v)&&this.setState(b);return}if(!(WV(i.to,v)&&i.canBegin&&i.isActive)){var w=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=w||f?h:i.to;if(this.state&&m){var y={style:d?_c({},d,x):x};(d&&m[d]!==x||!d&&m!==x)&&this.setState(y)}this.runAnimation(Bn(Bn({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,l=i.from,u=i.to,d=i.duration,f=i.easing,v=i.begin,h=i.onAnimationEnd,m=i.onAnimationStart,b=S7(l,u,u7(f),d,this.changeStyle),w=function(){o.stopJSAnimation=b()};this.manager.start([m,v,w,d,h])}},{key:"runStepAnimation",value:function(i){var o=this,l=i.steps,u=i.begin,d=i.onAnimationStart,f=l[0],v=f.style,h=f.duration,m=h===void 0?0:h,b=function(x,y,j){if(j===0)return x;var k=y.duration,S=y.easing,N=S===void 0?"ease":S,A=y.style,O=y.properties,_=y.onAnimationEnd,E=j>0?l[j-1]:y,T=O||Object.keys(A);if(typeof N=="function"||N==="spring")return[].concat(sb(x),[o.runJSAnimation.bind(o,{from:E.style,to:A,duration:k,easing:N}),k]);var I=zP(T,k,N),R=Bn(Bn(Bn({},E.style),A),{},{transition:I});return[].concat(sb(x),[R,k,_]).filter(QV)};return this.manager.start([d].concat(sb(l.reduce(b,[v,Math.max(m,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=qV());var o=i.begin,l=i.duration,u=i.attributeName,d=i.to,f=i.easing,v=i.onAnimationStart,h=i.onAnimationEnd,m=i.steps,b=i.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof f=="function"||typeof b=="function"||f==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var x=u?_c({},u,d):d,y=zP(Object.keys(x),l,f);w.start([v,o,Bn(Bn({},x),{},{transition:y}),l,h])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var l=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=j7(i,w7),f=z.Children.count(o),v=this.state.style;if(typeof o=="function")return o(v);if(!u||f===0||l<=0)return o;var h=function(b){var w=b.props,x=w.style,y=x===void 0?{}:x,j=w.className,k=z.cloneElement(b,Bn(Bn({},d),{},{style:Bn(Bn({},y),v),className:j}));return k};return f===1?h(z.Children.only(o)):G.createElement("div",null,z.Children.map(o,function(m){return h(m)}))}}]),r})(z.PureComponent);_n.displayName="Animate";_n.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};_n.propTypes={from:ft.oneOfType([ft.object,ft.string]),to:ft.oneOfType([ft.object,ft.string]),attributeName:ft.string,duration:ft.number,begin:ft.number,easing:ft.oneOfType([ft.string,ft.func]),steps:ft.arrayOf(ft.shape({duration:ft.number.isRequired,style:ft.object.isRequired,easing:ft.oneOfType([ft.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ft.func]),properties:ft.arrayOf("string"),onAnimationEnd:ft.func})),children:ft.oneOfType([ft.node,ft.func]),isActive:ft.bool,canBegin:ft.bool,onAnimationEnd:ft.func,shouldReAnimate:ft.bool,onAnimationStart:ft.func,onAnimationReStart:ft.func};var Eu=fE();const I7=pt(Eu);function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function lp(){return lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lp.apply(this,arguments)}function M7(e,t){return W7(e)||F7(e,t)||B7(e,t)||L7()}function L7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B7(e,t){if(e){if(typeof e=="string")return EP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EP(e,t)}}function EP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function W7(e){if(Array.isArray(e))return e}function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){$7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $7(e,t,r){return t=U7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U7(e){var t=H7(e,"string");return pu(t)=="symbol"?t:t+""}function H7(e,t){if(pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RP=function(t,r,n,i,o){var l=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,d=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,v;if(l>0&&o instanceof Array){for(var h=[0,0,0,0],m=0,b=4;m<b;m++)h[m]=o[m]>l?l:o[m];v="M".concat(t,",").concat(r+u*h[0]),h[0]>0&&(v+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(t+d*h[0],",").concat(r)),v+="L ".concat(t+n-d*h[1],",").concat(r),h[1]>0&&(v+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(r+u*h[1])),v+="L ".concat(t+n,",").concat(r+i-u*h[2]),h[2]>0&&(v+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(t+n-d*h[2],",").concat(r+i)),v+="L ".concat(t+d*h[3],",").concat(r+i),h[3]>0&&(v+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(r+i-u*h[3])),v+="Z"}else if(l>0&&o===+o&&o>0){var w=Math.min(l,o);v="M ".concat(t,",").concat(r+u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+d*w,",").concat(r,`
            L `).concat(t+n-d*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n,",").concat(r+u*w,`
            L `).concat(t+n,",").concat(r+i-u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n-d*w,",").concat(r+i,`
            L `).concat(t+d*w,",").concat(r+i,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t,",").concat(r+i-u*w," Z")}else v="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return v},K7=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,o=r.x,l=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(o,o+u),v=Math.max(o,o+u),h=Math.min(l,l+d),m=Math.max(l,l+d);return n>=f&&n<=v&&i>=h&&i<=m}return!1},G7={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$1=function(t){var r=DP(DP({},G7),t),n=z.useRef(),i=z.useState(-1),o=M7(i,2),l=o[0],u=o[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&u(N)}catch{}},[]);var d=r.x,f=r.y,v=r.width,h=r.height,m=r.radius,b=r.className,w=r.animationEasing,x=r.animationDuration,y=r.animationBegin,j=r.isAnimationActive,k=r.isUpdateAnimationActive;if(d!==+d||f!==+f||v!==+v||h!==+h||v===0||h===0)return null;var S=He("recharts-rectangle",b);return k?G.createElement(_n,{canBegin:l>0,from:{width:v,height:h,x:d,y:f},to:{width:v,height:h,x:d,y:f},duration:x,animationEasing:w,isActive:k},function(N){var A=N.width,O=N.height,_=N.x,E=N.y;return G.createElement(_n,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,isActive:j,easing:w},G.createElement("path",lp({},Te(r,!0),{className:S,d:RP(_,E,A,O,m),ref:n})))}):G.createElement("path",lp({},Te(r,!0),{className:S,d:RP(d,f,v,h,m)}))},V7=["points","className","baseLinePoints","connectNulls"];function ks(){return ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ks.apply(this,arguments)}function q7(e,t){if(e==null)return{};var r=Z7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Z7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IP(e){return J7(e)||Q7(e)||Y7(e)||X7()}function X7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y7(e,t){if(e){if(typeof e=="string")return Q0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q0(e,t)}}function Q7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function J7(e){if(Array.isArray(e))return Q0(e)}function Q0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var MP=function(t){return t&&t.x===+t.x&&t.y===+t.y},eq=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){MP(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),MP(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Mc=function(t,r){var n=eq(t);r&&(n=[n.reduce(function(o,l){return[].concat(IP(o),IP(l))},[])]);var i=n.map(function(o){return o.reduce(function(l,u,d){return"".concat(l).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},tq=function(t,r,n){var i=Mc(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Mc(r.reverse(),n).slice(1))},rq=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,o=t.connectNulls,l=q7(t,V7);if(!r||!r.length)return null;var u=He("recharts-polygon",n);if(i&&i.length){var d=l.stroke&&l.stroke!=="none",f=tq(r,i,o);return G.createElement("g",{className:u},G.createElement("path",ks({},Te(l,!0),{fill:f.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:f})),d?G.createElement("path",ks({},Te(l,!0),{fill:"none",d:Mc(r,o)})):null,d?G.createElement("path",ks({},Te(l,!0),{fill:"none",d:Mc(i,o)})):null)}var v=Mc(r,o);return G.createElement("path",ks({},Te(l,!0),{fill:v.slice(-1)==="Z"?l.fill:"none",className:u,d:v}))};function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J0.apply(this,arguments)}var Tu=function(t){var r=t.cx,n=t.cy,i=t.r,o=t.className,l=He("recharts-dot",o);return r===+r&&n===+n&&i===+i?z.createElement("circle",J0({},Te(t,!1),Of(t),{className:l,cx:r,cy:n,r:i})):null};function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}var nq=["x","y","top","left","width","height","className"];function eS(){return eS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eS.apply(this,arguments)}function LP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(r),!0).forEach(function(n){iq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iq(e,t,r){return t=oq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oq(e){var t=sq(e,"string");return hu(t)=="symbol"?t:t+""}function sq(e,t){if(hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lq(e,t){if(e==null)return{};var r=cq(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var uq=function(t,r,n,i,o,l){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(l,",").concat(r,"h").concat(n)},dq=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,o=i===void 0?0:i,l=t.top,u=l===void 0?0:l,d=t.left,f=d===void 0?0:d,v=t.width,h=v===void 0?0:v,m=t.height,b=m===void 0?0:m,w=t.className,x=lq(t,nq),y=aq({x:n,y:o,top:u,left:f,width:h,height:b},x);return!Se(n)||!Se(o)||!Se(h)||!Se(b)||!Se(u)||!Se(f)?null:G.createElement("path",eS({},Te(y,!0),{className:He("recharts-cross",w),d:uq(n,o,h,b,u,f)}))},lb,BP;function fq(){if(BP)return lb;BP=1;var e=ch(),t=vD(),r=va();function n(i,o){return i&&i.length?e(i,r(o,2),t):void 0}return lb=n,lb}var pq=fq();const hq=pt(pq);var cb,FP;function vq(){if(FP)return cb;FP=1;var e=ch(),t=va(),r=mD();function n(i,o){return i&&i.length?e(i,t(o,2),r):void 0}return cb=n,cb}var mq=vq();const gq=pt(mq);var yq=["cx","cy","angle","ticks","axisLine"],xq=["ticks","tick","angle","tickFormatter","stroke"];function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function Lc(){return Lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lc.apply(this,arguments)}function WP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(r),!0).forEach(function(n){ph(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $P(e,t){if(e==null)return{};var r=bq(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Sq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rR(n.key),n)}}function wq(e,t,r){return t&&UP(e.prototype,t),r&&UP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jq(e,t,r){return t=cp(t),kq(e,tR()?Reflect.construct(t,r||[],cp(e).constructor):t.apply(e,r))}function kq(e,t){if(t&&(Gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cq(e)}function Cq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tR=function(){return!!e})()}function cp(e){return cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cp(e)}function zq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tS(e,t)}function tS(e,t){return tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tS(e,t)}function ph(e,t,r){return t=rR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rR(e){var t=Aq(e,"string");return Gs(t)=="symbol"?t:t+""}function Aq(e,t){if(Gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hh=(function(e){function t(){return Sq(this,t),jq(this,t,arguments)}return zq(t,e),wq(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,o=this.props,l=o.angle,u=o.cx,d=o.cy;return At(u,d,i,l)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,o=n.cy,l=n.angle,u=n.ticks,d=hq(u,function(v){return v.coordinate||0}),f=gq(u,function(v){return v.coordinate||0});return{cx:i,cy:o,startAngle:l,endAngle:l,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,l=n.angle,u=n.ticks,d=n.axisLine,f=$P(n,yq),v=u.reduce(function(w,x){return[Math.min(w[0],x.coordinate),Math.max(w[1],x.coordinate)]},[1/0,-1/0]),h=At(i,o,v[0],l),m=At(i,o,v[1],l),b=oo(oo(oo({},Te(f,!1)),{},{fill:"none"},Te(d,!1)),{},{x1:h.x,y1:h.y,x2:m.x,y2:m.y});return G.createElement("line",Lc({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,l=i.tick,u=i.angle,d=i.tickFormatter,f=i.stroke,v=$P(i,xq),h=this.getTickTextAnchor(),m=Te(v,!1),b=Te(l,!1),w=o.map(function(x,y){var j=n.getTickValueCoord(x),k=oo(oo(oo(oo({textAnchor:h,transform:"rotate(".concat(90-u,", ").concat(j.x,", ").concat(j.y,")")},m),{},{stroke:"none",fill:f},b),{},{index:y},j),{},{payload:x});return G.createElement(Ke,Lc({className:He("recharts-polar-radius-axis-tick",HD(l)),key:"tick-".concat(x.coordinate)},Ei(n.props,x,y)),t.renderTickItem(l,k,d?d(x.value,y):x.value))});return G.createElement(Ke,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.axisLine,l=n.tick;return!i||!i.length?null:G.createElement(Ke,{className:He("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),l&&this.renderTicks(),vr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,o){var l;return G.isValidElement(n)?l=G.cloneElement(n,i):We(n)?l=n(i):l=G.createElement(Co,Lc({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),l}}])})(z.PureComponent);ph(hh,"displayName","PolarRadiusAxis");ph(hh,"axisType","radiusAxis");ph(hh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function vo(){return vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vo.apply(this,arguments)}function HP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function so(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(r),!0).forEach(function(n){vh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aR(n.key),n)}}function Pq(e,t,r){return t&&KP(e.prototype,t),r&&KP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _q(e,t,r){return t=up(t),Oq(e,nR()?Reflect.construct(t,r||[],up(e).constructor):t.apply(e,r))}function Oq(e,t){if(t&&(Vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eq(e)}function Eq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nR=function(){return!!e})()}function up(e){return up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},up(e)}function Tq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rS(e,t)}function rS(e,t){return rS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rS(e,t)}function vh(e,t,r){return t=aR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aR(e){var t=Dq(e,"string");return Vs(t)=="symbol"?t:t+""}function Dq(e,t){if(Vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rq=Math.PI/180,GP=1e-5,mh=(function(e){function t(){return Nq(this,t),_q(this,t,arguments)}return Tq(t,e),Pq(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.cx,l=i.cy,u=i.radius,d=i.orientation,f=i.tickSize,v=f||8,h=At(o,l,u,n.coordinate),m=At(o,l,u+(d==="inner"?-1:1)*v,n.coordinate);return{x1:h.x,y1:h.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,o=Math.cos(-n.coordinate*Rq),l;return o>GP?l=i==="outer"?"start":"end":o<-GP?l=i==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,o=n.cy,l=n.radius,u=n.axisLine,d=n.axisLineType,f=so(so({},Te(this.props,!1)),{},{fill:"none"},Te(u,!1));if(d==="circle")return G.createElement(Tu,vo({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:o,r:l}));var v=this.props.ticks,h=v.map(function(m){return At(i,o,l,m.coordinate)});return G.createElement(rq,vo({className:"recharts-polar-angle-axis-line"},f,{points:h}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,o=i.ticks,l=i.tick,u=i.tickLine,d=i.tickFormatter,f=i.stroke,v=Te(this.props,!1),h=Te(l,!1),m=so(so({},v),{},{fill:"none"},Te(u,!1)),b=o.map(function(w,x){var y=n.getTickLineCoord(w),j=n.getTickTextAnchor(w),k=so(so(so({textAnchor:j},v),{},{stroke:"none",fill:f},h),{},{index:x,payload:w,x:y.x2,y:y.y2});return G.createElement(Ke,vo({className:He("recharts-polar-angle-axis-tick",HD(l)),key:"tick-".concat(w.coordinate)},Ei(n.props,w,x)),u&&G.createElement("line",vo({className:"recharts-polar-angle-axis-tick-line"},m,y)),l&&t.renderTickItem(l,k,d?d(w.value,x):w.value))});return G.createElement(Ke,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,i=n.ticks,o=n.radius,l=n.axisLine;return o<=0||!i||!i.length?null:G.createElement(Ke,{className:He("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,o){var l;return G.isValidElement(n)?l=G.cloneElement(n,i):We(n)?l=n(i):l=G.createElement(Co,vo({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),l}}])})(z.PureComponent);vh(mh,"displayName","PolarAngleAxis");vh(mh,"axisType","angleAxis");vh(mh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ub,VP;function Iq(){if(VP)return ub;VP=1;var e=hT(),t=e(Object.getPrototypeOf,Object);return ub=t,ub}var db,qP;function Mq(){if(qP)return db;qP=1;var e=Xa(),t=Iq(),r=Ya(),n="[object Object]",i=Function.prototype,o=Object.prototype,l=i.toString,u=o.hasOwnProperty,d=l.call(Object);function f(v){if(!r(v)||e(v)!=n)return!1;var h=t(v);if(h===null)return!0;var m=u.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&l.call(m)==d}return db=f,db}var Lq=Mq();const Bq=pt(Lq);var fb,ZP;function Fq(){if(ZP)return fb;ZP=1;var e=Xa(),t=Ya(),r="[object Boolean]";function n(i){return i===!0||i===!1||t(i)&&e(i)==r}return fb=n,fb}var Wq=Fq();const $q=pt(Wq);function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dp.apply(this,arguments)}function Uq(e,t){return Vq(e)||Gq(e,t)||Kq(e,t)||Hq()}function Hq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kq(e,t){if(e){if(typeof e=="string")return XP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XP(e,t)}}function XP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function Vq(e){if(Array.isArray(e))return e}function YP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(r),!0).forEach(function(n){qq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qq(e,t,r){return t=Zq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zq(e){var t=Xq(e,"string");return vu(t)=="symbol"?t:t+""}function Xq(e,t){if(vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JP=function(t,r,n,i,o){var l=n-i,u;return u="M ".concat(t,",").concat(r),u+="L ".concat(t+n,",").concat(r),u+="L ".concat(t+n-l/2,",").concat(r+o),u+="L ".concat(t+n-l/2-i,",").concat(r+o),u+="L ".concat(t,",").concat(r," Z"),u},Yq={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Qq=function(t){var r=QP(QP({},Yq),t),n=z.useRef(),i=z.useState(-1),o=Uq(i,2),l=o[0],u=o[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&u(S)}catch{}},[]);var d=r.x,f=r.y,v=r.upperWidth,h=r.lowerWidth,m=r.height,b=r.className,w=r.animationEasing,x=r.animationDuration,y=r.animationBegin,j=r.isUpdateAnimationActive;if(d!==+d||f!==+f||v!==+v||h!==+h||m!==+m||v===0&&h===0||m===0)return null;var k=He("recharts-trapezoid",b);return j?G.createElement(_n,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:m,x:d,y:f},to:{upperWidth:v,lowerWidth:h,height:m,x:d,y:f},duration:x,animationEasing:w,isActive:j},function(S){var N=S.upperWidth,A=S.lowerWidth,O=S.height,_=S.x,E=S.y;return G.createElement(_n,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,easing:w},G.createElement("path",dp({},Te(r,!0),{className:k,d:JP(_,E,N,A,O),ref:n})))}):G.createElement("g",null,G.createElement("path",dp({},Te(r,!0),{className:k,d:JP(d,f,v,h,m)})))},Jq=["option","shapeType","propTransformer","activeClassName","isActive"];function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function eZ(e,t){if(e==null)return{};var r=tZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function e_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(r),!0).forEach(function(n){rZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rZ(e,t,r){return t=nZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nZ(e){var t=aZ(e,"string");return mu(t)=="symbol"?t:t+""}function aZ(e,t){if(mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iZ(e,t){return fp(fp({},t),e)}function oZ(e,t){return e==="symbols"}function t_(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return G.createElement($1,r);case"trapezoid":return G.createElement(Qq,r);case"sector":return G.createElement(VD,r);case"symbols":if(oZ(t))return G.createElement(Jp,r);break;default:return null}}function sZ(e){return z.isValidElement(e)?e.props:e}function pp(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?iZ:n,o=e.activeClassName,l=o===void 0?"recharts-active-shape":o,u=e.isActive,d=eZ(e,Jq),f;if(z.isValidElement(t))f=z.cloneElement(t,fp(fp({},d),sZ(t)));else if(We(t))f=t(d);else if(Bq(t)&&!$q(t)){var v=i(t,d);f=G.createElement(t_,{shapeType:r,elementProps:v})}else{var h=d;f=G.createElement(t_,{shapeType:r,elementProps:h})}return u?G.createElement(Ke,{className:l},f):f}function gh(e,t){return t!=null&&"trapezoids"in e.props}function yh(e,t){return t!=null&&"sectors"in e.props}function gu(e,t){return t!=null&&"points"in e.props}function lZ(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&o}function cZ(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function uZ(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function dZ(e,t){var r;return gh(e,t)?r=lZ:yh(e,t)?r=cZ:gu(e,t)&&(r=uZ),r}function fZ(e,t){var r;return gh(e,t)?r="trapezoids":yh(e,t)?r="sectors":gu(e,t)&&(r="points"),r}function pZ(e,t){if(gh(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(yh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return gu(e,t)?t.payload:{}}function hZ(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=fZ(r,t),o=pZ(r,t),l=n.filter(function(d,f){var v=Ti(o,d),h=r.props[i].filter(function(w){var x=dZ(r,t);return x(w,t)}),m=r.props[i].indexOf(h[h.length-1]),b=f===m;return v&&b}),u=n.indexOf(l[l.length-1]);return u}var jf;function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cs.apply(this,arguments)}function r_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(r),!0).forEach(function(n){An(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oR(n.key),n)}}function mZ(e,t,r){return t&&n_(e.prototype,t),r&&n_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gZ(e,t,r){return t=hp(t),yZ(e,iR()?Reflect.construct(t,r||[],hp(e).constructor):t.apply(e,r))}function yZ(e,t){if(t&&(qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xZ(e)}function xZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iR=function(){return!!e})()}function hp(e){return hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hp(e)}function bZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nS(e,t)}function nS(e,t){return nS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nS(e,t)}function An(e,t,r){return t=oR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oR(e){var t=SZ(e,"string");return qs(t)=="symbol"?t:t+""}function SZ(e,t){if(qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ma=(function(e){function t(r){var n;return vZ(this,t),n=gZ(this,t,[r]),An(n,"pieRef",null),An(n,"sectorRefs",[]),An(n,"id",Bi("recharts-pie-")),An(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),We(i)&&i()}),An(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),We(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return bZ(t,e),mZ(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.label,u=o.labelLine,d=o.dataKey,f=o.valueKey,v=Te(this.props,!1),h=Te(l,!1),m=Te(u,!1),b=l&&l.offsetRadius||20,w=n.map(function(x,y){var j=(x.startAngle+x.endAngle)/2,k=At(x.cx,x.cy,x.outerRadius+b,j),S=kt(kt(kt(kt({},v),x),{},{stroke:"none"},h),{},{index:y,textAnchor:t.getTextAnchor(k.x,x.cx)},k),N=kt(kt(kt(kt({},v),x),{},{fill:"none",stroke:x.fill},m),{},{index:y,points:[At(x.cx,x.cy,x.outerRadius,j),k]}),A=d;return Fe(d)&&Fe(f)?A="value":Fe(d)&&(A=f),G.createElement(Ke,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(y)},u&&t.renderLabelLineItem(u,N,"line"),t.renderLabelItem(l,S,Ot(x,A)))});return G.createElement(Ke,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(n){var i=this,o=this.props,l=o.activeShape,u=o.blendStroke,d=o.inactiveShape;return n.map(function(f,v){if(f?.startAngle===0&&f?.endAngle===0&&n.length!==1)return null;var h=i.isActiveIndex(v),m=d&&i.hasActiveIndex()?d:null,b=h?l:m,w=kt(kt({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return G.createElement(Ke,Cs({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Ei(i.props,f,v),{key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(v)}),G.createElement(pp,Cs({option:b,isActive:h,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,o=i.sectors,l=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,f=i.animationEasing,v=i.animationId,h=this.state,m=h.prevSectors,b=h.prevIsAnimationActive;return G.createElement(_n,{begin:u,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(v,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var x=w.t,y=[],j=o&&o[0],k=j.startAngle;return o.forEach(function(S,N){var A=m&&m[N],O=N>0?pn(S,"paddingAngle",0):0;if(A){var _=Wt(A.endAngle-A.startAngle,S.endAngle-S.startAngle),E=kt(kt({},S),{},{startAngle:k+O,endAngle:k+_(x)+O});y.push(E),k=E.endAngle}else{var T=S.endAngle,I=S.startAngle,R=Wt(0,T-I),L=R(x),M=kt(kt({},S),{},{startAngle:k+O,endAngle:k+L+O});y.push(M),k=M.endAngle}}),G.createElement(Ke,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var l=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,o=n.isAnimationActive,l=this.state.prevSectors;return o&&i&&i.length&&(!l||!Ti(l,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,o=i.hide,l=i.sectors,u=i.className,d=i.label,f=i.cx,v=i.cy,h=i.innerRadius,m=i.outerRadius,b=i.isAnimationActive,w=this.state.isAnimationFinished;if(o||!l||!l.length||!Se(f)||!Se(v)||!Se(h)||!Se(m))return null;var x=He("recharts-pie",u);return G.createElement(Ke,{tabIndex:this.props.rootTabIndex,className:x,ref:function(j){n.pieRef=j}},this.renderSectors(),d&&this.renderLabels(l),vr.renderCallByParent(this.props,null,!1),(!b||w)&&Vn.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,o){if(G.isValidElement(n))return G.cloneElement(n,i);if(We(n))return n(i);var l=He("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return G.createElement(Pi,Cs({},i,{key:o,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(n,i,o){if(G.isValidElement(n))return G.cloneElement(n,i);var l=o;if(We(n)&&(l=n(i),G.isValidElement(l)))return l;var u=He("recharts-pie-label-text",typeof n!="boolean"&&!We(n)?n.className:"");return G.createElement(Co,Cs({},i,{alignmentBaseline:"middle",className:u}),l)}}])})(z.PureComponent);jf=ma;An(ma,"displayName","Pie");An(ma,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Qa.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});An(ma,"parseDeltaAngle",function(e,t){var r=Mr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});An(ma,"getRealPieData",function(e){var t=e.data,r=e.children,n=Te(e,!1),i=Fr(r,gl);return t&&t.length?t.map(function(o,l){return kt(kt(kt({payload:o},n),o),i&&i[l]&&i[l].props)}):i&&i.length?i.map(function(o){return kt(kt({},n),o.props)}):[]});An(ma,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,o=t.height,l=UD(i,o),u=n+Lr(e.cx,i,i/2),d=r+Lr(e.cy,o,o/2),f=Lr(e.innerRadius,l,0),v=Lr(e.outerRadius,l,l*.8),h=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:u,cy:d,innerRadius:f,outerRadius:v,maxRadius:h}});An(ma,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?kt(kt({},t.type.defaultProps),t.props):t.props,i=jf.getRealPieData(n);if(!i||!i.length)return null;var o=n.cornerRadius,l=n.startAngle,u=n.endAngle,d=n.paddingAngle,f=n.dataKey,v=n.nameKey,h=n.valueKey,m=n.tooltipType,b=Math.abs(n.minAngle),w=jf.parseCoordinateOfPie(n,r),x=jf.parseDeltaAngle(l,u),y=Math.abs(x),j=f;Fe(f)&&Fe(h)?(Gn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):Fe(f)&&(Gn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=h);var k=i.filter(function(E){return Ot(E,j,0)!==0}).length,S=(y>=360?k:k-1)*d,N=y-k*b-S,A=i.reduce(function(E,T){var I=Ot(T,j,0);return E+(Se(I)?I:0)},0),O;if(A>0){var _;O=i.map(function(E,T){var I=Ot(E,j,0),R=Ot(E,v,T),L=(Se(I)?I:0)/A,M;T?M=_.endAngle+Mr(x)*d*(I!==0?1:0):M=l;var q=M+Mr(x)*((I!==0?b:0)+L*N),H=(M+q)/2,Z=(w.innerRadius+w.outerRadius)/2,Y=[{name:R,value:I,payload:E,dataKey:j,type:m}],$=At(w.cx,w.cy,Z,H);return _=kt(kt(kt({percent:L,cornerRadius:o,name:R,tooltipPayload:Y,midAngle:H,middleRadius:Z,tooltipPosition:$},E),w),{},{value:Ot(E,j),startAngle:M,endAngle:q,payload:E,paddingAngle:Mr(x)*d}),_})}return kt(kt({},w),{},{sectors:O,data:i})});var pb,a_;function wZ(){if(a_)return pb;a_=1;var e=Math.ceil,t=Math.max;function r(n,i,o,l){for(var u=-1,d=t(e((i-n)/(o||1)),0),f=Array(d);d--;)f[l?d:++u]=n,n+=o;return f}return pb=r,pb}var hb,i_;function sR(){if(i_)return hb;i_=1;var e=_T(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*r}return i===i?i:0}return hb=n,hb}var vb,o_;function jZ(){if(o_)return vb;o_=1;var e=wZ(),t=rh(),r=sR();function n(i){return function(o,l,u){return u&&typeof u!="number"&&t(o,l,u)&&(l=u=void 0),o=r(o),l===void 0?(l=o,o=0):l=r(l),u=u===void 0?o<l?1:-1:r(u),e(o,l,u,i)}}return vb=n,vb}var mb,s_;function kZ(){if(s_)return mb;s_=1;var e=jZ(),t=e();return mb=t,mb}var CZ=kZ();const vp=pt(CZ);function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function l_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function c_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(r),!0).forEach(function(n){lR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lR(e,t,r){return t=zZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zZ(e){var t=AZ(e,"string");return yu(t)=="symbol"?t:t+""}function AZ(e,t){if(yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NZ=["Webkit","Moz","O","ms"],PZ=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=NZ.reduce(function(o,l){return c_(c_({},o),{},lR({},l+n,r))},{});return i[t]=r,i};function Zs(e){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(e)}function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mp.apply(this,arguments)}function u_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(r),!0).forEach(function(n){sn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uR(n.key),n)}}function OZ(e,t,r){return t&&d_(e.prototype,t),r&&d_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function EZ(e,t,r){return t=gp(t),TZ(e,cR()?Reflect.construct(t,r||[],gp(e).constructor):t.apply(e,r))}function TZ(e,t){if(t&&(Zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DZ(e)}function DZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cR=function(){return!!e})()}function gp(e){return gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gp(e)}function RZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aS(e,t)}function aS(e,t){return aS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aS(e,t)}function sn(e,t,r){return t=uR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uR(e){var t=IZ(e,"string");return Zs(t)=="symbol"?t:t+""}function IZ(e,t){if(Zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var MZ=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,o=t.x,l=t.width,u=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=Dc().domain(vp(0,d)).range([o,o+l-u]),v=f.domain().map(function(h){return f(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:v}},f_=function(t){return t.changedTouches&&!!t.changedTouches.length},Xs=(function(e){function t(r){var n;return _Z(this,t),n=EZ(this,t,[r]),sn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),sn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),sn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,l=i.onDragEnd,u=i.startIndex;l?.({endIndex:o,startIndex:u})}),n.detachDragEndListener()}),sn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),sn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),sn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),sn(n,"handleSlideDragStart",function(i){var o=f_(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return RZ(t,e),OZ(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,l=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,v=f.length-1,h=Math.min(i,o),m=Math.max(i,o),b=t.getIndexInRange(l,h),w=t.getIndexInRange(l,m);return{startIndex:b-b%d,endIndex:w===v?v:w-w%d}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,l=i.tickFormatter,u=i.dataKey,d=Ot(o[n],u,n);return We(l)?l(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,l=i.startX,u=i.endX,d=this.props,f=d.x,v=d.width,h=d.travellerWidth,m=d.startIndex,b=d.endIndex,w=d.onChange,x=n.pageX-o;x>0?x=Math.min(x,f+v-h-u,f+v-h-l):x<0&&(x=Math.max(x,f-l,f-u));var y=this.getIndex({startX:l+x,endX:u+x});(y.startIndex!==m||y.endIndex!==b)&&w&&w(y),this.setState({startX:l+x,endX:u+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=f_(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,l=i.movingTravellerId,u=i.endX,d=i.startX,f=this.state[l],v=this.props,h=v.x,m=v.width,b=v.travellerWidth,w=v.onChange,x=v.gap,y=v.data,j={startX:this.state.startX,endX:this.state.endX},k=n.pageX-o;k>0?k=Math.min(k,h+m-b-f):k<0&&(k=Math.max(k,h-f)),j[l]=f+k;var S=this.getIndex(j),N=S.startIndex,A=S.endIndex,O=function(){var E=y.length-1;return l==="startX"&&(u>d?N%x===0:A%x===0)||u<d&&A===E||l==="endX"&&(u>d?A%x===0:N%x===0)||u>d&&A===E};this.setState(sn(sn({},l,f+k),"brushMoveStartX",n.pageX),function(){w&&O()&&w(S)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,l=this.state,u=l.scaleValues,d=l.startX,f=l.endX,v=this.state[i],h=u.indexOf(v);if(h!==-1){var m=h+n;if(!(m===-1||m>=u.length)){var b=u[m];i==="startX"&&b>=f||i==="endX"&&b<=d||this.setState(sn({},i,b),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,d=n.fill,f=n.stroke;return G.createElement("rect",{stroke:f,fill:d,x:i,y:o,width:l,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,d=n.data,f=n.children,v=n.padding,h=z.Children.only(f);return h?G.cloneElement(h,{x:i,y:o,width:l,height:u,margin:v,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,l,u=this,d=this.props,f=d.y,v=d.travellerWidth,h=d.height,m=d.traveller,b=d.ariaLabel,w=d.data,x=d.startIndex,y=d.endIndex,j=Math.max(n,this.props.x),k=gb(gb({},Te(this.props,!1)),{},{x:j,y:f,width:v,height:h}),S=b||"Min value: ".concat((o=w[x])===null||o===void 0?void 0:o.name,", Max value: ").concat((l=w[y])===null||l===void 0?void 0:l.name);return G.createElement(Ke,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),u.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,k))}},{key:"renderSlide",value:function(n,i){var o=this.props,l=o.y,u=o.height,d=o.stroke,f=o.travellerWidth,v=Math.min(n,i)+f,h=Math.max(Math.abs(i-n)-f,0);return G.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:v,y:l,width:h,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,l=n.y,u=n.height,d=n.travellerWidth,f=n.stroke,v=this.state,h=v.startX,m=v.endX,b=5,w={pointerEvents:"none",fill:f};return G.createElement(Ke,{className:"recharts-brush-texts"},G.createElement(Co,mp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,m)-b,y:l+u/2},w),this.getTextOfTick(i)),G.createElement(Co,mp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,m)+d+b,y:l+u/2},w),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,l=n.children,u=n.x,d=n.y,f=n.width,v=n.height,h=n.alwaysShowText,m=this.state,b=m.startX,w=m.endX,x=m.isTextActive,y=m.isSlideMoving,j=m.isTravellerMoving,k=m.isTravellerFocused;if(!i||!i.length||!Se(u)||!Se(d)||!Se(f)||!Se(v)||f<=0||v<=0)return null;var S=He("recharts-brush",o),N=G.Children.count(l)===1,A=PZ("userSelect","none");return G.createElement(Ke,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(b,w),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(w,"endX"),(x||y||j||k||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,l=n.width,u=n.height,d=n.stroke,f=Math.floor(o+u/2)-1;return G.createElement(G.Fragment,null,G.createElement("rect",{x:i,y:o,width:l,height:u,fill:d,stroke:"none"}),G.createElement("line",{x1:i+1,y1:f,x2:i+l-1,y2:f,fill:"none",stroke:"#fff"}),G.createElement("line",{x1:i+1,y1:f+2,x2:i+l-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return G.isValidElement(n)?o=G.cloneElement(n,i):We(n)?o=n(i):o=t.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,l=n.width,u=n.x,d=n.travellerWidth,f=n.updateId,v=n.startIndex,h=n.endIndex;if(o!==i.prevData||f!==i.prevUpdateId)return gb({prevData:o,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l},o&&o.length?MZ({data:o,width:l,x:u,travellerWidth:d,startIndex:v,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||u!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([u,u+l-d]);var m=i.scale.domain().map(function(b){return i.scale(b)});return{prevData:o,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,l=0,u=o-1;u-l>1;){var d=Math.floor((l+u)/2);n[d]>i?u=d:l=d}return i>=n[u]?u:l}}])})(z.PureComponent);sn(Xs,"displayName","Brush");sn(Xs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var yb,p_;function LZ(){if(p_)return yb;p_=1;var e=h1();function t(r,n){var i;return e(r,function(o,l,u){return i=n(o,l,u),!i}),!!i}return yb=t,yb}var xb,h_;function BZ(){if(h_)return xb;h_=1;var e=sT(),t=va(),r=LZ(),n=Yr(),i=rh();function o(l,u,d){var f=n(l)?e:r;return d&&i(l,u,d)&&(u=void 0),f(l,t(u,3))}return xb=o,xb}var FZ=BZ();const WZ=pt(FZ);var ua=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},bb,v_;function $Z(){if(v_)return bb;v_=1;var e=CT();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return bb=t,bb}var Sb,m_;function UZ(){if(m_)return Sb;m_=1;var e=$Z(),t=jT(),r=va();function n(i,o){var l={};return o=r(o,3),t(i,function(u,d,f){e(l,d,o(u,d,f))}),l}return Sb=n,Sb}var HZ=UZ();const KZ=pt(HZ);var wb,g_;function GZ(){if(g_)return wb;g_=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!r(t[n],n,t))return!1;return!0}return wb=e,wb}var jb,y_;function VZ(){if(y_)return jb;y_=1;var e=h1();function t(r,n){var i=!0;return e(r,function(o,l,u){return i=!!n(o,l,u),i}),i}return jb=t,jb}var kb,x_;function qZ(){if(x_)return kb;x_=1;var e=GZ(),t=VZ(),r=va(),n=Yr(),i=rh();function o(l,u,d){var f=n(l)?e:t;return d&&i(l,u,d)&&(u=void 0),f(l,r(u,3))}return kb=o,kb}var ZZ=qZ();const dR=pt(ZZ);var XZ=["x","y"];function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function iS(){return iS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iS.apply(this,arguments)}function b_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(r),!0).forEach(function(n){YZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YZ(e,t,r){return t=QZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QZ(e){var t=JZ(e,"string");return xu(t)=="symbol"?t:t+""}function JZ(e,t){if(xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eX(e,t){if(e==null)return{};var r=tX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rX(e,t){var r=e.x,n=e.y,i=eX(e,XZ),o="".concat(r),l=parseInt(o,10),u="".concat(n),d=parseInt(u,10),f="".concat(t.height||i.height),v=parseInt(f,10),h="".concat(t.width||i.width),m=parseInt(h,10);return bc(bc(bc(bc(bc({},t),i),l?{x:l}:{}),d?{y:d}:{}),{},{height:v,width:m,name:t.name,radius:t.radius})}function S_(e){return G.createElement(pp,iS({shapeType:"rectangle",propTransformer:rX,activeClassName:"recharts-active-bar"},e))}var nX=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var o=Se(n)||wF(n);return o?t(n,i):(o||Ao(),r)}},aX=["value","background"],fR;function Ys(e){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ys(e)}function iX(e,t){if(e==null)return{};var r=oX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yp(){return yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yp.apply(this,arguments)}function w_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(r),!0).forEach(function(n){Ci(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hR(n.key),n)}}function lX(e,t,r){return t&&j_(e.prototype,t),r&&j_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cX(e,t,r){return t=xp(t),uX(e,pR()?Reflect.construct(t,r||[],xp(e).constructor):t.apply(e,r))}function uX(e,t){if(t&&(Ys(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dX(e)}function dX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pR=function(){return!!e})()}function xp(e){return xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xp(e)}function fX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oS(e,t)}function oS(e,t){return oS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oS(e,t)}function Ci(e,t,r){return t=hR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hR(e){var t=pX(e,"string");return Ys(t)=="symbol"?t:t+""}function pX(e,t){if(Ys(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ie=(function(e){function t(){var r;sX(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=cX(this,t,[].concat(i)),Ci(r,"state",{isAnimationFinished:!1}),Ci(r,"id",Bi("recharts-bar-")),Ci(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),Ci(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return fX(t,e),lX(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,l=o.shape,u=o.dataKey,d=o.activeIndex,f=o.activeBar,v=Te(this.props,!1);return n&&n.map(function(h,m){var b=m===d,w=b?f:l,x=tr(tr(tr({},v),h),{},{isActive:b,option:w,index:m,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return G.createElement(Ke,yp({className:"recharts-bar-rectangle"},Ei(i.props,h,m),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(m)}),G.createElement(S_,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,l=i.layout,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,v=i.animationEasing,h=i.animationId,m=this.state.prevData;return G.createElement(_n,{begin:d,duration:f,isActive:u,easing:v,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var w=b.t,x=o.map(function(y,j){var k=m&&m[j];if(k){var S=Wt(k.x,y.x),N=Wt(k.y,y.y),A=Wt(k.width,y.width),O=Wt(k.height,y.height);return tr(tr({},y),{},{x:S(w),y:N(w),width:A(w),height:O(w)})}if(l==="horizontal"){var _=Wt(0,y.height),E=_(w);return tr(tr({},y),{},{y:y.y+y.height-E,height:E})}var T=Wt(0,y.width),I=T(w);return tr(tr({},y),{},{width:I})});return G.createElement(Ke,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,l=this.state.prevData;return o&&i&&i.length&&(!l||!Ti(l,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,l=i.dataKey,u=i.activeIndex,d=Te(this.props.background,!1);return o.map(function(f,v){f.value;var h=f.background,m=iX(f,aX);if(!h)return null;var b=tr(tr(tr(tr(tr({},m),{},{fill:"#eee"},h),d),Ei(n.props,f,v)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:l,index:v,className:"recharts-bar-background-rectangle"});return G.createElement(S_,yp({key:"background-bar-".concat(v),option:n.props.background,isActive:v===u},b))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.data,u=o.xAxis,d=o.yAxis,f=o.layout,v=o.children,h=Fr(v,Sl);if(!h)return null;var m=f==="vertical"?l[0].height/2:l[0].width/2,b=function(y,j){var k=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:k,errorVal:Ot(y,j)}},w={clipPath:n?"url(#clipPath-".concat(i,")"):null};return G.createElement(Ke,w,h.map(function(x){return G.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,offset:m,dataPointFormatter:b})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,l=n.className,u=n.xAxis,d=n.yAxis,f=n.left,v=n.top,h=n.width,m=n.height,b=n.isAnimationActive,w=n.background,x=n.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,j=He("recharts-bar",l),k=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,N=k||S,A=Fe(x)?this.id:x;return G.createElement(Ke,{className:j},k||S?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(A)},G.createElement("rect",{x:k?f:f-h/2,y:S?v:v-m/2,width:k?h:h*2,height:S?m:m*2}))):null,G.createElement(Ke,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(A,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,A),(!b||y)&&Vn.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(z.PureComponent);fR=Ie;Ci(Ie,"displayName","Bar");Ci(Ie,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Qa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ci(Ie,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,o=e.xAxis,l=e.yAxis,u=e.xAxisTicks,d=e.yAxisTicks,f=e.stackedData,v=e.dataStartIndex,h=e.displayedData,m=e.offset,b=MG(n,r);if(!b)return null;var w=t.layout,x=r.type.defaultProps,y=x!==void 0?tr(tr({},x),r.props):r.props,j=y.dataKey,k=y.children,S=y.minPointSize,N=w==="horizontal"?l:o,A=f?N.scale.domain():null,O=HG({numericAxis:N}),_=Fr(k,gl),E=h.map(function(T,I){var R,L,M,q,H,Z;f?R=LG(f[v+I],A):(R=Ot(T,j),Array.isArray(R)||(R=[O,R]));var Y=nX(S,fR.defaultProps.minPointSize)(R[1],I);if(w==="horizontal"){var $,F=[l.scale(R[0]),l.scale(R[1])],Q=F[0],U=F[1];L=YN({axis:o,ticks:u,bandSize:i,offset:b.offset,entry:T,index:I}),M=($=U??Q)!==null&&$!==void 0?$:void 0,q=b.size;var B=Q-U;if(H=Number.isNaN(B)?0:B,Z={x:L,y:l.y,width:q,height:l.height},Math.abs(Y)>0&&Math.abs(H)<Math.abs(Y)){var te=Mr(H||Y)*(Math.abs(Y)-Math.abs(H));M-=te,H+=te}}else{var ce=[o.scale(R[0]),o.scale(R[1])],he=ce[0],ue=ce[1];if(L=he,M=YN({axis:l,ticks:d,bandSize:i,offset:b.offset,entry:T,index:I}),q=ue-he,H=b.size,Z={x:o.x,y:M,width:o.width,height:H},Math.abs(Y)>0&&Math.abs(q)<Math.abs(Y)){var ae=Mr(q||Y)*(Math.abs(Y)-Math.abs(q));q+=ae}}return tr(tr(tr({},T),{},{x:L,y:M,width:q,height:H,value:f?R:R[1],payload:T,background:Z},_&&_[I]&&_[I].props),{},{tooltipPayload:[WD(r,T)],tooltipPosition:{x:L+q/2,y:M+H/2}})});return tr({data:E,layout:w},m)});function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}function hX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vR(n.key),n)}}function vX(e,t,r){return t&&k_(e.prototype,t),r&&k_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function C_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(r),!0).forEach(function(n){xh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xh(e,t,r){return t=vR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vR(e){var t=mX(e,"string");return bu(t)=="symbol"?t:t+""}function mX(e,t){if(bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bh=function(t,r,n,i,o){var l=t.width,u=t.height,d=t.layout,f=t.children,v=Object.keys(r),h={left:n.left,leftMirror:n.left,right:l-n.right,rightMirror:l-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},m=!!ln(f,Ie);return v.reduce(function(b,w){var x=r[w],y=x.orientation,j=x.domain,k=x.padding,S=k===void 0?{}:k,N=x.mirror,A=x.reversed,O="".concat(y).concat(N?"Mirror":""),_,E,T,I,R;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var L=j[1]-j[0],M=1/0,q=x.categoricalDomain.sort(zF);if(q.forEach(function(ce,he){he>0&&(M=Math.min((ce||0)-(q[he-1]||0),M))}),Number.isFinite(M)){var H=M/L,Z=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(_=H*Z/2),x.padding==="no-gap"){var Y=Lr(t.barCategoryGap,H*Z),$=H*Z/2;_=$-Y-($-Y)/Z*Y}}}i==="xAxis"?E=[n.left+(S.left||0)+(_||0),n.left+n.width-(S.right||0)-(_||0)]:i==="yAxis"?E=d==="horizontal"?[n.top+n.height-(S.bottom||0),n.top+(S.top||0)]:[n.top+(S.top||0)+(_||0),n.top+n.height-(S.bottom||0)-(_||0)]:E=x.range,A&&(E=[E[1],E[0]]);var F=MD(x,o,m),Q=F.scale,U=F.realScaleType;Q.domain(j).range(E),LD(Q);var B=BD(Q,$n($n({},x),{},{realScaleType:U}));i==="xAxis"?(R=y==="top"&&!N||y==="bottom"&&N,T=n.left,I=h[O]-R*x.height):i==="yAxis"&&(R=y==="left"&&!N||y==="right"&&N,T=h[O]-R*x.width,I=n.top);var te=$n($n($n({},x),B),{},{realScaleType:U,x:T,y:I,scale:Q,width:i==="xAxis"?n.width:x.width,height:i==="yAxis"?n.height:x.height});return te.bandSize=tp(te,B),!x.hide&&i==="xAxis"?h[O]+=(R?-1:1)*te.height:x.hide||(h[O]+=(R?-1:1)*te.width),$n($n({},b),{},xh({},w,te))},{})},mR=function(t,r){var n=t.x,i=t.y,o=r.x,l=r.y;return{x:Math.min(n,o),y:Math.min(i,l),width:Math.abs(o-n),height:Math.abs(l-i)}},gX=function(t){var r=t.x1,n=t.y1,i=t.x2,o=t.y2;return mR({x:r,y:n},{x:i,y:o})},gR=(function(){function e(t){hX(this,e),this.scale=t}return vX(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])})();xh(gR,"EPS",1e-4);var U1=function(t){var r=Object.keys(t).reduce(function(n,i){return $n($n({},n),{},xh({},i,gR.create(t[i])))},{});return $n($n({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.bandAware,u=o.position;return KZ(i,function(d,f){return r[f].apply(d,{bandAware:l,position:u})})},isInRange:function(i){return dR(i,function(o,l){return r[l].isInRange(o)})}})};function yX(e){return(e%180+180)%180}var xX=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=yX(i),l=o*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},Cb,z_;function bX(){if(z_)return Cb;z_=1;var e=va(),t=Au(),r=eh();function n(i){return function(o,l,u){var d=Object(o);if(!t(o)){var f=e(l,3);o=r(o),l=function(h){return f(d[h],h,d)}}var v=i(o,l,u);return v>-1?d[f?o[v]:v]:void 0}}return Cb=n,Cb}var zb,A_;function SX(){if(A_)return zb;A_=1;var e=sR();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return zb=t,zb}var Ab,N_;function wX(){if(N_)return Ab;N_=1;var e=yT(),t=va(),r=SX(),n=Math.max;function i(o,l,u){var d=o==null?0:o.length;if(!d)return-1;var f=u==null?0:r(u);return f<0&&(f=n(d+f,0)),e(o,t(l,3),f)}return Ab=i,Ab}var Nb,P_;function jX(){if(P_)return Nb;P_=1;var e=bX(),t=wX(),r=e(t);return Nb=r,Nb}var kX=jX();const CX=pt(kX);var zX=TE();const AX=pt(zX);var NX=AX(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),H1=z.createContext(void 0),K1=z.createContext(void 0),yR=z.createContext(void 0),xR=z.createContext({}),bR=z.createContext(void 0),SR=z.createContext(0),wR=z.createContext(0),__=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,l=t.clipPathId,u=t.children,d=t.width,f=t.height,v=NX(o);return G.createElement(H1.Provider,{value:n},G.createElement(K1.Provider,{value:i},G.createElement(xR.Provider,{value:o},G.createElement(yR.Provider,{value:v},G.createElement(bR.Provider,{value:l},G.createElement(SR.Provider,{value:f},G.createElement(wR.Provider,{value:d},u)))))))},PX=function(){return z.useContext(bR)},jR=function(t){var r=z.useContext(H1);r==null&&Ao();var n=r[t];return n==null&&Ao(),n},_X=function(){var t=z.useContext(H1);return ji(t)},OX=function(){var t=z.useContext(K1),r=CX(t,function(n){return dR(n.domain,Number.isFinite)});return r||ji(t)},kR=function(t){var r=z.useContext(K1);r==null&&Ao();var n=r[t];return n==null&&Ao(),n},EX=function(){var t=z.useContext(yR);return t},TX=function(){return z.useContext(xR)},G1=function(){return z.useContext(wR)},V1=function(){return z.useContext(SR)};function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}function DX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zR(n.key),n)}}function IX(e,t,r){return t&&RX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MX(e,t,r){return t=bp(t),LX(e,CR()?Reflect.construct(t,r||[],bp(e).constructor):t.apply(e,r))}function LX(e,t){if(t&&(Qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BX(e)}function BX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CR=function(){return!!e})()}function bp(e){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bp(e)}function FX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sS(e,t)}function sS(e,t){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sS(e,t)}function O_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function E_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(r),!0).forEach(function(n){q1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q1(e,t,r){return t=zR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zR(e){var t=WX(e,"string");return Qs(t)=="symbol"?t:t+""}function WX(e,t){if(Qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function $X(e,t){return GX(e)||KX(e,t)||HX(e,t)||UX()}function UX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HX(e,t){if(e){if(typeof e=="string")return T_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T_(e,t)}}function T_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function GX(e){if(Array.isArray(e))return e}function lS(){return lS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lS.apply(this,arguments)}var VX=function(t,r){var n;return G.isValidElement(t)?n=G.cloneElement(t,r):We(t)?n=t(r):n=G.createElement("line",lS({},r,{className:"recharts-reference-line-line"})),n},qX=function(t,r,n,i,o,l,u,d,f){var v=o.x,h=o.y,m=o.width,b=o.height;if(n){var w=f.y,x=t.y.apply(w,{position:l});if(ua(f,"discard")&&!t.y.isInRange(x))return null;var y=[{x:v+m,y:x},{x:v,y:x}];return d==="left"?y.reverse():y}if(r){var j=f.x,k=t.x.apply(j,{position:l});if(ua(f,"discard")&&!t.x.isInRange(k))return null;var S=[{x:k,y:h+b},{x:k,y:h}];return u==="top"?S.reverse():S}if(i){var N=f.segment,A=N.map(function(O){return t.apply(O,{position:l})});return ua(f,"discard")&&WZ(A,function(O){return!t.isInRange(O)})?null:A}return null};function ZX(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,o=e.yAxisId,l=e.shape,u=e.className,d=e.alwaysShow,f=PX(),v=jR(i),h=kR(o),m=EX();if(!f||!m)return null;Gn(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=U1({x:v.scale,y:h.scale}),w=cr(t),x=cr(r),y=n&&n.length===2,j=qX(b,w,x,y,m,e.position,v.orientation,h.orientation,e);if(!j)return null;var k=$X(j,2),S=k[0],N=S.x,A=S.y,O=k[1],_=O.x,E=O.y,T=ua(e,"hidden")?"url(#".concat(f,")"):void 0,I=E_(E_({clipPath:T},Te(e,!0)),{},{x1:N,y1:A,x2:_,y2:E});return G.createElement(Ke,{className:He("recharts-reference-line",u)},VX(l,I),vr.renderCallByParent(e,gX({x1:N,y1:A,x2:_,y2:E})))}var Sh=(function(e){function t(){return DX(this,t),MX(this,t,arguments)}return FX(t,e),IX(t,[{key:"render",value:function(){return G.createElement(ZX,this.props)}}])})(G.Component);q1(Sh,"displayName","ReferenceLine");q1(Sh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function cS(){return cS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cS.apply(this,arguments)}function Js(e){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(e)}function D_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function R_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D_(Object(r),!0).forEach(function(n){wh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NR(n.key),n)}}function QX(e,t,r){return t&&YX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JX(e,t,r){return t=Sp(t),eY(e,AR()?Reflect.construct(t,r||[],Sp(e).constructor):t.apply(e,r))}function eY(e,t){if(t&&(Js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tY(e)}function tY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AR=function(){return!!e})()}function Sp(e){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sp(e)}function rY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uS(e,t)}function uS(e,t){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uS(e,t)}function wh(e,t,r){return t=NR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NR(e){var t=nY(e,"string");return Js(t)=="symbol"?t:t+""}function nY(e,t){if(Js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aY=function(t){var r=t.x,n=t.y,i=t.xAxis,o=t.yAxis,l=U1({x:i.scale,y:o.scale}),u=l.apply({x:r,y:n},{bandAware:!0});return ua(t,"discard")&&!l.isInRange(u)?null:u},jh=(function(e){function t(){return XX(this,t),JX(this,t,arguments)}return rY(t,e),QX(t,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,l=n.r,u=n.alwaysShow,d=n.clipPathId,f=cr(i),v=cr(o);if(Gn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!v)return null;var h=aY(this.props);if(!h)return null;var m=h.x,b=h.y,w=this.props,x=w.shape,y=w.className,j=ua(this.props,"hidden")?"url(#".concat(d,")"):void 0,k=R_(R_({clipPath:j},Te(this.props,!0)),{},{cx:m,cy:b});return G.createElement(Ke,{className:He("recharts-reference-dot",y)},t.renderDot(x,k),vr.renderCallByParent(this.props,{x:m-l,y:b-l,width:2*l,height:2*l}))}}])})(G.Component);wh(jh,"displayName","ReferenceDot");wh(jh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});wh(jh,"renderDot",function(e,t){var r;return G.isValidElement(e)?r=G.cloneElement(e,t):We(e)?r=e(t):r=G.createElement(Tu,cS({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function dS(){return dS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dS.apply(this,arguments)}function el(e){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},el(e)}function I_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function M_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(r),!0).forEach(function(n){kh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_R(n.key),n)}}function sY(e,t,r){return t&&oY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lY(e,t,r){return t=wp(t),cY(e,PR()?Reflect.construct(t,r||[],wp(e).constructor):t.apply(e,r))}function cY(e,t){if(t&&(el(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uY(e)}function uY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PR=function(){return!!e})()}function wp(e){return wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wp(e)}function dY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fS(e,t)}function fS(e,t){return fS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fS(e,t)}function kh(e,t,r){return t=_R(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _R(e){var t=fY(e,"string");return el(t)=="symbol"?t:t+""}function fY(e,t){if(el(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(el(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pY=function(t,r,n,i,o){var l=o.x1,u=o.x2,d=o.y1,f=o.y2,v=o.xAxis,h=o.yAxis;if(!v||!h)return null;var m=U1({x:v.scale,y:h.scale}),b={x:t?m.x.apply(l,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(d,{position:"start"}):m.y.rangeMin},w={x:r?m.x.apply(u,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(f,{position:"end"}):m.y.rangeMax};return ua(o,"discard")&&(!m.isInRange(b)||!m.isInRange(w))?null:mR(b,w)},Ch=(function(e){function t(){return iY(this,t),lY(this,t,arguments)}return dY(t,e),sY(t,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,l=n.y1,u=n.y2,d=n.className,f=n.alwaysShow,v=n.clipPathId;Gn(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=cr(i),m=cr(o),b=cr(l),w=cr(u),x=this.props.shape;if(!h&&!m&&!b&&!w&&!x)return null;var y=pY(h,m,b,w,this.props);if(!y&&!x)return null;var j=ua(this.props,"hidden")?"url(#".concat(v,")"):void 0;return G.createElement(Ke,{className:He("recharts-reference-area",d)},t.renderRect(x,M_(M_({clipPath:j},Te(this.props,!0)),y)),vr.renderCallByParent(this.props,y))}}])})(G.Component);kh(Ch,"displayName","ReferenceArea");kh(Ch,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});kh(Ch,"renderRect",function(e,t){var r;return G.isValidElement(e)?r=G.cloneElement(e,t):We(e)?r=e(t):r=G.createElement($1,dS({},t,{className:"recharts-reference-area-rect"})),r});function OR(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function hY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return xX(n,r)}function vY(e,t,r){var n=r==="width",i=e.x,o=e.y,l=e.width,u=e.height;return t===1?{start:n?i:o,end:n?i+l:o+u}:{start:n?i+l:o+u,end:n?i:o}}function jp(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-i)<=0}function mY(e,t){return OR(e,t+1)}function gY(e,t,r,n,i){for(var o=(n||[]).slice(),l=t.start,u=t.end,d=0,f=1,v=l,h=function(){var w=n?.[d];if(w===void 0)return{v:OR(n,f)};var x=d,y,j=function(){return y===void 0&&(y=r(w,x)),y},k=w.coordinate,S=d===0||jp(e,k,j,v,u);S||(d=0,v=l,f+=1),S&&(v=k+e*(j()/2+i),d+=f)},m;f<=o.length;)if(m=h(),m)return m.v;return[]}function Su(e){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}function L_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L_(Object(r),!0).forEach(function(n){yY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yY(e,t,r){return t=xY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xY(e){var t=bY(e,"string");return Su(t)=="symbol"?t:t+""}function bY(e,t){if(Su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SY(e,t,r,n,i){for(var o=(n||[]).slice(),l=o.length,u=t.start,d=t.end,f=function(m){var b=o[m],w,x=function(){return w===void 0&&(w=r(b,m)),w};if(m===l-1){var y=e*(b.coordinate+e*x()/2-d);o[m]=b=zr(zr({},b),{},{tickCoord:y>0?b.coordinate-y*e:b.coordinate})}else o[m]=b=zr(zr({},b),{},{tickCoord:b.coordinate});var j=jp(e,b.tickCoord,x,u,d);j&&(d=b.tickCoord-e*(x()/2+i),o[m]=zr(zr({},b),{},{isShow:!0}))},v=l-1;v>=0;v--)f(v);return o}function wY(e,t,r,n,i,o){var l=(n||[]).slice(),u=l.length,d=t.start,f=t.end;if(o){var v=n[u-1],h=r(v,u-1),m=e*(v.coordinate+e*h/2-f);l[u-1]=v=zr(zr({},v),{},{tickCoord:m>0?v.coordinate-m*e:v.coordinate});var b=jp(e,v.tickCoord,function(){return h},d,f);b&&(f=v.tickCoord-e*(h/2+i),l[u-1]=zr(zr({},v),{},{isShow:!0}))}for(var w=o?u-1:u,x=function(k){var S=l[k],N,A=function(){return N===void 0&&(N=r(S,k)),N};if(k===0){var O=e*(S.coordinate-e*A()/2-d);l[k]=S=zr(zr({},S),{},{tickCoord:O<0?S.coordinate-O*e:S.coordinate})}else l[k]=S=zr(zr({},S),{},{tickCoord:S.coordinate});var _=jp(e,S.tickCoord,A,d,f);_&&(d=S.tickCoord+e*(A()/2+i),l[k]=zr(zr({},S),{},{isShow:!0}))},y=0;y<w;y++)x(y);return l}function Z1(e,t,r){var n=e.tick,i=e.ticks,o=e.viewBox,l=e.minTickGap,u=e.orientation,d=e.interval,f=e.tickFormatter,v=e.unit,h=e.angle;if(!i||!i.length||!n)return[];if(Se(d)||Qa.isSsr)return mY(i,typeof d=="number"&&Se(d)?d:0);var m=[],b=u==="top"||u==="bottom"?"width":"height",w=v&&b==="width"?Tc(v,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(S,N){var A=We(f)?f(S.value,N):S.value;return b==="width"?hY(Tc(A,{fontSize:t,letterSpacing:r}),w,h):Tc(A,{fontSize:t,letterSpacing:r})[b]},y=i.length>=2?Mr(i[1].coordinate-i[0].coordinate):1,j=vY(o,y,b);return d==="equidistantPreserveStart"?gY(y,j,x,i,l):(d==="preserveStart"||d==="preserveStartEnd"?m=wY(y,j,x,i,l,d==="preserveStartEnd"):m=SY(y,j,x,i,l),m.filter(function(k){return k.isShow}))}var jY=["viewBox"],kY=["viewBox"],CY=["ticks"];function tl(e){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(e)}function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zs.apply(this,arguments)}function B_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B_(Object(r),!0).forEach(function(n){X1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pb(e,t){if(e==null)return{};var r=zY(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function AY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TR(n.key),n)}}function NY(e,t,r){return t&&F_(e.prototype,t),r&&F_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function PY(e,t,r){return t=kp(t),_Y(e,ER()?Reflect.construct(t,r||[],kp(e).constructor):t.apply(e,r))}function _Y(e,t){if(t&&(tl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OY(e)}function OY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ER(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ER=function(){return!!e})()}function kp(e){return kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kp(e)}function EY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pS(e,t)}function pS(e,t){return pS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pS(e,t)}function X1(e,t,r){return t=TR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TR(e){var t=TY(e,"string");return tl(t)=="symbol"?t:t+""}function TY(e,t){if(tl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wl=(function(e){function t(r){var n;return AY(this,t),n=PY(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return EY(t,e),NY(t,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,l=Pb(n,jY),u=this.props,d=u.viewBox,f=Pb(u,kY);return!Ns(o,d)||!Ns(l,f)||!Ns(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,l=i.y,u=i.width,d=i.height,f=i.orientation,v=i.tickSize,h=i.mirror,m=i.tickMargin,b,w,x,y,j,k,S=h?-1:1,N=n.tickSize||v,A=Se(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":b=w=n.coordinate,y=l+ +!h*d,x=y-S*N,k=x-S*m,j=A;break;case"left":x=y=n.coordinate,w=o+ +!h*u,b=w-S*N,j=b-S*m,k=A;break;case"right":x=y=n.coordinate,w=o+ +h*u,b=w+S*N,j=b+S*m,k=A;break;default:b=w=n.coordinate,y=l+ +h*d,x=y+S*N,k=x+S*m,j=A;break}return{line:{x1:b,y1:x,x2:w,y2:y},tick:{x:j,y:k}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,l;switch(i){case"left":l=o?"start":"end";break;case"right":l=o?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,l="end";switch(i){case"left":case"right":l="middle";break;case"top":l=o?"start":"end";break;default:l=o?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,l=n.width,u=n.height,d=n.orientation,f=n.mirror,v=n.axisLine,h=or(or(or({},Te(this.props,!1)),Te(v,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var m=+(d==="top"&&!f||d==="bottom"&&f);h=or(or({},h),{},{x1:i,y1:o+m*u,x2:i+l,y2:o+m*u})}else{var b=+(d==="left"&&!f||d==="right"&&f);h=or(or({},h),{},{x1:i+b*l,y1:o,x2:i+b*l,y2:o+u})}return G.createElement("line",zs({},h,{className:He("recharts-cartesian-axis-line",pn(v,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var l=this,u=this.props,d=u.tickLine,f=u.stroke,v=u.tick,h=u.tickFormatter,m=u.unit,b=Z1(or(or({},this.props),{},{ticks:n}),i,o),w=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),y=Te(this.props,!1),j=Te(v,!1),k=or(or({},y),{},{fill:"none"},Te(d,!1)),S=b.map(function(N,A){var O=l.getTickLineCoord(N),_=O.line,E=O.tick,T=or(or(or(or({textAnchor:w,verticalAnchor:x},y),{},{stroke:"none",fill:f},j),E),{},{index:A,payload:N,visibleTicksCount:b.length,tickFormatter:h});return G.createElement(Ke,zs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Ei(l.props,N,A)),d&&G.createElement("line",zs({},k,_,{className:He("recharts-cartesian-axis-tick-line",pn(d,"className"))})),v&&t.renderTickItem(v,T,"".concat(We(h)?h(N.value,A):N.value).concat(m||"")))});return G.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,l=i.width,u=i.height,d=i.ticksGenerator,f=i.className,v=i.hide;if(v)return null;var h=this.props,m=h.ticks,b=Pb(h,CY),w=m;return We(d)&&(w=m&&m.length>0?d(this.props):d(b)),l<=0||u<=0||!w||!w.length?null:G.createElement(Ke,{className:He("recharts-cartesian-axis",f),ref:function(y){n.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),vr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var l,u=He(i.className,"recharts-cartesian-axis-tick-value");return G.isValidElement(n)?l=G.cloneElement(n,or(or({},i),{},{className:u})):We(n)?l=n(or(or({},i),{},{className:u})):l=G.createElement(Co,zs({},i,{className:"recharts-cartesian-axis-tick-value"}),o),l}}])})(z.Component);X1(wl,"displayName","CartesianAxis");X1(wl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var DY=["x1","y1","x2","y2","key"],RY=["offset"];function No(e){"@babel/helpers - typeof";return No=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},No(e)}function W_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(r),!0).forEach(function(n){IY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IY(e,t,r){return t=MY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MY(e){var t=LY(e,"string");return No(t)=="symbol"?t:t+""}function LY(e,t){if(No(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(No(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xo.apply(this,arguments)}function $_(e,t){if(e==null)return{};var r=BY(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var FY=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,o=t.y,l=t.width,u=t.height,d=t.ry;return G.createElement("rect",{x:i,y:o,ry:d,width:l,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function DR(e,t){var r;if(G.isValidElement(e))r=G.cloneElement(e,t);else if(We(e))r=e(t);else{var n=t.x1,i=t.y1,o=t.x2,l=t.y2,u=t.key,d=$_(t,DY),f=Te(d,!1);f.offset;var v=$_(f,RY);r=G.createElement("line",xo({},v,{x1:n,y1:i,x2:o,y2:l,fill:"none",key:u}))}return r}function WY(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var l=o.map(function(u,d){var f=Ar(Ar({},e),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return DR(i,f)});return G.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function $Y(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,o=e.verticalPoints;if(!i||!o||!o.length)return null;var l=o.map(function(u,d){var f=Ar(Ar({},e),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return DR(i,f)});return G.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function UY(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,o=e.width,l=e.height,u=e.horizontalPoints,d=e.horizontal,f=d===void 0?!0:d;if(!f||!t||!t.length)return null;var v=u.map(function(m){return Math.round(m+i-i)}).sort(function(m,b){return m-b});i!==v[0]&&v.unshift(0);var h=v.map(function(m,b){var w=!v[b+1],x=w?i+l-m:v[b+1]-m;if(x<=0)return null;var y=b%t.length;return G.createElement("rect",{key:"react-".concat(b),y:m,x:n,height:x,width:o,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function HY(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,o=e.x,l=e.y,u=e.width,d=e.height,f=e.verticalPoints;if(!r||!n||!n.length)return null;var v=f.map(function(m){return Math.round(m+o-o)}).sort(function(m,b){return m-b});o!==v[0]&&v.unshift(0);var h=v.map(function(m,b){var w=!v[b+1],x=w?o+u-m:v[b+1]-m;if(x<=0)return null;var y=b%n.length;return G.createElement("rect",{key:"react-".concat(b),x:m,y:l,width:x,height:d,stroke:"none",fill:n[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var KY=function(t,r){var n=t.xAxis,i=t.width,o=t.height,l=t.offset;return ID(Z1(Ar(Ar(Ar({},wl.defaultProps),n),{},{ticks:Ba(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),l.left,l.left+l.width,r)},GY=function(t,r){var n=t.yAxis,i=t.width,o=t.height,l=t.offset;return ID(Z1(Ar(Ar(Ar({},wl.defaultProps),n),{},{ticks:Ba(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),l.top,l.top+l.height,r)},ds={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Kn(e){var t,r,n,i,o,l,u=G1(),d=V1(),f=TX(),v=Ar(Ar({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ds.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ds.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ds.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:ds.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:ds.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:ds.verticalFill,x:Se(e.x)?e.x:f.left,y:Se(e.y)?e.y:f.top,width:Se(e.width)?e.width:f.width,height:Se(e.height)?e.height:f.height}),h=v.x,m=v.y,b=v.width,w=v.height,x=v.syncWithTicks,y=v.horizontalValues,j=v.verticalValues,k=_X(),S=OX();if(!Se(b)||b<=0||!Se(w)||w<=0||!Se(h)||h!==+h||!Se(m)||m!==+m)return null;var N=v.verticalCoordinatesGenerator||KY,A=v.horizontalCoordinatesGenerator||GY,O=v.horizontalPoints,_=v.verticalPoints;if((!O||!O.length)&&We(A)){var E=y&&y.length,T=A({yAxis:S?Ar(Ar({},S),{},{ticks:E?y:S.ticks}):void 0,width:u,height:d,offset:f},E?!0:x);Gn(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(No(T),"]")),Array.isArray(T)&&(O=T)}if((!_||!_.length)&&We(N)){var I=j&&j.length,R=N({xAxis:k?Ar(Ar({},k),{},{ticks:I?j:k.ticks}):void 0,width:u,height:d,offset:f},I?!0:x);Gn(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(No(R),"]")),Array.isArray(R)&&(_=R)}return G.createElement("g",{className:"recharts-cartesian-grid"},G.createElement(FY,{fill:v.fill,fillOpacity:v.fillOpacity,x:v.x,y:v.y,width:v.width,height:v.height,ry:v.ry}),G.createElement(WY,xo({},v,{offset:f,horizontalPoints:O,xAxis:k,yAxis:S})),G.createElement($Y,xo({},v,{offset:f,verticalPoints:_,xAxis:k,yAxis:S})),G.createElement(UY,xo({},v,{horizontalPoints:O})),G.createElement(HY,xo({},v,{verticalPoints:_})))}Kn.displayName="CartesianGrid";var VY=["type","layout","connectNulls","ref"],qY=["key"];function rl(e){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(e)}function U_(e,t){if(e==null)return{};var r=ZY(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bc.apply(this,arguments)}function H_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H_(Object(r),!0).forEach(function(n){Un(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fs(e){return JY(e)||QY(e)||YY(e)||XY()}function XY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YY(e,t){if(e){if(typeof e=="string")return hS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hS(e,t)}}function QY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JY(e){if(Array.isArray(e))return hS(e)}function hS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IR(n.key),n)}}function tQ(e,t,r){return t&&K_(e.prototype,t),r&&K_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rQ(e,t,r){return t=Cp(t),nQ(e,RR()?Reflect.construct(t,r||[],Cp(e).constructor):t.apply(e,r))}function nQ(e,t){if(t&&(rl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aQ(e)}function aQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RR=function(){return!!e})()}function Cp(e){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cp(e)}function iQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vS(e,t)}function vS(e,t){return vS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vS(e,t)}function Un(e,t,r){return t=IR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IR(e){var t=oQ(e,"string");return rl(t)=="symbol"?t:t+""}function oQ(e,t){if(rl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qr=(function(e){function t(){var r;eQ(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=rQ(this,t,[].concat(i)),Un(r,"state",{isAnimationFinished:!0,totalLength:0}),Un(r,"generateSimpleStrokeDasharray",function(l,u){return"".concat(u,"px ").concat(l-u,"px")}),Un(r,"getStrokeDasharray",function(l,u,d){var f=d.reduce(function(j,k){return j+k});if(!f)return r.generateSimpleStrokeDasharray(u,l);for(var v=Math.floor(l/f),h=l%f,m=u-l,b=[],w=0,x=0;w<d.length;x+=d[w],++w)if(x+d[w]>h){b=[].concat(fs(d.slice(0,w)),[h-x]);break}var y=b.length%2===0?[0,m]:[m];return[].concat(fs(t.repeat(d,v)),fs(b),y).map(function(j){return"".concat(j,"px")}).join(", ")}),Un(r,"id",Bi("recharts-line-")),Un(r,"pathRef",function(l){r.mainCurve=l}),Un(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Un(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return iQ(t,e),tQ(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.points,u=o.xAxis,d=o.yAxis,f=o.layout,v=o.children,h=Fr(v,Sl);if(!h)return null;var m=function(x,y){return{x:x.x,y:x.y,value:x.value,errorVal:Ot(x.payload,y)}},b={clipPath:n?"url(#clipPath-".concat(i,")"):null};return G.createElement(Ke,b,h.map(function(w){return G.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,dataPointFormatter:m})}))}},{key:"renderDots",value:function(n,i,o){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,f=u.points,v=u.dataKey,h=Te(this.props,!1),m=Te(d,!0),b=f.map(function(x,y){var j=on(on(on({key:"dot-".concat(y),r:3},h),m),{},{index:y,cx:x.x,cy:x.y,value:x.value,dataKey:v,payload:x.payload,points:f});return t.renderDotItem(d,j)}),w={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return G.createElement(Ke,Bc({className:"recharts-line-dots",key:"dots"},w),b)}},{key:"renderCurveStatically",value:function(n,i,o,l){var u=this.props,d=u.type,f=u.layout,v=u.connectNulls;u.ref;var h=U_(u,VY),m=on(on(on({},Te(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:n},l),{},{type:d,layout:f,connectNulls:v});return G.createElement(Pi,Bc({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var o=this,l=this.props,u=l.points,d=l.strokeDasharray,f=l.isAnimationActive,v=l.animationBegin,h=l.animationDuration,m=l.animationEasing,b=l.animationId,w=l.animateNewValues,x=l.width,y=l.height,j=this.state,k=j.prevPoints,S=j.totalLength;return G.createElement(_n,{begin:v,duration:h,isActive:f,easing:m,from:{t:0},to:{t:1},key:"line-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var A=N.t;if(k){var O=k.length/u.length,_=u.map(function(L,M){var q=Math.floor(M*O);if(k[q]){var H=k[q],Z=Wt(H.x,L.x),Y=Wt(H.y,L.y);return on(on({},L),{},{x:Z(A),y:Y(A)})}if(w){var $=Wt(x*2,L.x),F=Wt(y/2,L.y);return on(on({},L),{},{x:$(A),y:F(A)})}return on(on({},L),{},{x:L.x,y:L.y})});return o.renderCurveStatically(_,n,i)}var E=Wt(0,S),T=E(A),I;if(d){var R="".concat(d).split(/[,\s]+/gim).map(function(L){return parseFloat(L)});I=o.getStrokeDasharray(T,S,R)}else I=o.generateSimpleStrokeDasharray(S,T);return o.renderCurveStatically(u,n,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(n,i){var o=this.props,l=o.points,u=o.isAnimationActive,d=this.state,f=d.prevPoints,v=d.totalLength;return u&&l&&l.length&&(!f&&v>0||!Ti(f,l))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(l,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,l=i.dot,u=i.points,d=i.className,f=i.xAxis,v=i.yAxis,h=i.top,m=i.left,b=i.width,w=i.height,x=i.isAnimationActive,y=i.id;if(o||!u||!u.length)return null;var j=this.state.isAnimationFinished,k=u.length===1,S=He("recharts-line",d),N=f&&f.allowDataOverflow,A=v&&v.allowDataOverflow,O=N||A,_=Fe(y)?this.id:y,E=(n=Te(l,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=E.r,I=T===void 0?3:T,R=E.strokeWidth,L=R===void 0?2:R,M=LE(l)?l:{},q=M.clipDot,H=q===void 0?!0:q,Z=I*2+L;return G.createElement(Ke,{className:S},N||A?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(_)},G.createElement("rect",{x:N?m:m-b/2,y:A?h:h-w/2,width:N?b:b*2,height:A?w:w*2})),!H&&G.createElement("clipPath",{id:"clipPath-dots-".concat(_)},G.createElement("rect",{x:m-Z/2,y:h-Z/2,width:b+Z,height:w+Z}))):null,!k&&this.renderCurve(O,_),this.renderErrorBar(O,_),(k||l)&&this.renderDots(O,H,_),(!x||j)&&Vn.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var o=n.length%2!==0?[].concat(fs(n),[0]):n,l=[],u=0;u<i;++u)l=[].concat(fs(l),fs(o));return l}},{key:"renderDotItem",value:function(n,i){var o;if(G.isValidElement(n))o=G.cloneElement(n,i);else if(We(n))o=n(i);else{var l=i.key,u=U_(i,qY),d=He("recharts-line-dot",typeof n!="boolean"?n.className:"");o=G.createElement(Tu,Bc({key:l},u,{className:d}))}return o}}])})(z.PureComponent);Un(qr,"displayName","Line");Un(qr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Qa.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Un(qr,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.dataKey,u=e.bandSize,d=e.displayedData,f=e.offset,v=t.layout,h=d.map(function(m,b){var w=Ot(m,l);return v==="horizontal"?{x:Hs({axis:r,ticks:i,bandSize:u,entry:m,index:b}),y:Fe(w)?null:n.scale(w),value:w,payload:m}:{x:Fe(w)?null:r.scale(w),y:Hs({axis:n,ticks:o,bandSize:u,entry:m,index:b}),value:w,payload:m}});return on({points:h,layout:v},f)});var sQ=["layout","type","stroke","connectNulls","isRange","ref"],lQ=["key"],MR;function nl(e){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}function LR(e,t){if(e==null)return{};var r=cQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bo(){return bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bo.apply(this,arguments)}function G_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(r),!0).forEach(function(n){sa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FR(n.key),n)}}function dQ(e,t,r){return t&&V_(e.prototype,t),r&&V_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fQ(e,t,r){return t=zp(t),pQ(e,BR()?Reflect.construct(t,r||[],zp(e).constructor):t.apply(e,r))}function pQ(e,t){if(t&&(nl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hQ(e)}function hQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BR=function(){return!!e})()}function zp(e){return zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zp(e)}function vQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mS(e,t)}function mS(e,t){return mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mS(e,t)}function sa(e,t,r){return t=FR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FR(e){var t=mQ(e,"string");return nl(t)=="symbol"?t:t+""}function mQ(e,t){if(nl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ga=(function(e){function t(){var r;uQ(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=fQ(this,t,[].concat(i)),sa(r,"state",{isAnimationFinished:!0}),sa(r,"id",Bi("recharts-area-")),sa(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),We(l)&&l()}),sa(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),We(l)&&l()}),r}return vQ(t,e),dQ(t,[{key:"renderDots",value:function(n,i,o){var l=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(l&&!u)return null;var d=this.props,f=d.dot,v=d.points,h=d.dataKey,m=Te(this.props,!1),b=Te(f,!0),w=v.map(function(y,j){var k=bi(bi(bi({key:"dot-".concat(j),r:3},m),b),{},{index:j,cx:y.x,cy:y.y,dataKey:h,value:y.value,payload:y.payload,points:v});return t.renderDotItem(f,k)}),x={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return G.createElement(Ke,bo({className:"recharts-area-dots"},x),w)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,o=i.baseLine,l=i.points,u=i.strokeWidth,d=l[0].x,f=l[l.length-1].x,v=n*Math.abs(d-f),h=ki(l.map(function(m){return m.y||0}));return Se(o)&&typeof o=="number"?h=Math.max(o,h):o&&Array.isArray(o)&&o.length&&(h=Math.max(ki(o.map(function(m){return m.y||0})),h)),Se(h)?G.createElement("rect",{x:d<f?d:d-v,y:0,width:v,height:Math.floor(h+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,o=i.baseLine,l=i.points,u=i.strokeWidth,d=l[0].y,f=l[l.length-1].y,v=n*Math.abs(d-f),h=ki(l.map(function(m){return m.x||0}));return Se(o)&&typeof o=="number"?h=Math.max(o,h):o&&Array.isArray(o)&&o.length&&(h=Math.max(ki(o.map(function(m){return m.x||0})),h)),Se(h)?G.createElement("rect",{x:0,y:d<f?d:d-v,width:h+(u?parseInt("".concat(u),10):1),height:Math.floor(v)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,o,l){var u=this.props,d=u.layout,f=u.type,v=u.stroke,h=u.connectNulls,m=u.isRange;u.ref;var b=LR(u,sQ);return G.createElement(Ke,{clipPath:o?"url(#clipPath-".concat(l,")"):null},G.createElement(Pi,bo({},Te(b,!0),{points:n,connectNulls:h,type:f,baseLine:i,layout:d,stroke:"none",className:"recharts-area-area"})),v!=="none"&&G.createElement(Pi,bo({},Te(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:h,fill:"none",points:n})),v!=="none"&&m&&G.createElement(Pi,bo({},Te(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:h,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var o=this,l=this.props,u=l.points,d=l.baseLine,f=l.isAnimationActive,v=l.animationBegin,h=l.animationDuration,m=l.animationEasing,b=l.animationId,w=this.state,x=w.prevPoints,y=w.prevBaseLine;return G.createElement(_n,{begin:v,duration:h,isActive:f,easing:m,from:{t:0},to:{t:1},key:"area-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var k=j.t;if(x){var S=x.length/u.length,N=u.map(function(E,T){var I=Math.floor(T*S);if(x[I]){var R=x[I],L=Wt(R.x,E.x),M=Wt(R.y,E.y);return bi(bi({},E),{},{x:L(k),y:M(k)})}return E}),A;if(Se(d)&&typeof d=="number"){var O=Wt(y,d);A=O(k)}else if(Fe(d)||vl(d)){var _=Wt(y,0);A=_(k)}else A=d.map(function(E,T){var I=Math.floor(T*S);if(y[I]){var R=y[I],L=Wt(R.x,E.x),M=Wt(R.y,E.y);return bi(bi({},E),{},{x:L(k),y:M(k)})}return E});return o.renderAreaStatically(N,A,n,i)}return G.createElement(Ke,null,G.createElement("defs",null,G.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(k))),G.createElement(Ke,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(u,d,n,i)))})}},{key:"renderArea",value:function(n,i){var o=this.props,l=o.points,u=o.baseLine,d=o.isAnimationActive,f=this.state,v=f.prevPoints,h=f.prevBaseLine,m=f.totalLength;return d&&l&&l.length&&(!v&&m>0||!Ti(v,l)||!Ti(h,u))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(l,u,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,l=i.dot,u=i.points,d=i.className,f=i.top,v=i.left,h=i.xAxis,m=i.yAxis,b=i.width,w=i.height,x=i.isAnimationActive,y=i.id;if(o||!u||!u.length)return null;var j=this.state.isAnimationFinished,k=u.length===1,S=He("recharts-area",d),N=h&&h.allowDataOverflow,A=m&&m.allowDataOverflow,O=N||A,_=Fe(y)?this.id:y,E=(n=Te(l,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=E.r,I=T===void 0?3:T,R=E.strokeWidth,L=R===void 0?2:R,M=LE(l)?l:{},q=M.clipDot,H=q===void 0?!0:q,Z=I*2+L;return G.createElement(Ke,{className:S},N||A?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(_)},G.createElement("rect",{x:N?v:v-b/2,y:A?f:f-w/2,width:N?b:b*2,height:A?w:w*2})),!H&&G.createElement("clipPath",{id:"clipPath-dots-".concat(_)},G.createElement("rect",{x:v-Z/2,y:f-Z/2,width:b+Z,height:w+Z}))):null,k?null:this.renderArea(O,_),(l||k)&&this.renderDots(O,H,_),(!x||j)&&Vn.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(z.PureComponent);MR=Ga;sa(Ga,"displayName","Area");sa(Ga,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Qa.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});sa(Ga,"getBaseValue",function(e,t,r,n){var i=e.layout,o=e.baseValue,l=t.props.baseValue,u=l??o;if(Se(u)&&typeof u=="number")return u;var d=i==="horizontal"?n:r,f=d.scale.domain();if(d.type==="number"){var v=Math.max(f[0],f[1]),h=Math.min(f[0],f[1]);return u==="dataMin"?h:u==="dataMax"||v<0?v:Math.max(Math.min(f[0],f[1]),0)}return u==="dataMin"?f[0]:u==="dataMax"?f[1]:f[0]});sa(Ga,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,u=e.bandSize,d=e.dataKey,f=e.stackedData,v=e.dataStartIndex,h=e.displayedData,m=e.offset,b=t.layout,w=f&&f.length,x=MR.getBaseValue(t,r,n,i),y=b==="horizontal",j=!1,k=h.map(function(N,A){var O;w?O=f[v+A]:(O=Ot(N,d),Array.isArray(O)?j=!0:O=[x,O]);var _=O[1]==null||w&&Ot(N,d)==null;return y?{x:Hs({axis:n,ticks:o,bandSize:u,entry:N,index:A}),y:_?null:i.scale(O[1]),value:O,payload:N}:{x:_?null:n.scale(O[1]),y:Hs({axis:i,ticks:l,bandSize:u,entry:N,index:A}),value:O,payload:N}}),S;return w||j?S=k.map(function(N){var A=Array.isArray(N.value)?N.value[0]:null;return y?{x:N.x,y:A!=null&&N.y!=null?i.scale(A):null}:{x:A!=null?n.scale(A):null,y:N.y}}):S=y?i.scale(x):n.scale(x),bi({points:k,baseLine:S,layout:b,isRange:j},m)});sa(Ga,"renderDotItem",function(e,t){var r;if(G.isValidElement(e))r=G.cloneElement(e,t);else if(We(e))r=e(t);else{var n=He("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,o=LR(t,lQ);r=G.createElement(Tu,bo({},o,{key:i,className:n}))}return r});function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function gQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UR(n.key),n)}}function xQ(e,t,r){return t&&yQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bQ(e,t,r){return t=Ap(t),SQ(e,WR()?Reflect.construct(t,r||[],Ap(e).constructor):t.apply(e,r))}function SQ(e,t){if(t&&(al(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wQ(e)}function wQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WR=function(){return!!e})()}function Ap(e){return Ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ap(e)}function jQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gS(e,t)}function gS(e,t){return gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gS(e,t)}function $R(e,t,r){return t=UR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UR(e){var t=kQ(e,"string");return al(t)=="symbol"?t:t+""}function kQ(e,t){if(al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jl=(function(e){function t(){return gQ(this,t),bQ(this,t,arguments)}return jQ(t,e),xQ(t,[{key:"render",value:function(){return null}}])})(z.Component);$R(jl,"displayName","ZAxis");$R(jl,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var CQ=["option","isActive"];function Fc(){return Fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fc.apply(this,arguments)}function zQ(e,t){if(e==null)return{};var r=AQ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function NQ(e){var t=e.option,r=e.isActive,n=zQ(e,CQ);return typeof t=="string"?z.createElement(pp,Fc({option:z.createElement(Jp,Fc({type:t},n)),isActive:r,shapeType:"symbols"},n)):z.createElement(pp,Fc({option:t,isActive:r,shapeType:"symbols"},n))}function il(e){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(e)}function Wc(){return Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wc.apply(this,arguments)}function q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(r),!0).forEach(function(n){zi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KR(n.key),n)}}function _Q(e,t,r){return t&&Z_(e.prototype,t),r&&Z_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function OQ(e,t,r){return t=Np(t),EQ(e,HR()?Reflect.construct(t,r||[],Np(e).constructor):t.apply(e,r))}function EQ(e,t){if(t&&(il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TQ(e)}function TQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HR=function(){return!!e})()}function Np(e){return Np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Np(e)}function DQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yS(e,t)}function yS(e,t){return yS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yS(e,t)}function zi(e,t,r){return t=KR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KR(e){var t=RQ(e,"string");return il(t)=="symbol"?t:t+""}function RQ(e,t){if(il(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Di=(function(e){function t(){var r;PQ(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=OQ(this,t,[].concat(i)),zi(r,"state",{isAnimationFinished:!1}),zi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),zi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),zi(r,"id",Bi("recharts-scatter-")),r}return DQ(t,e),_Q(t,[{key:"renderSymbolsStatically",value:function(n){var i=this,o=this.props,l=o.shape,u=o.activeShape,d=o.activeIndex,f=Te(this.props,!1);return n.map(function(v,h){var m=d===h,b=m?u:l,w=zn(zn({},f),v);return G.createElement(Ke,Wc({className:"recharts-scatter-symbol",key:"symbol-".concat(v?.cx,"-").concat(v?.cy,"-").concat(v?.size,"-").concat(h)},Ei(i.props,v,h),{role:"img"}),G.createElement(NQ,Wc({option:b,isActive:m,key:"symbol-".concat(h)},w)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,i=this.props,o=i.points,l=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,f=i.animationEasing,v=i.animationId,h=this.state.prevPoints;return G.createElement(_n,{begin:u,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var b=m.t,w=o.map(function(x,y){var j=h&&h[y];if(j){var k=Wt(j.cx,x.cx),S=Wt(j.cy,x.cy),N=Wt(j.size,x.size);return zn(zn({},x),{},{cx:k(b),cy:S(b),size:N(b)})}var A=Wt(0,x.size);return zn(zn({},x),{},{size:A(b)})});return G.createElement(Ke,null,n.renderSymbolsStatically(w))})}},{key:"renderSymbols",value:function(){var n=this.props,i=n.points,o=n.isAnimationActive,l=this.state.prevPoints;return o&&i&&i.length&&(!l||!Ti(l,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,u=i.yAxis,d=i.children,f=Fr(d,Sl);return f?f.map(function(v,h){var m=v.props,b=m.direction,w=m.dataKey;return G.cloneElement(v,{key:"".concat(b,"-").concat(w,"-").concat(o[h]),data:o,xAxis:l,yAxis:u,layout:b==="x"?"vertical":"horizontal",dataPointFormatter:function(y,j){return{x:y.cx,y:y.cy,value:b==="x"?+y.node.x:+y.node.y,errorVal:Ot(y,j)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,i=n.points,o=n.line,l=n.lineType,u=n.lineJointType,d=Te(this.props,!1),f=Te(o,!1),v,h;if(l==="joint")v=i.map(function(S){return{x:S.cx,y:S.cy}});else if(l==="fitting"){var m=CF(i),b=m.xmin,w=m.xmax,x=m.a,y=m.b,j=function(N){return x*N+y};v=[{x:b,y:j(b)},{x:w,y:j(w)}]}var k=zn(zn(zn({},d),{},{fill:"none",stroke:d&&d.fill},f),{},{points:v});return G.isValidElement(o)?h=G.cloneElement(o,k):We(o)?h=o(k):h=G.createElement(Pi,Wc({},k,{type:u})),G.createElement(Ke,{className:"recharts-scatter-line",key:"recharts-scatter-line"},h)}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.points,l=n.line,u=n.className,d=n.xAxis,f=n.yAxis,v=n.left,h=n.top,m=n.width,b=n.height,w=n.id,x=n.isAnimationActive;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,j=He("recharts-scatter",u),k=d&&d.allowDataOverflow,S=f&&f.allowDataOverflow,N=k||S,A=Fe(w)?this.id:w;return G.createElement(Ke,{className:j,clipPath:N?"url(#clipPath-".concat(A,")"):null},k||S?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(A)},G.createElement("rect",{x:k?v:v-m/2,y:S?h:h-b/2,width:k?m:m*2,height:S?b:b*2}))):null,l&&this.renderLine(),this.renderErrorBar(),G.createElement(Ke,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!x||y)&&Vn.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}}])})(z.PureComponent);zi(Di,"displayName","Scatter");zi(Di,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Qa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});zi(Di,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,i=e.item,o=e.displayedData,l=e.xAxisTicks,u=e.yAxisTicks,d=e.offset,f=i.props.tooltipType,v=Fr(i.props.children,gl),h=Fe(t.dataKey)?i.props.dataKey:t.dataKey,m=Fe(r.dataKey)?i.props.dataKey:r.dataKey,b=n&&n.dataKey,w=n?n.range:jl.defaultProps.range,x=w&&w[0],y=t.scale.bandwidth?t.scale.bandwidth():0,j=r.scale.bandwidth?r.scale.bandwidth():0,k=o.map(function(S,N){var A=Ot(S,h),O=Ot(S,m),_=!Fe(b)&&Ot(S,b)||"-",E=[{name:Fe(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:A,payload:S,dataKey:h,type:f},{name:Fe(r.dataKey)?i.props.name:r.name||r.dataKey,unit:r.unit||"",value:O,payload:S,dataKey:m,type:f}];_!=="-"&&E.push({name:n.name||n.dataKey,unit:n.unit||"",value:_,payload:S,dataKey:b,type:f});var T=Hs({axis:t,ticks:l,bandSize:y,entry:S,index:N,dataKey:h}),I=Hs({axis:r,ticks:u,bandSize:j,entry:S,index:N,dataKey:m}),R=_!=="-"?n.scale(_):x,L=Math.sqrt(Math.max(R,0)/Math.PI);return zn(zn({},S),{},{cx:T,cy:I,x:T-L,y:I-L,xAxis:t,yAxis:r,zAxis:n,width:2*L,height:2*L,size:R,node:{x:A,y:O,z:_},tooltipPayload:E,tooltipPosition:{x:T,y:I},payload:S},v&&v[N]&&v[N].props)});return zn({points:k},d)});function ol(e){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}function IQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qR(n.key),n)}}function LQ(e,t,r){return t&&MQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BQ(e,t,r){return t=Pp(t),FQ(e,GR()?Reflect.construct(t,r||[],Pp(e).constructor):t.apply(e,r))}function FQ(e,t){if(t&&(ol(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WQ(e)}function WQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GR=function(){return!!e})()}function Pp(e){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pp(e)}function $Q(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xS(e,t)}function xS(e,t){return xS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xS(e,t)}function VR(e,t,r){return t=qR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qR(e){var t=UQ(e,"string");return ol(t)=="symbol"?t:t+""}function UQ(e,t){if(ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function bS(){return bS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bS.apply(this,arguments)}function HQ(e){var t=e.xAxisId,r=G1(),n=V1(),i=jR(t);return i==null?null:z.createElement(wl,bS({},i,{className:He("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(l){return Ba(l,!0)}}))}var bt=(function(e){function t(){return IQ(this,t),BQ(this,t,arguments)}return $Q(t,e),LQ(t,[{key:"render",value:function(){return z.createElement(HQ,this.props)}}])})(z.Component);VR(bt,"displayName","XAxis");VR(bt,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function sl(e){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}function KQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YR(n.key),n)}}function VQ(e,t,r){return t&&GQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qQ(e,t,r){return t=_p(t),ZQ(e,ZR()?Reflect.construct(t,r||[],_p(e).constructor):t.apply(e,r))}function ZQ(e,t){if(t&&(sl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XQ(e)}function XQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZR=function(){return!!e})()}function _p(e){return _p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_p(e)}function YQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SS(e,t)}function SS(e,t){return SS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},SS(e,t)}function XR(e,t,r){return t=YR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YR(e){var t=QQ(e,"string");return sl(t)=="symbol"?t:t+""}function QQ(e,t){if(sl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function wS(){return wS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wS.apply(this,arguments)}var JQ=function(t){var r=t.yAxisId,n=G1(),i=V1(),o=kR(r);return o==null?null:z.createElement(wl,wS({},o,{className:He("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return Ba(u,!0)}}))},St=(function(e){function t(){return KQ(this,t),qQ(this,t,arguments)}return YQ(t,e),VQ(t,[{key:"render",value:function(){return z.createElement(JQ,this.props)}}])})(z.Component);XR(St,"displayName","YAxis");XR(St,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function X_(e){return nJ(e)||rJ(e)||tJ(e)||eJ()}function eJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tJ(e,t){if(e){if(typeof e=="string")return jS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jS(e,t)}}function rJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nJ(e){if(Array.isArray(e))return jS(e)}function jS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kS=function(t,r,n,i,o){var l=Fr(t,Sh),u=Fr(t,jh),d=[].concat(X_(l),X_(u)),f=Fr(t,Ch),v="".concat(i,"Id"),h=i[0],m=r;if(d.length&&(m=d.reduce(function(x,y){if(y.props[v]===n&&ua(y.props,"extendDomain")&&Se(y.props[h])){var j=y.props[h];return[Math.min(x[0],j),Math.max(x[1],j)]}return x},m)),f.length){var b="".concat(h,"1"),w="".concat(h,"2");m=f.reduce(function(x,y){if(y.props[v]===n&&ua(y.props,"extendDomain")&&Se(y.props[b])&&Se(y.props[w])){var j=y.props[b],k=y.props[w];return[Math.min(x[0],j,k),Math.max(x[1],j,k)]}return x},m)}return o&&o.length&&(m=o.reduce(function(x,y){return Se(y)?[Math.min(x[0],y),Math.max(x[1],y)]:x},m)),m},_b={exports:{}},Y_;function aJ(){return Y_||(Y_=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,f,v){this.fn=d,this.context=f,this.once=v||!1}function o(d,f,v,h,m){if(typeof v!="function")throw new TypeError("The listener must be a function");var b=new i(v,h||d,m),w=r?r+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],b]:d._events[w].push(b):(d._events[w]=b,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],v,h;if(this._eventsCount===0)return f;for(h in v=this._events)t.call(v,h)&&f.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(v)):f},u.prototype.listeners=function(f){var v=r?r+f:f,h=this._events[v];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,b=h.length,w=new Array(b);m<b;m++)w[m]=h[m].fn;return w},u.prototype.listenerCount=function(f){var v=r?r+f:f,h=this._events[v];return h?h.fn?1:h.length:0},u.prototype.emit=function(f,v,h,m,b,w){var x=r?r+f:f;if(!this._events[x])return!1;var y=this._events[x],j=arguments.length,k,S;if(y.fn){switch(y.once&&this.removeListener(f,y.fn,void 0,!0),j){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,v),!0;case 3:return y.fn.call(y.context,v,h),!0;case 4:return y.fn.call(y.context,v,h,m),!0;case 5:return y.fn.call(y.context,v,h,m,b),!0;case 6:return y.fn.call(y.context,v,h,m,b,w),!0}for(S=1,k=new Array(j-1);S<j;S++)k[S-1]=arguments[S];y.fn.apply(y.context,k)}else{var N=y.length,A;for(S=0;S<N;S++)switch(y[S].once&&this.removeListener(f,y[S].fn,void 0,!0),j){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,v);break;case 3:y[S].fn.call(y[S].context,v,h);break;case 4:y[S].fn.call(y[S].context,v,h,m);break;default:if(!k)for(A=1,k=new Array(j-1);A<j;A++)k[A-1]=arguments[A];y[S].fn.apply(y[S].context,k)}}return!0},u.prototype.on=function(f,v,h){return o(this,f,v,h,!1)},u.prototype.once=function(f,v,h){return o(this,f,v,h,!0)},u.prototype.removeListener=function(f,v,h,m){var b=r?r+f:f;if(!this._events[b])return this;if(!v)return l(this,b),this;var w=this._events[b];if(w.fn)w.fn===v&&(!m||w.once)&&(!h||w.context===h)&&l(this,b);else{for(var x=0,y=[],j=w.length;x<j;x++)(w[x].fn!==v||m&&!w[x].once||h&&w[x].context!==h)&&y.push(w[x]);y.length?this._events[b]=y.length===1?y[0]:y:l(this,b)}return this},u.prototype.removeAllListeners=function(f){var v;return f?(v=r?r+f:f,this._events[v]&&l(this,v)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(_b)),_b.exports}var iJ=aJ();const oJ=pt(iJ);var Ob=new oJ,Eb="recharts.syncMouseEvents";function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function sJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QR(n.key),n)}}function cJ(e,t,r){return t&&lJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tb(e,t,r){return t=QR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QR(e){var t=uJ(e,"string");return wu(t)=="symbol"?t:t+""}function uJ(e,t){if(wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dJ=(function(){function e(){sJ(this,e),Tb(this,"activeIndex",0),Tb(this,"coordinateList",[]),Tb(this,"layout","horizontal")}return cJ(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,l=r.container,u=l===void 0?null:l,d=r.layout,f=d===void 0?null:d,v=r.offset,h=v===void 0?null:v,m=r.mouseHandlerCallback,b=m===void 0?null:m;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,l=i.y,u=i.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,v=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=o+d+f,m=l+this.offset.top+u/2+v;this.mouseHandlerCallback({pageX:h,pageY:m})}}}])})();function fJ(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],i=e?.[1];if(n&&i&&Se(n)&&Se(i))return!0}return!1}function pJ(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function JR(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,o=e.endAngle,l=At(t,r,n,i),u=At(t,r,n,o);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:i,endAngle:o}}function hJ(e,t,r){var n,i,o,l;if(e==="horizontal")n=t.x,o=n,i=r.top,l=r.top+r.height;else if(e==="vertical")i=t.y,l=i,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,d=t.cy,f=t.innerRadius,v=t.outerRadius,h=t.angle,m=At(u,d,f,h),b=At(u,d,v,h);n=m.x,i=m.y,o=b.x,l=b.y}else return JR(t);return[{x:n,y:i},{x:o,y:l}]}function ju(e){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(n){vJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vJ(e,t,r){return t=mJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mJ(e){var t=gJ(e,"string");return ju(t)=="symbol"?t:t+""}function gJ(e,t){if(ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yJ(e){var t,r,n=e.element,i=e.tooltipEventType,o=e.isActive,l=e.activeCoordinate,u=e.activePayload,d=e.offset,f=e.activeTooltipIndex,v=e.tooltipAxisBandSize,h=e.layout,m=e.chartName,b=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!b||!o||!l||m!=="ScatterChart"&&i!=="axis")return null;var w,x=Pi;if(m==="ScatterChart")w=l,x=dq;else if(m==="BarChart")w=pJ(h,l,d,v),x=$1;else if(h==="radial"){var y=JR(l),j=y.cx,k=y.cy,S=y.radius,N=y.startAngle,A=y.endAngle;w={cx:j,cy:k,startAngle:N,endAngle:A,innerRadius:S,outerRadius:S},x=VD}else w={points:hJ(h,l,d)},x=Pi;var O=lf(lf(lf(lf({stroke:"#ccc",pointerEvents:"none"},d),w),Te(b,!1)),{},{payload:u,payloadIndex:f,className:He("recharts-tooltip-cursor",b.className)});return z.isValidElement(b)?z.cloneElement(b,O):z.createElement(x,O)}var xJ=["item"],bJ=["children","className","width","height","style","compact","title","desc"];function ll(e){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},As.apply(this,arguments)}function J_(e,t){return jJ(e)||wJ(e,t)||tI(e,t)||SJ()}function SJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,l,u=[],d=!0,f=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(v){f=!0,i=v}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(f)throw i}}return u}}function jJ(e){if(Array.isArray(e))return e}function eO(e,t){if(e==null)return{};var r=kJ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rI(n.key),n)}}function AJ(e,t,r){return t&&zJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NJ(e,t,r){return t=Op(t),PJ(e,eI()?Reflect.construct(t,r||[],Op(e).constructor):t.apply(e,r))}function PJ(e,t){if(t&&(ll(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _J(e)}function _J(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eI=function(){return!!e})()}function Op(e){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Op(e)}function OJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CS(e,t)}function CS(e,t){return CS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},CS(e,t)}function cl(e){return DJ(e)||TJ(e)||tI(e)||EJ()}function EJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tI(e,t){if(e){if(typeof e=="string")return zS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zS(e,t)}}function TJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DJ(e){if(Array.isArray(e))return zS(e)}function zS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(r),!0).forEach(function(n){$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $e(e,t,r){return t=rI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rI(e){var t=RJ(e,"string");return ll(t)=="symbol"?t:t+""}function RJ(e,t){if(ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IJ={xAxis:["bottom","top"],yAxis:["left","right"]},MJ={width:"100%",height:"100%"},nI={x:0,y:0};function cf(e){return e}var LJ=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},BJ=function(t,r,n,i){var o=r.find(function(v){return v&&v.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var l=o.coordinate,u=i.radius;return pe(pe(pe({},i),At(i.cx,i.cy,u,l)),{},{angle:l,radius:u})}var d=o.coordinate,f=i.angle;return pe(pe(pe({},i),At(i.cx,i.cy,d,f)),{},{angle:f,radius:d})}return nI},zh=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,l=(n??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(cl(u),cl(f)):u},[]);return l.length>0?l:t&&t.length&&Se(i)&&Se(o)?t.slice(i,o+1):[]};function aI(e){return e==="number"?[0,"auto"]:void 0}var AS=function(t,r,n,i){var o=t.graphicalItems,l=t.tooltipAxis,u=zh(r,t);return n<0||!o||!o.length||n>=u.length?null:o.reduce(function(d,f){var v,h=(v=f.props.data)!==null&&v!==void 0?v:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(l.dataKey&&!l.allowDuplicatedCategory){var b=h===void 0?u:h;m=_f(b,l.dataKey,i)}else m=h&&h[n]||u[n];return m?[].concat(cl(d),[WD(f,m)]):d},[])},rO=function(t,r,n,i){var o=i||{x:t.chartX,y:t.chartY},l=LJ(o,n),u=t.orderedTooltipTicks,d=t.tooltipAxis,f=t.tooltipTicks,v=OG(l,u,f,d);if(v>=0&&f){var h=f[v]&&f[v].value,m=AS(t,r,v,h),b=BJ(n,u,v,o);return{activeTooltipIndex:v,activeLabel:h,activePayload:m,activeCoordinate:b}}return null},FJ=function(t,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,v=t.layout,h=t.children,m=t.stackOffset,b=RD(v,o);return n.reduce(function(w,x){var y,j=x.type.defaultProps!==void 0?pe(pe({},x.type.defaultProps),x.props):x.props,k=j.type,S=j.dataKey,N=j.allowDataOverflow,A=j.allowDuplicatedCategory,O=j.scale,_=j.ticks,E=j.includeHidden,T=j[l];if(w[T])return w;var I=zh(t.data,{graphicalItems:i.filter(function(B){var te,ce=l in B.props?B.props[l]:(te=B.type.defaultProps)===null||te===void 0?void 0:te[l];return ce===T}),dataStartIndex:d,dataEndIndex:f}),R=I.length,L,M,q;fJ(j.domain,N,k)&&(L=L0(j.domain,null,N),b&&(k==="number"||O!=="auto")&&(q=Rc(I,S,"category")));var H=aI(k);if(!L||L.length===0){var Z,Y=(Z=j.domain)!==null&&Z!==void 0?Z:H;if(S){if(L=Rc(I,S,k),k==="category"&&b){var $=kF(L);A&&$?(M=L,L=vp(0,R)):A||(L=eP(Y,L,x).reduce(function(B,te){return B.indexOf(te)>=0?B:[].concat(cl(B),[te])},[]))}else if(k==="category")A?L=L.filter(function(B){return B!==""&&!Fe(B)}):L=eP(Y,L,x).reduce(function(B,te){return B.indexOf(te)>=0||te===""||Fe(te)?B:[].concat(cl(B),[te])},[]);else if(k==="number"){var F=IG(I,i.filter(function(B){var te,ce,he=l in B.props?B.props[l]:(te=B.type.defaultProps)===null||te===void 0?void 0:te[l],ue="hide"in B.props?B.props.hide:(ce=B.type.defaultProps)===null||ce===void 0?void 0:ce.hide;return he===T&&(E||!ue)}),S,o,v);F&&(L=F)}b&&(k==="number"||O!=="auto")&&(q=Rc(I,S,"category"))}else b?L=vp(0,R):u&&u[T]&&u[T].hasStack&&k==="number"?L=m==="expand"?[0,1]:FD(u[T].stackGroups,d,f):L=DD(I,i.filter(function(B){var te=l in B.props?B.props[l]:B.type.defaultProps[l],ce="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return te===T&&(E||!ce)}),k,v,!0);if(k==="number")L=kS(h,L,T,o,_),Y&&(L=L0(Y,L,N));else if(k==="category"&&Y){var Q=Y,U=L.every(function(B){return Q.indexOf(B)>=0});U&&(L=Q)}}return pe(pe({},w),{},$e({},T,pe(pe({},j),{},{axisType:o,domain:L,categoricalDomain:q,duplicateDomain:M,originalDomain:(y=j.domain)!==null&&y!==void 0?y:H,isCategorical:b,layout:v})))},{})},WJ=function(t,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,l=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,v=t.layout,h=t.children,m=zh(t.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),b=m.length,w=RD(v,o),x=-1;return n.reduce(function(y,j){var k=j.type.defaultProps!==void 0?pe(pe({},j.type.defaultProps),j.props):j.props,S=k[l],N=aI("number");if(!y[S]){x++;var A;return w?A=vp(0,b):u&&u[S]&&u[S].hasStack?(A=FD(u[S].stackGroups,d,f),A=kS(h,A,S,o)):(A=L0(N,DD(m,n.filter(function(O){var _,E,T=l in O.props?O.props[l]:(_=O.type.defaultProps)===null||_===void 0?void 0:_[l],I="hide"in O.props?O.props.hide:(E=O.type.defaultProps)===null||E===void 0?void 0:E.hide;return T===S&&!I}),"number",v),i.defaultProps.allowDataOverflow),A=kS(h,A,S,o)),pe(pe({},y),{},$e({},S,pe(pe({axisType:o},i.defaultProps),{},{hide:!0,orientation:pn(IJ,"".concat(o,".").concat(x%2),null),domain:A,originalDomain:N,isCategorical:w,layout:v})))}return y},{})},$J=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,l=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,v=t.children,h="".concat(i,"Id"),m=Fr(v,o),b={};return m&&m.length?b=FJ(t,{axes:m,graphicalItems:l,axisType:i,axisIdKey:h,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):l&&l.length&&(b=WJ(t,{Axis:o,graphicalItems:l,axisType:i,axisIdKey:h,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),b},UJ=function(t){var r=ji(t),n=Ba(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:v1(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:tp(r,n)}},nO=function(t){var r=t.children,n=t.defaultShowTooltip,i=ln(r,Xs),o=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(l=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!n}},HJ=function(t){return!t||!t.length?!1:t.some(function(r){var n=Wa(r&&r.type);return n&&n.indexOf("Bar")>=0})},aO=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},KJ=function(t,r){var n=t.props,i=t.graphicalItems,o=t.xAxisMap,l=o===void 0?{}:o,u=t.yAxisMap,d=u===void 0?{}:u,f=n.width,v=n.height,h=n.children,m=n.margin||{},b=ln(h,Xs),w=ln(h,zt),x=Object.keys(d).reduce(function(A,O){var _=d[O],E=_.orientation;return!_.mirror&&!_.hide?pe(pe({},A),{},$e({},E,A[E]+_.width)):A},{left:m.left||0,right:m.right||0}),y=Object.keys(l).reduce(function(A,O){var _=l[O],E=_.orientation;return!_.mirror&&!_.hide?pe(pe({},A),{},$e({},E,pn(A,"".concat(E))+_.height)):A},{top:m.top||0,bottom:m.bottom||0}),j=pe(pe({},y),x),k=j.bottom;b&&(j.bottom+=b.props.height||Xs.defaultProps.height),w&&r&&(j=DG(j,i,n,r));var S=f-j.left-j.right,N=v-j.top-j.bottom;return pe(pe({brushBottom:k},j),{},{width:Math.max(S,0),height:Math.max(N,0)})},GJ=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Du=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,o=i===void 0?"axis":i,l=t.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=t.axisComponents,f=t.legendContent,v=t.formatAxisMap,h=t.defaultProps,m=function(j,k){var S=k.graphicalItems,N=k.stackGroups,A=k.offset,O=k.updateId,_=k.dataStartIndex,E=k.dataEndIndex,T=j.barSize,I=j.layout,R=j.barGap,L=j.barCategoryGap,M=j.maxBarSize,q=aO(I),H=q.numericAxisName,Z=q.cateAxisName,Y=HJ(S),$=[];return S.forEach(function(F,Q){var U=zh(j.data,{graphicalItems:[F],dataStartIndex:_,dataEndIndex:E}),B=F.type.defaultProps!==void 0?pe(pe({},F.type.defaultProps),F.props):F.props,te=B.dataKey,ce=B.maxBarSize,he=B["".concat(H,"Id")],ue=B["".concat(Z,"Id")],ae={},ge=d.reduce(function(Ht,nr){var Ge=k["".concat(nr.axisType,"Map")],qe=B["".concat(nr.axisType,"Id")];Ge&&Ge[qe]||nr.axisType==="zAxis"||Ao();var ht=Ge[qe];return pe(pe({},Ht),{},$e($e({},nr.axisType,ht),"".concat(nr.axisType,"Ticks"),Ba(ht)))},ae),W=ge[Z],oe=ge["".concat(Z,"Ticks")],ve=N&&N[he]&&N[he].hasStack&&KG(F,N[he].stackGroups),se=Wa(F.type).indexOf("Bar")>=0,De=tp(W,oe),Me=[],tt=Y&&EG({barSize:T,stackGroups:N,totalSize:GJ(ge,Z)});if(se){var rt,Ye,Ut=Fe(ce)?M:ce,ct=(rt=(Ye=tp(W,oe,!0))!==null&&Ye!==void 0?Ye:Ut)!==null&&rt!==void 0?rt:0;Me=TG({barGap:R,barCategoryGap:L,bandSize:ct!==De?ct:De,sizeList:tt[ue],maxBarSize:Ut}),ct!==De&&(Me=Me.map(function(Ht){return pe(pe({},Ht),{},{position:pe(pe({},Ht.position),{},{offset:Ht.position.offset-ct/2})})}))}var it=F&&F.type&&F.type.getComposedData;it&&$.push({props:pe(pe({},it(pe(pe({},ge),{},{displayedData:U,props:j,dataKey:te,item:F,bandSize:De,barPosition:Me,offset:A,stackedData:ve,layout:I,dataStartIndex:_,dataEndIndex:E}))),{},$e($e($e({key:F.key||"item-".concat(Q)},H,ge[H]),Z,ge[Z]),"animationId",O)),childIndex:MF(F,j.children),item:F})}),$},b=function(j,k){var S=j.props,N=j.dataStartIndex,A=j.dataEndIndex,O=j.updateId;if(!vC({props:S}))return null;var _=S.children,E=S.layout,T=S.stackOffset,I=S.data,R=S.reverseStackOrder,L=aO(E),M=L.numericAxisName,q=L.cateAxisName,H=Fr(_,n),Z=UG(I,H,"".concat(M,"Id"),"".concat(q,"Id"),T,R),Y=d.reduce(function(B,te){var ce="".concat(te.axisType,"Map");return pe(pe({},B),{},$e({},ce,$J(S,pe(pe({},te),{},{graphicalItems:H,stackGroups:te.axisType===M&&Z,dataStartIndex:N,dataEndIndex:A}))))},{}),$=KJ(pe(pe({},Y),{},{props:S,graphicalItems:H}),k?.legendBBox);Object.keys(Y).forEach(function(B){Y[B]=v(S,Y[B],$,B.replace("Map",""),r)});var F=Y["".concat(q,"Map")],Q=UJ(F),U=m(S,pe(pe({},Y),{},{dataStartIndex:N,dataEndIndex:A,updateId:O,graphicalItems:H,stackGroups:Z,offset:$}));return pe(pe({formattedGraphicalItems:U,graphicalItems:H,offset:$,stackGroups:Z},Q),Y)},w=(function(y){function j(k){var S,N,A;return CJ(this,j),A=NJ(this,j,[k]),$e(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),$e(A,"accessibilityManager",new dJ),$e(A,"handleLegendBBoxUpdate",function(O){if(O){var _=A.state,E=_.dataStartIndex,T=_.dataEndIndex,I=_.updateId;A.setState(pe({legendBBox:O},b({props:A.props,dataStartIndex:E,dataEndIndex:T,updateId:I},pe(pe({},A.state),{},{legendBBox:O}))))}}),$e(A,"handleReceiveSyncEvent",function(O,_,E){if(A.props.syncId===O){if(E===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(_)}}),$e(A,"handleBrushChange",function(O){var _=O.startIndex,E=O.endIndex;if(_!==A.state.dataStartIndex||E!==A.state.dataEndIndex){var T=A.state.updateId;A.setState(function(){return pe({dataStartIndex:_,dataEndIndex:E},b({props:A.props,dataStartIndex:_,dataEndIndex:E,updateId:T},A.state))}),A.triggerSyncEvent({dataStartIndex:_,dataEndIndex:E})}}),$e(A,"handleMouseEnter",function(O){var _=A.getMouseInfo(O);if(_){var E=pe(pe({},_),{},{isTooltipActive:!0});A.setState(E),A.triggerSyncEvent(E);var T=A.props.onMouseEnter;We(T)&&T(E,O)}}),$e(A,"triggeredAfterMouseMove",function(O){var _=A.getMouseInfo(O),E=_?pe(pe({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(E),A.triggerSyncEvent(E);var T=A.props.onMouseMove;We(T)&&T(E,O)}),$e(A,"handleItemMouseEnter",function(O){A.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),$e(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),$e(A,"handleMouseMove",function(O){O.persist(),A.throttleTriggeredAfterMouseMove(O)}),$e(A,"handleMouseLeave",function(O){A.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};A.setState(_),A.triggerSyncEvent(_);var E=A.props.onMouseLeave;We(E)&&E(_,O)}),$e(A,"handleOuterEvent",function(O){var _=IF(O),E=pn(A.props,"".concat(_));if(_&&We(E)){var T,I;/.*touch.*/i.test(_)?I=A.getMouseInfo(O.changedTouches[0]):I=A.getMouseInfo(O),E((T=I)!==null&&T!==void 0?T:{},O)}}),$e(A,"handleClick",function(O){var _=A.getMouseInfo(O);if(_){var E=pe(pe({},_),{},{isTooltipActive:!0});A.setState(E),A.triggerSyncEvent(E);var T=A.props.onClick;We(T)&&T(E,O)}}),$e(A,"handleMouseDown",function(O){var _=A.props.onMouseDown;if(We(_)){var E=A.getMouseInfo(O);_(E,O)}}),$e(A,"handleMouseUp",function(O){var _=A.props.onMouseUp;if(We(_)){var E=A.getMouseInfo(O);_(E,O)}}),$e(A,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),$e(A,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&A.handleMouseDown(O.changedTouches[0])}),$e(A,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&A.handleMouseUp(O.changedTouches[0])}),$e(A,"handleDoubleClick",function(O){var _=A.props.onDoubleClick;if(We(_)){var E=A.getMouseInfo(O);_(E,O)}}),$e(A,"handleContextMenu",function(O){var _=A.props.onContextMenu;if(We(_)){var E=A.getMouseInfo(O);_(E,O)}}),$e(A,"triggerSyncEvent",function(O){A.props.syncId!==void 0&&Ob.emit(Eb,A.props.syncId,O,A.eventEmitterSymbol)}),$e(A,"applySyncEvent",function(O){var _=A.props,E=_.layout,T=_.syncMethod,I=A.state.updateId,R=O.dataStartIndex,L=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)A.setState(pe({dataStartIndex:R,dataEndIndex:L},b({props:A.props,dataStartIndex:R,dataEndIndex:L,updateId:I},A.state)));else if(O.activeTooltipIndex!==void 0){var M=O.chartX,q=O.chartY,H=O.activeTooltipIndex,Z=A.state,Y=Z.offset,$=Z.tooltipTicks;if(!Y)return;if(typeof T=="function")H=T($,O);else if(T==="value"){H=-1;for(var F=0;F<$.length;F++)if($[F].value===O.activeLabel){H=F;break}}var Q=pe(pe({},Y),{},{x:Y.left,y:Y.top}),U=Math.min(M,Q.x+Q.width),B=Math.min(q,Q.y+Q.height),te=$[H]&&$[H].value,ce=AS(A.state,A.props.data,H),he=$[H]?{x:E==="horizontal"?$[H].coordinate:U,y:E==="horizontal"?B:$[H].coordinate}:nI;A.setState(pe(pe({},O),{},{activeLabel:te,activeCoordinate:he,activePayload:ce,activeTooltipIndex:H}))}else A.setState(O)}),$e(A,"renderCursor",function(O){var _,E=A.state,T=E.isTooltipActive,I=E.activeCoordinate,R=E.activePayload,L=E.offset,M=E.activeTooltipIndex,q=E.tooltipAxisBandSize,H=A.getTooltipEventType(),Z=(_=O.props.active)!==null&&_!==void 0?_:T,Y=A.props.layout,$=O.key||"_recharts-cursor";return G.createElement(yJ,{key:$,activeCoordinate:I,activePayload:R,activeTooltipIndex:M,chartName:r,element:O,isActive:Z,layout:Y,offset:L,tooltipAxisBandSize:q,tooltipEventType:H})}),$e(A,"renderPolarAxis",function(O,_,E){var T=pn(O,"type.axisType"),I=pn(A.state,"".concat(T,"Map")),R=O.type.defaultProps,L=R!==void 0?pe(pe({},R),O.props):O.props,M=I&&I[L["".concat(T,"Id")]];return z.cloneElement(O,pe(pe({},M),{},{className:He(T,M.className),key:O.key||"".concat(_,"-").concat(E),ticks:Ba(M,!0)}))}),$e(A,"renderPolarGrid",function(O){var _=O.props,E=_.radialLines,T=_.polarAngles,I=_.polarRadius,R=A.state,L=R.radiusAxisMap,M=R.angleAxisMap,q=ji(L),H=ji(M),Z=H.cx,Y=H.cy,$=H.innerRadius,F=H.outerRadius;return z.cloneElement(O,{polarAngles:Array.isArray(T)?T:Ba(H,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(I)?I:Ba(q,!0).map(function(Q){return Q.coordinate}),cx:Z,cy:Y,innerRadius:$,outerRadius:F,key:O.key||"polar-grid",radialLines:E})}),$e(A,"renderLegend",function(){var O=A.state.formattedGraphicalItems,_=A.props,E=_.children,T=_.width,I=_.height,R=A.props.margin||{},L=T-(R.left||0)-(R.right||0),M=ED({children:E,formattedGraphicalItems:O,legendWidth:L,legendContent:f});if(!M)return null;var q=M.item,H=eO(M,xJ);return z.cloneElement(q,pe(pe({},H),{},{chartWidth:T,chartHeight:I,margin:R,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),$e(A,"renderTooltip",function(){var O,_=A.props,E=_.children,T=_.accessibilityLayer,I=ln(E,st);if(!I)return null;var R=A.state,L=R.isTooltipActive,M=R.activeCoordinate,q=R.activePayload,H=R.activeLabel,Z=R.offset,Y=(O=I.props.active)!==null&&O!==void 0?O:L;return z.cloneElement(I,{viewBox:pe(pe({},Z),{},{x:Z.left,y:Z.top}),active:Y,label:H,payload:Y?q:[],coordinate:M,accessibilityLayer:T})}),$e(A,"renderBrush",function(O){var _=A.props,E=_.margin,T=_.data,I=A.state,R=I.offset,L=I.dataStartIndex,M=I.dataEndIndex,q=I.updateId;return z.cloneElement(O,{key:O.key||"_recharts-brush",onChange:nf(A.handleBrushChange,O.props.onChange),data:T,x:Se(O.props.x)?O.props.x:R.left,y:Se(O.props.y)?O.props.y:R.top+R.height+R.brushBottom-(E.bottom||0),width:Se(O.props.width)?O.props.width:R.width,startIndex:L,endIndex:M,updateId:"brush-".concat(q)})}),$e(A,"renderReferenceElement",function(O,_,E){if(!O)return null;var T=A,I=T.clipPathId,R=A.state,L=R.xAxisMap,M=R.yAxisMap,q=R.offset,H=O.type.defaultProps||{},Z=O.props,Y=Z.xAxisId,$=Y===void 0?H.xAxisId:Y,F=Z.yAxisId,Q=F===void 0?H.yAxisId:F;return z.cloneElement(O,{key:O.key||"".concat(_,"-").concat(E),xAxis:L[$],yAxis:M[Q],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:I})}),$e(A,"renderActivePoints",function(O){var _=O.item,E=O.activePoint,T=O.basePoint,I=O.childIndex,R=O.isRange,L=[],M=_.props.key,q=_.item.type.defaultProps!==void 0?pe(pe({},_.item.type.defaultProps),_.item.props):_.item.props,H=q.activeDot,Z=q.dataKey,Y=pe(pe({index:I,dataKey:Z,cx:E.x,cy:E.y,r:4,fill:W1(_.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Te(H,!1)),Of(H));return L.push(j.renderActiveDot(H,Y,"".concat(M,"-activePoint-").concat(I))),T?L.push(j.renderActiveDot(H,pe(pe({},Y),{},{cx:T.x,cy:T.y}),"".concat(M,"-basePoint-").concat(I))):R&&L.push(null),L}),$e(A,"renderGraphicChild",function(O,_,E){var T=A.filterFormatItem(O,_,E);if(!T)return null;var I=A.getTooltipEventType(),R=A.state,L=R.isTooltipActive,M=R.tooltipAxis,q=R.activeTooltipIndex,H=R.activeLabel,Z=A.props.children,Y=ln(Z,st),$=T.props,F=$.points,Q=$.isRange,U=$.baseLine,B=T.item.type.defaultProps!==void 0?pe(pe({},T.item.type.defaultProps),T.item.props):T.item.props,te=B.activeDot,ce=B.hide,he=B.activeBar,ue=B.activeShape,ae=!!(!ce&&L&&Y&&(te||he||ue)),ge={};I!=="axis"&&Y&&Y.props.trigger==="click"?ge={onClick:nf(A.handleItemMouseEnter,O.props.onClick)}:I!=="axis"&&(ge={onMouseLeave:nf(A.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:nf(A.handleItemMouseEnter,O.props.onMouseEnter)});var W=z.cloneElement(O,pe(pe({},T.props),ge));function oe(nr){return typeof M.dataKey=="function"?M.dataKey(nr.payload):null}if(ae)if(q>=0){var ve,se;if(M.dataKey&&!M.allowDuplicatedCategory){var De=typeof M.dataKey=="function"?oe:"payload.".concat(M.dataKey.toString());ve=_f(F,De,H),se=Q&&U&&_f(U,De,H)}else ve=F?.[q],se=Q&&U&&U[q];if(ue||he){var Me=O.props.activeIndex!==void 0?O.props.activeIndex:q;return[z.cloneElement(O,pe(pe(pe({},T.props),ge),{},{activeIndex:Me})),null,null]}if(!Fe(ve))return[W].concat(cl(A.renderActivePoints({item:T,activePoint:ve,basePoint:se,childIndex:q,isRange:Q})))}else{var tt,rt=(tt=A.getItemByXY(A.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:W},Ye=rt.graphicalItem,Ut=Ye.item,ct=Ut===void 0?O:Ut,it=Ye.childIndex,Ht=pe(pe(pe({},T.props),ge),{},{activeIndex:it});return[z.cloneElement(ct,Ht),null,null]}return Q?[W,null,null]:[W,null]}),$e(A,"renderCustomized",function(O,_,E){return z.cloneElement(O,pe(pe({key:"recharts-customized-".concat(E)},A.props),A.state))}),$e(A,"renderMap",{CartesianGrid:{handler:cf,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:cf},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:cf},YAxis:{handler:cf},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((S=k.id)!==null&&S!==void 0?S:Bi("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=OT(A.triggeredAfterMouseMove,(N=k.throttleDelay)!==null&&N!==void 0?N:1e3/60),A.state={},A}return OJ(j,y),AJ(j,[{key:"componentDidMount",value:function(){var S,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,N=S.children,A=S.data,O=S.height,_=S.layout,E=ln(N,st);if(E){var T=E.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,R=AS(this.state,A,T,I),L=this.state.tooltipTicks[T].coordinate,M=(this.state.offset.top+O)/2,q=_==="horizontal",H=q?{x:L,y:M}:{y:L,x:M},Z=this.state.formattedGraphicalItems.find(function($){var F=$.item;return F.type.name==="Scatter"});Z&&(H=pe(pe({},H),Z.props.points[T].tooltipPosition),R=Z.props.points[T].tooltipPayload);var Y={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:I,activePayload:R,activeCoordinate:H};this.setState(Y),this.renderCursor(E),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var A,O;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(S){o0([ln(S.children,st)],[ln(this.props.children,st)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=ln(this.props.children,st);if(S&&typeof S.props.shared=="boolean"){var N=S.props.shared?"axis":"item";return u.indexOf(N)>=0?N:o}return o}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var N=this.container,A=N.getBoundingClientRect(),O=j8(A),_={chartX:Math.round(S.pageX-O.left),chartY:Math.round(S.pageY-O.top)},E=A.width/N.offsetWidth||1,T=this.inRange(_.chartX,_.chartY,E);if(!T)return null;var I=this.state,R=I.xAxisMap,L=I.yAxisMap,M=this.getTooltipEventType(),q=rO(this.state,this.props.data,this.props.layout,T);if(M!=="axis"&&R&&L){var H=ji(R).scale,Z=ji(L).scale,Y=H&&H.invert?H.invert(_.chartX):null,$=Z&&Z.invert?Z.invert(_.chartY):null;return pe(pe({},_),{},{xValue:Y,yValue:$},q)}return q?pe(pe({},_),q):null}},{key:"inRange",value:function(S,N){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,_=S/A,E=N/A;if(O==="horizontal"||O==="vertical"){var T=this.state.offset,I=_>=T.left&&_<=T.left+T.width&&E>=T.top&&E<=T.top+T.height;return I?{x:_,y:E}:null}var R=this.state,L=R.angleAxisMap,M=R.radiusAxisMap;if(L&&M){var q=ji(L);return nP({x:_,y:E},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,N=this.getTooltipEventType(),A=ln(S,st),O={};A&&N==="axis"&&(A.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=Of(this.props,this.handleOuterEvent);return pe(pe({},_),O)}},{key:"addListener",value:function(){Ob.on(Eb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ob.removeListener(Eb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,N,A){for(var O=this.state.formattedGraphicalItems,_=0,E=O.length;_<E;_++){var T=O[_];if(T.item===S||T.props.key===S.key||N===Wa(T.item.type)&&A===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,N=this.state.offset,A=N.left,O=N.top,_=N.height,E=N.width;return G.createElement("defs",null,G.createElement("clipPath",{id:S},G.createElement("rect",{x:A,y:O,height:_,width:E})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(N,A){var O=J_(A,2),_=O[0],E=O[1];return pe(pe({},N),{},$e({},_,E.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(N,A){var O=J_(A,2),_=O[0],E=O[1];return pe(pe({},N),{},$e({},_,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[S])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(S){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[S])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(S){var N=this.state,A=N.formattedGraphicalItems,O=N.activeItem;if(A&&A.length)for(var _=0,E=A.length;_<E;_++){var T=A[_],I=T.props,R=T.item,L=R.type.defaultProps!==void 0?pe(pe({},R.type.defaultProps),R.props):R.props,M=Wa(R.type);if(M==="Bar"){var q=(I.data||[]).find(function($){return K7(S,$)});if(q)return{graphicalItem:T,payload:q}}else if(M==="RadialBar"){var H=(I.data||[]).find(function($){return nP(S,$)});if(H)return{graphicalItem:T,payload:H}}else if(gh(T,O)||yh(T,O)||gu(T,O)){var Z=hZ({graphicalItem:T,activeTooltipItem:O,itemData:L.data}),Y=L.activeIndex===void 0?Z:L.activeIndex;return{graphicalItem:pe(pe({},T),{},{childIndex:Y}),payload:gu(T,O)?L.data[Z]:T.props.data[Z]}}}return null}},{key:"render",value:function(){var S=this;if(!vC(this))return null;var N=this.props,A=N.children,O=N.className,_=N.width,E=N.height,T=N.style,I=N.compact,R=N.title,L=N.desc,M=eO(N,bJ),q=Te(M,!1);if(I)return G.createElement(__,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement(l0,As({},q,{width:_,height:E,title:R,desc:L}),this.renderClipPath(),gC(A,this.renderMap)));if(this.props.accessibilityLayer){var H,Z;q.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,q.role=(Z=this.props.role)!==null&&Z!==void 0?Z:"application",q.onKeyDown=function($){S.accessibilityManager.keyboardEvent($)},q.onFocus=function(){S.accessibilityManager.focus()}}var Y=this.parseEventsOfWrapper();return G.createElement(__,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement("div",As({className:He("recharts-wrapper",O),style:pe({position:"relative",cursor:"default",width:_,height:E},T)},Y,{ref:function(F){S.container=F}}),G.createElement(l0,As({},q,{width:_,height:E,title:R,desc:L,style:MJ}),this.renderClipPath(),gC(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(z.Component);$e(w,"displayName",r),$e(w,"defaultProps",pe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),$e(w,"getDerivedStateFromProps",function(y,j){var k=y.dataKey,S=y.data,N=y.children,A=y.width,O=y.height,_=y.layout,E=y.stackOffset,T=y.margin,I=j.dataStartIndex,R=j.dataEndIndex;if(j.updateId===void 0){var L=nO(y);return pe(pe(pe({},L),{},{updateId:0},b(pe(pe({props:y},L),{},{updateId:0}),j)),{},{prevDataKey:k,prevData:S,prevWidth:A,prevHeight:O,prevLayout:_,prevStackOffset:E,prevMargin:T,prevChildren:N})}if(k!==j.prevDataKey||S!==j.prevData||A!==j.prevWidth||O!==j.prevHeight||_!==j.prevLayout||E!==j.prevStackOffset||!Ns(T,j.prevMargin)){var M=nO(y),q={chartX:j.chartX,chartY:j.chartY,isTooltipActive:j.isTooltipActive},H=pe(pe({},rO(j,S,_)),{},{updateId:j.updateId+1}),Z=pe(pe(pe({},M),q),H);return pe(pe(pe({},Z),b(pe({props:y},Z),j)),{},{prevDataKey:k,prevData:S,prevWidth:A,prevHeight:O,prevLayout:_,prevStackOffset:E,prevMargin:T,prevChildren:N})}if(!o0(N,j.prevChildren)){var Y,$,F,Q,U=ln(N,Xs),B=U&&(Y=($=U.props)===null||$===void 0?void 0:$.startIndex)!==null&&Y!==void 0?Y:I,te=U&&(F=(Q=U.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&F!==void 0?F:R,ce=B!==I||te!==R,he=!Fe(S),ue=he&&!ce?j.updateId:j.updateId+1;return pe(pe({updateId:ue},b(pe(pe({props:y},j),{},{updateId:ue,dataStartIndex:B,dataEndIndex:te}),j)),{},{prevChildren:N,dataStartIndex:B,dataEndIndex:te})}return null}),$e(w,"renderActiveDot",function(y,j,k){var S;return z.isValidElement(y)?S=z.cloneElement(y,j):We(y)?S=y(j):S=G.createElement(Tu,j),G.createElement(Ke,{className:"recharts-active-dot",key:k},S)});var x=z.forwardRef(function(j,k){return G.createElement(w,As({},j,{ref:k}))});return x.displayName=w.displayName,x},iI=Du({chartName:"LineChart",GraphicalChild:qr,axisComponents:[{axisType:"xAxis",AxisComp:bt},{axisType:"yAxis",AxisComp:St}],formatAxisMap:bh}),Pr=Du({chartName:"BarChart",GraphicalChild:Ie,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:bt},{axisType:"yAxis",AxisComp:St}],formatAxisMap:bh}),oI=Du({chartName:"PieChart",GraphicalChild:ma,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:mh},{axisType:"radiusAxis",AxisComp:hh}],formatAxisMap:t9,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),sI=Du({chartName:"ScatterChart",GraphicalChild:Di,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:bt},{axisType:"yAxis",AxisComp:St},{axisType:"zAxis",AxisComp:jl}],formatAxisMap:bh}),VJ=Du({chartName:"AreaChart",GraphicalChild:Ga,axisComponents:[{axisType:"xAxis",AxisComp:bt},{axisType:"yAxis",AxisComp:St}],formatAxisMap:bh});function iO(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function kl(...e){return t=>{let r=!1;const n=e.map(i=>{const o=iO(i,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let i=0;i<n.length;i++){const o=n[i];typeof o=="function"?o():iO(e[i],null)}}}}function Mt(...e){return z.useCallback(kl(...e),e)}function qJ(e,t){const r=z.createContext(t),n=o=>{const{children:l,...u}=o,d=z.useMemo(()=>u,Object.values(u));return a.jsx(r.Provider,{value:d,children:l})};n.displayName=e+"Provider";function i(o){const l=z.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,i]}function Lo(e,t=[]){let r=[];function n(o,l){const u=z.createContext(l),d=r.length;r=[...r,l];const f=h=>{const{scope:m,children:b,...w}=h,x=m?.[e]?.[d]||u,y=z.useMemo(()=>w,Object.values(w));return a.jsx(x.Provider,{value:y,children:b})};f.displayName=o+"Provider";function v(h,m){const b=m?.[e]?.[d]||u,w=z.useContext(b);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[f,v]}const i=()=>{const o=r.map(l=>z.createContext(l));return function(u){const d=u?.[e]||o;return z.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return i.scopeName=e,[n,ZJ(i,...t)]}function ZJ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=n.reduce((u,{useScope:d,scopeName:f})=>{const h=d(o)[`__scope${f}`];return{...u,...h}},{});return z.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}function Qe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}var _r=globalThis?.document?z.useLayoutEffect:()=>{},XJ=GS[" useInsertionEffect ".trim().toString()]||_r;function ul({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,o,l]=YJ({defaultProp:t,onChange:r}),u=e!==void 0,d=u?e:i;{const v=z.useRef(e!==void 0);z.useEffect(()=>{const h=v.current;h!==u&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=u},[u,n])}const f=z.useCallback(v=>{if(u){const h=QJ(v)?v(e):v;h!==e&&l.current?.(h)}else o(v)},[u,e,o,l]);return[d,f]}function YJ({defaultProp:e,onChange:t}){const[r,n]=z.useState(e),i=z.useRef(r),o=z.useRef(t);return XJ(()=>{o.current=t},[t]),z.useEffect(()=>{i.current!==r&&(o.current?.(r),i.current=r)},[r,i]),[r,n,o]}function QJ(e){return typeof e=="function"}function lI(e){const t=z.useRef({value:e,previous:e});return z.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function cI(e){const[t,r]=z.useState(void 0);return _r(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let l,u;if("borderBoxSize"in o){const d=o.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,u=f.blockSize}else l=e.offsetWidth,u=e.offsetHeight;r({width:l,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}function JJ(e,t){return z.useReducer((r,n)=>t[r][n]??r,e)}var Cl=e=>{const{present:t,children:r}=e,n=eee(t),i=typeof r=="function"?r({present:n.isPresent}):z.Children.only(r),o=Mt(n.ref,tee(i));return typeof r=="function"||n.isPresent?z.cloneElement(i,{ref:o}):null};Cl.displayName="Presence";function eee(e){const[t,r]=z.useState(),n=z.useRef(null),i=z.useRef(e),o=z.useRef("none"),l=e?"mounted":"unmounted",[u,d]=JJ(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return z.useEffect(()=>{const f=uf(n.current);o.current=u==="mounted"?f:"none"},[u]),_r(()=>{const f=n.current,v=i.current;if(v!==e){const m=o.current,b=uf(f);e?d("MOUNT"):b==="none"||f?.display==="none"?d("UNMOUNT"):d(v&&m!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,d]),_r(()=>{if(t){let f;const v=t.ownerDocument.defaultView??window,h=b=>{const x=uf(n.current).includes(CSS.escape(b.animationName));if(b.target===t&&x&&(d("ANIMATION_END"),!i.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",f=v.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=b=>{b.target===t&&(o.current=uf(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{v.clearTimeout(f),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:z.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function uf(e){return e?.animationName||"none"}function tee(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ree(e){const t=nee(e),r=z.forwardRef((n,i)=>{const{children:o,...l}=n,u=z.Children.toArray(o),d=u.find(iee);if(d){const f=d.props.children,v=u.map(h=>h===d?z.Children.count(f)>1?z.Children.only(null):z.isValidElement(f)?f.props.children:null:h);return a.jsx(t,{...l,ref:i,children:z.isValidElement(f)?z.cloneElement(f,void 0,v):null})}return a.jsx(t,{...l,ref:i,children:o})});return r.displayName=`${e}.Slot`,r}function nee(e){const t=z.forwardRef((r,n)=>{const{children:i,...o}=r;if(z.isValidElement(i)){const l=see(i),u=oee(o,i.props);return i.type!==z.Fragment&&(u.ref=n?kl(n,l):l),z.cloneElement(i,u)}return z.Children.count(i)>1?z.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var aee=Symbol("radix.slottable");function iee(e){return z.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===aee}function oee(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function see(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var lee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Je=lee.reduce((e,t)=>{const r=ree(`Primitive.${t}`),n=z.forwardRef((i,o)=>{const{asChild:l,...u}=i,d=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...u,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function cee(e,t){e&&Eu.flushSync(()=>e.dispatchEvent(t))}var Ah="Checkbox",[uee]=Lo(Ah),[dee,Y1]=uee(Ah);function fee(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:i,disabled:o,form:l,name:u,onCheckedChange:d,required:f,value:v="on",internal_do_not_use_render:h}=e,[m,b]=ul({prop:r,defaultProp:i??!1,onChange:d,caller:Ah}),[w,x]=z.useState(null),[y,j]=z.useState(null),k=z.useRef(!1),S=w?!!l||!!w.closest("form"):!0,N={checked:m,disabled:o,setChecked:b,control:w,setControl:x,name:u,form:l,value:v,hasConsumerStoppedPropagationRef:k,required:f,defaultChecked:_i(i)?!1:i,isFormControl:S,bubbleInput:y,setBubbleInput:j};return a.jsx(dee,{scope:t,...N,children:pee(h)?h(N):n})}var uI="CheckboxTrigger",dI=z.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},i)=>{const{control:o,value:l,disabled:u,checked:d,required:f,setControl:v,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:b,bubbleInput:w}=Y1(uI,e),x=Mt(i,v),y=z.useRef(d);return z.useEffect(()=>{const j=o?.form;if(j){const k=()=>h(y.current);return j.addEventListener("reset",k),()=>j.removeEventListener("reset",k)}},[o,h]),a.jsx(Je.button,{type:"button",role:"checkbox","aria-checked":_i(d)?"mixed":d,"aria-required":f,"data-state":gI(d),"data-disabled":u?"":void 0,disabled:u,value:l,...n,ref:x,onKeyDown:Qe(t,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:Qe(r,j=>{h(k=>_i(k)?!0:!k),w&&b&&(m.current=j.isPropagationStopped(),m.current||j.stopPropagation())})})});dI.displayName=uI;var fI=z.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:o,required:l,disabled:u,value:d,onCheckedChange:f,form:v,...h}=e;return a.jsx(fee,{__scopeCheckbox:r,checked:i,defaultChecked:o,disabled:u,required:l,onCheckedChange:f,name:n,form:v,value:d,internal_do_not_use_render:({isFormControl:m})=>a.jsxs(a.Fragment,{children:[a.jsx(dI,{...h,ref:t,__scopeCheckbox:r}),m&&a.jsx(mI,{__scopeCheckbox:r})]})})});fI.displayName=Ah;var pI="CheckboxIndicator",hI=z.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,o=Y1(pI,r);return a.jsx(Cl,{present:n||_i(o.checked)||o.checked===!0,children:a.jsx(Je.span,{"data-state":gI(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});hI.displayName=pI;var vI="CheckboxBubbleInput",mI=z.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:l,required:u,disabled:d,name:f,value:v,form:h,bubbleInput:m,setBubbleInput:b}=Y1(vI,e),w=Mt(r,b),x=lI(o),y=cI(n);z.useEffect(()=>{const k=m;if(!k)return;const S=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(S,"checked").set,O=!i.current;if(x!==o&&A){const _=new Event("click",{bubbles:O});k.indeterminate=_i(o),A.call(k,_i(o)?!1:o),k.dispatchEvent(_)}},[m,x,o,i]);const j=z.useRef(_i(o)?!1:o);return a.jsx(Je.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??j.current,required:u,disabled:d,name:f,value:v,form:h,...t,tabIndex:-1,ref:w,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});mI.displayName=vI;function pee(e){return typeof e=="function"}function _i(e){return e==="indeterminate"}function gI(e){return _i(e)?"indeterminate":e?"checked":"unchecked"}const hee=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},vee=(e,t)=>({classGroupId:e,validator:t}),yI=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Ep="-",oO=[],mee="arbitrary..",gee=e=>{const t=xee(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return yee(l);const u=l.split(Ep),d=u[0]===""&&u.length>1?1:0;return xI(u,d,t)},getConflictingClassGroupIds:(l,u)=>{if(u){const d=n[l],f=r[l];return d?f?hee(f,d):d:f||oO}return r[l]||oO}}},xI=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const i=e[t],o=r.nextPart.get(i);if(o){const f=xI(e,t+1,o);if(f)return f}const l=r.validators;if(l===null)return;const u=t===0?e.join(Ep):e.slice(t).join(Ep),d=l.length;for(let f=0;f<d;f++){const v=l[f];if(v.validator(u))return v.classGroupId}},yee=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?mee+n:void 0})(),xee=e=>{const{theme:t,classGroups:r}=e;return bee(r,t)},bee=(e,t)=>{const r=yI();for(const n in e){const i=e[n];Q1(i,r,n,t)}return r},Q1=(e,t,r,n)=>{const i=e.length;for(let o=0;o<i;o++){const l=e[o];See(l,t,r,n)}},See=(e,t,r,n)=>{if(typeof e=="string"){wee(e,t,r);return}if(typeof e=="function"){jee(e,t,r,n);return}kee(e,t,r,n)},wee=(e,t,r)=>{const n=e===""?t:bI(t,e);n.classGroupId=r},jee=(e,t,r,n)=>{if(Cee(e)){Q1(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(vee(r,e))},kee=(e,t,r,n)=>{const i=Object.entries(e),o=i.length;for(let l=0;l<o;l++){const[u,d]=i[l];Q1(d,bI(t,u),r,n)}},bI=(e,t)=>{let r=e;const n=t.split(Ep),i=n.length;for(let o=0;o<i;o++){const l=n[o];let u=r.nextPart.get(l);u||(u=yI(),r.nextPart.set(l,u)),r=u}return r},Cee=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,zee=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const i=(o,l)=>{r[o]=l,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(o){let l=r[o];if(l!==void 0)return l;if((l=n[o])!==void 0)return i(o,l),l},set(o,l){o in r?r[o]=l:i(o,l)}}},NS="!",sO=":",Aee=[],lO=(e,t,r,n,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:i}),Nee=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=i=>{const o=[];let l=0,u=0,d=0,f;const v=i.length;for(let x=0;x<v;x++){const y=i[x];if(l===0&&u===0){if(y===sO){o.push(i.slice(d,x)),d=x+1;continue}if(y==="/"){f=x;continue}}y==="["?l++:y==="]"?l--:y==="("?u++:y===")"&&u--}const h=o.length===0?i:i.slice(d);let m=h,b=!1;h.endsWith(NS)?(m=h.slice(0,-1),b=!0):h.startsWith(NS)&&(m=h.slice(1),b=!0);const w=f&&f>d?f-d:void 0;return lO(o,b,m,w)};if(t){const i=t+sO,o=n;n=l=>l.startsWith(i)?o(l.slice(i.length)):lO(Aee,!1,l,void 0,!0)}if(r){const i=n;n=o=>r({className:o,parseClassName:i})}return n},Pee=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let i=[];for(let o=0;o<r.length;o++){const l=r[o],u=l[0]==="[",d=t.has(l);u||d?(i.length>0&&(i.sort(),n.push(...i),i=[]),n.push(l)):i.push(l)}return i.length>0&&(i.sort(),n.push(...i)),n}},_ee=e=>({cache:zee(e.cacheSize),parseClassName:Nee(e),sortModifiers:Pee(e),...gee(e)}),Oee=/\s+/,Eee=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:o}=t,l=[],u=e.trim().split(Oee);let d="";for(let f=u.length-1;f>=0;f-=1){const v=u[f],{isExternal:h,modifiers:m,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:x}=r(v);if(h){d=v+(d.length>0?" "+d:d);continue}let y=!!x,j=n(y?w.substring(0,x):w);if(!j){if(!y){d=v+(d.length>0?" "+d:d);continue}if(j=n(w),!j){d=v+(d.length>0?" "+d:d);continue}y=!1}const k=m.length===0?"":m.length===1?m[0]:o(m).join(":"),S=b?k+NS:k,N=S+j;if(l.indexOf(N)>-1)continue;l.push(N);const A=i(j,y);for(let O=0;O<A.length;++O){const _=A[O];l.push(S+_)}d=v+(d.length>0?" "+d:d)}return d},Tee=(...e)=>{let t=0,r,n,i="";for(;t<e.length;)(r=e[t++])&&(n=SI(r))&&(i&&(i+=" "),i+=n);return i},SI=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=SI(e[n]))&&(r&&(r+=" "),r+=t);return r},Dee=(e,...t)=>{let r,n,i,o;const l=d=>{const f=t.reduce((v,h)=>h(v),e());return r=_ee(f),n=r.cache.get,i=r.cache.set,o=u,u(d)},u=d=>{const f=n(d);if(f)return f;const v=Eee(d,r);return i(d,v),v};return o=l,(...d)=>o(Tee(...d))},Ree=[],sr=e=>{const t=r=>r[e]||Ree;return t.isThemeGetter=!0,t},wI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,jI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Iee=/^\d+\/\d+$/,Mee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Lee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Bee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Fee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Wee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ps=e=>Iee.test(e),Ze=e=>!!e&&!Number.isNaN(Number(e)),xi=e=>!!e&&Number.isInteger(Number(e)),Db=e=>e.endsWith("%")&&Ze(e.slice(0,-1)),Ea=e=>Mee.test(e),$ee=()=>!0,Uee=e=>Lee.test(e)&&!Bee.test(e),kI=()=>!1,Hee=e=>Fee.test(e),Kee=e=>Wee.test(e),Gee=e=>!_e(e)&&!Oe(e),Vee=e=>zl(e,AI,kI),_e=e=>wI.test(e),lo=e=>zl(e,NI,Uee),Rb=e=>zl(e,Qee,Ze),cO=e=>zl(e,CI,kI),qee=e=>zl(e,zI,Kee),df=e=>zl(e,PI,Hee),Oe=e=>jI.test(e),Sc=e=>Al(e,NI),Zee=e=>Al(e,Jee),uO=e=>Al(e,CI),Xee=e=>Al(e,AI),Yee=e=>Al(e,zI),ff=e=>Al(e,PI,!0),zl=(e,t,r)=>{const n=wI.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Al=(e,t,r=!1)=>{const n=jI.exec(e);return n?n[1]?t(n[1]):r:!1},CI=e=>e==="position"||e==="percentage",zI=e=>e==="image"||e==="url",AI=e=>e==="length"||e==="size"||e==="bg-size",NI=e=>e==="length",Qee=e=>e==="number",Jee=e=>e==="family-name",PI=e=>e==="shadow",ete=()=>{const e=sr("color"),t=sr("font"),r=sr("text"),n=sr("font-weight"),i=sr("tracking"),o=sr("leading"),l=sr("breakpoint"),u=sr("container"),d=sr("spacing"),f=sr("radius"),v=sr("shadow"),h=sr("inset-shadow"),m=sr("text-shadow"),b=sr("drop-shadow"),w=sr("blur"),x=sr("perspective"),y=sr("aspect"),j=sr("ease"),k=sr("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...N(),Oe,_e],O=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],E=()=>[Oe,_e,d],T=()=>[ps,"full","auto",...E()],I=()=>[xi,"none","subgrid",Oe,_e],R=()=>["auto",{span:["full",xi,Oe,_e]},xi,Oe,_e],L=()=>[xi,"auto",Oe,_e],M=()=>["auto","min","max","fr",Oe,_e],q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],H=()=>["start","end","center","stretch","center-safe","end-safe"],Z=()=>["auto",...E()],Y=()=>[ps,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],$=()=>[e,Oe,_e],F=()=>[...N(),uO,cO,{position:[Oe,_e]}],Q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],U=()=>["auto","cover","contain",Xee,Vee,{size:[Oe,_e]}],B=()=>[Db,Sc,lo],te=()=>["","none","full",f,Oe,_e],ce=()=>["",Ze,Sc,lo],he=()=>["solid","dashed","dotted","double"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[Ze,Db,uO,cO],ge=()=>["","none",w,Oe,_e],W=()=>["none",Ze,Oe,_e],oe=()=>["none",Ze,Oe,_e],ve=()=>[Ze,Oe,_e],se=()=>[ps,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ea],breakpoint:[Ea],color:[$ee],container:[Ea],"drop-shadow":[Ea],ease:["in","out","in-out"],font:[Gee],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ea],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ea],shadow:[Ea],spacing:["px",Ze],text:[Ea],"text-shadow":[Ea],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ps,_e,Oe,y]}],container:["container"],columns:[{columns:[Ze,_e,Oe,u]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[xi,"auto",Oe,_e]}],basis:[{basis:[ps,"full","auto",u,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ze,ps,"auto","initial","none",_e]}],grow:[{grow:["",Ze,Oe,_e]}],shrink:[{shrink:["",Ze,Oe,_e]}],order:[{order:[xi,"first","last","none",Oe,_e]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":M()}],"auto-rows":[{"auto-rows":M()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...q(),"normal"]}],"justify-items":[{"justify-items":[...H(),"normal"]}],"justify-self":[{"justify-self":["auto",...H()]}],"align-content":[{content:["normal",...q()]}],"align-items":[{items:[...H(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...H(),{baseline:["","last"]}]}],"place-content":[{"place-content":q()}],"place-items":[{"place-items":[...H(),"baseline"]}],"place-self":[{"place-self":["auto",...H()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:Z()}],mx:[{mx:Z()}],my:[{my:Z()}],ms:[{ms:Z()}],me:[{me:Z()}],mt:[{mt:Z()}],mr:[{mr:Z()}],mb:[{mb:Z()}],ml:[{ml:Z()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[u,"screen",...Y()]}],"min-w":[{"min-w":[u,"screen","none",...Y()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",r,Sc,lo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Oe,Rb]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Db,_e]}],"font-family":[{font:[Zee,_e,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Oe,_e]}],"line-clamp":[{"line-clamp":[Ze,"none",Oe,Rb]}],leading:[{leading:[o,...E()]}],"list-image":[{"list-image":["none",Oe,_e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Oe,_e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ze,"from-font","auto",Oe,lo]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Ze,"auto",Oe,_e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Oe,_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Oe,_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:F()}],"bg-repeat":[{bg:Q()}],"bg-size":[{bg:U()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},xi,Oe,_e],radial:["",Oe,_e],conic:[xi,Oe,_e]},Yee,qee]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:ce()}],"border-w-x":[{"border-x":ce()}],"border-w-y":[{"border-y":ce()}],"border-w-s":[{"border-s":ce()}],"border-w-e":[{"border-e":ce()}],"border-w-t":[{"border-t":ce()}],"border-w-r":[{"border-r":ce()}],"border-w-b":[{"border-b":ce()}],"border-w-l":[{"border-l":ce()}],"divide-x":[{"divide-x":ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ze,Oe,_e]}],"outline-w":[{outline:["",Ze,Sc,lo]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",v,ff,df]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",h,ff,df]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Ze,lo]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ce()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",m,ff,df]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[Ze,Oe,_e]}],"mix-blend":[{"mix-blend":[...ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Oe,_e]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[Ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:F()}],"mask-repeat":[{mask:Q()}],"mask-size":[{mask:U()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Oe,_e]}],filter:[{filter:["","none",Oe,_e]}],blur:[{blur:ge()}],brightness:[{brightness:[Ze,Oe,_e]}],contrast:[{contrast:[Ze,Oe,_e]}],"drop-shadow":[{"drop-shadow":["","none",b,ff,df]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",Ze,Oe,_e]}],"hue-rotate":[{"hue-rotate":[Ze,Oe,_e]}],invert:[{invert:["",Ze,Oe,_e]}],saturate:[{saturate:[Ze,Oe,_e]}],sepia:[{sepia:["",Ze,Oe,_e]}],"backdrop-filter":[{"backdrop-filter":["","none",Oe,_e]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[Ze,Oe,_e]}],"backdrop-contrast":[{"backdrop-contrast":[Ze,Oe,_e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ze,Oe,_e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ze,Oe,_e]}],"backdrop-invert":[{"backdrop-invert":["",Ze,Oe,_e]}],"backdrop-opacity":[{"backdrop-opacity":[Ze,Oe,_e]}],"backdrop-saturate":[{"backdrop-saturate":[Ze,Oe,_e]}],"backdrop-sepia":[{"backdrop-sepia":["",Ze,Oe,_e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Oe,_e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ze,"initial",Oe,_e]}],ease:[{ease:["linear","initial",j,Oe,_e]}],delay:[{delay:[Ze,Oe,_e]}],animate:[{animate:["none",k,Oe,_e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Oe,_e]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:W()}],"rotate-x":[{"rotate-x":W()}],"rotate-y":[{"rotate-y":W()}],"rotate-z":[{"rotate-z":W()}],scale:[{scale:oe()}],"scale-x":[{"scale-x":oe()}],"scale-y":[{"scale-y":oe()}],"scale-z":[{"scale-z":oe()}],"scale-3d":["scale-3d"],skew:[{skew:ve()}],"skew-x":[{"skew-x":ve()}],"skew-y":[{"skew-y":ve()}],transform:[{transform:[Oe,_e,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:se()}],"translate-x":[{"translate-x":se()}],"translate-y":[{"translate-y":se()}],"translate-z":[{"translate-z":se()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Oe,_e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Oe,_e]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Ze,Sc,lo,Rb]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},tte=Dee(ete);function $t(...e){return tte(He(e))}function dO({className:e,...t}){return a.jsx(fI,{"data-slot":"checkbox",className:$t("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(hI,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:a.jsx(Za,{className:"size-3.5"})})})}function rte({variable:e}){return a.jsxs("div",{style:{maxWidth:"320px",backgroundColor:"white",border:"1px solid var(--border-primary)",borderRadius:"var(--radius-lg)",boxShadow:"0 6px 16px rgba(0,0,0,0.2)",padding:"12px",fontSize:"var(--font-size-xs)",lineHeight:"1.4"},children:[a.jsx("div",{style:{fontFamily:"monospace",fontWeight:"var(--font-weight-semibold)",color:"var(--brand-primary)",marginBottom:"8px",fontSize:"var(--font-size-sm)"},children:e.variable}),e.definition&&a.jsxs("div",{style:{marginBottom:"8px"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",marginBottom:"4px"},children:"Definition"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-primary)",lineHeight:"1.5"},children:e.definition})]}),e.calculation&&a.jsxs("div",{style:{marginBottom:"8px"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",marginBottom:"4px"},children:"Calculation"}),a.jsx("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-xs)",backgroundColor:"var(--background-subtle)",padding:"6px",borderRadius:"var(--radius-md)",color:"var(--text-primary)",overflowX:"auto"},children:e.calculation})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr",gap:"8px 12px",fontSize:"var(--font-size-xs)",marginBottom:"8px"},children:[e.sourceTable&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{color:"var(--text-muted)",fontWeight:"var(--font-weight-medium)"},children:"Source Table:"}),a.jsx("div",{style:{color:"var(--text-primary)"},children:e.sourceTable})]}),a.jsx("div",{style:{color:"var(--text-muted)",fontWeight:"var(--font-weight-medium)"},children:"Planning Level:"}),a.jsx("div",{style:{color:"var(--text-primary)"},children:e.planningLevel}),e.lastUpdate&&a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{color:"var(--text-muted)",fontWeight:"var(--font-weight-medium)"},children:"Last Update:"}),a.jsx("div",{style:{color:"var(--text-primary)"},children:e.lastUpdate})]})]}),e.exampleValues&&e.exampleValues.length>0&&a.jsxs("div",{style:{paddingTop:"8px",borderTop:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",marginBottom:"4px"},children:"Example Values"}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:e.exampleValues.map((t,r)=>a.jsx("span",{style:{fontSize:"var(--font-size-xs)",backgroundColor:"var(--background-subtle)",padding:"2px 6px",borderRadius:"var(--radius-sm)",color:"var(--text-secondary)",fontFamily:"monospace"},children:t},r))})]})]})}function nte({metricName:e,context:t,formula:r,secondaryFormulas:n,variables:i,derivationMethod:o,fallback:l,dataTimestamp:u,snapshotId:d,sourceSystem:f,position:v="top"}){const[h,m]=z.useState(null),[b,w]=z.useState({x:0,y:0}),x=(y,j)=>{m(y);const k=j.target.getBoundingClientRect();w({x:k.right+8,y:k.top})};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"absolute z-50",style:{maxWidth:"420px",backgroundColor:"white",border:"1px solid var(--border-subtle)",borderRadius:"var(--radius-lg)",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",padding:"16px",fontSize:"var(--font-size-xs)",lineHeight:"1.4"},children:[a.jsxs("div",{style:{marginBottom:"12px",paddingBottom:"12px",borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)",marginBottom:"4px"},children:e}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:t})]}),a.jsxs("div",{style:{marginBottom:"12px"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",marginBottom:"6px"},children:"Formula"}),a.jsx("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-xs)",backgroundColor:"var(--background-subtle)",padding:"8px",borderRadius:"var(--radius-md)",color:"var(--text-primary)",overflowX:"auto"},children:r}),n&&n.map((y,j)=>a.jsx("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-xs)",backgroundColor:"var(--background-subtle)",padding:"8px",borderRadius:"var(--radius-md)",color:"var(--text-primary)",marginTop:"4px",overflowX:"auto"},children:y},j))]}),a.jsxs("div",{style:{marginBottom:"12px"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",marginBottom:"6px"},children:"Variable Breakdown"}),a.jsxs("table",{style:{width:"100%",fontSize:"var(--font-size-xs)",borderCollapse:"collapse"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)",backgroundColor:"var(--background-subtle)"},children:[a.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontWeight:"var(--font-weight-medium)"},children:"Variable"}),a.jsx("th",{style:{padding:"6px 8px",textAlign:"right",fontWeight:"var(--font-weight-medium)"},children:"Value"}),a.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontWeight:"var(--font-weight-medium)"},children:"Unit"}),a.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontWeight:"var(--font-weight-medium)"},children:"Source"}),a.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontWeight:"var(--font-weight-medium)"},children:"Level"})]})}),a.jsx("tbody",{children:i.map((y,j)=>a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)",cursor:y.definition?"pointer":"default"},onMouseEnter:k=>y.definition&&x(y,k),onMouseLeave:()=>m(null),children:[a.jsx("td",{style:{padding:"6px 8px",fontFamily:"monospace",color:"var(--text-primary)",textDecoration:y.definition?"underline dotted":"none"},children:y.variable}),a.jsx("td",{style:{padding:"6px 8px",textAlign:"right",fontWeight:"var(--font-weight-medium)",color:"var(--text-primary)"},children:typeof y.value=="number"?y.value.toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2}):y.value}),a.jsx("td",{style:{padding:"6px 8px",color:"var(--text-secondary)"},children:y.unit}),a.jsx("td",{style:{padding:"6px 8px",color:"var(--text-secondary)"},children:y.source}),a.jsx("td",{style:{padding:"6px 8px",color:"var(--text-secondary)"},children:y.planningLevel})]},j))})]})]}),a.jsxs("div",{style:{marginBottom:"12px"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-secondary)",marginBottom:"6px"},children:"Derivation Method"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-primary)",lineHeight:"1.5"},children:o}),l&&a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-warning)",marginTop:"4px",fontStyle:"italic"},children:["Fallback: ",l]})]}),a.jsx("div",{style:{paddingTop:"12px",borderTop:"1px solid var(--border-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:a.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap"},children:[a.jsxs("div",{children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"Timestamp: "}),u]}),a.jsxs("div",{children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"Snapshot: "}),d]}),a.jsxs("div",{children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"Source: "}),f]})]})})]}),h&&h.definition&&a.jsx("div",{style:{position:"fixed",left:`${b.x}px`,top:`${b.y}px`,zIndex:60},children:a.jsx(rte,{variable:h})})]})}function wc({children:e,tooltipProps:t,isDerived:r=!1,isPlanned:n=!1}){const[i,o]=z.useState(!1),[l,u]=z.useState({x:0,y:0}),d=f=>{const v=f.currentTarget.getBoundingClientRect();u({x:v.left,y:v.bottom+8}),o(!0)};return a.jsxs("span",{style:{position:"relative",textDecoration:r?"underline dashed":n?"underline solid":"none",textUnderlineOffset:"2px",cursor:"help",display:"inline-flex",alignItems:"center",gap:"4px"},onMouseEnter:d,onMouseLeave:()=>o(!1),children:[e,r&&a.jsx(Qt,{size:12,style:{color:"var(--text-muted)"}}),i&&a.jsx("div",{style:{position:"fixed",left:`${l.x}px`,top:`${l.y}px`,zIndex:50},children:a.jsx(nte,{...t})})]})}function ate({product:e,onClose:t}){const[r,n]=z.useState("overview"),i=[{name:e.productName,"SOLL Capacity":e.capSollProduct,"Forecast Space":e.forecastSpaceDemand,"Projected Space":e.projectedSpace}],o={metricName:"Derived Product SOLL Capacity",context:`${e.productName} @ ${e.store}`,formula:"Cap_soll(s,i) = Share_soll(s,i)  Cap_soll(s,PG)",variables:[{variable:"Cap_soll(s,PG)",value:e.capSollProductGroup,unit:"m",source:"Capacity Planning",planningLevel:"Product Group"},{variable:"Share_soll(s,i)",value:e.shareSoll,unit:"%",source:"Forecast Engine",planningLevel:"Product",definition:"Forecast-based share of product within product group",calculation:"Share_soll(s,i) = ForecastQty(s,i) /  ForecastQty(s,j  PG)",sourceTable:"forecast.product_shares",lastUpdate:e.dataTimestamp},{variable:"Result",value:e.capSollProduct,unit:"m",source:"Calculated",planningLevel:"Product"}],derivationMethod:"Product SOLL is derived proportionally from Product Group capacity based on forecast share.",dataTimestamp:e.dataTimestamp,snapshotId:e.snapshotId,sourceSystem:e.sourceSystem},l={metricName:"Space per Unit",context:`${e.productName}`,formula:"p_i = p_base(type)  m_thickness  m_presentation",variables:[{variable:"p_base",value:e.pBase,unit:"m",source:"Fixture Model",planningLevel:"Product Type",definition:"Base space requirement per unit based on fixture type",sourceTable:"master.fixture_types",lastUpdate:e.dataTimestamp},{variable:"m_thickness",value:e.mThickness,unit:"factor",source:"Product Attribute",planningLevel:"Product",definition:"Thickness modifier based on product dimensions",sourceTable:"master.products",lastUpdate:e.dataTimestamp},{variable:"m_presentation",value:e.mPresentation,unit:"factor",source:"Presentation Rule",planningLevel:"Store",definition:"Presentation modifier for store-specific display requirements",sourceTable:"config.presentation_rules",lastUpdate:e.dataTimestamp},{variable:"Result",value:e.spacePerUnit,unit:"m/unit",source:"Calculated",planningLevel:"Product"}],derivationMethod:"Space per unit is calculated from base fixture type and product-specific presentation modifiers.",dataTimestamp:e.dataTimestamp,snapshotId:e.snapshotId,sourceSystem:e.sourceSystem},u={metricName:"Forecast Space Demand",context:`${e.productName} @ ${e.store}`,formula:"SpaceNeed_fcst(s,i) = ForecastQty(s,i)  p_i",variables:[{variable:"ForecastQty(s,i)",value:e.forecastQty,unit:"units",source:"Forecast System",planningLevel:"Product",definition:"Forecasted sales quantity for product at store",calculation:"ForecastQty(s,i) =  ForecastSales(s,i,t)",sourceTable:"forecast.product_forecast",lastUpdate:e.dataTimestamp,exampleValues:["1240","1180","1350"]},{variable:"p_i",value:e.spacePerUnit,unit:"m/unit",source:"Parameter Model",planningLevel:"Product"},{variable:"Result",value:e.forecastSpaceDemand,unit:"m",source:"Calculated",planningLevel:"Product"}],derivationMethod:"Projected space requirement based on forecasted sales volume.",dataTimestamp:e.dataTimestamp,snapshotId:e.snapshotId,sourceSystem:e.sourceSystem},d={metricName:"Projected Space Usage",context:`${e.productName} @ ${e.store}`,formula:"ProjectedSpace(s,i) = (OnHand(s,i) + Inbound(s,i) + Reserved(s,i))  p_i",variables:[{variable:"OnHand",value:e.onHand,unit:"units",source:"Inventory",planningLevel:"Store",definition:"Current on-hand inventory at store",sourceTable:"inventory.stock_levels",lastUpdate:e.dataTimestamp},{variable:"Inbound",value:e.inbound,unit:"units",source:"Logistics",planningLevel:"Store",definition:"Inbound shipments in transit to store",sourceTable:"logistics.inbound_shipments",lastUpdate:e.dataTimestamp},{variable:"Reserved",value:e.reserved,unit:"units",source:"Simulation",planningLevel:"Store",definition:"Reserved allocation from simulation",sourceTable:"simulation.allocations",lastUpdate:e.dataTimestamp},{variable:"p_i",value:e.spacePerUnit,unit:"m/unit",source:"Parameter Model",planningLevel:"Product"},{variable:"Result",value:e.projectedSpace,unit:"m",source:"Calculated",planningLevel:"Product"}],derivationMethod:"Projected space usage based on current and inbound inventory plus reserved allocation.",dataTimestamp:e.dataTimestamp,snapshotId:e.snapshotId,sourceSystem:e.sourceSystem},f={metricName:"Capacity Deviation",context:`${e.productName} @ ${e.store}`,formula:"Deviation(s,i) = ProjectedSpace(s,i)  Cap_soll(s,i)",variables:[{variable:"ProjectedSpace(s,i)",value:e.projectedSpace,unit:"m",source:"Calculated",planningLevel:"Product"},{variable:"Cap_soll(s,i)",value:e.capSollProduct,unit:"m",source:"Derived",planningLevel:"Product"},{variable:"Deviation",value:e.deviation,unit:"m",source:"Calculated",planningLevel:"Product"}],derivationMethod:"Capacity risk is evaluated against derived product-level SOLL capacity.",secondaryFormulas:["Status Logic:","  Deviation  0  OK","  0 < Deviation  SoftZone  Warning","  Deviation > SoftZone  Capacity Violation"],dataTimestamp:e.dataTimestamp,snapshotId:e.snapshotId,sourceSystem:e.sourceSystem},v=()=>{switch(e.status){case"OK":return a.jsx(Zr,{size:16,style:{color:"var(--status-success)"}});case"Warning":return a.jsx(Ft,{size:16,style:{color:"var(--status-warning)"}});case"Capacity Violation":return a.jsx(Ft,{size:16,style:{color:"var(--status-error)"}})}},h=()=>{switch(e.status){case"OK":return"var(--status-success)";case"Warning":return"var(--status-warning)";case"Capacity Violation":return"var(--status-error)"}};return a.jsxs("div",{style:{position:"fixed",top:0,right:0,width:"900px",height:"100vh",backgroundColor:"white",borderLeft:"1px solid var(--border-subtle)",zIndex:100,display:"flex",flexDirection:"column",boxShadow:"-4px 0 24px rgba(0,0,0,0.1)"},children:[a.jsxs("div",{style:{padding:"24px",borderBottom:"1px solid var(--border-subtle)",display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[a.jsxs("div",{children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[a.jsx("h2",{style:{margin:0,color:"var(--text-primary)"},children:e.productName}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",padding:"4px 8px",borderRadius:"var(--radius-sm)",backgroundColor:"var(--background-subtle)",color:"var(--text-muted)"},children:e.productNumber})]}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[e.brand,"  ",e.productGroup,"  ",e.store]})]}),a.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",padding:"8px",color:"var(--text-muted)"},children:a.jsx(Et,{size:20})})]}),a.jsx("div",{style:{display:"flex",gap:"4px",padding:"0 24px",borderBottom:"1px solid var(--border-subtle)"},children:["overview","drivers","chart"].map(m=>a.jsx("button",{onClick:()=>n(m),style:{padding:"12px 16px",background:"none",border:"none",borderBottom:r===m?"2px solid var(--brand-primary)":"2px solid transparent",cursor:"pointer",color:r===m?"var(--brand-primary)":"var(--text-muted)",fontWeight:r===m?"var(--font-weight-semibold)":"var(--font-weight-regular)",textTransform:"capitalize"},children:m==="overview"?"Overview":m==="drivers"?"Input Drivers":"Visualization"},m))}),a.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:[r==="overview"&&a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"16px",color:"var(--text-primary)"},children:"Key Metrics"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:[a.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--background-subtle)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"SOLL Capacity"}),a.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"8px"},children:[a.jsx(wc,{tooltipProps:o,isDerived:!0,children:a.jsx("span",{style:{fontSize:"var(--font-size-2xl)",color:"var(--text-primary)"},children:e.capSollProduct.toFixed(2)})}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"m"})]}),a.jsx("div",{style:{marginTop:"8px",fontSize:"var(--font-size-xs)",padding:"4px 8px",backgroundColor:"var(--brand-primary-10)",color:"var(--brand-primary)",borderRadius:"var(--radius-sm)",display:"inline-block"},children:"Derived"})]}),a.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--background-subtle)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Projected Space"}),a.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"8px"},children:[a.jsx(wc,{tooltipProps:d,isDerived:!0,children:a.jsx("span",{style:{fontSize:"var(--font-size-2xl)",color:"var(--text-primary)"},children:e.projectedSpace.toFixed(2)})}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"m"})]})]}),a.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--background-subtle)",borderRadius:"var(--radius-lg)",border:`1px solid ${h()}`},children:[a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:["Capacity Deviation",v()]}),a.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"8px"},children:[a.jsx(wc,{tooltipProps:f,isDerived:!0,children:a.jsxs("span",{style:{fontSize:"var(--font-size-2xl)",color:h()},children:[e.deviation>0?"+":"",e.deviation.toFixed(2)]})}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"m"})]}),a.jsx("div",{style:{marginTop:"8px",fontSize:"var(--font-size-xs)",color:h(),fontWeight:"var(--font-weight-medium)"},children:e.status})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"16px",color:"var(--text-primary)"},children:"Space Parameters"}),a.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--background-subtle)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-subtle)"},children:[a.jsxs("div",{style:{marginBottom:"12px"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Space per Unit"}),a.jsx(wc,{tooltipProps:l,isDerived:!0,children:a.jsxs("span",{style:{fontSize:"var(--font-size-lg)",color:"var(--text-primary)"},children:[e.spacePerUnit.toFixed(4)," m/unit"]})})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",marginTop:"16px"},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Base Space"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:[e.pBase.toFixed(4)," m"]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Thickness Factor"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:e.mThickness.toFixed(2)})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Presentation Factor"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:e.mPresentation.toFixed(2)})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"16px",color:"var(--text-primary)"},children:"Forecast Information"}),a.jsx("div",{style:{padding:"16px",backgroundColor:"var(--background-subtle)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-subtle)"},children:a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Forecast Quantity"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",color:"var(--text-primary)"},children:[e.forecastQty.toLocaleString("de-DE")," units"]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Forecast Space Demand"}),a.jsx(wc,{tooltipProps:u,isDerived:!0,children:a.jsxs("span",{style:{fontSize:"var(--font-size-lg)",color:"var(--text-primary)"},children:[e.forecastSpaceDemand.toFixed(2)," m"]})})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Forecast Version"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--brand-primary)",padding:"4px 8px",backgroundColor:"var(--brand-primary-10)",borderRadius:"var(--radius-sm)",display:"inline-block"},children:e.forecastVersion})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Forecast Horizon"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:e.forecastHorizon})]})]})})]})]}),r==="drivers"&&a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"16px",color:"var(--text-primary)"},children:"Input Drivers"}),a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"var(--font-size-sm)"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"2px solid var(--border-subtle)",backgroundColor:"var(--background-subtle)"},children:[a.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"var(--font-weight-semibold)"},children:"Driver"}),a.jsx("th",{style:{padding:"12px",textAlign:"right",fontWeight:"var(--font-weight-semibold)"},children:"Value"}),a.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"var(--font-weight-semibold)"},children:"Unit"}),a.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"var(--font-weight-semibold)"},children:"Source"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{style:{padding:"12px",color:"var(--text-primary)"},children:"On Hand Inventory"}),a.jsx("td",{style:{padding:"12px",textAlign:"right",color:"var(--text-primary)"},children:e.onHand.toLocaleString("de-DE")}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"units"}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"Inventory System"})]}),a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{style:{padding:"12px",color:"var(--text-primary)"},children:"Inbound Shipments"}),a.jsx("td",{style:{padding:"12px",textAlign:"right",color:"var(--text-primary)"},children:e.inbound.toLocaleString("de-DE")}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"units"}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"Logistics System"})]}),a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{style:{padding:"12px",color:"var(--text-primary)"},children:"Reserved Allocation"}),a.jsx("td",{style:{padding:"12px",textAlign:"right",color:"var(--text-primary)"},children:e.reserved.toLocaleString("de-DE")}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"units"}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"Simulation Engine"})]}),a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)",backgroundColor:"var(--background-subtle)"},children:[a.jsx("td",{style:{padding:"12px",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:"Forecast Quantity"}),a.jsx("td",{style:{padding:"12px",textAlign:"right",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:e.forecastQty.toLocaleString("de-DE")}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"units"}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"Forecast System"})]}),a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{style:{padding:"12px",color:"var(--text-primary)"},children:"PG SOLL Capacity"}),a.jsx("td",{style:{padding:"12px",textAlign:"right",color:"var(--text-primary)"},children:e.capSollProductGroup.toFixed(2)}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"m"}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"Capacity Planning"})]}),a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{style:{padding:"12px",color:"var(--text-primary)"},children:"Forecast Share"}),a.jsx("td",{style:{padding:"12px",textAlign:"right",color:"var(--text-primary)"},children:(e.shareSoll*100).toFixed(2)}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"%"}),a.jsx("td",{style:{padding:"12px",color:"var(--text-muted)"},children:"Forecast Engine"})]})]})]})]}),r==="chart"&&a.jsxs("div",{children:[a.jsx("h3",{style:{marginBottom:"16px",color:"var(--text-primary)"},children:"Capacity Visualization"}),a.jsx("div",{style:{height:"400px",marginBottom:"24px"},children:a.jsx(Yt,{width:"100%",height:"100%",children:a.jsxs(Pr,{data:i,layout:"vertical",children:[a.jsx(bt,{type:"number"}),a.jsx(St,{type:"category",dataKey:"name",width:150}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(Ie,{dataKey:"SOLL Capacity",fill:"var(--brand-primary)"}),a.jsx(Ie,{dataKey:"Forecast Space",fill:"#10b981"}),a.jsx(Ie,{dataKey:"Projected Space",fill:h()})]})})}),a.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--background-subtle)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-subtle)"},children:[a.jsx("h4",{style:{marginBottom:"12px",color:"var(--text-primary)"},children:"Capacity Breakdown"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"SOLL Capacity (Target)"}),a.jsxs("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:[e.capSollProduct.toFixed(2)," m"]})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"Projected Space (Inventory + Inbound + Reserved)"}),a.jsxs("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:[e.projectedSpace.toFixed(2)," m"]})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"Forecast Space (Based on Sales Forecast)"}),a.jsxs("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:[e.forecastSpaceDemand.toFixed(2)," m"]})]}),a.jsxs("div",{style:{paddingTop:"12px",marginTop:"12px",borderTop:"1px solid var(--border-subtle)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:"Deviation"}),a.jsxs("span",{style:{fontWeight:"var(--font-weight-semibold)",color:h()},children:[e.deviation>0?"+":"",e.deviation.toFixed(2)," m (",e.status,")"]})]})]})]})]})]})]})}const fO=[{productNumber:"SKU-5001",productName:'Premium Winter Jacket "Alpine Pro"',brand:"OutdoorGear",productGroup:"Winterbekleidung",purchaseArea:"Sport & Outdoor",store:"Filiale Zrich HB",cluster:"A",season:"HW 2025",capSollProductGroup:24,shareSoll:.18,capSollProduct:4.32,pBase:.012,mThickness:1.3,mPresentation:1.1,spacePerUnit:.0172,forecastQty:1240,forecastSpaceDemand:21.33,onHand:180,inbound:60,reserved:40,projectedSpace:4.82,deviation:.5,status:"Warning",dataTimestamp:"2025-12-17 14:30:00",snapshotId:"SNAP-2025-12-17-001",sourceSystem:"BLICK Allocation Engine",forecastVersion:"FCast-2025-W50",forecastHorizon:"Q1 2025 (12 weeks)"},{productNumber:"SKU-5002",productName:'Running Shoes "Velocity Max"',brand:"SportLine",productGroup:"Schuhe",purchaseArea:"Sport & Outdoor",store:"Filiale Zrich HB",cluster:"A",season:"SW 2025",capSollProductGroup:18.5,shareSoll:.22,capSollProduct:4.07,pBase:.008,mThickness:1.2,mPresentation:1.05,spacePerUnit:.01008,forecastQty:890,forecastSpaceDemand:8.97,onHand:220,inbound:80,reserved:100,projectedSpace:4.03,deviation:-.04,status:"OK",dataTimestamp:"2025-12-17 14:30:00",snapshotId:"SNAP-2025-12-17-001",sourceSystem:"BLICK Allocation Engine",forecastVersion:"FCast-2025-W50",forecastHorizon:"Q2 2025 (12 weeks)"},{productNumber:"SKU-5003",productName:'Yoga Mat "Premium Eco"',brand:"FitnessPro",productGroup:"Fitnessausrstung",purchaseArea:"Sport & Outdoor",store:"Filiale Bern Westside",cluster:"B",season:"NOS - Never out of Stock",capSollProductGroup:12,shareSoll:.15,capSollProduct:1.8,pBase:.005,mThickness:1.1,mPresentation:1,spacePerUnit:.0055,forecastQty:450,forecastSpaceDemand:2.48,onHand:120,inbound:30,reserved:50,projectedSpace:1.1,deviation:-.7,status:"OK",dataTimestamp:"2025-12-17 14:30:00",snapshotId:"SNAP-2025-12-17-001",sourceSystem:"BLICK Allocation Engine",forecastVersion:"FCast-2025-W50",forecastHorizon:"Ongoing (NOS)"},{productNumber:"SKU-5004",productName:'Ski Goggles "Vision HD"',brand:"SnowTech",productGroup:"Winterausrstung",purchaseArea:"Sport & Outdoor",store:"Filiale Zrich HB",cluster:"A",season:"HW 2025",capSollProductGroup:8.5,shareSoll:.25,capSollProduct:2.13,pBase:.004,mThickness:1,mPresentation:1.15,spacePerUnit:.0046,forecastQty:680,forecastSpaceDemand:3.13,onHand:320,inbound:150,reserved:80,projectedSpace:2.53,deviation:.4,status:"Warning",dataTimestamp:"2025-12-17 14:30:00",snapshotId:"SNAP-2025-12-17-001",sourceSystem:"BLICK Allocation Engine",forecastVersion:"FCast-2025-W50",forecastHorizon:"Q1 2025 (12 weeks)"},{productNumber:"SKU-5005",productName:'Camping Tent "Family XL"',brand:"OutdoorGear",productGroup:"Camping",purchaseArea:"Sport & Outdoor",store:"Filiale Basel St. Johann",cluster:"B",season:"SW 2025",capSollProductGroup:28,shareSoll:.12,capSollProduct:3.36,pBase:.025,mThickness:1.5,mPresentation:1.2,spacePerUnit:.045,forecastQty:180,forecastSpaceDemand:8.1,onHand:45,inbound:20,reserved:30,projectedSpace:4.28,deviation:.92,status:"Capacity Violation",dataTimestamp:"2025-12-17 14:30:00",snapshotId:"SNAP-2025-12-17-001",sourceSystem:"BLICK Allocation Engine",forecastVersion:"FCast-2025-W50",forecastHorizon:"Q2 2025 (12 weeks)"},{productNumber:"SKU-5006",productName:'Basketball "Pro League"',brand:"SportLine",productGroup:"Ballsport",purchaseArea:"Sport & Outdoor",store:"Filiale Genf Cornavin",cluster:"A",season:"NOS - Never out of Stock",capSollProductGroup:6,shareSoll:.2,capSollProduct:1.2,pBase:.003,mThickness:1,mPresentation:1,spacePerUnit:.003,forecastQty:560,forecastSpaceDemand:1.68,onHand:280,inbound:90,reserved:50,projectedSpace:1.26,deviation:.06,status:"Warning",dataTimestamp:"2025-12-17 14:30:00",snapshotId:"SNAP-2025-12-17-001",sourceSystem:"BLICK Allocation Engine",forecastVersion:"FCast-2025-W50",forecastHorizon:"Ongoing (NOS)"}],hs=[{id:"zh-hb-running-shoes-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"SP-RUN-001",product:"Running Shoes Pro",brand:"Nike",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:23,targetCapacity:24,forecastSuggestion:24,inventory:460},{id:"zh-hb-hiking-shoes-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"SP-HIK-002",product:"Hiking Boots",brand:"Salomon",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:28,targetCapacity:28,forecastSuggestion:28,inventory:560},{id:"zh-hb-casual-shoes-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"SP-CAS-003",product:"Casual Sneakers",brand:"Adidas",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:27,targetCapacity:28,forecastSuggestion:27,inventory:540},{id:"zh-hb-winter-jacket-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AP-WIN-004",product:"Winter Jacket",brand:"The North Face",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:45,actualCapacity:43,targetCapacity:42,forecastSuggestion:40,inventory:860},{id:"zh-hb-fleece-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AP-FLE-005",product:"Fleece Pullover",brand:"Patagonia",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:35,actualCapacity:34,targetCapacity:33,forecastSuggestion:32,inventory:680},{id:"zh-hb-pants-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AP-PAN-006",product:"Sport Pants",brand:"Under Armour",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:29,targetCapacity:28,forecastSuggestion:27,inventory:580},{id:"zh-hb-socks-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AC-SOC-007",product:"Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:15,actualCapacity:13,targetCapacity:14,forecastSuggestion:13,inventory:260},{id:"zh-hb-backpack-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AC-BAC-008",product:"Backpack",brand:"Deuter",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:17,targetCapacity:19,forecastSuggestion:18,inventory:340},{id:"zh-hb-gloves-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AC-GLO-009",product:"Winter Gloves",brand:"The North Face",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:10,actualCapacity:8,targetCapacity:9,forecastSuggestion:9,inventory:160},{id:"zh-hb-smartwatch-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"EL-SMA-010",product:"Smartwatch",brand:"Garmin",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:18,targetCapacity:19,forecastSuggestion:19,inventory:360},{id:"zh-hb-headphones-hw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"EL-HEA-011",product:"Headphones",brand:"Sony",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:15,actualCapacity:13,targetCapacity:13,forecastSuggestion:13,inventory:260},{id:"zh-hb-running-shoes-sw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"SP-RUN-001",product:"Running Shoes Pro",brand:"Nike",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"SW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:22,targetCapacity:23,forecastSuggestion:23,inventory:440},{id:"zh-hb-summer-shoes-sw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"SP-SUM-012",product:"Summer Sandals",brand:"Birkenstock",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"SW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:26,targetCapacity:27,forecastSuggestion:27,inventory:520},{id:"zh-hb-tshirt-sw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AP-TSH-013",product:"T-Shirt",brand:"Adidas",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"SW 2025",allocationType:"Initiale Allokation",totalCapacity:40,actualCapacity:38,targetCapacity:37,forecastSuggestion:36,inventory:760},{id:"zh-hb-shorts-sw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AP-SHO-014",product:"Shorts",brand:"Nike",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"SW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:28,targetCapacity:27,forecastSuggestion:26,inventory:560},{id:"zh-hb-sunglasses-sw25",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AC-SUN-015",product:"Sunglasses",brand:"Ray-Ban",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"SW 2025",allocationType:"Initiale Allokation",totalCapacity:12,actualCapacity:10,targetCapacity:11,forecastSuggestion:11,inventory:200},{id:"bs-sbb-running-shoes-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"SP-RUN-001",product:"Running Shoes Pro",brand:"Nike",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:17,targetCapacity:19,forecastSuggestion:19,inventory:340},{id:"bs-sbb-hiking-shoes-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"SP-HIK-002",product:"Hiking Boots",brand:"Salomon",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:21,targetCapacity:23,forecastSuggestion:24,inventory:420},{id:"bs-sbb-casual-shoes-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"SP-CAS-003",product:"Casual Sneakers",brand:"Adidas",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:20,targetCapacity:23,forecastSuggestion:24,inventory:400},{id:"bs-sbb-winter-jacket-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AP-WIN-004",product:"Winter Jacket",brand:"The North Face",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:35,actualCapacity:33,targetCapacity:32,forecastSuggestion:31,inventory:660},{id:"bs-sbb-fleece-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AP-FLE-005",product:"Fleece Pullover",brand:"Patagonia",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:28,targetCapacity:27,forecastSuggestion:26,inventory:560},{id:"bs-sbb-pants-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AP-PAN-006",product:"Sport Pants",brand:"Under Armour",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:23,targetCapacity:23,forecastSuggestion:22,inventory:460},{id:"bs-sbb-socks-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AC-SOC-007",product:"Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:12,actualCapacity:8,targetCapacity:10,forecastSuggestion:10,inventory:160},{id:"bs-sbb-backpack-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AC-BAC-008",product:"Backpack",brand:"Deuter",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:15,actualCapacity:10,targetCapacity:13,forecastSuggestion:12,inventory:200},{id:"bs-sbb-gloves-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AC-GLO-009",product:"Winter Gloves",brand:"The North Face",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:8,actualCapacity:4,targetCapacity:7,forecastSuggestion:6,inventory:80},{id:"bs-sbb-smartwatch-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"EL-SMA-010",product:"Smartwatch",brand:"Garmin",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:15,actualCapacity:12,targetCapacity:13,forecastSuggestion:14,inventory:240},{id:"bs-sbb-headphones-hw25",store:"Basel SBB",cluster:"Urban Standard",productNumber:"EL-HEA-011",product:"Headphones",brand:"Sony",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:10,actualCapacity:8,targetCapacity:9,forecastSuggestion:9,inventory:160},{id:"be-bhf-running-shoes-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"SP-RUN-001",product:"Running Shoes Pro",brand:"Nike",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:18,actualCapacity:14,targetCapacity:16,forecastSuggestion:17,inventory:280},{id:"be-bhf-hiking-shoes-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"SP-HIK-002",product:"Hiking Boots",brand:"Salomon",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:22,actualCapacity:18,targetCapacity:20,forecastSuggestion:21,inventory:360},{id:"be-bhf-casual-shoes-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"SP-CAS-003",product:"Casual Sneakers",brand:"Adidas",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:15,targetCapacity:18,forecastSuggestion:19,inventory:300},{id:"be-bhf-winter-jacket-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"AP-WIN-004",product:"Winter Jacket",brand:"The North Face",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:30,actualCapacity:29,targetCapacity:28,forecastSuggestion:27,inventory:580},{id:"be-bhf-fleece-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"AP-FLE-005",product:"Fleece Pullover",brand:"Patagonia",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:24,targetCapacity:23,forecastSuggestion:22,inventory:480},{id:"be-bhf-pants-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"AP-PAN-006",product:"Sport Pants",brand:"Under Armour",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:19,targetCapacity:18,forecastSuggestion:18,inventory:380},{id:"be-bhf-socks-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"AC-SOC-007",product:"Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:8,actualCapacity:5,targetCapacity:7,forecastSuggestion:6,inventory:100},{id:"be-bhf-backpack-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"AC-BAC-008",product:"Backpack",brand:"Deuter",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:10,actualCapacity:6,targetCapacity:9,forecastSuggestion:8,inventory:120},{id:"be-bhf-gloves-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"AC-GLO-009",product:"Winter Gloves",brand:"The North Face",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:5,actualCapacity:2,targetCapacity:4,forecastSuggestion:3,inventory:40},{id:"be-bhf-smartwatch-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"EL-SMA-010",product:"Smartwatch",brand:"Garmin",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:12,actualCapacity:9,targetCapacity:10,forecastSuggestion:11,inventory:180},{id:"be-bhf-headphones-hw25",store:"Bern Bahnhof",cluster:"Regional",productNumber:"EL-HEA-011",product:"Headphones",brand:"Sony",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:8,actualCapacity:6,targetCapacity:7,forecastSuggestion:7,inventory:120},{id:"lu-running-shoes-hw25",store:"Luzern",cluster:"Regional",productNumber:"SP-RUN-001",product:"Running Shoes Pro",brand:"Nike",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:16,targetCapacity:18,forecastSuggestion:19,inventory:320},{id:"lu-hiking-shoes-hw25",store:"Luzern",cluster:"Regional",productNumber:"SP-HIK-002",product:"Hiking Boots",brand:"Salomon",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:20,targetCapacity:22,forecastSuggestion:23,inventory:400},{id:"lu-casual-shoes-hw25",store:"Luzern",cluster:"Regional",productNumber:"SP-CAS-003",product:"Casual Sneakers",brand:"Adidas",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:22,actualCapacity:17,targetCapacity:20,forecastSuggestion:21,inventory:340},{id:"lu-winter-jacket-hw25",store:"Luzern",cluster:"Regional",productNumber:"AP-WIN-004",product:"Winter Jacket",brand:"The North Face",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:32,actualCapacity:31,targetCapacity:30,forecastSuggestion:29,inventory:620},{id:"lu-fleece-hw25",store:"Luzern",cluster:"Regional",productNumber:"AP-FLE-005",product:"Fleece Pullover",brand:"Patagonia",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:28,actualCapacity:27,targetCapacity:26,forecastSuggestion:25,inventory:540},{id:"lu-pants-hw25",store:"Luzern",cluster:"Regional",productNumber:"AP-PAN-006",product:"Sport Pants",brand:"Under Armour",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:22,actualCapacity:21,targetCapacity:20,forecastSuggestion:20,inventory:420},{id:"lu-socks-hw25",store:"Luzern",cluster:"Regional",productNumber:"AC-SOC-007",product:"Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:10,actualCapacity:7,targetCapacity:9,forecastSuggestion:8,inventory:140},{id:"lu-backpack-hw25",store:"Luzern",cluster:"Regional",productNumber:"AC-BAC-008",product:"Backpack",brand:"Deuter",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:12,actualCapacity:8,targetCapacity:10,forecastSuggestion:10,inventory:160},{id:"lu-gloves-hw25",store:"Luzern",cluster:"Regional",productNumber:"AC-GLO-009",product:"Winter Gloves",brand:"The North Face",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:7,actualCapacity:4,targetCapacity:6,forecastSuggestion:5,inventory:80},{id:"lu-smartwatch-hw25",store:"Luzern",cluster:"Regional",productNumber:"EL-SMA-010",product:"Smartwatch",brand:"Garmin",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:10,actualCapacity:8,targetCapacity:9,forecastSuggestion:9,inventory:160},{id:"lu-headphones-hw25",store:"Luzern",cluster:"Regional",productNumber:"EL-HEA-011",product:"Headphones",brand:"Sony",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:8,actualCapacity:6,targetCapacity:7,forecastSuggestion:7,inventory:120},{id:"ge-running-shoes-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"SP-RUN-001",product:"Running Shoes Pro",brand:"Nike",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:28,actualCapacity:26,targetCapacity:27,forecastSuggestion:27,inventory:520},{id:"ge-hiking-shoes-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"SP-HIK-002",product:"Hiking Boots",brand:"Salomon",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:32,actualCapacity:30,targetCapacity:31,forecastSuggestion:30,inventory:600},{id:"ge-casual-shoes-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"SP-CAS-003",product:"Casual Sneakers",brand:"Adidas",productGroup:"Shoes",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:35,actualCapacity:32,targetCapacity:33,forecastSuggestion:32,inventory:640},{id:"ge-winter-jacket-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"AP-WIN-004",product:"Winter Jacket",brand:"The North Face",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:50,actualCapacity:48,targetCapacity:47,forecastSuggestion:45,inventory:960},{id:"ge-fleece-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"AP-FLE-005",product:"Fleece Pullover",brand:"Patagonia",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:38,actualCapacity:36,targetCapacity:35,forecastSuggestion:34,inventory:720},{id:"ge-pants-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"AP-PAN-006",product:"Sport Pants",brand:"Under Armour",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:32,actualCapacity:30,targetCapacity:30,forecastSuggestion:29,inventory:600},{id:"ge-socks-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"AC-SOC-007",product:"Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:18,actualCapacity:15,targetCapacity:17,forecastSuggestion:16,inventory:300},{id:"ge-backpack-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"AC-BAC-008",product:"Backpack",brand:"Deuter",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:22,actualCapacity:19,targetCapacity:21,forecastSuggestion:20,inventory:380},{id:"ge-gloves-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"AC-GLO-009",product:"Winter Gloves",brand:"The North Face",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:12,actualCapacity:10,targetCapacity:11,forecastSuggestion:11,inventory:200},{id:"ge-smartwatch-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"EL-SMA-010",product:"Smartwatch",brand:"Garmin",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:22,actualCapacity:20,targetCapacity:21,forecastSuggestion:21,inventory:400},{id:"ge-headphones-hw25",store:"Genf",cluster:"Urban Premium",productNumber:"EL-HEA-011",product:"Headphones",brand:"Sony",productGroup:"Electronics",purchaseArea:"Elektronik",season:"HW 2025",allocationType:"Initiale Allokation",totalCapacity:18,actualCapacity:16,targetCapacity:17,forecastSuggestion:17,inventory:320},{id:"zh-hb-basic-socks-nos",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AC-BAS-NOS-01",product:"Basic Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"NOS - Never out of Stock",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:18,targetCapacity:19,forecastSuggestion:19,inventory:360},{id:"bs-sbb-basic-socks-nos",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AC-BAS-NOS-01",product:"Basic Sport Socks",brand:"Nike",productGroup:"Accessories",purchaseArea:"Sport & Outdoor",season:"NOS - Never out of Stock",allocationType:"Initiale Allokation",totalCapacity:15,actualCapacity:13,targetCapacity:14,forecastSuggestion:14,inventory:260},{id:"zh-hb-basic-tshirt-nos",store:"Zrich HB",cluster:"Urban Premium",productNumber:"AP-BAS-NOS-02",product:"Basic T-Shirt",brand:"Adidas",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"NOS - Never out of Stock",allocationType:"Initiale Allokation",totalCapacity:25,actualCapacity:23,targetCapacity:24,forecastSuggestion:24,inventory:460},{id:"bs-sbb-basic-tshirt-nos",store:"Basel SBB",cluster:"Urban Standard",productNumber:"AP-BAS-NOS-02",product:"Basic T-Shirt",brand:"Adidas",productGroup:"Apparel",purchaseArea:"Sport & Outdoor",season:"NOS - Never out of Stock",allocationType:"Initiale Allokation",totalCapacity:20,actualCapacity:18,targetCapacity:19,forecastSuggestion:19,inventory:360}],ite={OK:"var(--status-success)",berbelegt:"var(--status-danger)",Unterbelegt:"var(--status-warning)"},Ib=e=>e<75?"#10b981":e<85?"#eab308":e<95?"#f97316":"#ef4444",pf=e=>e>10?"berbelegt":e<-20?"Unterbelegt":"OK";function ote({onNavigate:e}){const[t,r]=z.useState({}),[n,i]=z.useState(!1),[o,l]=z.useState(null),[u,d]=z.useState(!1),[f,v]=z.useState(null),[h,m]=z.useState(null),[b,w]=z.useState(!1),[x,y]=z.useState(""),[j,k]=z.useState(""),[S,N]=z.useState(""),[A,O]=z.useState(""),[_,E]=z.useState([]),[T,I]=z.useState(null),[R,L]=z.useState("Gesamt"),[M,q]=z.useState(""),[H,Z]=z.useState(""),[Y,$]=z.useState("Produktgruppe"),[F,Q]=z.useState(["HW 2025","SW 2025","HW 2026","SW 2026","NOS - Never out of Stock"]),[U,B]=z.useState("Initiale Allokation"),[te,ce]=z.useState("m"),[he,ue]=z.useState("2025-01-01"),[ae,ge]=z.useState("2025-12-31"),[W,oe]=z.useState(""),[ve,se]=z.useState(""),De=["HW 2025","SW 2025","HW 2026","SW 2026","NOS - Never out of Stock"],Me=z.useMemo(()=>Array.from(new Set(hs.map(re=>re.cluster))),[]),tt=z.useMemo(()=>Array.from(new Set(hs.map(re=>re.store))),[]),rt=z.useMemo(()=>Array.from(new Set(hs.map(re=>re.purchaseArea))),[]);z.useMemo(()=>{let re=hs;return W&&(re=re.filter(ke=>ke.purchaseArea===W)),Array.from(new Set(re.map(ke=>ke.productGroup)))},[W]);const Ye=z.useMemo(()=>{let re=hs;W&&(re=re.filter(ee=>ee.purchaseArea===W));const ke=new Map;re.forEach(ee=>{ke.has(ee.productNumber)||ke.set(ee.productNumber,ee)});let de=Array.from(ke.values());return x&&(de=de.filter(ee=>ee.productNumber.toLowerCase().includes(x.toLowerCase()))),j&&(de=de.filter(ee=>ee.product.toLowerCase().includes(j.toLowerCase()))),S&&(de=de.filter(ee=>ee.brand.toLowerCase().includes(S.toLowerCase()))),A&&(de=de.filter(ee=>ee.season===A)),de},[W,x,j,S,A]),Ut=z.useMemo(()=>F.length===0?[]:hs.filter(ke=>!(!F.includes(ke.season)||ke.allocationType!==U||R==="Cluster"&&M&&ke.cluster!==M||R==="Filiale"&&H&&ke.store!==H||W&&ke.purchaseArea!==W||ve&&ke.productGroup!==ve||Y==="Produkt"&&_.length>0&&!_.includes(ke.productNumber))),[F,U,R,M,H,W,ve,_,Y]),ct=z.useMemo(()=>{const re=[];if(Y==="Produkt"){const ke=new Map;Ut.forEach(de=>{let ee="";R==="Gesamt"?ee=de.productNumber:R==="Cluster"?ee=`${de.cluster}-${de.productNumber}`:ee=`${de.store}-${de.productNumber}`,ke.has(ee)||ke.set(ee,[]),ke.get(ee).push(de)}),ke.forEach((de,ee)=>{const fe=de.reduce((et,Ve)=>et+Ve.totalCapacity,0),K=de.reduce((et,Ve)=>et+Ve.actualCapacity,0),me=de.reduce((et,Ve)=>et+(t[Ve.id]??Ve.targetCapacity),0),je=de.reduce((et,Ve)=>et+Ve.forecastSuggestion,0),vt=de.reduce((et,Ve)=>et+Ve.inventory,0),Jr=fe>0?K/fe*100:0,Kt=fe>0?me/fe*100:0,Tt=K-me;re.push({id:`agg-${ee}`,level:`${de[0].productNumber} - ${de[0].product}`,evaluationLevel:R,cluster:de[0].cluster,store:R==="Filiale"?de[0].store:void 0,hierarchyLevel:"Produkt",category:de[0].product,totalCapacity:fe,actualCapacity:K,actualUtilization:Jr,targetCapacity:me,targetUtilization:Kt,forecastSuggestion:je,deviation:Tt,inventory:vt,status:pf(Tt)})})}else if(Y==="Produktgruppe"){const ke=new Map;Ut.forEach(de=>{let ee="";R==="Gesamt"?ee=de.productGroup:R==="Cluster"?ee=`${de.cluster}-${de.productGroup}`:ee=`${de.store}-${de.productGroup}`,ke.has(ee)||ke.set(ee,[]),ke.get(ee).push(de)}),ke.forEach((de,ee)=>{const fe=de.reduce((en,Er)=>en+Er.totalCapacity,0),K=de.reduce((en,Er)=>en+Er.actualCapacity,0),me=de.reduce((en,Er)=>en+Er.targetCapacity,0),je=`agg-${ee}`,vt=t[je]??me,Jr=de.reduce((en,Er)=>en+Er.forecastSuggestion,0),Kt=de.reduce((en,Er)=>en+Er.inventory,0),Tt=fe>0?K/fe*100:0,et=fe>0?vt/fe*100:0,Ve=K-vt;re.push({id:je,level:de[0].productGroup,evaluationLevel:R,cluster:de[0].cluster,store:R==="Filiale"?de[0].store:void 0,hierarchyLevel:"Produktgruppe",category:de[0].productGroup,totalCapacity:fe,actualCapacity:K,actualUtilization:Tt,targetCapacity:vt,targetUtilization:et,forecastSuggestion:Jr,deviation:Ve,inventory:Kt,status:pf(Ve)})})}else if(Y==="Einkaufsbereich"){const ke=new Map;Ut.forEach(de=>{let ee="";R==="Gesamt"?ee=de.purchaseArea:R==="Cluster"?ee=`${de.cluster}-${de.purchaseArea}`:ee=`${de.store}-${de.purchaseArea}`,ke.has(ee)||ke.set(ee,[]),ke.get(ee).push(de)}),ke.forEach((de,ee)=>{const fe=de.reduce((et,Ve)=>et+Ve.totalCapacity,0),K=de.reduce((et,Ve)=>et+Ve.actualCapacity,0),me=de.reduce((et,Ve)=>et+(t[Ve.id]??Ve.targetCapacity),0),je=de.reduce((et,Ve)=>et+Ve.forecastSuggestion,0),vt=de.reduce((et,Ve)=>et+Ve.inventory,0),Jr=fe>0?K/fe*100:0,Kt=fe>0?me/fe*100:0,Tt=K-me;re.push({id:`agg-${ee}`,level:de[0].purchaseArea,evaluationLevel:R,cluster:de[0].cluster,store:R==="Filiale"?de[0].store:void 0,hierarchyLevel:"Einkaufsbereich",category:de[0].purchaseArea,totalCapacity:fe,actualCapacity:K,actualUtilization:Jr,targetCapacity:me,targetUtilization:Kt,forecastSuggestion:je,deviation:Tt,inventory:vt,status:pf(Tt)})})}else{const ke=new Map;Ut.forEach(de=>{let ee="";R==="Gesamt"?ee="BLICK Gesamt":R==="Cluster"?ee=de.cluster:ee=de.store,ke.has(ee)||ke.set(ee,[]),ke.get(ee).push(de)}),ke.forEach((de,ee)=>{const fe=de.reduce((et,Ve)=>et+Ve.totalCapacity,0),K=de.reduce((et,Ve)=>et+Ve.actualCapacity,0),me=de.reduce((et,Ve)=>et+(t[Ve.id]??Ve.targetCapacity),0),je=de.reduce((et,Ve)=>et+Ve.forecastSuggestion,0),vt=de.reduce((et,Ve)=>et+Ve.inventory,0),Jr=fe>0?K/fe*100:0,Kt=fe>0?me/fe*100:0,Tt=K-me;re.push({id:`agg-${ee}`,level:ee,evaluationLevel:R,cluster:R!=="Gesamt"?de[0].cluster:void 0,store:R==="Filiale"?de[0].store:void 0,hierarchyLevel:"Unternehmen",category:"Alle Bereiche",totalCapacity:fe,actualCapacity:K,actualUtilization:Jr,targetCapacity:me,targetUtilization:Kt,forecastSuggestion:je,deviation:Tt,inventory:vt,status:pf(Tt)})})}return re},[Ut,Y,R,t]),it=z.useMemo(()=>{const re=ct.reduce((me,je)=>me+je.totalCapacity,0),ke=ct.reduce((me,je)=>me+je.actualCapacity,0),de=ct.reduce((me,je)=>me+je.targetCapacity,0),ee=ke-de,fe=re>0?ke/re*100:0,K=re>0?de/re*100:0;return{totalCapacity:re,actualUtilization:fe,targetUtilization:K,deviation:ee}},[ct]),Ht=z.useMemo(()=>ct.slice(0,10).map(re=>({name:re.level,SOLL:re.targetCapacity,IST:re.actualCapacity})),[ct]),nr=z.useMemo(()=>ct.slice(0,8).map(re=>({level:re.level,utilization:re.actualUtilization,color:Ib(re.actualUtilization)})),[ct]),Ge=(re,ke)=>{r(de=>({...de,[re]:ke})),i(!0)},qe=re=>{const ke=ct.find(de=>de.id===re);ke&&(Ge(re,ke.forecastSuggestion),d(!1))},ht=()=>{m({message:"Prognose erfolgreich neu berechnet",type:"success"}),setTimeout(()=>m(null),3e3)},ut=()=>{const re=ct.filter(ke=>ke.status==="berbelegt").length;re>0?m({message:`berkapazitt in ${re} Bereichen erkannt`,type:"warning"}):m({message:"Kapazittsplanung gespeichert",type:"success"}),setTimeout(()=>m(null),3e3),i(!1)},nt=()=>{r({}),i(!1)},gr=re=>{v(re),d(!0)},vn=re=>{L(re),q(""),Z("")},Sr=re=>{q(re),Z("")},Wr=re=>{Q(ke=>ke.includes(re)?ke.filter(de=>de!==re):[...ke,re])},mn=()=>{F.length===De.length?Q([]):Q([...De])},Or=re=>{E(ke=>ke.includes(re)?ke.filter(de=>de!==re):[...ke,re])},Qr=()=>{_.length===Ye.length?E([]):E(Ye.map(re=>re.productNumber))},Ki=()=>{w(!1)},ya=[{key:"level",label:"Ebene",sortable:!0,render:(re,ke)=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("span",{children:re}),Y==="Produkt"&&ke.hierarchyLevel==="Produkt"&&a.jsx(Qt,{size:14,style:{color:"var(--brand-primary)",cursor:"pointer",opacity:.7},title:"Klicken fr Details"})]})},{key:"totalCapacity",label:"Gesamtkapazitt",align:"right",render:re=>`${re} m`},{key:"actualCapacity",label:"IST-Kapazitt",align:"right",render:re=>`${re} m`},{key:"actualUtilization",label:"IST-Auslastung",align:"right",render:re=>a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:Ib(re),color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[re.toFixed(1),"%"]})},{key:"targetCapacity",label:"SOLL-Kapazitt",align:"right",render:(re,ke)=>{const de=ke.hierarchyLevel==="Produktgruppe",ee=re;return a.jsxs("div",{className:"flex items-center gap-2",style:{minWidth:"200px"},children:[a.jsx("input",{type:"range",min:0,max:ke.totalCapacity,step:5,value:ee,onChange:fe=>de&&Ge(ke.id,Number(fe.target.value)),disabled:!de,className:"flex-1",style:{cursor:de?"pointer":"not-allowed",opacity:de?1:.5}}),a.jsx("input",{type:"number",value:ee,onChange:fe=>de&&Ge(ke.id,Number(fe.target.value)),disabled:!de,className:"w-16 px-2 py-1 border rounded text-right",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:de?"var(--surface-page)":"var(--surface-subtle)",cursor:de?"text":"not-allowed",opacity:de?1:.6}})]})}},{key:"targetUtilization",label:"SOLL-Auslastung",align:"right",render:re=>`${re.toFixed(1)}%`},{key:"forecastSuggestion",label:"Prognose-Vorschlag",align:"right",render:(re,ke)=>a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsxs("span",{children:[re," m"]}),a.jsx("button",{onClick:()=>gr(ke),className:"px-2 py-1 rounded",style:{backgroundColor:"var(--status-info)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Empfohlen"})]})},{key:"deviation",label:"Abweichung",align:"right",render:re=>{const ke=re;return a.jsxs("span",{style:{color:ke>0?"var(--status-danger)":"var(--status-success)"},children:[ke>0?"+":"",ke," m"]})}},{key:"inventory",label:"Bestand (in Stck)",align:"right",render:re=>re?re.toLocaleString("de-CH"):"-"},{key:"status",label:"Status",render:re=>a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:ite[re],color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:re})}];return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Kapazittsplanung"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Analyse, Steuerung und Optimierung der Flchenkapazitt je Filiale und Sortiment"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:ht,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Prognose neu berechnen"}),a.jsx("button",{onClick:ut,disabled:!n,className:"px-4 py-2 rounded-lg",style:{backgroundColor:n?"var(--button-primary-bg)":"var(--border-default)",color:"var(--button-primary-text)",height:"var(--height-button-md)",cursor:n?"pointer":"not-allowed",opacity:n?1:.5},children:"nderungen bernehmen"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:"Organisationsebene"}),a.jsxs("select",{value:R,onChange:re=>vn(re.target.value),className:"px-3 py-2 border rounded-lg min-w-[160px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"Gesamt",children:"Gesamt"}),a.jsx("option",{value:"Cluster",children:"Cluster"}),a.jsx("option",{value:"Filiale",children:"Filiale"})]})]}),R==="Cluster"&&a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:"Cluster"}),a.jsxs("select",{value:M,onChange:re=>Sr(re.target.value),className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"",children:"Alle Cluster"}),Me.map(re=>a.jsx("option",{value:re,children:re},re))]})]}),R==="Filiale"&&a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:"Filiale"}),a.jsxs("select",{value:H,onChange:re=>Z(re.target.value),className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"",children:"Alle Filialen"}),tt.map(re=>a.jsx("option",{value:re,children:re},re))]})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:["Artikelhierarchieebene",Y==="Produktgruppe"&&a.jsx("span",{style:{marginLeft:"var(--space-2)",color:"var(--status-success)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Planungsebene"})]}),a.jsxs("select",{value:Y,onChange:re=>$(re.target.value),className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"Unternehmen",children:"Unternehmen"}),a.jsx("option",{value:"Einkaufsbereich",children:"Einkaufsbereich"}),a.jsx("option",{value:"Produktgruppe",children:"Produktgruppe"}),a.jsx("option",{value:"Produkt",children:"Produkt"})]})]}),(Y==="Produktgruppe"||Y==="Produkt")&&a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:"Einkaufsbereich"}),a.jsxs("select",{value:W,onChange:re=>{oe(re.target.value),se(""),E([])},className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"",children:"Alle Bereiche"}),rt.map(re=>a.jsx("option",{value:re,children:re},re))]})]}),Y==="Produkt"&&a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:["Produkt (",_.length," ausgewhlt)"]}),a.jsxs("button",{onClick:()=>w(!0),className:"px-3 py-2 border rounded-lg min-w-[180px] flex items-center justify-between",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",textAlign:"left"},children:[a.jsx("span",{children:_.length>0?`${_.length} Produkte`:"Produkt auswhlen"}),a.jsx(fn,{size:16})]})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:["Saison (",F.length," ausgewhlt)"]}),a.jsx("div",{className:"relative",children:a.jsxs("select",{className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:F.length===0?"var(--status-danger)":"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},onChange:re=>{re.target.value==="ALL"?mn():re.target.value&&Wr(re.target.value),re.target.value=""},value:"",children:[a.jsx("option",{value:"",disabled:!0,children:"Saison whlen..."}),a.jsx("option",{value:"ALL",children:F.length===De.length?" Alle abwhlen":" Alle auswhlen"}),De.map(re=>a.jsxs("option",{value:re,children:[F.includes(re)?" ":" ",re]},re))]})})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:"Allokationstyp"}),a.jsxs("select",{value:U,onChange:re=>B(re.target.value),className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"Initiale Allokation",children:"Initiale Allokation"}),a.jsx("option",{value:"Nachschub",children:"Nachschub"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)",display:"block",color:"var(--text-muted)"},children:"Einheit"}),a.jsxs("div",{className:"flex items-center gap-2 border rounded-lg p-1",style:{borderColor:"var(--border-input)"},children:[a.jsx("button",{onClick:()=>ce("m"),className:"px-3 py-1 rounded",style:{backgroundColor:te==="m"?"var(--brand-primary)":"transparent",color:te==="m"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-sm)"},children:"m"}),a.jsx("button",{disabled:!0,className:"px-3 py-1 rounded",style:{backgroundColor:"transparent",color:"var(--text-muted)",fontSize:"var(--font-size-sm)",cursor:"not-allowed",opacity:.5},children:"Warentrger"})]})]})]}),F.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:F.map(re=>a.jsxs("span",{className:"px-3 py-1 rounded-full flex items-center gap-2",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--status-info)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",border:"1px solid var(--border-info)"},children:[re,a.jsx("button",{onClick:()=>Wr(re),className:"hover:opacity-70",children:a.jsx(Et,{size:14})})]},re))}),F.length===0&&a.jsxs("div",{className:"p-4 rounded-lg border flex items-start gap-3",style:{backgroundColor:"var(--surface-danger-subtle)",borderColor:"var(--status-danger)"},children:[a.jsx(Qt,{size:20,style:{color:"var(--status-danger)",flexShrink:0,marginTop:"2px"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-danger)",marginBottom:"4px"},children:"Keine Saison ausgewhlt"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Bitte whlen Sie mindestens eine Saison aus, um Kapazittsdaten anzuzeigen."})]})]}),R==="Filiale"&&H&&F.length>0&&a.jsxs("div",{className:"p-4 rounded-lg border flex items-center justify-between",style:{backgroundColor:"var(--surface-subtle-tint)",borderColor:"var(--brand-primary)"},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:a.jsx(Fp,{size:24})}),a.jsxs("div",{children:[a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"2px"},children:["Sortimentsverteilung fr ",H," analysieren"]}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Visualisieren Sie, wie Produktgruppen auf Warentrgern verteilt sind"})]})]}),a.jsx("button",{onClick:()=>e("storeLayout"),className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",height:"var(--height-button-md)",whiteSpace:"nowrap"},children:"Zur Analyse"})]}),F.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"Gesamtkapazitt"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:[it.totalCapacity," m"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"var(--space-1)"},children:"Maximal nutzbare Flche"})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"IST-Auslastung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:Ib(it.actualUtilization)},children:[it.actualUtilization.toFixed(1),"%"]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"SOLL-Auslastung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:[it.targetUtilization.toFixed(1),"%"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"var(--space-1)"},children:"prognosebasiert"})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"Abweichung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:it.deviation>0?"var(--status-danger)":"var(--status-success)"},children:[it.deviation>0?"+":"",it.deviation," m"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"var(--space-1)"},children:it.deviation>0?"berbelegung":"Reserve"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",style:{height:"260px"},children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"SOLL- vs. IST-Kapazitt"}),a.jsx("div",{style:{width:"100%",height:"190px",minHeight:"190px"},children:a.jsx(Yt,{width:"100%",height:"100%",minHeight:190,children:a.jsxs(Pr,{data:Ht,children:[a.jsx(bt,{dataKey:"name",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(Ie,{dataKey:"SOLL",fill:"var(--brand-primary)",opacity:.6}),a.jsx(Ie,{dataKey:"IST",fill:"var(--brand-accent)"})]})})})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-3)"},children:"Kapazittsauslastung"}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:nr.map((re,ke)=>a.jsxs("div",{className:"p-3 rounded cursor-pointer hover:opacity-80 transition-opacity",style:{backgroundColor:re.color,color:"var(--text-inverse)"},title:`${re.level}: ${re.utilization.toFixed(1)}%`,children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:re.level.length>12?re.level.substring(0,10)+"...":re.level}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginTop:"var(--space-1)"},children:[re.utilization.toFixed(1),"%"]})]},ke))}),a.jsxs("div",{className:"flex items-center gap-4 mt-4",style:{fontSize:"var(--font-size-xs)"},children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#10b981"}}),a.jsx("span",{children:"< 75%"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#eab308"}}),a.jsx("span",{children:"75-85%"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#f97316"}}),a.jsx("span",{children:"85-95%"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#ef4444"}}),a.jsx("span",{children:"> 95%"})]})]})]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-4)"},children:"Kapazittsdetails"}),Y==="Produkt"&&ct.length>0&&a.jsxs("div",{style:{padding:"12px 16px",backgroundColor:"var(--brand-primary-10)",border:"1px solid var(--brand-primary-30)",borderRadius:"var(--radius-md)",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(Qt,{size:16,style:{color:"var(--brand-primary)",flexShrink:0}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:"Klicken Sie auf eine Produktzeile, um detaillierte Formeln und Explainability-Informationen anzuzeigen."})]}),ct.length===0?a.jsx("div",{className:"py-12 text-center",style:{color:"var(--text-muted)"},children:"Keine Daten fr die ausgewhlten Filter verfgbar."}):a.jsx(Nr,{columns:ya,data:ct,density:"comfortable",onRowClick:re=>{if(Y==="Produkt"&&re.hierarchyLevel==="Produkt"){const ke=fO.find(de=>de.productName===re.level||de.productNumber===re.id.split("-")[0]);I(ke||fO[0])}else l(re.id)}})]})]}),b&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",onClick:()=>w(!1),style:{backgroundColor:"var(--bg-overlay)"},children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg",style:{width:"900px",maxHeight:"700px",boxShadow:"var(--shadow-lg)",display:"flex",flexDirection:"column"},onClick:re=>re.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Produkt auswhlen"}),a.jsx("button",{onClick:()=>w(!1),className:"p-1 rounded hover:bg-surface-tint",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Produktnummer"}),a.jsx("input",{type:"text",placeholder:"Suchen...",value:x,onChange:re=>y(re.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Produktbeschreibung"}),a.jsx("input",{type:"text",placeholder:"Suchen...",value:j,onChange:re=>k(re.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Marke"}),a.jsx("input",{type:"text",placeholder:"Suchen...",value:S,onChange:re=>N(re.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Saison"}),a.jsxs("select",{value:A,onChange:re=>O(re.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Saisons"}),De.map(re=>a.jsx("option",{value:re,children:re},re))]})]})]})]}),a.jsxs("div",{className:"p-4 overflow-auto flex-1",children:[a.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[a.jsx(dO,{checked:_.length===Ye.length&&Ye.length>0,onCheckedChange:Qr}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:["Alle auswhlen (",Ye.length," Produkte)"]})]}),a.jsxs("table",{className:"w-full",style:{fontSize:"var(--font-size-sm)"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"2px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"8px",width:"40px"}}),a.jsx("th",{style:{textAlign:"left",padding:"8px"},children:"Produktnummer"}),a.jsx("th",{style:{textAlign:"left",padding:"8px"},children:"Produktbeschreibung"}),a.jsx("th",{style:{textAlign:"left",padding:"8px"},children:"Marke"}),a.jsx("th",{style:{textAlign:"left",padding:"8px"},children:"Saison"})]})}),a.jsx("tbody",{children:Ye.map(re=>a.jsxs("tr",{className:"hover:bg-surface-tint cursor-pointer",style:{borderBottom:"1px solid var(--border-subtle)"},onClick:()=>Or(re.productNumber),children:[a.jsx("td",{style:{padding:"8px"},children:a.jsx(dO,{checked:_.includes(re.productNumber),onCheckedChange:()=>Or(re.productNumber)})}),a.jsx("td",{style:{padding:"8px"},children:re.productNumber}),a.jsx("td",{style:{padding:"8px"},children:re.product}),a.jsx("td",{style:{padding:"8px"},children:re.brand}),a.jsx("td",{style:{padding:"8px"},children:re.season})]},re.productNumber))})]})]}),a.jsxs("div",{className:"p-4 border-t flex gap-3 justify-end",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>{E([]),w(!1)},className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsxs("button",{onClick:Ki,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:[_.length," Produkte bernehmen"]})]})]})}),u&&f&&a.jsxs("div",{className:"fixed inset-0 z-50 flex",onClick:()=>d(!1),children:[a.jsx("div",{className:"flex-1",style:{backgroundColor:"var(--bg-overlay)"}}),a.jsxs("div",{className:"bg-white shadow-lg overflow-y-auto",style:{width:"var(--drawer-width)",boxShadow:"var(--shadow-lg)"},onClick:re=>re.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b sticky top-0 bg-white",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Prognose-Herleitung"}),a.jsx("button",{onClick:()=>d(!1),className:"p-1 rounded hover:bg-surface-tint",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-3)"},children:f.level}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",style:{borderColor:"var(--border-subtle)"},children:[a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Absatzprognose"}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[Math.round(f.forecastSuggestion*1.2)," Einheiten"]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",style:{borderColor:"var(--border-subtle)"},children:[a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Zielreichweite"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"8 Wochen"})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",style:{borderColor:"var(--border-subtle)"},children:[a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:" Bestandsmenge"}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[Math.round(f.forecastSuggestion*.8)," Einheiten"]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",style:{borderColor:"var(--border-subtle)"},children:[a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Flchenbedarf je Artikel"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"0.35 m"})]}),a.jsxs("div",{className:"flex justify-between items-center py-3 mt-4",style:{backgroundColor:"var(--surface-subtle-tint)",padding:"var(--space-3)",borderRadius:"var(--radius-md)"},children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)"},children:"Abgeleitete SOLL-Kapazitt"}),a.jsxs("span",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--brand-primary)"},children:[f.forecastSuggestion," m"]})]})]})]}),a.jsxs("div",{className:"p-4 rounded-lg flex items-start gap-3",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx(Qt,{size:20,style:{color:"var(--status-info)",flexShrink:0,marginTop:"2px"}}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:"Die Prognose basiert auf historischen Verkaufsdaten der letzten 12 Monate, saisonalen Trends und geplanten Marketingaktionen."})]})]}),a.jsxs("div",{className:"p-6 border-t sticky bottom-0 bg-white flex gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsx("button",{onClick:()=>qe(f.id),className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:"Prognosewert bernehmen"})]})]})]}),n&&a.jsxs("div",{className:"fixed bottom-0 left-0 right-0 flex items-center justify-end gap-3 px-6 border-t",style:{height:"64px",backgroundColor:"var(--surface-page)",borderColor:"var(--border-subtle)",zIndex:40},children:[a.jsx("button",{onClick:nt,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"nderungen verwerfen"}),a.jsx("button",{onClick:ut,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:"nderungen bernehmen"})]}),h&&a.jsxs("div",{className:"fixed bottom-20 right-6 px-6 py-3 rounded-lg shadow-lg flex items-center gap-3 animate-slide-up",style:{backgroundColor:h.type==="success"?"var(--status-success)":h.type==="warning"?"var(--status-warning)":"var(--status-danger)",color:"var(--text-inverse)",boxShadow:"var(--shadow-lg)",zIndex:100},children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:h.message}),a.jsx("button",{onClick:()=>m(null),className:"hover:opacity-70",children:a.jsx(Et,{size:18})})]}),T&&a.jsx(ate,{product:T,onClose:()=>I(null)})]})}const pO={berkapazitt:"#ef4444",Untererfllung:"#3b82f6",Ausgeglichen:"#10b981"},ste={berkapazitt:fl,Untererfllung:Up,Ausgeglichen:ZS},lte={info:{label:"Hinweis",color:"#3b82f6",icon:Qt},critical:{label:"Kritisch",color:"#f59e0b",icon:aa},blocking:{label:"Blockierend",color:"#ef4444",icon:aa}};function cte({articles:e,onBack:t,onAccept:r,onDiscard:n,onRelease:i}){const[o,l]=z.useState("planned"),[u,d]=z.useState(!1),[f,v]=z.useState(""),[h,m]=z.useState(""),b=e.length,w=Array.from(new Set(e.map(I=>I.season))),x=Array.from(new Set(e.map(I=>I.articleGroup))),y=z.useMemo(()=>{const I=e.map(R=>new Date(R.deliveryFrom));return new Date(Math.min(...I.map(R=>R.getTime())))},[e]),j=z.useMemo(()=>{const I=e.map(R=>new Date(R.deliveryTo));return new Date(Math.max(...I.map(R=>R.getTime())))},[e]),k=z.useMemo(()=>{const L=75+({planned:0,plus1week:-5,plus2weeks:-8,minus1week:10,split:-12,custom:f&&h?-6:0}[o]||0),M=80,q=L-M,H=Math.abs(q)>10?3:q>5?1:0;return{actualUtilization:L,targetUtilization:M,deviation:q,affectedStores:H}},[o,f,h]),S=z.useMemo(()=>[{category:"Shoes",soll:120,ist:135,status:"berkapazitt"},{category:"Apparel",soll:150,ist:145,status:"Ausgeglichen"},{category:"Accessories",soll:80,ist:65,status:"Untererfllung"},{category:"Electronics",soll:50,ist:48,status:"Ausgeglichen"}],[]),N=z.useMemo(()=>[{month:"Jan 25",berkapazitt:5,Ausgeglichen:20,Untererfllung:3},{month:"Feb 25",berkapazitt:8,Ausgeglichen:15,Untererfllung:5},{month:"Mr 25",berkapazitt:12,Ausgeglichen:10,Untererfllung:2},{month:"Apr 25",berkapazitt:3,Ausgeglichen:18,Untererfllung:4},{month:"Mai 25",berkapazitt:2,Ausgeglichen:22,Untererfllung:1}],[]),A=z.useMemo(()=>{const I=[];k.actualUtilization>90&&I.push({id:"1",message:`berkapazitt in ${k.affectedStores} Stores (> 90%)`,severity:"critical"}),k.deviation>15&&I.push({id:"2",message:"Kategorie Shoes berschreitet SOLL-Kapazitt um 12%",severity:"critical"});const R=e.filter(M=>M.capacityImpact==="Untererfllung").length;R>0&&I.push({id:"3",message:`Untererfllung in Kategorie Accessories (${R} Artikel)`,severity:"info"});const L=e.filter(M=>M.capacityImpact==="berkapazitt").length;return L>2&&I.push({id:"4",message:`Grenlauf-Konflikte: ${L} Artikel betroffen`,severity:"info"}),I},[k,e]),O=I=>{d(!0),l(I),setTimeout(()=>{d(!1)},800)},_=I=>I<80?"#10b981":I<=90?"#f59e0b":"#ef4444",T=(()=>{if(o==="custom"&&f&&h)return{from:new Date(f).toLocaleDateString("de-DE"),to:new Date(h).toLocaleDateString("de-DE")};const I=new Date(y),R=new Date(j);switch(o){case"plus1week":I.setDate(I.getDate()+7),R.setDate(R.getDate()+7);break;case"plus2weeks":I.setDate(I.getDate()+14),R.setDate(R.getDate()+14);break;case"minus1week":I.setDate(I.getDate()-7),R.setDate(R.getDate()-7);break}return{from:I.toLocaleDateString("de-DE"),to:R.toLocaleDateString("de-DE")}})();return a.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--surface-page)"},children:[a.jsx("div",{className:"px-6 py-4 border-b",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)"},children:a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Arbeitsvorrat  Simulation  Initiale Allokation"})}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-6 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("button",{onClick:t,className:"flex items-center gap-2 mb-4 hover:opacity-70",style:{color:"var(--text-secondary)",fontSize:"var(--font-size-sm)"},children:[a.jsx(qS,{size:16}),"Zurck zum Arbeitsvorrat"]}),a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Simulation  Initiale Allokation"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Bewertung der kapazitiven und zeitlichen Wirkung der ausgewhlten Artikel"})]}),a.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"grid grid-cols-5 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Anzahl Artikel"}),a.jsx("div",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:b})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Saisonen"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:w.join(", ")})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Artikelgruppen"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:x.join(", ")})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Ursprngliches Lieferfenster (Plan)"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)"},children:[y.toLocaleDateString("de-DE"),"  ",j.toLocaleDateString("de-DE")]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Szenario"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Initiale Allokation"})]})]})}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Liefertermin-Optionen"}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Liefertermin (Plan)"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)"},children:[y.toLocaleDateString("de-DE"),"  ",j.toLocaleDateString("de-DE")]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)",display:"block"},children:"Liefertermin-Option"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:o,onChange:I=>O(I.target.value),className:"px-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},disabled:u,children:[a.jsx("option",{value:"planned",children:"Geplantes Lieferfenster"}),a.jsx("option",{value:"plus1week",children:"+1 Woche"}),a.jsx("option",{value:"plus2weeks",children:"+2 Wochen"}),a.jsx("option",{value:"minus1week",children:"-1 Woche"}),a.jsx("option",{value:"custom",children:"Manuelle Eingabe"}),a.jsx("option",{value:"split",disabled:!0,children:"Aufteilen auf zwei Lieferfenster (bald verfgbar)"})]}),u&&a.jsx("div",{className:"absolute right-10 top-1/2 -translate-y-1/2",children:a.jsx(WL,{size:16,className:"animate-spin",style:{color:"var(--brand-primary)"}})})]}),o!=="planned"&&o!=="custom"&&a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-success)",marginTop:"var(--space-1)"},children:["Simuliert: ",T.from,"  ",T.to]}),o==="custom"&&a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"var(--space-1)"},children:"Liefertermin von"}),a.jsx("input",{type:"date",value:f,onChange:I=>{v(I.target.value),I.target.value&&h&&(d(!0),setTimeout(()=>d(!1),800))},className:"px-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"var(--space-1)"},children:"Liefertermin bis"}),a.jsx("input",{type:"date",value:h,onChange:I=>{m(I.target.value),I.target.value&&f&&(d(!0),setTimeout(()=>d(!1),800))},className:"px-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"}})]}),f&&h&&a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-success)"},children:["Simuliert: ",new Date(f).toLocaleDateString("de-DE"),"  ",new Date(h).toLocaleDateString("de-DE")]})]})]})]}),a.jsxs("div",{className:"mt-3 px-3 py-2 rounded flex items-center gap-2",style:{backgroundColor:"var(--surface-info-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:[a.jsx(Qt,{size:14}),"Terminnderungen wirken sich direkt auf Kapazitt und Simulation aus."]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"IST-Auslastung (nach Simulation)"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:_(k.actualUtilization)},children:[k.actualUtilization,"%"]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"SOLL-Auslastung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:[k.targetUtilization,"%"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Kapazittsplanung"})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Abweichung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:k.deviation>0?"#ef4444":k.deviation<-5?"#3b82f6":"#10b981"},children:[k.deviation>0?"+":"",k.deviation,"%"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:k.deviation>0?"berkapazitt":k.deviation<0?"Untererfllung":"Ausgeglichen"})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Betroffene Stores"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:k.affectedStores}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Stores auerhalb SOLL-Rahmen"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",minHeight:"320px"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Kapazittswirkung nach Simulation"}),a.jsx(Yt,{width:"100%",height:250,minHeight:250,children:a.jsxs(Pr,{data:S,children:[a.jsx(bt,{dataKey:"category",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"},label:{value:"m",angle:-90,position:"insideLeft"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(Ie,{dataKey:"soll",name:"SOLL",fill:"var(--brand-primary)",opacity:.6}),a.jsx(Ie,{dataKey:"ist",name:"IST",fill:"var(--brand-accent)"})]})})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",minHeight:"320px"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Kapazittsbelastung ber Zeit"}),a.jsx(Yt,{width:"100%",height:250,minHeight:250,children:a.jsxs(Pr,{data:N,children:[a.jsx(bt,{dataKey:"month",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(Ie,{dataKey:"berkapazitt",stackId:"a",fill:"#ef4444"}),a.jsx(Ie,{dataKey:"Ausgeglichen",stackId:"a",fill:"#10b981"}),a.jsx(Ie,{dataKey:"Untererfllung",stackId:"a",fill:"#3b82f6"})]})})]})]}),A.length>0&&a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Aufflligkeiten aus der Simulation"}),a.jsx("div",{className:"space-y-2",children:A.map(I=>{const R=lte[I.severity],L=R.icon;return a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded",style:{backgroundColor:`${R.color}10`},children:[a.jsx(L,{size:18,style:{color:R.color,flexShrink:0,marginTop:"2px"}}),a.jsx("div",{className:"flex-1",children:a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:I.message})}),a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:R.color,color:"white",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:R.label})]},I.id)})}),a.jsx("div",{className:"mt-3 px-3 py-2 rounded",style:{backgroundColor:"var(--surface-info-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:"Hinweis: Nicht jede Aufflligkeit blockiert eine Freigabe."})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:["Artikelliste (",e.length,")"]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Artikelnummer"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Farbe"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Artikelbeschreibung"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Kapazittswirkung"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Liefertermin (Simulation)"})]})}),a.jsx("tbody",{children:e.map(I=>{const R=ste[I.capacityImpact];return a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{style:{padding:"12px 8px"},children:a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:I.articleNumber})}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:I.colorHex,borderColor:"var(--border-default)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:I.color})]})}),a.jsx("td",{style:{padding:"12px 8px",fontSize:"var(--font-size-sm)"},children:I.description}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full",style:{backgroundColor:`${pO[I.capacityImpact]}15`,color:pO[I.capacityImpact],fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",width:"fit-content"},children:[a.jsx(R,{size:14}),a.jsx("span",{children:I.capacityImpact})]})}),a.jsxs("td",{style:{padding:"12px 8px",fontSize:"var(--font-size-sm)"},children:[T.from,"  ",T.to]})]},I.id)})})]})})]}),a.jsx("div",{style:{height:"100px"}})]}),a.jsxs("div",{className:"sticky bottom-0 px-6 py-4 border-t flex items-center justify-end gap-3",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-subtle)",height:"72px"},children:[a.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Zurck zum Arbeitsvorrat"}),a.jsx("button",{onClick:n,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Simulation verwerfen"}),a.jsx("button",{onClick:()=>{o==="custom"&&f&&h?r(o,{from:f,to:h}):r(o)},className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:"Simulation bernehmen"}),a.jsx("button",{onClick:i,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",height:"var(--height-button-md)",boxShadow:"var(--shadow-sm)"},children:"Allokation freigeben"})]})]})}const jc=[{id:"1",articleNumber:"ART-20251001",color:"Schwarz",colorHex:"#000000",status:"Offen",description:"Running Schuhe Pro Trail Max mit Dmpfung",articleGroup:"Shoes",season:"Frhjahr/Sommer 2025",deliveryFrom:"2025-03-01",deliveryTo:"2025-03-15",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:2400,sizeCount:12,capacityNeed:"18 m / 3 Warentrger",capacityImpact:"berkapazitt",capacityImpactReason:["Hoher Flchenbedarf pro Einheit","Kategorie Shoes nahe SOLL-Grenze","Lieferpeak im Zeitraum MrzApril"],allocationDate:null,bookmarked:!1,simulationDate:null,initiallyAllocated:!1},{id:"2",articleNumber:"ART-20251002",color:"Blau",colorHex:"#2563eb",status:"In Planung",description:"Sport T-Shirt Performance Fit",articleGroup:"Apparel",season:"Frhjahr/Sommer 2025",deliveryFrom:"2025-02-15",deliveryTo:"2025-02-28",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:5600,sizeCount:5,capacityNeed:"12 m / 2 Warentrger",capacityImpact:"Ausgeglichen",capacityImpactReason:["Moderater Flchenbedarf","Kategorie Apparel mit ausreichender Kapazitt","Gleichmige Verteilung im Lieferzeitraum"],allocationDate:null,bookmarked:!1,simulationDate:null,initiallyAllocated:!1},{id:"3",articleNumber:"ART-20251003",color:"Rot",colorHex:"#dc2626",status:"Allokiert",description:"Winterjacke Premium Isolation",articleGroup:"Apparel",season:"Herbst/Winter 2025",deliveryFrom:"2025-09-01",deliveryTo:"2025-09-20",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:1200,sizeCount:6,capacityNeed:"25 m / 4 Warentrger",capacityImpact:"berkapazitt",capacityImpactReason:["Hoher Flchenbedarf pro Einheit","Saisonaler Peak in Herbst/Winter","Viele Artikel im selben Zeitfenster"],allocationDate:"2024-12-10",bookmarked:!1,simulationDate:null,initiallyAllocated:!0},{id:"4",articleNumber:"ART-20251004",color:"Grn",colorHex:"#16a34a",status:"Offen",description:"Fitness Hose Stretch Comfort",articleGroup:"Apparel",season:"NOS",deliveryFrom:"2025-01-10",deliveryTo:"2025-01-25",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:3200,sizeCount:8,capacityNeed:"15 m / 2 Warentrger",capacityImpact:"Ausgeglichen",capacityImpactReason:["Ausgeglichener Kapazittsbeitrag","NOS-Artikel mit gleichmiger Distribution","Keine zeitliche Verdichtung"],allocationDate:null,bookmarked:!1,simulationDate:null,initiallyAllocated:!1},{id:"5",articleNumber:"ART-20251005",color:"Wei",colorHex:"#ffffff",status:"In Planung",description:"Sneakers Urban Style Low",articleGroup:"Shoes",season:"Frhjahr/Sommer 2025",deliveryFrom:"2025-04-01",deliveryTo:"2025-04-15",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:1800,sizeCount:10,capacityNeed:"20 m / 3 Warentrger",capacityImpact:"berkapazitt",capacityImpactReason:["Hoher Flchenbedarf pro Einheit","Kategorie Shoes nahe SOLL-Grenze","berlappender Liefertermin mit anderen Shoes-Artikeln"],allocationDate:null,bookmarked:!1,simulationDate:null,initiallyAllocated:!1},{id:"6",articleNumber:"ART-20251006",color:"Grau",colorHex:"#6b7280",status:"Allokiert",description:"Smartwatch Fitness Tracker Pro",articleGroup:"Electronics",season:"NOS",deliveryFrom:"2025-02-01",deliveryTo:"2025-02-10",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:800,sizeCount:1,capacityNeed:"5 m / 1 Warentrger",capacityImpact:"Untererfllung",capacityImpactReason:["Geringer Kapazittsbeitrag","Kategorie Electronics mit freier SOLL-Kapazitt","Wenige Artikel im Lieferzeitraum"],allocationDate:"2024-11-20",bookmarked:!1,simulationDate:null,initiallyAllocated:!0},{id:"7",articleNumber:"ART-20251007",color:"Braun",colorHex:"#92400e",status:"Offen",description:"Leder Grtel Classic",articleGroup:"Accessories",season:"NOS",deliveryFrom:"2025-03-10",deliveryTo:"2025-03-20",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:1500,sizeCount:7,capacityNeed:"8 m / 1 Warentrger",capacityImpact:"Untererfllung",capacityImpactReason:["Geringer Kapazittsbeitrag","Kategorie Accessories mit freier SOLL-Kapazitt","Niedriger Flchenbedarf"],allocationDate:null,bookmarked:!1,simulationDate:null,initiallyAllocated:!1},{id:"8",articleNumber:"ART-20251008",color:"Navy",colorHex:"#1e3a8a",status:"In Planung",description:"Rucksack Outdoor Adventure 30L",articleGroup:"Accessories",season:"Frhjahr/Sommer 2025",deliveryFrom:"2025-05-01",deliveryTo:"2025-05-15",deliveryFromSimulation:null,deliveryToSimulation:null,stockDC:950,sizeCount:2,capacityNeed:"10 m / 2 Warentrger",capacityImpact:"Ausgeglichen",capacityImpactReason:["Moderater Flchenbedarf","Kategorie Accessories mit ausreichender Kapazitt","Sptes Lieferfenster mit wenig Konkurrenz"],allocationDate:null,bookmarked:!1,simulationDate:null,initiallyAllocated:!1}],vs={Offen:"var(--status-warning)","In Planung":"var(--status-info)",Allokiert:"var(--status-success)",Simuliert:"#8b5cf6"},ms={berkapazitt:"#ef4444",Untererfllung:"#3b82f6",Ausgeglichen:"#10b981"},ute={berkapazitt:fl,Untererfllung:Up,Ausgeglichen:ZS},hO=[{id:"RUN-2025-W50-001",type:"initial",startDate:"2025-12-16 09:30",status:"Abgeschlossen",articleCount:156},{id:"RUN-2025-W49-R12",type:"replenishment",startDate:"2025-12-10 14:15",status:"Abgeschlossen",articleCount:89},{id:"RUN-2025-W49-R11",type:"replenishment",startDate:"2025-12-09 10:00",status:"Abgeschlossen",articleCount:67},{id:"RUN-2025-W48-M03",type:"manual",startDate:"2025-12-05 16:45",status:"Abgeschlossen",articleCount:34},{id:"RUN-2025-W50-R13",type:"replenishment",startDate:"2025-12-15 11:20",status:"Luft",articleCount:45},{id:"RUN-2025-W51-R14",type:"replenishment",startDate:"2025-12-18 09:00",status:"Geplant",articleCount:52}];function dte({onNavigate:e}){const[t,r]=z.useState(jc),[n,i]=z.useState(!0);z.useEffect(()=>{(async()=>{i(!0);try{r(jc)}catch(me){console.error("Failed to load work data:",me),r(jc)}finally{i(!1)}})()},[]);const[o,l]=z.useState([]),[u,d]=z.useState(!1),[f,v]=z.useState(!1),[h,m]=z.useState([]),[b,w]=z.useState(!0),[x,y]=z.useState(!1),[j,k]=z.useState(null),[S,N]=z.useState("initial"),[A,O]=z.useState(!1),[_,E]=z.useState(null),[T,I]=z.useState(""),[R,L]=z.useState(""),[M,q]=z.useState([]),[H,Z]=z.useState([]),[Y,$]=z.useState([]),[F,Q]=z.useState(""),[U,B]=z.useState(""),[te,ce]=z.useState(null),[he,ue]=z.useState(null),[ae,ge]=z.useState(null),[W,oe]=z.useState("status"),[ve,se]=z.useState("status"),De=z.useMemo(()=>t.some(K=>K.status==="Simuliert"),[t]),Me=Array.from(new Set(jc.map(K=>K.articleGroup))),tt=Array.from(new Set(jc.map(K=>K.season))),rt=["berkapazitt","Untererfllung","Ausgeglichen"],Ye=K=>K.deliveryFromSimulation||K.deliveryFrom,Ut=K=>K.deliveryToSimulation||K.deliveryTo,ct=z.useMemo(()=>S==="initial"?t:t.filter(K=>K.initiallyAllocated),[t,S]),it=z.useMemo(()=>ct.filter(K=>{if(M.length>0&&!M.includes(K.articleGroup)||H.length>0&&!H.includes(K.season)||Y.length>0&&!Y.includes(K.capacityImpact))return!1;const me=Ye(K),je=Ut(K);return!(F&&me<F||U&&je>U||te&&K.status!==te||he&&K.capacityImpact!==he||ae&&me.substring(0,7)!==ae)}),[ct,M,H,Y,F,U,te,he,ae]),Ht=z.useMemo(()=>{const K={Offen:0,"In Planung":0,Allokiert:0,Simuliert:0};return it.forEach(me=>{K[me.status]++}),Object.entries(K).map(([me,je])=>({name:me,value:je})).filter(me=>me.value>0)},[it]),nr=z.useMemo(()=>{const K={berkapazitt:0,Untererfllung:0,Ausgeglichen:0};return it.forEach(me=>{K[me.capacityImpact]++}),Object.entries(K).map(([me,je])=>({name:me,value:je}))},[it]),Ge=z.useMemo(()=>{const K=new Map;return it.forEach(me=>{const je=Ye(me).substring(0,7);K.has(je)||K.set(je,{Offen:0,"In Planung":0,Allokiert:0,Simuliert:0});const vt=K.get(je);vt[me.status]++}),Array.from(K.entries()).sort((me,je)=>me[0].localeCompare(je[0])).map(([me,je])=>({month:new Date(me+"-01").toLocaleDateString("de-DE",{month:"short",year:"numeric"}),monthKey:me,...je}))},[it]),qe=z.useMemo(()=>{const K=new Map;return it.forEach(me=>{const je=Ye(me).substring(0,7);K.has(je)||K.set(je,{berkapazitt:0,Untererfllung:0,Ausgeglichen:0});const vt=K.get(je);vt[me.capacityImpact]++}),Array.from(K.entries()).sort((me,je)=>me[0].localeCompare(je[0])).map(([me,je])=>({month:new Date(me+"-01").toLocaleDateString("de-DE",{month:"short",year:"numeric"}),monthKey:me,...je}))},[it]),ht=z.useMemo(()=>t.filter(K=>K.bookmarked).length,[t]),ut=z.useMemo(()=>t.filter(K=>K.bookmarked&&K.capacityImpact==="berkapazitt").length,[t]),nt=K=>{r(me=>me.map(je=>je.id===K&&je.status!=="Allokiert"?{...je,bookmarked:!je.bookmarked}:je))},gr=()=>{r(K=>K.map(me=>o.includes(me.id)&&me.status!=="Allokiert"?{...me,bookmarked:!0}:me)),l([])},vn=()=>{const K=t.filter(me=>me.bookmarked);if(K.length===0){k({message:"Keine Artikel fr Allokation ausgewhlt",type:"error"}),setTimeout(()=>k(null),3e3);return}m(K),d(!0)},Sr=K=>{m(me=>me.filter(je=>je.id!==K))},Wr=()=>{h.length!==0&&(b?(d(!1),v(!0)):(r(K=>K.map(me=>h.find(je=>je.id===me.id)?{...me,status:"In Planung",bookmarked:!1,allocationDate:new Date().toISOString().split("T")[0]}:me)),k({message:"Allokation zur Verarbeitung eingeplant",type:"success"}),setTimeout(()=>k(null),3e3),d(!1),m([])))},mn=(K,me)=>{r(je=>je.map(vt=>{if(h.find(Kt=>Kt.id===vt.id)){let Kt,Tt;if(K==="custom"&&me)Kt=new Date(me.from),Tt=new Date(me.to);else switch(Kt=new Date(vt.deliveryFrom),Tt=new Date(vt.deliveryTo),K){case"plus1week":Kt.setDate(Kt.getDate()+7),Tt.setDate(Tt.getDate()+7);break;case"plus2weeks":Kt.setDate(Kt.getDate()+14),Tt.setDate(Tt.getDate()+14);break;case"minus1week":Kt.setDate(Kt.getDate()-7),Tt.setDate(Tt.getDate()-7);break}return{...vt,status:"Simuliert",deliveryFromSimulation:Kt.toISOString().split("T")[0],deliveryToSimulation:Tt.toISOString().split("T")[0],bookmarked:!1,simulationDate:new Date().toISOString().split("T")[0]}}return vt})),k({message:"Simulation erfolgreich bernommen",type:"success"}),setTimeout(()=>k(null),3e3),v(!1),m([])},Or=()=>{r(K=>K.map(me=>h.find(je=>je.id===me.id)?{...me,status:"In Planung",bookmarked:!1,allocationDate:new Date().toISOString().split("T")[0]}:me)),k({message:"Allokation zur Verarbeitung freigegeben",type:"success"}),setTimeout(()=>k(null),3e3),v(!1),m([])},Qr=K=>{const me=t.filter(je=>je.status==="Simuliert").map(je=>je.id);r(je=>je.map(vt=>me.includes(vt.id)?{...vt,status:"Offen",deliveryFromSimulation:null,deliveryToSimulation:null,simulationDate:null}:vt)),k({message:"Simulation verworfen",type:"success"}),setTimeout(()=>k(null),3e3)},Ki=K=>{switch(K){case"groups":q([]);break;case"seasons":Z([]);break;case"capacity":$([]);break;case"delivery":Q(""),B("");break;case"status":ce(null);break;case"capacityImpact":ue(null);break;case"month":ge(null);break}},ya=K=>{S==="initial"?e("runs",{runId:hO[0].id}):O(!0)},re=()=>{_&&(e("runs",{runId:_}),O(!1),E(null),I(""),L(""))},ke=z.useMemo(()=>hO.filter(K=>S==="initial"?K.type==="initial":S==="replenishment"?K.type==="replenishment":S==="manual"?K.type==="manual":!(T&&K.startDate<T||R&&K.startDate>R)),[S,T,R]),de=[];M.length>0&&de.push({type:"groups",label:`Gruppe: ${M.join(", ")}`}),H.length>0&&de.push({type:"seasons",label:`Saison: ${H.join(", ")}`}),Y.length>0&&de.push({type:"capacity",label:`Kapazittswirkung: ${Y.join(", ")}`}),(F||U)&&de.push({type:"delivery",label:`Liefertermin: ${F} - ${U}`}),te&&de.push({type:"status",label:`Status: ${te}`}),he&&de.push({type:"capacityImpact",label:`Kapazittswirkung: ${he}`}),ae&&de.push({type:"month",label:`Monat: ${ae}`});const ee=[{key:"bookmarked",label:"Vormerken",align:"center",width:"80px",render:(K,me)=>a.jsx("input",{type:"checkbox",checked:K,disabled:me.status==="Allokiert",onChange:()=>nt(me.id),onClick:je=>je.stopPropagation(),className:"w-4 h-4 cursor-pointer",style:{accentColor:"var(--brand-primary)",opacity:me.status==="Allokiert"?.5:1}})},{key:"articleNumber",label:"Artikelnummer",sortable:!0,width:"140px",render:K=>a.jsx("code",{className:"cursor-pointer hover:underline",style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:K})},{key:"color",label:"Farbe",width:"120px",render:(K,me)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:me.colorHex,borderColor:"var(--border-default)"}}),a.jsx("span",{children:K})]})},{key:"status",label:"Status",width:"140px",render:(K,me)=>a.jsxs("div",{className:"group relative",children:[a.jsx("span",{className:"px-3 py-1 rounded-full cursor-help whitespace-nowrap inline-block",style:{backgroundColor:vs[K],color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:K}),K==="Simuliert"&&a.jsxs("div",{className:"absolute bottom-full left-0 mb-2 px-4 py-3 rounded-lg shadow-lg opacity-0 pointer-events-none group-hover:opacity-100 transition-opacity whitespace-nowrap z-50",style:{backgroundColor:"var(--text-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",boxShadow:"var(--shadow-lg)",minWidth:"280px"},children:["Fr diesen Artikel liegt ein bernommener Simulationsvorschlag vor.",a.jsx("br",{}),"Die Allokation wurde noch nicht freigegeben."]})]})},{key:"description",label:"Artikelbeschreibung",render:K=>a.jsx("div",{style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:K})},{key:"articleGroup",label:"Artikelgruppe",sortable:!0},{key:"season",label:"Saison"},{key:"deliveryFrom",label:"Liefertermin von (Plan)",render:K=>new Date(K).toLocaleDateString("de-DE")},{key:"deliveryTo",label:"Liefertermin bis (Plan)",render:K=>new Date(K).toLocaleDateString("de-DE")},{key:"deliveryFromSimulation",label:"Liefertermin von (Simulation)",render:(K,me)=>K?a.jsxs("div",{className:"group relative flex items-center gap-1",children:[a.jsx(Vd,{size:14,style:{color:"#8b5cf6"}}),a.jsx("span",{children:new Date(K).toLocaleDateString("de-DE")}),a.jsxs("div",{className:"absolute bottom-full left-0 mb-2 px-4 py-3 rounded-lg shadow-lg opacity-0 pointer-events-none group-hover:opacity-100 transition-opacity whitespace-nowrap z-50",style:{backgroundColor:"var(--text-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",boxShadow:"var(--shadow-lg)"},children:["Liefertermin aus letzter Simulation",a.jsx("br",{}),"Noch nicht produktiv freigegeben"]})]}):a.jsx("span",{style:{color:"var(--text-muted)"},children:"-"})},{key:"deliveryToSimulation",label:"Liefertermin bis (Simulation)",render:(K,me)=>K?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Vd,{size:14,style:{color:"#8b5cf6"}}),a.jsx("span",{children:new Date(K).toLocaleDateString("de-DE")})]}):a.jsx("span",{style:{color:"var(--text-muted)"},children:"-"})},{key:"stockDC",label:"Bestand im VZ",align:"right"},{key:"sizeCount",label:"Anzahl Gren",align:"right"},{key:"capacityNeed",label:"Kapazittsbedarf",render:K=>a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:K})},{key:"capacityImpact",label:a.jsxs("div",{className:"flex items-center gap-1 group relative",children:[a.jsx("span",{children:"Kapazittswirkung"}),De&&a.jsxs(a.Fragment,{children:[a.jsx(Vd,{size:14,style:{color:"#8b5cf6"}}),a.jsxs("div",{className:"absolute bottom-full left-0 mb-2 px-4 py-3 rounded-lg shadow-lg opacity-0 pointer-events-none group-hover:opacity-100 transition-opacity whitespace-nowrap z-50",style:{backgroundColor:"var(--text-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",boxShadow:"var(--shadow-lg)"},children:["Kapazittswirkung basiert auf Simulationsvorschlgen,",a.jsx("br",{}),"sofern vorhanden"]})]})]}),sortable:!0,render:(K,me)=>{const je=ute[K];return a.jsxs("div",{className:"group relative",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full cursor-help",style:{backgroundColor:`${ms[K]}15`,color:ms[K],fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",width:"fit-content"},children:[a.jsx(je,{size:14}),a.jsx("span",{children:K})]}),a.jsxs("div",{className:"absolute bottom-full left-0 mb-2 px-4 py-3 rounded-lg shadow-lg opacity-0 pointer-events-none group-hover:opacity-100 transition-opacity whitespace-nowrap",style:{backgroundColor:"var(--text-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",boxShadow:"var(--shadow-lg)",zIndex:50,minWidth:"280px"},children:[a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:K==="berkapazitt"?"berkapazittsrisiko":K==="Untererfllung"?"Untererfllungsrisiko":"Ausgeglichene Kapazitt"}),a.jsx("ul",{style:{listStyle:"disc",paddingLeft:"16px",lineHeight:"1.5"},children:me.capacityImpactReason.map((vt,Jr)=>a.jsx("li",{children:vt},Jr))})]})]})}},{key:"allocationDate",label:"Allokationsdatum",render:K=>K?new Date(K).toLocaleDateString("de-DE"):"-"},{key:"id",label:"Allokationslauf",align:"center",width:"140px",render:(K,me)=>a.jsxs("button",{onClick:je=>{je.stopPropagation(),ya()},className:"group flex items-center justify-center gap-2 px-3 py-1.5 rounded-lg border transition-all",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-xs)"},title:"Allokationslauf ffnen",children:[a.jsx(xE,{size:14}),a.jsx("span",{children:"Lauf ffnen"})]})}],fe=t.filter(K=>K.status==="Simuliert");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Arbeitsvorrat"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Verwalten Sie initiale Allokationen, simulieren Sie Verteilungen und geben Sie diese frei"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[fe.length>0&&a.jsxs("button",{onClick:()=>Qr(),className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:[a.jsx(Pf,{size:16}),"Simulation verwerfen (",fe.length,")"]}),fe.length>0&&a.jsxs("button",{onClick:()=>e("allocationAnalysis"),className:"px-4 py-2 rounded-lg border flex items-center gap-2 hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:[a.jsx(Qt,{size:16}),"Allokationsanalyse"]}),a.jsx("button",{className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Plan & Vorschau"}),a.jsx("button",{onClick:vn,disabled:ht===0,className:"px-4 py-2 rounded-lg",style:{backgroundColor:ht>0?"var(--button-primary-bg)":"var(--border-default)",color:"var(--button-primary-text)",height:"var(--height-button-md)",cursor:ht>0?"pointer":"not-allowed",opacity:ht>0?1:.5},children:"Allokation durchfhren"})]})]}),a.jsxs("div",{className:"flex items-center gap-1 border rounded p-1",style:{borderColor:"var(--border-input)",width:"fit-content"},children:[a.jsx("button",{onClick:()=>N("initial"),className:"px-4 py-2 rounded",style:{backgroundColor:S==="initial"?"var(--brand-primary)":"transparent",color:S==="initial"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Erstallokation"}),a.jsx("button",{onClick:()=>N("replenishment"),className:"px-4 py-2 rounded",style:{backgroundColor:S==="replenishment"?"var(--brand-primary)":"transparent",color:S==="replenishment"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Nachschub"}),a.jsx("button",{onClick:()=>N("manual"),className:"px-4 py-2 rounded",style:{backgroundColor:S==="manual"?"var(--brand-primary)":"transparent",color:S==="manual"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Manuelle Einsteuerung"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsx("div",{className:"relative",children:a.jsxs("select",{multiple:!0,value:M,onChange:K=>{const me=Array.from(K.target.selectedOptions,je=>je.value);q(me)},className:"px-3 py-2 border rounded-lg min-w-[200px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},size:1,children:[a.jsx("option",{value:"",disabled:!0,children:"Artikelgruppe"}),Me.map(K=>a.jsx("option",{value:K,children:K},K))]})}),a.jsx("div",{className:"relative",children:a.jsxs("select",{multiple:!0,value:H,onChange:K=>{const me=Array.from(K.target.selectedOptions,je=>je.value);Z(me)},className:"px-3 py-2 border rounded-lg min-w-[200px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},size:1,children:[a.jsx("option",{value:"",disabled:!0,children:"Saison"}),tt.map(K=>a.jsx("option",{value:K,children:K},K))]})}),a.jsx("div",{className:"relative",children:a.jsxs("select",{multiple:!0,value:Y,onChange:K=>{const me=Array.from(K.target.selectedOptions,je=>je.value);$(me)},className:"px-3 py-2 border rounded-lg min-w-[200px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},size:1,children:[a.jsx("option",{value:"",disabled:!0,children:"Kapazittswirkung"}),rt.map(K=>a.jsx("option",{value:K,children:K},K))]})}),a.jsx("div",{className:"relative",children:a.jsxs("select",{value:te||"",onChange:K=>ce(K.target.value||null),className:"px-3 py-2 border rounded-lg min-w-[180px]",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"",children:"Status (Alle)"}),a.jsx("option",{value:"Offen",children:"Offen"}),a.jsx("option",{value:"In Planung",children:"In Planung"}),a.jsx("option",{value:"Simuliert",children:"Simuliert"}),a.jsx("option",{value:"Allokiert",children:"Allokiert"})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"date",value:F,onChange:K=>Q(K.target.value),placeholder:"Von",className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"}}),a.jsx("span",{style:{color:"var(--text-muted)"},children:"bis"}),a.jsx("input",{type:"date",value:U,onChange:K=>B(K.target.value),placeholder:"Bis",className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"}})]})]}),de.length>0&&a.jsx("div",{className:"flex flex-wrap items-center gap-2",children:de.map((K,me)=>a.jsxs("span",{className:"px-3 py-1 rounded-full flex items-center gap-2",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:[K.label,a.jsx("button",{onClick:()=>Ki(K.type),className:"hover:opacity-70",children:a.jsx(Et,{size:14})})]},me))}),De&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded",style:{backgroundColor:"#8b5cf615",border:"1px solid #8b5cf630",fontSize:"var(--font-size-xs)",color:"#8b5cf6"},children:[a.jsx(Vd,{size:16}),a.jsx("span",{children:"Ansicht: Simulation  Diagramme und Kapazittswirkung basieren auf bernommenen Simulationswerten"})]}),a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsxs("div",{className:"col-span-3 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",minHeight:"280px"},children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)"},children:"Allokationsstatus"})}),a.jsxs("div",{className:"flex items-center gap-1 mb-3 border rounded p-1",style:{borderColor:"var(--border-input)",width:"fit-content"},children:[a.jsx("button",{onClick:()=>oe("status"),className:"px-2 py-1 rounded",style:{backgroundColor:W==="status"?"var(--brand-primary)":"transparent",color:W==="status"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Status"}),a.jsx("button",{onClick:()=>oe("capacity"),className:"px-2 py-1 rounded",style:{backgroundColor:W==="capacity"?"var(--brand-primary)":"transparent",color:W==="capacity"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Kapazitt"})]}),a.jsx(Yt,{width:"100%",height:180,minHeight:180,children:a.jsxs(oI,{children:[a.jsx(ma,{data:W==="status"?Ht:nr,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:55,label:({name:K,percent:me})=>`${K} ${(me*100).toFixed(0)}%`,onClick:K=>{W==="status"?ce(K.name):ue(K.name)},style:{cursor:"pointer",fontSize:"var(--font-size-xs)"},children:(W==="status"?Ht:nr).map((K,me)=>a.jsx(gl,{fill:W==="status"?vs[K.name]:ms[K.name]},me))}),a.jsx(st,{})]})})]}),a.jsxs("div",{className:"col-span-9 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",minHeight:"280px"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)"},children:"Allokationen nach Monat"}),a.jsxs("div",{className:"flex items-center gap-1 border rounded p-1",style:{borderColor:"var(--border-input)"},children:[a.jsx("button",{onClick:()=>se("status"),className:"px-2 py-1 rounded",style:{backgroundColor:ve==="status"?"var(--brand-primary)":"transparent",color:ve==="status"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Status"}),a.jsx("button",{onClick:()=>se("capacity"),className:"px-2 py-1 rounded",style:{backgroundColor:ve==="capacity"?"var(--brand-primary)":"transparent",color:ve==="capacity"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Kapazitt"})]})]}),a.jsx(Yt,{width:"100%",height:210,minHeight:210,children:ve==="status"?a.jsxs(Pr,{data:Ge,children:[a.jsx(bt,{dataKey:"month",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(Ie,{dataKey:"Offen",stackId:"a",fill:vs.Offen,onClick:K=>{ge(K.monthKey),ce("Offen")},style:{cursor:"pointer"}}),a.jsx(Ie,{dataKey:"In Planung",stackId:"a",fill:vs["In Planung"],onClick:K=>{ge(K.monthKey),ce("In Planung")},style:{cursor:"pointer"}}),a.jsx(Ie,{dataKey:"Simuliert",stackId:"a",fill:vs.Simuliert,onClick:K=>{ge(K.monthKey),ce("Simuliert")},style:{cursor:"pointer"}}),a.jsx(Ie,{dataKey:"Allokiert",stackId:"a",fill:vs.Allokiert,onClick:K=>{ge(K.monthKey),ce("Allokiert")},style:{cursor:"pointer"}})]}):a.jsxs(Pr,{data:qe,children:[a.jsx(bt,{dataKey:"month",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(Ie,{dataKey:"berkapazitt",stackId:"a",fill:ms.berkapazitt,onClick:K=>{ge(K.monthKey),ue("berkapazitt")},style:{cursor:"pointer"}}),a.jsx(Ie,{dataKey:"Untererfllung",stackId:"a",fill:ms.Untererfllung,onClick:K=>{ge(K.monthKey),ue("Untererfllung")},style:{cursor:"pointer"}}),a.jsx(Ie,{dataKey:"Ausgeglichen",stackId:"a",fill:ms.Ausgeglichen,onClick:K=>{ge(K.monthKey),ue("Ausgeglichen")},style:{cursor:"pointer"}})]})})]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[o.length," Artikel ausgewhlt"]}),ut>0&&a.jsxs("div",{className:"mt-2 flex items-center gap-2 px-3 py-2 rounded",style:{backgroundColor:"var(--surface-warning-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-warning)"},children:[a.jsx(Qt,{size:16}),a.jsx("span",{children:"Hinweis: Die Auswahl enthlt Artikel mit mglichem Kapazittsengpass."})]})]}),a.jsx("button",{onClick:gr,disabled:o.length===0,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)",opacity:o.length>0?1:.5,cursor:o.length>0?"pointer":"not-allowed"},children:"Allokation vormerken"})]}),a.jsx(Nr,{columns:ee,data:it,density:"comfortable",selectable:!0,selectedRows:o,onSelectionChange:l})]}),u&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:()=>d(!1),children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-3xl max-h-[80vh] overflow-y-auto",style:{boxShadow:"var(--shadow-lg)"},onClick:K=>K.stopPropagation(),children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Allokation durchfhren"}),h.filter(K=>K.capacityImpact==="berkapazitt"||K.capacityImpact==="Untererfllung").length>0&&a.jsxs("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Kapazittszusammenfassung"}),a.jsxs("div",{className:"space-y-1",style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:[h.filter(K=>K.capacityImpact==="berkapazitt").length>0&&a.jsxs("div",{children:[" Anzahl Artikel mit berkapazittsrisiko: ",a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)"},children:h.filter(K=>K.capacityImpact==="berkapazitt").length})]}),h.filter(K=>K.capacityImpact==="Untererfllung").length>0&&a.jsxs("div",{children:[" Anzahl Artikel mit Untererfllungsrisiko: ",a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)"},children:h.filter(K=>K.capacityImpact==="Untererfllung").length})]})]}),a.jsx("div",{className:"mt-3 pt-3",style:{borderTop:"1px solid var(--border-info)",fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Die Kapazittswirkung basiert auf prognostischen Daten und wird in der Simulation konkretisiert."})]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:b,onChange:K=>w(K.target.checked),className:"w-4 h-4",style:{accentColor:"var(--brand-primary)"}}),a.jsxs("div",{children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Allokation simulieren"}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Bei Aktivierung werden keine realen Allokationen erzeugt."})]})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x,onChange:K=>y(K.target.checked),className:"w-4 h-4",style:{accentColor:"var(--brand-primary)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Hintergrundverarbeitung einplanen"})]}),x&&a.jsxs("div",{className:"ml-7 flex items-center gap-3",children:[a.jsx("input",{type:"date",className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)"}}),a.jsx("input",{type:"time",className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)"}})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-3)"},children:["Ausgewhlte Artikel (",h.length,")"]}),a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:h.map(K=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:K.colorHex}}),a.jsxs("div",{children:[a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:K.articleNumber}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"2px"},children:K.description})]})]}),a.jsx("button",{onClick:()=>Sr(K.id),className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:16,style:{color:"var(--text-muted)"}})})]},K.id))})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3",children:[a.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsx("button",{onClick:Wr,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:b?"Simulation starten":"Allokation starten"})]})]})}),f&&a.jsx(cte,{articles:h,onBack:()=>{v(!1)},onAccept:mn,onDiscard:()=>{v(!1),m([])},onRelease:Or}),A&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:()=>{O(!1),E(null),I(""),L("")},children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-3xl",style:{boxShadow:"var(--shadow-lg)"},onClick:K=>K.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Allokationslauf auswhlen"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Whlen Sie einen bestehenden Allokationslauf aus, um die Details anzuzeigen"})]}),a.jsx("button",{onClick:()=>{O(!1),E(null),I(""),L("")},className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-subtle)"},children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Datum von"}),a.jsx("input",{type:"date",value:T,onChange:K=>I(K.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Datum bis"}),a.jsx("input",{type:"date",value:R,onChange:K=>L(K.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",fontSize:"var(--font-size-sm)"}})]})]})}),a.jsxs("div",{className:"p-6",style:{maxHeight:"400px",overflowY:"auto"},children:[a.jsx("h4",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Letzte Allokationslufe"}),a.jsx("div",{className:"overflow-hidden rounded-lg border",style:{borderColor:"var(--border-default)"},children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)",backgroundColor:"var(--surface-alt)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"60px"}}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Lauf-ID"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Typ"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Startdatum"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Status"}),a.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Artikelanzahl"})]})}),a.jsx("tbody",{children:ke.map(K=>a.jsxs("tr",{onClick:()=>E(K.id),className:"cursor-pointer hover:bg-surface-tint transition-colors",style:{borderBottom:"1px solid var(--border-subtle)",backgroundColor:_===K.id?"var(--surface-info-subtle)":"transparent"},children:[a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("input",{type:"radio",checked:_===K.id,onChange:()=>E(K.id),className:"cursor-pointer",style:{accentColor:"var(--brand-primary)"}})}),a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:K.id})}),a.jsx("td",{style:{padding:"12px 16px",fontSize:"var(--font-size-sm)"},children:a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:K.type==="initial"?"var(--surface-info-subtle)":K.type==="replenishment"?"var(--surface-success-subtle)":"var(--surface-warning-subtle)",color:K.type==="initial"?"var(--status-info)":K.type==="replenishment"?"var(--status-success)":"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:K.type==="initial"?"Initial":K.type==="replenishment"?"Nachschub":"Manuell"})}),a.jsx("td",{style:{padding:"12px 16px",fontSize:"var(--font-size-sm)"},children:new Date(K.startDate).toLocaleString("de-DE")}),a.jsx("td",{style:{padding:"12px 16px"},children:a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:K.status==="Abgeschlossen"?"var(--status-success)":K.status==="Luft"?"var(--status-info)":K.status==="Geplant"?"var(--status-warning)":"var(--status-danger)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:K.status})}),a.jsx("td",{style:{padding:"12px 16px",textAlign:"right",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:K.articleCount})]},K.id))})]})})]}),a.jsxs("div",{className:"p-6 border-t flex items-start justify-between",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",maxWidth:"450px"},children:[a.jsx(Qt,{size:14,style:{display:"inline",marginRight:"6px"}}),"Der ausgewhlte Allokationslauf wird schreibgeschtzt geffnet, sofern er bereits abgeschlossen ist."]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>{O(!1),E(null),I(""),L("")},className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsxs("button",{onClick:re,disabled:!_,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{backgroundColor:_?"var(--brand-primary)":"var(--border-default)",color:"var(--text-inverse)",height:"var(--height-button-md)",opacity:_?1:.5,cursor:_?"pointer":"not-allowed"},children:[a.jsx(Wp,{size:18}),"Allokationslauf ffnen"]})]})]})]})}),j&&a.jsxs("div",{className:"fixed bottom-6 right-6 px-6 py-3 rounded-lg shadow-lg flex items-center gap-3 animate-slide-up",style:{backgroundColor:j.type==="success"?"var(--status-success)":"var(--status-danger)",color:"var(--text-inverse)",boxShadow:"var(--shadow-lg)",zIndex:100},children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:j.message}),a.jsx("button",{onClick:()=>k(null),className:"hover:opacity-70",children:a.jsx(Et,{size:18})})]})]})}const Mb=[{id:"RUN-2025-W50-001",type:"initial",status:"Abgeschlossen",startDate:"2025-12-16 09:30",endDate:"2025-12-16 11:45",articleCount:156,storeCount:12,user:"M. Weber"},{id:"RUN-2025-W50-002",type:"replenishment",status:"Abgeschlossen",startDate:"2025-12-15 14:20",endDate:"2025-12-15 15:30",articleCount:89,storeCount:10,user:"S. Mller"},{id:"RUN-2025-W50-003",type:"manual",status:"Mit Ausnahmen",startDate:"2025-12-14 10:15",endDate:"2025-12-14 12:00",articleCount:45,storeCount:8,user:"A. Schmidt"},{id:"RUN-2025-W49-001",type:"initial",status:"Abgeschlossen",startDate:"2025-12-09 08:00",endDate:"2025-12-09 10:30",articleCount:203,storeCount:12,user:"M. Weber"},{id:"RUN-2025-W49-002",type:"replenishment",status:"Abgeschlossen",startDate:"2025-12-08 13:45",endDate:"2025-12-08 14:50",articleCount:67,storeCount:9,user:"T. Fischer"},{id:"RUN-2025-W48-001",type:"manual",status:"Abgeschlossen",startDate:"2025-12-02 11:30",endDate:"2025-12-02 13:15",articleCount:34,storeCount:6,user:"S. Mller"},{id:"RUN-2025-W47-001",type:"initial",status:"Luft",startDate:"2025-11-25 09:00",articleCount:178,storeCount:12,user:"M. Weber",progress:65}],fte=[{id:"1",articleNumber:"ART-20251001",description:"Running Schuhe Pro Trail Max mit Dmpfung",color:"Schwarz",colorHex:"#000000",season:"Frhjahr/Sommer 2025",allocationFrom:"2025-03-01",allocationTo:"2025-03-15",storeCount:8,totalQuantity:240,capacityImpact:"berkapazitt",hasExceptions:!0,sizeCount:12,allocationDate:"2025-12-16"},{id:"2",articleNumber:"ART-20251002",description:"Sport T-Shirt Performance Fit",color:"Blau",colorHex:"#2563eb",season:"Frhjahr/Sommer 2025",allocationFrom:"2025-02-15",allocationTo:"2025-02-28",storeCount:12,totalQuantity:560,capacityImpact:"Ausgeglichen",hasExceptions:!1,sizeCount:5,allocationDate:"2025-12-16"},{id:"3",articleNumber:"ART-20251003",description:"Winterjacke Premium Isolation",color:"Rot",colorHex:"#dc2626",season:"Herbst/Winter 2025",allocationFrom:"2025-10-01",allocationTo:"2025-10-15",storeCount:10,totalQuantity:180,capacityImpact:"Untererfllung",hasExceptions:!1,sizeCount:6,allocationDate:"2025-12-16"}],gs=[{storeId:"ZH-001",storeName:"Zrich HB",storeDescription:"Hauptbahnhof Zrich",allocatedQuantity:45,demand:50,overUnder:-5,targetStock:60,currentStock:15,salesLast2Weeks:35},{storeId:"BE-001",storeName:"Bern",storeDescription:"Bern Innenstadt",allocatedQuantity:30,demand:28,overUnder:2,targetStock:40,currentStock:12,salesLast2Weeks:22},{storeId:"BS-001",storeName:"Basel",storeDescription:"Basel SBB",allocatedQuantity:38,demand:40,overUnder:-2,targetStock:50,currentStock:10,salesLast2Weeks:28},{storeId:"LU-001",storeName:"Luzern",storeDescription:"Luzern Bahnhofstrasse",allocatedQuantity:25,demand:22,overUnder:3,targetStock:35,currentStock:13,salesLast2Weeks:18},{storeId:"LS-001",storeName:"Lausanne",storeDescription:"Lausanne Gare",allocatedQuantity:32,demand:35,overUnder:-3,targetStock:45,currentStock:11,salesLast2Weeks:25}],Ta=[{size:"36",allocatedQuantity:15,demand:18,currentStock:5,targetStock:20},{size:"37",allocatedQuantity:18,demand:20,currentStock:6,targetStock:24},{size:"38",allocatedQuantity:25,demand:25,currentStock:8,targetStock:30},{size:"39",allocatedQuantity:30,demand:28,currentStock:10,targetStock:35},{size:"40",allocatedQuantity:28,demand:30,currentStock:9,targetStock:32},{size:"41",allocatedQuantity:25,demand:22,currentStock:7,targetStock:28},{size:"42",allocatedQuantity:22,demand:20,currentStock:6,targetStock:25},{size:"43",allocatedQuantity:18,demand:15,currentStock:5,targetStock:20},{size:"44",allocatedQuantity:15,demand:12,currentStock:4,targetStock:18},{size:"45",allocatedQuantity:12,demand:10,currentStock:3,targetStock:15},{size:"46",allocatedQuantity:10,demand:8,currentStock:2,targetStock:12},{size:"47",allocatedQuantity:8,demand:6,currentStock:2,targetStock:10}],pte={berkapazitt:fl,Untererfllung:Up,Ausgeglichen:ZS},hte={berkapazitt:"#ef4444",Untererfllung:"#3b82f6",Ausgeglichen:"#10b981"},vO={initial:"Initiale Allokation",replenishment:"Nachschub",manual:"Manuelle Einsteuerung"};function vte({onNavigate:e,runId:t}){const[r,n]=z.useState(Mb),[i,o]=z.useState(!0),[l,u]=z.useState(null),[d,f]=z.useState(!1),[v,h]=z.useState(null),[m,b]=z.useState("aggregated"),[w,x]=z.useState("absolute"),[y,j]=z.useState("all"),[k,S]=z.useState(""),[N,A]=z.useState(""),[O,_]=z.useState("all");z.useEffect(()=>{(async()=>{o(!0);try{const q=(await Ra.getRuns()).map(H=>({id:H.id,type:H.type||"initial",status:H.status==="completed"?"Abgeschlossen":H.status==="running"?"Luft":H.status==="with_exceptions"?"Mit Ausnahmen":"Geplant",startDate:H.startDate||new Date().toISOString(),endDate:H.endDate,progress:H.progress||0,articleCount:H.articleCount||0,storeCount:H.storeCount||0,user:H.user||"System"}));n(q)}catch(M){console.error("Failed to load runs:",M),n(Mb)}finally{o(!1)}})()},[]);const E=z.useMemo(()=>Array.from(new Set(r.map(L=>L.user))).sort(),[r]),T=z.useMemo(()=>r.filter(L=>{if(y!=="all"&&L.type!==y||O!=="all"&&L.user!==O)return!1;if(k){const M=new Date(L.startDate),q=new Date(k);if(M<q)return!1}if(N){const M=new Date(L.startDate),q=new Date(N);if(q.setHours(23,59,59,999),M>q)return!1}return!0}),[y,k,N,O]);if(!t){const L=[{key:"id",label:"Lauf-ID",sortable:!0,width:"160px",render:M=>a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:M})},{key:"type",label:"Typ",sortable:!0,width:"180px",render:M=>a.jsx("span",{className:"px-3 py-1 rounded-full inline-block",style:{backgroundColor:M==="initial"?"var(--surface-info-subtle)":M==="replenishment"?"var(--surface-success-subtle)":"var(--surface-warning-subtle)",color:M==="initial"?"var(--status-info)":M==="replenishment"?"var(--status-success)":"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:vO[M]})},{key:"status",label:"Status",sortable:!0,width:"150px",render:M=>a.jsx("span",{className:"px-3 py-1 rounded-full inline-block",style:{backgroundColor:M==="Abgeschlossen"?"var(--status-success)":M==="Luft"?"var(--status-info)":M==="Geplant"?"var(--status-warning)":"var(--status-danger)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:M})},{key:"startDate",label:"Startdatum",sortable:!0,render:M=>new Date(M).toLocaleString("de-DE")},{key:"endDate",label:"Enddatum",render:M=>M?new Date(M).toLocaleString("de-DE"):"-"},{key:"user",label:"Benutzer",sortable:!0},{key:"articleCount",label:"Anzahl Artikel",align:"right",sortable:!0,render:M=>a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)"},children:M})},{key:"storeCount",label:"Anzahl Filialen",align:"right",sortable:!0},{key:"actions",label:"Aktion",align:"center",width:"140px",render:(M,q)=>a.jsx("button",{onClick:H=>{H.stopPropagation(),e("runs",{runId:q.id})},className:"px-3 py-1.5 rounded-lg border hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-xs)"},children:"Details anzeigen"})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Allokationslufe"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"bersicht und Verwaltung aller Allokationslufe"})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(wE,{size:18,style:{color:"var(--text-muted)"}}),a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:"Filter"})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"filterType",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Allokationsprozess"}),a.jsxs("select",{id:"filterType",value:y,onChange:M=>j(M.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"all",children:"Alle Typen"}),a.jsx("option",{value:"initial",children:"Initiale Allokation"}),a.jsx("option",{value:"replenishment",children:"Nachschub"}),a.jsx("option",{value:"manual",children:"Manuelle Einsteuerung"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"filterDateFrom",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Datum von"}),a.jsx("input",{type:"date",id:"filterDateFrom",value:k,onChange:M=>S(M.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"filterDateTo",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Datum bis"}),a.jsx("input",{type:"date",id:"filterDateTo",value:N,onChange:M=>A(M.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"filterUser",style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Benutzer"}),a.jsxs("select",{id:"filterUser",value:O,onChange:M=>_(M.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"all",children:"Alle Benutzer"}),E.map(M=>a.jsx("option",{value:M,children:M},M))]})]})]}),(y!=="all"||k||N||O!=="all")&&a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:()=>{j("all"),S(""),A(""),_("all")},className:"px-4 py-2 rounded-lg border hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:"Filter zurcksetzen"})})]}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[T.length," ",T.length===1?"Lauf":"Lufe"," gefunden"]}),a.jsx("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsx(Nr,{data:T,columns:L,onRowClick:M=>e("runs",{runId:M.id})})})]})}const I=Mb.find(L=>L.id===t);if(l){const L=gs.reduce((ue,ae)=>ue+ae.currentStock,0),M=gs.reduce((ue,ae)=>ue+ae.targetStock,0),q=gs.reduce((ue,ae)=>ue+ae.allocatedQuantity,0),H=gs.reduce((ue,ae)=>ue+ae.overUnder,0),Z=gs.reduce((ue,ae)=>ue+ae.demand,0),$=[{name:"Filialbestand gesamt",value:L},{name:"Sollbestand gesamt",value:M},{name:"Allokationsmenge",value:q},{name:"ber-/Unterdeckung",value:H},{name:"Bedarf",value:Z},{name:"VZ-Bestand",value:2400}],F=[{name:"Filialbestand gesamt",...Ta.reduce((ue,ae)=>({...ue,[ae.size]:ae.currentStock}),{})},{name:"Sollbestand gesamt",...Ta.reduce((ue,ae)=>({...ue,[ae.size]:ae.targetStock}),{})},{name:"Allokationsmenge",...Ta.reduce((ue,ae)=>({...ue,[ae.size]:ae.allocatedQuantity}),{})},{name:"ber-/Unterdeckung",...Ta.reduce((ue,ae)=>({...ue,[ae.size]:ae.allocatedQuantity-ae.demand}),{})},{name:"Bedarf",...Ta.reduce((ue,ae)=>({...ue,[ae.size]:ae.demand}),{})},{name:"VZ-Bestand",...Ta.reduce((ue,ae)=>({...ue,[ae.size]:200}),{})}],Q=w==="relative"?F.map(ue=>{const ae=Ta.map(oe=>oe.size),ge=ae.reduce((oe,ve)=>oe+(Number(ue[ve])||0),0);if(ge===0)return ue;const W={name:ue.name};return ae.forEach(oe=>{W[oe]=(Number(ue[oe])||0)/ge*100}),W}):F,U=$.map(ue=>ue.value),B=Math.min(...U),te=Math.max(...U),ce=B<0?[Math.floor(B*1.1),Math.ceil(te*1.1)]:[0,Math.ceil(te*1.1)],he=[{key:"storeName",label:"Filiale",sortable:!0,render:ue=>a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:ue})},{key:"storeDescription",label:"Filialbeschreibung"},{key:"allocatedQuantity",label:"Allokationsmenge",align:"right",sortable:!0,render:ue=>a.jsx("button",{onClick:()=>{h({title:"Allokationsmenge",field:"allocatedQuantity"}),f(!0)},className:"hover:underline cursor-pointer",style:{fontWeight:"var(--font-weight-medium)",color:"var(--brand-primary)"},children:ue})},{key:"demand",label:"Bedarf",align:"right",sortable:!0,render:ue=>a.jsx("button",{onClick:()=>{h({title:"Bedarf",field:"demand"}),f(!0)},className:"hover:underline cursor-pointer",style:{fontWeight:"var(--font-weight-medium)",color:"var(--brand-primary)"},children:ue})},{key:"overUnder",label:"ber-/Unterdeckung",align:"right",sortable:!0,render:ue=>a.jsxs("button",{onClick:()=>{h({title:"ber-/Unterdeckung",field:"overUnder"}),f(!0)},className:"hover:underline cursor-pointer",style:{fontWeight:"var(--font-weight-medium)",color:ue<0?"#ef4444":ue>0?"#10b981":"inherit"},children:[ue>0?"+":"",ue]})},{key:"targetStock",label:"Sollbestand",align:"right",sortable:!0,render:ue=>a.jsx("button",{onClick:()=>{h({title:"Sollbestand",field:"targetStock"}),f(!0)},className:"hover:underline cursor-pointer",style:{fontWeight:"var(--font-weight-medium)",color:"var(--brand-primary)"},children:ue})},{key:"currentStock",label:"Filialbestand",align:"right",sortable:!0,render:ue=>a.jsx("button",{onClick:()=>{h({title:"Filialbestand",field:"currentStock"}),f(!0)},className:"hover:underline cursor-pointer",style:{fontWeight:"var(--font-weight-medium)",color:"var(--brand-primary)"},children:ue})},{key:"salesLast2Weeks",label:"Umsatz letzte 2 Wochen",align:"right",sortable:!0}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("button",{onClick:()=>u(null),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-surface-tint transition-colors",style:{color:"var(--text-muted)"},children:[a.jsx(qS,{size:20}),a.jsx("span",{children:"Zurck zum Allokationslauf"})]}),a.jsx("div",{children:a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Artikel  Allokationsdetails"})}),a.jsx("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Artikelnummer"}),a.jsx("code",{style:{fontSize:"var(--font-size-sm)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"4px 8px",borderRadius:"var(--radius-sm)"},children:l.articleNumber})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Artikelbeschreibung"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:l.description})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Farbe"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:l.colorHex,borderColor:"var(--border-default)"}}),a.jsx("span",{children:l.color})]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl Gren"}),a.jsx("div",{children:l.sizeCount})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Saison"}),a.jsx("div",{children:l.season})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Allokationsdatum"}),a.jsx("div",{children:new Date(l.allocationDate).toLocaleDateString("de-DE")})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Allokationszeitraum von"}),a.jsx("div",{children:new Date(l.allocationFrom).toLocaleDateString("de-DE")})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Allokationszeitraum bis"}),a.jsx("div",{children:new Date(l.allocationTo).toLocaleDateString("de-DE")})]})]})}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",minHeight:"500px"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Aggregierte Bestands- & Allokationskennzahlen"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"flex gap-2 p-1 rounded-lg",style:{backgroundColor:"var(--surface-alt)"},children:[a.jsx("button",{onClick:()=>b("aggregated"),className:"px-3 py-1.5 rounded transition-all",style:{backgroundColor:m==="aggregated"?"var(--brand-primary)":"transparent",color:m==="aggregated"?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Aggregiert"}),a.jsx("button",{onClick:()=>b("segmented"),className:"px-3 py-1.5 rounded transition-all",style:{backgroundColor:m==="segmented"?"var(--brand-primary)":"transparent",color:m==="segmented"?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Nach Gren segmentiert"})]}),m==="segmented"&&a.jsxs("div",{className:"flex gap-2 p-1 rounded-lg",style:{backgroundColor:"var(--surface-alt)"},children:[a.jsx("button",{onClick:()=>x("absolute"),className:"px-3 py-1.5 rounded transition-all",style:{backgroundColor:w==="absolute"?"var(--brand-primary)":"transparent",color:w==="absolute"?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Absolut"}),a.jsx("button",{onClick:()=>x("relative"),className:"px-3 py-1.5 rounded transition-all",style:{backgroundColor:w==="relative"?"var(--brand-primary)":"transparent",color:w==="relative"?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Relativ"})]})]})]}),a.jsx("div",{style:{width:"100%",height:"400px",minHeight:"400px"},children:a.jsx(Yt,{width:"100%",height:"100%",minHeight:400,children:m==="aggregated"?a.jsxs(Pr,{data:$,layout:"vertical",margin:{top:5,right:30,left:200,bottom:5},children:[a.jsx(Kn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(bt,{type:"number",domain:ce,tickFormatter:ue=>Math.round(ue).toString()}),a.jsx(St,{type:"category",dataKey:"name",width:180}),a.jsx(st,{}),a.jsx(Ie,{dataKey:"value",fill:"#2563eb"})]}):a.jsxs(Pr,{data:Q,layout:"vertical",margin:{top:5,right:30,left:200,bottom:5},children:[a.jsx(Kn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(bt,{type:"number",domain:w==="relative"?[0,100]:ce,label:w==="relative"?{value:"%",position:"insideRight",offset:-10}:void 0,tickFormatter:ue=>w==="relative"?`${Math.round(ue)}%`:Math.round(ue).toString()}),a.jsx(St,{type:"category",dataKey:"name",width:180}),a.jsx(st,{formatter:ue=>w==="relative"?`${ue.toFixed(2)}%`:ue}),a.jsx(zt,{}),a.jsx(Ie,{dataKey:"36",stackId:"a",fill:"#1e3a8a"}),a.jsx(Ie,{dataKey:"37",stackId:"a",fill:"#1e40af"}),a.jsx(Ie,{dataKey:"38",stackId:"a",fill:"#1d4ed8"}),a.jsx(Ie,{dataKey:"39",stackId:"a",fill:"#2563eb"}),a.jsx(Ie,{dataKey:"40",stackId:"a",fill:"#3b82f6"}),a.jsx(Ie,{dataKey:"41",stackId:"a",fill:"#60a5fa"}),a.jsx(Ie,{dataKey:"42",stackId:"a",fill:"#93c5fd"}),a.jsx(Ie,{dataKey:"43",stackId:"a",fill:"#bfdbfe"}),a.jsx(Ie,{dataKey:"44",stackId:"a",fill:"#dbeafe"}),a.jsx(Ie,{dataKey:"45",stackId:"a",fill:"#eff6ff"}),a.jsx(Ie,{dataKey:"46",stackId:"a",fill:"#f0f9ff"}),a.jsx(Ie,{dataKey:"47",stackId:"a",fill:"#e0f2fe"})]})})})]}),a.jsxs("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"p-4 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:"Allokation je Filiale"})}),a.jsx(Nr,{data:gs,columns:he,onRowClick:()=>{}})]}),d&&v&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:()=>f(!1),children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl",style:{boxShadow:"var(--shadow-lg)"},onClick:ue=>ue.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:["Grenverteilung  ",v.title]}),a.jsx("button",{onClick:()=>f(!1),className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]})}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"overflow-hidden rounded-lg border",style:{borderColor:"var(--border-default)"},children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)",backgroundColor:"var(--surface-alt)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Gre"}),a.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Allokationsmenge"}),a.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Bedarf"}),a.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Bestand"}),a.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)"},children:"Sollbestand"})]})}),a.jsx("tbody",{children:Ta.map((ue,ae)=>a.jsxs("tr",{style:{borderBottom:ae<Ta.length-1?"1px solid var(--border-subtle)":"none"},children:[a.jsx("td",{style:{padding:"12px 16px",fontWeight:"var(--font-weight-medium)"},children:ue.size}),a.jsx("td",{style:{textAlign:"right",padding:"12px 16px"},children:ue.allocatedQuantity}),a.jsx("td",{style:{textAlign:"right",padding:"12px 16px"},children:ue.demand}),a.jsx("td",{style:{textAlign:"right",padding:"12px 16px"},children:ue.currentStock}),a.jsx("td",{style:{textAlign:"right",padding:"12px 16px"},children:ue.targetStock})]},ue.size))})]})})}),a.jsx("div",{className:"p-6 border-t flex justify-end",style:{borderColor:"var(--border-default)"},children:a.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)"},children:"Schlieen"})})]})})]})}const R=[{key:"articleNumber",label:"Artikelnummer",sortable:!0,width:"140px",render:L=>a.jsx("code",{style:{fontSize:"var(--font-size-xs)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"2px 6px",borderRadius:"var(--radius-sm)"},children:L})},{key:"description",label:"Artikelbeschreibung",render:L=>a.jsx("div",{style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:L})},{key:"color",label:"Farbe",width:"120px",render:(L,M)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:M.colorHex,borderColor:"var(--border-default)"}}),a.jsx("span",{children:L})]})},{key:"season",label:"Saison"},{key:"allocationFrom",label:"Allokationszeitraum von",render:L=>new Date(L).toLocaleDateString("de-DE")},{key:"allocationTo",label:"Allokationszeitraum bis",render:L=>new Date(L).toLocaleDateString("de-DE")},{key:"storeCount",label:"Anzahl Filialen",align:"right",sortable:!0},{key:"totalQuantity",label:"Gesamtmenge allokiert",align:"right",sortable:!0,render:L=>a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)"},children:L})},{key:"capacityImpact",label:"Kapazittswirkung",align:"center",width:"160px",render:L=>{const M=pte[L];return a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(M,{size:18,style:{color:hte[L]}})})}},{key:"hasExceptions",label:"Exception-Status",align:"center",render:L=>L?a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Ausnahme"}):a.jsx("span",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-xs)"},children:"-"})},{key:"id",label:"Aktion",align:"center",width:"140px",render:(L,M)=>a.jsx("button",{onClick:q=>{q.stopPropagation(),u(M)},className:"px-3 py-1.5 rounded-lg border hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-xs)"},children:"Details anzeigen"})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[a.jsx("button",{onClick:()=>e("runs"),className:"hover:underline",children:"Allokationslufe"}),a.jsx("span",{children:""}),a.jsx("span",{children:t})]}),a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Allokationslauf"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"bersicht aller Artikel und Ergebnisse dieses Allokationslaufs"})]}),I&&a.jsx("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"grid grid-cols-6 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Lauf-ID"}),a.jsx("code",{style:{fontSize:"var(--font-size-sm)",fontFamily:"var(--font-family-mono)",backgroundColor:"var(--surface-code-block)",padding:"4px 8px",borderRadius:"var(--radius-sm)"},children:I.id})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Typ"}),a.jsx("span",{className:"px-3 py-1 rounded-full inline-block",style:{backgroundColor:I.type==="initial"?"var(--surface-info-subtle)":I.type==="replenishment"?"var(--surface-success-subtle)":"var(--surface-warning-subtle)",color:I.type==="initial"?"var(--status-info)":I.type==="replenishment"?"var(--status-success)":"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:vO[I.type]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Status"}),a.jsx("span",{className:"px-3 py-1 rounded-full inline-block",style:{backgroundColor:I.status==="Abgeschlossen"?"var(--status-success)":I.status==="Luft"?"var(--status-info)":I.status==="Geplant"?"var(--status-warning)":"var(--status-danger)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:I.status})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Startdatum"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:new Date(I.startDate).toLocaleString("de-DE")})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl Artikel"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",fontSize:"var(--font-size-lg)"},children:I.articleCount})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl Filialen"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",fontSize:"var(--font-size-lg)"},children:I.storeCount})]})]})}),a.jsxs("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"p-4 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:"Allokierte Artikel"})}),a.jsx(Nr,{data:fte,columns:R,onRowClick:L=>u(L)})]})]})}const Lb={overcapacity:"berkapazitt",undercapacity:"Untererfllung SOLL-Kapazitt","delivery-conflict":"Liefertermin-Konflikt","lot-conflict":"LOT / Grenlauf-Konflikt","parameter-conflict":"Parameterkonflikt","manual-deviation":"Manuelle Abweichung"},co={info:{label:"Hinweis",color:"var(--status-info)",icon:Qt},critical:{label:"Kritisch",color:"var(--status-warning)",icon:Ft},blocking:{label:"Blockierend",color:"var(--status-danger)",icon:aa}},ys={new:{label:"Neu",color:"var(--status-info)"},"in-progress":{label:"In Bearbeitung",color:"var(--status-warning)"},accepted:{label:"Akzeptiert",color:"var(--brand-primary)"},resolved:{label:"Gelst",color:"var(--status-success)"}},mte=[{id:"EXC-001",type:"overcapacity",severity:"critical",status:"new",process:"initial",article:"ART-10245 - Running Shoes Elite",category:"Shoes  Running",cause:'SOLL-Kapazitt wird im Cluster "Urban Premium" um 23% berschritten',affectedLevel:"Store-Cluster: Urban Premium (3 Filialen)",impact:"+23% ber SOLL",source:"simulation",recommendedAction:"Liefertermin verschieben oder Artikel reduzieren",createdAt:"2025-12-16 09:45",season:"SS 2026",cluster:"Urban Premium",capacityDeviation:23,deliveryDate:"KW 12/2026"},{id:"EXC-002",type:"lot-conflict",severity:"blocking",status:"new",process:"initial",article:"ART-10892 - Casual Jacket Spring",category:"Apparel  Jackets",cause:"LOT-Zwang verletzt: Nur 4 von 6 Gren verfgbar",affectedLevel:"Produktgruppe: Casual Jackets",impact:"Prsentation nicht regelkonform",source:"planning",recommendedAction:"Artikel aus Lauf entfernen oder fehlende Gren beschaffen",createdAt:"2025-12-16 08:12",season:"SS 2026",deliveryDate:"KW 10/2026"},{id:"EXC-003",type:"delivery-conflict",severity:"critical",status:"in-progress",process:"replenishment",article:"ART-11234 - Summer Dress Collection",category:"Apparel  Dresses",cause:"Zeitliche Verdichtung: 3 Kollektionen in KW 15",affectedLevel:"Zeitfenster: KW 15/2026",impact:"Kapazittsberlastung +45%",source:"simulation",recommendedAction:"Liefertermin um 1 Woche verschieben",createdAt:"2025-12-15 14:30",season:"SS 2026",cluster:"Alle",capacityDeviation:45,deliveryDate:"KW 15/2026",assignedTo:"Maria Mller"},{id:"EXC-004",type:"undercapacity",severity:"info",status:"accepted",process:"initial",article:"Kategorie: Accessories",category:"Accessories",cause:"SOLL-Kapazitt wird nur zu 78% ausgelastet",affectedLevel:"Warengruppe: Accessories",impact:"-22% unter SOLL",source:"planning",recommendedAction:"Zustzliche Artikel einplanen oder Abweichung akzeptieren",createdAt:"2025-12-14 11:20",season:"SS 2026",capacityDeviation:-22},{id:"EXC-005",type:"parameter-conflict",severity:"blocking",status:"new",process:"initial",article:"ART-10567 - Premium Sneakers",category:"Shoes  Sneakers",cause:"Mindestprsentationsmenge (8 Stk.) > verfgbare Kapazitt (5 Stk.)",affectedLevel:"Artikel-Ebene",impact:"Allokation nicht mglich",source:"planning",recommendedAction:"Parameter prfen und anpassen",createdAt:"2025-12-16 10:05",season:"SS 2026"},{id:"EXC-006",type:"manual-deviation",severity:"info",status:"accepted",process:"initial",article:"ART-10123 - Special Edition",category:"Shoes  Limited",cause:"Bewusste berallokation fr Marketingaktion",affectedLevel:"Filiale: Zrich HB",impact:"+15% ber SOLL",source:"production",recommendedAction:"Keine Aktion erforderlich (akzeptiert)",createdAt:"2025-12-13 16:45",season:"SS 2026",capacityDeviation:15,assignedTo:"Andreas Schmidt"},{id:"EXC-007",type:"overcapacity",severity:"critical",status:"in-progress",process:"replenishment",article:"Kategorie: Electronics",category:"Electronics",cause:"Nachschub berschreitet verfgbare Lagerflche",affectedLevel:"Store-Cluster: Regional",impact:"+18% ber SOLL",source:"simulation",recommendedAction:"Mengereduktion oder zeitliche Staffelung",createdAt:"2025-12-15 09:30",season:"AW 2025",cluster:"Regional",capacityDeviation:18,assignedTo:"Julia Weber"},{id:"EXC-008",type:"delivery-conflict",severity:"info",status:"resolved",process:"initial",article:"ART-10889 - Winter Boots",category:"Shoes  Boots",cause:"Ursprnglicher Liefertermin zu spt",affectedLevel:"Zeitfenster: KW 40/2025",impact:"Verzgerung um 2 Wochen",source:"planning",recommendedAction:"Liefertermin angepasst",createdAt:"2025-12-10 08:00",season:"AW 2025",deliveryDate:"KW 38/2025"}];function gte({onNavigate:e}){const[t,r]=z.useState([]),[n,i]=z.useState(!0),[o,l]=z.useState({process:[],type:[],severity:[],status:[],season:[]}),[u,d]=z.useState("detail"),[f,v]=z.useState(""),[h,m]=z.useState(null),[b,w]=z.useState(!1),[x,y]=z.useState("");z.useEffect(()=>{i(!0),r(mte),i(!1)},[]);const j=z.useMemo(()=>t.filter(_=>!(o.process.length>0&&!o.process.includes(_.process)||o.type.length>0&&!o.type.includes(_.type)||o.severity.length>0&&!o.severity.includes(_.severity)||o.status.length>0&&!o.status.includes(_.status)||f&&!_.article.toLowerCase().includes(f.toLowerCase())&&!_.category.toLowerCase().includes(f.toLowerCase()))),[t,o,f]),k=z.useMemo(()=>{const _=j.reduce((E,T)=>{const I=T.type;return E[I]||(E[I]={type:I,count:0,critical:0,blocking:0,info:0,new:0,inProgress:0,accepted:0,resolved:0,categories:new Set}),E[I].count++,T.severity==="critical"&&E[I].critical++,T.severity==="blocking"&&E[I].blocking++,T.severity==="info"&&E[I].info++,T.status==="new"&&E[I].new++,T.status==="in-progress"&&E[I].inProgress++,T.status==="accepted"&&E[I].accepted++,T.status==="resolved"&&E[I].resolved++,E[I].categories.add(T.category),E},{});return Object.values(_)},[j]),S=z.useMemo(()=>{const _=j.length,E=j.filter(L=>L.severity==="critical"||L.severity==="blocking").length,T=j.filter(L=>L.status==="accepted").length,R=j.filter(L=>L.status==="resolved").length>0?2.5:0;return{total:_,criticalBlocking:E,accepted:T,avgDays:R}},[j]),N=()=>{h&&x.trim()&&(r(_=>_.map(E=>E.id===h.id?{...E,status:"accepted"}:E)),alert(`Abweichung akzeptiert: ${h.id}
Begrndung: ${x}`),w(!1),y(""),m(null))},A=_=>{r(E=>E.map(T=>T.id===_.id?{...T,status:"resolved"}:T)),alert(`Exception ${_.id} als gelst markiert`),m(null)},O=({severity:_})=>{const E=co[_],T=E.icon;return a.jsx(T,{size:16,style:{color:E.color}})};return a.jsxs("div",{className:"pb-20",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[a.jsx("span",{children:"Cockpit"}),a.jsx(dn,{size:16}),a.jsx("span",{children:"Ausnahmen"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Exception-Cockpit"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)",maxWidth:"900px"},children:"Zentrale bersicht und Steuerung von kapazitiven, zeitlichen und allokationsbezogenen Ausnahmen entlang des gesamten Prozesses."})]}),a.jsxs("div",{className:"p-4 rounded-lg border mb-6",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 flex-wrap",children:[a.jsxs("div",{className:"relative flex-1 max-w-xs",children:[a.jsx(fn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{type:"text",placeholder:"Artikel oder Kategorie suchen...",value:f,onChange:_=>v(_.target.value),className:"pl-10 pr-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("select",{value:o.process[0]||"",onChange:_=>{l(E=>({...E,process:_.target.value?[_.target.value]:[]}))},className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)",minWidth:"150px"},children:[a.jsx("option",{value:"",children:"Prozess: Alle"}),a.jsx("option",{value:"initial",children:"Initiale Allokation"}),a.jsx("option",{value:"replenishment",children:"Nachschub"})]}),a.jsxs("select",{value:o.severity[0]||"",onChange:_=>{l(E=>({...E,severity:_.target.value?[_.target.value]:[]}))},className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)",minWidth:"150px"},children:[a.jsx("option",{value:"",children:"Severity: Alle"}),a.jsx("option",{value:"info",children:"Hinweis"}),a.jsx("option",{value:"critical",children:"Kritisch"}),a.jsx("option",{value:"blocking",children:"Blockierend"})]}),a.jsxs("select",{value:o.status[0]||"",onChange:_=>{l(E=>({...E,status:_.target.value?[_.target.value]:[]}))},className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)",minWidth:"150px"},children:[a.jsx("option",{value:"",children:"Status: Alle"}),a.jsx("option",{value:"new",children:"Neu"}),a.jsx("option",{value:"in-progress",children:"In Bearbeitung"}),a.jsx("option",{value:"accepted",children:"Akzeptiert"}),a.jsx("option",{value:"resolved",children:"Gelst"})]})]}),a.jsxs("div",{className:"flex items-center rounded-lg border overflow-hidden",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>d("aggregated"),className:"px-3 py-2",style:{backgroundColor:u==="aggregated"?"var(--brand-primary)":"var(--surface-page)",color:u==="aggregated"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",borderRight:"1px solid var(--border-default)"},children:"Aggregiert"}),a.jsx("button",{onClick:()=>d("detail"),className:"px-3 py-2",style:{backgroundColor:u==="detail"?"var(--brand-primary)":"var(--surface-page)",color:u==="detail"?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-sm)"},children:"Detail"})]})]}),(o.process.length>0||o.severity.length>0||o.status.length>0||f)&&a.jsxs("div",{className:"flex items-center gap-2 flex-wrap pt-3 border-t",style:{borderColor:"var(--border-subtle)"},children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Aktive Filter:"}),o.process.map(_=>a.jsxs("span",{className:"px-2 py-1 rounded flex items-center gap-1",style:{backgroundColor:"var(--surface-info-subtle)",fontSize:"var(--font-size-xs)"},children:[_==="initial"?"Initial":"Nachschub",a.jsx("button",{onClick:()=>l(E=>({...E,process:E.process.filter(T=>T!==_)})),children:a.jsx(Et,{size:12})})]},_)),f&&a.jsxs("span",{className:"px-2 py-1 rounded flex items-center gap-1",style:{backgroundColor:"var(--surface-info-subtle)",fontSize:"var(--font-size-xs)"},children:['Suche: "',f,'"',a.jsx("button",{onClick:()=>v(""),children:a.jsx(Et,{size:12})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-6 mb-6",children:[a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"Offene Ausnahmen"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:S.total})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-danger-subtle)",borderColor:"var(--border-danger)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"Kritisch / Blockierend"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-danger)"},children:S.criticalBlocking})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"Akzeptierte Abweichungen"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:S.accepted})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:" Bearbeitungsdauer"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"},children:[S.avgDays," ",a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-regular)",color:"var(--text-muted)"},children:"Tage"})]})]})]}),u==="detail"?a.jsx("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"80px"},children:"Severity"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"180px"},children:"Exception-Typ"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"200px"},children:"Artikel / Kategorie"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"120px"},children:"Prozess"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"250px"},children:"Ursache"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"150px"},children:"Auswirkung"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"100px"},children:"Quelle"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"120px"},children:"Status"}),a.jsx("th",{style:{textAlign:"center",padding:"12px 16px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"100px"},children:"Aktionen"})]})}),a.jsx("tbody",{children:j.map(_=>a.jsxs("tr",{onClick:()=>m(_),style:{borderBottom:"1px solid var(--border-subtle)",cursor:"pointer"},className:"hover:bg-surface-tint transition-colors",children:[a.jsx("td",{style:{padding:"16px"},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(O,{severity:_.severity}),a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:`${co[_.severity].color}15`,color:co[_.severity].color,fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:co[_.severity].label})]})}),a.jsx("td",{style:{padding:"16px",fontSize:"var(--font-size-sm)"},children:Lb[_.type]}),a.jsx("td",{style:{padding:"16px"},children:a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:_.article}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:_.category})]})}),a.jsx("td",{style:{padding:"16px"},children:a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:_.process==="initial"?"var(--surface-info-subtle)":"var(--surface-success-subtle)",color:_.process==="initial"?"var(--status-info)":"var(--status-success)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:_.process==="initial"?"Initial":"Nachschub"})}),a.jsx("td",{style:{padding:"16px",fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:_.cause}),a.jsx("td",{style:{padding:"16px"},children:a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:_.capacityDeviation&&_.capacityDeviation>0?"var(--status-danger)":"var(--status-warning)"},children:_.impact})}),a.jsx("td",{style:{padding:"16px"},children:a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:_.source==="planning"?"Planung":_.source==="simulation"?"Simulation":"Produktiv"})}),a.jsx("td",{style:{padding:"16px"},children:a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:`${ys[_.status].color}15`,color:ys[_.status].color,fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:ys[_.status].label})}),a.jsx("td",{style:{padding:"16px",textAlign:"center"},children:a.jsx("button",{onClick:E=>{E.stopPropagation(),m(_)},className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(G4,{size:16,style:{color:"var(--brand-primary)"}})})})]},_.id))})]})})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(_=>a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:Lb[_.type]}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[_.categories.size," Kategorien betroffen"]})]}),a.jsx("div",{className:"px-3 py-1 rounded-full",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)"},children:_.count})]}),a.jsxs("div",{className:"space-y-3 pt-3 border-t",style:{borderColor:"var(--border-subtle)"},children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Severity"}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end",children:[_.blocking>0&&a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-danger-subtle)",color:"var(--status-danger)",fontSize:"var(--font-size-xs)"},children:[_.blocking," Blockierend"]}),_.critical>0&&a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-xs)"},children:[_.critical," Kritisch"]}),_.info>0&&a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--status-info)",fontSize:"var(--font-size-xs)"},children:[_.info," Hinweis"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Status"}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-end",style:{fontSize:"var(--font-size-xs)"},children:[_.new>0&&a.jsxs("span",{style:{color:"var(--status-info)"},children:[_.new," Neu"]}),_.inProgress>0&&a.jsxs("span",{style:{color:"var(--status-warning)"},children:[_.inProgress," In Bearb."]}),_.accepted>0&&a.jsxs("span",{style:{color:"var(--brand-primary)"},children:[_.accepted," Akzept."]}),_.resolved>0&&a.jsxs("span",{style:{color:"var(--status-success)"},children:[_.resolved," Gelst"]})]})]})]}),a.jsx("button",{onClick:()=>{l(E=>({...E,type:[_.type]})),d("detail")},className:"mt-4 w-full px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:"Details anzeigen"})]},_.type))}),h&&a.jsxs("div",{className:"fixed inset-0 z-50 flex",onClick:()=>m(null),style:{backgroundColor:"var(--bg-overlay)"},children:[a.jsx("div",{className:"flex-1"}),a.jsxs("div",{className:"bg-white shadow-lg overflow-y-auto",style:{width:"600px",maxWidth:"100vw",boxShadow:"var(--shadow-lg)"},onClick:_=>_.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b sticky top-0 bg-white z-10",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Exception-ID"}),a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:h.id})]}),a.jsx("button",{onClick:()=>m(null),className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(O,{severity:h.severity}),a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:`${co[h.severity].color}15`,color:co[h.severity].color,fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:co[h.severity].label})]}),a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:`${ys[h.status].color}15`,color:ys[h.status].color,fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:ys[h.status].label})]})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"var(--space-3)"},children:"Kontext"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx($p,{size:16,style:{color:"var(--text-muted)",marginTop:"2px"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Artikel / Kategorie"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:h.article}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:h.category})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(fl,{size:16,style:{color:"var(--text-muted)",marginTop:"2px"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Prozess"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:h.process==="initial"?"Initiale Allokation":"Nachschub"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(nL,{size:16,style:{color:"var(--text-muted)",marginTop:"2px"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Saison"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:h.season})]})]}),h.deliveryDate&&a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ts,{size:16,style:{color:"var(--text-muted)",marginTop:"2px"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Liefertermin"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:h.deliveryDate})]})]})]})]}),a.jsxs("div",{className:"border-t pt-6",style:{borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"var(--space-3)"},children:"Ursache & Details"}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-warning-subtle)",border:"1px solid var(--border-warning)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Beschreibung der Regelverletzung"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",lineHeight:"1.5"},children:h.cause})]}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Betroffene Ebene"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:h.affectedLevel})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Exception-Typ"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:Lb[h.type]})]})]}),h.type==="parameter-conflict"&&a.jsxs("button",{onClick:()=>{m(null),e("parameters")},className:"mt-3 w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx($c,{size:16}),"Zur Parameterpflege"]})]}),h.capacityDeviation&&a.jsxs("div",{className:"border-t pt-6",style:{borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"var(--space-3)"},children:"Kapazittswirkung"}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:h.capacityDeviation>0?"var(--surface-danger-subtle)":"var(--surface-warning-subtle)",border:`1px solid ${h.capacityDeviation>0?"var(--border-danger)":"var(--border-warning)"}`},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Abweichung SOLL"}),a.jsxs("span",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",color:h.capacityDeviation>0?"var(--status-danger)":"var(--status-warning)"},children:[h.capacityDeviation>0?"+":"",h.capacityDeviation,"%"]})]})}),a.jsxs("div",{className:"mt-4 flex items-end gap-2 h-24",children:[a.jsx("div",{className:"flex-1 bg-surface-subtle-tint rounded-t",style:{height:"60%"},children:a.jsx("div",{className:"h-full flex items-end justify-center pb-2",children:a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"SOLL"})})}),a.jsx("div",{className:"flex-1 rounded-t",style:{height:"85%",backgroundColor:h.capacityDeviation>0?"var(--status-danger)":"var(--status-warning)"},children:a.jsx("div",{className:"h-full flex items-end justify-center pb-2",children:a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-inverse)"},children:"IST"})})})]})]}),a.jsxs("div",{className:"border-t pt-6",style:{borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"var(--space-3)"},children:"Handlungsempfehlungen"}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Qt,{size:16,style:{color:"var(--status-info)",marginTop:"2px"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Systemvorschlag"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:h.recommendedAction})]})]})})]}),a.jsxs("div",{className:"border-t pt-6 space-y-3",style:{borderColor:"var(--border-default)"},children:[a.jsxs("button",{onClick:()=>{m(null),e("capacity")},className:"w-full flex items-center justify-between px-4 py-3 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx("span",{children:"Zur Simulation springen"}),a.jsx(xE,{size:16})]}),a.jsxs("button",{onClick:()=>w(!0),className:"w-full flex items-center justify-between px-4 py-3 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)"},children:[a.jsx("span",{children:"Abweichung akzeptieren"}),a.jsx(Zr,{size:16})]}),a.jsxs("button",{onClick:()=>A(h),className:"w-full flex items-center justify-between px-4 py-3 rounded-lg",style:{backgroundColor:"var(--status-success)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)"},children:[a.jsx("span",{children:"Ausnahme lsen"}),a.jsx(Zr,{size:16})]})]}),a.jsx("div",{className:"border-t pt-6",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center justify-between",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[a.jsxs("span",{children:["Erstellt: ",h.createdAt]}),h.assignedTo&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(hB,{size:12}),h.assignedTo]})]})})]})]})]}),b&&h&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:()=>w(!1),children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md",style:{boxShadow:"var(--shadow-lg)"},onClick:_=>_.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h3",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Abweichung akzeptieren"})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:["Sie sind dabei, die Exception ",a.jsx("strong",{children:h.id})," als akzeptierte Abweichung zu kennzeichnen."]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",display:"block",marginBottom:"8px"},children:"Begrndung (Pflichtfeld)"}),a.jsx("textarea",{value:x,onChange:_=>y(_.target.value),placeholder:"Bitte geben Sie eine Begrndung fr die Akzeptanz ein...",rows:4,className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",resize:"vertical"}})]})]}),a.jsxs("div",{className:"p-6 border-t flex items-center justify-end gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>{w(!1),y("")},className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsx("button",{onClick:N,disabled:!x.trim(),className:"px-4 py-2 rounded-lg",style:{backgroundColor:x.trim()?"var(--brand-primary)":"var(--border-default)",color:"var(--text-inverse)",height:"var(--height-button-md)",opacity:x.trim()?1:.5,cursor:x.trim()?"pointer":"not-allowed"},children:"Akzeptieren"})]})]})})]})}const PS=[{id:"blick-retail",label:"BLICK Retail",level:"company",children:[{id:"division-bekleidung",label:"Einkaufsbereich Bekleidung",level:"division",children:[{id:"category-schuhe",label:"Warengruppe Schuhe",level:"category",children:[{id:"pg-running-shoes",label:"Running Shoes",level:"productGroup"},{id:"pg-casual-sneakers",label:"Casual Sneakers",level:"productGroup"},{id:"pg-boots",label:"Boots",level:"productGroup"}]},{id:"category-oberbekleidung",label:"Warengruppe Oberbekleidung",level:"category",children:[{id:"pg-outdoor-jackets",label:"Outdoor Jackets",level:"productGroup"},{id:"pg-blazers",label:"Blazers",level:"productGroup"},{id:"pg-coats",label:"Coats",level:"productGroup"}]},{id:"category-hosen",label:"Warengruppe Hosen",level:"category",children:[{id:"pg-jeans",label:"Jeans",level:"productGroup"},{id:"pg-chinos",label:"Chinos",level:"productGroup"},{id:"pg-sports-pants",label:"Sports Pants",level:"productGroup"}]}]},{id:"division-sport",label:"Einkaufsbereich Sport",level:"division",children:[{id:"category-outdoor",label:"Warengruppe Outdoor",level:"category",children:[{id:"pg-trekking",label:"Trekking Equipment",level:"productGroup"},{id:"pg-camping",label:"Camping",level:"productGroup"}]},{id:"category-fitness",label:"Warengruppe Fitness",level:"category",children:[{id:"pg-gym-equipment",label:"Gym Equipment",level:"productGroup"},{id:"pg-yoga",label:"Yoga",level:"productGroup"}]}]},{id:"division-accessories",label:"Einkaufsbereich Accessories",level:"division",children:[{id:"category-bags",label:"Warengruppe Taschen",level:"category",children:[{id:"pg-backpacks",label:"Backpacks",level:"productGroup"},{id:"pg-handbags",label:"Handbags",level:"productGroup"}]}]}]}];function _I({node:e,level:t=0,selectedIds:r,expandedIds:n,onToggleExpand:i,onToggleSelect:o}){const l=e.children&&e.children.length>0,u=n.has(e.id),d=r.has(e.id),f=v=>{switch(v){case"company":return"var(--text-muted)";case"division":return"var(--status-info)";case"category":return"var(--status-warning)";case"productGroup":return"var(--status-success)";default:return"var(--text-secondary)"}};return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 py-2 px-3 cursor-pointer hover:bg-surface-tint rounded transition-colors",style:{paddingLeft:`${t*24+12}px`},children:[a.jsx("div",{style:{width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:l?a.jsx("button",{onClick:v=>{v.stopPropagation(),i(e.id)},className:"p-0.5 hover:bg-surface-subtle-tint rounded",children:u?a.jsx(To,{size:16,style:{color:"var(--text-muted)"}}):a.jsx(dn,{size:16,style:{color:"var(--text-muted)"}})}):null}),a.jsx("div",{onClick:()=>o(e.id,e.label),className:"flex items-center justify-center w-5 h-5 rounded border",style:{borderColor:d?"var(--brand-primary)":"var(--border-default)",backgroundColor:d?"var(--brand-primary)":"transparent"},children:d&&a.jsx(Za,{size:14,style:{color:"var(--text-inverse)"}})}),a.jsx("span",{onClick:()=>o(e.id,e.label),style:{fontSize:"var(--font-size-sm)",fontWeight:t===0?"var(--font-weight-semibold)":"var(--font-weight-regular)",flex:1},children:e.label}),a.jsxs("span",{className:"px-2 py-0.5 rounded text-xs",style:{backgroundColor:`${f(e.level)}15`,color:f(e.level),fontSize:"var(--font-size-xs)"},children:[e.level==="company"&&"Unternehmen",e.level==="division"&&"Einkaufsbereich",e.level==="category"&&"Warengruppe",e.level==="productGroup"&&"Produktgruppe"]})]}),l&&u&&a.jsx("div",{children:e.children.map(v=>a.jsx(_I,{node:v,level:t+1,selectedIds:r,expandedIds:n,onToggleExpand:i,onToggleSelect:o},v.id))})]})}function yte({isOpen:e,onClose:t,selectedNodes:r,onConfirm:n,title:i="Artikelhierarchie auswhlen",description:o="Whlen Sie die relevanten Artikelhierarchieebenen aus"}){const[l,u]=z.useState(()=>{const w=new Map;return r.forEach(x=>{const y=k=>{for(const S of k){if(S.id===x)return S;if(S.children){const N=y(S.children);if(N)return N}}return null},j=y(PS);j&&w.set(j.id,j.label)}),w}),[d,f]=z.useState(new Set(["blick-retail","division-bekleidung","division-sport","division-accessories"]));if(!e)return null;const v=w=>{f(x=>{const y=new Set(x);return y.has(w)?y.delete(w):y.add(w),y})},h=(w,x)=>{u(y=>{const j=new Map(y);return j.has(w)?j.delete(w):j.set(w,x),j})},m=()=>{n(Array.from(l.keys())),t()},b=()=>{u(new Map)};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:t,children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl max-h-[80vh] flex flex-col",style:{boxShadow:"var(--shadow-lg)"},onClick:w=>w.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b flex items-start justify-between",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:i}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:o})]}),a.jsx("button",{onClick:t,className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]}),a.jsxs("div",{className:"px-6 py-3 border-b flex items-center justify-between",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-subtle-tint)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:l.size===0?"Keine Auswahl":a.jsxs(a.Fragment,{children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)"},children:l.size})," ",l.size===1?"Ebene":"Ebenen"," ausgewhlt"]})}),l.size>0&&a.jsx("button",{onClick:b,className:"px-3 py-1 rounded text-sm hover:bg-surface-tint",style:{color:"var(--text-secondary)",fontSize:"var(--font-size-sm)"},children:"Alle abwhlen"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:PS.map(w=>a.jsx(_I,{node:w,selectedIds:new Set(l.keys()),expandedIds:d,onToggleExpand:v,onToggleSelect:h},w.id))}),l.size>0&&a.jsxs("div",{className:"px-6 py-3 border-t",style:{borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"Ausgewhlte Ebenen:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from(l.entries()).map(([w,x])=>a.jsxs("div",{className:"px-3 py-1 rounded-full flex items-center gap-2",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--text-primary)",fontSize:"var(--font-size-xs)"},children:[a.jsx("span",{children:x}),a.jsx("button",{onClick:()=>h(w,x),className:"hover:bg-surface-tint rounded-full p-0.5",children:a.jsx(Et,{size:12})})]},w))})]}),a.jsxs("div",{className:"p-6 border-t flex items-center justify-end gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Abbrechen"}),a.jsxs("button",{onClick:m,className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:["Auswahl bernehmen (",l.size,")"]})]})]})})}const mO={full:"Vollstndig blockiert",initialOnly:"Nur Erstallokation blockiert",replenishmentOnly:"Nur Nachschub blockiert",presentationOnly:"Nur Prsentation blockiert",forecastIgnore:"Prognose ignorieren"},xte={full:"var(--status-error)",initialOnly:"var(--status-warning)",replenishmentOnly:"var(--status-warning)",presentationOnly:"var(--status-info)",forecastIgnore:"var(--text-muted)"},bte=[{id:"sb-1",storeId:"FL-001",storeName:"BLICK Zrich HB",cluster:"Urban Premium",planningLevel:"productGroup",productGroupId:"pg-running-shoes",productGroupName:"Running Shoes",blockingType:"replenishmentOnly",validFrom:"2025-01-01",validTo:null,source:"direct",status:"active",reason:"Umbaumanahmen Schuh-Abteilung"},{id:"sb-2",storeId:"FL-003",storeName:"BLICK Basel SBB",planningLevel:"productGroup",productGroupId:"pg-outdoor-jackets",productGroupName:"Outdoor Jackets",blockingType:"full",validFrom:"2025-02-01",validTo:"2025-03-31",source:"direct",status:"active",reason:"Temporre Schlieung Outdoor-Bereich"},{id:"sb-3",storeId:"FL-002",storeName:"BLICK Bern Zentrum",cluster:"Urban Premium",planningLevel:"category",productGroupId:"category-schuhe",productGroupName:"Warengruppe Schuhe",blockingType:"presentationOnly",validFrom:"2024-12-15",validTo:"2025-02-28",source:"inherited",inheritedFrom:"Cluster Urban Premium Policy",status:"active"},{id:"sb-4",storeId:"FL-005",storeName:"BLICK Lausanne Centre",cluster:"Urban Standard",planningLevel:"productGroup",productGroupId:"pg-jeans",productGroupName:"Jeans",blockingType:"initialOnly",validFrom:"2025-01-15",validTo:"2025-06-30",source:"direct",status:"active",reason:"berkapazitt, kein Platz fr Neuware"}];function Ste({onAddStore:e}){const[t,r]=z.useState(bte),[n,i]=z.useState(""),[o,l]=z.useState(""),[u,d]=z.useState(""),[f,v]=z.useState(""),h=z.useMemo(()=>t.filter(b=>{if(n){const w=n.toLowerCase();if(!b.storeName.toLowerCase().includes(w)&&!b.productGroupName.toLowerCase().includes(w))return!1}return!(o&&b.storeId!==o||u&&b.blockingType!==u||f&&b.status!==f)}),[t,n,o,u,f]),m=b=>{switch(b){case"full":return a.jsx(X4,{size:16});case"initialOnly":return a.jsx(aa,{size:16});case"replenishmentOnly":return a.jsx(aa,{size:16});case"presentationOnly":return a.jsx(HL,{size:16});case"forecastIgnore":return a.jsx(aa,{size:16})}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 rounded-lg flex items-start gap-3",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx(aa,{size:20,style:{color:"var(--status-info)",flexShrink:0,marginTop:"2px"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:"Filialspezifische Einschrnkungen"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Definieren Sie Filialen- oder Cluster-spezifische Blockierungsregeln fr Produktgruppen. Diese Regeln verhindern Allokation, Nachschub oder Prsentation bestimmter Produktgruppen in ausgewhlten Filialen. Blockierungen werden in der Explainability-Ansicht als limitierende Faktoren angezeigt."})]})]}),a.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsxs("div",{className:"relative flex-1 max-w-xs",children:[a.jsx(fn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{type:"text",placeholder:"Filiale oder Produktgruppe suchen...",value:n,onChange:b=>i(b.target.value),className:"pl-10 pr-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("select",{value:u,onChange:b=>d(b.target.value),className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Blockierungstypen"}),Object.entries(mO).map(([b,w])=>a.jsx("option",{value:b,children:w},b))]}),a.jsxs("select",{value:f,onChange:b=>v(b.target.value),className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Status"}),a.jsx("option",{value:"active",children:"Aktiv"}),a.jsx("option",{value:"inactive",children:"Inaktiv"})]})]}),a.jsxs("button",{onClick:e,className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)",whiteSpace:"nowrap"},children:[a.jsx(Fa,{size:16}),"Filiale hinzufgen"]})]})}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:"Blockierungsregeln"}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[h.length," ",h.length===1?"Regel":"Regeln"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"180px"},children:"Filiale / Cluster"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"120px"},children:"Planungsebene"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"180px"},children:"Produktgruppe"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"220px"},children:"Blockierungstyp"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"110px"},children:"Gltig von"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"110px"},children:"Gltig bis"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"150px"},children:"Herkunft"}),a.jsx("th",{style:{textAlign:"center",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"90px"},children:"Status"}),a.jsx("th",{style:{textAlign:"center",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"100px"},children:"Aktionen"})]})}),a.jsx("tbody",{children:h.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:9,style:{padding:"32px",textAlign:"center"},children:a.jsx("div",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Keine Blockierungsregeln gefunden"})})}):h.map(b=>a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)",borderLeft:b.blockingType==="full"?"3px solid var(--status-error)":b.blockingType==="initialOnly"||b.blockingType==="replenishmentOnly"?"3px solid var(--status-warning)":"none"},className:"hover:bg-surface-tint",children:[a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:b.storeName}),b.cluster&&a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"2px"},children:b.cluster})]})}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--status-success)15",color:"var(--status-success)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[b.planningLevel==="productGroup"&&"Produktgruppe",b.planningLevel==="category"&&"Warengruppe",b.planningLevel==="division"&&"Einkaufsbereich",b.planningLevel==="company"&&"Unternehmen"]})}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:b.productGroupName})}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{color:xte[b.blockingType]},children:m(b.blockingType)}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:mO[b.blockingType]}),b.reason&&a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"2px"},children:b.reason})]})]})}),a.jsx("td",{style:{padding:"12px 8px",fontSize:"var(--font-size-sm)"},children:new Date(b.validFrom).toLocaleDateString("de-DE")}),a.jsx("td",{style:{padding:"12px 8px",fontSize:"var(--font-size-sm)"},children:b.validTo?new Date(b.validTo).toLocaleDateString("de-DE"):a.jsx("span",{style:{color:"var(--text-muted)"},children:"Unbegrenzt"})}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{children:[a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:b.source==="direct"?"var(--status-success)15":"var(--status-info)15",color:b.source==="direct"?"var(--status-success)":"var(--status-info)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:b.source==="direct"?"Direkt":"Geerbt"}),b.inheritedFrom&&a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:["von ",b.inheritedFrom]})]})}),a.jsx("td",{style:{padding:"12px 8px",textAlign:"center"},children:a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:b.status==="active"?"var(--status-success)":"var(--border-default)",color:b.status==="active"?"var(--text-inverse)":"var(--text-muted)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:b.status==="active"?"Aktiv":"Inaktiv"})}),a.jsx("td",{style:{padding:"12px 8px",textAlign:"center"},children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{className:"p-1 hover:bg-surface-tint rounded",title:"Bearbeiten",children:a.jsx(Ai,{size:16,style:{color:"var(--text-secondary)"}})}),a.jsx("button",{className:"p-1 hover:bg-surface-tint rounded",title:"Lschen",children:a.jsx(ia,{size:16,style:{color:"var(--status-error)"}})})]})})]},b.id))})]})})]})]})}const Bb=[{value:"company",label:"Unternehmen"},{value:"division",label:"Einkaufsbereich"},{value:"category",label:"Warengruppe"},{value:"productGroup",label:"Produktgruppe"},{value:"article",label:"Artikel"}],gO={direct:"var(--status-success)",inherited:"var(--status-info)",default:"var(--text-muted)"},yO=[{id:"1",name:"Flchenbedarf pro Einheit",description:"Durchschnittlicher Prsentationsflchenbedarf je Stck.",level:"productGroup",value:.035,unit:"m",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"capacity",articleHierarchyScope:["pg-running-shoes","pg-casual-sneakers"]},{id:"2",name:"Flchenbedarf pro Grenlauf",description:"Zustzlicher Flchenbedarf fr vollstndige Grenlufe (LOTs).",level:"category",value:1.8,unit:"m",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"capacity",articleHierarchyScope:["category-schuhe"]},{id:"3",name:"Max. Flchennutzung je Artikel",description:"Obergrenze fr Artikelanteil an Gesamtflche.",level:"productGroup",value:2.5,unit:"m",type:"number",source:"inherited",inheritedFrom:"Warengruppe Shoes",validFrom:"2025-01-01",validTo:null,hasOverride:!0,category:"capacity",articleHierarchyScope:["pg-outdoor-jackets"]},{id:"4",name:"Min. Flchenanteil je Kategorie",description:"Garantierter Mindestflchenanteil.",level:"category",value:15,unit:"%",type:"percentage",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"capacity",articleHierarchyScope:["category-oberbekleidung"]},{id:"5",name:"Mindestprsentationsmenge",description:"Mindestmenge, um Artikel prsentieren zu drfen.",level:"productGroup",value:3,unit:"Stck",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"presentation",articleHierarchyScope:["pg-running-shoes"]},{id:"6",name:"Mindestmenge je Gre",description:"Mindestanzahl pro Gre fr vollstndige Darstellung.",level:"category",value:2,unit:"Stck",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"presentation",articleHierarchyScope:["category-schuhe","category-oberbekleidung"]},{id:"7",name:"Prsentationspflicht",description:"Artikel muss prsentiert werden, auch bei knapper Kapazitt.",level:"article",value:!0,type:"boolean",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"presentation"},{id:"8",name:"LOT-Zwang",description:"Allokation nur bei vollstndigem Grenlauf erlaubt.",level:"productGroup",value:!0,type:"boolean",source:"inherited",inheritedFrom:"Warengruppe Apparel",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"presentation",articleHierarchyScope:["pg-casual-sneakers","pg-outdoor-jackets"]},{id:"9",name:"Prsentationsdauer",description:"Dauer, ber die Artikel Flche blockiert.",level:"productGroup",value:8,unit:"Wochen",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"time",articleHierarchyScope:["pg-running-shoes","pg-outdoor-jackets"]},{id:"10",name:"Zeitliche Verteilungslogik",description:"Art der zeitlichen Verteilung der Kapazitt.",level:"category",value:"Gleichmig",type:"enum",enumValues:["Gleichmig","Frontloaded","Backloaded"],source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"time",articleHierarchyScope:["category-schuhe"]},{id:"11",name:"Lieferfenster-Toleranz",description:"Spielraum fr Simulationen.",level:"company",value:2,unit:"Wochen (+/-)",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"time",articleHierarchyScope:["division-bekleidung"]},{id:"12",name:"Allokationsprioritt",description:"Reihenfolge bei Kapazittskonflikten.",level:"productGroup",value:7,unit:"Rang (1-10)",type:"number",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"logic",priority:7,articleHierarchyScope:["pg-running-shoes"]},{id:"13",name:"Kapazittsgewichtung",description:"Wie stark Kapazitt den Algorithmus beeinflusst.",level:"category",value:60,unit:"%",type:"percentage",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"logic",articleHierarchyScope:["category-oberbekleidung"]},{id:"14",name:"Strategische Kategorie",description:"Kategorie wird bevorzugt behandelt.",level:"category",value:!0,type:"boolean",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"logic",articleHierarchyScope:["category-schuhe","category-oberbekleidung"]},{id:"15",name:"Forecast-Gewichtung",description:"Einfluss der Absatzprognose.",level:"category",value:40,unit:"%",type:"percentage",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"forecast",articleHierarchyScope:["category-schuhe"]},{id:"16",name:"KPI-Fokus",description:"Primrer KPI fr Optimierung.",level:"division",value:"Abverkauf",type:"enum",enumValues:["Abverkauf","Marge","Lagerumschlag","Flchenproduktivitt"],source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"forecast",articleHierarchyScope:["division-bekleidung"]},{id:"17",name:"Max. Override-Ebene",description:"Tiefste Ebene fr manuelle Overrides.",level:"company",value:"Artikel",type:"enum",enumValues:["Produktgruppe","Artikel","Keine Overrides"],source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"governance"},{id:"18",name:"Genehmigungspflicht bei Abweichung",description:"Override muss genehmigt werden.",level:"company",value:!0,type:"boolean",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"governance"},{id:"19",name:"Max. zulssige Kapazittsabweichung",description:"Grenze fr Simulation & Freigabe.",level:"company",value:15,unit:"%",type:"percentage",source:"direct",validFrom:"2025-01-01",validTo:null,hasOverride:!1,category:"governance",articleHierarchyScope:["division-bekleidung"]}],xO=[{key:"capacity",label:"Kapazitt & Flche"},{key:"presentation",label:"Prsentationsregeln"},{key:"time",label:"Zeit- & Verdichtungsparameter"},{key:"logic",label:"Allokationslogik & Priorisierung"},{key:"forecast",label:"Prognose- & KPI-Gewichtung"},{key:"governance",label:"Governance & Einschrnkungen"},{key:"storeBlocking",label:"Filialspezifische Einschrnkungen"}],bO={direct:"Direkt gepflegt",inherited:"Geerbt",default:"Default-Systemwert"};function wte(){const[e,t]=z.useState("capacity"),[r,n]=z.useState(yO),[i,o]=z.useState(!0);z.useEffect(()=>{(async()=>{o(!0);try{const ce=(await Ra.getParameters()).map(he=>({id:he.id,name:he.name||he.key||"",description:he.description||"",level:he.level||"company",value:he.value,unit:he.unit,type:he.type||"number",enumValues:he.enumValues,source:he.source||"default",inheritedFrom:he.inheritedFrom,validFrom:he.validFrom||new Date().toISOString(),validTo:he.validTo||null,hasOverride:he.hasOverride||!1,category:he.category||"capacity",priority:he.priority,articleHierarchyScope:he.articleHierarchyScope,planningLevel:he.planningLevel}));n(ce)}catch(te){console.error("Failed to load parameters:",te),n(yO)}finally{o(!1)}})()},[]);const[l,u]=z.useState(null),[d,f]=z.useState(!1),[v,h]=z.useState(null),[m,b]=z.useState(""),[w,x]=z.useState(""),[y,j]=z.useState(""),[k,S]=z.useState(""),[N,A]=z.useState(""),[O,_]=z.useState(!1),[E,T]=z.useState([]),[I,R]=z.useState(!1),[L,M]=z.useState([]),q=B=>{T(B),M(B)},H=()=>{R(!0)},Z=B=>{R(!1)},Y=z.useMemo(()=>r.filter(B=>!(B.category!==e||m&&B.level!==m||y&&!B.name.toLowerCase().includes(y.toLowerCase())||L.length>0&&B.articleHierarchyScope&&!L.some(ce=>B.articleHierarchyScope?.includes(ce))||w&&(w==="active"&&B.validTo!==null||w==="inactive"&&B.validTo===null||w==="overridden"&&!B.hasOverride||w==="inherited"&&B.source!=="inherited"))),[r,e,m,w,y,L]),$=(B,te)=>{n(ce=>ce.map(he=>he.id===B?{...he,value:te}:he))},F=B=>{u(B),f(!0)},Q=(B,te=PS)=>{for(const ce of te){if(ce.id===B)return ce;if(ce.children){const he=Q(B,ce.children);if(he)return he}}return null},U=B=>{if(v===B.id)switch(B.type){case"boolean":return a.jsxs("select",{value:B.value?"true":"false",onChange:te=>$(B.id,te.target.value==="true"),onBlur:()=>h(null),autoFocus:!0,className:"px-2 py-1 border rounded",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"true",children:"Ja"}),a.jsx("option",{value:"false",children:"Nein"})]});case"enum":return a.jsx("select",{value:B.value,onChange:te=>$(B.id,te.target.value),onBlur:()=>h(null),autoFocus:!0,className:"px-2 py-1 border rounded",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"},children:B.enumValues?.map(te=>a.jsx("option",{value:te,children:te},te))});case"number":case"percentage":return a.jsx("input",{type:"number",value:B.value,onChange:te=>$(B.id,parseFloat(te.target.value)),onBlur:()=>h(null),autoFocus:!0,step:B.type==="percentage"?1:.001,className:"px-2 py-1 border rounded w-24",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"}});default:return a.jsx("input",{type:"text",value:B.value,onChange:te=>$(B.id,te.target.value),onBlur:()=>h(null),autoFocus:!0,className:"px-2 py-1 border rounded",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"}})}return B.type==="boolean"?a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:B.value?"var(--status-success)":"var(--border-default)",color:B.value?"var(--text-inverse)":"var(--text-muted)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:B.value?"Ja":"Nein"}):a.jsxs("span",{style:{fontSize:"var(--font-size-sm)"},children:[B.value,B.unit&&` ${B.unit}`]})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[a.jsx("span",{children:"Einstellungen"}),a.jsx(dn,{size:16}),a.jsx("span",{children:"Allokationsparameter"})]}),a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Allokationsparameter"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)",maxWidth:"800px"},children:"Zentrale Pflege steuerungsrelevanter Parameter fr Kapazitt, Prsentation, Zeitlogik und Allokationsalgorithmen. nderungen wirken hierarchisch und overridefhig."})]}),a.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsxs("div",{className:"relative flex-1 max-w-xs",children:[a.jsx(fn,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2",style:{color:"var(--text-muted)"}}),a.jsx("input",{type:"text",placeholder:"Parameter suchen...",value:y,onChange:B=>j(B.target.value),className:"pl-10 pr-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("select",{value:m,onChange:B=>b(B.target.value),className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Ebenen"}),Bb.map(B=>a.jsx("option",{value:B.value,children:B.label},B.value))]}),a.jsxs("select",{value:w,onChange:B=>x(B.target.value),className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Status"}),a.jsx("option",{value:"active",children:"Aktiv"}),a.jsx("option",{value:"inactive",children:"Inaktiv"}),a.jsx("option",{value:"overridden",children:"berschrieben"}),a.jsx("option",{value:"inherited",children:"Geerbt"})]}),a.jsxs("button",{onClick:()=>_(!0),className:"px-3 py-2 border rounded-lg flex items-center gap-2 whitespace-nowrap",style:{borderColor:L.length>0?"var(--brand-primary)":"var(--border-input)",height:"var(--height-input-md)",backgroundColor:L.length>0?"var(--surface-info-subtle)":"var(--surface-page)",fontSize:"var(--font-size-sm)",color:L.length>0?"var(--brand-primary)":"var(--text-secondary)"},children:[a.jsx(wE,{size:16}),a.jsx("span",{children:L.length===0?"Artikelhierarchie":`${L.length} Ebene${L.length!==1?"n":""}`}),L.length>0&&a.jsx(Et,{size:14,onClick:B=>{B.stopPropagation(),M([]),T([])},className:"hover:bg-surface-tint rounded-full p-0.5"})]}),a.jsx("input",{type:"date",placeholder:"Gltig von",value:k,onChange:B=>S(B.target.value),className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}}),a.jsx("input",{type:"date",placeholder:"Gltig bis",value:N,onChange:B=>A(B.target.value),className:"px-3 py-2 border rounded-lg",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("button",{className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)",whiteSpace:"nowrap"},children:[a.jsx(Fa,{size:16}),"Neuen Parameter anlegen"]})]})}),a.jsx("div",{className:"sticky top-0 z-10 border-b",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsx("div",{className:"flex gap-1",children:xO.map(B=>a.jsx("button",{onClick:()=>t(B.key),className:"px-4 py-3 relative",style:{color:e===B.key?"var(--brand-primary)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:e===B.key?"var(--font-weight-semibold)":"var(--font-weight-medium)",backgroundColor:"transparent",borderBottom:e===B.key?"2px solid var(--brand-primary)":"none"},children:B.label},B.key))})}),e==="storeBlocking"?a.jsx(Ste,{onAddStore:H}):a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:xO.find(B=>B.key===e)?.label}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[Y.length," Parameter"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"200px"},children:"Parametername"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"120px"},children:"Ebene"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"180px"},children:"Artikelhierarchie"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"150px"},children:"Wert"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"180px"},children:"Herkunft"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"110px"},children:"Gltig von"}),a.jsx("th",{style:{textAlign:"left",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",minWidth:"110px"},children:"Gltig bis"}),a.jsx("th",{style:{textAlign:"center",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"80px"},children:"Override"}),a.jsx("th",{style:{textAlign:"center",padding:"12px 8px",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",width:"100px"},children:"Aktionen"})]})}),a.jsx("tbody",{children:Y.map(B=>a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},className:"hover:bg-surface-tint",children:[a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:B.name}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"2px"},children:B.description})]})}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:Bb.find(te=>te.value===B.level)?.label})}),a.jsx("td",{style:{padding:"12px 8px"},children:B.articleHierarchyScope&&B.articleHierarchyScope.length>0?a.jsxs("div",{className:"flex flex-wrap gap-1",children:[B.articleHierarchyScope.slice(0,2).map(te=>{const ce=Q(te);return ce?a.jsx("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--text-primary)",fontSize:"var(--font-size-xs)",whiteSpace:"nowrap"},title:ce.label,children:ce.label.length>20?`${ce.label.substring(0,20)}...`:ce.label},te):null}),B.articleHierarchyScope.length>2&&a.jsxs("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:"var(--surface-subtle-tint)",color:"var(--text-muted)",fontSize:"var(--font-size-xs)"},children:["+",B.articleHierarchyScope.length-2]})]}):a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Alle"})}),a.jsx("td",{style:{padding:"12px 8px",cursor:"pointer"},onClick:()=>h(B.id),children:U(B)}),a.jsx("td",{style:{padding:"12px 8px"},children:a.jsxs("div",{children:[a.jsx("span",{className:"px-2 py-1 rounded inline-flex items-center gap-1",style:{backgroundColor:`${gO[B.source]}15`,color:gO[B.source],fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:bO[B.source]}),B.inheritedFrom&&a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:["von ",B.inheritedFrom]})]})}),a.jsx("td",{style:{padding:"12px 8px",fontSize:"var(--font-size-sm)"},children:new Date(B.validFrom).toLocaleDateString("de-DE")}),a.jsx("td",{style:{padding:"12px 8px",fontSize:"var(--font-size-sm)"},children:B.validTo?new Date(B.validTo).toLocaleDateString("de-DE"):a.jsx("span",{style:{color:"var(--text-muted)"},children:"Unbegrenzt"})}),a.jsx("td",{style:{padding:"12px 8px",textAlign:"center"},children:B.hasOverride&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--status-warning)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Override"})}),a.jsx("td",{style:{padding:"12px 8px",textAlign:"center"},children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:()=>h(B.id),className:"p-1 hover:bg-surface-tint rounded",title:"Bearbeiten",children:a.jsx(Ai,{size:16,style:{color:"var(--text-secondary)"}})}),a.jsx("button",{onClick:()=>F(B),className:"p-1 hover:bg-surface-tint rounded",title:"Details anzeigen",children:a.jsx(q4,{size:16,style:{color:"var(--text-secondary)"}})})]})})]},B.id))})]})})]}),d&&l&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-6",style:{backgroundColor:"var(--bg-overlay)"},onClick:()=>f(!1),children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-3xl max-h-[80vh] overflow-y-auto",style:{boxShadow:"var(--shadow-lg)"},onClick:B=>B.stopPropagation(),children:[a.jsxs("div",{className:"p-6 border-b flex items-start justify-between sticky top-0 bg-white",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-1)"},children:l.name}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:l.description})]}),a.jsx("button",{onClick:()=>f(!1),className:"p-1 hover:bg-surface-tint rounded",children:a.jsx(Et,{size:20,style:{color:"var(--text-muted)"}})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Aktueller Wert"}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-subtle-tint)"},children:a.jsxs("div",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)"},children:[l.type==="boolean"?l.value?"Ja":"Nein":l.value,l.unit&&a.jsx("span",{style:{fontSize:"var(--font-size-md)",color:"var(--text-muted)",marginLeft:"4px"},children:l.unit})]})})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Vererbungsbaum"}),a.jsx("div",{className:"space-y-2",children:Bb.map((B,te)=>a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg",style:{backgroundColor:B.value===l.level?"var(--surface-info-subtle)":"var(--surface-subtle-tint)",borderLeft:B.value===l.level?"3px solid var(--brand-primary)":"none",marginLeft:`${te*16}px`},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:B.label}),B.value===l.level&&a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Definiert hier"})]}),B.value===l.level&&a.jsx(Za,{size:16,style:{color:"var(--brand-primary)",marginLeft:"auto"}})]},B.value))})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Herkunftsinformationen"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Quelle"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:bO[l.source]})]}),l.inheritedFrom&&a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Geerbt von"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:l.inheritedFrom})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Gltigkeitszeitraum"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Gltig von"}),a.jsx("input",{type:"date",value:l.validFrom,className:"px-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"}})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Gltig bis"}),a.jsx("input",{type:"date",value:l.validTo||"",placeholder:"Unbegrenzt",className:"px-3 py-2 border rounded-lg w-full",style:{borderColor:"var(--border-input)",height:"var(--height-input-md)",backgroundColor:"var(--surface-page)"}})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Override-Verwaltung"}),a.jsxs("div",{className:"p-4 rounded-lg flex items-center justify-between",style:{backgroundColor:l.hasOverride?"var(--surface-warning-subtle)":"var(--surface-subtle-tint)",border:l.hasOverride?"1px solid var(--border-warning)":"none"},children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Override Status"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:l.hasOverride?"Parameter wird berschrieben":"Kein Override aktiv"})]}),a.jsx("button",{className:"px-4 py-2 rounded-lg border",style:{backgroundColor:l.hasOverride?"var(--button-danger-bg)":"var(--button-secondary-bg)",borderColor:l.hasOverride?"var(--button-danger-border)":"var(--button-secondary-border)",color:l.hasOverride?"var(--button-danger-text)":"var(--button-secondary-text)",height:"var(--height-button-md)"},children:l.hasOverride?"Override entfernen":"Override setzen"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kE,{size:16}),"nderungshistorie"]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--surface-subtle-tint)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Aktuell"}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:new Date().toLocaleDateString("de-DE")})]}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)"},children:["Wert: ",l.type==="boolean"?l.value?"Ja":"Nein":l.value,l.unit&&` ${l.unit}`]})]}),a.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--surface-subtle-tint)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Version 1"}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"01.01.2025"})]}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Initiale Parameterdefinition"})]})]})]})]}),a.jsxs("div",{className:"p-6 border-t flex items-center justify-end gap-3 sticky bottom-0 bg-white",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",height:"var(--height-button-md)"},children:"Schlieen"}),a.jsx("button",{className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--button-primary-bg)",color:"var(--button-primary-text)",height:"var(--height-button-md)"},children:"nderungen speichern"})]})]})}),a.jsx(n0,{isOpen:I,onClose:()=>R(!1),title:"Filiale fr Blockierungsregel auswhlen",availableLocations:[],selectedLocations:[],onConfirm:Z}),a.jsx(yte,{isOpen:O,onClose:()=>_(!1),selectedNodes:E,onConfirm:q,title:"Artikelhierarchie auswhlen",description:"Whlen Sie die Artikelhierarchieebenen aus, fr die Sie Parameter filtern mchten"})]})}const jte=[{month:"Jan",target:4500,actual:4200,over:0,under:300},{month:"Feb",target:4500,actual:4800,over:300,under:0},{month:"Mr",target:4800,actual:4600,over:0,under:200},{month:"Apr",target:5e3,actual:5300,over:300,under:0},{month:"Mai",target:5e3,actual:4700,over:0,under:300},{month:"Jun",target:4800,actual:4900,over:100,under:0},{month:"Jul",target:4500,actual:4400,over:0,under:100},{month:"Aug",target:4500,actual:4600,over:100,under:0},{month:"Sep",target:4800,actual:5100,over:300,under:0},{month:"Okt",target:5200,actual:5e3,over:0,under:200},{month:"Nov",target:5500,actual:5400,over:0,under:100},{month:"Dez",target:5500,actual:5600,over:100,under:0}],SO=[{category:"Schuhe",deviation:450,color:"#ef4444"},{category:"Oberbekleidung",deviation:-280,color:"#3b82f6"},{category:"Hosen",deviation:120,color:"#ef4444"},{category:"Accessoires",deviation:-150,color:"#3b82f6"},{category:"Sport Equipment",deviation:200,color:"#ef4444"},{category:"Unterwsche",deviation:-90,color:"#3b82f6"}],kte=[{month:"Jan",storeStock:2200,warehouseStock:3500,demand:4800},{month:"Feb",storeStock:2400,warehouseStock:3800,demand:5200},{month:"Mr",storeStock:2100,warehouseStock:3200,demand:4500},{month:"Apr",storeStock:2600,warehouseStock:4200,demand:5800},{month:"Mai",storeStock:2500,warehouseStock:4e3,demand:5500},{month:"Jun",storeStock:2300,warehouseStock:3700,demand:5e3}],Cte=[{month:"Jan",forecast:4500,allocated:4200,sales:3900},{month:"Feb",forecast:5e3,allocated:4800,sales:4500},{month:"Mr",forecast:4800,allocated:4600,sales:4300},{month:"Apr",forecast:5500,allocated:5300,sales:5e3},{month:"Mai",forecast:5200,allocated:4700,sales:4400},{month:"Jun",forecast:4900,allocated:4900,sales:4600}],kc=[{size:"36",forecast:8,allocated:10,sales:9},{size:"37",forecast:12,allocated:13,sales:12},{size:"38",forecast:18,allocated:17,sales:18},{size:"39",forecast:22,allocated:20,sales:21},{size:"40",forecast:20,allocated:19,sales:20},{size:"41",forecast:15,allocated:14,sales:13},{size:"42",forecast:12,allocated:11,sales:10},{size:"43",forecast:10,allocated:9,sales:8},{size:"44",forecast:8,allocated:7,sales:7},{size:"45",forecast:6,allocated:5,sales:5},{size:"46",forecast:4,allocated:3,sales:3},{size:"47",forecast:3,allocated:2,sales:2}],zte=[{article:"Running Schuhe Pro",category:"Schuhe",season:"FS25",targetCapacity:450,actualCapacity:520,overCapacity:70,underCapacity:0,forecast:2400,allocated:2200,storeStock:850,warehouseStock:1350,demand:2100,sizeDeviation:8.5,exceptionCount:3},{article:"Winter Jacke Premium",category:"Oberbekleidung",season:"HW25",targetCapacity:380,actualCapacity:340,overCapacity:0,underCapacity:40,forecast:1800,allocated:1650,storeStock:620,warehouseStock:1030,demand:1750,sizeDeviation:12.3,exceptionCount:5},{article:"Sport T-Shirt Basic",category:"Oberbekleidung",season:"FS25",targetCapacity:280,actualCapacity:290,overCapacity:10,underCapacity:0,forecast:3200,allocated:3150,storeStock:1200,warehouseStock:1950,demand:3100,sizeDeviation:3.2,exceptionCount:0},{article:"Jeans Slim Fit",category:"Hosen",season:"FS25",targetCapacity:320,actualCapacity:350,overCapacity:30,underCapacity:0,forecast:1900,allocated:1850,storeStock:700,warehouseStock:1150,demand:1800,sizeDeviation:5.7,exceptionCount:2},{article:"Rucksack Urban",category:"Accessoires",season:"FS25",targetCapacity:180,actualCapacity:160,overCapacity:0,underCapacity:20,forecast:1200,allocated:1100,storeStock:420,warehouseStock:680,demand:1150,sizeDeviation:0,exceptionCount:1},{article:"Fuball",category:"Sport Equipment",season:"FS25",targetCapacity:220,actualCapacity:260,overCapacity:40,underCapacity:0,forecast:1500,allocated:1450,storeStock:550,warehouseStock:900,demand:1420,sizeDeviation:0,exceptionCount:0}];function Ate({onNavigate:e}){const[t,r]=z.useState("all"),[n,i]=z.useState("all"),[o,l]=z.useState("all"),[u,d]=z.useState(""),[f,v]=z.useState(""),[h,m]=z.useState("absolute"),[b,w]=z.useState(null),x=z.useMemo(()=>zte.filter(A=>!(t!=="all"&&A.season!==t||o!=="all"&&A.category!==o)),[t,o]),y=z.useMemo(()=>{const A=x.reduce((M,q)=>M+q.targetCapacity,0),O=x.reduce((M,q)=>M+q.actualCapacity,0),_=x.reduce((M,q)=>M+q.overCapacity,0),E=x.reduce((M,q)=>M+q.underCapacity,0),T=x.reduce((M,q)=>M+q.forecast,0),I=x.reduce((M,q)=>M+q.allocated,0),R=A>0?O/A*100:0,L=T>0?I/T*100:0;return{targetCapacity:A,utilization:R,overCapacity:_,underCapacity:E,forecastCoverage:L}},[x]),j=z.useMemo(()=>{if(h==="absolute")return kc;const A=kc.reduce((E,T)=>E+T.forecast,0),O=kc.reduce((E,T)=>E+T.allocated,0),_=kc.reduce((E,T)=>E+T.sales,0);return kc.map(E=>({size:E.size,forecast:E.forecast/A*100,allocated:E.allocated/O*100,sales:E.sales/_*100}))},[h]),k=()=>{alert("Export-Funktionalitt: CSV/Excel-Download wrde hier ausgefhrt")},S=()=>{alert("Ansicht speichern: Die aktuelle Filtereinstellung wrde gespeichert")},N=[{key:"article",label:"Artikel",sortable:!0,render:A=>a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:A})},{key:"category",label:"Kategorie",sortable:!0},{key:"season",label:"Saison",sortable:!0},{key:"targetCapacity",label:"SOLL-Kapazitt (m)",align:"right",sortable:!0},{key:"actualCapacity",label:"IST-Kapazitt (m)",align:"right",sortable:!0,render:(A,O)=>a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:O.overCapacity>0?"#ef4444":O.underCapacity>0?"#3b82f6":"inherit"},children:A})},{key:"overCapacity",label:"berdeckung (m)",align:"right",sortable:!0,render:A=>A>0?a.jsxs("span",{style:{color:"#ef4444",fontWeight:"var(--font-weight-medium)"},children:["+",A]}):"-"},{key:"underCapacity",label:"Unterdeckung (m)",align:"right",sortable:!0,render:A=>A>0?a.jsxs("span",{style:{color:"#3b82f6",fontWeight:"var(--font-weight-medium)"},children:["-",A]}):"-"},{key:"forecast",label:"Prognosemenge",align:"right",sortable:!0},{key:"allocated",label:"Allokierte Menge",align:"right",sortable:!0,render:A=>a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)"},children:A})},{key:"storeStock",label:"Filialbestand",align:"right",sortable:!0},{key:"warehouseStock",label:"VZ-Bestand",align:"right",sortable:!0},{key:"demand",label:"Bedarf",align:"right",sortable:!0},{key:"sizeDeviation",label:"Grenabweichung (%)",align:"right",sortable:!0,render:A=>A>0?`${A}%`:"-"},{key:"exceptionCount",label:"Exception-Anzahl",align:"right",sortable:!0,render:A=>A>0?a.jsx("span",{className:"px-2 py-1 rounded-full",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:A}):a.jsx("span",{style:{color:"var(--text-muted)"},children:"-"})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[a.jsx("span",{children:"Analytics"}),a.jsx("span",{children:""}),a.jsx("span",{children:"Allocation & Capacity"})]}),a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Allocation & Capacity Analytics"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Zentrale Analyse von Prognose, Kapazitt, Bedarf, Bestnden und Allokationsergebnissen ber Zeit, Artikelhierarchie und Stores."})]}),a.jsx("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 grid grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Zeitraum von"}),a.jsx("input",{type:"date",value:u,onChange:A=>d(A.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Zeitraum bis"}),a.jsx("input",{type:"date",value:f,onChange:A=>v(A.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Saison"}),a.jsxs("select",{value:t,onChange:A=>r(A.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"all",children:"Alle Saisons"}),a.jsx("option",{value:"FS25",children:"Frhjahr/Sommer 2025"}),a.jsx("option",{value:"HW25",children:"Herbst/Winter 2025"}),a.jsx("option",{value:"FS26",children:"Frhjahr/Sommer 2026"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Prozess"}),a.jsxs("select",{value:n,onChange:A=>i(A.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"all",children:"Alle Prozesse"}),a.jsx("option",{value:"initial",children:"Initiale Allokation"}),a.jsx("option",{value:"replenishment",children:"Nachschub"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Kategorie"}),a.jsxs("select",{value:o,onChange:A=>l(A.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"all",children:"Alle Kategorien"}),a.jsx("option",{value:"Schuhe",children:"Schuhe"}),a.jsx("option",{value:"Oberbekleidung",children:"Oberbekleidung"}),a.jsx("option",{value:"Hosen",children:"Hosen"}),a.jsx("option",{value:"Accessoires",children:"Accessoires"}),a.jsx("option",{value:"Sport Equipment",children:"Sport Equipment"})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:k,className:"px-4 py-2 rounded-lg border flex items-center gap-2 hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(Ia,{size:16}),"Export"]}),a.jsxs("button",{onClick:S,className:"px-4 py-2 rounded-lg border flex items-center gap-2 hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(Ds,{size:16}),"Ansicht speichern"]})]})]})}),a.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"SOLL-Kapazitt"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)"},children:[y.targetCapacity.toLocaleString("de-DE")," m"]})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"IST-Kapazittsauslastung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:y.utilization>105?"#ef4444":y.utilization<95?"#3b82f6":"#10b981"},children:[y.utilization.toFixed(1),"%"]})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"berdeckung gesamt"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"#ef4444"},children:["+",y.overCapacity," m"]})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Unterdeckung gesamt"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"#3b82f6"},children:["-",y.underCapacity," m"]})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Prognoseabdeckung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)"},children:[y.forecastCoverage.toFixed(1),"%"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:"Allokiert vs. Forecast"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Kapazitt SOLL vs. IST ber Zeit"}),a.jsx(Yt,{width:"100%",height:300,minWidth:0,minHeight:0,children:a.jsxs(VJ,{data:jte,children:[a.jsx(Kn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(bt,{dataKey:"month",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(Ga,{type:"monotone",dataKey:"over",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.3,name:"berkapazitt"}),a.jsx(Ga,{type:"monotone",dataKey:"under",stackId:"2",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3,name:"Untererfllung"}),a.jsx(qr,{type:"monotone",dataKey:"target",stroke:"#94a3b8",strokeDasharray:"5 5",strokeWidth:2,name:"SOLL",dot:!1}),a.jsx(qr,{type:"monotone",dataKey:"actual",stroke:"#2563eb",strokeWidth:2,name:"IST"})]})})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"ber-/Unterdeckung nach Kategorie"}),a.jsx(Yt,{width:"100%",height:300,minWidth:0,minHeight:0,children:a.jsxs(Pr,{data:SO,layout:"horizontal",children:[a.jsx(Kn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(bt,{type:"number",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{type:"category",dataKey:"category",width:120,style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(Sh,{x:0,stroke:"#94a3b8",strokeWidth:2}),a.jsx(Ie,{dataKey:"deviation",onClick:A=>w(A.category),cursor:"pointer",children:SO.map((A,O)=>a.jsx(Ie,{fill:A.color},`cell-${O}`))})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Bestnde & Bedarf"}),a.jsx(Yt,{width:"100%",height:300,minWidth:0,minHeight:0,children:a.jsxs(Pr,{data:kte,children:[a.jsx(Kn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(bt,{dataKey:"month",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(Ie,{dataKey:"storeStock",stackId:"a",fill:"#3b82f6",name:"Filialbestand"}),a.jsx(Ie,{dataKey:"warehouseStock",stackId:"a",fill:"#60a5fa",name:"VZ-Bestand"}),a.jsx(qr,{type:"monotone",dataKey:"demand",stroke:"#ef4444",strokeWidth:2,name:"Bedarf"})]})})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Prognose vs. Allokation"}),a.jsx(Yt,{width:"100%",height:300,minWidth:0,minHeight:0,children:a.jsxs(Pr,{data:Cte,children:[a.jsx(Kn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(bt,{dataKey:"month",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(Ie,{dataKey:"forecast",fill:"#94a3b8",name:"Prognose"}),a.jsx(Ie,{dataKey:"allocated",fill:"#2563eb",name:"Allokiert"}),a.jsx(Ie,{dataKey:"sales",fill:"#10b981",name:"Abverkauf"})]})})]})]}),a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:"Grenkurven"}),a.jsxs("div",{className:"flex gap-2 p-1 rounded-lg",style:{backgroundColor:"var(--surface-alt)"},children:[a.jsx("button",{onClick:()=>m("absolute"),className:"px-3 py-1.5 rounded transition-all",style:{backgroundColor:h==="absolute"?"var(--brand-primary)":"transparent",color:h==="absolute"?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Absolut"}),a.jsx("button",{onClick:()=>m("percentage"),className:"px-3 py-1.5 rounded transition-all",style:{backgroundColor:h==="percentage"?"var(--brand-primary)":"transparent",color:h==="percentage"?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Prozentual"})]})]}),a.jsx(Yt,{width:"100%",height:350,minWidth:0,minHeight:0,children:a.jsxs(iI,{data:j,children:[a.jsx(Kn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(bt,{dataKey:"size",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"},unit:h==="percentage"?"%":""}),a.jsx(st,{formatter:A=>h==="percentage"?`${A.toFixed(1)}%`:A}),a.jsx(zt,{}),a.jsx(qr,{type:"monotone",dataKey:"forecast",stroke:"#94a3b8",strokeWidth:2,name:"Prognose",dot:{r:4}}),a.jsx(qr,{type:"monotone",dataKey:"allocated",stroke:"#2563eb",strokeWidth:2,name:"Allokiert",dot:{r:4}}),a.jsx(qr,{type:"monotone",dataKey:"sales",stroke:"#10b981",strokeWidth:2,name:"Abverkauf",dot:{r:4}})]})})]}),a.jsxs("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"p-4 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:["Detailanalyse",b&&a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginLeft:"8px"},children:["(gefiltert nach: ",b,")"]})]})}),a.jsx(Nr,{data:b?x.filter(A=>A.category===b):x,columns:N,onRowClick:()=>{}})]})]})}function Nte({onNavigate:e}){const[t,r]=z.useState(new Set([1,2,3,4,5,6,7])),n=o=>{const l=new Set(t);l.has(o)?l.delete(o):l.add(o),r(l)},i=[{id:1,title:"Auswahl der Empfnger",expanded:t.has(1),content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Auswahlmethode"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"Plandaten & Listung"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl ausgewhlter Filialen"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",fontSize:"var(--font-size-lg)"},children:"12 Filialen"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl Cluster"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"3 Cluster"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Ausschlsse"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"2 Filialen (nicht gelistet)"})]})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"8px"},children:"Angewendete Regeln"}),a.jsxs("ul",{className:"space-y-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(qd,{size:16,style:{color:"var(--status-success)",marginTop:"2px",flexShrink:0}}),a.jsx("span",{children:"Artikel ist in Filiale gelistet"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(qd,{size:16,style:{color:"var(--status-success)",marginTop:"2px",flexShrink:0}}),a.jsx("span",{children:"Filiale ist im Planliefertermin aktiv"})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(qd,{size:16,style:{color:"var(--status-success)",marginTop:"2px",flexShrink:0}}),a.jsx("span",{children:"Transportbeziehung VZ  Filiale existiert"})]})]})]})]})},{id:2,title:"Ermittlung der Liefertermine",expanded:t.has(2),content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Basis"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"Lieferplan"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Planlieferzeit"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"3 Tage"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Ursprngliches Lieferfenster (Plan)"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"01.03.2025"}),a.jsx("span",{style:{color:"var(--text-muted)"},children:""}),a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"15.03.2025"})]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Simuliertes Lieferfenster"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--brand-primary)"},children:"05.03.2025"}),a.jsx("span",{style:{color:"var(--text-muted)"},children:""}),a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--brand-primary)"},children:"20.03.2025"})]})]})]}),a.jsxs("div",{className:"p-4 rounded-lg flex items-start gap-3",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--status-info)"},children:[a.jsx(Qt,{size:18,style:{color:"var(--status-info)",marginTop:"2px",flexShrink:0}}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:"Das Lieferfenster wurde im Rahmen der Simulation angepasst, um Kapazittsspitzen zu reduzieren."})]})]})},{id:3,title:"Ermittlung verfgbarer Mengen",expanded:t.has(3),content:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Quellen"}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"VZ-Bestand"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"2.400"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Bestellungen"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"1.800"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Lieferungen"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"650"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Externe Verfgbarkeit"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"0"})]})]}),a.jsx("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-subtle)"},children:a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Gesamt verfgbar"}),a.jsx("div",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-bold)"},children:"4.850"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Reserviert"}),a.jsx("div",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-bold)",color:"var(--status-warning)"},children:"320"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Verfgbar fr Allokation"}),a.jsx("div",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-bold)",color:"var(--status-success)"},children:"4.530"})]})]})})]})},{id:4,title:"Kapazittsannahmen",expanded:t.has(4),content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Kapazittsebene"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"Store & Kategorie"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"SOLL-Kapazitt"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"450 m"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Parameterbasis"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:'Produktgruppe "Sneaker"'})]})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"12px"},children:"Parameter"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Flchenbedarf je Einheit"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"0,08 m"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Prsentationsdauer"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"14 Tage"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"LOT-Gre"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"12 Paar"})]})]})]}),a.jsxs("div",{className:"p-3 rounded-lg flex items-start gap-2",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--status-info)"},children:[a.jsx(Qt,{size:16,style:{color:"var(--status-info)",marginTop:"2px",flexShrink:0}}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-primary)"},children:'Parameter wurden aus der Produktgruppe "Sneaker" bernommen'})]})]})},{id:5,title:"Allokationsalgorithmus",expanded:t.has(5),content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Algorithmus"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)"},children:"Kapazittsgesteuerte Allokation"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Ziel"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"Auffllung auf Sollbestand unter Bercksichtigung der Kapazitt"})]})]}),a.jsxs("div",{className:"p-6 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"16px"},children:"Allokationsablauf (vereinfacht)"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 p-4 rounded-lg text-center",style:{backgroundColor:"var(--surface-page)",border:"2px solid var(--brand-primary)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Schritt 1"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)"},children:"Verfgbarkeit prfen"})]}),a.jsx(dn,{size:24,style:{color:"var(--text-muted)",margin:"0 12px"}}),a.jsxs("div",{className:"flex-1 p-4 rounded-lg text-center",style:{backgroundColor:"var(--surface-page)",border:"2px solid var(--brand-primary)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Schritt 2"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)"},children:"Bedarf ermitteln"})]}),a.jsx(dn,{size:24,style:{color:"var(--text-muted)",margin:"0 12px"}}),a.jsxs("div",{className:"flex-1 p-4 rounded-lg text-center",style:{backgroundColor:"var(--surface-page)",border:"2px solid var(--brand-primary)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Schritt 3"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)"},children:"Kapazitt prfen"})]}),a.jsx(dn,{size:24,style:{color:"var(--text-muted)",margin:"0 12px"}}),a.jsxs("div",{className:"flex-1 p-4 rounded-lg text-center",style:{backgroundColor:"var(--surface-page)",border:"2px solid var(--status-success)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Schritt 4"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--status-success)"},children:"Zuteilung"})]})]})]})]})},{id:6,title:"Krzungen & Konfliktauflsung",expanded:t.has(6),content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Notwendige Krzungen"}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{className:"px-3 py-1 rounded-full",style:{backgroundColor:"var(--status-warning)",color:"var(--text-inverse)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Ja"})})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Krzungsstrategie"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)"},children:"Proportional"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Betroffene Artikel"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"8 Artikel"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Betroffene Filialen"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"5 Filialen"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Krzungsmenge gesamt"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-danger)"},children:"240 Stck"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("span",{className:"px-4 py-2 rounded-lg inline-flex items-center gap-2",style:{backgroundColor:"var(--surface-success-subtle)",color:"var(--status-success)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",border:"1px solid var(--status-success)"},children:[a.jsx(qd,{size:16}),"berkapazitt vermieden"]}),a.jsxs("span",{className:"px-4 py-2 rounded-lg inline-flex items-center gap-2",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",border:"1px solid var(--status-warning)"},children:[a.jsx(aa,{size:16}),"Unterdeckung akzeptiert"]})]})]})},{id:7,title:"Ergebnis der Allokation",expanded:t.has(7),content:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"2px solid var(--brand-primary)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Allokierte Gesamtmenge"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"var(--brand-primary)"},children:"4.290"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"ber-/Unterdeckung"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"#3b82f6"},children:"-240"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl Ausnahmen"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"var(--status-warning)"},children:"3"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Kapazittswirkung"}),a.jsx("div",{className:"flex items-center gap-2 mt-2",children:a.jsx("span",{className:"px-3 py-1.5 rounded-lg",style:{backgroundColor:"var(--status-success)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Ausgeglichen"})})]})]}),a.jsx("div",{className:"pt-4",children:a.jsx("button",{onClick:()=>e("exceptions"),className:"px-6 py-3 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontWeight:"var(--font-weight-medium)",border:"none",cursor:"pointer"},children:"Ausnahmen anzeigen"})})]})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("button",{onClick:()=>e("work"),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-surface-tint transition-colors",style:{color:"var(--text-muted)"},children:[a.jsx(qS,{size:20}),a.jsx("span",{children:"Zurck zur Simulation"})]}),a.jsxs("div",{className:"flex items-center gap-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[a.jsx("span",{children:"Arbeitsvorrat"}),a.jsx("span",{children:""}),a.jsx("span",{children:"Simulation"}),a.jsx("span",{children:""}),a.jsx("span",{children:"Allokationsanalyse"})]}),a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Allokationsanalyse"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Detaillierte Erklrung, wie der Allokationsprozess zu diesem Ergebnis gekommen ist."})]}),a.jsx("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"grid grid-cols-5 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Szenario"}),a.jsx("span",{className:"px-3 py-1 rounded-full inline-block",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--status-info)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Initiale Allokation"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Anzahl Artikel"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-semibold)",fontSize:"var(--font-size-lg)"},children:"24"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Lieferzeitraum (simuliert)"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"05.03.2025"}),a.jsx("span",{style:{color:"var(--text-muted)"},children:""}),a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:"20.03.2025"})]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Kapazittsbasis"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:"SOLL-Kapazitt"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Simulationszeitpunkt"}),a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:new Date().toLocaleDateString("de-DE")})]})]})}),a.jsx("div",{className:"space-y-4",children:i.map(o=>a.jsxs("div",{className:"rounded-lg border overflow-hidden",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsxs("button",{onClick:()=>n(o.id),className:"w-full p-5 flex items-center justify-between hover:bg-surface-tint transition-colors",style:{textAlign:"left"},children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontWeight:"var(--font-weight-semibold)",fontSize:"var(--font-size-sm)"},children:o.id}),a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:o.title})]}),o.expanded?a.jsx(To,{size:20,style:{color:"var(--text-muted)"}}):a.jsx(dn,{size:20,style:{color:"var(--text-muted)"}})]}),o.expanded&&a.jsx("div",{className:"px-5 pb-5 border-t",style:{borderColor:"var(--border-subtle)"},children:a.jsx("div",{className:"pt-5",children:o.content})})]},o.id))})]})}function wO(e,[t,r]){return Math.min(r,Math.max(t,e))}function jO(e){const t=Pte(e),r=z.forwardRef((n,i)=>{const{children:o,...l}=n,u=z.Children.toArray(o),d=u.find(Ote);if(d){const f=d.props.children,v=u.map(h=>h===d?z.Children.count(f)>1?z.Children.only(null):z.isValidElement(f)?f.props.children:null:h);return a.jsx(t,{...l,ref:i,children:z.isValidElement(f)?z.cloneElement(f,void 0,v):null})}return a.jsx(t,{...l,ref:i,children:o})});return r.displayName=`${e}.Slot`,r}function Pte(e){const t=z.forwardRef((r,n)=>{const{children:i,...o}=r;if(z.isValidElement(i)){const l=Tte(i),u=Ete(o,i.props);return i.type!==z.Fragment&&(u.ref=n?kl(n,l):l),z.cloneElement(i,u)}return z.Children.count(i)>1?z.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _te=Symbol("radix.slottable");function Ote(e){return z.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_te}function Ete(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function Tte(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function OI(e){const t=e+"CollectionProvider",[r,n]=Lo(t),[i,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=x=>{const{scope:y,children:j}=x,k=G.useRef(null),S=G.useRef(new Map).current;return a.jsx(i,{scope:y,itemMap:S,collectionRef:k,children:j})};l.displayName=t;const u=e+"CollectionSlot",d=jO(u),f=G.forwardRef((x,y)=>{const{scope:j,children:k}=x,S=o(u,j),N=Mt(y,S.collectionRef);return a.jsx(d,{ref:N,children:k})});f.displayName=u;const v=e+"CollectionItemSlot",h="data-radix-collection-item",m=jO(v),b=G.forwardRef((x,y)=>{const{scope:j,children:k,...S}=x,N=G.useRef(null),A=Mt(y,N),O=o(v,j);return G.useEffect(()=>(O.itemMap.set(N,{ref:N,...S}),()=>void O.itemMap.delete(N))),a.jsx(m,{[h]:"",ref:A,children:k})});b.displayName=v;function w(x){const y=o(e+"CollectionConsumer",x);return G.useCallback(()=>{const k=y.collectionRef.current;if(!k)return[];const S=Array.from(k.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((O,_)=>S.indexOf(O.ref.current)-S.indexOf(_.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:l,Slot:f,ItemSlot:b},w,n]}var Dte=z.createContext(void 0);function J1(e){const t=z.useContext(Dte);return e||t||"ltr"}function Ri(e){const t=z.useRef(e);return z.useEffect(()=>{t.current=e}),z.useMemo(()=>(...r)=>t.current?.(...r),[])}function Rte(e,t=globalThis?.document){const r=Ri(e);z.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Ite="DismissableLayer",_S="dismissableLayer.update",Mte="dismissableLayer.pointerDownOutside",Lte="dismissableLayer.focusOutside",kO,EI=z.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ew=z.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:u,...d}=e,f=z.useContext(EI),[v,h]=z.useState(null),m=v?.ownerDocument??globalThis?.document,[,b]=z.useState({}),w=Mt(t,_=>h(_)),x=Array.from(f.layers),[y]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=x.indexOf(y),k=v?x.indexOf(v):-1,S=f.layersWithOutsidePointerEventsDisabled.size>0,N=k>=j,A=Wte(_=>{const E=_.target,T=[...f.branches].some(I=>I.contains(E));!N||T||(i?.(_),l?.(_),_.defaultPrevented||u?.())},m),O=$te(_=>{const E=_.target;[...f.branches].some(I=>I.contains(E))||(o?.(_),l?.(_),_.defaultPrevented||u?.())},m);return Rte(_=>{k===f.layers.size-1&&(n?.(_),!_.defaultPrevented&&u&&(_.preventDefault(),u()))},m),z.useEffect(()=>{if(v)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(kO=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(v)),f.layers.add(v),CO(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=kO)}},[v,m,r,f]),z.useEffect(()=>()=>{v&&(f.layers.delete(v),f.layersWithOutsidePointerEventsDisabled.delete(v),CO())},[v,f]),z.useEffect(()=>{const _=()=>b({});return document.addEventListener(_S,_),()=>document.removeEventListener(_S,_)},[]),a.jsx(Je.div,{...d,ref:w,style:{pointerEvents:S?N?"auto":"none":void 0,...e.style},onFocusCapture:Qe(e.onFocusCapture,O.onFocusCapture),onBlurCapture:Qe(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Qe(e.onPointerDownCapture,A.onPointerDownCapture)})});ew.displayName=Ite;var Bte="DismissableLayerBranch",Fte=z.forwardRef((e,t)=>{const r=z.useContext(EI),n=z.useRef(null),i=Mt(t,n);return z.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),a.jsx(Je.div,{...e,ref:i})});Fte.displayName=Bte;function Wte(e,t=globalThis?.document){const r=Ri(e),n=z.useRef(!1),i=z.useRef(()=>{});return z.useEffect(()=>{const o=u=>{if(u.target&&!n.current){let d=function(){TI(Mte,r,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function $te(e,t=globalThis?.document){const r=Ri(e),n=z.useRef(!1);return z.useEffect(()=>{const i=o=>{o.target&&!n.current&&TI(Lte,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function CO(){const e=new CustomEvent(_S);document.dispatchEvent(e)}function TI(e,t,r,{discrete:n}){const i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?cee(i,o):i.dispatchEvent(o)}var Fb=0;function DI(){z.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??zO()),document.body.insertAdjacentElement("beforeend",e[1]??zO()),Fb++,()=>{Fb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Fb--}},[])}function zO(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Wb="focusScope.autoFocusOnMount",$b="focusScope.autoFocusOnUnmount",AO={bubbles:!1,cancelable:!0},Ute="FocusScope",tw=z.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=e,[u,d]=z.useState(null),f=Ri(i),v=Ri(o),h=z.useRef(null),m=Mt(t,x=>d(x)),b=z.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;z.useEffect(()=>{if(n){let x=function(S){if(b.paused||!u)return;const N=S.target;u.contains(N)?h.current=N:Si(h.current,{select:!0})},y=function(S){if(b.paused||!u)return;const N=S.relatedTarget;N!==null&&(u.contains(N)||Si(h.current,{select:!0}))},j=function(S){if(document.activeElement===document.body)for(const A of S)A.removedNodes.length>0&&Si(u)};document.addEventListener("focusin",x),document.addEventListener("focusout",y);const k=new MutationObserver(j);return u&&k.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",y),k.disconnect()}}},[n,u,b.paused]),z.useEffect(()=>{if(u){PO.add(b);const x=document.activeElement;if(!u.contains(x)){const j=new CustomEvent(Wb,AO);u.addEventListener(Wb,f),u.dispatchEvent(j),j.defaultPrevented||(Hte(Zte(RI(u)),{select:!0}),document.activeElement===x&&Si(u))}return()=>{u.removeEventListener(Wb,f),setTimeout(()=>{const j=new CustomEvent($b,AO);u.addEventListener($b,v),u.dispatchEvent(j),j.defaultPrevented||Si(x??document.body,{select:!0}),u.removeEventListener($b,v),PO.remove(b)},0)}}},[u,f,v,b]);const w=z.useCallback(x=>{if(!r&&!n||b.paused)return;const y=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,j=document.activeElement;if(y&&j){const k=x.currentTarget,[S,N]=Kte(k);S&&N?!x.shiftKey&&j===N?(x.preventDefault(),r&&Si(S,{select:!0})):x.shiftKey&&j===S&&(x.preventDefault(),r&&Si(N,{select:!0})):j===k&&x.preventDefault()}},[r,n,b.paused]);return a.jsx(Je.div,{tabIndex:-1,...l,ref:m,onKeyDown:w})});tw.displayName=Ute;function Hte(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Si(n,{select:t}),document.activeElement!==r)return}function Kte(e){const t=RI(e),r=NO(t,e),n=NO(t.reverse(),e);return[r,n]}function RI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function NO(e,t){for(const r of e)if(!Gte(r,{upTo:t}))return r}function Gte(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Vte(e){return e instanceof HTMLInputElement&&"select"in e}function Si(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Vte(e)&&t&&e.select()}}var PO=qte();function qte(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=_O(e,t),e.unshift(t)},remove(t){e=_O(e,t),e[0]?.resume()}}}function _O(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Zte(e){return e.filter(t=>t.tagName!=="A")}var Xte=GS[" useId ".trim().toString()]||(()=>{}),Yte=0;function Oi(e){const[t,r]=z.useState(Xte());return _r(()=>{r(n=>n??String(Yte++))},[e]),e||(t?`radix-${t}`:"")}const Qte=["top","right","bottom","left"],Ii=Math.min,cn=Math.max,Tp=Math.round,hf=Math.floor,da=e=>({x:e,y:e}),Jte={left:"right",right:"left",bottom:"top",top:"bottom"},ere={start:"end",end:"start"};function OS(e,t,r){return cn(e,Ii(t,r))}function Va(e,t){return typeof e=="function"?e(t):e}function qa(e){return e.split("-")[0]}function Nl(e){return e.split("-")[1]}function rw(e){return e==="x"?"y":"x"}function nw(e){return e==="y"?"height":"width"}const tre=new Set(["top","bottom"]);function la(e){return tre.has(qa(e))?"y":"x"}function aw(e){return rw(la(e))}function rre(e,t,r){r===void 0&&(r=!1);const n=Nl(e),i=aw(e),o=nw(i);let l=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Dp(l)),[l,Dp(l)]}function nre(e){const t=Dp(e);return[ES(e),t,ES(t)]}function ES(e){return e.replace(/start|end/g,t=>ere[t])}const OO=["left","right"],EO=["right","left"],are=["top","bottom"],ire=["bottom","top"];function ore(e,t,r){switch(e){case"top":case"bottom":return r?t?EO:OO:t?OO:EO;case"left":case"right":return t?are:ire;default:return[]}}function sre(e,t,r,n){const i=Nl(e);let o=ore(qa(e),r==="start",n);return i&&(o=o.map(l=>l+"-"+i),t&&(o=o.concat(o.map(ES)))),o}function Dp(e){return e.replace(/left|right|bottom|top/g,t=>Jte[t])}function lre(e){return{top:0,right:0,bottom:0,left:0,...e}}function II(e){return typeof e!="number"?lre(e):{top:e,right:e,bottom:e,left:e}}function Rp(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function TO(e,t,r){let{reference:n,floating:i}=e;const o=la(t),l=aw(t),u=nw(l),d=qa(t),f=o==="y",v=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,m=n[u]/2-i[u]/2;let b;switch(d){case"top":b={x:v,y:n.y-i.height};break;case"bottom":b={x:v,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:h};break;case"left":b={x:n.x-i.width,y:h};break;default:b={x:n.x,y:n.y}}switch(Nl(t)){case"start":b[l]-=m*(r&&f?-1:1);break;case"end":b[l]+=m*(r&&f?-1:1);break}return b}const cre=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:l}=r,u=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:v,y:h}=TO(f,n,d),m=n,b={},w=0;for(let x=0;x<u.length;x++){const{name:y,fn:j}=u[x],{x:k,y:S,data:N,reset:A}=await j({x:v,y:h,initialPlacement:n,placement:m,strategy:i,middlewareData:b,rects:f,platform:l,elements:{reference:e,floating:t}});v=k??v,h=S??h,b={...b,[y]:{...b[y],...N}},A&&w<=50&&(w++,typeof A=="object"&&(A.placement&&(m=A.placement),A.rects&&(f=A.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):A.rects),{x:v,y:h}=TO(f,m,d)),x=-1)}return{x:v,y:h,placement:m,strategy:i,middlewareData:b}};async function ku(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:l,elements:u,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:v="viewport",elementContext:h="floating",altBoundary:m=!1,padding:b=0}=Va(t,e),w=II(b),y=u[m?h==="floating"?"reference":"floating":h],j=Rp(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(y)))==null||r?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:v,strategy:d})),k=h==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),N=await(o.isElement==null?void 0:o.isElement(S))?await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},A=Rp(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:k,offsetParent:S,strategy:d}):k);return{top:(j.top-A.top+w.top)/N.y,bottom:(A.bottom-j.bottom+w.bottom)/N.y,left:(j.left-A.left+w.left)/N.x,right:(A.right-j.right+w.right)/N.x}}const ure=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:l,elements:u,middlewareData:d}=t,{element:f,padding:v=0}=Va(e,t)||{};if(f==null)return{};const h=II(v),m={x:r,y:n},b=aw(i),w=nw(b),x=await l.getDimensions(f),y=b==="y",j=y?"top":"left",k=y?"bottom":"right",S=y?"clientHeight":"clientWidth",N=o.reference[w]+o.reference[b]-m[b]-o.floating[w],A=m[b]-o.reference[b],O=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let _=O?O[S]:0;(!_||!await(l.isElement==null?void 0:l.isElement(O)))&&(_=u.floating[S]||o.floating[w]);const E=N/2-A/2,T=_/2-x[w]/2-1,I=Ii(h[j],T),R=Ii(h[k],T),L=I,M=_-x[w]-R,q=_/2-x[w]/2+E,H=OS(L,q,M),Z=!d.arrow&&Nl(i)!=null&&q!==H&&o.reference[w]/2-(q<L?I:R)-x[w]/2<0,Y=Z?q<L?q-L:q-M:0;return{[b]:m[b]+Y,data:{[b]:H,centerOffset:q-H-Y,...Z&&{alignmentOffset:Y}},reset:Z}}}),dre=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:l,initialPlacement:u,platform:d,elements:f}=t,{mainAxis:v=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...y}=Va(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const j=qa(i),k=la(u),S=qa(u)===u,N=await(d.isRTL==null?void 0:d.isRTL(f.floating)),A=m||(S||!x?[Dp(u)]:nre(u)),O=w!=="none";!m&&O&&A.push(...sre(u,x,w,N));const _=[u,...A],E=await ku(t,y),T=[];let I=((n=o.flip)==null?void 0:n.overflows)||[];if(v&&T.push(E[j]),h){const q=rre(i,l,N);T.push(E[q[0]],E[q[1]])}if(I=[...I,{placement:i,overflows:T}],!T.every(q=>q<=0)){var R,L;const q=(((R=o.flip)==null?void 0:R.index)||0)+1,H=_[q];if(H&&(!(h==="alignment"?k!==la(H):!1)||I.every($=>la($.placement)===k?$.overflows[0]>0:!0)))return{data:{index:q,overflows:I},reset:{placement:H}};let Z=(L=I.filter(Y=>Y.overflows[0]<=0).sort((Y,$)=>Y.overflows[1]-$.overflows[1])[0])==null?void 0:L.placement;if(!Z)switch(b){case"bestFit":{var M;const Y=(M=I.filter($=>{if(O){const F=la($.placement);return F===k||F==="y"}return!0}).map($=>[$.placement,$.overflows.filter(F=>F>0).reduce((F,Q)=>F+Q,0)]).sort(($,F)=>$[1]-F[1])[0])==null?void 0:M[0];Y&&(Z=Y);break}case"initialPlacement":Z=u;break}if(i!==Z)return{reset:{placement:Z}}}return{}}}};function DO(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function RO(e){return Qte.some(t=>e[t]>=0)}const fre=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Va(e,t);switch(n){case"referenceHidden":{const o=await ku(t,{...i,elementContext:"reference"}),l=DO(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:RO(l)}}}case"escaped":{const o=await ku(t,{...i,altBoundary:!0}),l=DO(o,r.floating);return{data:{escapedOffsets:l,escaped:RO(l)}}}default:return{}}}}},MI=new Set(["left","top"]);async function pre(e,t){const{placement:r,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=qa(r),u=Nl(r),d=la(r)==="y",f=MI.has(l)?-1:1,v=o&&d?-1:1,h=Va(t,e);let{mainAxis:m,crossAxis:b,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return u&&typeof w=="number"&&(b=u==="end"?w*-1:w),d?{x:b*v,y:m*f}:{x:m*f,y:b*v}}const hre=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:l,middlewareData:u}=t,d=await pre(t,e);return l===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:o+d.y,data:{...d,placement:l}}}}},vre=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:y=>{let{x:j,y:k}=y;return{x:j,y:k}}},...d}=Va(e,t),f={x:r,y:n},v=await ku(t,d),h=la(qa(i)),m=rw(h);let b=f[m],w=f[h];if(o){const y=m==="y"?"top":"left",j=m==="y"?"bottom":"right",k=b+v[y],S=b-v[j];b=OS(k,b,S)}if(l){const y=h==="y"?"top":"left",j=h==="y"?"bottom":"right",k=w+v[y],S=w-v[j];w=OS(k,w,S)}const x=u.fn({...t,[m]:b,[h]:w});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[m]:o,[h]:l}}}}}},mre=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:o,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=Va(e,t),v={x:r,y:n},h=la(i),m=rw(h);let b=v[m],w=v[h];const x=Va(u,t),y=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(d){const S=m==="y"?"height":"width",N=o.reference[m]-o.floating[S]+y.mainAxis,A=o.reference[m]+o.reference[S]-y.mainAxis;b<N?b=N:b>A&&(b=A)}if(f){var j,k;const S=m==="y"?"width":"height",N=MI.has(qa(i)),A=o.reference[h]-o.floating[S]+(N&&((j=l.offset)==null?void 0:j[h])||0)+(N?0:y.crossAxis),O=o.reference[h]+o.reference[S]+(N?0:((k=l.offset)==null?void 0:k[h])||0)-(N?y.crossAxis:0);w<A?w=A:w>O&&(w=O)}return{[m]:b,[h]:w}}}},gre=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:o,platform:l,elements:u}=t,{apply:d=()=>{},...f}=Va(e,t),v=await ku(t,f),h=qa(i),m=Nl(i),b=la(i)==="y",{width:w,height:x}=o.floating;let y,j;h==="top"||h==="bottom"?(y=h,j=m===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(j=h,y=m==="end"?"top":"bottom");const k=x-v.top-v.bottom,S=w-v.left-v.right,N=Ii(x-v[y],k),A=Ii(w-v[j],S),O=!t.middlewareData.shift;let _=N,E=A;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=S),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=k),O&&!m){const I=cn(v.left,0),R=cn(v.right,0),L=cn(v.top,0),M=cn(v.bottom,0);b?E=w-2*(I!==0||R!==0?I+R:cn(v.left,v.right)):_=x-2*(L!==0||M!==0?L+M:cn(v.top,v.bottom))}await d({...t,availableWidth:E,availableHeight:_});const T=await l.getDimensions(u.floating);return w!==T.width||x!==T.height?{reset:{rects:!0}}:{}}}};function Nh(){return typeof window<"u"}function Pl(e){return LI(e)?(e.nodeName||"").toLowerCase():"#document"}function hn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ga(e){var t;return(t=(LI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function LI(e){return Nh()?e instanceof Node||e instanceof hn(e).Node:!1}function qn(e){return Nh()?e instanceof Element||e instanceof hn(e).Element:!1}function pa(e){return Nh()?e instanceof HTMLElement||e instanceof hn(e).HTMLElement:!1}function IO(e){return!Nh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof hn(e).ShadowRoot}const yre=new Set(["inline","contents"]);function Ru(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Zn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!yre.has(i)}const xre=new Set(["table","td","th"]);function bre(e){return xre.has(Pl(e))}const Sre=[":popover-open",":modal"];function Ph(e){return Sre.some(t=>{try{return e.matches(t)}catch{return!1}})}const wre=["transform","translate","scale","rotate","perspective"],jre=["transform","translate","scale","rotate","perspective","filter"],kre=["paint","layout","strict","content"];function iw(e){const t=ow(),r=qn(e)?Zn(e):e;return wre.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||jre.some(n=>(r.willChange||"").includes(n))||kre.some(n=>(r.contain||"").includes(n))}function Cre(e){let t=Mi(e);for(;pa(t)&&!dl(t);){if(iw(t))return t;if(Ph(t))return null;t=Mi(t)}return null}function ow(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const zre=new Set(["html","body","#document"]);function dl(e){return zre.has(Pl(e))}function Zn(e){return hn(e).getComputedStyle(e)}function _h(e){return qn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Mi(e){if(Pl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||IO(e)&&e.host||ga(e);return IO(t)?t.host:t}function BI(e){const t=Mi(e);return dl(t)?e.ownerDocument?e.ownerDocument.body:e.body:pa(t)&&Ru(t)?t:BI(t)}function Cu(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=BI(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),l=hn(i);if(o){const u=TS(l);return t.concat(l,l.visualViewport||[],Ru(i)?i:[],u&&r?Cu(u):[])}return t.concat(i,Cu(i,[],r))}function TS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function FI(e){const t=Zn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=pa(e),o=i?e.offsetWidth:r,l=i?e.offsetHeight:n,u=Tp(r)!==o||Tp(n)!==l;return u&&(r=o,n=l),{width:r,height:n,$:u}}function sw(e){return qn(e)?e:e.contextElement}function Os(e){const t=sw(e);if(!pa(t))return da(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=FI(t);let l=(o?Tp(r.width):r.width)/n,u=(o?Tp(r.height):r.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const Are=da(0);function WI(e){const t=hn(e);return!ow()||!t.visualViewport?Are:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Nre(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==hn(e)?!1:t}function Po(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=sw(e);let l=da(1);t&&(n?qn(n)&&(l=Os(n)):l=Os(e));const u=Nre(o,r,n)?WI(o):da(0);let d=(i.left+u.x)/l.x,f=(i.top+u.y)/l.y,v=i.width/l.x,h=i.height/l.y;if(o){const m=hn(o),b=n&&qn(n)?hn(n):n;let w=m,x=TS(w);for(;x&&n&&b!==w;){const y=Os(x),j=x.getBoundingClientRect(),k=Zn(x),S=j.left+(x.clientLeft+parseFloat(k.paddingLeft))*y.x,N=j.top+(x.clientTop+parseFloat(k.paddingTop))*y.y;d*=y.x,f*=y.y,v*=y.x,h*=y.y,d+=S,f+=N,w=hn(x),x=TS(w)}}return Rp({width:v,height:h,x:d,y:f})}function Oh(e,t){const r=_h(e).scrollLeft;return t?t.left+r:Po(ga(e)).left+r}function $I(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Oh(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function Pre(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o=i==="fixed",l=ga(n),u=t?Ph(t.floating):!1;if(n===l||u&&o)return r;let d={scrollLeft:0,scrollTop:0},f=da(1);const v=da(0),h=pa(n);if((h||!h&&!o)&&((Pl(n)!=="body"||Ru(l))&&(d=_h(n)),pa(n))){const b=Po(n);f=Os(n),v.x=b.x+n.clientLeft,v.y=b.y+n.clientTop}const m=l&&!h&&!o?$I(l,d):da(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-d.scrollLeft*f.x+v.x+m.x,y:r.y*f.y-d.scrollTop*f.y+v.y+m.y}}function _re(e){return Array.from(e.getClientRects())}function Ore(e){const t=ga(e),r=_h(e),n=e.ownerDocument.body,i=cn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=cn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+Oh(e);const u=-r.scrollTop;return Zn(n).direction==="rtl"&&(l+=cn(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:l,y:u}}const MO=25;function Ere(e,t){const r=hn(e),n=ga(e),i=r.visualViewport;let o=n.clientWidth,l=n.clientHeight,u=0,d=0;if(i){o=i.width,l=i.height;const v=ow();(!v||v&&t==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}const f=Oh(n);if(f<=0){const v=n.ownerDocument,h=v.body,m=getComputedStyle(h),b=v.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,w=Math.abs(n.clientWidth-h.clientWidth-b);w<=MO&&(o-=w)}else f<=MO&&(o+=f);return{width:o,height:l,x:u,y:d}}const Tre=new Set(["absolute","fixed"]);function Dre(e,t){const r=Po(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=pa(e)?Os(e):da(1),l=e.clientWidth*o.x,u=e.clientHeight*o.y,d=i*o.x,f=n*o.y;return{width:l,height:u,x:d,y:f}}function LO(e,t,r){let n;if(t==="viewport")n=Ere(e,r);else if(t==="document")n=Ore(ga(e));else if(qn(t))n=Dre(t,r);else{const i=WI(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Rp(n)}function UI(e,t){const r=Mi(e);return r===t||!qn(r)||dl(r)?!1:Zn(r).position==="fixed"||UI(r,t)}function Rre(e,t){const r=t.get(e);if(r)return r;let n=Cu(e,[],!1).filter(u=>qn(u)&&Pl(u)!=="body"),i=null;const o=Zn(e).position==="fixed";let l=o?Mi(e):e;for(;qn(l)&&!dl(l);){const u=Zn(l),d=iw(l);!d&&u.position==="fixed"&&(i=null),(o?!d&&!i:!d&&u.position==="static"&&!!i&&Tre.has(i.position)||Ru(l)&&!d&&UI(e,l))?n=n.filter(v=>v!==l):i=u,l=Mi(l)}return t.set(e,n),n}function Ire(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const l=[...r==="clippingAncestors"?Ph(t)?[]:Rre(t,this._c):[].concat(r),n],u=l[0],d=l.reduce((f,v)=>{const h=LO(t,v,i);return f.top=cn(h.top,f.top),f.right=Ii(h.right,f.right),f.bottom=Ii(h.bottom,f.bottom),f.left=cn(h.left,f.left),f},LO(t,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Mre(e){const{width:t,height:r}=FI(e);return{width:t,height:r}}function Lre(e,t,r){const n=pa(t),i=ga(t),o=r==="fixed",l=Po(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const d=da(0);function f(){d.x=Oh(i)}if(n||!n&&!o)if((Pl(t)!=="body"||Ru(i))&&(u=_h(t)),n){const b=Po(t,!0,o,t);d.x=b.x+t.clientLeft,d.y=b.y+t.clientTop}else i&&f();o&&!n&&i&&f();const v=i&&!n&&!o?$I(i,u):da(0),h=l.left+u.scrollLeft-d.x-v.x,m=l.top+u.scrollTop-d.y-v.y;return{x:h,y:m,width:l.width,height:l.height}}function Ub(e){return Zn(e).position==="static"}function BO(e,t){if(!pa(e)||Zn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ga(e)===r&&(r=r.ownerDocument.body),r}function HI(e,t){const r=hn(e);if(Ph(e))return r;if(!pa(e)){let i=Mi(e);for(;i&&!dl(i);){if(qn(i)&&!Ub(i))return i;i=Mi(i)}return r}let n=BO(e,t);for(;n&&bre(n)&&Ub(n);)n=BO(n,t);return n&&dl(n)&&Ub(n)&&!iw(n)?r:n||Cre(e)||r}const Bre=async function(e){const t=this.getOffsetParent||HI,r=this.getDimensions,n=await r(e.floating);return{reference:Lre(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Fre(e){return Zn(e).direction==="rtl"}const Wre={convertOffsetParentRelativeRectToViewportRelativeRect:Pre,getDocumentElement:ga,getClippingRect:Ire,getOffsetParent:HI,getElementRects:Bre,getClientRects:_re,getDimensions:Mre,getScale:Os,isElement:qn,isRTL:Fre};function KI(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function $re(e,t){let r=null,n;const i=ga(e);function o(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),o();const f=e.getBoundingClientRect(),{left:v,top:h,width:m,height:b}=f;if(u||t(),!m||!b)return;const w=hf(h),x=hf(i.clientWidth-(v+m)),y=hf(i.clientHeight-(h+b)),j=hf(v),S={rootMargin:-w+"px "+-x+"px "+-y+"px "+-j+"px",threshold:cn(0,Ii(1,d))||1};let N=!0;function A(O){const _=O[0].intersectionRatio;if(_!==d){if(!N)return l();_?l(!1,_):n=setTimeout(()=>{l(!1,1e-7)},1e3)}_===1&&!KI(f,e.getBoundingClientRect())&&l(),N=!1}try{r=new IntersectionObserver(A,{...S,root:i.ownerDocument})}catch{r=new IntersectionObserver(A,S)}r.observe(e)}return l(!0),o}function Ure(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,f=sw(e),v=i||o?[...f?Cu(f):[],...Cu(t)]:[];v.forEach(j=>{i&&j.addEventListener("scroll",r,{passive:!0}),o&&j.addEventListener("resize",r)});const h=f&&u?$re(f,r):null;let m=-1,b=null;l&&(b=new ResizeObserver(j=>{let[k]=j;k&&k.target===f&&b&&(b.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=b)==null||S.observe(t)})),r()}),f&&!d&&b.observe(f),b.observe(t));let w,x=d?Po(e):null;d&&y();function y(){const j=Po(e);x&&!KI(x,j)&&r(),x=j,w=requestAnimationFrame(y)}return r(),()=>{var j;v.forEach(k=>{i&&k.removeEventListener("scroll",r),o&&k.removeEventListener("resize",r)}),h?.(),(j=b)==null||j.disconnect(),b=null,d&&cancelAnimationFrame(w)}}const Hre=hre,Kre=vre,Gre=dre,Vre=gre,qre=fre,FO=ure,Zre=mre,Xre=(e,t,r)=>{const n=new Map,i={platform:Wre,...r},o={...i.platform,_c:n};return cre(e,t,{...i,platform:o})};var Yre=typeof document<"u",Qre=function(){},kf=Yre?z.useLayoutEffect:Qre;function Ip(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Ip(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const o=i[n];if(!(o==="_owner"&&e.$$typeof)&&!Ip(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function GI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function WO(e,t){const r=GI(e);return Math.round(t*r)/r}function Hb(e){const t=z.useRef(e);return kf(()=>{t.current=e}),t}function Jre(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:d,open:f}=e,[v,h]=z.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,b]=z.useState(n);Ip(m,n)||b(n);const[w,x]=z.useState(null),[y,j]=z.useState(null),k=z.useCallback($=>{$!==O.current&&(O.current=$,x($))},[]),S=z.useCallback($=>{$!==_.current&&(_.current=$,j($))},[]),N=o||w,A=l||y,O=z.useRef(null),_=z.useRef(null),E=z.useRef(v),T=d!=null,I=Hb(d),R=Hb(i),L=Hb(f),M=z.useCallback(()=>{if(!O.current||!_.current)return;const $={placement:t,strategy:r,middleware:m};R.current&&($.platform=R.current),Xre(O.current,_.current,$).then(F=>{const Q={...F,isPositioned:L.current!==!1};q.current&&!Ip(E.current,Q)&&(E.current=Q,Eu.flushSync(()=>{h(Q)}))})},[m,t,r,R,L]);kf(()=>{f===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h($=>({...$,isPositioned:!1})))},[f]);const q=z.useRef(!1);kf(()=>(q.current=!0,()=>{q.current=!1}),[]),kf(()=>{if(N&&(O.current=N),A&&(_.current=A),N&&A){if(I.current)return I.current(N,A,M);M()}},[N,A,M,I,T]);const H=z.useMemo(()=>({reference:O,floating:_,setReference:k,setFloating:S}),[k,S]),Z=z.useMemo(()=>({reference:N,floating:A}),[N,A]),Y=z.useMemo(()=>{const $={position:r,left:0,top:0};if(!Z.floating)return $;const F=WO(Z.floating,v.x),Q=WO(Z.floating,v.y);return u?{...$,transform:"translate("+F+"px, "+Q+"px)",...GI(Z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:Q}},[r,u,Z.floating,v.x,v.y]);return z.useMemo(()=>({...v,update:M,refs:H,elements:Z,floatingStyles:Y}),[v,M,H,Z,Y])}const ene=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?FO({element:n.current,padding:i}).fn(r):{}:n?FO({element:n,padding:i}).fn(r):{}}}},tne=(e,t)=>({...Hre(e),options:[e,t]}),rne=(e,t)=>({...Kre(e),options:[e,t]}),nne=(e,t)=>({...Zre(e),options:[e,t]}),ane=(e,t)=>({...Gre(e),options:[e,t]}),ine=(e,t)=>({...Vre(e),options:[e,t]}),one=(e,t)=>({...qre(e),options:[e,t]}),sne=(e,t)=>({...ene(e),options:[e,t]});var lne="Arrow",VI=z.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...o}=e;return a.jsx(Je.svg,{...o,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});VI.displayName=lne;var cne=VI,lw="Popper",[qI,ZI]=Lo(lw),[une,XI]=qI(lw),YI=e=>{const{__scopePopper:t,children:r}=e,[n,i]=z.useState(null);return a.jsx(une,{scope:t,anchor:n,onAnchorChange:i,children:r})};YI.displayName=lw;var QI="PopperAnchor",JI=z.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,o=XI(QI,r),l=z.useRef(null),u=Mt(t,l),d=z.useRef(null);return z.useEffect(()=>{const f=d.current;d.current=n?.current||l.current,f!==d.current&&o.onAnchorChange(d.current)}),n?null:a.jsx(Je.div,{...i,ref:u})});JI.displayName=QI;var cw="PopperContent",[dne,fne]=qI(cw),e3=z.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:o="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:v=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:b="optimized",onPlaced:w,...x}=e,y=XI(cw,r),[j,k]=z.useState(null),S=Mt(t,ae=>k(ae)),[N,A]=z.useState(null),O=cI(N),_=O?.width??0,E=O?.height??0,T=n+(o!=="center"?"-"+o:""),I=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},R=Array.isArray(f)?f:[f],L=R.length>0,M={padding:I,boundary:R.filter(hne),altBoundary:L},{refs:q,floatingStyles:H,placement:Z,isPositioned:Y,middlewareData:$}=Jre({strategy:"fixed",placement:T,whileElementsMounted:(...ae)=>Ure(...ae,{animationFrame:b==="always"}),elements:{reference:y.anchor},middleware:[tne({mainAxis:i+E,alignmentAxis:l}),d&&rne({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?nne():void 0,...M}),d&&ane({...M}),ine({...M,apply:({elements:ae,rects:ge,availableWidth:W,availableHeight:oe})=>{const{width:ve,height:se}=ge.reference,De=ae.floating.style;De.setProperty("--radix-popper-available-width",`${W}px`),De.setProperty("--radix-popper-available-height",`${oe}px`),De.setProperty("--radix-popper-anchor-width",`${ve}px`),De.setProperty("--radix-popper-anchor-height",`${se}px`)}}),N&&sne({element:N,padding:u}),vne({arrowWidth:_,arrowHeight:E}),m&&one({strategy:"referenceHidden",...M})]}),[F,Q]=n3(Z),U=Ri(w);_r(()=>{Y&&U?.()},[Y,U]);const B=$.arrow?.x,te=$.arrow?.y,ce=$.arrow?.centerOffset!==0,[he,ue]=z.useState();return _r(()=>{j&&ue(window.getComputedStyle(j).zIndex)},[j]),a.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:Y?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(dne,{scope:r,placedSide:F,onArrowChange:A,arrowX:B,arrowY:te,shouldHideArrow:ce,children:a.jsx(Je.div,{"data-side":F,"data-align":Q,...x,ref:S,style:{...x.style,animation:Y?void 0:"none"}})})})});e3.displayName=cw;var t3="PopperArrow",pne={top:"bottom",right:"left",bottom:"top",left:"right"},r3=z.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,o=fne(t3,n),l=pne[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(cne,{...i,ref:r,style:{...i.style,display:"block"}})})});r3.displayName=t3;function hne(e){return e!==null}var vne=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,l=i.arrow?.centerOffset!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[f,v]=n3(r),h={start:"0%",center:"50%",end:"100%"}[v],m=(i.arrow?.x??0)+u/2,b=(i.arrow?.y??0)+d/2;let w="",x="";return f==="bottom"?(w=l?h:`${m}px`,x=`${-d}px`):f==="top"?(w=l?h:`${m}px`,x=`${n.floating.height+d}px`):f==="right"?(w=`${-d}px`,x=l?h:`${b}px`):f==="left"&&(w=`${n.floating.width+d}px`,x=l?h:`${b}px`),{data:{x:w,y:x}}}});function n3(e){const[t,r="center"]=e.split("-");return[t,r]}var mne=YI,gne=JI,yne=e3,xne=r3,bne="Portal",uw=z.forwardRef((e,t)=>{const{container:r,...n}=e,[i,o]=z.useState(!1);_r(()=>o(!0),[]);const l=r||i&&globalThis?.document?.body;return l?I7.createPortal(a.jsx(Je.div,{...n,ref:t}),l):null});uw.displayName=bne;function Sne(e){const t=wne(e),r=z.forwardRef((n,i)=>{const{children:o,...l}=n,u=z.Children.toArray(o),d=u.find(kne);if(d){const f=d.props.children,v=u.map(h=>h===d?z.Children.count(f)>1?z.Children.only(null):z.isValidElement(f)?f.props.children:null:h);return a.jsx(t,{...l,ref:i,children:z.isValidElement(f)?z.cloneElement(f,void 0,v):null})}return a.jsx(t,{...l,ref:i,children:o})});return r.displayName=`${e}.Slot`,r}function wne(e){const t=z.forwardRef((r,n)=>{const{children:i,...o}=r;if(z.isValidElement(i)){const l=zne(i),u=Cne(o,i.props);return i.type!==z.Fragment&&(u.ref=n?kl(n,l):l),z.cloneElement(i,u)}return z.Children.count(i)>1?z.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jne=Symbol("radix.slottable");function kne(e){return z.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===jne}function Cne(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function zne(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var a3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ane="VisuallyHidden",Nne=z.forwardRef((e,t)=>a.jsx(Je.span,{...e,ref:t,style:{...a3,...e.style}}));Nne.displayName=Ane;var Pne=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},xs=new WeakMap,vf=new WeakMap,mf={},Kb=0,i3=function(e){return e&&(e.host||i3(e.parentNode))},_ne=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=i3(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},One=function(e,t,r,n){var i=_ne(t,Array.isArray(e)?e:[e]);mf[r]||(mf[r]=new WeakMap);var o=mf[r],l=[],u=new Set,d=new Set(i),f=function(h){!h||u.has(h)||(u.add(h),f(h.parentNode))};i.forEach(f);var v=function(h){!h||d.has(h)||Array.prototype.forEach.call(h.children,function(m){if(u.has(m))v(m);else try{var b=m.getAttribute(n),w=b!==null&&b!=="false",x=(xs.get(m)||0)+1,y=(o.get(m)||0)+1;xs.set(m,x),o.set(m,y),l.push(m),x===1&&w&&vf.set(m,!0),y===1&&m.setAttribute(r,"true"),w||m.setAttribute(n,"true")}catch(j){console.error("aria-hidden: cannot operate on ",m,j)}})};return v(t),u.clear(),Kb++,function(){l.forEach(function(h){var m=xs.get(h)-1,b=o.get(h)-1;xs.set(h,m),o.set(h,b),m||(vf.has(h)||h.removeAttribute(n),vf.delete(h)),b||h.removeAttribute(r)}),Kb--,Kb||(xs=new WeakMap,xs=new WeakMap,vf=new WeakMap,mf={})}},o3=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=Pne(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),One(n,i,r,"aria-hidden")):function(){return null}},na=function(){return na=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},na.apply(this,arguments)};function s3(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Ene(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Cf="right-scroll-bar-position",zf="width-before-scroll-bar",Tne="with-scroll-bars-hidden",Dne="--removed-body-scroll-bar-size";function Gb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Rne(e,t){var r=z.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var Ine=typeof window<"u"?z.useLayoutEffect:z.useEffect,$O=new WeakMap;function Mne(e,t){var r=Rne(null,function(n){return e.forEach(function(i){return Gb(i,n)})});return Ine(function(){var n=$O.get(r);if(n){var i=new Set(n),o=new Set(e),l=r.current;i.forEach(function(u){o.has(u)||Gb(u,null)}),o.forEach(function(u){i.has(u)||Gb(u,l)})}$O.set(r,e)},[e]),r}function Lne(e){return e}function Bne(e,t){t===void 0&&(t=Lne);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var l=t(o,n);return r.push(l),function(){r=r.filter(function(u){return u!==l})}},assignSyncMedium:function(o){for(n=!0;r.length;){var l=r;r=[],l.forEach(o)}r={push:function(u){return o(u)},filter:function(){return r}}},assignMedium:function(o){n=!0;var l=[];if(r.length){var u=r;r=[],u.forEach(o),l=r}var d=function(){var v=l;l=[],v.forEach(o)},f=function(){return Promise.resolve().then(d)};f(),r={push:function(v){l.push(v),f()},filter:function(v){return l=l.filter(v),r}}}};return i}function Fne(e){e===void 0&&(e={});var t=Bne(null);return t.options=na({async:!0,ssr:!1},e),t}var l3=function(e){var t=e.sideCar,r=s3(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return z.createElement(n,na({},r))};l3.isSideCarExport=!0;function Wne(e,t){return e.useMedium(t),l3}var c3=Fne(),Vb=function(){},Eh=z.forwardRef(function(e,t){var r=z.useRef(null),n=z.useState({onScrollCapture:Vb,onWheelCapture:Vb,onTouchMoveCapture:Vb}),i=n[0],o=n[1],l=e.forwardProps,u=e.children,d=e.className,f=e.removeScrollBar,v=e.enabled,h=e.shards,m=e.sideCar,b=e.noRelative,w=e.noIsolation,x=e.inert,y=e.allowPinchZoom,j=e.as,k=j===void 0?"div":j,S=e.gapMode,N=s3(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=m,O=Mne([r,t]),_=na(na({},N),i);return z.createElement(z.Fragment,null,v&&z.createElement(A,{sideCar:c3,removeScrollBar:f,shards:h,noRelative:b,noIsolation:w,inert:x,setCallbacks:o,allowPinchZoom:!!y,lockRef:r,gapMode:S}),l?z.cloneElement(z.Children.only(u),na(na({},_),{ref:O})):z.createElement(k,na({},_,{className:d,ref:O}),u))});Eh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Eh.classNames={fullWidth:zf,zeroRight:Cf};var $ne=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Une(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=$ne();return t&&e.setAttribute("nonce",t),e}function Hne(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Kne(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Gne=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Une())&&(Hne(t,r),Kne(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Vne=function(){var e=Gne();return function(t,r){z.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},u3=function(){var e=Vne(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},qne={left:0,top:0,right:0,gap:0},qb=function(e){return parseInt(e||"",10)||0},Zne=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[qb(r),qb(n),qb(i)]},Xne=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return qne;var t=Zne(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Yne=u3(),Es="data-scroll-locked",Qne=function(e,t,r,n){var i=e.left,o=e.top,l=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Tne,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(Es,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cf,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(zf,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Cf," .").concat(Cf,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(zf," .").concat(zf,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Es,`] {
    `).concat(Dne,": ").concat(u,`px;
  }
`)},UO=function(){var e=parseInt(document.body.getAttribute(Es)||"0",10);return isFinite(e)?e:0},Jne=function(){z.useEffect(function(){return document.body.setAttribute(Es,(UO()+1).toString()),function(){var e=UO()-1;e<=0?document.body.removeAttribute(Es):document.body.setAttribute(Es,e.toString())}},[])},eae=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;Jne();var o=z.useMemo(function(){return Xne(i)},[i]);return z.createElement(Yne,{styles:Qne(o,!t,i,r?"":"!important")})},DS=!1;if(typeof window<"u")try{var gf=Object.defineProperty({},"passive",{get:function(){return DS=!0,!0}});window.addEventListener("test",gf,gf),window.removeEventListener("test",gf,gf)}catch{DS=!1}var bs=DS?{passive:!1}:!1,tae=function(e){return e.tagName==="TEXTAREA"},d3=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!tae(e)&&r[t]==="visible")},rae=function(e){return d3(e,"overflowY")},nae=function(e){return d3(e,"overflowX")},HO=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=f3(e,n);if(i){var o=p3(e,n),l=o[1],u=o[2];if(l>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},aae=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},iae=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},f3=function(e,t){return e==="v"?rae(t):nae(t)},p3=function(e,t){return e==="v"?aae(t):iae(t)},oae=function(e,t){return e==="h"&&t==="rtl"?-1:1},sae=function(e,t,r,n,i){var o=oae(e,window.getComputedStyle(t).direction),l=o*n,u=r.target,d=t.contains(u),f=!1,v=l>0,h=0,m=0;do{if(!u)break;var b=p3(e,u),w=b[0],x=b[1],y=b[2],j=x-y-o*w;(w||j)&&f3(e,u)&&(h+=j,m+=w);var k=u.parentNode;u=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(v&&Math.abs(h)<1||!v&&Math.abs(m)<1)&&(f=!0),f},yf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},KO=function(e){return[e.deltaX,e.deltaY]},GO=function(e){return e&&"current"in e?e.current:e},lae=function(e,t){return e[0]===t[0]&&e[1]===t[1]},cae=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},uae=0,Ss=[];function dae(e){var t=z.useRef([]),r=z.useRef([0,0]),n=z.useRef(),i=z.useState(uae++)[0],o=z.useState(u3)[0],l=z.useRef(e);z.useEffect(function(){l.current=e},[e]),z.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var x=Ene([e.lockRef.current],(e.shards||[]).map(GO),!0).filter(Boolean);return x.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=z.useCallback(function(x,y){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!l.current.allowPinchZoom;var j=yf(x),k=r.current,S="deltaX"in x?x.deltaX:k[0]-j[0],N="deltaY"in x?x.deltaY:k[1]-j[1],A,O=x.target,_=Math.abs(S)>Math.abs(N)?"h":"v";if("touches"in x&&_==="h"&&O.type==="range")return!1;var E=window.getSelection(),T=E&&E.anchorNode,I=T?T===O||T.contains(O):!1;if(I)return!1;var R=HO(_,O);if(!R)return!0;if(R?A=_:(A=_==="v"?"h":"v",R=HO(_,O)),!R)return!1;if(!n.current&&"changedTouches"in x&&(S||N)&&(n.current=A),!A)return!0;var L=n.current||A;return sae(L,y,x,L==="h"?S:N)},[]),d=z.useCallback(function(x){var y=x;if(!(!Ss.length||Ss[Ss.length-1]!==o)){var j="deltaY"in y?KO(y):yf(y),k=t.current.filter(function(A){return A.name===y.type&&(A.target===y.target||y.target===A.shadowParent)&&lae(A.delta,j)})[0];if(k&&k.should){y.cancelable&&y.preventDefault();return}if(!k){var S=(l.current.shards||[]).map(GO).filter(Boolean).filter(function(A){return A.contains(y.target)}),N=S.length>0?u(y,S[0]):!l.current.noIsolation;N&&y.cancelable&&y.preventDefault()}}},[]),f=z.useCallback(function(x,y,j,k){var S={name:x,delta:y,target:j,should:k,shadowParent:fae(j)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(N){return N!==S})},1)},[]),v=z.useCallback(function(x){r.current=yf(x),n.current=void 0},[]),h=z.useCallback(function(x){f(x.type,KO(x),x.target,u(x,e.lockRef.current))},[]),m=z.useCallback(function(x){f(x.type,yf(x),x.target,u(x,e.lockRef.current))},[]);z.useEffect(function(){return Ss.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",d,bs),document.addEventListener("touchmove",d,bs),document.addEventListener("touchstart",v,bs),function(){Ss=Ss.filter(function(x){return x!==o}),document.removeEventListener("wheel",d,bs),document.removeEventListener("touchmove",d,bs),document.removeEventListener("touchstart",v,bs)}},[]);var b=e.removeScrollBar,w=e.inert;return z.createElement(z.Fragment,null,w?z.createElement(o,{styles:cae(i)}):null,b?z.createElement(eae,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function fae(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const pae=Wne(c3,dae);var dw=z.forwardRef(function(e,t){return z.createElement(Eh,na({},e,{ref:t,sideCar:pae}))});dw.classNames=Eh.classNames;var hae=[" ","Enter","ArrowUp","ArrowDown"],vae=[" ","Enter"],_o="Select",[Th,Dh,mae]=OI(_o),[_l]=Lo(_o,[mae,ZI]),Rh=ZI(),[gae,Ui]=_l(_o),[yae,xae]=_l(_o),h3=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:o,value:l,defaultValue:u,onValueChange:d,dir:f,name:v,autoComplete:h,disabled:m,required:b,form:w}=e,x=Rh(t),[y,j]=z.useState(null),[k,S]=z.useState(null),[N,A]=z.useState(!1),O=J1(f),[_,E]=ul({prop:n,defaultProp:i??!1,onChange:o,caller:_o}),[T,I]=ul({prop:l,defaultProp:u,onChange:d,caller:_o}),R=z.useRef(null),L=y?w||!!y.closest("form"):!0,[M,q]=z.useState(new Set),H=Array.from(M).map(Z=>Z.props.value).join(";");return a.jsx(mne,{...x,children:a.jsxs(gae,{required:b,scope:t,trigger:y,onTriggerChange:j,valueNode:k,onValueNodeChange:S,valueNodeHasChildren:N,onValueNodeHasChildrenChange:A,contentId:Oi(),value:T,onValueChange:I,open:_,onOpenChange:E,dir:O,triggerPointerDownPosRef:R,disabled:m,children:[a.jsx(Th.Provider,{scope:t,children:a.jsx(yae,{scope:e.__scopeSelect,onNativeOptionAdd:z.useCallback(Z=>{q(Y=>new Set(Y).add(Z))},[]),onNativeOptionRemove:z.useCallback(Z=>{q(Y=>{const $=new Set(Y);return $.delete(Z),$})},[]),children:r})}),L?a.jsxs(I3,{"aria-hidden":!0,required:b,tabIndex:-1,name:v,autoComplete:h,value:T,onChange:Z=>I(Z.target.value),disabled:m,form:w,children:[T===void 0?a.jsx("option",{value:""}):null,Array.from(M)]},H):null]})})};h3.displayName=_o;var v3="SelectTrigger",m3=z.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,o=Rh(r),l=Ui(v3,r),u=l.disabled||n,d=Mt(t,l.onTriggerChange),f=Dh(r),v=z.useRef("touch"),[h,m,b]=L3(x=>{const y=f().filter(S=>!S.disabled),j=y.find(S=>S.value===l.value),k=B3(y,x,j);k!==void 0&&l.onValueChange(k.value)}),w=x=>{u||(l.onOpenChange(!0),b()),x&&(l.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx(gne,{asChild:!0,...o,children:a.jsx(Je.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":M3(l.value)?"":void 0,...i,ref:d,onClick:Qe(i.onClick,x=>{x.currentTarget.focus(),v.current!=="mouse"&&w(x)}),onPointerDown:Qe(i.onPointerDown,x=>{v.current=x.pointerType;const y=x.target;y.hasPointerCapture(x.pointerId)&&y.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:Qe(i.onKeyDown,x=>{const y=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(y&&x.key===" ")&&hae.includes(x.key)&&(w(),x.preventDefault())})})})});m3.displayName=v3;var g3="SelectValue",y3=z.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:o,placeholder:l="",...u}=e,d=Ui(g3,r),{onValueNodeHasChildrenChange:f}=d,v=o!==void 0,h=Mt(t,d.onValueNodeChange);return _r(()=>{f(v)},[f,v]),a.jsx(Je.span,{...u,ref:h,style:{pointerEvents:"none"},children:M3(d.value)?a.jsx(a.Fragment,{children:l}):o})});y3.displayName=g3;var bae="SelectIcon",x3=z.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return a.jsx(Je.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});x3.displayName=bae;var Sae="SelectPortal",b3=e=>a.jsx(uw,{asChild:!0,...e});b3.displayName=Sae;var Oo="SelectContent",S3=z.forwardRef((e,t)=>{const r=Ui(Oo,e.__scopeSelect),[n,i]=z.useState();if(_r(()=>{i(new DocumentFragment)},[]),!r.open){const o=n;return o?Eu.createPortal(a.jsx(w3,{scope:e.__scopeSelect,children:a.jsx(Th.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(j3,{...e,ref:t})});S3.displayName=Oo;var Wn=10,[w3,Hi]=_l(Oo),wae="SelectContentImpl",jae=Sne("SelectContent.RemoveScroll"),j3=z.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:l,side:u,sideOffset:d,align:f,alignOffset:v,arrowPadding:h,collisionBoundary:m,collisionPadding:b,sticky:w,hideWhenDetached:x,avoidCollisions:y,...j}=e,k=Ui(Oo,r),[S,N]=z.useState(null),[A,O]=z.useState(null),_=Mt(t,ae=>N(ae)),[E,T]=z.useState(null),[I,R]=z.useState(null),L=Dh(r),[M,q]=z.useState(!1),H=z.useRef(!1);z.useEffect(()=>{if(S)return o3(S)},[S]),DI();const Z=z.useCallback(ae=>{const[ge,...W]=L().map(se=>se.ref.current),[oe]=W.slice(-1),ve=document.activeElement;for(const se of ae)if(se===ve||(se?.scrollIntoView({block:"nearest"}),se===ge&&A&&(A.scrollTop=0),se===oe&&A&&(A.scrollTop=A.scrollHeight),se?.focus(),document.activeElement!==ve))return},[L,A]),Y=z.useCallback(()=>Z([E,S]),[Z,E,S]);z.useEffect(()=>{M&&Y()},[M,Y]);const{onOpenChange:$,triggerPointerDownPosRef:F}=k;z.useEffect(()=>{if(S){let ae={x:0,y:0};const ge=oe=>{ae={x:Math.abs(Math.round(oe.pageX)-(F.current?.x??0)),y:Math.abs(Math.round(oe.pageY)-(F.current?.y??0))}},W=oe=>{ae.x<=10&&ae.y<=10?oe.preventDefault():S.contains(oe.target)||$(!1),document.removeEventListener("pointermove",ge),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",W,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",W,{capture:!0})}}},[S,$,F]),z.useEffect(()=>{const ae=()=>$(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[$]);const[Q,U]=L3(ae=>{const ge=L().filter(ve=>!ve.disabled),W=ge.find(ve=>ve.ref.current===document.activeElement),oe=B3(ge,ae,W);oe&&setTimeout(()=>oe.ref.current.focus())}),B=z.useCallback((ae,ge,W)=>{const oe=!H.current&&!W;(k.value!==void 0&&k.value===ge||oe)&&(T(ae),oe&&(H.current=!0))},[k.value]),te=z.useCallback(()=>S?.focus(),[S]),ce=z.useCallback((ae,ge,W)=>{const oe=!H.current&&!W;(k.value!==void 0&&k.value===ge||oe)&&R(ae)},[k.value]),he=n==="popper"?RS:k3,ue=he===RS?{side:u,sideOffset:d,align:f,alignOffset:v,arrowPadding:h,collisionBoundary:m,collisionPadding:b,sticky:w,hideWhenDetached:x,avoidCollisions:y}:{};return a.jsx(w3,{scope:r,content:S,viewport:A,onViewportChange:O,itemRefCallback:B,selectedItem:E,onItemLeave:te,itemTextRefCallback:ce,focusSelectedItem:Y,selectedItemText:I,position:n,isPositioned:M,searchRef:Q,children:a.jsx(dw,{as:jae,allowPinchZoom:!0,children:a.jsx(tw,{asChild:!0,trapped:k.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Qe(i,ae=>{k.trigger?.focus({preventScroll:!0}),ae.preventDefault()}),children:a.jsx(ew,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:a.jsx(he,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:ae=>ae.preventDefault(),...j,...ue,onPlaced:()=>q(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:Qe(j.onKeyDown,ae=>{const ge=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!ge&&ae.key.length===1&&U(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let oe=L().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(oe=oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const ve=ae.target,se=oe.indexOf(ve);oe=oe.slice(se+1)}setTimeout(()=>Z(oe)),ae.preventDefault()}})})})})})})});j3.displayName=wae;var kae="SelectItemAlignedPosition",k3=z.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,o=Ui(Oo,r),l=Hi(Oo,r),[u,d]=z.useState(null),[f,v]=z.useState(null),h=Mt(t,_=>v(_)),m=Dh(r),b=z.useRef(!1),w=z.useRef(!0),{viewport:x,selectedItem:y,selectedItemText:j,focusSelectedItem:k}=l,S=z.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&f&&x&&y&&j){const _=o.trigger.getBoundingClientRect(),E=f.getBoundingClientRect(),T=o.valueNode.getBoundingClientRect(),I=j.getBoundingClientRect();if(o.dir!=="rtl"){const ve=I.left-E.left,se=T.left-ve,De=_.left-se,Me=_.width+De,tt=Math.max(Me,E.width),rt=window.innerWidth-Wn,Ye=wO(se,[Wn,Math.max(Wn,rt-tt)]);u.style.minWidth=Me+"px",u.style.left=Ye+"px"}else{const ve=E.right-I.right,se=window.innerWidth-T.right-ve,De=window.innerWidth-_.right-se,Me=_.width+De,tt=Math.max(Me,E.width),rt=window.innerWidth-Wn,Ye=wO(se,[Wn,Math.max(Wn,rt-tt)]);u.style.minWidth=Me+"px",u.style.right=Ye+"px"}const R=m(),L=window.innerHeight-Wn*2,M=x.scrollHeight,q=window.getComputedStyle(f),H=parseInt(q.borderTopWidth,10),Z=parseInt(q.paddingTop,10),Y=parseInt(q.borderBottomWidth,10),$=parseInt(q.paddingBottom,10),F=H+Z+M+$+Y,Q=Math.min(y.offsetHeight*5,F),U=window.getComputedStyle(x),B=parseInt(U.paddingTop,10),te=parseInt(U.paddingBottom,10),ce=_.top+_.height/2-Wn,he=L-ce,ue=y.offsetHeight/2,ae=y.offsetTop+ue,ge=H+Z+ae,W=F-ge;if(ge<=ce){const ve=R.length>0&&y===R[R.length-1].ref.current;u.style.bottom="0px";const se=f.clientHeight-x.offsetTop-x.offsetHeight,De=Math.max(he,ue+(ve?te:0)+se+Y),Me=ge+De;u.style.height=Me+"px"}else{const ve=R.length>0&&y===R[0].ref.current;u.style.top="0px";const De=Math.max(ce,H+x.offsetTop+(ve?B:0)+ue)+W;u.style.height=De+"px",x.scrollTop=ge-ce+x.offsetTop}u.style.margin=`${Wn}px 0`,u.style.minHeight=Q+"px",u.style.maxHeight=L+"px",n?.(),requestAnimationFrame(()=>b.current=!0)}},[m,o.trigger,o.valueNode,u,f,x,y,j,o.dir,n]);_r(()=>S(),[S]);const[N,A]=z.useState();_r(()=>{f&&A(window.getComputedStyle(f).zIndex)},[f]);const O=z.useCallback(_=>{_&&w.current===!0&&(S(),k?.(),w.current=!1)},[S,k]);return a.jsx(zae,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:b,onScrollButtonChange:O,children:a.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:a.jsx(Je.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});k3.displayName=kae;var Cae="SelectPopperPosition",RS=z.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Wn,...o}=e,l=Rh(r);return a.jsx(yne,{...l,...o,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});RS.displayName=Cae;var[zae,fw]=_l(Oo,{}),IS="SelectViewport",C3=z.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,o=Hi(IS,r),l=fw(IS,r),u=Mt(t,o.onViewportChange),d=z.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Th.Slot,{scope:r,children:a.jsx(Je.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Qe(i.onScroll,f=>{const v=f.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=l;if(m?.current&&h){const b=Math.abs(d.current-v.scrollTop);if(b>0){const w=window.innerHeight-Wn*2,x=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),j=Math.max(x,y);if(j<w){const k=j+b,S=Math.min(w,k),N=k-S;h.style.height=S+"px",h.style.bottom==="0px"&&(v.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}d.current=v.scrollTop})})})]})});C3.displayName=IS;var z3="SelectGroup",[Aae,Nae]=_l(z3),Pae=z.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Oi();return a.jsx(Aae,{scope:r,id:i,children:a.jsx(Je.div,{role:"group","aria-labelledby":i,...n,ref:t})})});Pae.displayName=z3;var A3="SelectLabel",_ae=z.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Nae(A3,r);return a.jsx(Je.div,{id:i.id,...n,ref:t})});_ae.displayName=A3;var Mp="SelectItem",[Oae,N3]=_l(Mp),P3=z.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:o,...l}=e,u=Ui(Mp,r),d=Hi(Mp,r),f=u.value===n,[v,h]=z.useState(o??""),[m,b]=z.useState(!1),w=Mt(t,k=>d.itemRefCallback?.(k,n,i)),x=Oi(),y=z.useRef("touch"),j=()=>{i||(u.onValueChange(n),u.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Oae,{scope:r,value:n,disabled:i,textId:x,isSelected:f,onItemTextChange:z.useCallback(k=>{h(S=>S||(k?.textContent??"").trim())},[]),children:a.jsx(Th.ItemSlot,{scope:r,value:n,disabled:i,textValue:v,children:a.jsx(Je.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":f&&m,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:w,onFocus:Qe(l.onFocus,()=>b(!0)),onBlur:Qe(l.onBlur,()=>b(!1)),onClick:Qe(l.onClick,()=>{y.current!=="mouse"&&j()}),onPointerUp:Qe(l.onPointerUp,()=>{y.current==="mouse"&&j()}),onPointerDown:Qe(l.onPointerDown,k=>{y.current=k.pointerType}),onPointerMove:Qe(l.onPointerMove,k=>{y.current=k.pointerType,i?d.onItemLeave?.():y.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Qe(l.onPointerLeave,k=>{k.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Qe(l.onKeyDown,k=>{d.searchRef?.current!==""&&k.key===" "||(vae.includes(k.key)&&j(),k.key===" "&&k.preventDefault())})})})})});P3.displayName=Mp;var Oc="SelectItemText",_3=z.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...o}=e,l=Ui(Oc,r),u=Hi(Oc,r),d=N3(Oc,r),f=xae(Oc,r),[v,h]=z.useState(null),m=Mt(t,j=>h(j),d.onItemTextChange,j=>u.itemTextRefCallback?.(j,d.value,d.disabled)),b=v?.textContent,w=z.useMemo(()=>a.jsx("option",{value:d.value,disabled:d.disabled,children:b},d.value),[d.disabled,d.value,b]),{onNativeOptionAdd:x,onNativeOptionRemove:y}=f;return _r(()=>(x(w),()=>y(w)),[x,y,w]),a.jsxs(a.Fragment,{children:[a.jsx(Je.span,{id:d.textId,...o,ref:m}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Eu.createPortal(o.children,l.valueNode):null]})});_3.displayName=Oc;var O3="SelectItemIndicator",E3=z.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return N3(O3,r).isSelected?a.jsx(Je.span,{"aria-hidden":!0,...n,ref:t}):null});E3.displayName=O3;var MS="SelectScrollUpButton",T3=z.forwardRef((e,t)=>{const r=Hi(MS,e.__scopeSelect),n=fw(MS,e.__scopeSelect),[i,o]=z.useState(!1),l=Mt(t,n.onScrollButtonChange);return _r(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollTop>0;o(f)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?a.jsx(R3,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});T3.displayName=MS;var LS="SelectScrollDownButton",D3=z.forwardRef((e,t)=>{const r=Hi(LS,e.__scopeSelect),n=fw(LS,e.__scopeSelect),[i,o]=z.useState(!1),l=Mt(t,n.onScrollButtonChange);return _r(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollHeight-d.clientHeight,v=Math.ceil(d.scrollTop)<f;o(v)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?a.jsx(R3,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});D3.displayName=LS;var R3=z.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,o=Hi("SelectScrollButton",r),l=z.useRef(null),u=Dh(r),d=z.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return z.useEffect(()=>()=>d(),[d]),_r(()=>{u().find(v=>v.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),a.jsx(Je.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Qe(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:Qe(i.onPointerMove,()=>{o.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:Qe(i.onPointerLeave,()=>{d()})})}),Eae="SelectSeparator",Tae=z.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Je.div,{"aria-hidden":!0,...n,ref:t})});Tae.displayName=Eae;var BS="SelectArrow",Dae=z.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Rh(r),o=Ui(BS,r),l=Hi(BS,r);return o.open&&l.position==="popper"?a.jsx(xne,{...i,...n,ref:t}):null});Dae.displayName=BS;var Rae="SelectBubbleInput",I3=z.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=z.useRef(null),o=Mt(n,i),l=lI(t);return z.useEffect(()=>{const u=i.current;if(!u)return;const d=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&v){const h=new Event("change",{bubbles:!0});v.call(u,t),u.dispatchEvent(h)}},[l,t]),a.jsx(Je.select,{...r,style:{...a3,...r.style},ref:o,defaultValue:t})});I3.displayName=Rae;function M3(e){return e===""||e===void 0}function L3(e){const t=Ri(e),r=z.useRef(""),n=z.useRef(0),i=z.useCallback(l=>{const u=r.current+l;t(u),(function d(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(u)},[t]),o=z.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return z.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,o]}function B3(e,t,r){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let l=Iae(e,Math.max(o,0));i.length===1&&(l=l.filter(f=>f!==r));const d=l.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==r?d:void 0}function Iae(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Mae=h3,Lae=m3,Bae=y3,Fae=x3,Wae=b3,$ae=S3,Uae=C3,Hae=P3,Kae=_3,Gae=E3,Vae=T3,qae=D3;function FS({...e}){return a.jsx(Mae,{"data-slot":"select",...e})}function WS({...e}){return a.jsx(Bae,{"data-slot":"select-value",...e})}function $S({className:e,size:t="default",children:r,...n}){return a.jsxs(Lae,{"data-slot":"select-trigger","data-size":t,className:$t("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,a.jsx(Fae,{asChild:!0,children:a.jsx(To,{className:"size-4 opacity-50"})})]})}function US({className:e,children:t,position:r="popper",...n}){return a.jsx(Wae,{children:a.jsxs($ae,{"data-slot":"select-content",className:$t("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(Zae,{}),a.jsx(Uae,{className:$t("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),a.jsx(Xae,{})]})})}function So({className:e,children:t,...r}){return a.jsxs(Hae,{"data-slot":"select-item",className:$t("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx(Gae,{children:a.jsx(Za,{className:"size-4"})})}),a.jsx(Kae,{children:t})]})}function Zae({className:e,...t}){return a.jsx(Vae,{"data-slot":"select-scroll-up-button",className:$t("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(gE,{className:"size-4"})})}function Xae({className:e,...t}){return a.jsx(qae,{"data-slot":"select-scroll-down-button",className:$t("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(To,{className:"size-4"})})}var Yae=Symbol.for("react.lazy"),Lp=GS[" use ".trim().toString()];function Qae(e){return typeof e=="object"&&e!==null&&"then"in e}function F3(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Yae&&"_payload"in e&&Qae(e._payload)}function Jae(e){const t=eie(e),r=z.forwardRef((n,i)=>{let{children:o,...l}=n;F3(o)&&typeof Lp=="function"&&(o=Lp(o._payload));const u=z.Children.toArray(o),d=u.find(rie);if(d){const f=d.props.children,v=u.map(h=>h===d?z.Children.count(f)>1?z.Children.only(null):z.isValidElement(f)?f.props.children:null:h);return a.jsx(t,{...l,ref:i,children:z.isValidElement(f)?z.cloneElement(f,void 0,v):null})}return a.jsx(t,{...l,ref:i,children:o})});return r.displayName=`${e}.Slot`,r}var W3=Jae("Slot");function eie(e){const t=z.forwardRef((r,n)=>{let{children:i,...o}=r;if(F3(i)&&typeof Lp=="function"&&(i=Lp(i._payload)),z.isValidElement(i)){const l=aie(i),u=nie(o,i.props);return i.type!==z.Fragment&&(u.ref=n?kl(n,l):l),z.cloneElement(i,u)}return z.Children.count(i)>1?z.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var tie=Symbol("radix.slottable");function rie(e){return z.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===tie}function nie(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function aie(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const VO=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,qO=He,$3=(e,t)=>r=>{var n;if(t?.variants==null)return qO(e,r?.class,r?.className);const{variants:i,defaultVariants:o}=t,l=Object.keys(i).map(f=>{const v=r?.[f],h=o?.[f];if(v===null)return null;const m=VO(v)||VO(h);return i[f][m]}),u=r&&Object.entries(r).reduce((f,v)=>{let[h,m]=v;return m===void 0||(f[h]=m),f},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,v)=>{let{class:h,className:m,...b}=v;return Object.entries(b).every(w=>{let[x,y]=w;return Array.isArray(y)?y.includes({...o,...u}[x]):{...o,...u}[x]===y})?[...f,h,m]:f},[]);return qO(e,l,d,r?.class,r?.className)},iie=$3("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Fn({className:e,variant:t,size:r,asChild:n=!1,...i}){const o=n?W3:"button";return a.jsx(o,{"data-slot":"button",className:$t(iie({variant:t,size:r,className:e})),...i})}const oie=$3("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function U3({className:e,variant:t,asChild:r=!1,...n}){const i=r?W3:"span";return a.jsx(i,{"data-slot":"badge",className:$t(oie({variant:t}),e),...n})}function sie(e){const t=lie(e),r=z.forwardRef((n,i)=>{const{children:o,...l}=n,u=z.Children.toArray(o),d=u.find(uie);if(d){const f=d.props.children,v=u.map(h=>h===d?z.Children.count(f)>1?z.Children.only(null):z.isValidElement(f)?f.props.children:null:h);return a.jsx(t,{...l,ref:i,children:z.isValidElement(f)?z.cloneElement(f,void 0,v):null})}return a.jsx(t,{...l,ref:i,children:o})});return r.displayName=`${e}.Slot`,r}function lie(e){const t=z.forwardRef((r,n)=>{const{children:i,...o}=r;if(z.isValidElement(i)){const l=fie(i),u=die(o,i.props);return i.type!==z.Fragment&&(u.ref=n?kl(n,l):l),z.cloneElement(i,u)}return z.Children.count(i)>1?z.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cie=Symbol("radix.slottable");function uie(e){return z.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cie}function die(e,t){const r={...t};for(const n in t){const i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...u)=>{const d=o(...u);return i(...u),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function fie(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ih="Dialog",[H3]=Lo(Ih),[pie,Yn]=H3(Ih),K3=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,u=z.useRef(null),d=z.useRef(null),[f,v]=ul({prop:n,defaultProp:i??!1,onChange:o,caller:Ih});return a.jsx(pie,{scope:t,triggerRef:u,contentRef:d,contentId:Oi(),titleId:Oi(),descriptionId:Oi(),open:f,onOpenChange:v,onOpenToggle:z.useCallback(()=>v(h=>!h),[v]),modal:l,children:r})};K3.displayName=Ih;var G3="DialogTrigger",hie=z.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Yn(G3,r),o=Mt(t,i.triggerRef);return a.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":vw(i.open),...n,ref:o,onClick:Qe(e.onClick,i.onOpenToggle)})});hie.displayName=G3;var pw="DialogPortal",[vie,V3]=H3(pw,{forceMount:void 0}),q3=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,o=Yn(pw,t);return a.jsx(vie,{scope:t,forceMount:r,children:z.Children.map(n,l=>a.jsx(Cl,{present:r||o.open,children:a.jsx(uw,{asChild:!0,container:i,children:l})}))})};q3.displayName=pw;var Bp="DialogOverlay",Z3=z.forwardRef((e,t)=>{const r=V3(Bp,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,o=Yn(Bp,e.__scopeDialog);return o.modal?a.jsx(Cl,{present:n||o.open,children:a.jsx(gie,{...i,ref:t})}):null});Z3.displayName=Bp;var mie=sie("DialogOverlay.RemoveScroll"),gie=z.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Yn(Bp,r);return a.jsx(dw,{as:mie,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(Je.div,{"data-state":vw(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Eo="DialogContent",X3=z.forwardRef((e,t)=>{const r=V3(Eo,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,o=Yn(Eo,e.__scopeDialog);return a.jsx(Cl,{present:n||o.open,children:o.modal?a.jsx(yie,{...i,ref:t}):a.jsx(xie,{...i,ref:t})})});X3.displayName=Eo;var yie=z.forwardRef((e,t)=>{const r=Yn(Eo,e.__scopeDialog),n=z.useRef(null),i=Mt(t,r.contentRef,n);return z.useEffect(()=>{const o=n.current;if(o)return o3(o)},[]),a.jsx(Y3,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Qe(e.onCloseAutoFocus,o=>{o.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Qe(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&o.preventDefault()}),onFocusOutside:Qe(e.onFocusOutside,o=>o.preventDefault())})}),xie=z.forwardRef((e,t)=>{const r=Yn(Eo,e.__scopeDialog),n=z.useRef(!1),i=z.useRef(!1);return a.jsx(Y3,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;r.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),Y3=z.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,...l}=e,u=Yn(Eo,r),d=z.useRef(null),f=Mt(t,d);return DI(),a.jsxs(a.Fragment,{children:[a.jsx(tw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:a.jsx(ew,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":vw(u.open),...l,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(bie,{titleId:u.titleId}),a.jsx(wie,{contentRef:d,descriptionId:u.descriptionId})]})]})}),hw="DialogTitle",Q3=z.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Yn(hw,r);return a.jsx(Je.h2,{id:i.titleId,...n,ref:t})});Q3.displayName=hw;var J3="DialogDescription",e5=z.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Yn(J3,r);return a.jsx(Je.p,{id:i.descriptionId,...n,ref:t})});e5.displayName=J3;var t5="DialogClose",r5=z.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Yn(t5,r);return a.jsx(Je.button,{type:"button",...n,ref:t,onClick:Qe(e.onClick,()=>i.onOpenChange(!1))})});r5.displayName=t5;function vw(e){return e?"open":"closed"}var n5="DialogTitleWarning",[Zoe,a5]=qJ(n5,{contentName:Eo,titleName:hw,docsSlug:"dialog"}),bie=({titleId:e})=>{const t=a5(n5),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return z.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Sie="DialogDescriptionWarning",wie=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a5(Sie).contentName}}.`;return z.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},jie=K3,kie=q3,i5=Z3,Cie=X3,zie=Q3,Aie=e5,Nie=r5;function ZO({...e}){return a.jsx(jie,{"data-slot":"dialog",...e})}function Pie({...e}){return a.jsx(kie,{"data-slot":"dialog-portal",...e})}const o5=z.forwardRef(({className:e,...t},r)=>a.jsx(i5,{ref:r,"data-slot":"dialog-overlay",className:$t("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));o5.displayName=i5.displayName;function XO({className:e,children:t,...r}){return a.jsxs(Pie,{"data-slot":"dialog-portal",children:[a.jsx(o5,{}),a.jsxs(Cie,{"data-slot":"dialog-content",className:$t("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,a.jsxs(Nie,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(Et,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function YO({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-header",className:$t("flex flex-col gap-2 text-center sm:text-left",e),...t})}function QO({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-footer",className:$t("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function JO({className:e,...t}){return a.jsx(zie,{"data-slot":"dialog-title",className:$t("text-lg leading-none font-semibold",e),...t})}function eE({className:e,...t}){return a.jsx(Aie,{"data-slot":"dialog-description",className:$t("text-muted-foreground text-sm",e),...t})}var Zb="rovingFocusGroup.onEntryFocus",_ie={bubbles:!1,cancelable:!0},Iu="RovingFocusGroup",[HS,s5,Oie]=OI(Iu),[Eie,l5]=Lo(Iu,[Oie]),[Tie,Die]=Eie(Iu),c5=z.forwardRef((e,t)=>a.jsx(HS.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(HS.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Rie,{...e,ref:t})})}));c5.displayName=Iu;var Rie=z.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:v=!1,...h}=e,m=z.useRef(null),b=Mt(t,m),w=J1(o),[x,y]=ul({prop:l,defaultProp:u??null,onChange:d,caller:Iu}),[j,k]=z.useState(!1),S=Ri(f),N=s5(r),A=z.useRef(!1),[O,_]=z.useState(0);return z.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(Zb,S),()=>E.removeEventListener(Zb,S)},[S]),a.jsx(Tie,{scope:r,orientation:n,dir:w,loop:i,currentTabStopId:x,onItemFocus:z.useCallback(E=>y(E),[y]),onItemShiftTab:z.useCallback(()=>k(!0),[]),onFocusableItemAdd:z.useCallback(()=>_(E=>E+1),[]),onFocusableItemRemove:z.useCallback(()=>_(E=>E-1),[]),children:a.jsx(Je.div,{tabIndex:j||O===0?-1:0,"data-orientation":n,...h,ref:b,style:{outline:"none",...e.style},onMouseDown:Qe(e.onMouseDown,()=>{A.current=!0}),onFocus:Qe(e.onFocus,E=>{const T=!A.current;if(E.target===E.currentTarget&&T&&!j){const I=new CustomEvent(Zb,_ie);if(E.currentTarget.dispatchEvent(I),!I.defaultPrevented){const R=N().filter(Z=>Z.focusable),L=R.find(Z=>Z.active),M=R.find(Z=>Z.id===x),H=[L,M,...R].filter(Boolean).map(Z=>Z.ref.current);f5(H,v)}}A.current=!1}),onBlur:Qe(e.onBlur,()=>k(!1))})})}),u5="RovingFocusGroupItem",d5=z.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:o,children:l,...u}=e,d=Oi(),f=o||d,v=Die(u5,r),h=v.currentTabStopId===f,m=s5(r),{onFocusableItemAdd:b,onFocusableItemRemove:w,currentTabStopId:x}=v;return z.useEffect(()=>{if(n)return b(),()=>w()},[n,b,w]),a.jsx(HS.ItemSlot,{scope:r,id:f,focusable:n,active:i,children:a.jsx(Je.span,{tabIndex:h?0:-1,"data-orientation":v.orientation,...u,ref:t,onMouseDown:Qe(e.onMouseDown,y=>{n?v.onItemFocus(f):y.preventDefault()}),onFocus:Qe(e.onFocus,()=>v.onItemFocus(f)),onKeyDown:Qe(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){v.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const j=Lie(y,v.orientation,v.dir);if(j!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let S=m().filter(N=>N.focusable).map(N=>N.ref.current);if(j==="last")S.reverse();else if(j==="prev"||j==="next"){j==="prev"&&S.reverse();const N=S.indexOf(y.currentTarget);S=v.loop?Bie(S,N+1):S.slice(N+1)}setTimeout(()=>f5(S))}}),children:typeof l=="function"?l({isCurrentTabStop:h,hasTabStop:x!=null}):l})})});d5.displayName=u5;var Iie={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Mie(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Lie(e,t,r){const n=Mie(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Iie[n]}function f5(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Bie(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Fie=c5,Wie=d5,Mh="Tabs",[$ie]=Lo(Mh,[l5]),p5=l5(),[Uie,mw]=$ie(Mh),h5=z.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:o,orientation:l="horizontal",dir:u,activationMode:d="automatic",...f}=e,v=J1(u),[h,m]=ul({prop:n,onChange:i,defaultProp:o??"",caller:Mh});return a.jsx(Uie,{scope:r,baseId:Oi(),value:h,onValueChange:m,orientation:l,dir:v,activationMode:d,children:a.jsx(Je.div,{dir:v,"data-orientation":l,...f,ref:t})})});h5.displayName=Mh;var v5="TabsList",m5=z.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,o=mw(v5,r),l=p5(r);return a.jsx(Fie,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:n,children:a.jsx(Je.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})});m5.displayName=v5;var g5="TabsTrigger",y5=z.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...o}=e,l=mw(g5,r),u=p5(r),d=S5(l.baseId,n),f=w5(l.baseId,n),v=n===l.value;return a.jsx(Wie,{asChild:!0,...u,focusable:!i,active:v,children:a.jsx(Je.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":f,"data-state":v?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...o,ref:t,onMouseDown:Qe(e.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?l.onValueChange(n):h.preventDefault()}),onKeyDown:Qe(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&l.onValueChange(n)}),onFocus:Qe(e.onFocus,()=>{const h=l.activationMode!=="manual";!v&&!i&&h&&l.onValueChange(n)})})})});y5.displayName=g5;var x5="TabsContent",b5=z.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:o,...l}=e,u=mw(x5,r),d=S5(u.baseId,n),f=w5(u.baseId,n),v=n===u.value,h=z.useRef(v);return z.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(Cl,{present:i||v,children:({present:m})=>a.jsx(Je.div,{"data-state":v?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!m,id:f,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&o})})});b5.displayName=x5;function S5(e,t){return`${e}-trigger-${t}`}function w5(e,t){return`${e}-content-${t}`}var Hie=h5,Kie=m5,Gie=y5,Vie=b5;function qie({className:e,...t}){return a.jsx(Hie,{"data-slot":"tabs",className:$t("flex flex-col gap-2",e),...t})}function Zie({className:e,...t}){return a.jsx(Kie,{"data-slot":"tabs-list",className:$t("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function tE({className:e,...t}){return a.jsx(Gie,{"data-slot":"tabs-trigger",className:$t("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function rE({className:e,...t}){return a.jsx(Vie,{"data-slot":"tabs-content",className:$t("flex-1 outline-none",e),...t})}function Xie({...e}){return a.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...e})}function Yie({className:e,...t}){return a.jsx("ol",{"data-slot":"breadcrumb-list",className:$t("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",e),...t})}function nE({className:e,...t}){return a.jsx("li",{"data-slot":"breadcrumb-item",className:$t("inline-flex items-center gap-1.5",e),...t})}function Qie({className:e,...t}){return a.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:$t("text-foreground font-normal",e),...t})}function Jie({children:e,className:t,...r}){return a.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:$t("[&>svg]:size-3.5",t),...r,children:e??a.jsx(dn,{})})}const Rr={Schuhe:"#2563eb",Taschen:"#10b981",Accessoires:"#f59e0b",Mode:"#8b5cf6",Schmuck:"#ec4899",Seasonal:"#06b6d4",Promotion:"#f97316","Core Range":"#6366f1"};function eoe({store:e,placedFixtures:t}){const[r,n]=z.useState(null),[i,o]=z.useState(null),[l,u]=z.useState("product-groups"),d=t.map(j=>{if(j.productGroupDistribution)return j;const k=[],S=j.assignedCategory||"Mode",N=Rr[S]||"#2563eb";return S==="Mode"?k.push({productGroup:"Schuhe",area:j.capacity*.6,percentage:60,color:Rr.Schuhe,targetPercentage:55,deviation:5},{productGroup:"Accessoires",area:j.capacity*.4,percentage:40,color:Rr.Accessoires,targetPercentage:45,deviation:-5}):S==="Accessoires"?k.push({productGroup:"Taschen",area:j.capacity*.5,percentage:50,color:Rr.Taschen,targetPercentage:50,deviation:0},{productGroup:"Accessoires",area:j.capacity*.3,percentage:30,color:Rr.Accessoires,targetPercentage:30,deviation:0},{productGroup:"Schmuck",area:j.capacity*.2,percentage:20,color:Rr.Schmuck,targetPercentage:20,deviation:0}):S==="Seasonal"?k.push({productGroup:"Seasonal",area:j.capacity*.7,percentage:70,color:Rr.Seasonal,targetPercentage:60,deviation:10},{productGroup:"Promotion",area:j.capacity*.3,percentage:30,color:Rr.Promotion,targetPercentage:40,deviation:-10}):S==="Core Range"?k.push({productGroup:"Schuhe",area:j.capacity*.35,percentage:35,color:Rr.Schuhe,targetPercentage:30,deviation:5},{productGroup:"Mode",area:j.capacity*.35,percentage:35,color:Rr.Mode,targetPercentage:40,deviation:-5},{productGroup:"Taschen",area:j.capacity*.3,percentage:30,color:Rr.Taschen,targetPercentage:30,deviation:0}):S==="Schmuck"?k.push({productGroup:"Schmuck",area:j.capacity*.8,percentage:80,color:Rr.Schmuck,targetPercentage:75,deviation:5},{productGroup:"Accessoires",area:j.capacity*.2,percentage:20,color:Rr.Accessoires,targetPercentage:25,deviation:-5}):S==="Promotion"?k.push({productGroup:"Promotion",area:j.capacity*.6,percentage:60,color:Rr.Promotion,targetPercentage:50,deviation:10},{productGroup:"Seasonal",area:j.capacity*.4,percentage:40,color:Rr.Seasonal,targetPercentage:50,deviation:-10}):k.push({productGroup:S,area:j.capacity*1,percentage:100,color:N,targetPercentage:100,deviation:0}),{...j,productGroupDistribution:k}}),f=d.reduce((j,k)=>(k.productGroupDistribution?.forEach(S=>{const N=j.find(A=>A.productGroup===S.productGroup);N?N.area+=S.area:j.push({productGroup:S.productGroup,area:S.area,percentage:0,color:S.color,targetPercentage:S.targetPercentage,deviation:0})}),j),[]),v=f.reduce((j,k)=>j+k.area,0);f.forEach(j=>{j.percentage=v>0?j.area/v*100:0});const h=d.map(j=>{const k=j.productGroupDistribution?.reduce((A,O)=>A+Math.abs(O.deviation||0),0)||0,S=Math.max(...j.productGroupDistribution?.map(A=>Math.abs(A.deviation||0))||[0]),N={name:`${j.fixtureType} ${j.id.substring(0,6)}`,fixtureId:j.id,deviation:S,totalDeviation:k};return j.productGroupDistribution?.forEach(A=>{N[A.productGroup]=A.percentage}),N}).filter(j=>j.deviation>=5).sort((j,k)=>k.deviation-j.deviation).slice(0,10),m=d.reduce((j,k)=>j+k.capacity,0),w=(e.layout?.usableArea||0)-m,x=h.length,y=r?d.find(j=>j.id===r):null;return a.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[a.jsx("div",{className:"p-4 rounded-lg border mb-6",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)"},children:a.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[a.jsxs("div",{className:"flex-1 min-w-[300px]",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Filiale"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:e.name})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Zeitraum"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"KW 50-52, 2024"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Planungsebene"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Produktgruppe"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-1)"},children:"Datenbasis"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Prognose + Allokation"})]})]}),a.jsx("div",{className:"mt-3 p-2 rounded",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Die Verteilung basiert auf der aktuellen SOLL-Kapazitt und Prognose."})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Belegte Flche"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:[m.toFixed(1)," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Freie Flche"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:w<0?"var(--status-danger)":w<10?"var(--status-warning)":"var(--status-success)"},children:[w.toFixed(1)," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"ber-/Unterdeckung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:Math.abs(w)>10?"var(--status-warning)":"var(--status-success)"},children:[w>0?"+":"",w.toFixed(1)," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Warentrger m. Konflikt"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:x>0?"var(--status-warning)":"var(--status-success)"},children:x})]})]}),a.jsx("div",{className:"flex gap-2 ml-auto",children:a.jsxs(FS,{value:l,onValueChange:j=>u(j),children:[a.jsx($S,{className:"w-[200px]",children:a.jsx(WS,{})}),a.jsxs(US,{children:[a.jsx(So,{value:"aggregated",children:"Aggregiert"}),a.jsx(So,{value:"product-groups",children:"Nach Produktgruppen"}),a.jsx(So,{value:"hierarchy",children:"Nach Hierarchieebene"})]})]})})]})}),a.jsxs("div",{className:"flex-1 flex gap-6 min-h-0",children:[a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsxs("div",{className:"relative rounded-lg border flex-1 mb-6 overflow-auto",style:{backgroundColor:"#ffffff",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",minHeight:`${(e.layout?.height||500)+60}px`},children:[a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"linear-gradient(var(--border-subtle) 1px, transparent 1px), linear-gradient(90deg, var(--border-subtle) 1px, transparent 1px)",backgroundSize:"20px 20px"}}),a.jsxs("div",{className:"absolute border-2",style:{left:"20px",top:"20px",width:`${e.layout?.width||700}px`,height:`${(e.layout?.height||500)+20}px`,borderColor:"var(--text-primary)",borderStyle:"solid"},children:[e.layout?.aisles.map((j,k)=>a.jsx("div",{className:"absolute",style:{left:`${j.x}px`,top:`${j.y}px`,width:`${j.width}px`,height:`${j.height}px`,backgroundColor:"#e5e5e5",opacity:.5}},k)),e.layout?.zones.map((j,k)=>a.jsxs("div",{className:"absolute flex items-center justify-center",style:{left:`${j.x}px`,top:`${j.y}px`,width:`${j.width}px`,height:`${j.height}px`,backgroundColor:j.type==="emergency"?"#fee2e2":j.type==="cashier"?"#dbeafe":j.type==="window"?"#fef3c7":"#e0e7ff",border:j.type==="emergency"?"2px solid var(--status-danger)":"1px solid var(--border-default)",borderRadius:"var(--radius-sm)",fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[j.type==="emergency"&&a.jsx("span",{style:{fontSize:"20px"},children:""}),j.type==="cashier"&&a.jsx("span",{style:{fontSize:"20px"},children:""}),j.type==="window"&&a.jsx("span",{style:{fontSize:"20px"},children:""}),j.type==="storage"&&a.jsx("span",{style:{fontSize:"20px"},children:""})]},`zone-${k}`)),d.map(j=>{const k=i===j.id,S=r===j.id;return a.jsxs("div",{className:"absolute cursor-pointer border-2 transition-all overflow-hidden",style:{left:`${j.x}px`,top:`${j.y}px`,width:`${j.rotation%180===90?j.height:j.width}px`,height:`${j.rotation%180===90?j.width:j.height}px`,borderColor:S?"var(--brand-primary)":k?"var(--status-warning)":"var(--border-default)",borderRadius:"var(--radius-sm)",borderWidth:S?"3px":"2px",boxShadow:k?"var(--shadow-md)":void 0},onClick:()=>n(j.id),onMouseEnter:()=>o(j.id),onMouseLeave:()=>o(null),children:[l==="product-groups"&&j.productGroupDistribution&&a.jsx("div",{className:"h-full flex",children:j.productGroupDistribution.map((N,A)=>a.jsx("div",{style:{flex:N.percentage,backgroundColor:N.color,opacity:.7},title:`${N.productGroup}: ${N.percentage.toFixed(0)}%`},A))}),l==="aggregated"&&a.jsx("div",{className:"h-full",style:{backgroundColor:"var(--surface-subtle-tint)"}}),a.jsxs("div",{className:"absolute top-0 right-0 px-1.5 py-0.5 rounded-bl",style:{backgroundColor:"rgba(0, 0, 0, 0.7)",fontSize:"var(--font-size-xs)",color:"white",lineHeight:"1.2"},children:[a.jsx("div",{children:"IST: 100%"}),a.jsx("div",{style:{opacity:.8},children:"SOLL: 100%"})]}),h.some(N=>N.fixtureId===j.id)&&a.jsx("div",{className:"absolute top-0 left-0 p-1",style:{color:"var(--status-warning)"},children:a.jsx(aa,{size:14})})]},j.id)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",height:"350px"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Flchenanteile nach Produktgruppe"}),a.jsx("div",{style:{width:"100%",height:"280px"},children:a.jsx(Yt,{width:"100%",height:280,minWidth:0,minHeight:0,children:a.jsxs(oI,{children:[a.jsx(ma,{data:f,cx:"50%",cy:"50%",labelLine:!1,label:j=>`${j.productGroup}: ${j.percentage.toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"area",nameKey:"productGroup",children:f.map((j,k)=>a.jsx(gl,{fill:j.color},`cell-${k}`))}),a.jsx(st,{formatter:j=>`${j.toFixed(1)} m`}),a.jsx(zt,{})]})})})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",height:"350px"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Warentrgersegmentierung"}),a.jsx("div",{style:{width:"100%",height:"280px"},children:a.jsx(Yt,{width:"100%",height:280,minWidth:0,minHeight:0,children:a.jsxs(Pr,{data:h,layout:"vertical",children:[a.jsx(Kn,{strokeDasharray:"3 3"}),a.jsx(bt,{type:"number",domain:[0,100],ticks:[0,10,20,30,40,50,60,70,80,90,100],label:{value:"%",position:"insideRight"}}),a.jsx(St,{dataKey:"name",type:"category",width:120,style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{formatter:j=>`${j.toFixed(1)}%`}),a.jsx(zt,{}),f.map(j=>a.jsx(Ie,{dataKey:j.productGroup,stackId:"a",fill:j.color},j.productGroup))]})})})]})]}),a.jsxs("div",{className:"rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)"},children:[a.jsx("div",{className:"p-4 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)"},children:"Sortimentsverteilung (Warentrger)"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{backgroundColor:"var(--surface-alt)",borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Warentrger"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Zone"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Kapazitt (m)"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Belegte Flche (m)"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Hauptproduktgruppe"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Offene Flche (m)"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Status"})]})}),a.jsx("tbody",{children:d.map((j,k)=>{const S=j.productGroupDistribution?.[0],N=j.productGroupDistribution?.reduce((_,E)=>_+E.area,0)||0,A=j.capacity-N;let O;return A===0?O="success":A<0?O="danger":O="warning",a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)",backgroundColor:i===j.id?"var(--surface-subtle-tint)":void 0,cursor:"pointer"},onClick:()=>o(j.id),onMouseEnter:()=>o(j.id),onMouseLeave:()=>o(null),children:[a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:j.fixtureType}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:"Verkaufsflche"}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:j.capacity.toFixed(1)}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:N.toFixed(1)}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:S?.productGroup||"-"}),a.jsxs("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:[A>0?"+":"",A.toFixed(1)]}),a.jsx("td",{className:"p-3",children:a.jsx(U3,{variant:O==="success"?"default":"secondary",style:{backgroundColor:O==="danger"?"var(--status-danger)":O==="warning"?"var(--status-warning)":"var(--status-success)",color:"white"},children:O==="success"?"OK":O==="warning"?"Warnung":"Konflikt"})})]},k)})})]})})]}),a.jsxs("div",{className:"mt-4 p-3 rounded-lg border flex items-start gap-3",style:{backgroundColor:"var(--surface-subtle-tint)",borderColor:"var(--border-default)"},children:[a.jsx(aa,{size:20,style:{color:"var(--brand-primary)",flexShrink:0,marginTop:"2px"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"2px"},children:"Bezug zur Kapazittsplanung"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Diese Analyse erklrt, wie sich die gewhlte Artikelhierarchie auf die belegte Flche verteilt. Anpassungen erfolgen ber: SOLL-Kapazitt, Prognose, Allokationsparameter"})]})]})]}),y&&a.jsxs("div",{className:"w-[350px] rounded-lg border p-4 overflow-y-auto",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",maxHeight:"calc(100vh - 300px)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)"},children:"Warentrger  Sortimentsverteilung"}),a.jsx(Fn,{variant:"ghost",size:"sm",onClick:()=>n(null),children:a.jsx(Et,{size:16})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)",textTransform:"uppercase",color:"var(--text-muted)"},children:"Kapazitt"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Kapazitt gesamt"}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[y.capacity.toFixed(1)," m"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Belegte Flche"}),a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[y.capacity.toFixed(1)," m"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Freie Flche"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"0.0 m"})]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)",textTransform:"uppercase",color:"var(--text-muted)"},children:"Verteilung"}),a.jsx("div",{className:"border rounded",style:{borderColor:"var(--border-default)"},children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{backgroundColor:"var(--surface-alt)",borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{className:"text-left p-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Produktgruppe"}),a.jsx("th",{className:"text-right p-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Flche"}),a.jsx("th",{className:"text-right p-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"IST"}),a.jsx("th",{className:"text-right p-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"SOLL"}),a.jsx("th",{className:"text-right p-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:""})]})}),a.jsx("tbody",{children:y.productGroupDistribution?.map((j,k)=>a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{className:"p-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"2px",backgroundColor:j.color}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:j.productGroup})]})}),a.jsxs("td",{className:"text-right p-2",style:{fontSize:"var(--font-size-sm)"},children:[j.area.toFixed(1)," m"]}),a.jsxs("td",{className:"text-right p-2",style:{fontSize:"var(--font-size-sm)"},children:[j.percentage.toFixed(0),"%"]}),a.jsxs("td",{className:"text-right p-2",style:{fontSize:"var(--font-size-sm)"},children:[j.targetPercentage?.toFixed(0),"%"]}),a.jsxs("td",{className:"text-right p-2",style:{fontSize:"var(--font-size-sm)",color:Math.abs(j.deviation||0)>5?"var(--status-danger)":"var(--status-success)"},children:[(j.deviation||0)>0?"+":"",j.deviation?.toFixed(0),"%"]})]},k))})]})})]}),a.jsxs("div",{children:[a.jsx("h4",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)",textTransform:"uppercase",color:"var(--text-muted)"},children:"Bewertung"}),a.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:h.some(j=>j.fixtureId===y.id)?"rgba(251, 191, 36, 0.1)":"rgba(34, 197, 94, 0.1)",border:`1px solid ${h.some(j=>j.fixtureId===y.id)?"var(--status-warning)":"var(--status-success)"}`},children:[a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-1)"},children:["Status: ",h.some(j=>j.fixtureId===y.id)?"Abweichung vorhanden":"OK"]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Abweichungen wirken sich auf die Allokationskrzungen aus."})]})]})]})]})]})}const Xb=[{id:"F001",name:"BLICK Zrich Hauptbahnhof",city:"Zrich",region:"Zrich",hasLayout:!0,layout:{width:700,height:500,totalArea:180,usableArea:150,aisles:[{x:0,y:200,width:700,height:80,orientation:"horizontal"},{x:150,y:0,width:60,height:520,orientation:"vertical"},{x:490,y:0,width:60,height:520,orientation:"vertical"}],zones:[{type:"emergency",x:660,y:210,width:40,height:80},{type:"cashier",x:0,y:420,width:140,height:100},{type:"window",x:0,y:0,width:140,height:60},{type:"storage",x:560,y:420,width:140,height:100}]}},{id:"F002",name:"BLICK Basel Marktplatz",city:"Basel",region:"Basel-Stadt",hasLayout:!0,layout:{width:600,height:450,totalArea:145,usableArea:120,aisles:[{x:0,y:150,width:600,height:70,orientation:"horizontal"},{x:280,y:0,width:70,height:470,orientation:"vertical"}],zones:[{type:"emergency",x:560,y:155,width:40,height:60},{type:"cashier",x:0,y:360,width:120,height:110},{type:"window",x:0,y:0,width:270,height:50},{type:"storage",x:480,y:360,width:120,height:110}]}},{id:"F003",name:"BLICK Bern Waisenhausplatz",city:"Bern",region:"Bern",hasLayout:!1,layout:{width:550,height:400,totalArea:125,usableArea:105,aisles:[{x:0,y:130,width:550,height:60,orientation:"horizontal"},{x:0,y:270,width:550,height:60,orientation:"horizontal"}],zones:[{type:"emergency",x:510,y:170,width:40,height:60},{type:"cashier",x:0,y:340,width:150,height:80},{type:"window",x:0,y:0,width:200,height:50}]}},{id:"F004",name:"BLICK Luzern Pilatusstrasse",city:"Luzern",region:"Luzern",hasLayout:!0,layout:{width:800,height:520,totalArea:210,usableArea:175,aisles:[{x:0,y:170,width:800,height:70,orientation:"horizontal"},{x:0,y:340,width:800,height:70,orientation:"horizontal"},{x:200,y:0,width:70,height:540,orientation:"vertical"},{x:530,y:0,width:70,height:540,orientation:"vertical"}],zones:[{type:"emergency",x:760,y:220,width:40,height:80},{type:"cashier",x:0,y:420,width:190,height:120},{type:"window",x:0,y:0,width:190,height:70},{type:"storage",x:610,y:420,width:190,height:120}]}},{id:"F005",name:"BLICK St. Gallen Marktgasse",city:"St. Gallen",region:"St. Gallen",hasLayout:!1,layout:{width:650,height:480,totalArea:160,usableArea:135,aisles:[{x:0,y:200,width:650,height:80,orientation:"horizontal"},{x:285,y:0,width:80,height:500,orientation:"vertical"}],zones:[{type:"emergency",x:610,y:210,width:40,height:70},{type:"cashier",x:0,y:390,width:140,height:110},{type:"window",x:0,y:0,width:275,height:60},{type:"storage",x:510,y:390,width:140,height:110}]}}],aE=[{id:"gondola",type:"Gondel",icon:"",capacity:4.8,preferredCategory:"Mode"},{id:"wallshelf",type:"Wandregal",icon:"",capacity:3.2,preferredCategory:"Accessoires"},{id:"table",type:"Tisch",icon:"",capacity:2.4,preferredCategory:"Promotion"},{id:"actionarea",type:"Aktionsflche",icon:"",capacity:6,preferredCategory:"Seasonal"},{id:"backwall",type:"Rckwand",icon:"",capacity:8,preferredCategory:"Core Range"},{id:"hookwall",type:"Hakenwand",icon:"",capacity:5.6,preferredCategory:"Schmuck"},{id:"checkout",type:"Kassenmodul",icon:"",capacity:1.2}],toe=[{id:"aisle",type:"Gang",icon:"",isFixed:!0},{id:"emergency",type:"Notausgang",icon:"",isFixed:!0},{id:"cashier",type:"Kasse",icon:"",isFixed:!0},{id:"window",type:"Schaufenster",icon:"",isFixed:!0},{id:"storage",type:"Lagerzugang",icon:"",isFixed:!0}];function roe({onNavigate:e}){const[t,r]=z.useState(Xb[0].id),[n,i]=z.useState(!1),[o,l]=z.useState(!1),[u,d]=z.useState([]),[f,v]=z.useState(null),[h,m]=z.useState(null),[b,w]=z.useState(null),[x,y]=z.useState({x:0,y:0}),[j,k]=z.useState(!1),S=Xb.find(F=>F.id===t),N=F=>{r(F),d([]),v(null),k(!1)},O=(()=>{const F=u.reduce((Q,U)=>Q+U.capacity,0);return{totalArea:S?.layout?.totalArea||0,usableArea:S?.layout?.usableArea||0,occupiedArea:F,freeArea:S?.layout?.usableArea?S.layout.usableArea-F:0,capacityImpact:F-120}})(),_=()=>O.freeArea<0?"var(--status-danger)":O.freeArea<10?"var(--status-warning)":"var(--status-success)",E=F=>{m(F),w(null)},T=(F,Q)=>{if(!u.find(he=>he.id===Q))return;const B=F.target.getBoundingClientRect(),te=F.clientX-B.left,ce=F.clientY-B.top;y({x:te,y:ce}),w(Q),m(null),F.dataTransfer&&(F.dataTransfer.effectAllowed="move")},I=F=>{F.preventDefault(),F.dataTransfer&&(F.dataTransfer.dropEffect=b?"move":"copy")},R=F=>{F.preventDefault();const Q=F.currentTarget.getBoundingClientRect(),U=S?.layout;if(!U)return;const B=F.clientX-Q.left-20-(b?x.x:40),te=F.clientY-Q.top-20-(b?x.y:20);if(b){const ce=u.find(ae=>ae.id===b);if(!ce)return;const he=U.width-ce.width,ue=U.height-ce.height;d(u.map(ae=>ae.id===b?{...ae,x:Math.max(0,Math.min(B,he)),y:Math.max(0,Math.min(te,ue))}:ae)),w(null),k(!0)}else if(h){const ce=aE.find(ge=>ge.type===h);if(!ce)return;const he=U.width-100,ue=U.height-40,ae={id:Date.now().toString(),fixtureType:h,x:Math.max(0,Math.min(B,he)),y:Math.max(0,Math.min(te,ue)),width:100,height:40,rotation:0,capacity:ce.capacity,assignedCategory:ce.preferredCategory};d([...u,ae]),m(null),k(!0)}},L=F=>{d(u.map(Q=>Q.id===F?{...Q,rotation:(Q.rotation+90)%360}:Q)),k(!0)},M=F=>{d(u.filter(Q=>Q.id!==F)),v(null),k(!0)},q=()=>{k(!1),alert("Layout erfolgreich gespeichert!")},H=()=>{k(!1),alert("nderungen verworfen")},Z=()=>{l(!0)},Y=()=>{if(!S?.layout)return;const F=S.layout,Q=8,U=[];let B=1;const te=(Ge,qe,ht,ut)=>{for(const nt of F.aisles)if(!(Ge+ht<=nt.x||Ge>=nt.x+nt.width||qe+ut<=nt.y||qe>=nt.y+nt.height))return!0;for(const nt of F.zones)if(!(Ge+ht<=nt.x||Ge>=nt.x+nt.width||qe+ut<=nt.y||qe>=nt.y+nt.height))return!0;return!1},ce=(Ge,qe,ht,ut)=>{for(const nt of U)if(!(Ge+ht+Q<=nt.x||Ge>=nt.x+nt.width+Q||qe+ut+Q<=nt.y||qe>=nt.y+nt.height+Q))return!0;return!1},he=(Ge,qe,ht,ut)=>!(Ge<0||qe<0||Ge+ht>F.width||qe+ut>F.height||te(Ge,qe,ht,ut)||ce(Ge,qe,ht,ut)),ue=(Ge,qe)=>{const ht=[{startX:0,startY:0,rotation:0,scanAxis:"x",maxScan:F.width-Ge,checkWidth:Ge,checkHeight:qe},{startX:0,startY:F.height-qe,rotation:0,scanAxis:"x",maxScan:F.width-Ge,checkWidth:Ge,checkHeight:qe},{startX:0,startY:0,rotation:90,scanAxis:"y",maxScan:F.height-Ge,checkWidth:qe,checkHeight:Ge},{startX:F.width-qe,startY:0,rotation:90,scanAxis:"y",maxScan:F.height-Ge,checkWidth:qe,checkHeight:Ge}];for(const ut of ht)if(!(ut.maxScan<0))for(let gr=0;gr<=ut.maxScan;gr+=20){const vn=ut.scanAxis==="x"?gr:ut.startX,Sr=ut.scanAxis==="y"?gr:ut.startY;if(he(vn,Sr,ut.checkWidth,ut.checkHeight))return{x:vn,y:Sr,rotation:ut.rotation}}return null},ae=(Ge,qe,ht,ut,nt,gr=100)=>{const Sr=F.height-ht,Wr=F.width-qe;for(let mn=0;mn<=Sr;mn+=15)for(let Or=0;Or<=Wr;Or+=15){if(U.length>=gr)return;he(Or,mn,qe,ht)&&U.push({id:`ki${B++}`,fixtureType:Ge,x:Or,y:mn,width:qe,height:ht,rotation:0,capacity:ut,assignedCategory:nt})}},ge=180,W=40,oe=8;for(let Ge=0;Ge<4;Ge++){const qe=ue(ge,W);qe&&U.push({id:`ki${B++}`,fixtureType:"Rckwand",x:qe.x,y:qe.y,width:ge,height:W,rotation:qe.rotation,capacity:oe,assignedCategory:"Core Range"})}ae("Gondel",100,40,4.8,"Mode",15),ae("Wandregal",100,30,3.2,"Accessoires",10),ae("Aktionsflche",100,80,6,"Seasonal",5),ae("Tisch",70,70,2.4,"Promotion",8),ae("Hakenwand",90,30,5.6,"Schmuck",6),ae("Wandregal",60,30,2,"Accessoires",10),d(U),l(!1),k(!0)},$=u.reduce((F,Q)=>{const U=F.find(B=>B.type===Q.fixtureType);return U?(U.count++,U.area+=Q.capacity):F.push({type:Q.fixtureType,count:1,area:Q.capacity,capacity:Q.capacity,category:Q.assignedCategory||"-"}),F},[]);return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"mb-4",children:a.jsx(Xie,{children:a.jsxs(Yie,{children:[a.jsx(nE,{children:a.jsx("button",{onClick:()=>e("capacity"),style:{color:"var(--text-link-secondary)"},className:"hover:underline",children:"Kapazitt"})}),a.jsx(Jie,{}),a.jsx(nE,{children:a.jsx(Qie,{children:"Filiallayout & Warentrger"})})]})})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Filiallayout & Warentrger"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Visualisierung und Planung der Verkaufsflche auf Basis von Warentrgern und Kapazittswirkung"})]}),a.jsxs(qie,{defaultValue:"layout",className:"flex-1 flex flex-col min-h-0",children:[a.jsxs(Zie,{style:{width:"fit-content",marginBottom:"var(--space-6)"},children:[a.jsx(tE,{value:"layout",children:"Layout & Warentrger"}),a.jsx(tE,{value:"analysis",children:"Sortimentsverteilung (Analyse)"})]}),a.jsxs(rE,{value:"layout",className:"flex-1 flex flex-col min-h-0 mt-0",children:[a.jsx("div",{className:"p-4 rounded-lg border mb-6",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)"},children:a.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[a.jsxs("div",{className:"flex-1 min-w-[250px]",children:[a.jsx("label",{htmlFor:"store-select",className:"block mb-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Filiale auswhlen"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(FS,{value:t,onValueChange:N,children:[a.jsx($S,{className:"w-full",children:a.jsx(WS,{})}),a.jsx(US,{children:Xb.map(F=>a.jsx(So,{value:F.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mE,{size:16}),a.jsxs("span",{children:[F.id," - ",F.name]})]})},F.id))})]}),S&&a.jsx(U3,{variant:S.hasLayout?"default":"secondary",children:S.hasLayout?"Layout vorhanden":"Neu"})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Gesamtflche"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:[O.totalArea," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Nutzbare Flche"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:[O.usableArea," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Belegte Flche"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:[O.occupiedArea.toFixed(1)," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Freie Flche"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:_()},children:[O.freeArea.toFixed(1)," m"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Kapazittswirkung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:O.capacityImpact>=0?"var(--status-success)":"var(--status-danger)"},children:[O.capacityImpact>0?"+":"",O.capacityImpact.toFixed(1)," m"]})]})]}),a.jsxs("div",{className:"flex gap-2 ml-auto",children:[a.jsxs(Fn,{variant:"outline",onClick:()=>i(!0),children:[a.jsx(ws,{size:16}),"Import Grundriss"]}),a.jsxs(Fn,{variant:"outline",onClick:Z,children:[a.jsx(Ec,{size:16}),"KI-Vorschlag"]}),j&&a.jsxs(a.Fragment,{children:[a.jsxs(Fn,{variant:"outline",onClick:H,children:[a.jsx(Pf,{size:16}),"Verwerfen"]}),a.jsxs(Fn,{onClick:q,children:[a.jsx(Ds,{size:16}),"Speichern"]})]})]})]})}),a.jsxs("div",{className:"flex-1 flex gap-6 min-h-0",children:[a.jsxs("div",{className:"w-[280px] rounded-lg border p-4 overflow-y-auto",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)"},children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Warentrger"}),a.jsx("div",{className:"space-y-2",children:aE.map(F=>a.jsxs("div",{draggable:!0,onDragStart:()=>E(F.type),className:"p-3 rounded border cursor-move transition-all",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-subtle)",borderRadius:"var(--radius-md)"},onMouseEnter:Q=>{Q.currentTarget.style.borderColor="var(--brand-primary)",Q.currentTarget.style.boxShadow="var(--shadow-sm)"},onMouseLeave:Q=>{Q.currentTarget.style.borderColor="var(--border-subtle)",Q.currentTarget.style.boxShadow="none"},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{style:{fontSize:"18px"},children:F.icon}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:F.type})]}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:["Kapazitt: ",F.capacity," m"]}),F.preferredCategory&&a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:["Bevorzugt: ",F.preferredCategory]})]},F.id))})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Zonen (fixe Elemente)"}),a.jsx("div",{className:"space-y-2",children:toe.map(F=>a.jsx("div",{className:"p-3 rounded border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-subtle)",borderRadius:"var(--radius-md)",opacity:.6},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontSize:"18px"},children:F.icon}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:F.type})]})},F.id))})]})]}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsxs("div",{className:"relative rounded-lg border flex-1 mb-6 overflow-auto",style:{backgroundColor:"#ffffff",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",minHeight:`${(S?.layout?.height||500)+60}px`},onDragOver:I,onDrop:R,children:[a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"linear-gradient(var(--border-subtle) 1px, transparent 1px), linear-gradient(90deg, var(--border-subtle) 1px, transparent 1px)",backgroundSize:"20px 20px"}}),a.jsxs("div",{className:"absolute border-2",style:{left:"20px",top:"20px",width:`${S?.layout?.width||700}px`,height:`${(S?.layout?.height||500)+20}px`,borderColor:"var(--text-primary)",borderStyle:"solid"},children:[S?.layout?.aisles.map((F,Q)=>a.jsx("div",{className:"absolute",style:{left:`${F.x}px`,top:`${F.y}px`,width:`${F.width}px`,height:`${F.height}px`,backgroundColor:"#e5e5e5",opacity:.5}},Q)),S?.layout?.zones.map((F,Q)=>a.jsxs("div",{className:"absolute flex items-center justify-center",style:{left:`${F.x}px`,top:`${F.y}px`,width:`${F.width}px`,height:`${F.height}px`,backgroundColor:F.type==="emergency"?"#fee2e2":F.type==="cashier"?"#dbeafe":F.type==="window"?"#fef3c7":"#e0e7ff",border:F.type==="emergency"?"2px solid var(--status-danger)":"1px solid var(--border-default)",borderRadius:"var(--radius-sm)",fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[F.type==="emergency"&&a.jsx("span",{style:{fontSize:"20px"},children:""}),F.type==="cashier"&&a.jsx("span",{style:{fontSize:"20px"},children:""}),F.type==="window"&&a.jsx("span",{style:{fontSize:"20px"},children:""}),F.type==="storage"&&a.jsx("span",{style:{fontSize:"20px"},children:""})]},`zone-${Q}`)),u.map(F=>a.jsx("div",{className:"absolute cursor-pointer border-2 transition-all",style:{left:`${F.x}px`,top:`${F.y}px`,width:`${F.rotation%180===90?F.height:F.width}px`,height:`${F.rotation%180===90?F.width:F.height}px`,backgroundColor:"var(--surface-subtle-tint)",borderColor:f===F.id?"var(--brand-primary)":"var(--border-default)",borderRadius:"var(--radius-sm)",borderWidth:f===F.id?"3px":"2px"},onClick:()=>v(F.id),draggable:!0,onDragStart:Q=>T(Q,F.id),children:a.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:F.fixtureType}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[F.capacity," m"]})]})},F.id))]}),u.length===0&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)",pointerEvents:"none"},children:"Ziehen Sie Warentrger aus der linken Palette auf die Flche"}),f&&a.jsx("div",{className:"absolute bottom-4 right-4 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-md)",minWidth:"200px"},children:(()=>{const F=u.find(Q=>Q.id===f);return F?a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Eigenschaften"}),a.jsxs("div",{className:"space-y-2 mb-3",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Typ"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:F.fixtureType})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Kapazitt"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)"},children:[F.capacity," m"]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Warengruppe"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:F.assignedCategory||"-"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Fn,{variant:"outline",size:"sm",onClick:()=>L(F.id),children:a.jsx(tB,{size:14})}),a.jsx(Fn,{variant:"outline",size:"sm",onClick:()=>M(F.id),children:a.jsx(ia,{size:14})})]})]}):null})()})]}),a.jsxs("div",{className:"rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)"},children:[a.jsx("div",{className:"p-4 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)"},children:"Warentrgerbersicht"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{backgroundColor:"var(--surface-alt)",borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Warentrger-Typ"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Anzahl"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Belegte Flche (m)"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Kapazitt (m)"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",textTransform:"uppercase"},children:"Zugeordnete Warengruppe"})]})}),a.jsx("tbody",{children:$.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"text-center p-6",style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Keine Warentrger platziert"})}):$.map((F,Q)=>a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:F.type}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:F.count}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:F.area.toFixed(1)}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:F.capacity.toFixed(1)}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:F.category})]},Q))})]})})]}),a.jsxs("div",{className:"mt-4 p-3 rounded-lg border flex items-start gap-3",style:{backgroundColor:"var(--surface-subtle-tint)",borderColor:"var(--brand-primary)"},children:[a.jsx(Qt,{size:20,style:{color:"var(--brand-primary)",flexShrink:0,marginTop:"2px"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"2px"},children:"Integration mit Kapazittsplanung"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Dieses Layout bestimmt die IST-Kapazitt der Filiale und fliet direkt in Simulation, Allokation und Prognose ein."})]})]})]})]}),a.jsx(ZO,{open:n,onOpenChange:i,children:a.jsxs(XO,{children:[a.jsxs(YO,{children:[a.jsx(JO,{children:"Grundriss importieren"}),a.jsx(eE,{children:"Laden Sie einen Grundriss hoch, um das Layout automatisch zu erkennen"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Dateiformat whlen"}),a.jsxs(FS,{children:[a.jsx($S,{children:a.jsx(WS,{placeholder:"Format auswhlen"})}),a.jsxs(US,{children:[a.jsx(So,{value:"cad",children:"CAD (DWG / DXF)"}),a.jsx(So,{value:"pdf",children:"PDF"}),a.jsx(So,{value:"image",children:"Bild (PNG / JPG)"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Mastab"}),a.jsx("input",{type:"text",placeholder:"z.B. 1:100",className:"w-full p-2 rounded border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer",style:{borderColor:"var(--border-default)"},children:[a.jsx(ws,{size:32,style:{margin:"0 auto",color:"var(--text-muted)",marginBottom:"var(--space-2)"}}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Datei hier ablegen oder klicken zum Hochladen"})]})]}),a.jsxs(QO,{children:[a.jsx(Fn,{variant:"outline",onClick:()=>i(!1),children:"Abbrechen"}),a.jsx(Fn,{onClick:()=>i(!1),children:"Grundriss bernehmen"})]})]})}),a.jsx(ZO,{open:o,onOpenChange:l,children:a.jsxs(XO,{children:[a.jsxs(YO,{children:[a.jsx(JO,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ec,{size:20,style:{color:"var(--brand-primary)"}}),"KI-Vorschlag generieren"]})}),a.jsx(eE,{children:"Das System analysiert Ihre Filiale und erstellt einen optimierten Layout-Vorschlag"})]}),a.jsx("div",{className:"py-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Analysefaktoren:"}),a.jsxs("ul",{className:"space-y-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"var(--brand-primary)"}}),"Filialgre und Geometrie"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"var(--brand-primary)"}}),"Fixe Zonen (Kasse, Notausgnge, etc.)"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"var(--brand-primary)"}}),"Umsatzklasse und Kundenfrequenz"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"var(--brand-primary)"}}),"Warengruppenstruktur"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"var(--brand-primary)"}}),"Best Practices aus hnlichen Filialen"]})]}),a.jsx("div",{className:"p-3 rounded-lg mt-4",style:{backgroundColor:"var(--surface-subtle-tint)",fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:"Der KI-Vorschlag dient als Ausgangspunkt. Sie knnen jeden Warentrger individuell anpassen."})]})}),a.jsxs(QO,{children:[a.jsx(Fn,{variant:"outline",onClick:()=>l(!1),children:"Abbrechen"}),a.jsxs(Fn,{onClick:Y,children:[a.jsx(Ec,{size:16}),"Vorschlag erzeugen"]})]})]})})]}),a.jsx(rE,{value:"analysis",className:"flex-1 flex flex-col min-h-0 mt-0",children:S&&a.jsx(eoe,{store:S,placedFixtures:u})})]})]})}const iE={draft:{label:"Entwurf",color:"#94a3b8",bgColor:"#f1f5f9",icon:SE},simulated:{label:"Simuliert",color:"#2563eb",bgColor:"#dbeafe",icon:Fp},validated:{label:"Validiert",color:"#7c3aed",bgColor:"#ede9fe",icon:Zr},approved:{label:"Freigegeben",color:"#10b981",bgColor:"#d1fae5",icon:Zr},transferred:{label:"Zur Umsetzung bertragen",color:"#059669",bgColor:"#d1fae5",icon:AE}},Yb=[{id:"var-001",name:"Basisvariante  Standard",status:"transferred",capacityDeviation:120,criticalExceptions:0,lastSimulation:"2025-01-10 14:30",overCapacity:450,underCapacity:330,forecastCoverage:94.5,storeCount:42,articleCount:1250,validationResults:{recipientDetermination:!0,deliveryDates:!0,availability:!0,capacityAssumptions:!0,blockingExceptions:!0}},{id:"var-002",name:"Optimierte Verteilung  A-Stores",status:"approved",capacityDeviation:85,criticalExceptions:2,lastSimulation:"2025-01-12 09:15",overCapacity:380,underCapacity:295,forecastCoverage:96.2,storeCount:42,articleCount:1250,validationResults:{recipientDetermination:!0,deliveryDates:!0,availability:!0,capacityAssumptions:!0,blockingExceptions:!0}},{id:"var-003",name:"Gleichverteilung  Regional",status:"validated",capacityDeviation:210,criticalExceptions:5,lastSimulation:"2025-01-13 16:45",overCapacity:520,underCapacity:310,forecastCoverage:92.8,storeCount:42,articleCount:1250,validationResults:{recipientDetermination:!0,deliveryDates:!0,availability:!0,capacityAssumptions:!1,blockingExceptions:!0}},{id:"var-004",name:"Test  Konservative Allokation",status:"simulated",capacityDeviation:95,criticalExceptions:1,lastSimulation:"2025-01-14 11:20",overCapacity:320,underCapacity:225,forecastCoverage:89.5,storeCount:42,articleCount:1250},{id:"var-005",name:"Entwurf  Saisonbereinigt",status:"draft",capacityDeviation:0,criticalExceptions:0,lastSimulation:"",overCapacity:0,underCapacity:0,forecastCoverage:0,storeCount:42,articleCount:1250}],noe=[{category:"Schuhe",variant1:450,variant2:380,variant3:520},{category:"Oberbekleidung",variant1:-280,variant2:-350,variant3:-200},{category:"Hosen",variant1:120,variant2:95,variant3:210},{category:"Accessoires",variant1:-150,variant2:-120,variant3:-180}],aoe=[{week:"KW 1",forecast:4500,variant1:4200,variant2:4350,variant3:4100},{week:"KW 2",forecast:5e3,variant1:4800,variant2:4900,variant3:4600},{week:"KW 3",forecast:4800,variant1:4600,variant2:4700,variant3:4450},{week:"KW 4",forecast:5500,variant1:5300,variant2:5400,variant3:5100}];function ioe({onNavigate:e}){const[t,r]=z.useState("fs25-initial"),[n,i]=z.useState(Yb[1]),[o,l]=z.useState("overview"),[u,d]=z.useState(!1),[f,v]=z.useState(!1),[h,m]=z.useState(!1),[b,w]=z.useState(""),[x,y]=z.useState("immediate"),[j,k]=z.useState(""),[S,N]=z.useState(""),A=()=>{m(!0),setTimeout(()=>{m(!1),d(!0)},2e3)},O=()=>{if(!b.trim()){alert("Bitte geben Sie eine Begrndung ein.");return}if(n){const H={...n,status:"approved"};i(H),w(""),alert("Variante erfolgreich freigegeben")}},_=()=>{if(x==="scheduled"&&(!j||!S)){alert("Bitte whlen Sie Datum und Uhrzeit fr die geplante Ausfhrung.");return}if(n){const H={...n,status:"transferred"};i(H),v(!1),alert("Allokationslauf wurde erfolgreich erzeugt")}},E=()=>{alert("Neue Variante wird erstellt (basierend auf aktueller Variante)")},T=n?.status==="simulated",I=n?.status==="validated",R=n?.status==="approved",L=n?.status==="transferred",M=n?iE[n.status]:null,q=M?.icon;return a.jsxs("div",{className:"flex h-screen",style:{backgroundColor:"var(--surface-base)"},children:[a.jsx("div",{className:"flex-shrink-0 border-r overflow-y-auto",style:{width:"300px",backgroundColor:"var(--surface-alt)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Szenario"}),a.jsxs("select",{value:t,onChange:H=>r(H.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"fs25-initial",children:"FS25  Erstallokation"}),a.jsx("option",{value:"hw25-initial",children:"HW25  Erstallokation"}),a.jsx("option",{value:"fs25-replenishment",children:"FS25  Nachschub"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",marginBottom:"12px",color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em"},children:["Varianten (",Yb.length,")"]}),a.jsx("div",{className:"space-y-2",children:Yb.map(H=>{const Z=iE[H.status],Y=Z.icon,$=n?.id===H.id;return a.jsxs("button",{onClick:()=>i(H),className:"w-full text-left p-3 rounded-lg border transition-all",style:{backgroundColor:$?"var(--surface-page)":"transparent",borderColor:$?"var(--brand-primary)":"var(--border-subtle)",borderWidth:$?"2px":"1px"},children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",flex:1},children:H.name}),a.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 rounded-full",style:{backgroundColor:Z.bgColor,color:Z.color,fontSize:"var(--font-size-xs)",whiteSpace:"nowrap"},children:[a.jsx(Y,{size:12}),a.jsx("span",{children:Z.label})]})]}),H.status!=="draft"&&a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between",style:{fontSize:"var(--font-size-xs)"},children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"ber-/Unterdeckung:"}),a.jsxs("span",{style:{fontWeight:"var(--font-weight-medium)",color:H.capacityDeviation>0?"#ef4444":"#10b981"},children:[H.capacityDeviation>0?"+":"",H.capacityDeviation," m"]})]}),a.jsxs("div",{className:"flex items-center justify-between",style:{fontSize:"var(--font-size-xs)"},children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"Kritische Ausnahmen:"}),a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)",color:H.criticalExceptions>0?"#ef4444":"var(--text-primary)"},children:H.criticalExceptions})]}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:[a.jsx(Ts,{size:10,className:"inline mr-1"}),H.lastSimulation]})]}),H.status==="draft"&&a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",fontStyle:"italic"},children:"Noch nicht simuliert"})]},H.id)})})]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6 flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Szenario- & Variantenmanagement"}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Vergleichen, validieren und freigeben Sie Allokationsvarianten fr verschiedene Szenarien."})]}),a.jsx("button",{onClick:()=>e("scenarioManagement"),className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",whiteSpace:"nowrap"},children:"Erweiterte Ansicht "})]}),!n&&a.jsxs("div",{className:"p-12 text-center rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx(SE,{size:48,style:{color:"var(--text-muted)",margin:"0 auto 16px"}}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Whlen Sie eine Variante aus, um Details anzuzeigen"})]}),n&&n.status!=="draft"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"berdeckung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"#ef4444"},children:["+",n.overCapacity," m"]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Unterdeckung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:"#3b82f6"},children:["-",n.underCapacity," m"]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Prognoseabdeckung"}),a.jsxs("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)"},children:[n.forecastCoverage.toFixed(1),"%"]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Kritische Ausnahmen"}),a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-bold)",color:n.criticalExceptions>0?"#ef4444":"#10b981"},children:n.criticalExceptions})]})]}),a.jsx("div",{className:"flex gap-1 mb-4 border-b",style:{borderColor:"var(--border-default)"},children:[{key:"overview",label:"bersicht"},{key:"capacity",label:"Kapazitt"},{key:"forecast",label:"Prognose"},{key:"exceptions",label:"Ausnahmen"}].map(H=>a.jsx("button",{onClick:()=>l(H.key),className:"px-4 py-2 transition-colors",style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:o===H.key?"var(--brand-primary)":"var(--text-muted)",borderBottom:o===H.key?"2px solid var(--brand-primary)":"2px solid transparent"},children:H.label},H.key))}),a.jsxs("div",{children:[o==="overview"&&a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Varianten-Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Variantenname"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:n.name})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Status"}),a.jsxs("div",{className:"flex items-center gap-2",children:[q&&a.jsx(q,{size:16,style:{color:M?.color}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:M?.label})]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Filialen"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mB,{size:16,style:{color:"var(--text-muted)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:n.storeCount})]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Artikel"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($p,{size:16,style:{color:"var(--text-muted)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:n.articleCount.toLocaleString("de-DE")})]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Letzte Simulation"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ts,{size:16,style:{color:"var(--text-muted)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:n.lastSimulation})]})]})]})]})}),o==="capacity"&&a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Kapazittsabweichung nach Kategorie"}),a.jsx(Yt,{width:"100%",height:350,minWidth:0,minHeight:0,children:a.jsxs(Pr,{data:noe,children:[a.jsx(Kn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(bt,{dataKey:"category",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(Ie,{dataKey:"variant1",fill:"#2563eb",name:"Basisvariante"}),a.jsx(Ie,{dataKey:"variant2",fill:"#7c3aed",name:"Optimierte Verteilung"}),a.jsx(Ie,{dataKey:"variant3",fill:"#10b981",name:"Gleichverteilung"})]})})]}),o==="forecast"&&a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Prognose vs. Allokation"}),a.jsx(Yt,{width:"100%",height:350,minWidth:0,minHeight:0,children:a.jsxs(iI,{data:aoe,children:[a.jsx(Kn,{strokeDasharray:"3 3",stroke:"var(--border-subtle)"}),a.jsx(bt,{dataKey:"week",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(qr,{type:"monotone",dataKey:"forecast",stroke:"#94a3b8",strokeWidth:2,strokeDasharray:"5 5",name:"Prognose"}),a.jsx(qr,{type:"monotone",dataKey:"variant1",stroke:"#2563eb",strokeWidth:2,name:"Basisvariante"}),a.jsx(qr,{type:"monotone",dataKey:"variant2",stroke:"#7c3aed",strokeWidth:2,name:"Optimierte Verteilung"}),a.jsx(qr,{type:"monotone",dataKey:"variant3",stroke:"#10b981",strokeWidth:2,name:"Gleichverteilung"})]})})]}),o==="exceptions"&&a.jsxs("div",{className:"p-6 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Ausnahmen & Risiken"}),n.criticalExceptions>0?a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"p-4 rounded-lg border-l-4 cursor-pointer hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},onClick:()=>alert("Navigation zum Exception-Cockpit (read-only)"),children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ft,{size:20,style:{color:"var(--status-warning)"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Kapazittsberschreitung bei Store Z-001"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:"Kategorie: Schuhe | berschreitung: +35 m"})]})]})})}),a.jsx("div",{className:"p-4 rounded-lg border-l-4 cursor-pointer hover:bg-surface-tint transition-colors",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},onClick:()=>alert("Navigation zum Exception-Cockpit (read-only)"),children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ft,{size:20,style:{color:"var(--status-warning)"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Fehlende Grenverteilung bei Artikel A-4532"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:"Kategorie: Hosen | Betroffene Filialen: 12"})]})]})})})]}):a.jsxs("div",{className:"p-6 text-center rounded-lg",style:{backgroundColor:"var(--surface-success-subtle)",color:"var(--status-success)"},children:[a.jsx(Zr,{size:32,className:"mx-auto mb-2"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)"},children:"Keine kritischen Ausnahmen"})]})]})]})]}),n&&n.status==="draft"&&a.jsxs("div",{className:"p-8 text-center rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:[a.jsx(Fp,{size:48,style:{color:"var(--text-muted)",margin:"0 auto 16px"}}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)",marginBottom:"16px"},children:"Diese Variante wurde noch nicht simuliert"}),a.jsx("button",{className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},onClick:()=>alert("Simulation starten (nicht implementiert)"),children:"Simulation starten"})]})]})}),a.jsx("div",{className:"flex-shrink-0 border-l overflow-y-auto",style:{width:"320px",backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"p-4",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"16px"},children:"Entscheidung & bergabe"}),!n&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Whlen Sie eine Variante aus"})}),n&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:M?.bgColor,borderColor:M?.color},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[q&&a.jsx(q,{size:20,style:{color:M?.color}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:M?.color},children:M?.label})]}),a.jsxs("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[n.status==="simulated"&&"Simulation abgeschlossen  Validierung erforderlich",n.status==="validated"&&"Alle Systemprfungen bestanden",n.status==="approved"&&"Variante ist zur Umsetzung freigegeben",n.status==="transferred"&&"Variante wurde als Allokationslauf bertragen",n.status==="draft"&&"Variante ist im Entwurfsstadium"]})]}),T&&a.jsxs("div",{children:[a.jsx("button",{onClick:A,disabled:h,className:"w-full px-4 py-3 rounded-lg transition-colors",style:{backgroundColor:h?"var(--button-secondary-bg)":"var(--brand-primary)",color:h?"var(--text-muted)":"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:h?"Validierung luft...":"Validierung starten"}),h&&a.jsx("div",{className:"mt-2 text-center",children:a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Systemprfungen werden durchgefhrt..."})})]}),I&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"6px",color:"var(--text-muted)"},children:"Begrndung der Freigabe *"}),a.jsx("textarea",{value:b,onChange:H=>w(H.target.value),rows:4,placeholder:"Bitte geben Sie eine Begrndung fr die Freigabe ein...",className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)",fontSize:"var(--font-size-sm)",resize:"vertical"}})]}),a.jsx("button",{onClick:O,disabled:!b.trim(),className:"w-full px-4 py-3 rounded-lg transition-colors",style:{backgroundColor:b.trim()?"var(--brand-primary)":"var(--button-secondary-bg)",color:b.trim()?"var(--text-inverse)":"var(--text-muted)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Variante freigeben"})]}),R&&a.jsx("div",{children:a.jsxs("button",{onClick:()=>v(!0),className:"w-full px-4 py-3 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(wf,{size:16,className:"inline mr-2"}),"In Allokationslauf berfhren"]})}),L&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(AE,{size:16,style:{color:"var(--text-muted)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Variante gesperrt"})]}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Diese Variante ist unvernderlich und wurde einem Allokationslauf zugeordnet."})]}),a.jsxs("button",{onClick:E,className:"w-full px-4 py-2 rounded-lg border transition-colors hover:bg-surface-tint",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(Nf,{size:16,className:"inline mr-2"}),"Neue Variante erstellen"]})]}),n.validationResults&&n.status!=="simulated"&&a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",marginBottom:"12px"},children:"Validierungsergebnisse"}),a.jsx("div",{className:"space-y-2",children:Object.entries(n.validationResults).map(([H,Z])=>{const Y={recipientDetermination:"Empfngerermittlung",deliveryDates:"Liefertermine",availability:"Verfgbarkeit",capacityAssumptions:"Kapazittsannahmen",blockingExceptions:"Blockierende Ausnahmen"};return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:Y[H]}),Z?a.jsx(Zr,{size:16,style:{color:"#10b981"}}):a.jsx(Ft,{size:16,style:{color:"#ef4444"}})]},H)})})]})]})]})}),u&&n&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:()=>d(!1),children:a.jsxs("div",{className:"rounded-lg shadow-xl max-w-lg w-full mx-4",style:{backgroundColor:"var(--surface-page)",maxHeight:"90vh",overflow:"auto"},onClick:H=>H.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Validierungsbericht"})}),a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"space-y-4",children:n.validationResults&&Object.entries(n.validationResults).map(([H,Z])=>{const Y={recipientDetermination:"Empfngerermittlung",deliveryDates:"Liefertermine",availability:"Verfgbarkeit",capacityAssumptions:"Kapazittsannahmen",blockingExceptions:"Blockierende Ausnahmen"};return a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg",style:{backgroundColor:Z?"var(--surface-success-subtle)":"var(--surface-error-subtle)"},children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:Y[H]}),Z?a.jsx(Zr,{size:20,style:{color:"#10b981"}}):a.jsx(Ft,{size:20,style:{color:"#ef4444"}})]},H)})}),Object.values(n.validationResults||{}).every(Boolean)?a.jsxs("div",{className:"mt-6 p-4 rounded-lg",style:{backgroundColor:"var(--surface-success-subtle)",color:"var(--status-success)"},children:[a.jsx(Zr,{size:20,className:"inline mr-2"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Alle Prfungen erfolgreich bestanden"})]}):a.jsxs("div",{className:"mt-6 p-4 rounded-lg",style:{backgroundColor:"var(--surface-error-subtle)",color:"var(--status-error)"},children:[a.jsx(Ft,{size:20,className:"inline mr-2"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Einige Prfungen sind fehlgeschlagen"})]})]}),a.jsxs("div",{className:"p-6 border-t flex gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:"Schlieen"}),Object.values(n.validationResults||{}).every(Boolean)?a.jsx("button",{onClick:()=>{const H={...n,status:"validated"};i(H),d(!1)},className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Variante als validiert markieren"}):a.jsx("button",{onClick:()=>{d(!1),alert("Zurck zur Simulation (nicht implementiert)")},className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Zur Simulation"})]})]})}),f&&n&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:()=>v(!1),children:a.jsxs("div",{className:"rounded-lg shadow-xl max-w-2xl w-full mx-4",style:{backgroundColor:"var(--surface-page)",maxHeight:"90vh",overflow:"auto"},onClick:H=>H.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Allokationslauf erzeugen"})}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"12px"},children:"Snapshot (Read-Only)"}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-alt)",border:"1px solid var(--border-default)"},children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Szenario"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"FS25  Erstallokation"})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Variante"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:n.name})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Simulation-ID"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:["SIM-",n.id]})]}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Lieferzeitraum"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"KW 05-08 2025"})]})]})})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"12px"},children:"Ausfhrung"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border cursor-pointer hover:bg-surface-tint transition-colors",style:{borderColor:x==="immediate"?"var(--brand-primary)":"var(--border-default)",backgroundColor:x==="immediate"?"var(--surface-tint)":"transparent"},children:[a.jsx("input",{type:"radio",name:"transfer-type",value:"immediate",checked:x==="immediate",onChange:H=>y(H.target.value),style:{accentColor:"var(--brand-primary)"}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Sofort starten"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Der Allokationslauf wird unmittelbar nach Besttigung ausgefhrt"})]})]}),a.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border cursor-pointer hover:bg-surface-tint transition-colors",style:{borderColor:x==="scheduled"?"var(--brand-primary)":"var(--border-default)",backgroundColor:x==="scheduled"?"var(--surface-tint)":"transparent"},children:[a.jsx("input",{type:"radio",name:"transfer-type",value:"scheduled",checked:x==="scheduled",onChange:H=>y(H.target.value),style:{accentColor:"var(--brand-primary)"}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Geplant starten"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"8px"},children:"Der Allokationslauf startet zum angegebenen Zeitpunkt"}),x==="scheduled"&&a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Datum"}),a.jsx("input",{type:"date",value:j,onChange:H=>k(H.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",display:"block",marginBottom:"4px"},children:"Uhrzeit"}),a.jsx("input",{type:"time",value:S,onChange:H=>N(H.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"}})]})]})]})]})]})]}),a.jsx("div",{className:"p-4 rounded-lg border-l-4",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ft,{size:20,style:{color:"var(--status-warning)",flexShrink:0}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"4px"},children:"Wichtiger Hinweis"}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Die Variante wird als unvernderlicher Snapshot fr den Allokationslauf bernommen. Nach der bertragung knnen keine nderungen mehr vorgenommen werden."})]})]})})]}),a.jsxs("div",{className:"p-6 border-t flex gap-3",style:{borderColor:"var(--border-default)"},children:[a.jsx("button",{onClick:()=>v(!1),className:"flex-1 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:"Abbrechen"}),a.jsx("button",{onClick:_,className:"flex-1 px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Lauf erzeugen"})]})]})})]})}function Af({formula:e,inputs:t,result:r,explanation:n}){const[i,o]=z.useState(!1);return a.jsxs("div",{className:"relative inline-block",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[a.jsx(Qt,{size:16,style:{color:"var(--status-info)",cursor:"help"}}),i&&a.jsxs("div",{className:"absolute z-50 rounded-lg shadow-lg p-4",style:{backgroundColor:"var(--surface-page)",border:"1px solid var(--border-default)",boxShadow:"var(--shadow-lg)",minWidth:"320px",maxWidth:"450px",bottom:"100%",left:"50%",transform:"translateX(-50%)",marginBottom:"8px"},children:[a.jsx("div",{className:"mb-3 p-3 rounded",style:{backgroundColor:"var(--surface-subtle)",fontFamily:"monospace",fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:e}),t.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-muted)",marginBottom:"var(--space-2)"},children:"Eingabewerte:"}),a.jsx("div",{className:"space-y-2",children:t.map((l,u)=>a.jsxs("div",{className:"flex items-start justify-between gap-3",style:{fontSize:"var(--font-size-xs)"},children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{style:{fontFamily:"monospace",color:"var(--brand-primary)",fontWeight:"var(--font-weight-medium)"},children:l.symbol}),l.description&&a.jsx("div",{style:{color:"var(--text-muted)",marginTop:"2px"},children:l.description}),a.jsxs("div",{style:{color:"var(--text-secondary)",fontSize:"var(--font-size-2xs)",marginTop:"2px"},children:["Quelle: ",l.source]})]}),a.jsxs("div",{style:{fontFamily:"monospace",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)",whiteSpace:"nowrap"},children:["= ",l.value]})]},u))})]}),r!==void 0&&a.jsxs("div",{className:"p-2 rounded flex items-center justify-between",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-info)"},children:"Ergebnis:"}),a.jsx("span",{style:{fontFamily:"monospace",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-info)"},children:r})]}),n&&a.jsx("div",{className:"mt-3 pt-3",style:{borderTop:"1px solid var(--border-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:n}),a.jsx("div",{style:{position:"absolute",bottom:"-6px",left:"50%",width:"12px",height:"12px",backgroundColor:"var(--surface-page)",border:"1px solid var(--border-default)",borderTop:"none",borderLeft:"none",transform:"translateX(-50%) rotate(45deg)"}})]})]})}const oE={success:"var(--status-success)",warning:"var(--status-warning)",critical:"var(--status-danger)",neutral:"var(--text-secondary)"};function Rt({title:e,value:t,unit:r,delta:n,deltaLabel:i,state:o="neutral",formula:l,formulaInputs:u,onClick:d}){const f=n!==void 0,v=n&&n>0,h=n&&n<0;return a.jsxs("div",{className:"p-4 rounded-lg border transition-all",style:{backgroundColor:"var(--surface-page)",borderColor:o!=="neutral"?oE[o]:"var(--border-default)",cursor:d?"pointer":"default",borderWidth:o!=="neutral"?"2px":"1px"},onClick:d,children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",color:"var(--text-muted)"},children:e}),l&&u&&a.jsx(Af,{formula:l,inputs:u,result:`${t}${r?" "+r:""}`})]}),a.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[a.jsx("div",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",color:o!=="neutral"?oE[o]:"var(--text-primary)"},children:t}),r&&a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:r})]}),f&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"px-2 py-1 rounded-full flex items-center gap-1",style:{backgroundColor:h?"var(--surface-danger-subtle)":v?"var(--surface-success-subtle)":"var(--surface-subtle)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[v&&a.jsx(fl,{size:12,style:{color:"var(--status-success)"}}),h&&a.jsx(Up,{size:12,style:{color:"var(--status-danger)"}}),n===0&&a.jsx(GL,{size:12,style:{color:"var(--text-muted)"}}),a.jsxs("span",{style:{color:h?"var(--status-danger)":v?"var(--status-success)":"var(--text-muted)"},children:[v?"+":"",n,"%"]})]}),i&&a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:i})]})]})}const sE=[{id:"var-1",name:"Standard HW 2025",status:"Validated",allocationType:"Initial Allocation",season:"HW 2025",owner:"M. Weber",lastSimulation:"2025-01-10 14:23",hasFallback:!1,kpis:{supplyCoverage:92.5,capacityRisk:"green",forecastFulfillment:88.3}},{id:"var-2",name:"Optimiert - Hohe Prognosegewichtung",status:"Simulated",allocationType:"Initial Allocation",season:"HW 2025",owner:"M. Weber",lastSimulation:"2025-01-12 09:45",hasFallback:!0,kpis:{supplyCoverage:85.6,capacityRisk:"yellow",forecastFulfillment:95.2}},{id:"var-3",name:"Test - MinMax Fairness",status:"Draft",allocationType:"Initial Allocation",season:"HW 2025",owner:"M. Weber",hasFallback:!1,kpis:{supplyCoverage:0,capacityRisk:"green",forecastFulfillment:0}},{id:"var-4",name:"SW 2025 - Baseline",status:"Released",allocationType:"Initial Allocation",season:"SW 2025",owner:"A. Mller",lastSimulation:"2025-01-05 16:12",hasFallback:!1,kpis:{supplyCoverage:94.1,capacityRisk:"green",forecastFulfillment:91.7}},{id:"var-rep-1",name:"NOS Nachschub - Standard",status:"Validated",allocationType:"Replenishment",season:"NOS",owner:"K. Schmidt",lastSimulation:"2025-01-15 08:30",hasFallback:!1,kpis:{supplyCoverage:89.2,capacityRisk:"green",forecastFulfillment:87.3}},{id:"var-rep-2",name:"Nachschub - Hohe Service Level Priority",status:"Simulated",allocationType:"Replenishment",season:"NOS",owner:"K. Schmidt",lastSimulation:"2025-01-16 11:20",hasFallback:!0,kpis:{supplyCoverage:84.8,capacityRisk:"yellow",forecastFulfillment:92.1}},{id:"var-rep-3",name:"Nachschub - Test Substitution",status:"Draft",allocationType:"Replenishment",season:"NOS",owner:"K. Schmidt",hasFallback:!0,kpis:{supplyCoverage:0,capacityRisk:"green",forecastFulfillment:0}}],Qb={Draft:{color:"var(--text-muted)",bg:"var(--surface-subtle)",icon:Ai},Simulated:{color:"var(--status-info)",bg:"var(--surface-info-subtle)",icon:Ts},Validated:{color:"var(--status-success)",bg:"var(--surface-success-subtle)",icon:Zr},Released:{color:"var(--brand-primary)",bg:"var(--surface-subtle-tint)",icon:NE}};function ooe({onNavigateToSimulation:e,onNavigateToExplainability:t,onNavigateToAllocationRun:r}){const[n,i]=z.useState("Initial Allocation"),[o,l]=z.useState(""),[u,d]=z.useState(""),[f,v]=z.useState(sE[1]),[h,m]=z.useState(1),[b,w]=z.useState(null),[x,y]=z.useState({recipientStrategy:"Plan Data",availabilitySources:{dcStock:!0,purchaseOrders:!0,deliveries:!0,external:!1},deliveryDateLogic:"Delivery Schedule",useForecast:!0,forecastSource:"Statistical Forecast v2.3",forecastWeight:60,forecastInfluencesSpace:!0,spaceDemandPlanningLevel:"Product Group",capacityUnit:"m",capacityPlanningLevel:"Product Group",capacityIsHardLimit:!1,softZonePercentage:10,softZonePenaltyWeight:.5,rationingStrategy:"Proportional",topPerformerDefinition:"Top 20% Sales",minFillPercentage:80,fairnessFactor:.8,allowFallback:!0,fallbackStrategy:"Core/NOS substitution",minFillProfile:"Core",fallbackThreshold:75,enforcePackSize:!0,packSize:6,sizeCurveActive:!0,minSizesPerStore:3,repairMode:"Best Effort"}),j=sE.filter(S=>!(S.allocationType!==n||u&&S.status!==u||o&&!S.name.toLowerCase().includes(o.toLowerCase()))),k=S=>{y(N=>({...N,...S}))};return a.jsxs("div",{className:"h-full flex",children:[a.jsx("div",{className:"overflow-y-auto border-r",style:{width:"25%",minWidth:"300px",backgroundColor:"var(--surface-subtle)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)"},children:"Varianten"}),a.jsx("button",{className:"p-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},children:a.jsx(Fa,{size:18})})]}),a.jsx("div",{className:"flex gap-1 mb-4 p-1 rounded-lg",style:{backgroundColor:"var(--surface-page)"},children:["Initial Allocation","Replenishment","Manual Allocation"].map(S=>a.jsx("button",{onClick:()=>i(S),className:"flex-1 px-2 py-1 rounded text-center",style:{backgroundColor:n===S?"var(--brand-primary)":"transparent",color:n===S?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-xs)",fontWeight:n===S?"var(--font-weight-semibold)":"var(--font-weight-normal)"},children:S==="Initial Allocation"?"Initial":S==="Replenishment"?"Nachschub":"Manuell"},S))}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx(fn,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),a.jsx("input",{type:"text",placeholder:"Variante suchen...",value:o,onChange:S=>l(S.target.value),className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"}})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("select",{value:u,onChange:S=>d(S.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{value:"",children:"Alle Status"}),a.jsx("option",{value:"Draft",children:"Draft"}),a.jsx("option",{value:"Simulated",children:"Simulated"}),a.jsx("option",{value:"Validated",children:"Validated"}),a.jsx("option",{value:"Released",children:"Released"})]})}),a.jsx("div",{className:"space-y-2",children:j.map(S=>{const N=S.id===f.id,A=Qb[S.status],O=A.icon;return a.jsxs("div",{onClick:()=>v(S),className:"relative p-3 rounded-lg cursor-pointer transition-all",style:{backgroundColor:N?"var(--surface-page)":"transparent",border:N?"2px solid var(--brand-primary)":"1px solid var(--border-subtle)"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"4px"},children:S.name}),a.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full",style:{backgroundColor:A.bg,color:A.color,fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(O,{size:12}),S.status]})]}),a.jsx("button",{onClick:_=>{_.stopPropagation(),w(b===S.id?null:S.id)},className:"p-1 rounded hover:bg-surface-tint",children:a.jsx(yE,{size:16,style:{color:"var(--text-muted)"}})})]}),a.jsxs("div",{className:"space-y-2 mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Supply Coverage"}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:S.kpis.supplyCoverage>90?"var(--status-success)":"var(--status-warning)"},children:S.kpis.supplyCoverage>0?`${S.kpis.supplyCoverage}%`:"-"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Capacity Risk"}),a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:S.kpis.capacityRisk==="green"?"var(--status-success)":S.kpis.capacityRisk==="yellow"?"var(--status-warning)":"var(--status-danger)"}})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Forecast Fulfillment"}),a.jsx("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:S.kpis.forecastFulfillment>90?"var(--status-success)":"var(--status-warning)"},children:S.kpis.forecastFulfillment>0?`${S.kpis.forecastFulfillment}%`:"-"})]})]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:S.hasFallback&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-2xs)",fontWeight:"var(--font-weight-medium)"},children:"Fallback"})}),S.lastSimulation&&a.jsxs("div",{className:"mt-2 pt-2",style:{borderTop:"1px solid var(--border-subtle)",fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:["Simulation: ",S.lastSimulation]}),b===S.id&&a.jsxs("div",{className:"absolute right-3 top-12 z-10 rounded-lg shadow-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",boxShadow:"var(--shadow-lg)",minWidth:"180px"},onClick:_=>_.stopPropagation(),children:[a.jsxs("button",{className:"w-full px-4 py-2 text-left flex items-center gap-2 hover:bg-surface-tint",children:[a.jsx(Nf,{size:16}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Duplizieren"})]}),a.jsxs("button",{className:"w-full px-4 py-2 text-left flex items-center gap-2 hover:bg-surface-tint",children:[a.jsx(Ai,{size:16}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Umbenennen"})]}),a.jsxs("button",{className:"w-full px-4 py-2 text-left flex items-center gap-2 hover:bg-surface-tint",children:[a.jsx(U4,{size:16}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Archivieren"})]}),a.jsxs("button",{className:"w-full px-4 py-2 text-left flex items-center gap-2 hover:bg-surface-tint",children:[a.jsx(Ia,{size:16}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Export JSON"})]})]})]},S.id)})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto",style:{width:"50%"},children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("input",{type:"text",value:f.name,onChange:()=>{},readOnly:!0,className:"text-2xl font-semibold mb-2 bg-transparent border-b-2 border-transparent hover:border-border-input focus:border-brand-primary outline-none",style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)"}}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full",style:{backgroundColor:Qb[f.status].bg,color:Qb[f.status].color,fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:f.status}),f.lastSimulation&&a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:["Simulation: ",f.lastSimulation]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>e?.(f.id,f.allocationType),className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(fl,{size:16}),"Simulation ffnen"]}),a.jsxs("button",{onClick:()=>t?.(f.id,f.allocationType),className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(Qt,{size:16}),"Explainability"]}),a.jsxs("button",{className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(Nf,{size:16}),"Duplizieren"]})]})]})}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(Rt,{title:"Supply Coverage",value:f.kpis.supplyCoverage,unit:"%",delta:-2.3,deltaLabel:"vs baseline",state:f.kpis.supplyCoverage>90?"success":"warning",formula:"Coverage = (Supply / Demand)  100%",formulaInputs:[{symbol:"Supply",value:24365,source:"Verfgbarkeitsberechnung"},{symbol:"Demand",value:28456,source:"Bedarfsberechnung"}]}),a.jsx(Rt,{title:"Forecast Fulfillment",value:f.kpis.forecastFulfillment,unit:"%",delta:5.8,deltaLabel:"vs baseline",state:f.kpis.forecastFulfillment>90?"success":"warning",formula:"FF = (Allocated / Forecast)  100%",formulaInputs:[{symbol:"Allocated",value:24365,source:"Allokationsergebnis"},{symbol:"Forecast",value:25600,source:"Prognosesystem"}]}),a.jsx(Rt,{title:"Capacity Utilization",value:82.4,unit:"%",delta:1.2,deltaLabel:"vs baseline",state:"success",formula:"CU = ( Space_Used /  Space_Available)  100%",formulaInputs:[{symbol:"Space_Used",value:8240,source:"Flchenberechnung",description:"Genutzte Flche"},{symbol:"Space_Available",value:1e4,source:"Kapazittsplanung",description:"Verfgbare Flche"}]}),a.jsx(Rt,{title:"Exception Count",value:32,delta:-15.8,deltaLabel:"vs baseline",state:"success"})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(Rt,{title:"Stores in Fallback",value:18,state:"warning"}),a.jsx(Rt,{title:"Undercoverage Units",value:4336,state:"warning"}),a.jsx(Rt,{title:"Overcapacity",value:145,unit:"m",state:"neutral"}),a.jsx(Rt,{title:"MinFill Fulfillment",value:85.2,unit:"%",state:"warning",formula:"MF = (Stores_Above_MinFill / Total_Stores)  100%",formulaInputs:[{symbol:"Stores_Above_MinFill",value:213,source:"Rationierungsberechnung"},{symbol:"Total_Stores",value:245,source:"Empfngerbestimmung"}]})]}),a.jsxs("div",{className:"border rounded-lg",style:{borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"flex border-b overflow-x-auto",style:{borderColor:"var(--border-default)"},children:[{id:1,label:"Empfnger & Daten"},{id:2,label:"Prognose & Raumbedarf"},{id:3,label:"Kapazitt"},{id:4,label:"Rationierung"},{id:5,label:"Fallback & MinFill"},{id:6,label:"LOT/Gre/Pack"}].map(S=>a.jsx("button",{onClick:()=>m(S.id),className:"px-4 py-3 border-b-2 whitespace-nowrap",style:{borderColor:h===S.id?"var(--brand-primary)":"transparent",color:h===S.id?"var(--brand-primary)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:h===S.id?"var(--font-weight-semibold)":"var(--font-weight-normal)"},children:S.label},S.id))}),a.jsxs("div",{className:"p-6",children:[h===1&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Empfnger & Datenquellen"}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"flex",alignItems:"center",gap:"var(--space-2)"},children:["Empfngerstrategie",a.jsx(Af,{formula:"Recipients = f(Strategy, Season, Exclusions)",inputs:[{symbol:"Strategy",value:x.recipientStrategy,source:"Variantenkonfiguration"},{symbol:"Season",value:f.season,source:"Variantenkonfiguration"}],explanation:"Die Empfngerstrategie bestimmt, welche Filialen fr die Allokation in Frage kommen."})]}),a.jsxs("select",{value:x.recipientStrategy,onChange:S=>k({recipientStrategy:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Plan Data",children:"Planungsdaten"}),a.jsx("option",{value:"Manual Selection",children:"Manuelle Auswahl"}),a.jsx("option",{value:"Listing",children:"Listung"}),a.jsx("option",{value:"Transport Relations",children:"Transportrelationen"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Verfgbarkeitsquellen"}),a.jsx("div",{className:"space-y-2",children:Object.entries({dcStock:"DC-Bestnde",purchaseOrders:"Bestellungen",deliveries:"Lieferungen",external:"Externe Quellen"}).map(([S,N])=>a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x.availabilitySources[S],onChange:A=>k({availabilitySources:{...x.availabilitySources,[S]:A.target.checked}}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:N})]},S))})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Lieferterminlogik"}),a.jsxs("select",{value:x.deliveryDateLogic,onChange:S=>k({deliveryDateLogic:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Delivery Schedule",children:"Lieferplan"}),a.jsx("option",{value:"Planned Lead Time",children:"Geplante Vorlaufzeit"})]})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--surface-subtle)",borderColor:"var(--border-default)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:"Vorschau"}),a.jsxs("div",{className:"space-y-2",style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Empfngerfilialen:"}),a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:"245"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Ausgeschlossene Filialen:"}),a.jsx("span",{style:{fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:"12"})]}),a.jsx("button",{className:"mt-2 text-brand-primary hover:underline",style:{fontSize:"var(--font-size-sm)"},children:"Filialliste anzeigen "})]})]})]}),h===2&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Prognose & Raumbedarf"}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x.useForecast,onChange:S=>k({useForecast:S.target.checked}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Prognose verwenden"})]}),x.useForecast&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Prognosequelle"}),a.jsxs("select",{value:x.forecastSource,onChange:S=>k({forecastSource:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Statistical Forecast v2.3",children:"Statistical Forecast v2.3"}),a.jsx("option",{value:"ML Forecast v1.0",children:"ML Forecast v1.0"}),a.jsx("option",{value:"Manual Forecast",children:"Manuelle Prognose"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"flex",alignItems:"center",gap:"var(--space-2)"},children:["Prognosegewichtung: ",x.forecastWeight,"%",a.jsx(Af,{formula:"D = Plan  (1 - w) + Forecast  w",inputs:[{symbol:"Plan",value:150,source:"Planungsdaten"},{symbol:"Forecast",value:120,source:x.forecastSource},{symbol:"w",value:x.forecastWeight/100,source:"Slider"}],result:150*(1-x.forecastWeight/100)+120*(x.forecastWeight/100),explanation:"Der Bedarf wird als gewichteter Durchschnitt zwischen Plan und Prognose berechnet."})]}),a.jsx("input",{type:"range",min:0,max:100,step:5,value:x.forecastWeight,onChange:S=>k({forecastWeight:Number(S.target.value)}),className:"w-full"}),a.jsxs("div",{className:"flex justify-between mt-1",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[a.jsx("span",{children:"0% (Nur Plan)"}),a.jsx("span",{children:"50%"}),a.jsx("span",{children:"100% (Nur Prognose)"})]})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x.forecastInfluencesSpace,onChange:S=>k({forecastInfluencesSpace:S.target.checked}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Prognose beeinflusst Raumbedarf"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Planungsebene fr Raumbedarf"}),a.jsxs("select",{value:x.spaceDemandPlanningLevel,onChange:S=>k({spaceDemandPlanningLevel:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Company",children:"Unternehmen"}),a.jsx("option",{value:"Buying Group",children:"Einkaufsbereich"}),a.jsx("option",{value:"Product Group",children:"Produktgruppe"}),a.jsx("option",{value:"Product",children:"Produkt"})]})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-info)",marginBottom:"var(--space-2)"},children:"Raumbedarf-Formel"}),a.jsxs("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:["SpaceDemand",a.jsx("sub",{children:"h"})," =  (Forecast",a.jsx("sub",{children:"i"}),"  p",a.jsx("sub",{children:"i"}),")"]}),a.jsx("div",{className:"mt-2",style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:"Der Raumbedarf wird durch Summierung der prognostizierten Mengen multipliziert mit dem Flchenbedarf je Artikel berechnet."})]})]}),h===3&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Kapazitt & Restriktionen"}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Kapazittseinheit"}),a.jsx("div",{className:"flex gap-2",children:["m","Fixtures"].map(S=>a.jsx("button",{onClick:()=>k({capacityUnit:S}),className:"px-4 py-2 rounded-lg border",style:{backgroundColor:x.capacityUnit===S?"var(--brand-primary)":"var(--surface-page)",borderColor:x.capacityUnit===S?"var(--brand-primary)":"var(--border-input)",color:x.capacityUnit===S?"var(--text-inverse)":"var(--text-primary)",fontSize:"var(--font-size-sm)"},children:S},S))})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Kapazitts-Planungsebene"}),a.jsxs("select",{value:x.capacityPlanningLevel,onChange:S=>k({capacityPlanningLevel:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Company",children:"Unternehmen"}),a.jsx("option",{value:"Buying Group",children:"Einkaufsbereich"}),a.jsx("option",{value:"Product Group",children:"Produktgruppe"})]})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x.capacityIsHardLimit,onChange:S=>k({capacityIsHardLimit:S.target.checked}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Kapazitt ist harte Grenze"})]}),!x.capacityIsHardLimit&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:["Soft Zone: +",x.softZonePercentage,"%"]}),a.jsx("input",{type:"range",min:0,max:20,step:1,value:x.softZonePercentage,onChange:S=>k({softZonePercentage:Number(S.target.value)}),className:"w-full"})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:["Penalty Weight: ",x.softZonePenaltyWeight]}),a.jsx("input",{type:"range",min:0,max:1,step:.1,value:x.softZonePenaltyWeight,onChange:S=>k({softZonePenaltyWeight:Number(S.target.value)}),className:"w-full"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-subtle)",fontFamily:"monospace",fontSize:"var(--font-size-sm)"},children:["Free",a.jsx("sub",{children:"s,h"})," = max(0, Cap",a.jsx("sub",{children:"soll,s,h"}),"  Occ",a.jsx("sub",{children:"ist,s,h"}),")"]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-subtle)",fontFamily:"monospace",fontSize:"var(--font-size-sm)"},children:[" (p",a.jsx("sub",{children:"i"}),"  x",a.jsx("sub",{children:"i,s"}),")  Free",a.jsx("sub",{children:"s,h"})]})]})]}),h===4&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Rationierung & Fairness"}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Rationierungsstrategie"}),a.jsxs("select",{value:x.rationingStrategy,onChange:S=>k({rationingStrategy:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Proportional",children:"Proportional"}),a.jsx("option",{value:"Top Performer First",children:"Top Performer zuerst"}),a.jsx("option",{value:"Min-Max Fairness",children:"Min-Max Fairness"}),a.jsx("option",{value:"Presentation Stock First",children:"Prsentationsbestand zuerst"})]})]}),x.rationingStrategy==="Top Performer First"&&a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Top Performer Definition"}),a.jsxs("select",{value:x.topPerformerDefinition,onChange:S=>k({topPerformerDefinition:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Top 20% Sales",children:"Top 20% Umsatz"}),a.jsx("option",{value:"Top 30% Sales",children:"Top 30% Umsatz"}),a.jsx("option",{value:"A-Stores",children:"A-Filialen"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:["MinFill-Prozentsatz: ",x.minFillPercentage,"%"]}),a.jsx("input",{type:"range",min:50,max:100,step:5,value:x.minFillPercentage,onChange:S=>k({minFillPercentage:Number(S.target.value)}),className:"w-full"})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"flex",alignItems:"center",gap:"var(--space-2)"},children:["Fairness-Faktor : ",x.fairnessFactor,a.jsx(Af,{formula:"Fairness =   Equal_Distribution + (1 - )  Performance_Weight",inputs:[{symbol:"",value:x.fairnessFactor,source:"Slider"},{symbol:"Equal_Distribution",value:"1.0",source:"Gleichverteilung"},{symbol:"Performance_Weight",value:"0.85",source:"Performance-Gewichtung"}],explanation:"Ein hherer Fairness-Faktor fhrt zu gleichmigerer Verteilung, ein niedrigerer zu strkerer Performance-Gewichtung."})]}),a.jsx("input",{type:"range",min:0,max:1,step:.1,value:x.fairnessFactor,onChange:S=>k({fairnessFactor:Number(S.target.value)}),className:"w-full"}),a.jsxs("div",{className:"flex justify-between mt-1",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[a.jsx("span",{children:"0 (Performance)"}),a.jsx("span",{children:"0.5"}),a.jsx("span",{children:"1 (Gleichverteilung)"})]})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-info)",marginBottom:"var(--space-2)"},children:"Zielfunktion"}),a.jsxs("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},children:["max  (w",a.jsx("sub",{children:"i,s"}),"  x",a.jsx("sub",{children:"i,s"}),")    Underfill    Overcap"]})]})]}),h===5&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Fallback & MinFill"}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x.allowFallback,onChange:S=>k({allowFallback:S.target.checked}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Fallback erlauben"})]}),x.allowFallback&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Fallback-Strategie"}),a.jsxs("select",{value:x.fallbackStrategy,onChange:S=>k({fallbackStrategy:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Core/NOS substitution",children:"Core/NOS Substitution"}),a.jsx("option",{value:"Fairness redistribution",children:"Fairness Redistribution"}),a.jsx("option",{value:"Rule-based replacement",children:"Regelbasierte Ersetzung"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:["Fallback-Schwelle: ",x.fallbackThreshold,"%"]}),a.jsx("input",{type:"range",min:50,max:100,step:5,value:x.fallbackThreshold,onChange:S=>k({fallbackThreshold:Number(S.target.value)}),className:"w-full"})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"MinFill-Profil"}),a.jsxs("select",{value:x.minFillProfile,onChange:S=>k({minFillProfile:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Core",children:"Core"}),a.jsx("option",{value:"Premium",children:"Premium"}),a.jsx("option",{value:"Small Store",children:"Small Store"})]})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-warning-subtle)",border:"1px solid var(--status-warning)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-warning)",marginBottom:"var(--space-2)"},children:"Fallback-Trigger"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:["Fallback wird aktiviert wenn:",a.jsxs("ul",{className:"mt-2 ml-4 space-y-1",children:[a.jsx("li",{children:" Supply < Demand UND SpaceDemand > Capacity"}),a.jsxs("li",{children:[" ODER ForecastFulfillment < ",x.fallbackThreshold,"%"]})]})]})]})]}),h===6&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"LOT / Gre / Pack"}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x.enforcePackSize,onChange:S=>k({enforcePackSize:S.target.checked}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Packgre erzwingen"})]}),x.enforcePackSize&&a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Packgre"}),a.jsx("input",{type:"number",min:1,value:x.packSize,onChange:S=>k({packSize:Number(S.target.value)}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"4px"},children:"Aus Artikelparameter"})]}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x.sizeCurveActive,onChange:S=>k({sizeCurveActive:S.target.checked}),className:"rounded"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Grenkurve aktiv"})]}),x.sizeCurveActive&&a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Min. Gren pro Filiale"}),a.jsx("input",{type:"number",min:1,max:10,value:x.minSizesPerStore,onChange:S=>k({minSizesPerStore:Number(S.target.value)}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block"},children:"Reparatur-Modus"}),a.jsxs("select",{value:x.repairMode,onChange:S=>k({repairMode:S.target.value}),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"Strict",children:"Strict (Ablehnen bei Verletzung)"}),a.jsx("option",{value:"Best Effort",children:"Best Effort (Bestmglich reparieren)"})]})]})]})]})]})]})}),a.jsx("div",{className:"overflow-y-auto border-l",style:{width:"25%",minWidth:"300px",backgroundColor:"var(--surface-subtle)",borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Vergleich"}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block",color:"var(--text-muted)"},children:"Baseline-Variante"}),a.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)"},children:[a.jsx("option",{children:"Standard HW 2025"}),a.jsx("option",{children:"SW 2025 - Baseline"})]})]}),a.jsx("div",{className:"mt-4 space-y-2",children:[{label:"Supply",value:"85.6%",delta:-6.9,baseline:"92.5%"},{label:"Forecast",value:"95.2%",delta:6.9,baseline:"88.3%"},{label:"Capacity",value:"82.4%",delta:1.2,baseline:"81.2%"}].map(S=>a.jsxs("div",{className:"p-2 rounded",style:{backgroundColor:"var(--surface-page)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:S.label}),a.jsxs("span",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-semibold)",color:S.delta>0?"var(--status-success)":"var(--status-danger)"},children:[S.delta>0?"+":"",S.delta,"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)"},children:S.value}),a.jsxs("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:["vs ",S.baseline]})]})]},S.label))})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Validierung"}),a.jsx("div",{className:"space-y-2",children:[{label:"Empfnger gltig",status:!0},{label:"Liefertermine gltig",status:!0},{label:"Kapazitts-Snapshot vorhanden",status:!0},{label:"Parameter vollstndig",status:!0},{label:"Keine blockierenden Ausnahmen",status:!1}].map((S,N)=>a.jsxs("div",{className:"flex items-center gap-2",children:[S.status?a.jsx(Zr,{size:16,style:{color:"var(--status-success)"}}):a.jsx(Ft,{size:16,style:{color:"var(--status-warning)"}}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",color:S.status?"var(--text-primary)":"var(--status-warning)"},children:S.label})]},N))}),a.jsx("button",{className:"w-full mt-4 px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Validieren"})]}),f.status==="Validated"&&a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Freigabe"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",marginBottom:"var(--space-2)",display:"block",color:"var(--text-muted)"},children:"Kommentar (Pflichtfeld)"}),a.jsx("textarea",{placeholder:"Freigabekommentar...",rows:3,className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)",backgroundColor:"var(--surface-page)",resize:"vertical"}})]}),a.jsx("button",{className:"w-full px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:"Variante freigeben"})]})]}),f.status==="Released"&&a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Allokations-Run"}),a.jsxs("button",{onClick:()=>r?.(f.id),className:"w-full px-4 py-2 rounded-lg flex items-center justify-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(NE,{size:18}),"Zu Allokations-Run bertragen"]})]})]})})]})}const Ir=[{id:"1",store:"Zrich HB",cluster:"Urban Premium",product:"Running Shoes Pro",productGroup:"Shoes",demand:150,allocated:127,forecast:120,spaceDemand:52.5,spaceAvailable:70,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"2",store:"Basel SBB",cluster:"Urban Standard",product:"Running Shoes Pro",productGroup:"Shoes",demand:120,allocated:102,forecast:95,spaceDemand:42,spaceAvailable:50,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"3",store:"Genf",cluster:"Urban Premium",product:"Running Shoes Pro",productGroup:"Shoes",demand:165,allocated:140,forecast:135,spaceDemand:57.8,spaceAvailable:80,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"4",store:"Bern Bahnhof",cluster:"Regional",product:"Running Shoes Pro",productGroup:"Shoes",demand:85,allocated:48,forecast:70,spaceDemand:35,spaceAvailable:25,inFallback:!0,rationingApplied:!0,minFillMet:!1,exception:"Capacity Limit"},{id:"5",store:"Luzern",cluster:"Regional",product:"Running Shoes Pro",productGroup:"Shoes",demand:95,allocated:81,forecast:80,spaceDemand:33.3,spaceAvailable:45,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"6",store:"Zrich HB",cluster:"Urban Premium",product:"Winter Jacket",productGroup:"Apparel",demand:200,allocated:170,forecast:165,spaceDemand:85,spaceAvailable:95,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"7",store:"Basel SBB",cluster:"Urban Standard",product:"Winter Jacket",productGroup:"Apparel",demand:160,allocated:136,forecast:130,spaceDemand:68,spaceAvailable:75,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"8",store:"Genf",cluster:"Urban Premium",product:"Winter Jacket",productGroup:"Apparel",demand:220,allocated:187,forecast:180,spaceDemand:93.5,spaceAvailable:105,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"9",store:"Bern Bahnhof",cluster:"Regional",product:"Winter Jacket",productGroup:"Apparel",demand:110,allocated:65,forecast:90,spaceDemand:55,spaceAvailable:40,inFallback:!0,rationingApplied:!0,minFillMet:!1,exception:"Capacity Limit"},{id:"10",store:"Luzern",cluster:"Regional",product:"Winter Jacket",productGroup:"Apparel",demand:125,allocated:106,forecast:100,spaceDemand:50,spaceAvailable:60,inFallback:!1,rationingApplied:!0,minFillMet:!0},{id:"11",store:"St. Gallen",cluster:"Regional",product:"Hiking Boots",productGroup:"Shoes",demand:75,allocated:42,forecast:60,spaceDemand:31.5,spaceAvailable:22,inFallback:!0,rationingApplied:!0,minFillMet:!1,exception:"Capacity Limit"},{id:"12",store:"Lausanne",cluster:"Urban Standard",product:"Hiking Boots",productGroup:"Shoes",demand:105,allocated:89,forecast:85,spaceDemand:42,spaceAvailable:55,inFallback:!1,rationingApplied:!0,minFillMet:!0}];function soe({variantName:e,onBack:t,onSaveVariant:r,onNavigateToExplainability:n}){const[i,o]=z.useState("completed"),[l,u]=z.useState("overview"),[d,f]=z.useState(""),[v,h]=z.useState(""),m=Ir.reduce((T,I)=>T+I.demand,0),b=Ir.reduce((T,I)=>T+I.allocated,0),w=Ir.reduce((T,I)=>T+I.forecast,0),x=b/m*100,y=b/w*100,j=Ir.filter(T=>T.inFallback).length,k=Ir.filter(T=>T.minFillMet).length/Ir.length*100,S=Ir.filter(T=>T.exception).length,N=Object.entries(Ir.reduce((T,I)=>(T[I.cluster]||(T[I.cluster]={demand:0,allocated:0,forecast:0}),T[I.cluster].demand+=I.demand,T[I.cluster].allocated+=I.allocated,T[I.cluster].forecast+=I.forecast,T),{})).map(([T,I])=>({cluster:T,demand:I.demand,allocated:I.allocated,forecast:I.forecast,coverage:I.allocated/I.demand*100})),A=Object.entries(Ir.reduce((T,I)=>(T[I.productGroup]||(T[I.productGroup]={demand:0,allocated:0}),T[I.productGroup].demand+=I.demand,T[I.productGroup].allocated+=I.allocated,T),{})).map(([T,I])=>({productGroup:T,demand:I.demand,allocated:I.allocated,coverage:I.allocated/I.demand*100})),O=Ir.map(T=>({spaceDemand:T.spaceDemand,spaceAvailable:T.spaceAvailable,allocated:T.allocated,store:T.store,inFallback:T.inFallback})),_=Ir.filter(T=>!(d&&T.cluster!==d||v&&T.productGroup!==v)),E=[{key:"store",label:"Filiale",sortable:!0},{key:"cluster",label:"Cluster",sortable:!0},{key:"product",label:"Produkt",sortable:!0},{key:"productGroup",label:"Produktgruppe",sortable:!0},{key:"demand",label:"Bedarf",align:"right",sortable:!0,render:T=>T.toLocaleString("de-CH")},{key:"allocated",label:"Allokiert",align:"right",sortable:!0,render:(T,I)=>{const R=T/I.demand*100;return a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsx("span",{children:T.toLocaleString("de-CH")}),a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:R>=90?"var(--surface-success-subtle)":R>=75?"var(--surface-warning-subtle)":"var(--surface-danger-subtle)",color:R>=90?"var(--status-success)":R>=75?"var(--status-warning)":"var(--status-danger)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[R.toFixed(0),"%"]})]})}},{key:"forecast",label:"Prognose",align:"right",sortable:!0,render:T=>T.toLocaleString("de-CH")},{key:"spaceDemand",label:"Raumbedarf",align:"right",sortable:!0,render:T=>`${T.toFixed(1)} m`},{key:"spaceAvailable",label:"Kapazitt",align:"right",sortable:!0,render:(T,I)=>{const R=I.spaceDemand/T*100;return a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsxs("span",{children:[T.toFixed(1)," m"]}),R>100&&a.jsx(Ft,{size:16,style:{color:"var(--status-danger)"}})]})}},{key:"inFallback",label:"Status",render:(T,I)=>a.jsxs("div",{className:"flex flex-wrap gap-1",children:[T&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Fallback"}),I.rationingApplied&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-info-subtle)",color:"var(--status-info)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Rationiert"}),!I.minFillMet&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-danger-subtle)",color:"var(--status-danger)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"MinFill "}),I.exception&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-danger-subtle)",color:"var(--status-danger)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:I.exception})]})}];return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-tint",children:a.jsx(vE,{size:20})}),a.jsxs("div",{children:[a.jsxs("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"4px"},children:["Simulationsanalyse: ",e]}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Analysiere die Allokationsergebnisse und speichere die Variante"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[i==="completed"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:n,className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(bE,{size:16}),"Explainability"]}),a.jsxs("button",{className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(Ia,{size:16}),"Export"]}),a.jsxs("button",{onClick:r,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(Ds,{size:16}),"Variante speichern"]})]}),i==="idle"&&a.jsxs("button",{onClick:()=>o("running"),className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(wf,{size:16}),"Simulation starten"]})]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[i==="completed"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6 p-4 rounded-lg border flex items-start gap-3",style:{backgroundColor:S>0?"var(--surface-warning-subtle)":"var(--surface-success-subtle)",borderColor:S>0?"var(--status-warning)":"var(--status-success)"},children:[S>0?a.jsx(Ft,{size:24,style:{color:"var(--status-warning)",flexShrink:0}}):a.jsx(Zr,{size:24,style:{color:"var(--status-success)",flexShrink:0}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"4px",color:S>0?"var(--status-warning)":"var(--status-success)"},children:S>0?"Simulation mit Warnungen abgeschlossen":"Simulation erfolgreich abgeschlossen"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:S>0?`${S} Ausnahmen erkannt - Fallback in ${j} Filialen aktiv`:"Alle Allokationen erfolgreich berechnet"})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(Rt,{title:"Supply Coverage",value:x.toFixed(1),unit:"%",delta:-6.9,deltaLabel:"vs baseline",state:x>=90?"success":"warning",formula:"Coverage = (Allocated / Demand)  100%",formulaInputs:[{symbol:"Allocated",value:b,source:"Simulation"},{symbol:"Demand",value:m,source:"Bedarfsberechnung"}]}),a.jsx(Rt,{title:"Forecast Fulfillment",value:y.toFixed(1),unit:"%",delta:6.9,deltaLabel:"vs baseline",state:y>=90?"success":"warning",formula:"FF = (Allocated / Forecast)  100%",formulaInputs:[{symbol:"Allocated",value:b,source:"Simulation"},{symbol:"Forecast",value:w,source:"Prognosesystem"}]}),a.jsx(Rt,{title:"Stores in Fallback",value:j,state:j>0?"warning":"success"}),a.jsx(Rt,{title:"MinFill Fulfillment",value:k.toFixed(1),unit:"%",state:k>=90?"success":"warning",formula:"MF = (Stores_MinFill_Met / Total_Stores)  100%",formulaInputs:[{symbol:"Stores_MinFill_Met",value:Ir.filter(T=>T.minFillMet).length,source:"Simulation"},{symbol:"Total_Stores",value:Ir.length,source:"Simulation"}]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(Rt,{title:"Exception Count",value:S,state:S<5?"success":"warning"}),a.jsx(Rt,{title:"Total Demand",value:m.toLocaleString("de-CH"),unit:"Einheiten",state:"neutral"}),a.jsx(Rt,{title:"Total Allocated",value:b.toLocaleString("de-CH"),unit:"Einheiten",state:"neutral"}),a.jsx(Rt,{title:"Undercoverage",value:(m-b).toLocaleString("de-CH"),unit:"Einheiten",state:"warning"})]}),a.jsxs("div",{className:"border rounded-lg mb-6",style:{borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"flex border-b",style:{borderColor:"var(--border-default)"},children:[{id:"overview",label:"bersicht"},{id:"details",label:"Details"},{id:"exceptions",label:`Ausnahmen (${S})`},{id:"fallback",label:`Fallback (${j})`}].map(T=>a.jsx("button",{onClick:()=>u(T.id),className:"px-4 py-3 border-b-2",style:{borderColor:l===T.id?"var(--brand-primary)":"transparent",color:l===T.id?"var(--brand-primary)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:l===T.id?"var(--font-weight-semibold)":"var(--font-weight-normal)"},children:T.label},T.id))}),a.jsxs("div",{className:"p-6",children:[l==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Coverage nach Cluster"}),a.jsx("div",{style:{width:"100%",height:"300px",minHeight:"300px"},children:a.jsx(Yt,{width:"100%",height:"100%",minHeight:300,children:a.jsxs(Pr,{data:N,children:[a.jsx(bt,{dataKey:"cluster",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(Ie,{dataKey:"demand",fill:"var(--text-muted)",name:"Bedarf",opacity:.4}),a.jsx(Ie,{dataKey:"allocated",fill:"var(--brand-primary)",name:"Allokiert"}),a.jsx(Ie,{dataKey:"forecast",fill:"var(--brand-accent)",name:"Prognose",opacity:.6})]})})})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Coverage nach Produktgruppe"}),a.jsx("div",{style:{width:"100%",height:"300px",minHeight:"300px"},children:a.jsx(Yt,{width:"100%",height:"100%",minHeight:300,children:a.jsxs(Pr,{data:A,layout:"vertical",children:[a.jsx(bt,{type:"number",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{dataKey:"productGroup",type:"category",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(Ie,{dataKey:"demand",fill:"var(--text-muted)",name:"Bedarf",opacity:.4}),a.jsx(Ie,{dataKey:"allocated",fill:"var(--brand-primary)",name:"Allokiert"})]})})})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Kapazittsanalyse (Raumbedarf vs. Verfgbare Kapazitt)"}),a.jsx("div",{style:{width:"100%",height:"350px",minHeight:"350px"},children:a.jsx(Yt,{width:"100%",height:"100%",minHeight:350,children:a.jsxs(sI,{children:[a.jsx(bt,{dataKey:"spaceDemand",name:"Raumbedarf",unit:" m",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{dataKey:"spaceAvailable",name:"Verfgbare Kapazitt",unit:" m",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(jl,{dataKey:"allocated",range:[50,400]}),a.jsx(st,{cursor:{strokeDasharray:"3 3"}}),a.jsx(zt,{}),a.jsx(Di,{name:"Ohne Fallback",data:O.filter(T=>!T.inFallback),fill:"var(--brand-primary)"}),a.jsx(Di,{name:"Mit Fallback",data:O.filter(T=>T.inFallback),fill:"var(--status-warning)"})]})})}),a.jsxs("div",{className:"mt-3 p-3 rounded-lg flex items-start gap-2",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx(Qt,{size:16,style:{color:"var(--status-info)",flexShrink:0,marginTop:"2px"}}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:"Punkte oberhalb der Diagonalen haben ausreichend Kapazitt. Punkte unterhalb der Diagonalen sind kapazittslimitiert und zeigen Fallback-Kandidaten."})]})]})]}),l==="details"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex gap-3 mb-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("select",{value:d,onChange:T=>f(T.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Cluster"}),a.jsx("option",{value:"Urban Premium",children:"Urban Premium"}),a.jsx("option",{value:"Urban Standard",children:"Urban Standard"}),a.jsx("option",{value:"Regional",children:"Regional"})]})}),a.jsx("div",{className:"flex-1",children:a.jsxs("select",{value:v,onChange:T=>h(T.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle Produktgruppen"}),a.jsx("option",{value:"Shoes",children:"Shoes"}),a.jsx("option",{value:"Apparel",children:"Apparel"}),a.jsx("option",{value:"Accessories",children:"Accessories"})]})})]}),a.jsx(Nr,{columns:E,data:_,density:"comfortable"})]}),l==="exceptions"&&a.jsx("div",{children:a.jsx(Nr,{columns:E,data:Ir.filter(T=>T.exception),density:"comfortable"})}),l==="fallback"&&a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-warning)",marginBottom:"var(--space-2)"},children:"Fallback-Strategie: Core/NOS Substitution"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:["In ",j," Filialen konnte die geplante Produktgruppe aufgrund von Kapazittsengpssen nicht vollstndig allokiert werden. Stattdessen wurden effizientere Core/NOS-Artikel als Ersatz zugeteilt."]}),a.jsxs("div",{className:"mt-3 p-3 rounded",style:{backgroundColor:"var(--surface-page)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Effizienz-Verbesserung:"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-success)"},children:"+12.5%"})]})]}),a.jsx(Nr,{columns:E,data:Ir.filter(T=>T.inFallback),density:"comfortable"})]})]})]})]}),i==="running"&&a.jsx("div",{className:"flex items-center justify-center",style:{minHeight:"400px"},children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 rounded-full animate-spin mx-auto mb-4",style:{borderColor:"var(--border-default)",borderTopColor:"var(--brand-primary)"}}),a.jsx("div",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"8px"},children:"Simulation luft..."}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:"Berechne Allokation fr 245 Filialen"})]})}),i==="idle"&&a.jsx("div",{className:"flex items-center justify-center",style:{minHeight:"400px"},children:a.jsxs("div",{className:"text-center",children:[a.jsx(wf,{size:48,style:{color:"var(--brand-primary)",margin:"0 auto 16px"}}),a.jsx("div",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"8px"},children:"Bereit zur Simulation"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginBottom:"24px"},children:'Klicken Sie auf "Simulation starten" um die Allokation zu berechnen'}),a.jsxs("button",{onClick:()=>o("running"),className:"px-6 py-3 rounded-lg flex items-center gap-2 mx-auto",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(wf,{size:20}),"Simulation starten"]})]})})]})]})}const Jb=[{id:"sku-1",sku:"RUN-PRO-001",articleColor:"Running Shoes Pro - Black",productGroup:"Shoes",season:"NOS",priorityScore:92.5,forecastDemand:1450,replenishmentNeed:1280,dcSupply:1100,allocated:1085,shortage:195,capacityLimitedStores:3,stockoutRiskStores:8,substitutionUsed:0,packSizeRepairs:12,sizeCurveRepairs:5,status:"shortage",packSize:6,spacePerUnit:.35},{id:"sku-2",sku:"JAC-WIN-045",articleColor:"Winter Jacket - Navy",productGroup:"Apparel",season:"HW 2025",priorityScore:88.3,forecastDemand:2100,replenishmentNeed:1850,dcSupply:1950,allocated:1835,shortage:15,capacityLimitedStores:5,stockoutRiskStores:2,substitutionUsed:0,packSizeRepairs:8,sizeCurveRepairs:3,status:"ok",packSize:4,spacePerUnit:.5},{id:"sku-3",sku:"HIK-BOO-023",articleColor:"Hiking Boots - Brown",productGroup:"Shoes",season:"NOS",priorityScore:85.7,forecastDemand:980,replenishmentNeed:820,dcSupply:550,allocated:545,shortage:275,capacityLimitedStores:2,stockoutRiskStores:15,substitutionUsed:6,packSizeRepairs:10,sizeCurveRepairs:8,status:"substitution_active",packSize:6,spacePerUnit:.42},{id:"sku-4",sku:"TRA-PAN-067",articleColor:"Training Pants - Black",productGroup:"Apparel",season:"NOS",priorityScore:91.2,forecastDemand:1680,replenishmentNeed:1420,dcSupply:1450,allocated:1410,shortage:10,capacityLimitedStores:1,stockoutRiskStores:3,substitutionUsed:0,packSizeRepairs:6,sizeCurveRepairs:2,status:"ok",packSize:8,spacePerUnit:.28},{id:"sku-5",sku:"CAP-BAS-012",articleColor:"Baseball Cap - Various",productGroup:"Accessories",season:"NOS",priorityScore:78.4,forecastDemand:1200,replenishmentNeed:1050,dcSupply:1100,allocated:1040,shortage:10,capacityLimitedStores:0,stockoutRiskStores:1,substitutionUsed:0,packSizeRepairs:4,sizeCurveRepairs:0,status:"ok",packSize:12,spacePerUnit:.15},{id:"sku-6",sku:"SOC-SHI-089",articleColor:"Soccer Shirt - Red",productGroup:"Apparel",season:"SW 2025",priorityScore:82.6,forecastDemand:1340,replenishmentNeed:1180,dcSupply:980,allocated:965,shortage:215,capacityLimitedStores:4,stockoutRiskStores:11,substitutionUsed:3,packSizeRepairs:7,sizeCurveRepairs:6,status:"shortage",packSize:6,spacePerUnit:.32}],xf=[{id:"alloc-1",storeId:"S001",storeName:"Zrich HB",cluster:"Urban Premium",sku:"RUN-PRO-001",listingAllowed:!0,forecastSales:85,avgDailyForecast:3.04,onHand:12,inbound:6,targetServiceLevel:95,presentationMin:6,replenishmentNeed:67,capacityFree:25.5,capacityMaxUnits:72,allocationProposed:67,allocationFinal:66,coverage:98.5,expectedDOS:27.6,limitingFactor:"pack",substitutionUsed:!1,exceptionsCount:1,sizes:[{size:"38",targetShare:.1,onHand:1,allocated:6,repairDelta:0},{size:"39",targetShare:.15,onHand:2,allocated:10,repairDelta:0},{size:"40",targetShare:.2,onHand:3,allocated:13,repairDelta:1},{size:"41",targetShare:.25,onHand:3,allocated:17,repairDelta:1},{size:"42",targetShare:.2,onHand:2,allocated:13,repairDelta:0},{size:"43",targetShare:.1,onHand:1,allocated:7,repairDelta:1}]},{id:"alloc-2",storeId:"S002",storeName:"Basel SBB",cluster:"Urban Standard",sku:"RUN-PRO-001",listingAllowed:!0,forecastSales:68,avgDailyForecast:2.43,onHand:8,inbound:0,targetServiceLevel:92,presentationMin:5,replenishmentNeed:60,capacityFree:18.2,capacityMaxUnits:52,allocationProposed:52,allocationFinal:54,coverage:90,expectedDOS:25.5,limitingFactor:"capacity",substitutionUsed:!1,exceptionsCount:1,sizes:[{size:"38",targetShare:.1,onHand:1,allocated:5,repairDelta:0},{size:"39",targetShare:.15,onHand:1,allocated:8,repairDelta:0},{size:"40",targetShare:.2,onHand:2,allocated:11,repairDelta:0},{size:"41",targetShare:.25,onHand:2,allocated:14,repairDelta:1},{size:"42",targetShare:.2,onHand:1,allocated:11,repairDelta:0},{size:"43",targetShare:.1,onHand:1,allocated:5,repairDelta:0}]},{id:"alloc-3",storeId:"S003",storeName:"Genf",cluster:"Urban Premium",sku:"RUN-PRO-001",listingAllowed:!0,forecastSales:92,avgDailyForecast:3.29,onHand:15,inbound:12,targetServiceLevel:95,presentationMin:6,replenishmentNeed:65,capacityFree:28,capacityMaxUnits:80,allocationProposed:65,allocationFinal:66,coverage:101.5,expectedDOS:28.3,limitingFactor:"pack",substitutionUsed:!1,exceptionsCount:0,sizes:[{size:"38",targetShare:.1,onHand:2,allocated:7,repairDelta:1},{size:"39",targetShare:.15,onHand:2,allocated:10,repairDelta:0},{size:"40",targetShare:.2,onHand:3,allocated:13,repairDelta:0},{size:"41",targetShare:.25,onHand:4,allocated:17,repairDelta:1},{size:"42",targetShare:.2,onHand:2,allocated:13,repairDelta:0},{size:"43",targetShare:.1,onHand:2,allocated:6,repairDelta:0}]},{id:"alloc-4",storeId:"S004",storeName:"Bern Bahnhof",cluster:"Regional",sku:"RUN-PRO-001",listingAllowed:!0,forecastSales:48,avgDailyForecast:1.71,onHand:3,inbound:0,targetServiceLevel:88,presentationMin:4,replenishmentNeed:45,capacityFree:10.5,capacityMaxUnits:30,allocationProposed:30,allocationFinal:30,coverage:66.7,expectedDOS:19.3,limitingFactor:"capacity",substitutionUsed:!1,exceptionsCount:2,sizes:[{size:"38",targetShare:.1,onHand:0,allocated:3,repairDelta:0},{size:"39",targetShare:.15,onHand:1,allocated:5,repairDelta:1},{size:"40",targetShare:.2,onHand:1,allocated:6,repairDelta:0},{size:"41",targetShare:.25,onHand:1,allocated:8,repairDelta:1},{size:"42",targetShare:.2,onHand:0,allocated:6,repairDelta:0},{size:"43",targetShare:.1,onHand:0,allocated:2,repairDelta:-1}]},{id:"alloc-5",storeId:"S005",storeName:"Luzern",cluster:"Regional",sku:"RUN-PRO-001",listingAllowed:!0,forecastSales:56,avgDailyForecast:2,onHand:5,inbound:6,targetServiceLevel:90,presentationMin:4,replenishmentNeed:45,capacityFree:15.8,capacityMaxUnits:45,allocationProposed:45,allocationFinal:42,coverage:93.3,expectedDOS:26.5,limitingFactor:"pack",substitutionUsed:!1,exceptionsCount:0,sizes:[{size:"38",targetShare:.1,onHand:1,allocated:4,repairDelta:0},{size:"39",targetShare:.15,onHand:1,allocated:6,repairDelta:0},{size:"40",targetShare:.2,onHand:1,allocated:8,repairDelta:0},{size:"41",targetShare:.25,onHand:1,allocated:11,repairDelta:1},{size:"42",targetShare:.2,onHand:1,allocated:8,repairDelta:0},{size:"43",targetShare:.1,onHand:0,allocated:5,repairDelta:1}]},{id:"alloc-6",storeId:"S006",storeName:"St. Gallen",cluster:"Regional",sku:"HIK-BOO-023",listingAllowed:!0,forecastSales:42,avgDailyForecast:1.5,onHand:2,inbound:0,targetServiceLevel:85,presentationMin:3,replenishmentNeed:37,capacityFree:8.4,capacityMaxUnits:20,allocationProposed:20,allocationFinal:18,coverage:48.6,expectedDOS:13.3,limitingFactor:"supply",substitutionUsed:!0,exceptionsCount:2,sizes:[{size:"39",targetShare:.12,onHand:0,allocated:2,repairDelta:0},{size:"40",targetShare:.18,onHand:1,allocated:3,repairDelta:0},{size:"41",targetShare:.25,onHand:1,allocated:5,repairDelta:1},{size:"42",targetShare:.22,onHand:0,allocated:4,repairDelta:0},{size:"43",targetShare:.15,onHand:0,allocated:3,repairDelta:1},{size:"44",targetShare:.08,onHand:0,allocated:1,repairDelta:0}]}],loe={serviceLevelFulfillment:87.3,stockoutRiskStores:12,capacityUtilizationImpact:78.5,supplyCoverageDC:84.8,substitutionActivated:6,repairsApplied:{pack:47,size:24},totalAllocated:6880,horizon:{from:"2025-01-20",to:"2025-02-16",weeks:4}};function coe({variantName:e,onBack:t,onSaveVariant:r,onNavigateToExplainability:n}){const[i,o]=z.useState("completed"),[l,u]=z.useState("overview"),[d,f]=z.useState(""),v=loe,h=Jb.map(y=>({sku:y.articleColor.split(" - ")[0],need:y.replenishmentNeed,allocated:y.allocated,coverage:y.allocated/y.replenishmentNeed*100})),m=xf.map(y=>({expectedDOS:y.expectedDOS,coverage:y.coverage,allocated:y.allocationFinal,store:y.storeName,stockoutRisk:y.expectedDOS<14})),b=xf.filter(y=>!(d&&y.sku!==d)),w=[{key:"storeName",label:"Filiale",sortable:!0},{key:"cluster",label:"Cluster",sortable:!0},{key:"forecastSales",label:"Forecast (4W)",align:"right",sortable:!0,render:y=>y.toLocaleString("de-CH")},{key:"avgDailyForecast",label:" Daily",align:"right",sortable:!0,render:y=>y.toFixed(2)},{key:"onHand",label:"On-Hand",align:"right",sortable:!0},{key:"replenishmentNeed",label:"Need",align:"right",sortable:!0},{key:"allocationFinal",label:"Allocated",align:"right",sortable:!0,render:(y,j)=>a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsx("span",{children:y}),a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:j.coverage>=90?"var(--surface-success-subtle)":j.coverage>=75?"var(--surface-warning-subtle)":"var(--surface-danger-subtle)",color:j.coverage>=90?"var(--status-success)":j.coverage>=75?"var(--status-warning)":"var(--status-danger)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[j.coverage.toFixed(0),"%"]})]})},{key:"expectedDOS",label:"Expected DOS",align:"right",sortable:!0,render:y=>{const j=y;return a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsxs("span",{children:[j.toFixed(1)," Tage"]}),j<14&&a.jsx(Ft,{size:16,style:{color:"var(--status-danger)"}})]})}},{key:"limitingFactor",label:"Limit",render:y=>y?a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:y}):null},{key:"substitutionUsed",label:"Status",render:(y,j)=>a.jsxs("div",{className:"flex flex-wrap gap-1",children:[y&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-warning-subtle)",color:"var(--status-warning)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Substitution"}),j.expectedDOS<14&&a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--surface-danger-subtle)",color:"var(--status-danger)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:"Stockout Risk"})]})}],x=[{key:"articleColor",label:"Artikel",sortable:!0},{key:"productGroup",label:"Produktgruppe",sortable:!0},{key:"priorityScore",label:"Priority Score",align:"right",sortable:!0,render:y=>y.toFixed(1)},{key:"forecastDemand",label:"Forecast Demand",align:"right",sortable:!0,render:y=>y.toLocaleString("de-CH")},{key:"replenishmentNeed",label:"Need",align:"right",sortable:!0,render:y=>y.toLocaleString("de-CH")},{key:"dcSupply",label:"DC Supply",align:"right",sortable:!0,render:y=>y.toLocaleString("de-CH")},{key:"allocated",label:"Allocated",align:"right",sortable:!0,render:(y,j)=>{const k=y/j.replenishmentNeed*100;return a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsx("span",{children:y.toLocaleString("de-CH")}),a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:k>=90?"var(--surface-success-subtle)":k>=75?"var(--surface-warning-subtle)":"var(--surface-danger-subtle)",color:k>=90?"var(--status-success)":k>=75?"var(--status-warning)":"var(--status-danger)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:[k.toFixed(0),"%"]})]})}},{key:"shortage",label:"Shortage",align:"right",sortable:!0,render:y=>y>0?a.jsx("span",{style:{color:"var(--status-danger)",fontWeight:"var(--font-weight-semibold)"},children:y.toLocaleString("de-CH")}):"-"},{key:"stockoutRiskStores",label:"Stockout Risk",align:"right",sortable:!0,render:y=>y>0?a.jsx("span",{style:{color:"var(--status-danger)",fontWeight:"var(--font-weight-semibold)"},children:y}):"-"},{key:"status",label:"Status",render:y=>{const k={ok:{bg:"var(--surface-success-subtle)",color:"var(--status-success)",label:"OK"},shortage:{bg:"var(--surface-danger-subtle)",color:"var(--status-danger)",label:"Shortage"},capacity_limited:{bg:"var(--surface-warning-subtle)",color:"var(--status-warning)",label:"Cap Limited"},substitution_active:{bg:"var(--surface-warning-subtle)",color:"var(--status-warning)",label:"Substitution"},repaired:{bg:"var(--surface-info-subtle)",color:"var(--status-info)",label:"Repaired"}}[y];return a.jsx("span",{className:"px-2 py-1 rounded",style:{backgroundColor:k.bg,color:k.color,fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)"},children:k.label})}}];return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-tint",children:a.jsx(vE,{size:20})}),a.jsxs("div",{children:[a.jsxs("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"4px"},children:["Replenishment Simulation: ",e]}),a.jsxs("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:["Horizon: ",v.horizon.weeks," Wochen (",v.horizon.from," - ",v.horizon.to,")"]})]})]}),a.jsx("div",{className:"flex items-center gap-3",children:i==="completed"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:n,className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(bE,{size:16}),"Explainability"]}),a.jsxs("button",{className:"px-4 py-2 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--button-secondary-bg)",borderColor:"var(--button-secondary-border)",color:"var(--button-secondary-text)",fontSize:"var(--font-size-sm)"},children:[a.jsx(Ia,{size:16}),"Export"]}),a.jsxs("button",{onClick:r,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(Ds,{size:16}),"Variante speichern"]})]})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i==="completed"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6 p-4 rounded-lg border flex items-start gap-3",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},children:[a.jsx(Ft,{size:24,style:{color:"var(--status-warning)",flexShrink:0}}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"4px",color:"var(--status-warning)"},children:"Simulation mit Warnungen abgeschlossen"}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:`${v.stockoutRiskStores} Filialen mit Stockout-Risiko - Substitution in ${v.substitutionActivated} Filialen aktiv`})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(Rt,{title:"Service Level Fulfillment",value:v.serviceLevelFulfillment,unit:"%",delta:-7.7,deltaLabel:"vs target 95%",state:"warning",formula:"SLF =  min(1, Coverage_{i,s})  Weight_{i,s} /  Weight_{i,s}",formulaInputs:[{symbol:"Coverage_{i,s}",value:.873,source:"Allokation",description:"Allocated / Need"},{symbol:"Weight_{i,s}",value:12500,source:"Umsatzdaten",description:"Gewichtungsfaktor"}]}),a.jsx(Rt,{title:"Stockout Risk Stores",value:v.stockoutRiskStores,delta:-3,deltaLabel:"vs baseline",state:"warning",formula:"StockoutRisk = stores where DOS < ThresholdDays",formulaInputs:[{symbol:"DOS_{i,s}",value:6.5,source:"DOS-Berechnung",description:"(OnHand + Allocated) / AvgDaily"},{symbol:"ThresholdDays",value:14,source:"Parameter",description:"Kritische Schwelle"}]}),a.jsx(Rt,{title:"Capacity Utilization Impact",value:v.capacityUtilizationImpact,unit:"%",delta:2.1,deltaLabel:"vs current",state:"success"}),a.jsx(Rt,{title:"Supply Coverage DC",value:v.supplyCoverageDC,unit:"%",delta:-6.2,deltaLabel:"vs need",state:"warning"})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[a.jsx(Rt,{title:"Substitution Activated",value:v.substitutionActivated,state:"warning"}),a.jsx(Rt,{title:"Pack Repairs",value:v.repairsApplied.pack,state:"neutral"}),a.jsx(Rt,{title:"Size Curve Repairs",value:v.repairsApplied.size,state:"neutral"}),a.jsx(Rt,{title:"Total Allocated",value:v.totalAllocated.toLocaleString("de-CH"),unit:"Einheiten",state:"neutral"})]}),a.jsxs("div",{className:"border rounded-lg mb-6",style:{borderColor:"var(--border-default)"},children:[a.jsx("div",{className:"flex border-b",style:{borderColor:"var(--border-default)"},children:[{id:"overview",label:"bersicht"},{id:"details",label:"Store Details"},{id:"stockout",label:`Stockout Risk (${v.stockoutRiskStores})`},{id:"substitution",label:`Substitution (${v.substitutionActivated})`}].map(y=>a.jsx("button",{onClick:()=>u(y.id),className:"px-4 py-3 border-b-2",style:{borderColor:l===y.id?"var(--brand-primary)":"transparent",color:l===y.id?"var(--brand-primary)":"var(--text-secondary)",fontSize:"var(--font-size-sm)",fontWeight:l===y.id?"var(--font-weight-semibold)":"var(--font-weight-normal)"},children:y.label},y.id))}),a.jsxs("div",{className:"p-6",children:[l==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Coverage nach SKU"}),a.jsx("div",{style:{width:"100%",height:"300px",minHeight:"300px"},children:a.jsx(Yt,{width:"100%",height:"100%",minHeight:300,children:a.jsxs(Pr,{data:h,children:[a.jsx(bt,{dataKey:"sku",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{style:{fontSize:"var(--font-size-xs)"}}),a.jsx(st,{}),a.jsx(zt,{}),a.jsx(Ie,{dataKey:"need",fill:"var(--text-muted)",name:"Need",opacity:.4}),a.jsx(Ie,{dataKey:"allocated",fill:"var(--brand-primary)",name:"Allocated"})]})})})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Days of Supply vs. Coverage"}),a.jsx("div",{style:{width:"100%",height:"350px",minHeight:"350px"},children:a.jsx(Yt,{width:"100%",height:"100%",minHeight:350,children:a.jsxs(sI,{children:[a.jsx(bt,{dataKey:"expectedDOS",name:"Expected DOS",unit:" Tage",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(St,{dataKey:"coverage",name:"Coverage",unit:"%",style:{fontSize:"var(--font-size-xs)"}}),a.jsx(jl,{dataKey:"allocated",range:[50,400]}),a.jsx(st,{cursor:{strokeDasharray:"3 3"}}),a.jsx(zt,{}),a.jsx(Di,{name:"Ohne Stockout Risk",data:m.filter(y=>!y.stockoutRisk),fill:"var(--brand-primary)"}),a.jsx(Di,{name:"Mit Stockout Risk",data:m.filter(y=>y.stockoutRisk),fill:"var(--status-danger)"})]})})}),a.jsxs("div",{className:"mt-3 p-3 rounded-lg flex items-start gap-2",style:{backgroundColor:"var(--surface-info-subtle)",border:"1px solid var(--border-info)"},children:[a.jsx(Qt,{size:16,style:{color:"var(--status-info)",flexShrink:0,marginTop:"2px"}}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:"Punkte mit DOS < 14 Tage (rote Punkte) haben hohes Stockout-Risiko innerhalb der nchsten 2 Wochen."})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"SKU Overview"}),a.jsx(Nr,{columns:x,data:Jb,density:"comfortable"})]})]}),l==="details"&&a.jsxs("div",{children:[a.jsx("div",{className:"mb-4",children:a.jsxs("select",{value:d,onChange:y=>f(y.target.value),className:"px-3 py-2 rounded-lg border",style:{borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"},children:[a.jsx("option",{value:"",children:"Alle SKUs"}),Jb.map(y=>a.jsx("option",{value:y.sku,children:y.articleColor},y.id))]})}),a.jsx(Nr,{columns:w,data:b,density:"comfortable"})]}),l==="stockout"&&a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-danger-subtle)",borderColor:"var(--status-danger)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-danger)",marginBottom:"var(--space-2)"},children:"Stockout Risk Analysis"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:[v.stockoutRiskStores," Filialen haben einen erwarteten Days of Supply (DOS) unter 14 Tagen. Diese Filialen knnten innerhalb der nchsten 2 Wochen leerlaufen."]})]}),a.jsx(Nr,{columns:w,data:xf.filter(y=>y.expectedDOS<14),density:"comfortable"})]}),l==="substitution"&&a.jsxs("div",{children:[a.jsxs("div",{className:"mb-4 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-warning)",marginBottom:"var(--space-2)"},children:"Substitution Strategy: Within Product Group"}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:["In ",v.substitutionActivated," Filialen wurde Substitution aktiviert aufgrund von kritischem Stockout-Risiko oder MinFill-Unterschreitung. Ersatz-SKUs wurden nach Efficiency (Forecast/SpaceDemand) ausgewhlt."]}),a.jsxs("div",{className:"mt-3 p-3 rounded",style:{backgroundColor:"var(--surface-page)"},children:[a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:"Effizienz-Verbesserung:"}),a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-success)"},children:"+8.5%"})]})]}),a.jsx(Nr,{columns:w,data:xf.filter(y=>y.substitutionUsed),density:"comfortable"})]})]})]})]})})]})}const uoe=[{id:"step-1",step:1,title:"Scope & Eligibility",status:"OK",summary:"Zeitfenster und SKU-Scope definiert",what:"Der Scope des Replenishment-Laufs wurde festgelegt: Zeitfenster, betroffene SKUs, Filialen und Produktgruppen.",inputs:[{label:"Zeitfenster",value:"4 Wochen (20.01-16.02.2025)",source:"Variantenkonfiguration"},{label:"SKU-Anzahl",value:"1.247",source:"Produktstamm"},{label:"Filialscope",value:"245 Filialen",source:"Filialstamm"},{label:"Produktgruppen",value:"12 aktiv",source:"Hierarchie"}],output:"Scope: 1.247 SKUs  245 Filialen  4 Wochen",explanation:"Der Replenishment-Lauf arbeitet mit einem 4-Wochen-Horizont und umfasst alle aktiven SKUs in den definierten Produktgruppen fr alle belieferbaren Filialen."},{id:"step-2",step:2,title:"Recipient Determination",status:"OK",summary:"245 Filialen qualifiziert fr Belieferung",what:"Filialen wurden auf Basis von Listung, Transportrelationen und Liefersperren gefiltert.",inputs:[{label:"Gesamtfilialen",value:"258",source:"Filialstamm"},{label:"Listungskriterium aktiv",value:"Ja",source:"Variantenkonfiguration"},{label:"Ausgeschlossen",value:"13",source:"Filterung"}],output:"245 Filialen qualifiziert",explanation:"13 Filialen wurden ausgeschlossen: 5 wegen fehlender Listung, 4 wegen Liefersperre, 4 wegen blockierter Transportrelation."},{id:"step-3",step:3,title:"Forecast & Demand Signals",status:"OK",summary:"Absatzprognose und Recent Sales geladen",what:"Die Absatzprognose wurde fr den Horizont geladen und mit aktuellen Verkaufsdaten (Last 2 Weeks) abgeglichen.",inputs:[{label:"Prognosequelle",value:"Statistical Forecast v2.3",source:"Prognosesystem"},{label:"Prognose-Horizont",value:"4 Wochen",source:"Variantenkonfiguration"},{label:"Recent Sales Period",value:"14 Tage",source:"Systemparameter"},{label:"Gesamt Forecast Demand",value:"8.750 Einheiten",source:"Prognoseberechnung"}],formula:"ForecastDemand_{i,s} = _t ForecastSales_{i,s,t}",formulaInputs:[{symbol:"ForecastSales_{i,s,t}",value:"Variable",source:"Prognosesystem",description:"Prognose pro Tag/Woche"},{symbol:"t",value:"1-4 Wochen",source:"Zeitfenster",description:"Zeitbucket im Horizont"}],output:"Forecast fr 8.750 Einheiten ber 4 Wochen",explanation:"Die Prognose bercksichtigt saisonale Trends, aktuelle Verkaufsdaten und Lagerbestnde. Recent Sales der letzten 14 Tage wurden als Plausibilittscheck verwendet."},{id:"step-4",step:4,title:"Replenishment Need Calculation",status:"OK",summary:"Nachschubsbedarf: 7.600 Einheiten",what:"Der Nachschubsbedarf wurde berechnet als Ziellagerbestand minus aktuellem Bestand und Zulufen.",inputs:[{label:"Forecast Demand (Horizont)",value:"8.750 Einheiten",source:"Schritt 3"},{label:"Safety Stock",value:"620 Einheiten",source:"Sicherheitsbestand-Berechnung"},{label:"Presentation Min",value:"980 Einheiten",source:"Parameter"},{label:"On-Hand gesamt",value:"1.850 Einheiten",source:"Bestandssnapshot"},{label:"Inbound gesamt",value:"900 Einheiten",source:"Zulaufsdaten"}],formula:"Need_{i,s} = max(0, (ForecastDemand_{i,s} + Safety_{i,s} + Min_{i,s})  (OnHand_{i,s} + Inbound_{i,s}))",formulaInputs:[{symbol:"ForecastDemand_{i,s}",value:85,source:"Schritt 3",description:"Prognose fr Horizont"},{symbol:"Safety_{i,s}",value:8,source:"Sicherheitsbestandsberechnung",description:"z    LeadTime"},{symbol:"Min_{i,s}",value:6,source:"Prsentationsparameter",description:"Mindestprsentation"},{symbol:"OnHand_{i,s}",value:12,source:"Bestandssnapshot",description:"Aktueller Bestand"},{symbol:"Inbound_{i,s}",value:6,source:"Zulaufsdaten",description:"Zulufe im Horizont"}],output:"Replenishment Need: 7.600 Einheiten",explanation:"Der Nachschubsbedarf wurde so berechnet, dass der Ziellagerbestand (Forecast + Safety + MinPrsentation) erreicht wird, abzglich bereits vorhandenem Bestand und Zulufen. Safety Stock wurde mit Service Level 95% berechnet."},{id:"step-5",step:5,title:"Service Level Targeting",status:"WARN",summary:"Service Level Target: 95%, Erreicht: 87.3%",what:"Service Level Ziele wurden definiert und mit der erwarteten Coverage verglichen.",inputs:[{label:"Target Service Level ()",value:"95%",source:"Variantenkonfiguration"},{label:"Berechnete Coverage",value:"87.3%",source:"Allokationsberechnung"},{label:"Gewichtung",value:"Nach Umsatz",source:"Variantenkonfiguration"}],formula:"ServiceLevelFulfillment =  min(1, Coverage_{i,s})  Weight_{i,s} /  Weight_{i,s}",formulaInputs:[{symbol:"Coverage_{i,s}",value:.985,source:"Allokation",description:"Allocated / Need"},{symbol:"Weight_{i,s}",value:12500,source:"Umsatzdaten",description:"Gewichtungsfaktor (Umsatz)"}],output:"Service Level Fulfillment: 87.3%",limitingFactor:"Service Level Target von 95% nicht erreicht (Delta: -7.7%)",explanation:"Das Service Level Ziel von 95% konnte aufgrund von Supply-Engpssen nicht erreicht werden. Die erreichten 87.3% bedeuten, dass 87.3% der gewichteten Bedarfsmenge gedeckt werden kann.",warnings:["Service Level Target nicht erreicht","12 Filialen mit Stockout-Risiko","Kritische SKUs: RUN-PRO-001, HIK-BOO-023"]},{id:"step-6",step:6,title:"DC Supply Determination",status:"WARN",summary:"Verfgbarkeit DC: 7.130 Einheiten (93.8% des Bedarfs)",what:"Die verfgbare Menge im DC wurde aus Bestand, Bestellungen und Lieferungen ermittelt.",inputs:[{label:"DC On-Hand",value:"5.850 Einheiten",source:"DC Snapshot"},{label:"DC Inbound (besttigt)",value:"1.200 Einheiten",source:"Einkaufssystem"},{label:"DC Reservierungen",value:"-80 Einheiten",source:"Reservierungssystem"},{label:"Externe Quellen",value:"160 Einheiten",source:"Externe Lieferanten"}],formula:"Available_{i,DC} = OnHand_{i,DC} + Inbound_{i,DC}  Reservations_{i,DC} + External_i",formulaInputs:[{symbol:"OnHand_{i,DC}",value:5850,source:"DC Snapshot",description:"DC-Bestand"},{symbol:"Inbound_{i,DC}",value:1200,source:"Einkaufssystem",description:"Besttigte Bestellungen"},{symbol:"Reservations_{i,DC}",value:80,source:"Reservierungssystem",description:"Reservierte Mengen"},{symbol:"External_i",value:160,source:"Externe Lieferanten",description:"Externe Zulieferung"}],output:"DC Supply: 7.130 Einheiten",limitingFactor:"Supply deckt nur 93.8% des Bedarfs (Shortage: 470 Einheiten)",explanation:"Die DC-Verfgbarkeit reicht nicht aus, um den gesamten Nachschubsbedarf zu decken. Es besteht eine Unterdeckung von 470 Einheiten, die durch Rationierung verteilt werden muss.",warnings:["Supply Shortage: 470 Einheiten","Kritische SKUs mit <80% Coverage: 3","Rationierung erforderlich"]},{id:"step-7",step:7,title:"Capacity Snapshot & Space Constraints",status:"OK",summary:"Kapazittsdaten fr 245 Filialen  12 Warengruppen",what:"Die verfgbare Kapazitt wurde pro Filiale und Produktgruppe ermittelt und als Constraint hinterlegt.",inputs:[{label:"Kapazittseinheit",value:"m",source:"Variantenkonfiguration"},{label:"Planungsebene",value:"Produktgruppe",source:"Variantenkonfiguration"},{label:"Snapshot-Datum",value:"17.01.2025",source:"Kapazittsplanung"},{label:" Freie Kapazitt",value:"18.4 m pro Filiale",source:"Kapazittsberechnung"}],formula:"Free_{s,h,t} = max(0, CapSoll_{s,h,t}  OccIst_{s,h,t})",formulaInputs:[{symbol:"CapSoll_{s,h,t}",value:"450 m",source:"Kapazittsplanung",description:"SOLL-Kapazitt"},{symbol:"OccIst_{s,h,t}",value:"380 m",source:"Bestandssnapshot",description:"IST-Belegung inkl. Zulufe"}],output:"Freie Kapazitt erfasst, Constraint aktiv",explanation:"Die freie Kapazitt wurde als Differenz zwischen SOLL und IST berechnet. Die IST-Belegung bercksichtigt aktuellen Bestand, Reservierungen und eingehende Lieferungen innerhalb des Horizonts."},{id:"step-8",step:8,title:"Priority Scoring (w_i,s)",status:"OK",summary:"Prioritts-Scores berechnet fr SKU-Filial-Kombinationen",what:"Fr jede SKU-Filial-Kombination wurde ein Prioritts-Score berechnet, der Urgency, Sales Velocity, Service Level Gap und Overstock Risk kombiniert.",inputs:[{label:"Gewicht: Stockout Urgency (a)",value:"0.35",source:"Variantenkonfiguration"},{label:"Gewicht: Sales Velocity (b)",value:"0.25",source:"Variantenkonfiguration"},{label:"Gewicht: Service Level Gap (c)",value:"0.30",source:"Variantenkonfiguration"},{label:"Gewicht: Overstock Risk (e)",value:"-0.10",source:"Variantenkonfiguration"}],formula:"w_{i,s} = a  StockoutUrgency_{i,s} + b  SalesVelocity_{i,s} + c  ServiceLevelGap_{i,s}  e  OverstockRisk_{i,s}",formulaInputs:[{symbol:"StockoutUrgency_{i,s}",value:.82,source:"DOS-Berechnung",description:"max(0, Threshold  DOS)"},{symbol:"SalesVelocity_{i,s}",value:.75,source:"Recent Sales",description:"Normalisierte Verkaufsgeschwindigkeit"},{symbol:"ServiceLevelGap_{i,s}",value:.12,source:"Coverage-Berechnung",description:"max(0, Target  Coverage_pre)"},{symbol:"OverstockRisk_{i,s}",value:.05,source:"WOS-Berechnung",description:"Weeks of Supply > Threshold"}],output:"Priority Scores berechnet (: 82.5, Range: 45-95)",explanation:"Der Priority Score kombiniert verschiedene Faktoren: Stockout Urgency (basierend auf Days of Supply), Sales Velocity (Recent Sales), Service Level Gap (Target vs. aktuelle Coverage) und Overstock Risk (Weeks of Supply). Hhere Scores fhren zu bevorzugter Allokation."},{id:"step-9",step:9,title:"Allocation Core Solver",status:"OK",summary:"Min-Cost Flow Solver erfolgreich ausgefhrt",what:"Die Allokation wurde mit einem Min-Cost Flow Algorithmus berechnet unter Bercksichtigung von Supply-, Demand- und Capacity-Constraints.",inputs:[{label:"Solver-Typ",value:"Min-Cost Flow",source:"Variantenkonfiguration"},{label:"Decision Variables",value:"1.247 SKUs  245 Stores",source:"Berechnung"},{label:"Underfill Penalty ",value:"10.0",source:"Variantenkonfiguration"},{label:"Overcap Penalty ",value:"5.0",source:"Variantenkonfiguration"}],formula:"max _{i,s} w_{i,s}  x_{i,s}    _{i,s} Underfill_{i,s}    _{s,h} OvercapSlack_{s,h}",formulaInputs:[{symbol:"w_{i,s}",value:92.5,source:"Schritt 8",description:"Priority Score"},{symbol:"x_{i,s}",value:"Variable",source:"Solver",description:"Allokierte Menge (Entscheidungsvariable)"},{symbol:"Underfill_{i,s}",value:"max(0, Need - x)",source:"Solver",description:"Nicht gedeckter Bedarf"},{symbol:"",value:10,source:"Penalty Parameter",description:"Underfill Penalty"},{symbol:"",value:5,source:"Penalty Parameter",description:"Overcapacity Penalty"}],output:"Allokation berechnet: 6.880 Einheiten verteilt",explanation:"Der Min-Cost Flow Solver maximiert die gewichtete Summe der Allokationen unter Einhaltung von Supply-, Demand- und Capacity-Constraints. Underfill wird mit Penalty  bestraft, Overcapacity mit ."},{id:"step-10",step:10,title:"Rationing under Shortage",status:"WARN",summary:"Proportionale Rationierung angewendet (Supply: 93.8% des Bedarfs)",what:"Aufgrund der Supply-Unterdeckung wurde eine proportionale Rationierung durchgefhrt mit iterativer Kapazitts-Clipping.",inputs:[{label:"Rationierungsstrategie",value:"Proportional",source:"Variantenkonfiguration"},{label:"Gesamtbedarf",value:"7.600 Einheiten",source:"Schritt 4"},{label:"Verfgbar",value:"7.130 Einheiten",source:"Schritt 6"},{label:"Redistribution Iterationen",value:"3",source:"Algorithmus"}],formula:"x_{i,s} = min(Need_{i,s}, CapMaxUnits_{i,s}, Need_{i,s}  Available_i / _s Need_{i,s})",formulaInputs:[{symbol:"Need_{i,s}",value:67,source:"Schritt 4",description:"Nachschubsbedarf"},{symbol:"CapMaxUnits_{i,s}",value:72,source:"Kapazittsberechnung",description:"floor(Free / p_i)"},{symbol:"Available_i",value:1100,source:"Schritt 6",description:"DC-Verfgbarkeit fr SKU"},{symbol:"_s Need_{i,s}",value:1280,source:"Aggregation",description:"Gesamtbedarf fr SKU"}],output:"Rationierung abgeschlossen, 3 Iterationen bentigt",limitingFactor:"Supply-Shortage fhrt zu durchschnittlich 93.8% Coverage",explanation:"Bei proportionaler Rationierung erhlt jede Filiale einen Anteil proportional zu ihrem Bedarf. Nach Clipping an Kapazittsgrenzen wird die frei gewordene Menge in weiteren Iterationen auf nicht-kapazittsbeschrnkte Filialen umverteilt.",warnings:["Supply-Shortage: 470 Einheiten","Redistribution: 3 Iterationen","32 Filialen an Kapazittsgrenze geclippt"]},{id:"step-11",step:11,title:"Stockout Prevention (MinFill)",status:"WARN",summary:"MinFill erfllt fr 233/245 Filialen",what:"Sicherstellung der Mindestprsentation, um Leerregale zu vermeiden. Bei Nichterreichbarkeit wird Substitution vorbereitet.",inputs:[{label:"MinFill-Profil",value:"Core",source:"Variantenkonfiguration"},{label:"Presentation Min ()",value:"4.8 Einheiten",source:"Parameter"},{label:"Filialen unter MinFill",value:"12",source:"Validierung"}],formula:"x_{i,s} >= Min_{i,s} (soft constraint with penalty)",formulaInputs:[{symbol:"x_{i,s}",value:30,source:"Allokation",description:"Allokierte Menge"},{symbol:"Min_{i,s}",value:4,source:"Prsentationsparameter",description:"Mindestprsentation"}],output:"MinFill erfllt: 95.1% (233/245 Filialen)",limitingFactor:"12 Filialen unter MinFill-Schwelle  Substitution erforderlich",explanation:"Die Mindestprsentation wurde als Soft Constraint behandelt. Fr 12 Filialen konnte die MinFill-Schwelle aufgrund von Supply- oder Kapazittsengpssen nicht erreicht werden. Diese Filialen sind Kandidaten fr Substitution.",warnings:["12 Filialen unter MinFill","Stockout-Risiko fr diese Filialen: Hoch","Substitution wird in Schritt 12 geprft"]},{id:"step-12",step:12,title:"Substitution / Fallback",status:"WARN",summary:"6 Filialen mit aktiver Substitution",what:"In Filialen mit kritischem Stockout-Risiko oder MinFill-Unterschreitung wurde Substitution mit alternativen SKUs durchgefhrt.",inputs:[{label:"Substitutionsstrategie",value:"Within Product Group",source:"Variantenkonfiguration"},{label:"Trigger",value:"MinFill Gap > 50% OR DOS < 7 Tage",source:"Regel"},{label:"Betroffene Filialen",value:"6",source:"Schritt 11"},{label:"Substitute SKUs verwendet",value:"3",source:"Substitutionslogik"}],formula:"Efficiency_g = Forecast_g / SpaceDemand_g, SubFill_s = min(FreeCapacity_{s,h}, RemainingMinFillGap_s)",formulaInputs:[{symbol:"Forecast_g",value:425,source:"Prognosesystem",description:"Prognose fr Ersatz-SKU"},{symbol:"SpaceDemand_g",value:148.75,source:"p_i  Forecast_g",description:"Raumbedarf fr Ersatz-SKU"},{symbol:"FreeCapacity_{s,h}",value:8.4,source:"Kapazitt nach Primr-Allokation",description:"Freie Kapazitt"},{symbol:"RemainingMinFillGap_s",value:2,source:"MinFill - Allocated",description:"Verbleibende MinFill-Lcke"}],output:"Substitution in 6 Filialen durchgefhrt, +48 Einheiten allokiert",limitingFactor:"Substitution aktiv aufgrund Stockout-Risiko",explanation:"Fr 6 Filialen mit kritischem Stockout-Risiko wurden alternative SKUs aus der gleichen Produktgruppe allokiert. Die Auswahl erfolgte nach Efficiency (Forecast/SpaceDemand) und Verfgbarkeit. Die Substitution verbessert die Service-Level-Erfllung um 1.2%.",warnings:["Substitution aktiv in 6 Filialen","Primr-SKU HIK-BOO-023  Substitute: RUN-PRO-001 (Basic)","Effizienz-Verbesserung: +8.5%"]},{id:"step-13",step:13,title:"Pack/LOT Repair",status:"OK",summary:"47 Pack-Reparaturen durchgefhrt",what:"Allokationsmengen wurden auf volle Packgren gerundet (Best Effort Mode).",inputs:[{label:"Pack Enforcement",value:"Best Effort",source:"Variantenkonfiguration"},{label:"Reparaturen erforderlich",value:"47",source:"Validierung"},{label:"Aufrundungen",value:"32",source:"Reparatur"},{label:"Abrundungen",value:"15",source:"Reparatur"}],formula:"x_{i,s} = c_i  y_{i,s}, wobei y_{i,s} = round(x_{i,s}_proposed / c_i)",formulaInputs:[{symbol:"c_i",value:6,source:"Artikelparameter",description:"Packgre"},{symbol:"x_{i,s}_proposed",value:67,source:"Solver",description:"Vorgeschlagene Menge"},{symbol:"y_{i,s}",value:11,source:"round(67/6)",description:"Anzahl Packs"},{symbol:"x_{i,s}",value:66,source:"6  11",description:"Finale Menge"}],output:"Pack-Reparaturen: +156 Einheiten (Aufrundung), -85 Einheiten (Abrundung)",explanation:"Im Best Effort Mode wurden Mengen auf die nchste volle Packgre gerundet. Bei Kapazittskonflikten wurde abgerundet. Netto-nderung: +71 Einheiten durch Aufrundungen."},{id:"step-14",step:14,title:"Size Curve Repair",status:"OK",summary:"24 Size Curve Reparaturen durchgefhrt",what:"Grenverteilungen wurden an Zielkurven angepasst unter Einhaltung von Mindestgren und Kapazittsgrenzen.",inputs:[{label:"Size Curve Active",value:"Ja",source:"Variantenkonfiguration"},{label:"Min Sizes per Store",value:"3",source:"Variantenkonfiguration"},{label:"Reparaturen",value:"24",source:"Validierung"}],formula:"x_{i,s,k}  share_k  x_{i,s}, mit Constraints: min 1 in core sizes, capacity limits",formulaInputs:[{symbol:"share_k",value:.25,source:"Grenkurve",description:"Ziel-Anteil fr Gre k"},{symbol:"x_{i,s}",value:66,source:"Schritt 13",description:"Gesamt-Allokation"},{symbol:"x_{i,s,k}",value:17,source:"Reparatur",description:"Allokation fr Gre k"}],output:"Size Curves angepasst, Min-Gren-Constraint erfllt",explanation:"Die Grenverteilung wurde an die Zielkurve angepasst. In allen Stores wurden mindestens 3 Gren allokiert. Kleinere Abweichungen von der Zielkurve wurden akzeptiert, um Pack-Constraints zu erfllen."},{id:"step-15",step:15,title:"Finalization & Exceptions",status:"WARN",summary:"Allokation abgeschlossen: 6.880 Einheiten, 18 Exceptions",what:"Die finale Allokation wurde validiert und Exceptions wurden fr kritische Situationen erzeugt.",inputs:[{label:"Finale Allokation",value:"6.880 Einheiten",source:"Schritt 14"},{label:"Service Level erreicht",value:"87.3%",source:"KPI-Berechnung"},{label:"Exceptions erzeugt",value:"18",source:"Validierung"},{label:"Stockout Risk Stores",value:"12",source:"DOS-Berechnung"}],formula:"ServiceLevelFulfillment = (Allocated / Need)  100%",formulaInputs:[{symbol:"Allocated",value:6880,source:"Finale Allokation",description:"Allokierte Gesamtmenge"},{symbol:"Need",value:7600,source:"Schritt 4",description:"Nachschubsbedarf"}],output:"Replenishment Run abgeschlossen: 90.5% Coverage",limitingFactor:"Service Level Target nicht erreicht (87.3% vs. 95%)",explanation:"Der Replenishment-Lauf wurde erfolgreich abgeschlossen. Aufgrund von Supply-Engpssen konnten 90.5% des Nachschubsbedarfs gedeckt werden. 18 Exceptions wurden fr manuelle Nachbearbeitung erzeugt: 12 fr Stockout-Risiko, 6 fr Substitutions-Review.",warnings:["Service Level Target nicht erreicht: 87.3% (Ziel: 95%)","12 Filialen mit Stockout-Risiko (DOS < 14 Tage)","6 Filialen mit aktiver Substitution","18 Exceptions zur manuellen Prfung"]}],doe=[{id:"step-1",step:1,title:"Empfngerbestimmung",status:"OK",summary:"245 Filialen aus Planungsdaten ermittelt",what:"Basierend auf der Planungsstrategie wurden alle Filialen ermittelt, die fr diese Allokation in Frage kommen.",inputs:[{label:"Planungsstrategie",value:"Planungsdaten",source:"Variantenkonfiguration"},{label:"Saison",value:"HW 2025",source:"Variantenkonfiguration"},{label:"Ausschlusskriterien",value:"3 aktiv",source:"Systemkonfiguration"}],output:"245 Filialen qualifiziert, 12 ausgeschlossen",explanation:"Die Filialen wurden anhand der Planungsdaten fr die Saison HW 2025 ermittelt. Ausgeschlossen wurden Filialen ohne aktive Listung, geschlossene Filialen und Filialen mit blockierten Transportrelationen.",warnings:["3 Filialen haben temporre Liefersperren"]},{id:"step-2",step:2,title:"Lieferterminauswahl",status:"OK",summary:"Liefertermine aus Lieferplan ermittelt",what:"Fr jede Filiale wurde der optimale Liefertermin basierend auf dem Lieferplan und der Vorlaufzeit bestimmt.",inputs:[{label:"Lieferplanlogik",value:"Lieferplan",source:"Variantenkonfiguration"},{label:"Standardvorlaufzeit",value:"14 Tage",source:"Systemparameter"},{label:"Frhester Termin",value:"15.01.2025",source:"Zeitfenster"}],output:" Liefertermin: 22.01.2025",explanation:"Der Liefertermin wurde fr jede Filiale individuell aus dem hinterlegten Lieferplan bernommen. Bei fehlenden Eintrgen wurde die Standardvorlaufzeit verwendet."},{id:"step-3",step:3,title:"Bedarfsberechnung",status:"OK",summary:"Bedarf fr 1.247 Produkt-Filialen-Kombinationen berechnet",what:"Der Bedarf wurde auf Basis von Plan, Bestand und Zulauf berechnet, optional gewichtet mit der Absatzprognose.",inputs:[{label:"Prognosegewicht",value:"60%",source:"Variantenkonfiguration"},{label:"Planungsdaten",value:"1.247 Zeilen",source:"Planungssystem"},{label:"Bestandsdaten",value:"Snapshot 10.01.2025",source:"Warenwirtschaft"}],formula:"D_{i,s} = max(0, T_{i,s} - (B_{i,s} + I_{i,s}))  (1 - w) + F_{i,s}  w",formulaInputs:[{symbol:"T_{i,s}",value:150,source:"Planungsdaten",description:"Geplante Menge"},{symbol:"B_{i,s}",value:45,source:"Bestandssnapshot",description:"Aktueller Bestand"},{symbol:"I_{i,s}",value:20,source:"Zulaufsdaten",description:"Zulufe"},{symbol:"F_{i,s}",value:120,source:"Prognosesystem",description:"Absatzprognose"},{symbol:"w",value:"0.6",source:"Variantenparameter",description:"Prognosegewicht"}],output:"Gesamtbedarf: 28.456 Einheiten",explanation:"Der Bedarf wurde als gewichteter Durchschnitt zwischen planbasiertem Bedarf und prognosebasiertem Bedarf berechnet. Das Prognosegewicht von 60% fhrt zu einer strkeren Bercksichtigung der Absatzprognose.",warnings:["128 Artikel ohne Prognose  nur Plan verwendet"]},{id:"step-4",step:4,title:"Verfgbarkeitsermittlung",status:"WARN",summary:"Verfgbarkeit: 24.120 Einheiten (84.8% des Bedarfs)",what:"Die verfgbare Menge wurde aus DC-Bestnden, Bestellungen und Lieferungen ermittelt.",inputs:[{label:"DC-Bestnde",value:"18.450 Einheiten",source:"DC Snapshot"},{label:"Bestellungen",value:"5.200 Einheiten",source:"Einkaufssystem"},{label:"Lieferungen",value:"470 Einheiten",source:"Logistiksystem"}],formula:"Supply = DC_{stock} + PO_{confirmed} + Delivery_{planned}",formulaInputs:[{symbol:"DC_{stock}",value:18450,source:"DC Snapshot 10.01.2025",description:"DC-Bestand"},{symbol:"PO_{confirmed}",value:5200,source:"Einkaufssystem",description:"Besttigte Bestellungen"},{symbol:"Delivery_{planned}",value:470,source:"Logistiksystem",description:"Geplante Lieferungen"}],output:"Verfgbar: 24.120 Einheiten",limitingFactor:"Verfgbarkeit ist limitierend (84.8% des Bedarfs)",explanation:"Die Gesamtverfgbarkeit deckt 84.8% des errechneten Bedarfs. Es besteht eine Unterdeckung von 4.336 Einheiten, die durch Rationierung verteilt werden muss.",warnings:["Unterdeckung: 4.336 Einheiten","Rationierung erforderlich"]},{id:"step-5",step:5,title:"Kapazittssnapshot",status:"OK",summary:"Kapazittsdaten fr 245 Filialen geladen",what:"Die verfgbare Kapazitt pro Filiale und Produktgruppe wurde aus dem Kapazittsplanungssystem bernommen.",inputs:[{label:"Kapazittseinheit",value:"m",source:"Variantenkonfiguration"},{label:"Planungsebene",value:"Produktgruppe",source:"Variantenkonfiguration"},{label:"Snapshot-Datum",value:"10.01.2025",source:"Kapazittsplanung"}],formula:"Free_{s,h} = max(0, Cap_{soll,s,h} - Occ_{ist,s,h})",formulaInputs:[{symbol:"Cap_{soll,s,h}",value:"450 m",source:"Kapazittsplanung",description:"SOLL-Kapazitt"},{symbol:"Occ_{ist,s,h}",value:"380 m",source:"Bestandssnapshot",description:"IST-Belegung"}],output:" Freie Kapazitt: 68.4 m pro Filiale",explanation:"Die freie Kapazitt wurde als Differenz zwischen SOLL-Kapazitt und IST-Belegung berechnet. Die IST-Belegung setzt sich zusammen aus aktuellem Bestand, Reservierungen und eingehenden Lieferungen."},{id:"step-6",step:6,title:"Optimierung / Heuristik",status:"OK",summary:"Allokation mit Proportional-Strategie berechnet",what:"Die verfgbare Menge wurde auf Basis der gewhlten Strategie auf die Filialen verteilt.",inputs:[{label:"Strategie",value:"Proportional",source:"Variantenkonfiguration"},{label:"Fairness-Faktor ",value:"0.8",source:"Variantenkonfiguration"},{label:"Supply",value:"24.120 Einheiten",source:"Schritt 4"},{label:"Demand",value:"28.456 Einheiten",source:"Schritt 3"}],formula:"x_{i,s} = min(D_{i,s}, Supply  (D_{i,s} /  D_{i,s}))",formulaInputs:[{symbol:"D_{i,s}",value:150,source:"Bedarfsberechnung",description:"Bedarf Artikel i, Filiale s"},{symbol:"Supply",value:24120,source:"Verfgbarkeit",description:"Gesamtverfgbarkeit"},{symbol:" D_{i,s}",value:28456,source:"Bedarfsberechnung",description:"Gesamtbedarf"}],output:"Allokation fr 1.247 Zeilen berechnet",explanation:"Bei der proportionalen Strategie erhlt jede Filiale einen Anteil entsprechend ihrem Bedarf. Die Summe aller Allokationen entspricht der verfgbaren Menge."},{id:"step-7",step:7,title:"Rationierung",status:"WARN",summary:"187 Filialen betroffen, MinFill: 85.2%",what:"Aufgrund der Unterdeckung musste eine Rationierung durchgefhrt werden. MinFill-Regeln wurden angewendet.",inputs:[{label:"MinFill-Profil",value:"Core",source:"Variantenkonfiguration"},{label:"MinFill-Prozentsatz",value:"80%",source:"Variantenkonfiguration"},{label:"Rationierte Menge",value:"4.336 Einheiten",source:"Schritt 4"}],output:"MinFill-Erfllung: 85.2%",limitingFactor:"MinFill-Ziel von 90% nicht erreicht",explanation:"Die Rationierung wurde so durchgefhrt, dass mglichst viele Filialen mindestens 80% ihrer Bedarfsmenge erhalten. Filialen mit sehr geringem Bedarf wurden priorisiert, um Prsentationsbestnde sicherzustellen.",warnings:["32 Filialen unter MinFill-Schwelle","MinFill-Ziel 90% nicht erreicht (ist: 85.2%)"]},{id:"step-8",step:8,title:"Fallback",status:"WARN",summary:"18 Filialen in Fallback-Modus",what:"Fr Filialen, die weder aus Verfgbarkeit noch aus Kapazitt beliefert werden konnten, wurde ein Fallback aktiviert.",inputs:[{label:"Fallback-Strategie",value:"Core/NOS Substitution",source:"Variantenkonfiguration"},{label:"Trigger",value:"Supply < Demand AND Space > Capacity",source:"Variantenkonfiguration"},{label:"Betroffene Filialen",value:"18",source:"Schritt 7"}],output:"18 Filialen mit Ersatzartikeln",limitingFactor:"Fallback aktiv aufgrund Kapazittsengpass",explanation:"In 18 Filialen konnte die geplante Produktgruppe aufgrund von Kapazittsengpssen nicht vollstndig allokiert werden. Stattdessen wurden effizientere Core/NOS-Artikel als Ersatz zugeteilt.",warnings:["Fallback aktiv in 18 Filialen",'Ersatz: Produktgruppe "Shoes"  "Basic Shoes"',"Effizienz-Verbesserung: +12.5%"]},{id:"step-9",step:9,title:"Nachbearbeitung (LOT/Gre)",status:"OK",summary:"Packgren und Grenkurven angewendet",what:"Die berechneten Allokationsmengen wurden auf Packgren gerundet und Grenkurven wurden angewendet.",inputs:[{label:"Pack-Gre erzwingen",value:"Ja",source:"Variantenkonfiguration"},{label:"Grenkurve aktiv",value:"Ja",source:"Variantenkonfiguration"},{label:"Min. Gren pro Filiale",value:"3",source:"Variantenkonfiguration"},{label:"Reparatur-Modus",value:"Best Effort",source:"Variantenkonfiguration"}],output:"Mengen angepasst: +245 Einheiten (Aufrundung)",explanation:"Die berechneten Mengen wurden auf volle Packgren aufgerundet. Grenkurven wurden angewendet, um sicherzustellen, dass jede Filiale mindestens 3 Gren erhlt."},{id:"step-10",step:10,title:"Endergebnis",status:"OK",summary:"Allokation abgeschlossen: 24.365 Einheiten verteilt",what:"Die finale Allokation wurde erstellt und validiert.",inputs:[{label:"Allokierte Menge",value:"24.365 Einheiten",source:"Schritt 9"},{label:"Filialen beliefert",value:"245",source:"Schritt 1"},{label:"Artikel-Filiale Zeilen",value:"1.247",source:"Berechnung"}],formula:"Coverage = (Supply / Demand)  100%",formulaInputs:[{symbol:"Supply",value:24365,source:"Finale Allokation",description:"Allokierte Menge"},{symbol:"Demand",value:28456,source:"Bedarfsberechnung",description:"Gesamtbedarf"}],output:"Coverage: 85.6%",explanation:"Die Allokation wurde erfolgreich abgeschlossen. Aufgrund der Unterdeckung konnten 85.6% des Bedarfs gedeckt werden. 18 Filialen befinden sich im Fallback-Modus."}],lE={OK:{icon:Za,color:"var(--status-success)",bgColor:"var(--surface-success-subtle)",label:"OK"},WARN:{icon:Ft,color:"var(--status-warning)",bgColor:"var(--surface-warning-subtle)",label:"Warnung"},FAIL:{icon:t0,color:"var(--status-danger)",bgColor:"var(--surface-danger-subtle)",label:"Fehler"}};function foe({allocationType:e="Initial Allocation"}={}){const t=e==="Replenishment"?uoe:doe,[r,n]=z.useState(t[0]),i=lE[r.status],o=i.icon;return a.jsxs("div",{className:"h-full flex gap-6",children:[a.jsxs("div",{className:"overflow-y-auto p-6",style:{width:"350px",backgroundColor:"var(--surface-subtle)",borderRight:"1px solid var(--border-default)"},children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-4)"},children:"Entscheidungspfad"}),a.jsx("div",{className:"space-y-2",children:t.map((l,u)=>{const d=l.id===r.id,f=lE[l.status],v=f.icon;return a.jsxs("div",{className:"relative",children:[u<t.length-1&&a.jsx("div",{style:{position:"absolute",left:"19px",top:"40px",width:"2px",height:"calc(100% + 8px)",backgroundColor:"var(--border-default)"}}),a.jsxs("button",{onClick:()=>n(l),className:"w-full p-3 rounded-lg flex items-start gap-3 text-left transition-all",style:{backgroundColor:d?"var(--surface-page)":"transparent",border:d?"2px solid var(--brand-primary)":"1px solid transparent"},children:[a.jsx("div",{className:"flex-shrink-0 rounded-full flex items-center justify-center",style:{width:"40px",height:"40px",backgroundColor:f.bgColor,border:`2px solid ${f.color}`,position:"relative",zIndex:1},children:a.jsx(v,{size:20,style:{color:f.color}})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"2px"},children:["Schritt ",l.step]}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)",marginBottom:"4px"},children:l.title}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-secondary)"},children:l.summary})]}),d&&a.jsx(dn,{size:20,style:{color:"var(--brand-primary)"}})]})]},l.id)})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[a.jsx("div",{className:"flex-shrink-0 rounded-full flex items-center justify-center",style:{width:"60px",height:"60px",backgroundColor:i.bgColor,border:`3px solid ${i.color}`},children:a.jsx(o,{size:32,style:{color:i.color}})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"4px"},children:["Schritt ",r.step," von ",t.length]}),a.jsx("h1",{style:{fontSize:"var(--font-size-2xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:r.title}),a.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full",style:{backgroundColor:i.bgColor,color:i.color,fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:[a.jsx(o,{size:16}),i.label]})]})]}),r.warnings&&r.warnings.length>0&&a.jsxs("div",{className:"mb-6 p-4 rounded-lg border",style:{backgroundColor:"var(--surface-warning-subtle)",borderColor:"var(--status-warning)"},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-warning)"},children:[a.jsx(Ft,{size:18}),"Warnungen"]}),a.jsx("ul",{className:"space-y-1",style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:r.warnings.map((l,u)=>a.jsxs("li",{children:[" ",l]},u))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Was wurde berechnet?"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)",lineHeight:1.6},children:r.what})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Eingabewerte"}),a.jsx("div",{className:"space-y-3",children:r.inputs.map((l,u)=>a.jsxs("div",{className:"flex items-start justify-between p-3 rounded-lg",style:{backgroundColor:"var(--surface-subtle)"},children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"2px"},children:l.label}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:["Quelle: ",l.source]})]}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:l.value})]},u))})]}),r.formula&&r.formulaInputs&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Formel"}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-subtle)",fontFamily:"monospace",fontSize:"var(--font-size-md)",color:"var(--text-primary)"},children:r.formula}),a.jsx("div",{className:"mt-4 space-y-2",children:r.formulaInputs.map((l,u)=>a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg",style:{backgroundColor:"var(--surface-page)",border:"1px solid var(--border-subtle)"},children:[a.jsx("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-sm)",color:"var(--brand-primary)",fontWeight:"var(--font-weight-semibold)",minWidth:"80px"},children:l.symbol}),a.jsxs("div",{className:"flex-1",children:[l.description&&a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)",marginBottom:"2px"},children:l.description}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:["Quelle: ",l.source]})]}),a.jsxs("div",{style:{fontFamily:"monospace",fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"},children:["= ",l.value]})]},u))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Ergebnis"}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--surface-info-subtle)",border:"2px solid var(--status-info)"},children:a.jsx("div",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)",color:"var(--status-info)"},children:r.output})})]}),r.limitingFactor&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Limitierender Faktor"}),a.jsxs("div",{className:"p-4 rounded-lg flex items-start gap-3",style:{backgroundColor:"var(--surface-warning-subtle)",border:"1px solid var(--status-warning)"},children:[a.jsx(Qt,{size:20,style:{color:"var(--status-warning)",flexShrink:0,marginTop:"2px"}}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)"},children:r.limitingFactor})]})]}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-3)"},children:"Erklrung (Warum?)"}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-secondary)",lineHeight:1.6},children:r.explanation})]})]})]})}const uo=[{id:"ZH-001",name:"Zrich HB",description:"Hauptbahnhof",address:"Bahnhofstrasse 1, 8001 Zrich",country:"Schweiz",size:850},{id:"BS-001",name:"Basel SBB",description:"Bahnhof",address:"Centralbahnplatz 1, 4051 Basel",country:"Schweiz",size:720},{id:"BE-001",name:"Bern Westside",description:"Shopping-Center",address:"Riedbachstrasse 100, 3027 Bern",country:"Schweiz",size:650},{id:"GE-001",name:"Genve Cornavin",description:"Bahnhof",address:"Place de Cornavin, 1201 Genve",country:"Schweiz",size:780},{id:"LU-001",name:"Luzern Bahnhof",description:"Bahnhof",address:"Bahnhofplatz 1, 6003 Luzern",country:"Schweiz",size:580},{id:"SG-001",name:"St. Gallen",description:"Innenstadt",address:"Multergasse 25, 9000 St. Gallen",country:"Schweiz",size:620},{id:"WI-001",name:"Winterthur",description:"Altstadt",address:"Marktgasse 68, 8400 Winterthur",country:"Schweiz",size:540}];function poe({onAddCluster:e}){const[t,r]=z.useState([{id:"cluster-1",name:"Cluster A - Grostdte",stores:[uo[0],uo[1],uo[3]],color:"#2563eb",isExpanded:!0},{id:"cluster-2",name:"Cluster B - Mittelstdte",stores:[uo[2],uo[4]],color:"#10b981",isExpanded:!0},{id:"cluster-3",name:"Cluster C - Kleinstdte",stores:[uo[5],uo[6]],color:"#f59e0b",isExpanded:!0},{id:"unassigned",name:"Nicht zugeordnet",stores:[],color:"#6b7280",isExpanded:!0}]),[n,i]=z.useState(null),[o,l]=z.useState(null),u=w=>{r(x=>x.map(y=>y.id===w?{...y,isExpanded:!y.isExpanded}:y))},d=(w,x)=>{i({store:w,sourceClusterId:x})},f=()=>{i(null),l(null)},v=(w,x)=>{w.preventDefault(),l(x)},h=()=>{l(null)},m=(w,x)=>{if(w.preventDefault(),!n)return;const{store:y,sourceClusterId:j}=n;if(j===x){i(null),l(null);return}r(k=>k.map(N=>N.id===j?{...N,stores:N.stores.filter(A=>A.id!==y.id)}:N).map(N=>N.id===x?{...N,stores:[...N.stores,y]}:N)),i(null),l(null)},b=w=>{w!=="unassigned"&&r(x=>{const y=x.find(k=>k.id===w);return!y||!x.find(k=>k.id==="unassigned")?x:x.filter(k=>k.id!==w).map(k=>k.id==="unassigned"?{...k,stores:[...k.stores,...y.stores]}:k)})};return a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)"},children:"Cluster-Zuordnung"}),a.jsxs("button",{onClick:e,className:"px-3 py-1.5 rounded-lg border flex items-center gap-2 transition-colors",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",borderColor:"var(--brand-primary)",fontSize:"var(--font-size-sm)"},children:[a.jsx(Fa,{size:14}),"Neuen Cluster anlegen"]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto rounded-lg border",style:{borderColor:"var(--border-default)",backgroundColor:"var(--surface-page)"},children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{style:{position:"sticky",top:0,backgroundColor:"var(--surface-alt)",zIndex:10},children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",width:"40px"}}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",width:"250px"},children:"Cluster / Filiale"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Beschreibung"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Adresse"}),a.jsx("th",{className:"text-left p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Land"}),a.jsx("th",{className:"text-right p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Gre (m)"}),a.jsx("th",{className:"text-right p-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",width:"50px"}})]})}),a.jsx("tbody",{children:t.map(w=>a.jsx(hoe,{cluster:w,isExpanded:w.isExpanded,isDragOver:o===w.id,onToggle:()=>u(w.id),onDragStart:d,onDragEnd:f,onDragOver:v,onDragLeave:h,onDrop:m,onDelete:()=>b(w.id)},w.id))})]})})]})}function hoe({cluster:e,isExpanded:t,isDragOver:r,onToggle:n,onDragStart:i,onDragEnd:o,onDragOver:l,onDragLeave:u,onDrop:d,onDelete:f}){return a.jsxs(a.Fragment,{children:[a.jsxs("tr",{onDragOver:v=>l(v,e.id),onDragLeave:u,onDrop:v=>d(v,e.id),style:{backgroundColor:r?`${e.color}20`:`${e.color}15`,borderLeft:`4px solid ${e.color}`,borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{className:"p-3",children:a.jsx("button",{onClick:n,className:"p-1 rounded hover:bg-black/5 transition-colors",children:t?a.jsx(To,{size:16}):a.jsx(dn,{size:16})})}),a.jsx("td",{className:"p-3",colSpan:5,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",color:e.color},children:e.name}),a.jsxs("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:`${e.color}25`,color:e.color,fontSize:"var(--font-size-xs)"},children:[e.stores.length," ",e.stores.length===1?"Filiale":"Filialen"]})]})}),a.jsx("td",{className:"p-3 text-right",children:e.id!=="unassigned"&&a.jsx("button",{onClick:f,className:"p-1 rounded opacity-50 hover:opacity-100 transition-opacity",style:{color:"var(--status-danger)"},children:a.jsx(ia,{size:14})})})]}),t&&e.stores.map(v=>a.jsxs("tr",{draggable:!0,onDragStart:()=>i(v,e.id),onDragEnd:o,className:"group cursor-move hover:bg-black/5",style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{className:"p-3"}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_L,{size:14,style:{color:"var(--text-muted)"},className:"opacity-0 group-hover:opacity-100 transition-opacity"}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:v.id}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)"},children:v.name})]})}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:v.description}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:v.address}),a.jsx("td",{className:"p-3",style:{fontSize:"var(--font-size-sm)"},children:v.country}),a.jsx("td",{className:"p-3 text-right",style:{fontSize:"var(--font-size-sm)"},children:v.size}),a.jsx("td",{className:"p-3"})]},v.id)),t&&e.stores.length===0&&a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{className:"p-3"}),a.jsx("td",{className:"p-6 text-center",colSpan:6,style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:e.id==="unassigned"?"Alle Filialen sind zugeordnet":"Ziehen Sie Filialen hierher, um sie diesem Cluster zuzuweisen"})]})]})}function voe({onClose:e,onConfirm:t}){const[r,n]=z.useState(""),[i,o]=z.useState(""),[l,u]=z.useState(""),[d,f]=z.useState([]),h=[{id:"ZH-001",name:"Zrich HB",address:"Bahnhofstrasse 1, 8001 Zrich",country:"Schweiz",size:850},{id:"BS-001",name:"Basel SBB",address:"Centralbahnplatz 1, 4051 Basel",country:"Schweiz",size:720},{id:"BE-001",name:"Bern Westside",address:"Riedbachstrasse 100, 3027 Bern",country:"Schweiz",size:650},{id:"GE-001",name:"Genve Cornavin",address:"Place de Cornavin, 1201 Genve",country:"Schweiz",size:780},{id:"LU-001",name:"Luzern Bahnhof",address:"Bahnhofplatz 1, 6003 Luzern",country:"Schweiz",size:580}].filter(b=>b.id.toLowerCase().includes(r.toLowerCase())&&b.name.toLowerCase().includes(i.toLowerCase())&&b.country.toLowerCase().includes(l.toLowerCase())),m=b=>{f(w=>w.includes(b)?w.filter(x=>x!==b):[...w,b])};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:e,children:a.jsxs("div",{className:"rounded-lg border shadow-xl",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",width:"90%",maxWidth:"800px",maxHeight:"80vh",display:"flex",flexDirection:"column"},onClick:b=>b.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-default)"},children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Filialen auswhlen"}),a.jsx("button",{onClick:e,className:"p-1 rounded",style:{color:"var(--text-muted)"},children:a.jsx(Et,{size:20})})]}),a.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-default)"},children:a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsx("input",{type:"text",placeholder:"Filial-ID",value:r,onChange:b=>n(b.target.value),className:"px-3 py-2 rounded-lg border",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}}),a.jsx("input",{type:"text",placeholder:"Name",value:i,onChange:b=>o(b.target.value),className:"px-3 py-2 rounded-lg border",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}}),a.jsx("input",{type:"text",placeholder:"Land",value:l,onChange:b=>u(b.target.value),className:"px-3 py-2 rounded-lg border",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-default)"},children:[a.jsx("th",{className:"text-left pb-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",width:"40px"},children:a.jsx("input",{type:"checkbox",checked:d.length===h.length&&h.length>0,onChange:()=>{d.length===h.length?f([]):f(h.map(b=>b.id))}})}),a.jsx("th",{className:"text-left pb-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Filial-ID"}),a.jsx("th",{className:"text-left pb-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Name"}),a.jsx("th",{className:"text-left pb-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Adresse"}),a.jsx("th",{className:"text-left pb-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Land"}),a.jsx("th",{className:"text-right pb-3",style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Gre (m)"})]})}),a.jsx("tbody",{children:h.map(b=>a.jsxs("tr",{style:{borderBottom:"1px solid var(--border-subtle)"},children:[a.jsx("td",{className:"py-3",children:a.jsx("input",{type:"checkbox",checked:d.includes(b.id),onChange:()=>m(b.id)})}),a.jsx("td",{className:"py-3",style:{fontSize:"var(--font-size-sm)"},children:b.id}),a.jsx("td",{className:"py-3",style:{fontSize:"var(--font-size-sm)"},children:b.name}),a.jsx("td",{className:"py-3",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:b.address}),a.jsx("td",{className:"py-3",style:{fontSize:"var(--font-size-sm)"},children:b.country}),a.jsx("td",{className:"py-3 text-right",style:{fontSize:"var(--font-size-sm)"},children:b.size})]},b.id))})]})}),a.jsxs("div",{className:"flex items-center justify-between p-6 border-t",style:{borderColor:"var(--border-default)"},children:[a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[d.length," Filialen ausgewhlt"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"},children:"Abbrechen"}),a.jsx("button",{onClick:()=>t(d),className:"px-4 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)"},children:"Besttigen"})]})]})]})})}function moe({onClose:e,onCalculate:t}){const[r,n]=z.useState(["Region","Umsatz (jhrlich)","Verkaufsflche (m)"]),[i,o]=z.useState(3),[l,u]=z.useState(7),d=["Region","Land","Umsatz (jhrlich)","Umsatz (rollierend)","Verkaufsflche (m)","Sortimentstiefe","Umsatz je m","Abverkaufsrate","Kapazittsauslastung","Kundensegmente","Preisniveau","Logistikdistanz"],f=v=>{n(h=>h.includes(v)?h.filter(m=>m!==v):[...h,v])};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:e,children:a.jsxs("div",{className:"rounded-lg border shadow-xl",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",width:"600px",maxHeight:"80vh",display:"flex",flexDirection:"column"},onClick:v=>v.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-default)"},children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Attribute auswhlen"}),a.jsx("button",{onClick:e,className:"p-1 rounded",style:{color:"var(--text-muted)"},children:a.jsx(Et,{size:20})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginBottom:"var(--space-4)"},children:"Diese Attribute werden fr den systemgesttzten Clustervorschlag verwendet."}),a.jsx("div",{className:"space-y-2 mb-6",children:d.map(v=>a.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border cursor-pointer",style:{borderColor:r.includes(v)?"var(--brand-primary)":"var(--border-subtle)",backgroundColor:r.includes(v)?"var(--surface-subtle-tint)":"transparent"},children:[a.jsx("input",{type:"checkbox",checked:r.includes(v),onChange:()=>f(v)}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:v})]},v))}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",marginBottom:"var(--space-2)",display:"block"},children:["Minimale Clusteranzahl: ",i]}),a.jsx("input",{type:"range",min:"2",max:"10",value:i,onChange:v=>o(Number(v.target.value)),className:"w-full"})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{fontSize:"var(--font-size-sm)",marginBottom:"var(--space-2)",display:"block"},children:["Maximale Clusteranzahl: ",l]}),a.jsx("input",{type:"range",min:"2",max:"15",value:l,onChange:v=>u(Number(v.target.value)),className:"w-full"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-6 border-t",style:{borderColor:"var(--border-default)"},children:[a.jsxs("span",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)"},children:[r.length," Attribute ausgewhlt"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--surface-alt)",borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"},children:"Abbrechen"}),a.jsxs("button",{onClick:()=>t(r,i,l),disabled:r.length===0,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{backgroundColor:r.length>0?"var(--brand-primary)":"var(--surface-subtle)",color:r.length>0?"var(--text-inverse)":"var(--text-muted)",fontSize:"var(--font-size-sm)",cursor:r.length>0?"pointer":"not-allowed"},children:[a.jsx(Ec,{size:16}),"Vorschlag berechnen"]})]})]})]})})}const cE=[{id:"cs-001",name:"Standard Cluster 2025",description:"Hauptcluster fr Allokation HW/SW 2025",clusterCount:5,storeCount:48,type:"Hybrid",status:"Active",lastModified:"2025-01-15T10:30:00",owner:"John Doe",createdAt:"2024-11-20T09:00:00"},{id:"cs-002",name:"Umsatz-basiert Q1 2025",description:"Systemvorschlag basierend auf Umsatz und Flche",clusterCount:6,storeCount:48,type:"System-generated",status:"Active",lastModified:"2025-01-12T14:20:00",owner:"Jane Smith",createdAt:"2025-01-10T11:00:00"},{id:"cs-003",name:"Regionale Cluster CH",description:"Manuelle Gruppierung nach Regionen",clusterCount:4,storeCount:35,type:"Manual",status:"Draft",lastModified:"2025-01-08T16:45:00",owner:"John Doe",createdAt:"2025-01-05T10:30:00"},{id:"cs-004",name:"Pilot Cluster Winter 2024",description:"Test-Setup fr Winter-Saison",clusterCount:3,storeCount:20,type:"Manual",status:"Archived",lastModified:"2024-12-15T10:00:00",owner:"Jane Smith",createdAt:"2024-11-01T09:00:00"},{id:"cs-005",name:"Kapazitts-optimiert",description:"Systemvorschlag mit Fokus auf Verkaufsflchenoptimierung",clusterCount:7,storeCount:48,type:"System-generated",status:"Draft",lastModified:"2025-01-14T09:15:00",owner:"John Doe",createdAt:"2025-01-13T08:00:00"}],bf=e=>{switch(e){case"Active":return"var(--status-success)";case"Draft":return"var(--status-warning)";case"Archived":return"var(--text-muted)";default:return"var(--text-secondary)"}},Sf=e=>{switch(e){case"Manual":return"var(--brand-primary)";case"System-generated":return"var(--status-info)";case"Hybrid":return"#ec4899";default:return"var(--text-secondary)"}},uE=e=>{const t=new Date(e),n=Math.abs(new Date().getTime()-t.getTime()),i=Math.floor(n/(1e3*60*60*24));if(i===0){const o=Math.floor(n/36e5);return o===0?`vor ${Math.floor(n/6e4)} Min.`:`vor ${o} Std.`}return i===1?"gestern":i<7?`vor ${i} Tagen`:t.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})};function goe({onNavigate:e}){const[t,r]=z.useState(""),[n,i]=z.useState("All"),[o,l]=z.useState(cE[0]),[u,d]=z.useState(null),[f,v]=z.useState(!1),[h,m]=z.useState(!1),[b,w]=z.useState(""),[x,y]=z.useState(""),j=z.useMemo(()=>cE.filter(k=>{const S=k.name.toLowerCase().includes(t.toLowerCase())||k.description.toLowerCase().includes(t.toLowerCase()),N=n==="All"||k.status===n;return S&&N}),[t,n]);return a.jsxs("div",{className:"flex h-full gap-6",children:[a.jsxs("div",{className:"flex flex-col border-r",style:{width:"25%",minWidth:"320px",backgroundColor:"var(--surface-alt)",borderColor:"var(--border-default)",borderRadius:"var(--radius-lg)",padding:"var(--space-4)"},children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{style:{fontSize:"var(--font-size-lg)",fontWeight:"var(--font-weight-semibold)"},children:"Cluster Sets"}),a.jsxs("button",{className:"px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)"},onMouseEnter:k=>k.currentTarget.style.opacity="0.9",onMouseLeave:k=>k.currentTarget.style.opacity="1",children:[a.jsx(Fa,{size:16}),a.jsx("span",{style:{fontSize:"var(--font-size-sm)"},children:"Neu"})]})]}),a.jsxs("div",{className:"relative mb-3",children:[a.jsx(fn,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)"}}),a.jsx("input",{type:"text",placeholder:"Cluster-Set suchen...",value:t,onChange:k=>r(k.target.value),className:"w-full pl-10 pr-3 py-2 rounded-lg border",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-input)",fontSize:"var(--font-size-sm)"}})]}),a.jsx("div",{className:"flex gap-2",children:["All","Active","Draft","Archived"].map(k=>a.jsx("button",{onClick:()=>i(k),className:"px-3 py-1.5 rounded-lg transition-colors",style:{backgroundColor:n===k?"var(--brand-primary)":"var(--surface-subtle)",color:n===k?"var(--text-inverse)":"var(--text-secondary)",fontSize:"var(--font-size-xs)",border:"1px solid",borderColor:n===k?"var(--brand-primary)":"var(--border-subtle)"},children:k==="All"?"Alle":k},k))})]}),a.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:j.map(k=>a.jsxs("div",{onClick:()=>l(k),className:"w-full p-4 rounded-lg border transition-all text-left relative group cursor-pointer",style:{backgroundColor:o?.id===k.id?"var(--surface-subtle-tint)":"var(--surface-page)",borderColor:o?.id===k.id?"var(--brand-primary)":"var(--border-subtle)",borderWidth:o?.id===k.id?"2px":"1px"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{style:{fontSize:"var(--font-size-sm)",fontWeight:"var(--font-weight-medium)",marginBottom:"4px"},children:k.name}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",lineHeight:"1.4"},children:k.description})]}),a.jsx("button",{onClick:S=>{S.stopPropagation(),d(u===k.id?null:k.id)},className:"p-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",style:{backgroundColor:"var(--surface-subtle)",color:"var(--text-secondary)"},children:a.jsx(yE,{size:14})})]}),a.jsx("div",{className:"flex items-center gap-2 mb-2",children:a.jsxs("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[k.clusterCount," Cluster  ",k.storeCount," Filialen"]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:`${Sf(k.type)}15`,color:Sf(k.type),fontSize:"var(--font-size-xs)"},children:k.type}),a.jsx("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:`${bf(k.status)}15`,color:bf(k.status),fontSize:"var(--font-size-xs)"},children:k.status})]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"8px"},children:uE(k.lastModified)}),u===k.id&&a.jsx("div",{className:"absolute right-2 top-12 z-10 rounded-lg border shadow-lg py-1",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",minWidth:"150px"},onClick:S=>S.stopPropagation(),children:["Duplizieren","Umbenennen","Archivieren","Exportieren"].map(S=>a.jsx("button",{className:"w-full px-3 py-2 text-left transition-colors",style:{fontSize:"var(--font-size-sm)",color:"var(--text-primary)"},onMouseEnter:N=>N.currentTarget.style.backgroundColor="var(--surface-subtle)",onMouseLeave:N=>N.currentTarget.style.backgroundColor="transparent",children:S},S))})]},k.id))})]}),a.jsx("div",{className:"flex-1 flex flex-col",style:{backgroundColor:"var(--surface-alt)",borderRadius:"var(--radius-lg)",padding:"var(--space-6)"},children:o?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6 pb-6 border-b",style:{borderColor:"var(--border-default)"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("input",{type:"text",value:b||o.name,onChange:k=>w(k.target.value),className:"text-2xl font-semibold mb-2 bg-transparent border-0 focus:outline-none w-full",style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",color:"var(--text-primary)"}}),a.jsx("textarea",{value:x||o.description,onChange:k=>y(k.target.value),placeholder:"Beschreibung hinzufgen...",className:"w-full bg-transparent border-0 focus:outline-none resize-none",style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",minHeight:"40px"}})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"px-4 py-2 rounded-lg border transition-colors",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"},children:"Abbrechen"}),a.jsx("button",{className:"px-4 py-2 rounded-lg transition-colors",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-inverse)",fontSize:"var(--font-size-sm)"},children:"Speichern"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Erstellt:"}),a.jsxs("span",{style:{fontSize:"var(--font-size-xs)"},children:[uE(o.createdAt)," von ",o.owner]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Typ:"}),a.jsx("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:`${Sf(o.type)}15`,color:Sf(o.type),fontSize:"var(--font-size-xs)"},children:o.type})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:"Status:"}),a.jsx("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:`${bf(o.status)}15`,color:bf(o.status),fontSize:"var(--font-size-xs)"},children:o.status})]})]})]}),a.jsxs("div",{className:"flex gap-3 mb-6",children:[a.jsxs("button",{onClick:()=>v(!0),className:"px-4 py-2 rounded-lg border flex items-center gap-2 transition-colors",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"},onMouseEnter:k=>k.currentTarget.style.borderColor="var(--brand-primary)",onMouseLeave:k=>k.currentTarget.style.borderColor="var(--border-default)",children:[a.jsx(mE,{size:16}),"Filialen auswhlen"]}),a.jsxs("button",{onClick:()=>m(!0),className:"px-4 py-2 rounded-lg border flex items-center gap-2 transition-colors",style:{backgroundColor:"var(--surface-page)",borderColor:"var(--border-default)",fontSize:"var(--font-size-sm)"},onMouseEnter:k=>k.currentTarget.style.borderColor="var(--brand-primary)",onMouseLeave:k=>k.currentTarget.style.borderColor="var(--border-default)",children:[a.jsx(Ec,{size:16}),"Attribute auswhlen"]})]}),a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsx(poe,{onAddCluster:()=>console.log("Add new cluster")})})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center",style:{color:"var(--text-muted)"},children:a.jsx("p",{children:"Whlen Sie ein Cluster-Set aus der Liste"})})}),f&&a.jsx(voe,{onClose:()=>v(!1),onConfirm:k=>{console.log("Selected stores:",k),v(!1)}}),h&&a.jsx(moe,{onClose:()=>m(!1),onCalculate:(k,S,N)=>{console.log("Calculate with:",k,S,N),m(!1)}})]})}const yoe="http://localhost:3002/api";async function xt(e,t={}){try{const r=await fetch(`${yoe}${e}`,{...t,headers:{"Content-Type":"application/json",...t.headers}}),n=await r.json();return r.ok?n:{success:!1,error:n.error||"Request failed"}}catch(r){return console.error("API Error:",r),{success:!1,error:r.message||"Network error"}}}async function xoe(){return xt("/kpis")}async function boe(){return xt("/stores")}async function Soe(e){return xt(`/stores/${e}`)}async function woe(e){const t=new URLSearchParams;e?.product_group&&t.append("product_group",e.product_group),e?.season&&t.append("season",e.season),e?.brand&&t.append("brand",e.brand);const r=t.toString();return xt(`/articles${r?`?${r}`:""}`)}async function joe(e){const t=new URLSearchParams;e?.type&&t.append("type",e.type),e?.status&&t.append("status",e.status),e?.user_name&&t.append("user_name",e.user_name);const r=t.toString();return xt(`/runs${r?`?${r}`:""}`)}async function koe(e){return xt(`/runs/${e}`)}async function Coe(e){return xt("/runs",{method:"POST",body:JSON.stringify(e)})}async function zoe(e,t){return xt(`/runs/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function Aoe(e){return xt(`/runs/${e}`,{method:"DELETE"})}async function Noe(e){const t=new URLSearchParams;e?.status&&t.append("status",e.status),e?.allocation_type&&t.append("allocation_type",e.allocation_type);const r=t.toString();return xt(`/scenarios${r?`?${r}`:""}`)}async function Poe(e){return xt(`/scenarios/${e}`)}async function _oe(e){return xt("/scenarios",{method:"POST",body:JSON.stringify(e)})}async function Ooe(e,t){return xt(`/scenarios/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function Eoe(e){return xt(`/scenarios/${e}`,{method:"DELETE"})}async function Toe(e){const t=new URLSearchParams;e?.status&&t.append("status",e.status),e?.severity&&t.append("severity",e.severity),e?.type&&t.append("type",e.type);const r=t.toString();return xt(`/exceptions${r?`?${r}`:""}`)}async function Doe(e){return xt("/exceptions",{method:"POST",body:JSON.stringify(e)})}async function Roe(e,t){return xt(`/exceptions/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function Ioe(e){const t=new URLSearchParams;e?.status&&t.append("status",e.status),e?.priority&&t.append("priority",e.priority),e?.assigned_to&&t.append("assigned_to",e.assigned_to);const r=t.toString();return xt(`/tasks${r?`?${r}`:""}`)}async function Moe(e){return xt("/tasks",{method:"POST",body:JSON.stringify(e)})}async function Loe(e,t){return xt(`/tasks/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function Boe(e){return xt(`/tasks/${e}`,{method:"DELETE"})}async function Foe(e){const t=e?`?category=${e}`:"";return xt(`/parameters${t}`)}async function Woe(e,t,r){return xt(`/parameters/${e}`,{method:"PUT",body:JSON.stringify({value:t,updated_by:r})})}async function $oe(){return xt("/data-manager/config")}async function Uoe(e,t){return xt(`/data-manager/config/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function Hoe(e){return xt(`/data-manager/logs/${e}`)}async function Koe(e,t,r){return xt(`/data-manager/import/${e}`,{method:"POST",headers:r?{"X-API-Key":r}:{},body:JSON.stringify({data:t})})}async function Goe(e,t,r){const i=new URLSearchParams(t).toString();return xt(`/data-manager/export/${e}${i?`?${i}`:""}`,{headers:r?{"X-API-Key":r}:{}})}const Cc={kpis:{fetch:xoe},stores:{fetch:boe,fetchOne:Soe},articles:{fetch:woe},runs:{fetch:joe,fetchOne:koe,create:Coe,update:zoe,delete:Aoe},scenarios:{fetch:Noe,fetchOne:Poe,create:_oe,update:Ooe,delete:Eoe},exceptions:{fetch:Toe,create:Doe,update:Roe},tasks:{fetch:Ioe,create:Moe,update:Loe,delete:Boe},parameters:{fetch:Foe,update:Woe},dataManager:{fetchConfigs:$oe,updateConfig:Uoe,fetchLogs:Hoe,import:Koe,export:Goe}},e0={stores:{name:"Filialen",description:"Stammdaten der Verkaufsstellen"},articles:{name:"Artikel",description:"Produktstammdaten"},allocation_runs:{name:"Allocation Runs",description:"Allokationslufe und deren Status"},scenarios:{name:"Szenarien",description:"Planungsszenarien und Simulationen"},exceptions:{name:"Exceptions",description:"Ausnahmen und Warnungen"},tasks:{name:"Tasks",description:"Aufgaben und Workflows"}},dE={master:{bg:"var(--status-info)",label:"Stammdaten"},transaction:{bg:"var(--status-success)",label:"Bewegungsdaten"}},zc=[{id:"1",entity_name:"stores",data_category:"master",inbound_enabled:!0,outbound_enabled:!1,api_key:null,webhook_url:null,sync_interval_minutes:null,last_sync_at:null},{id:"2",entity_name:"articles",data_category:"master",inbound_enabled:!0,outbound_enabled:!1,api_key:null,webhook_url:null,sync_interval_minutes:null,last_sync_at:null},{id:"3",entity_name:"allocation_runs",data_category:"transaction",inbound_enabled:!0,outbound_enabled:!0,api_key:null,webhook_url:null,sync_interval_minutes:60,last_sync_at:"2025-01-07T10:00:00Z"},{id:"4",entity_name:"scenarios",data_category:"transaction",inbound_enabled:!0,outbound_enabled:!0,api_key:null,webhook_url:null,sync_interval_minutes:null,last_sync_at:null},{id:"5",entity_name:"exceptions",data_category:"transaction",inbound_enabled:!0,outbound_enabled:!0,api_key:null,webhook_url:null,sync_interval_minutes:30,last_sync_at:"2025-01-07T11:30:00Z"},{id:"6",entity_name:"tasks",data_category:"transaction",inbound_enabled:!0,outbound_enabled:!0,api_key:null,webhook_url:null,sync_interval_minutes:null,last_sync_at:null}];function Voe({onNavigate:e}){const[t,r]=z.useState(zc),[n,i]=z.useState(null),[o,l]=z.useState([]),[u,d]=z.useState(!0),[f,v]=z.useState(!1),[h,m]=z.useState({}),[b,w]=z.useState("data"),[x,y]=z.useState(""),[j,k]=z.useState(null),[S,N]=z.useState([]),[A,O]=z.useState(!1),[_,E]=z.useState(null),[T,I]=z.useState(""),[R,L]=z.useState({connected:!1,loading:!0}),[M,q]=z.useState(null),H=async W=>{O(!0);try{let oe=[];switch(W){case"stores":oe=await Ra.getStores();break;case"articles":oe=[];break;case"allocation_runs":oe=await Ra.getRuns();break;case"scenarios":oe=await Ra.getScenarios();break;case"exceptions":oe=await Ra.getExceptions();break;case"tasks":oe=await Ra.getTasks();break}N(oe)}catch(oe){console.error("Failed to load entity data:",oe),N([])}finally{O(!1)}},Z=()=>{confirm("Alle lokalen Daten auf Standardwerte zurcksetzen? Dies kann nicht rckgngig gemacht werden.")&&(Ra.resetToDefaults(),n&&H(n),alert("Daten wurden zurckgesetzt."))},Y=()=>{if(!(!_||!T))try{const W=JSON.parse(T);N(oe=>oe.map(ve=>ve.id===_.id?W:ve)),E(null),I("")}catch{alert("Ungltiges JSON-Format")}},$=W=>{confirm("Diesen Eintrag wirklich lschen?")&&N(oe=>oe.filter(ve=>ve.id!==W))},F=async()=>{L(ve=>({...ve,loading:!0}));const W="http://localhost:3002/api",oe=W.replace("/api","");try{const ve=await fetch(`${oe}/health`,{method:"GET",signal:AbortSignal.timeout(1e4)});if(!ve.ok){L({connected:!1,error:`API nicht erreichbar (Status: ${ve.status})`,loading:!1});return}const De=await(await fetch(`${W}/db/status`,{signal:AbortSignal.timeout(1e4)})).json();De.success?L({...De.data,loading:!1}):L({connected:!1,error:De.data?.error||"DB-Verbindung fehlgeschlagen",loading:!1})}catch(ve){let se=ve.message;ve.name==="AbortError"||ve.message.includes("timeout")?se="Zeitberschreitung - API antwortet nicht":(ve.message.includes("Failed to fetch")||ve.message.includes("NetworkError"))&&(se=`API nicht erreichbar (${oe}). Render-Service mglicherweise nicht gestartet.`),L({connected:!1,error:se,loading:!1})}},Q=async()=>{if(confirm("Datenbank-Tabellen erstellen? Dies erstellt alle fehlenden Tabellen.")){q("migrate");try{const ve=await(await fetch("http://localhost:3002/api/db/migrate",{method:"POST"})).json();ve.success?(alert("Migration erfolgreich! Tabellen wurden erstellt."),F()):alert("Fehler: "+ve.error)}catch(W){alert("Fehler: "+W.message)}finally{q(null)}}},U=async()=>{if(confirm("Testdaten einfgen? Bestehende Daten bleiben erhalten.")){q("seed");try{const ve=await(await fetch("http://localhost:3002/api/db/seed",{method:"POST"})).json();ve.success?(alert("Testdaten erfolgreich eingefgt!"),F()):alert("Fehler: "+ve.error)}catch(W){alert("Fehler: "+W.message)}finally{q(null)}}},B=async W=>{if(confirm(`Tabelle "${W}" wirklich leeren? Diese Aktion kann nicht rckgngig gemacht werden.`)){q(`clear-${W}`);try{const se=await(await fetch(`http://localhost:3002/api/db/truncate/${W}`,{method:"POST"})).json();se.success?(alert(`Tabelle "${W}" wurde geleert.`),F()):alert("Fehler: "+se.error)}catch(oe){alert("Fehler: "+oe.message)}finally{q(null)}}};z.useEffect(()=>{te(),F()},[]),z.useEffect(()=>{n&&H(n)},[n]),z.useEffect(()=>{if(n){ce(n);const W=t.find(oe=>oe.entity_name===n);W&&m({inbound_enabled:W.inbound_enabled,outbound_enabled:W.outbound_enabled,api_key:W.api_key,webhook_url:W.webhook_url,sync_interval_minutes:W.sync_interval_minutes})}},[n,t]);const te=async()=>{d(!0);try{const W=await Cc.dataManager.fetchConfigs();W.success&&W.data&&W.data.length>0?(r(W.data),n||i(W.data[0].entity_name)):(r(zc),n||i(zc[0].entity_name))}catch(W){console.error("Failed to load configs:",W),r(zc),n||i(zc[0].entity_name)}d(!1)},ce=async W=>{const oe=await Cc.dataManager.fetchLogs(W);oe.success&&oe.data&&l(oe.data)},he=async()=>{if(!n)return;v(!0),(await Cc.dataManager.updateConfig(n,h)).success&&await te(),v(!1)},ue=async()=>{if(!(!n||!x))try{const W=JSON.parse(x),oe=t.find(se=>se.entity_name===n),ve=await Cc.dataManager.import(n,Array.isArray(W)?W:[W],oe?.api_key||void 0);ve.success&&ve.data&&(k(ve.data),await ce(n))}catch(W){k({processed:0,failed:1,errors:["Invalid JSON: "+W.message]})}},ae=async()=>{if(!n)return;const W=t.find(ve=>ve.entity_name===n),oe=await Cc.dataManager.export(n,{},W?.api_key||void 0);if(oe.success&&oe.data){const ve=new Blob([JSON.stringify(oe.data,null,2)],{type:"application/json"}),se=URL.createObjectURL(ve),De=document.createElement("a");De.href=se,De.download=`${n}_export_${new Date().toISOString().split("T")[0]}.json`,De.click(),URL.revokeObjectURL(se)}},ge=t.find(W=>W.entity_name===n);return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("h1",{style:{fontSize:"var(--font-size-xl)",fontWeight:"var(--font-weight-semibold)",marginBottom:"var(--space-2)"},children:[a.jsx(Ac,{className:"inline mr-2",size:24}),"Datenmanager"]}),a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:"Konfigurieren Sie die Schnittstellen fr Stamm- und Bewegungsdaten"})]}),a.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[a.jsx("div",{className:"col-span-3",children:a.jsxs("div",{style:{background:"var(--surface-raised)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-default)"},children:[a.jsx("div",{style:{padding:"var(--space-4)",borderBottom:"1px solid var(--border-default)"},children:a.jsx("h2",{style:{fontSize:"var(--font-size-md)",fontWeight:"var(--font-weight-medium)"},children:"Entitten"})}),a.jsx("div",{className:"p-2",children:t.map(W=>a.jsxs("button",{onClick:()=>i(W.entity_name),className:"w-full text-left p-3 rounded-lg mb-1 transition-colors",style:{background:n===W.entity_name?"var(--brand-primary-light)":"transparent",border:n===W.entity_name?"1px solid var(--brand-primary)":"1px solid transparent"},children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:e0[W.entity_name]?.name||W.entity_name}),a.jsx("span",{className:"text-xs px-2 py-0.5 rounded",style:{background:dE[W.data_category].bg,color:"white"},children:dE[W.data_category].label})]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"2px"},children:e0[W.entity_name]?.description}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[W.inbound_enabled&&a.jsxs("span",{className:"flex items-center text-xs",style:{color:"var(--status-success)"},children:[a.jsx(Ia,{size:12,className:"mr-1"})," Inbound"]}),W.outbound_enabled&&a.jsxs("span",{className:"flex items-center text-xs",style:{color:"var(--status-info)"},children:[a.jsx(ws,{size:12,className:"mr-1"})," Outbound"]})]})]},W.entity_name))})]})}),a.jsx("div",{className:"col-span-9",children:ge&&a.jsxs("div",{style:{background:"var(--surface-raised)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-default)"},children:[a.jsx("div",{style:{borderBottom:"1px solid var(--border-default)",padding:"var(--space-2) var(--space-4)"},children:a.jsx("div",{className:"flex gap-2",children:["data","config","logs","import","export","db"].map(W=>a.jsxs("button",{onClick:()=>w(W),className:"px-4 py-2 rounded-lg transition-colors",style:{background:b===W?"var(--brand-primary)":"transparent",color:b===W?"white":"var(--text-primary)"},children:[W==="data"&&a.jsxs(a.Fragment,{children:[a.jsx(Zd,{size:16,className:"inline mr-2"}),"Daten"]}),W==="config"&&a.jsxs(a.Fragment,{children:[a.jsx($c,{size:16,className:"inline mr-2"}),"Konfiguration"]}),W==="logs"&&a.jsxs(a.Fragment,{children:[a.jsx(kE,{size:16,className:"inline mr-2"}),"Sync-Protokoll"]}),W==="import"&&a.jsxs(a.Fragment,{children:[a.jsx(Ia,{size:16,className:"inline mr-2"}),"Import"]}),W==="export"&&a.jsxs(a.Fragment,{children:[a.jsx(ws,{size:16,className:"inline mr-2"}),"Export"]}),W==="db"&&a.jsxs(a.Fragment,{children:[a.jsx(km,{size:16,className:"inline mr-2"}),"DB-Verwaltung"]})]},W))})}),a.jsxs("div",{className:"p-6",children:[b==="data"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(Zd,{size:18,className:"inline mr-2"}),e0[n]?.name||n," - Datenstze (",S.length,")"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>H(n),className:"px-3 py-1 rounded flex items-center gap-1 text-sm",style:{border:"1px solid var(--border-default)"},children:[a.jsx(Pa,{size:14}),"Aktualisieren"]}),a.jsxs("button",{onClick:()=>{const W={id:`new-${Date.now()}`,name:"Neuer Eintrag"};E(W),I(JSON.stringify(W,null,2))},className:"px-3 py-1 rounded flex items-center gap-1 text-sm",style:{background:"var(--brand-primary)",color:"white"},children:[a.jsx(Fa,{size:14}),"Neu"]})]})]}),A?a.jsxs("div",{className:"text-center py-8",style:{color:"var(--text-muted)"},children:[a.jsx(Pa,{size:24,className:"mx-auto mb-2 animate-spin"}),a.jsx("p",{children:"Lade Daten..."})]}):S.length===0?a.jsxs("div",{className:"text-center py-8",style:{color:"var(--text-muted)"},children:[a.jsx(Ac,{size:32,className:"mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"Keine Datenstze vorhanden"})]}):a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:S.map(W=>a.jsxs("div",{className:"p-3 rounded-lg flex items-center justify-between",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"},children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{style:{fontWeight:"var(--font-weight-medium)"},children:W.name||W.title||W.id}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:["ID: ",W.id," ",W.status&&`| Status: ${W.status}`]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>{E(W),I(JSON.stringify(W,null,2))},className:"p-2 rounded hover:bg-gray-100",title:"Bearbeiten",children:a.jsx(Ai,{size:16})}),a.jsx("button",{onClick:()=>$(W.id),className:"p-2 rounded hover:bg-red-50",style:{color:"var(--status-danger)"},title:"Lschen",children:a.jsx(ia,{size:16})})]})]},W.id))}),_&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:_.id?.startsWith("new-")?"Neuer Eintrag":"Eintrag bearbeiten"}),a.jsx("textarea",{value:T,onChange:W=>I(W.target.value),className:"w-full h-64 p-3 rounded-lg font-mono text-sm mb-4",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"}}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>{E(null),I("")},className:"px-4 py-2 rounded-lg",style:{border:"1px solid var(--border-default)"},children:"Abbrechen"}),a.jsxs("button",{onClick:Y,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{background:"var(--brand-primary)",color:"white"},children:[a.jsx(Ds,{size:16}),"Speichern"]})]})]})})]}),b==="config"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{style:{padding:"var(--space-4)",background:"var(--surface-page)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-default)"},children:[a.jsxs("h3",{className:"flex items-center gap-2 mb-4",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(Ia,{size:18,style:{color:"var(--status-success)"}}),"Inbound (Eingehend)"]}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-3)"},children:ge.data_category==="master"?"Stammdaten knnen nur von externen Systemen eingespielt werden":"Daten von externen Systemen empfangen"}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h.inbound_enabled||!1,onChange:W=>m({...h,inbound_enabled:W.target.checked}),className:"w-4 h-4"}),a.jsx("span",{children:"Inbound aktiviert"})]})]}),a.jsxs("div",{style:{padding:"var(--space-4)",background:"var(--surface-page)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-default)"},children:[a.jsxs("h3",{className:"flex items-center gap-2 mb-4",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(ws,{size:18,style:{color:"var(--status-info)"}}),"Outbound (Ausgehend)"]}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginBottom:"var(--space-3)"},children:ge.data_category==="master"?"Stammdaten knnen nicht nach auen bertragen werden":"Daten an externe Systeme senden"}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h.outbound_enabled||!1,onChange:W=>m({...h,outbound_enabled:W.target.checked}),disabled:ge.data_category==="master",className:"w-4 h-4"}),a.jsx("span",{style:{color:ge.data_category==="master"?"var(--text-muted)":"inherit"},children:"Outbound aktiviert"})]}),ge.data_category==="master"&&a.jsxs("div",{className:"mt-2 text-xs flex items-center gap-1",style:{color:"var(--status-warning)"},children:[a.jsx(Ft,{size:12}),"Fr Stammdaten nicht verfgbar"]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 mb-2",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(ML,{size:16}),"API-Schlssel"]}),a.jsx("input",{type:"text",value:h.api_key||"",onChange:W=>m({...h,api_key:W.target.value||null}),placeholder:"Optional: Authentifizierungsschlssel fr API-Zugriffe",className:"w-full px-3 py-2 rounded-lg",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"}})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 mb-2",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(yB,{size:16}),"Webhook URL"]}),a.jsx("input",{type:"url",value:h.webhook_url||"",onChange:W=>m({...h,webhook_url:W.target.value||null}),placeholder:"https://example.com/webhook",className:"w-full px-3 py-2 rounded-lg",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"},disabled:!h.outbound_enabled}),a.jsx("p",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)",marginTop:"var(--space-1)"},children:"Wird bei nderungen an dieser Entitt aufgerufen (nur bei aktiviertem Outbound)"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center gap-2 mb-2",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(Pa,{size:16}),"Sync-Intervall (Minuten)"]}),a.jsx("input",{type:"number",value:h.sync_interval_minutes||"",onChange:W=>m({...h,sync_interval_minutes:W.target.value?parseInt(W.target.value):null}),placeholder:"Optional: Automatisches Sync-Intervall",className:"w-full px-3 py-2 rounded-lg",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"},min:1})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",style:{borderTop:"1px solid var(--border-default)"},children:[a.jsxs("button",{onClick:()=>{const W=t.find(oe=>oe.entity_name===n);W&&m({inbound_enabled:W.inbound_enabled,outbound_enabled:W.outbound_enabled,api_key:W.api_key,webhook_url:W.webhook_url,sync_interval_minutes:W.sync_interval_minutes})},className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{border:"1px solid var(--border-default)"},children:[a.jsx(Pf,{size:16}),"Zurcksetzen"]}),a.jsxs("button",{onClick:he,disabled:f,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{background:"var(--brand-primary)",color:"white"},children:[a.jsx(Ds,{size:16}),f?"Speichern...":"Speichern"]})]})]}),b==="logs"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{style:{fontWeight:"var(--font-weight-medium)"},children:"Synchronisations-Protokoll"}),a.jsxs("button",{onClick:()=>ce(n),className:"px-3 py-1 rounded flex items-center gap-1 text-sm",style:{border:"1px solid var(--border-default)"},children:[a.jsx(Pa,{size:14}),"Aktualisieren"]})]}),o.length===0?a.jsxs("div",{className:"text-center py-8",style:{color:"var(--text-muted)"},children:[a.jsx(Ts,{size:32,className:"mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"Keine Sync-Eintrge vorhanden"})]}):a.jsx("div",{className:"space-y-2",children:o.map(W=>a.jsxs("div",{className:"p-3 rounded-lg flex items-center justify-between",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[W.status==="success"&&a.jsx(Zr,{size:18,style:{color:"var(--status-success)"}}),W.status==="failed"&&a.jsx(t0,{size:18,style:{color:"var(--status-danger)"}}),W.status==="partial"&&a.jsx(Ft,{size:18,style:{color:"var(--status-warning)"}}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{style:{fontWeight:"var(--font-weight-medium)"},children:W.direction==="inbound"?"Import":"Export"}),a.jsx("span",{className:"text-xs px-2 py-0.5 rounded",style:{background:W.status==="success"?"var(--status-success)":W.status==="failed"?"var(--status-danger)":"var(--status-warning)",color:"white"},children:W.status})]}),a.jsxs("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[W.records_processed," verarbeitet, ",W.records_failed," fehlgeschlagen"]}),W.error_message&&a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--status-danger)"},children:W.error_message})]})]}),a.jsx("div",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:new Date(W.started_at).toLocaleString("de-CH")})]},W.id))})]}),b==="import"&&a.jsxs("div",{children:[a.jsxs("h3",{className:"mb-4",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(kL,{size:18,className:"inline mr-2"}),"Daten importieren"]}),ge.inbound_enabled?a.jsxs(a.Fragment,{children:[a.jsx("textarea",{value:x,onChange:W=>y(W.target.value),placeholder:'JSON-Daten hier einfgen, z.B.:\\n[\\n  { "id": "...", "name": "..." }\\n]',className:"w-full h-64 p-3 rounded-lg font-mono text-sm",style:{background:"var(--surface-page)",border:"1px solid var(--border-default)"}}),j&&a.jsxs("div",{className:"mt-4 p-4 rounded-lg",style:{background:j.failed>0?"var(--status-danger-light)":"var(--status-success-light)",border:`1px solid ${j.failed>0?"var(--status-danger)":"var(--status-success)"}`},children:[a.jsxs("p",{style:{fontWeight:"var(--font-weight-medium)"},children:["Import abgeschlossen: ",j.processed," erfolgreich, ",j.failed," fehlgeschlagen"]}),j.errors.length>0&&a.jsx("ul",{className:"mt-2 text-sm",children:j.errors.map((W,oe)=>a.jsx("li",{style:{color:"var(--status-danger)"},children:W},oe))})]}),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsxs("button",{onClick:ue,disabled:!x,className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{background:"var(--brand-primary)",color:"white",opacity:x?1:.5},children:[a.jsx(Ia,{size:16}),"Importieren"]})})]}):a.jsxs("div",{className:"text-center py-8",style:{color:"var(--text-muted)"},children:[a.jsx(Ft,{size:32,className:"mx-auto mb-2",style:{color:"var(--status-warning)"}}),a.jsx("p",{children:"Inbound ist fr diese Entitt deaktiviert"}),a.jsx("p",{className:"text-sm",children:"Aktivieren Sie Inbound in der Konfiguration"})]})]}),b==="export"&&a.jsxs("div",{children:[a.jsxs("h3",{className:"mb-4",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(ws,{size:18,className:"inline mr-2"}),"Daten exportieren"]}),ge.data_category==="master"||!ge.outbound_enabled?a.jsxs("div",{className:"text-center py-8",style:{color:"var(--text-muted)"},children:[a.jsx(Ft,{size:32,className:"mx-auto mb-2",style:{color:"var(--status-warning)"}}),a.jsx("p",{children:ge.data_category==="master"?"Stammdaten knnen nicht exportiert werden":"Outbound ist fr diese Entitt deaktiviert"})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(i2,{size:48,className:"mx-auto mb-4",style:{color:"var(--brand-primary)"}}),a.jsx("p",{className:"mb-4",children:"Exportieren Sie alle Daten dieser Entitt als JSON-Datei"}),a.jsxs("button",{onClick:ae,className:"px-6 py-3 rounded-lg flex items-center gap-2 mx-auto",style:{background:"var(--brand-primary)",color:"white"},children:[a.jsx(Ia,{size:20}),"JSON exportieren"]})]})]}),b==="db"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(km,{size:18,className:"inline mr-2"}),"Datenbank-Verwaltung"]}),a.jsxs("button",{onClick:F,disabled:R.loading,className:"px-3 py-1.5 rounded-lg flex items-center gap-2",style:{background:"var(--surface-subtle)",border:"1px solid var(--border-default)"},children:[a.jsx(Pa,{size:14,className:R.loading?"animate-spin":""}),"Aktualisieren"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{style:{padding:"var(--space-4)",background:"var(--surface-page)",borderRadius:"var(--radius-md)",border:`1px solid ${R.connected?"var(--status-success)":"var(--status-danger)"}`},children:[a.jsxs("h4",{className:"flex items-center gap-2 mb-3",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(Ac,{size:18,style:{color:R.connected?"var(--status-success)":"var(--status-danger)"}}),"PostgreSQL Datenbank"]}),R.loading?a.jsxs("div",{className:"flex items-center gap-2",style:{color:"var(--text-muted)"},children:[a.jsx(Pa,{size:14,className:"animate-spin"})," Verbindung wird geprft..."]}):a.jsxs("div",{style:{fontSize:"var(--font-size-sm)"},children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"Status:"}),a.jsx("span",{className:"flex items-center gap-1",style:{color:R.connected?"var(--status-success)":"var(--status-danger)"},children:R.connected?a.jsxs(a.Fragment,{children:[a.jsx(Zr,{size:14})," Verbunden"]}):a.jsxs(a.Fragment,{children:[a.jsx(t0,{size:14})," Nicht verbunden"]})})]}),R.connected&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"Datenbank:"}),a.jsx("span",{className:"font-mono",children:R.database})]}),a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"Umgebung:"}),a.jsx("span",{children:R.environment})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"Server-Zeit:"}),a.jsx("span",{children:R.serverTime?new Date(R.serverTime).toLocaleString("de-CH"):"-"})]})]}),R.error&&a.jsxs("div",{className:"mt-2 p-2 rounded",style:{background:"var(--status-danger-light)",color:"var(--status-danger)",fontSize:"var(--font-size-xs)"},children:["Fehler: ",R.error]})]})]}),a.jsxs("div",{style:{padding:"var(--space-4)",background:"var(--surface-page)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-default)"},children:[a.jsxs("h4",{className:"flex items-center gap-2 mb-3",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(i2,{size:18,style:{color:"var(--status-info)"}}),"API-Verbindung"]}),a.jsxs("div",{style:{fontSize:"var(--font-size-sm)"},children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"API URL:"}),a.jsx("span",{className:"font-mono text-xs",children:"localhost:3002"})]}),a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{style:{color:"var(--text-muted)"},children:"Modus:"}),a.jsx("span",{style:{color:R.connected?"var(--status-success)":"var(--status-warning)"},children:R.connected?"Live-Datenbank":"Fallback (localStorage)"})]})]})]}),a.jsxs("div",{style:{padding:"var(--space-4)",background:"var(--surface-page)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-default)"},children:[a.jsxs("h4",{className:"flex items-center gap-2 mb-3",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(Zd,{size:18,style:{color:"var(--brand-primary)"}}),"Tabellen-Statistik"]}),R.tables?a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:a.jsx("div",{className:"space-y-2",children:Object.entries(R.tables).map(([W,oe])=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{style:{color:"var(--text-muted)"},children:[W,":"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-mono",children:oe===-1?"":oe}),oe>0&&["allocation_runs","scenarios","exceptions","tasks"].includes(W)&&a.jsx("button",{onClick:()=>B(W),disabled:M===`clear-${W}`,className:"p-1 rounded hover:bg-red-100",style:{color:"var(--status-danger)"},title:"Tabelle leeren",children:M===`clear-${W}`?a.jsx(Pa,{size:12,className:"animate-spin"}):a.jsx(ia,{size:12})})]})]},W))})}):a.jsx("p",{style:{color:"var(--text-muted)",fontSize:"var(--font-size-sm)"},children:R.loading?"Wird geladen...":"Keine Verbindung zur Datenbank"})]}),a.jsxs("div",{style:{padding:"var(--space-4)",background:"var(--surface-page)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-default)"},children:[a.jsxs("h4",{className:"flex items-center gap-2 mb-3",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx($c,{size:18,style:{color:"var(--status-warning)"}}),"Datenbank-Aktionen"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:Q,disabled:!R.connected||M==="migrate",className:"w-full px-4 py-2 rounded-lg flex items-center gap-2 justify-center",style:{background:R.connected?"var(--brand-primary)":"var(--surface-subtle)",color:R.connected?"white":"var(--text-muted)",cursor:R.connected?"pointer":"not-allowed"},children:[M==="migrate"?a.jsx(Pa,{size:16,className:"animate-spin"}):a.jsx(Zd,{size:16}),"1. Tabellen erstellen (Migration)"]}),a.jsxs("button",{onClick:U,disabled:!R.connected||M==="seed",className:"w-full px-4 py-2 rounded-lg flex items-center gap-2 justify-center",style:{background:R.connected?"var(--status-info)":"var(--surface-subtle)",color:R.connected?"white":"var(--text-muted)",cursor:R.connected?"pointer":"not-allowed"},children:[M==="seed"?a.jsx(Pa,{size:16,className:"animate-spin"}):a.jsx(Ac,{size:16}),"2. Testdaten laden (Seed)"]}),a.jsxs("button",{onClick:Z,className:"w-full px-4 py-2 rounded-lg flex items-center gap-2 justify-center",style:{background:"var(--status-warning)",color:"white"},children:[a.jsx(Pf,{size:16}),"Lokale Daten zurcksetzen"]})]})]}),a.jsxs("div",{style:{padding:"var(--space-4)",background:"var(--surface-page)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-default)"},children:[a.jsxs("h4",{className:"flex items-center gap-2 mb-3",style:{fontWeight:"var(--font-weight-medium)"},children:[a.jsx(km,{size:18,style:{color:"var(--text-muted)"}}),"Lokaler Speicher (Browser)"]}),a.jsx("div",{style:{fontSize:"var(--font-size-sm)"},children:a.jsx("div",{className:"space-y-1",children:Object.entries({Stores:"allocation_stores",Runs:"allocation_runs",Exceptions:"allocation_exceptions",Tasks:"allocation_tasks",Scenarios:"allocation_scenarios",Parameters:"allocation_parameters"}).map(([W,oe])=>a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{style:{color:"var(--text-muted)"},children:[W,":"]}),a.jsx("span",{style:{color:localStorage.getItem(oe)?"var(--status-success)":"var(--text-muted)"},children:localStorage.getItem(oe)?"Vorhanden":"Leer"})]},oe))})})]}),a.jsxs("div",{style:{padding:"var(--space-4)",background:"var(--surface-page)",borderRadius:"var(--radius-md)",border:"1px solid var(--status-danger)"},children:[a.jsxs("h4",{className:"flex items-center gap-2 mb-3",style:{fontWeight:"var(--font-weight-medium)",color:"var(--status-danger)"},children:[a.jsx(ia,{size:18}),"Alle lokalen Daten lschen"]}),a.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-muted)",marginBottom:"var(--space-3)"},children:"Lscht alle im Browser gespeicherten Daten. Die Daten werden bei der nchsten Ladung neu vom Server geladen."}),a.jsxs("button",{onClick:()=>{confirm("Wirklich alle lokalen Daten lschen?")&&(localStorage.clear(),alert("Alle lokalen Daten wurden gelscht. Seite wird neu geladen."),window.location.reload())},className:"px-4 py-2 rounded-lg flex items-center gap-2",style:{background:"var(--status-danger)",color:"white"},children:[a.jsx(ia,{size:16}),"Alle Daten lschen"]})]})]})]})]}),ge.last_sync_at&&a.jsx("div",{className:"px-6 py-3",style:{background:"var(--surface-page)",borderTop:"1px solid var(--border-default)"},children:a.jsxs("span",{style:{fontSize:"var(--font-size-xs)",color:"var(--text-muted)"},children:[a.jsx(Ts,{size:12,className:"inline mr-1"}),"Letzte Synchronisation: ",new Date(ge.last_sync_at).toLocaleString("de-CH")]})})]})})]})]})}function qoe(){const[e,t]=z.useState("home"),[r,n]=z.useState(null),[i,o]=z.useState(null),[l,u]=z.useState(""),[d,f]=z.useState("Initial Allocation"),v=(m,b)=>{t(m),m==="runs"&&n(b?.runId||null),b?.variantId&&o(b.variantId),b?.variantName&&u(b.variantName),b?.allocationType&&f(b.allocationType)},h=()=>{switch(e){case"home":return a.jsx(o2,{onNavigate:v});case"settings":return a.jsx(RB,{onNavigate:v});case"parameters":return a.jsx(wte,{});case"capacity":return a.jsx(ote,{onNavigate:v});case"work":return a.jsx(dte,{onNavigate:v});case"runs":return a.jsx(vte,{onNavigate:v,runId:r});case"scenarios":return a.jsx(ioe,{onNavigate:v});case"scenarioManagement":return a.jsx(ooe,{onNavigateToSimulation:(m,b)=>{v(b==="Replenishment"?"replenishmentSimulation":"simulationAnalysis",{variantId:m,variantName:"Optimiert - Hohe Prognosegewichtung",allocationType:b})},onNavigateToExplainability:(m,b)=>v("explainability",{variantId:m,allocationType:b}),onNavigateToAllocationRun:m=>v("runs",{variantId:m})});case"simulationAnalysis":return a.jsx(soe,{variantName:l||"Optimiert - Hohe Prognosegewichtung",onBack:()=>v("scenarioManagement"),onSaveVariant:()=>{v("scenarioManagement")},onNavigateToExplainability:()=>v("explainability",{allocationType:"Initial Allocation"})});case"replenishmentSimulation":return a.jsx(coe,{variantName:l||"NOS Nachschub - Standard",onBack:()=>v("scenarioManagement"),onSaveVariant:()=>{v("scenarioManagement")},onNavigateToExplainability:()=>v("explainability",{allocationType:"Replenishment"})});case"explainability":return a.jsx(foe,{allocationType:d});case"exceptions":return a.jsx(gte,{onNavigate:v});case"analytics":return a.jsx(Ate,{onNavigate:v});case"allocationAnalysis":return a.jsx(Nte,{onNavigate:v});case"storeLayout":return a.jsx(roe,{onNavigate:v});case"cluster":return a.jsx(goe,{onNavigate:v});case"dataManager":return a.jsx(Voe,{onNavigate:v});default:return a.jsx(o2,{onNavigate:v})}};return a.jsx(jB,{currentScreen:e,onNavigate:v,children:h()})}C4.createRoot(document.getElementById("root")).render(a.jsx(I4,{children:a.jsx(qoe,{})}));
